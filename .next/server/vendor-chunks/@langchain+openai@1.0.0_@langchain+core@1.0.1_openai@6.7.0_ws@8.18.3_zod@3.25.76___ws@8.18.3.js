"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3";
exports.ids = ["vendor-chunks/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3"];
exports.modules = {

/***/ "(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/azure/chat_models/common.js":
/*!*****************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/azure/chat_models/common.js ***!
  \*****************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AZURE_ALIASES: () => (/* binding */ AZURE_ALIASES),\n/* harmony export */   AZURE_SECRETS: () => (/* binding */ AZURE_SECRETS),\n/* harmony export */   AZURE_SERIALIZABLE_KEYS: () => (/* binding */ AZURE_SERIALIZABLE_KEYS),\n/* harmony export */   _constructAzureFields: () => (/* binding */ _constructAzureFields),\n/* harmony export */   _getAzureClientOptions: () => (/* binding */ _getAzureClientOptions),\n/* harmony export */   _serializeAzureChat: () => (/* binding */ _serializeAzureChat)\n/* harmony export */ });\n/* harmony import */ var _utils_azure_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/azure.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/azure.js\");\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! openai */ \"(rsc)/./node_modules/.pnpm/openai@6.7.0_ws@8.18.3_zod@3.25.76/node_modules/openai/index.mjs\");\n/* harmony import */ var _langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @langchain/core/utils/env */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/env.js\");\n\n\n\n\n//#region src/azure/chat_models/common.ts\nconst AZURE_ALIASES = {\n\topenAIApiKey: \"openai_api_key\",\n\topenAIApiVersion: \"openai_api_version\",\n\topenAIBasePath: \"openai_api_base\",\n\tdeploymentName: \"deployment_name\",\n\tazureOpenAIEndpoint: \"azure_endpoint\",\n\tazureOpenAIApiVersion: \"openai_api_version\",\n\tazureOpenAIBasePath: \"openai_api_base\",\n\tazureOpenAIApiDeploymentName: \"deployment_name\"\n};\nconst AZURE_SECRETS = { azureOpenAIApiKey: \"AZURE_OPENAI_API_KEY\" };\nconst AZURE_SERIALIZABLE_KEYS = [\n\t\"azureOpenAIApiKey\",\n\t\"azureOpenAIApiVersion\",\n\t\"azureOpenAIBasePath\",\n\t\"azureOpenAIEndpoint\",\n\t\"azureOpenAIApiInstanceName\",\n\t\"azureOpenAIApiDeploymentName\",\n\t\"deploymentName\",\n\t\"openAIApiKey\",\n\t\"openAIApiVersion\"\n];\nfunction _constructAzureFields(fields) {\n\tthis.azureOpenAIApiKey = fields?.azureOpenAIApiKey ?? fields?.openAIApiKey ?? fields?.apiKey ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_2__.getEnvironmentVariable)(\"AZURE_OPENAI_API_KEY\");\n\tthis.azureOpenAIApiInstanceName = fields?.azureOpenAIApiInstanceName ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_2__.getEnvironmentVariable)(\"AZURE_OPENAI_API_INSTANCE_NAME\");\n\tthis.azureOpenAIApiDeploymentName = fields?.azureOpenAIApiDeploymentName ?? fields?.deploymentName ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_2__.getEnvironmentVariable)(\"AZURE_OPENAI_API_DEPLOYMENT_NAME\");\n\tthis.azureOpenAIApiVersion = fields?.azureOpenAIApiVersion ?? fields?.openAIApiVersion ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_2__.getEnvironmentVariable)(\"AZURE_OPENAI_API_VERSION\");\n\tthis.azureOpenAIBasePath = fields?.azureOpenAIBasePath ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_2__.getEnvironmentVariable)(\"AZURE_OPENAI_BASE_PATH\");\n\tthis.azureOpenAIEndpoint = fields?.azureOpenAIEndpoint ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_2__.getEnvironmentVariable)(\"AZURE_OPENAI_ENDPOINT\");\n\tthis.azureADTokenProvider = fields?.azureADTokenProvider;\n\tif (!this.azureOpenAIApiKey && !this.apiKey && !this.azureADTokenProvider) throw new Error(\"Azure OpenAI API key or Token Provider not found\");\n}\nfunction _getAzureClientOptions(options) {\n\tif (!this.client) {\n\t\tconst openAIEndpointConfig = {\n\t\t\tazureOpenAIApiDeploymentName: this.azureOpenAIApiDeploymentName,\n\t\t\tazureOpenAIApiInstanceName: this.azureOpenAIApiInstanceName,\n\t\t\tazureOpenAIApiKey: this.azureOpenAIApiKey,\n\t\t\tazureOpenAIBasePath: this.azureOpenAIBasePath,\n\t\t\tazureADTokenProvider: this.azureADTokenProvider,\n\t\t\tbaseURL: this.clientConfig.baseURL,\n\t\t\tazureOpenAIEndpoint: this.azureOpenAIEndpoint\n\t\t};\n\t\tconst endpoint = (0,_utils_azure_js__WEBPACK_IMPORTED_MODULE_0__.getEndpoint)(openAIEndpointConfig);\n\t\tconst params = {\n\t\t\t...this.clientConfig,\n\t\t\tbaseURL: endpoint,\n\t\t\ttimeout: this.timeout,\n\t\t\tmaxRetries: 0\n\t\t};\n\t\tif (!this.azureADTokenProvider) params.apiKey = openAIEndpointConfig.azureOpenAIApiKey;\n\t\tif (!params.baseURL) delete params.baseURL;\n\t\tlet env = (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_2__.getEnv)();\n\t\tif (env === \"node\" || env === \"deno\") env = `(${env}/${process.version}; ${process.platform}; ${process.arch})`;\n\t\tconst defaultHeaders = (0,_utils_azure_js__WEBPACK_IMPORTED_MODULE_0__.normalizeHeaders)(params.defaultHeaders);\n\t\tparams.defaultHeaders = {\n\t\t\t...params.defaultHeaders,\n\t\t\t\"User-Agent\": defaultHeaders[\"User-Agent\"] ? `langchainjs-azure-openai/2.0.0 (${env})${defaultHeaders[\"User-Agent\"]}` : `langchainjs-azure-openai/2.0.0 (${env})`\n\t\t};\n\t\tthis.client = new openai__WEBPACK_IMPORTED_MODULE_1__.AzureOpenAI({\n\t\t\tapiVersion: this.azureOpenAIApiVersion,\n\t\t\tazureADTokenProvider: this.azureADTokenProvider,\n\t\t\tdeployment: this.azureOpenAIApiDeploymentName,\n\t\t\t...params\n\t\t});\n\t}\n\tconst requestOptions = {\n\t\t...this.clientConfig,\n\t\t...options\n\t};\n\tif (this.azureOpenAIApiKey) {\n\t\trequestOptions.headers = {\n\t\t\t\"api-key\": this.azureOpenAIApiKey,\n\t\t\t...requestOptions.headers\n\t\t};\n\t\trequestOptions.query = {\n\t\t\t\"api-version\": this.azureOpenAIApiVersion,\n\t\t\t...requestOptions.query\n\t\t};\n\t}\n\treturn requestOptions;\n}\nfunction _serializeAzureChat(input) {\n\tconst json = input;\n\tfunction isRecord(obj) {\n\t\treturn typeof obj === \"object\" && obj != null;\n\t}\n\tif (isRecord(json) && isRecord(json.kwargs)) {\n\t\tdelete json.kwargs.azure_openai_base_path;\n\t\tdelete json.kwargs.azure_openai_api_deployment_name;\n\t\tdelete json.kwargs.azure_openai_api_key;\n\t\tdelete json.kwargs.azure_openai_api_version;\n\t\tdelete json.kwargs.azure_open_ai_base_path;\n\t\tif (!json.kwargs.azure_endpoint && this.azureOpenAIEndpoint) json.kwargs.azure_endpoint = this.azureOpenAIEndpoint;\n\t\tif (!json.kwargs.azure_endpoint && this.azureOpenAIBasePath) {\n\t\t\tconst parts = this.azureOpenAIBasePath.split(\"/openai/deployments/\");\n\t\t\tif (parts.length === 2 && parts[0].startsWith(\"http\")) {\n\t\t\t\tconst [endpoint] = parts;\n\t\t\t\tjson.kwargs.azure_endpoint = endpoint;\n\t\t\t}\n\t\t}\n\t\tif (!json.kwargs.azure_endpoint && this.azureOpenAIApiInstanceName) json.kwargs.azure_endpoint = `https://${this.azureOpenAIApiInstanceName}.openai.azure.com/`;\n\t\tif (!json.kwargs.deployment_name && this.azureOpenAIApiDeploymentName) json.kwargs.deployment_name = this.azureOpenAIApiDeploymentName;\n\t\tif (!json.kwargs.deployment_name && this.azureOpenAIBasePath) {\n\t\t\tconst parts = this.azureOpenAIBasePath.split(\"/openai/deployments/\");\n\t\t\tif (parts.length === 2) {\n\t\t\t\tconst [, deployment] = parts;\n\t\t\t\tjson.kwargs.deployment_name = deployment;\n\t\t\t}\n\t\t}\n\t\tif (json.kwargs.azure_endpoint && json.kwargs.deployment_name && json.kwargs.openai_api_base) delete json.kwargs.openai_api_base;\n\t\tif (json.kwargs.azure_openai_api_instance_name && json.kwargs.azure_endpoint) delete json.kwargs.azure_openai_api_instance_name;\n\t}\n\treturn json;\n}\n\n//#endregion\n\n//# sourceMappingURL=common.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvcGVuYWlAMS4wLjBfQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfX193c0A4LjE4LjMvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvYXp1cmUvY2hhdF9tb2RlbHMvY29tbW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFxRTtBQUNoQztBQUNzQzs7QUFFM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpR0FBaUcsaUZBQXNCO0FBQ3ZILHlFQUF5RSxpRkFBc0I7QUFDL0YsdUdBQXVHLGlGQUFzQjtBQUM3SCwyRkFBMkYsaUZBQXNCO0FBQ2pILDJEQUEyRCxpRkFBc0I7QUFDakYsMkRBQTJELGlGQUFzQjtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDREQUFXO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGlFQUFNO0FBQ2xCLGtEQUFrRCxJQUFJLEdBQUcsa0JBQWtCLEVBQUUsbUJBQW1CLEVBQUUsYUFBYTtBQUMvRyx5QkFBeUIsaUVBQWdCO0FBQ3pDO0FBQ0E7QUFDQSxtRkFBbUYsSUFBSSxHQUFHLDZCQUE2Qix1Q0FBdUMsSUFBSTtBQUNsSztBQUNBLG9CQUFvQiwrQ0FBVztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4R0FBOEcsZ0NBQWdDO0FBQzlJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3FJO0FBQ3JJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvcGVuYWlAMS4wLjBfQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfX193c0A4LjE4LjMvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvYXp1cmUvY2hhdF9tb2RlbHMvY29tbW9uLmpzPzI5MzciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0RW5kcG9pbnQsIG5vcm1hbGl6ZUhlYWRlcnMgfSBmcm9tIFwiLi4vLi4vdXRpbHMvYXp1cmUuanNcIjtcbmltcG9ydCB7IEF6dXJlT3BlbkFJIH0gZnJvbSBcIm9wZW5haVwiO1xuaW1wb3J0IHsgZ2V0RW52LCBnZXRFbnZpcm9ubWVudFZhcmlhYmxlIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS91dGlscy9lbnZcIjtcblxuLy8jcmVnaW9uIHNyYy9henVyZS9jaGF0X21vZGVscy9jb21tb24udHNcbmNvbnN0IEFaVVJFX0FMSUFTRVMgPSB7XG5cdG9wZW5BSUFwaUtleTogXCJvcGVuYWlfYXBpX2tleVwiLFxuXHRvcGVuQUlBcGlWZXJzaW9uOiBcIm9wZW5haV9hcGlfdmVyc2lvblwiLFxuXHRvcGVuQUlCYXNlUGF0aDogXCJvcGVuYWlfYXBpX2Jhc2VcIixcblx0ZGVwbG95bWVudE5hbWU6IFwiZGVwbG95bWVudF9uYW1lXCIsXG5cdGF6dXJlT3BlbkFJRW5kcG9pbnQ6IFwiYXp1cmVfZW5kcG9pbnRcIixcblx0YXp1cmVPcGVuQUlBcGlWZXJzaW9uOiBcIm9wZW5haV9hcGlfdmVyc2lvblwiLFxuXHRhenVyZU9wZW5BSUJhc2VQYXRoOiBcIm9wZW5haV9hcGlfYmFzZVwiLFxuXHRhenVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lOiBcImRlcGxveW1lbnRfbmFtZVwiXG59O1xuY29uc3QgQVpVUkVfU0VDUkVUUyA9IHsgYXp1cmVPcGVuQUlBcGlLZXk6IFwiQVpVUkVfT1BFTkFJX0FQSV9LRVlcIiB9O1xuY29uc3QgQVpVUkVfU0VSSUFMSVpBQkxFX0tFWVMgPSBbXG5cdFwiYXp1cmVPcGVuQUlBcGlLZXlcIixcblx0XCJhenVyZU9wZW5BSUFwaVZlcnNpb25cIixcblx0XCJhenVyZU9wZW5BSUJhc2VQYXRoXCIsXG5cdFwiYXp1cmVPcGVuQUlFbmRwb2ludFwiLFxuXHRcImF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lXCIsXG5cdFwiYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZVwiLFxuXHRcImRlcGxveW1lbnROYW1lXCIsXG5cdFwib3BlbkFJQXBpS2V5XCIsXG5cdFwib3BlbkFJQXBpVmVyc2lvblwiXG5dO1xuZnVuY3Rpb24gX2NvbnN0cnVjdEF6dXJlRmllbGRzKGZpZWxkcykge1xuXHR0aGlzLmF6dXJlT3BlbkFJQXBpS2V5ID0gZmllbGRzPy5henVyZU9wZW5BSUFwaUtleSA/PyBmaWVsZHM/Lm9wZW5BSUFwaUtleSA/PyBmaWVsZHM/LmFwaUtleSA/PyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9LRVlcIik7XG5cdHRoaXMuYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWUgPSBmaWVsZHM/LmF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lID8/IGdldEVudmlyb25tZW50VmFyaWFibGUoXCJBWlVSRV9PUEVOQUlfQVBJX0lOU1RBTkNFX05BTUVcIik7XG5cdHRoaXMuYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSA9IGZpZWxkcz8uYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSA/PyBmaWVsZHM/LmRlcGxveW1lbnROYW1lID8/IGdldEVudmlyb25tZW50VmFyaWFibGUoXCJBWlVSRV9PUEVOQUlfQVBJX0RFUExPWU1FTlRfTkFNRVwiKTtcblx0dGhpcy5henVyZU9wZW5BSUFwaVZlcnNpb24gPSBmaWVsZHM/LmF6dXJlT3BlbkFJQXBpVmVyc2lvbiA/PyBmaWVsZHM/Lm9wZW5BSUFwaVZlcnNpb24gPz8gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9BUElfVkVSU0lPTlwiKTtcblx0dGhpcy5henVyZU9wZW5BSUJhc2VQYXRoID0gZmllbGRzPy5henVyZU9wZW5BSUJhc2VQYXRoID8/IGdldEVudmlyb25tZW50VmFyaWFibGUoXCJBWlVSRV9PUEVOQUlfQkFTRV9QQVRIXCIpO1xuXHR0aGlzLmF6dXJlT3BlbkFJRW5kcG9pbnQgPSBmaWVsZHM/LmF6dXJlT3BlbkFJRW5kcG9pbnQgPz8gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9FTkRQT0lOVFwiKTtcblx0dGhpcy5henVyZUFEVG9rZW5Qcm92aWRlciA9IGZpZWxkcz8uYXp1cmVBRFRva2VuUHJvdmlkZXI7XG5cdGlmICghdGhpcy5henVyZU9wZW5BSUFwaUtleSAmJiAhdGhpcy5hcGlLZXkgJiYgIXRoaXMuYXp1cmVBRFRva2VuUHJvdmlkZXIpIHRocm93IG5ldyBFcnJvcihcIkF6dXJlIE9wZW5BSSBBUEkga2V5IG9yIFRva2VuIFByb3ZpZGVyIG5vdCBmb3VuZFwiKTtcbn1cbmZ1bmN0aW9uIF9nZXRBenVyZUNsaWVudE9wdGlvbnMob3B0aW9ucykge1xuXHRpZiAoIXRoaXMuY2xpZW50KSB7XG5cdFx0Y29uc3Qgb3BlbkFJRW5kcG9pbnRDb25maWcgPSB7XG5cdFx0XHRhenVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lOiB0aGlzLmF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWUsXG5cdFx0XHRhenVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZTogdGhpcy5henVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZSxcblx0XHRcdGF6dXJlT3BlbkFJQXBpS2V5OiB0aGlzLmF6dXJlT3BlbkFJQXBpS2V5LFxuXHRcdFx0YXp1cmVPcGVuQUlCYXNlUGF0aDogdGhpcy5henVyZU9wZW5BSUJhc2VQYXRoLFxuXHRcdFx0YXp1cmVBRFRva2VuUHJvdmlkZXI6IHRoaXMuYXp1cmVBRFRva2VuUHJvdmlkZXIsXG5cdFx0XHRiYXNlVVJMOiB0aGlzLmNsaWVudENvbmZpZy5iYXNlVVJMLFxuXHRcdFx0YXp1cmVPcGVuQUlFbmRwb2ludDogdGhpcy5henVyZU9wZW5BSUVuZHBvaW50XG5cdFx0fTtcblx0XHRjb25zdCBlbmRwb2ludCA9IGdldEVuZHBvaW50KG9wZW5BSUVuZHBvaW50Q29uZmlnKTtcblx0XHRjb25zdCBwYXJhbXMgPSB7XG5cdFx0XHQuLi50aGlzLmNsaWVudENvbmZpZyxcblx0XHRcdGJhc2VVUkw6IGVuZHBvaW50LFxuXHRcdFx0dGltZW91dDogdGhpcy50aW1lb3V0LFxuXHRcdFx0bWF4UmV0cmllczogMFxuXHRcdH07XG5cdFx0aWYgKCF0aGlzLmF6dXJlQURUb2tlblByb3ZpZGVyKSBwYXJhbXMuYXBpS2V5ID0gb3BlbkFJRW5kcG9pbnRDb25maWcuYXp1cmVPcGVuQUlBcGlLZXk7XG5cdFx0aWYgKCFwYXJhbXMuYmFzZVVSTCkgZGVsZXRlIHBhcmFtcy5iYXNlVVJMO1xuXHRcdGxldCBlbnYgPSBnZXRFbnYoKTtcblx0XHRpZiAoZW52ID09PSBcIm5vZGVcIiB8fCBlbnYgPT09IFwiZGVub1wiKSBlbnYgPSBgKCR7ZW52fS8ke3Byb2Nlc3MudmVyc2lvbn07ICR7cHJvY2Vzcy5wbGF0Zm9ybX07ICR7cHJvY2Vzcy5hcmNofSlgO1xuXHRcdGNvbnN0IGRlZmF1bHRIZWFkZXJzID0gbm9ybWFsaXplSGVhZGVycyhwYXJhbXMuZGVmYXVsdEhlYWRlcnMpO1xuXHRcdHBhcmFtcy5kZWZhdWx0SGVhZGVycyA9IHtcblx0XHRcdC4uLnBhcmFtcy5kZWZhdWx0SGVhZGVycyxcblx0XHRcdFwiVXNlci1BZ2VudFwiOiBkZWZhdWx0SGVhZGVyc1tcIlVzZXItQWdlbnRcIl0gPyBgbGFuZ2NoYWluanMtYXp1cmUtb3BlbmFpLzIuMC4wICgke2Vudn0pJHtkZWZhdWx0SGVhZGVyc1tcIlVzZXItQWdlbnRcIl19YCA6IGBsYW5nY2hhaW5qcy1henVyZS1vcGVuYWkvMi4wLjAgKCR7ZW52fSlgXG5cdFx0fTtcblx0XHR0aGlzLmNsaWVudCA9IG5ldyBBenVyZU9wZW5BSSh7XG5cdFx0XHRhcGlWZXJzaW9uOiB0aGlzLmF6dXJlT3BlbkFJQXBpVmVyc2lvbixcblx0XHRcdGF6dXJlQURUb2tlblByb3ZpZGVyOiB0aGlzLmF6dXJlQURUb2tlblByb3ZpZGVyLFxuXHRcdFx0ZGVwbG95bWVudDogdGhpcy5henVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lLFxuXHRcdFx0Li4ucGFyYW1zXG5cdFx0fSk7XG5cdH1cblx0Y29uc3QgcmVxdWVzdE9wdGlvbnMgPSB7XG5cdFx0Li4udGhpcy5jbGllbnRDb25maWcsXG5cdFx0Li4ub3B0aW9uc1xuXHR9O1xuXHRpZiAodGhpcy5henVyZU9wZW5BSUFwaUtleSkge1xuXHRcdHJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSB7XG5cdFx0XHRcImFwaS1rZXlcIjogdGhpcy5henVyZU9wZW5BSUFwaUtleSxcblx0XHRcdC4uLnJlcXVlc3RPcHRpb25zLmhlYWRlcnNcblx0XHR9O1xuXHRcdHJlcXVlc3RPcHRpb25zLnF1ZXJ5ID0ge1xuXHRcdFx0XCJhcGktdmVyc2lvblwiOiB0aGlzLmF6dXJlT3BlbkFJQXBpVmVyc2lvbixcblx0XHRcdC4uLnJlcXVlc3RPcHRpb25zLnF1ZXJ5XG5cdFx0fTtcblx0fVxuXHRyZXR1cm4gcmVxdWVzdE9wdGlvbnM7XG59XG5mdW5jdGlvbiBfc2VyaWFsaXplQXp1cmVDaGF0KGlucHV0KSB7XG5cdGNvbnN0IGpzb24gPSBpbnB1dDtcblx0ZnVuY3Rpb24gaXNSZWNvcmQob2JqKSB7XG5cdFx0cmV0dXJuIHR5cGVvZiBvYmogPT09IFwib2JqZWN0XCIgJiYgb2JqICE9IG51bGw7XG5cdH1cblx0aWYgKGlzUmVjb3JkKGpzb24pICYmIGlzUmVjb3JkKGpzb24ua3dhcmdzKSkge1xuXHRcdGRlbGV0ZSBqc29uLmt3YXJncy5henVyZV9vcGVuYWlfYmFzZV9wYXRoO1xuXHRcdGRlbGV0ZSBqc29uLmt3YXJncy5henVyZV9vcGVuYWlfYXBpX2RlcGxveW1lbnRfbmFtZTtcblx0XHRkZWxldGUganNvbi5rd2FyZ3MuYXp1cmVfb3BlbmFpX2FwaV9rZXk7XG5cdFx0ZGVsZXRlIGpzb24ua3dhcmdzLmF6dXJlX29wZW5haV9hcGlfdmVyc2lvbjtcblx0XHRkZWxldGUganNvbi5rd2FyZ3MuYXp1cmVfb3Blbl9haV9iYXNlX3BhdGg7XG5cdFx0aWYgKCFqc29uLmt3YXJncy5henVyZV9lbmRwb2ludCAmJiB0aGlzLmF6dXJlT3BlbkFJRW5kcG9pbnQpIGpzb24ua3dhcmdzLmF6dXJlX2VuZHBvaW50ID0gdGhpcy5henVyZU9wZW5BSUVuZHBvaW50O1xuXHRcdGlmICghanNvbi5rd2FyZ3MuYXp1cmVfZW5kcG9pbnQgJiYgdGhpcy5henVyZU9wZW5BSUJhc2VQYXRoKSB7XG5cdFx0XHRjb25zdCBwYXJ0cyA9IHRoaXMuYXp1cmVPcGVuQUlCYXNlUGF0aC5zcGxpdChcIi9vcGVuYWkvZGVwbG95bWVudHMvXCIpO1xuXHRcdFx0aWYgKHBhcnRzLmxlbmd0aCA9PT0gMiAmJiBwYXJ0c1swXS5zdGFydHNXaXRoKFwiaHR0cFwiKSkge1xuXHRcdFx0XHRjb25zdCBbZW5kcG9pbnRdID0gcGFydHM7XG5cdFx0XHRcdGpzb24ua3dhcmdzLmF6dXJlX2VuZHBvaW50ID0gZW5kcG9pbnQ7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmICghanNvbi5rd2FyZ3MuYXp1cmVfZW5kcG9pbnQgJiYgdGhpcy5henVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZSkganNvbi5rd2FyZ3MuYXp1cmVfZW5kcG9pbnQgPSBgaHR0cHM6Ly8ke3RoaXMuYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWV9Lm9wZW5haS5henVyZS5jb20vYDtcblx0XHRpZiAoIWpzb24ua3dhcmdzLmRlcGxveW1lbnRfbmFtZSAmJiB0aGlzLmF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWUpIGpzb24ua3dhcmdzLmRlcGxveW1lbnRfbmFtZSA9IHRoaXMuYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZTtcblx0XHRpZiAoIWpzb24ua3dhcmdzLmRlcGxveW1lbnRfbmFtZSAmJiB0aGlzLmF6dXJlT3BlbkFJQmFzZVBhdGgpIHtcblx0XHRcdGNvbnN0IHBhcnRzID0gdGhpcy5henVyZU9wZW5BSUJhc2VQYXRoLnNwbGl0KFwiL29wZW5haS9kZXBsb3ltZW50cy9cIik7XG5cdFx0XHRpZiAocGFydHMubGVuZ3RoID09PSAyKSB7XG5cdFx0XHRcdGNvbnN0IFssIGRlcGxveW1lbnRdID0gcGFydHM7XG5cdFx0XHRcdGpzb24ua3dhcmdzLmRlcGxveW1lbnRfbmFtZSA9IGRlcGxveW1lbnQ7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChqc29uLmt3YXJncy5henVyZV9lbmRwb2ludCAmJiBqc29uLmt3YXJncy5kZXBsb3ltZW50X25hbWUgJiYganNvbi5rd2FyZ3Mub3BlbmFpX2FwaV9iYXNlKSBkZWxldGUganNvbi5rd2FyZ3Mub3BlbmFpX2FwaV9iYXNlO1xuXHRcdGlmIChqc29uLmt3YXJncy5henVyZV9vcGVuYWlfYXBpX2luc3RhbmNlX25hbWUgJiYganNvbi5rd2FyZ3MuYXp1cmVfZW5kcG9pbnQpIGRlbGV0ZSBqc29uLmt3YXJncy5henVyZV9vcGVuYWlfYXBpX2luc3RhbmNlX25hbWU7XG5cdH1cblx0cmV0dXJuIGpzb247XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQVpVUkVfQUxJQVNFUywgQVpVUkVfU0VDUkVUUywgQVpVUkVfU0VSSUFMSVpBQkxFX0tFWVMsIF9jb25zdHJ1Y3RBenVyZUZpZWxkcywgX2dldEF6dXJlQ2xpZW50T3B0aW9ucywgX3NlcmlhbGl6ZUF6dXJlQ2hhdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tbW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/azure/chat_models/common.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/azure/chat_models/completions.js":
/*!**********************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/azure/chat_models/completions.js ***!
  \**********************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AzureChatOpenAICompletions: () => (/* binding */ AzureChatOpenAICompletions)\n/* harmony export */ });\n/* harmony import */ var _chat_models_completions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chat_models/completions.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/chat_models/completions.js\");\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./common.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/azure/chat_models/common.js\");\n\n\n\n//#region src/azure/chat_models/completions.ts\nvar AzureChatOpenAICompletions = class extends _chat_models_completions_js__WEBPACK_IMPORTED_MODULE_0__.ChatOpenAICompletions {\n\tazureOpenAIApiVersion;\n\tazureOpenAIApiKey;\n\tazureADTokenProvider;\n\tazureOpenAIApiInstanceName;\n\tazureOpenAIApiDeploymentName;\n\tazureOpenAIBasePath;\n\tazureOpenAIEndpoint;\n\t_llmType() {\n\t\treturn \"azure_openai\";\n\t}\n\tget lc_aliases() {\n\t\treturn {\n\t\t\t...super.lc_aliases,\n\t\t\t..._common_js__WEBPACK_IMPORTED_MODULE_1__.AZURE_ALIASES\n\t\t};\n\t}\n\tget lc_secrets() {\n\t\treturn {\n\t\t\t...super.lc_secrets,\n\t\t\t..._common_js__WEBPACK_IMPORTED_MODULE_1__.AZURE_SECRETS\n\t\t};\n\t}\n\tget lc_serializable_keys() {\n\t\treturn [...super.lc_serializable_keys, ..._common_js__WEBPACK_IMPORTED_MODULE_1__.AZURE_SERIALIZABLE_KEYS];\n\t}\n\tgetLsParams(options) {\n\t\tconst params = super.getLsParams(options);\n\t\tparams.ls_provider = \"azure\";\n\t\treturn params;\n\t}\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\t_common_js__WEBPACK_IMPORTED_MODULE_1__._constructAzureFields.call(this, fields);\n\t}\n\t_getClientOptions(options) {\n\t\treturn _common_js__WEBPACK_IMPORTED_MODULE_1__._getAzureClientOptions.call(this, options);\n\t}\n\ttoJSON() {\n\t\treturn _common_js__WEBPACK_IMPORTED_MODULE_1__._serializeAzureChat.call(this, super.toJSON());\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=completions.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvcGVuYWlAMS4wLjBfQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfX193c0A4LjE4LjMvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvYXp1cmUvY2hhdF9tb2RlbHMvY29tcGxldGlvbnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXlFO0FBQytFOztBQUV4SjtBQUNBLCtDQUErQyw4RUFBcUI7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLHFEQUFhO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLHFEQUFhO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QywrREFBdUI7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsNkRBQXFCO0FBQ3ZCO0FBQ0E7QUFDQSxTQUFTLDhEQUFzQjtBQUMvQjtBQUNBO0FBQ0EsU0FBUywyREFBbUI7QUFDNUI7QUFDQTs7QUFFQTtBQUNzQztBQUN0QyIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rb3BlbmFpQDEuMC4wX0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2X19fd3NAOC4xOC4zL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L2F6dXJlL2NoYXRfbW9kZWxzL2NvbXBsZXRpb25zLmpzP2ZmNDEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2hhdE9wZW5BSUNvbXBsZXRpb25zIH0gZnJvbSBcIi4uLy4uL2NoYXRfbW9kZWxzL2NvbXBsZXRpb25zLmpzXCI7XG5pbXBvcnQgeyBBWlVSRV9BTElBU0VTLCBBWlVSRV9TRUNSRVRTLCBBWlVSRV9TRVJJQUxJWkFCTEVfS0VZUywgX2NvbnN0cnVjdEF6dXJlRmllbGRzLCBfZ2V0QXp1cmVDbGllbnRPcHRpb25zLCBfc2VyaWFsaXplQXp1cmVDaGF0IH0gZnJvbSBcIi4vY29tbW9uLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvYXp1cmUvY2hhdF9tb2RlbHMvY29tcGxldGlvbnMudHNcbnZhciBBenVyZUNoYXRPcGVuQUlDb21wbGV0aW9ucyA9IGNsYXNzIGV4dGVuZHMgQ2hhdE9wZW5BSUNvbXBsZXRpb25zIHtcblx0YXp1cmVPcGVuQUlBcGlWZXJzaW9uO1xuXHRhenVyZU9wZW5BSUFwaUtleTtcblx0YXp1cmVBRFRva2VuUHJvdmlkZXI7XG5cdGF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lO1xuXHRhenVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lO1xuXHRhenVyZU9wZW5BSUJhc2VQYXRoO1xuXHRhenVyZU9wZW5BSUVuZHBvaW50O1xuXHRfbGxtVHlwZSgpIHtcblx0XHRyZXR1cm4gXCJhenVyZV9vcGVuYWlcIjtcblx0fVxuXHRnZXQgbGNfYWxpYXNlcygpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Li4uc3VwZXIubGNfYWxpYXNlcyxcblx0XHRcdC4uLkFaVVJFX0FMSUFTRVNcblx0XHR9O1xuXHR9XG5cdGdldCBsY19zZWNyZXRzKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHQuLi5zdXBlci5sY19zZWNyZXRzLFxuXHRcdFx0Li4uQVpVUkVfU0VDUkVUU1xuXHRcdH07XG5cdH1cblx0Z2V0IGxjX3NlcmlhbGl6YWJsZV9rZXlzKCkge1xuXHRcdHJldHVybiBbLi4uc3VwZXIubGNfc2VyaWFsaXphYmxlX2tleXMsIC4uLkFaVVJFX1NFUklBTElaQUJMRV9LRVlTXTtcblx0fVxuXHRnZXRMc1BhcmFtcyhvcHRpb25zKSB7XG5cdFx0Y29uc3QgcGFyYW1zID0gc3VwZXIuZ2V0THNQYXJhbXMob3B0aW9ucyk7XG5cdFx0cGFyYW1zLmxzX3Byb3ZpZGVyID0gXCJhenVyZVwiO1xuXHRcdHJldHVybiBwYXJhbXM7XG5cdH1cblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHRfY29uc3RydWN0QXp1cmVGaWVsZHMuY2FsbCh0aGlzLCBmaWVsZHMpO1xuXHR9XG5cdF9nZXRDbGllbnRPcHRpb25zKG9wdGlvbnMpIHtcblx0XHRyZXR1cm4gX2dldEF6dXJlQ2xpZW50T3B0aW9ucy5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXHR9XG5cdHRvSlNPTigpIHtcblx0XHRyZXR1cm4gX3NlcmlhbGl6ZUF6dXJlQ2hhdC5jYWxsKHRoaXMsIHN1cGVyLnRvSlNPTigpKTtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBBenVyZUNoYXRPcGVuQUlDb21wbGV0aW9ucyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcGxldGlvbnMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/azure/chat_models/completions.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/azure/chat_models/index.js":
/*!****************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/azure/chat_models/index.js ***!
  \****************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AzureChatOpenAI: () => (/* binding */ AzureChatOpenAI)\n/* harmony export */ });\n/* harmony import */ var _chat_models_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chat_models/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/chat_models/index.js\");\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./common.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/azure/chat_models/common.js\");\n/* harmony import */ var _completions_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./completions.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/azure/chat_models/completions.js\");\n/* harmony import */ var _responses_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./responses.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/azure/chat_models/responses.js\");\n\n\n\n\n\n//#region src/azure/chat_models/index.ts\n/**\n* Azure OpenAI chat model integration.\n*\n* Setup:\n* Install `@langchain/openai` and set the following environment variables:\n*\n* ```bash\n* npm install @langchain/openai\n* export AZURE_OPENAI_API_KEY=\"your-api-key\"\n* export AZURE_OPENAI_API_DEPLOYMENT_NAME=\"your-deployment-name\"\n* export AZURE_OPENAI_API_VERSION=\"your-version\"\n* export AZURE_OPENAI_BASE_PATH=\"your-base-path\"\n* ```\n*\n* ## [Constructor args](https://api.js.langchain.com/classes/langchain_openai.AzureChatOpenAI.html#constructor)\n*\n* ## [Runtime args](https://api.js.langchain.com/interfaces/langchain_openai.ChatOpenAICallOptions.html)\n*\n* Runtime args can be passed as the second argument to any of the base runnable methods `.invoke`. `.stream`, `.batch`, etc.\n* They can also be passed via `.withConfig`, or the second arg in `.bindTools`, like shown in the examples below:\n*\n* ```typescript\n* // When calling `.withConfig`, call options should be passed via the first argument\n* const llmWithArgsBound = llm.withConfig({\n*   stop: [\"\\n\"],\n*   tools: [...],\n* });\n*\n* // When calling `.bindTools`, call options should be passed via the second argument\n* const llmWithTools = llm.bindTools(\n*   [...],\n*   {\n*     tool_choice: \"auto\",\n*   }\n* );\n* ```\n*\n* ## Examples\n*\n* <details open>\n* <summary><strong>Instantiate</strong></summary>\n*\n* ```typescript\n* import { AzureChatOpenAI } from '@langchain/openai';\n*\n* const llm = new AzureChatOpenAI({\n*   azureOpenAIApiKey: process.env.AZURE_OPENAI_API_KEY, // In Node.js defaults to process.env.AZURE_OPENAI_API_KEY\n*   azureOpenAIApiInstanceName: process.env.AZURE_OPENAI_API_INSTANCE_NAME, // In Node.js defaults to process.env.AZURE_OPENAI_API_INSTANCE_NAME\n*   azureOpenAIApiDeploymentName: process.env.AZURE_OPENAI_API_DEPLOYMENT_NAME, // In Node.js defaults to process.env.AZURE_OPENAI_API_DEPLOYMENT_NAME\n*   azureOpenAIApiVersion: process.env.AZURE_OPENAI_API_VERSION, // In Node.js defaults to process.env.AZURE_OPENAI_API_VERSION\n*   temperature: 0,\n*   maxTokens: undefined,\n*   timeout: undefined,\n*   maxRetries: 2,\n*   // apiKey: \"...\",\n*   // baseUrl: \"...\",\n*   // other params...\n* });\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Invoking</strong></summary>\n*\n* ```typescript\n* const input = `Translate \"I love programming\" into French.`;\n*\n* // Models also accept a list of chat messages or a formatted prompt\n* const result = await llm.invoke(input);\n* console.log(result);\n* ```\n*\n* ```txt\n* AIMessage {\n*   \"id\": \"chatcmpl-9u4Mpu44CbPjwYFkTbeoZgvzB00Tz\",\n*   \"content\": \"J'adore la programmation.\",\n*   \"response_metadata\": {\n*     \"tokenUsage\": {\n*       \"completionTokens\": 5,\n*       \"promptTokens\": 28,\n*       \"totalTokens\": 33\n*     },\n*     \"finish_reason\": \"stop\",\n*     \"system_fingerprint\": \"fp_3aa7262c27\"\n*   },\n*   \"usage_metadata\": {\n*     \"input_tokens\": 28,\n*     \"output_tokens\": 5,\n*     \"total_tokens\": 33\n*   }\n* }\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Streaming Chunks</strong></summary>\n*\n* ```typescript\n* for await (const chunk of await llm.stream(input)) {\n*   console.log(chunk);\n* }\n* ```\n*\n* ```txt\n* AIMessageChunk {\n*   \"id\": \"chatcmpl-9u4NWB7yUeHCKdLr6jP3HpaOYHTqs\",\n*   \"content\": \"\"\n* }\n* AIMessageChunk {\n*   \"content\": \"J\"\n* }\n* AIMessageChunk {\n*   \"content\": \"'adore\"\n* }\n* AIMessageChunk {\n*   \"content\": \" la\"\n* }\n* AIMessageChunk {\n*   \"content\": \" programmation\",,\n* }\n* AIMessageChunk {\n*   \"content\": \".\",,\n* }\n* AIMessageChunk {\n*   \"content\": \"\",\n*   \"response_metadata\": {\n*     \"finish_reason\": \"stop\",\n*     \"system_fingerprint\": \"fp_c9aa9c0491\"\n*   },\n* }\n* AIMessageChunk {\n*   \"content\": \"\",\n*   \"usage_metadata\": {\n*     \"input_tokens\": 28,\n*     \"output_tokens\": 5,\n*     \"total_tokens\": 33\n*   }\n* }\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Aggregate Streamed Chunks</strong></summary>\n*\n* ```typescript\n* import { AIMessageChunk } from '@langchain/core/messages';\n* import { concat } from '@langchain/core/utils/stream';\n*\n* const stream = await llm.stream(input);\n* let full: AIMessageChunk | undefined;\n* for await (const chunk of stream) {\n*   full = !full ? chunk : concat(full, chunk);\n* }\n* console.log(full);\n* ```\n*\n* ```txt\n* AIMessageChunk {\n*   \"id\": \"chatcmpl-9u4PnX6Fy7OmK46DASy0bH6cxn5Xu\",\n*   \"content\": \"J'adore la programmation.\",\n*   \"response_metadata\": {\n*     \"prompt\": 0,\n*     \"completion\": 0,\n*     \"finish_reason\": \"stop\",\n*   },\n*   \"usage_metadata\": {\n*     \"input_tokens\": 28,\n*     \"output_tokens\": 5,\n*     \"total_tokens\": 33\n*   }\n* }\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Bind tools</strong></summary>\n*\n* ```typescript\n* import { z } from 'zod';\n*\n* const GetWeather = {\n*   name: \"GetWeather\",\n*   description: \"Get the current weather in a given location\",\n*   schema: z.object({\n*     location: z.string().describe(\"The city and state, e.g. San Francisco, CA\")\n*   }),\n* }\n*\n* const GetPopulation = {\n*   name: \"GetPopulation\",\n*   description: \"Get the current population in a given location\",\n*   schema: z.object({\n*     location: z.string().describe(\"The city and state, e.g. San Francisco, CA\")\n*   }),\n* }\n*\n* const llmWithTools = llm.bindTools([GetWeather, GetPopulation]);\n* const aiMsg = await llmWithTools.invoke(\n*   \"Which city is hotter today and which is bigger: LA or NY?\"\n* );\n* console.log(aiMsg.tool_calls);\n* ```\n*\n* ```txt\n* [\n*   {\n*     name: 'GetWeather',\n*     args: { location: 'Los Angeles, CA' },\n*     type: 'tool_call',\n*     id: 'call_uPU4FiFzoKAtMxfmPnfQL6UK'\n*   },\n*   {\n*     name: 'GetWeather',\n*     args: { location: 'New York, NY' },\n*     type: 'tool_call',\n*     id: 'call_UNkEwuQsHrGYqgDQuH9nPAtX'\n*   },\n*   {\n*     name: 'GetPopulation',\n*     args: { location: 'Los Angeles, CA' },\n*     type: 'tool_call',\n*     id: 'call_kL3OXxaq9OjIKqRTpvjaCH14'\n*   },\n*   {\n*     name: 'GetPopulation',\n*     args: { location: 'New York, NY' },\n*     type: 'tool_call',\n*     id: 'call_s9KQB1UWj45LLGaEnjz0179q'\n*   }\n* ]\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Structured Output</strong></summary>\n*\n* ```typescript\n* import { z } from 'zod';\n*\n* const Joke = z.object({\n*   setup: z.string().describe(\"The setup of the joke\"),\n*   punchline: z.string().describe(\"The punchline to the joke\"),\n*   rating: z.number().nullable().describe(\"How funny the joke is, from 1 to 10\")\n* }).describe('Joke to tell user.');\n*\n* const structuredLlm = llm.withStructuredOutput(Joke, { name: \"Joke\" });\n* const jokeResult = await structuredLlm.invoke(\"Tell me a joke about cats\");\n* console.log(jokeResult);\n* ```\n*\n* ```txt\n* {\n*   setup: 'Why was the cat sitting on the computer?',\n*   punchline: 'Because it wanted to keep an eye on the mouse!',\n*   rating: 7\n* }\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>JSON Object Response Format</strong></summary>\n*\n* ```typescript\n* const jsonLlm = llm.withConfig({ response_format: { type: \"json_object\" } });\n* const jsonLlmAiMsg = await jsonLlm.invoke(\n*   \"Return a JSON object with key 'randomInts' and a value of 10 random ints in [0-99]\"\n* );\n* console.log(jsonLlmAiMsg.content);\n* ```\n*\n* ```txt\n* {\n*   \"randomInts\": [23, 87, 45, 12, 78, 34, 56, 90, 11, 67]\n* }\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Multimodal</strong></summary>\n*\n* ```typescript\n* import { HumanMessage } from '@langchain/core/messages';\n*\n* const imageUrl = \"https://example.com/image.jpg\";\n* const imageData = await fetch(imageUrl).then(res => res.arrayBuffer());\n* const base64Image = Buffer.from(imageData).toString('base64');\n*\n* const message = new HumanMessage({\n*   content: [\n*     { type: \"text\", text: \"describe the weather in this image\" },\n*     {\n*       type: \"image_url\",\n*       image_url: { url: `data:image/jpeg;base64,${base64Image}` },\n*     },\n*   ]\n* });\n*\n* const imageDescriptionAiMsg = await llm.invoke([message]);\n* console.log(imageDescriptionAiMsg.content);\n* ```\n*\n* ```txt\n* The weather in the image appears to be clear and sunny. The sky is mostly blue with a few scattered white clouds, indicating fair weather. The bright sunlight is casting shadows on the green, grassy hill, suggesting it is a pleasant day with good visibility. There are no signs of rain or stormy conditions.\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Usage Metadata</strong></summary>\n*\n* ```typescript\n* const aiMsgForMetadata = await llm.invoke(input);\n* console.log(aiMsgForMetadata.usage_metadata);\n* ```\n*\n* ```txt\n* { input_tokens: 28, output_tokens: 5, total_tokens: 33 }\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Logprobs</strong></summary>\n*\n* ```typescript\n* const logprobsLlm = new ChatOpenAI({ model: \"gpt-4o-mini\", logprobs: true });\n* const aiMsgForLogprobs = await logprobsLlm.invoke(input);\n* console.log(aiMsgForLogprobs.response_metadata.logprobs);\n* ```\n*\n* ```txt\n* {\n*   content: [\n*     {\n*       token: 'J',\n*       logprob: -0.000050616763,\n*       bytes: [Array],\n*       top_logprobs: []\n*     },\n*     {\n*       token: \"'\",\n*       logprob: -0.01868736,\n*       bytes: [Array],\n*       top_logprobs: []\n*     },\n*     {\n*       token: 'ad',\n*       logprob: -0.0000030545007,\n*       bytes: [Array],\n*       top_logprobs: []\n*     },\n*     { token: 'ore', logprob: 0, bytes: [Array], top_logprobs: [] },\n*     {\n*       token: ' la',\n*       logprob: -0.515404,\n*       bytes: [Array],\n*       top_logprobs: []\n*     },\n*     {\n*       token: ' programm',\n*       logprob: -0.0000118755715,\n*       bytes: [Array],\n*       top_logprobs: []\n*     },\n*     { token: 'ation', logprob: 0, bytes: [Array], top_logprobs: [] },\n*     {\n*       token: '.',\n*       logprob: -0.0000037697225,\n*       bytes: [Array],\n*       top_logprobs: []\n*     }\n*   ],\n*   refusal: null\n* }\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Response Metadata</strong></summary>\n*\n* ```typescript\n* const aiMsgForResponseMetadata = await llm.invoke(input);\n* console.log(aiMsgForResponseMetadata.response_metadata);\n* ```\n*\n* ```txt\n* {\n*   tokenUsage: { completionTokens: 5, promptTokens: 28, totalTokens: 33 },\n*   finish_reason: 'stop',\n*   system_fingerprint: 'fp_3aa7262c27'\n* }\n* ```\n* </details>\n*/\nvar AzureChatOpenAI = class extends _chat_models_index_js__WEBPACK_IMPORTED_MODULE_0__.ChatOpenAI {\n\tazureOpenAIApiVersion;\n\tazureOpenAIApiKey;\n\tazureADTokenProvider;\n\tazureOpenAIApiInstanceName;\n\tazureOpenAIApiDeploymentName;\n\tazureOpenAIBasePath;\n\tazureOpenAIEndpoint;\n\t_llmType() {\n\t\treturn \"azure_openai\";\n\t}\n\tget lc_aliases() {\n\t\treturn {\n\t\t\t...super.lc_aliases,\n\t\t\t..._common_js__WEBPACK_IMPORTED_MODULE_1__.AZURE_ALIASES\n\t\t};\n\t}\n\tget lc_secrets() {\n\t\treturn {\n\t\t\t...super.lc_secrets,\n\t\t\t..._common_js__WEBPACK_IMPORTED_MODULE_1__.AZURE_SECRETS\n\t\t};\n\t}\n\tget lc_serializable_keys() {\n\t\treturn [...super.lc_serializable_keys, ..._common_js__WEBPACK_IMPORTED_MODULE_1__.AZURE_SERIALIZABLE_KEYS];\n\t}\n\tgetLsParams(options) {\n\t\tconst params = super.getLsParams(options);\n\t\tparams.ls_provider = \"azure\";\n\t\treturn params;\n\t}\n\tconstructor(fields) {\n\t\tsuper({\n\t\t\t...fields,\n\t\t\tcompletions: new _completions_js__WEBPACK_IMPORTED_MODULE_2__.AzureChatOpenAICompletions(fields),\n\t\t\tresponses: new _responses_js__WEBPACK_IMPORTED_MODULE_3__.AzureChatOpenAIResponses(fields)\n\t\t});\n\t\t_common_js__WEBPACK_IMPORTED_MODULE_1__._constructAzureFields.call(this, fields);\n\t}\n\t/** @internal */\n\t_getStructuredOutputMethod(config) {\n\t\tconst ensuredConfig = { ...config };\n\t\tif (this.model.startsWith(\"gpt-4o\")) {\n\t\t\tif (ensuredConfig?.method === void 0) return \"functionCalling\";\n\t\t}\n\t\treturn super._getStructuredOutputMethod(ensuredConfig);\n\t}\n\ttoJSON() {\n\t\treturn _common_js__WEBPACK_IMPORTED_MODULE_1__._serializeAzureChat.call(this, super.toJSON());\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvcGVuYWlAMS4wLjBfQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfX193c0A4LjE4LjMvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvYXp1cmUvY2hhdF9tb2RlbHMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBd0Q7QUFDd0U7QUFDbEU7QUFDSjs7QUFFMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxrQkFBa0I7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpQkFBaUI7QUFDNUIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxJQUFJO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyw2QkFBNkI7QUFDM0M7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsY0FBYywwQkFBMEI7QUFDeEM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsY0FBYyw2QkFBNkI7QUFDM0M7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsY0FBYywwQkFBMEI7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLElBQUk7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EseURBQXlELGNBQWM7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsbUJBQW1CLHVCQUF1QjtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZUFBZTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsMERBQTBEO0FBQ2xFO0FBQ0E7QUFDQSxxQkFBcUIsc0JBQXNCLFNBQVMsWUFBWSxHQUFHO0FBQ25FLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLHNDQUFzQztBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLFFBQVEsNERBQTREO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxRQUFRLDhEQUE4RDtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isd0RBQXdEO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyw2REFBVTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0scURBQWE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0scURBQWE7QUFDbkI7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLCtEQUF1QjtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsdUVBQTBCO0FBQzlDLGtCQUFrQixtRUFBd0I7QUFDMUMsR0FBRztBQUNILEVBQUUsNkRBQXFCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDJEQUFtQjtBQUM1QjtBQUNBOztBQUVBO0FBQzJCO0FBQzNCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvcGVuYWlAMS4wLjBfQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfX193c0A4LjE4LjMvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvYXp1cmUvY2hhdF9tb2RlbHMvaW5kZXguanM/NDFmZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDaGF0T3BlbkFJIH0gZnJvbSBcIi4uLy4uL2NoYXRfbW9kZWxzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBBWlVSRV9BTElBU0VTLCBBWlVSRV9TRUNSRVRTLCBBWlVSRV9TRVJJQUxJWkFCTEVfS0VZUywgX2NvbnN0cnVjdEF6dXJlRmllbGRzLCBfc2VyaWFsaXplQXp1cmVDaGF0IH0gZnJvbSBcIi4vY29tbW9uLmpzXCI7XG5pbXBvcnQgeyBBenVyZUNoYXRPcGVuQUlDb21wbGV0aW9ucyB9IGZyb20gXCIuL2NvbXBsZXRpb25zLmpzXCI7XG5pbXBvcnQgeyBBenVyZUNoYXRPcGVuQUlSZXNwb25zZXMgfSBmcm9tIFwiLi9yZXNwb25zZXMuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9henVyZS9jaGF0X21vZGVscy9pbmRleC50c1xuLyoqXG4qIEF6dXJlIE9wZW5BSSBjaGF0IG1vZGVsIGludGVncmF0aW9uLlxuKlxuKiBTZXR1cDpcbiogSW5zdGFsbCBgQGxhbmdjaGFpbi9vcGVuYWlgIGFuZCBzZXQgdGhlIGZvbGxvd2luZyBlbnZpcm9ubWVudCB2YXJpYWJsZXM6XG4qXG4qIGBgYGJhc2hcbiogbnBtIGluc3RhbGwgQGxhbmdjaGFpbi9vcGVuYWlcbiogZXhwb3J0IEFaVVJFX09QRU5BSV9BUElfS0VZPVwieW91ci1hcGkta2V5XCJcbiogZXhwb3J0IEFaVVJFX09QRU5BSV9BUElfREVQTE9ZTUVOVF9OQU1FPVwieW91ci1kZXBsb3ltZW50LW5hbWVcIlxuKiBleHBvcnQgQVpVUkVfT1BFTkFJX0FQSV9WRVJTSU9OPVwieW91ci12ZXJzaW9uXCJcbiogZXhwb3J0IEFaVVJFX09QRU5BSV9CQVNFX1BBVEg9XCJ5b3VyLWJhc2UtcGF0aFwiXG4qIGBgYFxuKlxuKiAjIyBbQ29uc3RydWN0b3IgYXJnc10oaHR0cHM6Ly9hcGkuanMubGFuZ2NoYWluLmNvbS9jbGFzc2VzL2xhbmdjaGFpbl9vcGVuYWkuQXp1cmVDaGF0T3BlbkFJLmh0bWwjY29uc3RydWN0b3IpXG4qXG4qICMjIFtSdW50aW1lIGFyZ3NdKGh0dHBzOi8vYXBpLmpzLmxhbmdjaGFpbi5jb20vaW50ZXJmYWNlcy9sYW5nY2hhaW5fb3BlbmFpLkNoYXRPcGVuQUlDYWxsT3B0aW9ucy5odG1sKVxuKlxuKiBSdW50aW1lIGFyZ3MgY2FuIGJlIHBhc3NlZCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IHRvIGFueSBvZiB0aGUgYmFzZSBydW5uYWJsZSBtZXRob2RzIGAuaW52b2tlYC4gYC5zdHJlYW1gLCBgLmJhdGNoYCwgZXRjLlxuKiBUaGV5IGNhbiBhbHNvIGJlIHBhc3NlZCB2aWEgYC53aXRoQ29uZmlnYCwgb3IgdGhlIHNlY29uZCBhcmcgaW4gYC5iaW5kVG9vbHNgLCBsaWtlIHNob3duIGluIHRoZSBleGFtcGxlcyBiZWxvdzpcbipcbiogYGBgdHlwZXNjcmlwdFxuKiAvLyBXaGVuIGNhbGxpbmcgYC53aXRoQ29uZmlnYCwgY2FsbCBvcHRpb25zIHNob3VsZCBiZSBwYXNzZWQgdmlhIHRoZSBmaXJzdCBhcmd1bWVudFxuKiBjb25zdCBsbG1XaXRoQXJnc0JvdW5kID0gbGxtLndpdGhDb25maWcoe1xuKiAgIHN0b3A6IFtcIlxcblwiXSxcbiogICB0b29sczogWy4uLl0sXG4qIH0pO1xuKlxuKiAvLyBXaGVuIGNhbGxpbmcgYC5iaW5kVG9vbHNgLCBjYWxsIG9wdGlvbnMgc2hvdWxkIGJlIHBhc3NlZCB2aWEgdGhlIHNlY29uZCBhcmd1bWVudFxuKiBjb25zdCBsbG1XaXRoVG9vbHMgPSBsbG0uYmluZFRvb2xzKFxuKiAgIFsuLi5dLFxuKiAgIHtcbiogICAgIHRvb2xfY2hvaWNlOiBcImF1dG9cIixcbiogICB9XG4qICk7XG4qIGBgYFxuKlxuKiAjIyBFeGFtcGxlc1xuKlxuKiA8ZGV0YWlscyBvcGVuPlxuKiA8c3VtbWFyeT48c3Ryb25nPkluc3RhbnRpYXRlPC9zdHJvbmc+PC9zdW1tYXJ5PlxuKlxuKiBgYGB0eXBlc2NyaXB0XG4qIGltcG9ydCB7IEF6dXJlQ2hhdE9wZW5BSSB9IGZyb20gJ0BsYW5nY2hhaW4vb3BlbmFpJztcbipcbiogY29uc3QgbGxtID0gbmV3IEF6dXJlQ2hhdE9wZW5BSSh7XG4qICAgYXp1cmVPcGVuQUlBcGlLZXk6IHByb2Nlc3MuZW52LkFaVVJFX09QRU5BSV9BUElfS0VZLCAvLyBJbiBOb2RlLmpzIGRlZmF1bHRzIHRvIHByb2Nlc3MuZW52LkFaVVJFX09QRU5BSV9BUElfS0VZXG4qICAgYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWU6IHByb2Nlc3MuZW52LkFaVVJFX09QRU5BSV9BUElfSU5TVEFOQ0VfTkFNRSwgLy8gSW4gTm9kZS5qcyBkZWZhdWx0cyB0byBwcm9jZXNzLmVudi5BWlVSRV9PUEVOQUlfQVBJX0lOU1RBTkNFX05BTUVcbiogICBhenVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lOiBwcm9jZXNzLmVudi5BWlVSRV9PUEVOQUlfQVBJX0RFUExPWU1FTlRfTkFNRSwgLy8gSW4gTm9kZS5qcyBkZWZhdWx0cyB0byBwcm9jZXNzLmVudi5BWlVSRV9PUEVOQUlfQVBJX0RFUExPWU1FTlRfTkFNRVxuKiAgIGF6dXJlT3BlbkFJQXBpVmVyc2lvbjogcHJvY2Vzcy5lbnYuQVpVUkVfT1BFTkFJX0FQSV9WRVJTSU9OLCAvLyBJbiBOb2RlLmpzIGRlZmF1bHRzIHRvIHByb2Nlc3MuZW52LkFaVVJFX09QRU5BSV9BUElfVkVSU0lPTlxuKiAgIHRlbXBlcmF0dXJlOiAwLFxuKiAgIG1heFRva2VuczogdW5kZWZpbmVkLFxuKiAgIHRpbWVvdXQ6IHVuZGVmaW5lZCxcbiogICBtYXhSZXRyaWVzOiAyLFxuKiAgIC8vIGFwaUtleTogXCIuLi5cIixcbiogICAvLyBiYXNlVXJsOiBcIi4uLlwiLFxuKiAgIC8vIG90aGVyIHBhcmFtcy4uLlxuKiB9KTtcbiogYGBgXG4qIDwvZGV0YWlscz5cbipcbiogPGJyIC8+XG4qXG4qIDxkZXRhaWxzPlxuKiA8c3VtbWFyeT48c3Ryb25nPkludm9raW5nPC9zdHJvbmc+PC9zdW1tYXJ5PlxuKlxuKiBgYGB0eXBlc2NyaXB0XG4qIGNvbnN0IGlucHV0ID0gYFRyYW5zbGF0ZSBcIkkgbG92ZSBwcm9ncmFtbWluZ1wiIGludG8gRnJlbmNoLmA7XG4qXG4qIC8vIE1vZGVscyBhbHNvIGFjY2VwdCBhIGxpc3Qgb2YgY2hhdCBtZXNzYWdlcyBvciBhIGZvcm1hdHRlZCBwcm9tcHRcbiogY29uc3QgcmVzdWx0ID0gYXdhaXQgbGxtLmludm9rZShpbnB1dCk7XG4qIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4qIGBgYFxuKlxuKiBgYGB0eHRcbiogQUlNZXNzYWdlIHtcbiogICBcImlkXCI6IFwiY2hhdGNtcGwtOXU0TXB1NDRDYlBqd1lGa1RiZW9aZ3Z6QjAwVHpcIixcbiogICBcImNvbnRlbnRcIjogXCJKJ2Fkb3JlIGxhIHByb2dyYW1tYXRpb24uXCIsXG4qICAgXCJyZXNwb25zZV9tZXRhZGF0YVwiOiB7XG4qICAgICBcInRva2VuVXNhZ2VcIjoge1xuKiAgICAgICBcImNvbXBsZXRpb25Ub2tlbnNcIjogNSxcbiogICAgICAgXCJwcm9tcHRUb2tlbnNcIjogMjgsXG4qICAgICAgIFwidG90YWxUb2tlbnNcIjogMzNcbiogICAgIH0sXG4qICAgICBcImZpbmlzaF9yZWFzb25cIjogXCJzdG9wXCIsXG4qICAgICBcInN5c3RlbV9maW5nZXJwcmludFwiOiBcImZwXzNhYTcyNjJjMjdcIlxuKiAgIH0sXG4qICAgXCJ1c2FnZV9tZXRhZGF0YVwiOiB7XG4qICAgICBcImlucHV0X3Rva2Vuc1wiOiAyOCxcbiogICAgIFwib3V0cHV0X3Rva2Vuc1wiOiA1LFxuKiAgICAgXCJ0b3RhbF90b2tlbnNcIjogMzNcbiogICB9XG4qIH1cbiogYGBgXG4qIDwvZGV0YWlscz5cbipcbiogPGJyIC8+XG4qXG4qIDxkZXRhaWxzPlxuKiA8c3VtbWFyeT48c3Ryb25nPlN0cmVhbWluZyBDaHVua3M8L3N0cm9uZz48L3N1bW1hcnk+XG4qXG4qIGBgYHR5cGVzY3JpcHRcbiogZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBhd2FpdCBsbG0uc3RyZWFtKGlucHV0KSkge1xuKiAgIGNvbnNvbGUubG9nKGNodW5rKTtcbiogfVxuKiBgYGBcbipcbiogYGBgdHh0XG4qIEFJTWVzc2FnZUNodW5rIHtcbiogICBcImlkXCI6IFwiY2hhdGNtcGwtOXU0TldCN3lVZUhDS2RMcjZqUDNIcGFPWUhUcXNcIixcbiogICBcImNvbnRlbnRcIjogXCJcIlxuKiB9XG4qIEFJTWVzc2FnZUNodW5rIHtcbiogICBcImNvbnRlbnRcIjogXCJKXCJcbiogfVxuKiBBSU1lc3NhZ2VDaHVuayB7XG4qICAgXCJjb250ZW50XCI6IFwiJ2Fkb3JlXCJcbiogfVxuKiBBSU1lc3NhZ2VDaHVuayB7XG4qICAgXCJjb250ZW50XCI6IFwiIGxhXCJcbiogfVxuKiBBSU1lc3NhZ2VDaHVuayB7XG4qICAgXCJjb250ZW50XCI6IFwiIHByb2dyYW1tYXRpb25cIiwsXG4qIH1cbiogQUlNZXNzYWdlQ2h1bmsge1xuKiAgIFwiY29udGVudFwiOiBcIi5cIiwsXG4qIH1cbiogQUlNZXNzYWdlQ2h1bmsge1xuKiAgIFwiY29udGVudFwiOiBcIlwiLFxuKiAgIFwicmVzcG9uc2VfbWV0YWRhdGFcIjoge1xuKiAgICAgXCJmaW5pc2hfcmVhc29uXCI6IFwic3RvcFwiLFxuKiAgICAgXCJzeXN0ZW1fZmluZ2VycHJpbnRcIjogXCJmcF9jOWFhOWMwNDkxXCJcbiogICB9LFxuKiB9XG4qIEFJTWVzc2FnZUNodW5rIHtcbiogICBcImNvbnRlbnRcIjogXCJcIixcbiogICBcInVzYWdlX21ldGFkYXRhXCI6IHtcbiogICAgIFwiaW5wdXRfdG9rZW5zXCI6IDI4LFxuKiAgICAgXCJvdXRwdXRfdG9rZW5zXCI6IDUsXG4qICAgICBcInRvdGFsX3Rva2Vuc1wiOiAzM1xuKiAgIH1cbiogfVxuKiBgYGBcbiogPC9kZXRhaWxzPlxuKlxuKiA8YnIgLz5cbipcbiogPGRldGFpbHM+XG4qIDxzdW1tYXJ5PjxzdHJvbmc+QWdncmVnYXRlIFN0cmVhbWVkIENodW5rczwvc3Ryb25nPjwvc3VtbWFyeT5cbipcbiogYGBgdHlwZXNjcmlwdFxuKiBpbXBvcnQgeyBBSU1lc3NhZ2VDaHVuayB9IGZyb20gJ0BsYW5nY2hhaW4vY29yZS9tZXNzYWdlcyc7XG4qIGltcG9ydCB7IGNvbmNhdCB9IGZyb20gJ0BsYW5nY2hhaW4vY29yZS91dGlscy9zdHJlYW0nO1xuKlxuKiBjb25zdCBzdHJlYW0gPSBhd2FpdCBsbG0uc3RyZWFtKGlucHV0KTtcbiogbGV0IGZ1bGw6IEFJTWVzc2FnZUNodW5rIHwgdW5kZWZpbmVkO1xuKiBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHN0cmVhbSkge1xuKiAgIGZ1bGwgPSAhZnVsbCA/IGNodW5rIDogY29uY2F0KGZ1bGwsIGNodW5rKTtcbiogfVxuKiBjb25zb2xlLmxvZyhmdWxsKTtcbiogYGBgXG4qXG4qIGBgYHR4dFxuKiBBSU1lc3NhZ2VDaHVuayB7XG4qICAgXCJpZFwiOiBcImNoYXRjbXBsLTl1NFBuWDZGeTdPbUs0NkRBU3kwYkg2Y3huNVh1XCIsXG4qICAgXCJjb250ZW50XCI6IFwiSidhZG9yZSBsYSBwcm9ncmFtbWF0aW9uLlwiLFxuKiAgIFwicmVzcG9uc2VfbWV0YWRhdGFcIjoge1xuKiAgICAgXCJwcm9tcHRcIjogMCxcbiogICAgIFwiY29tcGxldGlvblwiOiAwLFxuKiAgICAgXCJmaW5pc2hfcmVhc29uXCI6IFwic3RvcFwiLFxuKiAgIH0sXG4qICAgXCJ1c2FnZV9tZXRhZGF0YVwiOiB7XG4qICAgICBcImlucHV0X3Rva2Vuc1wiOiAyOCxcbiogICAgIFwib3V0cHV0X3Rva2Vuc1wiOiA1LFxuKiAgICAgXCJ0b3RhbF90b2tlbnNcIjogMzNcbiogICB9XG4qIH1cbiogYGBgXG4qIDwvZGV0YWlscz5cbipcbiogPGJyIC8+XG4qXG4qIDxkZXRhaWxzPlxuKiA8c3VtbWFyeT48c3Ryb25nPkJpbmQgdG9vbHM8L3N0cm9uZz48L3N1bW1hcnk+XG4qXG4qIGBgYHR5cGVzY3JpcHRcbiogaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG4qXG4qIGNvbnN0IEdldFdlYXRoZXIgPSB7XG4qICAgbmFtZTogXCJHZXRXZWF0aGVyXCIsXG4qICAgZGVzY3JpcHRpb246IFwiR2V0IHRoZSBjdXJyZW50IHdlYXRoZXIgaW4gYSBnaXZlbiBsb2NhdGlvblwiLFxuKiAgIHNjaGVtYTogei5vYmplY3Qoe1xuKiAgICAgbG9jYXRpb246IHouc3RyaW5nKCkuZGVzY3JpYmUoXCJUaGUgY2l0eSBhbmQgc3RhdGUsIGUuZy4gU2FuIEZyYW5jaXNjbywgQ0FcIilcbiogICB9KSxcbiogfVxuKlxuKiBjb25zdCBHZXRQb3B1bGF0aW9uID0ge1xuKiAgIG5hbWU6IFwiR2V0UG9wdWxhdGlvblwiLFxuKiAgIGRlc2NyaXB0aW9uOiBcIkdldCB0aGUgY3VycmVudCBwb3B1bGF0aW9uIGluIGEgZ2l2ZW4gbG9jYXRpb25cIixcbiogICBzY2hlbWE6IHoub2JqZWN0KHtcbiogICAgIGxvY2F0aW9uOiB6LnN0cmluZygpLmRlc2NyaWJlKFwiVGhlIGNpdHkgYW5kIHN0YXRlLCBlLmcuIFNhbiBGcmFuY2lzY28sIENBXCIpXG4qICAgfSksXG4qIH1cbipcbiogY29uc3QgbGxtV2l0aFRvb2xzID0gbGxtLmJpbmRUb29scyhbR2V0V2VhdGhlciwgR2V0UG9wdWxhdGlvbl0pO1xuKiBjb25zdCBhaU1zZyA9IGF3YWl0IGxsbVdpdGhUb29scy5pbnZva2UoXG4qICAgXCJXaGljaCBjaXR5IGlzIGhvdHRlciB0b2RheSBhbmQgd2hpY2ggaXMgYmlnZ2VyOiBMQSBvciBOWT9cIlxuKiApO1xuKiBjb25zb2xlLmxvZyhhaU1zZy50b29sX2NhbGxzKTtcbiogYGBgXG4qXG4qIGBgYHR4dFxuKiBbXG4qICAge1xuKiAgICAgbmFtZTogJ0dldFdlYXRoZXInLFxuKiAgICAgYXJnczogeyBsb2NhdGlvbjogJ0xvcyBBbmdlbGVzLCBDQScgfSxcbiogICAgIHR5cGU6ICd0b29sX2NhbGwnLFxuKiAgICAgaWQ6ICdjYWxsX3VQVTRGaUZ6b0tBdE14Zm1QbmZRTDZVSydcbiogICB9LFxuKiAgIHtcbiogICAgIG5hbWU6ICdHZXRXZWF0aGVyJyxcbiogICAgIGFyZ3M6IHsgbG9jYXRpb246ICdOZXcgWW9yaywgTlknIH0sXG4qICAgICB0eXBlOiAndG9vbF9jYWxsJyxcbiogICAgIGlkOiAnY2FsbF9VTmtFd3VRc0hyR1lxZ0RRdUg5blBBdFgnXG4qICAgfSxcbiogICB7XG4qICAgICBuYW1lOiAnR2V0UG9wdWxhdGlvbicsXG4qICAgICBhcmdzOiB7IGxvY2F0aW9uOiAnTG9zIEFuZ2VsZXMsIENBJyB9LFxuKiAgICAgdHlwZTogJ3Rvb2xfY2FsbCcsXG4qICAgICBpZDogJ2NhbGxfa0wzT1h4YXE5T2pJS3FSVHB2amFDSDE0J1xuKiAgIH0sXG4qICAge1xuKiAgICAgbmFtZTogJ0dldFBvcHVsYXRpb24nLFxuKiAgICAgYXJnczogeyBsb2NhdGlvbjogJ05ldyBZb3JrLCBOWScgfSxcbiogICAgIHR5cGU6ICd0b29sX2NhbGwnLFxuKiAgICAgaWQ6ICdjYWxsX3M5S1FCMVVXajQ1TExHYUVuanowMTc5cSdcbiogICB9XG4qIF1cbiogYGBgXG4qIDwvZGV0YWlscz5cbipcbiogPGJyIC8+XG4qXG4qIDxkZXRhaWxzPlxuKiA8c3VtbWFyeT48c3Ryb25nPlN0cnVjdHVyZWQgT3V0cHV0PC9zdHJvbmc+PC9zdW1tYXJ5PlxuKlxuKiBgYGB0eXBlc2NyaXB0XG4qIGltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xuKlxuKiBjb25zdCBKb2tlID0gei5vYmplY3Qoe1xuKiAgIHNldHVwOiB6LnN0cmluZygpLmRlc2NyaWJlKFwiVGhlIHNldHVwIG9mIHRoZSBqb2tlXCIpLFxuKiAgIHB1bmNobGluZTogei5zdHJpbmcoKS5kZXNjcmliZShcIlRoZSBwdW5jaGxpbmUgdG8gdGhlIGpva2VcIiksXG4qICAgcmF0aW5nOiB6Lm51bWJlcigpLm51bGxhYmxlKCkuZGVzY3JpYmUoXCJIb3cgZnVubnkgdGhlIGpva2UgaXMsIGZyb20gMSB0byAxMFwiKVxuKiB9KS5kZXNjcmliZSgnSm9rZSB0byB0ZWxsIHVzZXIuJyk7XG4qXG4qIGNvbnN0IHN0cnVjdHVyZWRMbG0gPSBsbG0ud2l0aFN0cnVjdHVyZWRPdXRwdXQoSm9rZSwgeyBuYW1lOiBcIkpva2VcIiB9KTtcbiogY29uc3Qgam9rZVJlc3VsdCA9IGF3YWl0IHN0cnVjdHVyZWRMbG0uaW52b2tlKFwiVGVsbCBtZSBhIGpva2UgYWJvdXQgY2F0c1wiKTtcbiogY29uc29sZS5sb2coam9rZVJlc3VsdCk7XG4qIGBgYFxuKlxuKiBgYGB0eHRcbioge1xuKiAgIHNldHVwOiAnV2h5IHdhcyB0aGUgY2F0IHNpdHRpbmcgb24gdGhlIGNvbXB1dGVyPycsXG4qICAgcHVuY2hsaW5lOiAnQmVjYXVzZSBpdCB3YW50ZWQgdG8ga2VlcCBhbiBleWUgb24gdGhlIG1vdXNlIScsXG4qICAgcmF0aW5nOiA3XG4qIH1cbiogYGBgXG4qIDwvZGV0YWlscz5cbipcbiogPGJyIC8+XG4qXG4qIDxkZXRhaWxzPlxuKiA8c3VtbWFyeT48c3Ryb25nPkpTT04gT2JqZWN0IFJlc3BvbnNlIEZvcm1hdDwvc3Ryb25nPjwvc3VtbWFyeT5cbipcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBqc29uTGxtID0gbGxtLndpdGhDb25maWcoeyByZXNwb25zZV9mb3JtYXQ6IHsgdHlwZTogXCJqc29uX29iamVjdFwiIH0gfSk7XG4qIGNvbnN0IGpzb25MbG1BaU1zZyA9IGF3YWl0IGpzb25MbG0uaW52b2tlKFxuKiAgIFwiUmV0dXJuIGEgSlNPTiBvYmplY3Qgd2l0aCBrZXkgJ3JhbmRvbUludHMnIGFuZCBhIHZhbHVlIG9mIDEwIHJhbmRvbSBpbnRzIGluIFswLTk5XVwiXG4qICk7XG4qIGNvbnNvbGUubG9nKGpzb25MbG1BaU1zZy5jb250ZW50KTtcbiogYGBgXG4qXG4qIGBgYHR4dFxuKiB7XG4qICAgXCJyYW5kb21JbnRzXCI6IFsyMywgODcsIDQ1LCAxMiwgNzgsIDM0LCA1NiwgOTAsIDExLCA2N11cbiogfVxuKiBgYGBcbiogPC9kZXRhaWxzPlxuKlxuKiA8YnIgLz5cbipcbiogPGRldGFpbHM+XG4qIDxzdW1tYXJ5PjxzdHJvbmc+TXVsdGltb2RhbDwvc3Ryb25nPjwvc3VtbWFyeT5cbipcbiogYGBgdHlwZXNjcmlwdFxuKiBpbXBvcnQgeyBIdW1hbk1lc3NhZ2UgfSBmcm9tICdAbGFuZ2NoYWluL2NvcmUvbWVzc2FnZXMnO1xuKlxuKiBjb25zdCBpbWFnZVVybCA9IFwiaHR0cHM6Ly9leGFtcGxlLmNvbS9pbWFnZS5qcGdcIjtcbiogY29uc3QgaW1hZ2VEYXRhID0gYXdhaXQgZmV0Y2goaW1hZ2VVcmwpLnRoZW4ocmVzID0+IHJlcy5hcnJheUJ1ZmZlcigpKTtcbiogY29uc3QgYmFzZTY0SW1hZ2UgPSBCdWZmZXIuZnJvbShpbWFnZURhdGEpLnRvU3RyaW5nKCdiYXNlNjQnKTtcbipcbiogY29uc3QgbWVzc2FnZSA9IG5ldyBIdW1hbk1lc3NhZ2Uoe1xuKiAgIGNvbnRlbnQ6IFtcbiogICAgIHsgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IFwiZGVzY3JpYmUgdGhlIHdlYXRoZXIgaW4gdGhpcyBpbWFnZVwiIH0sXG4qICAgICB7XG4qICAgICAgIHR5cGU6IFwiaW1hZ2VfdXJsXCIsXG4qICAgICAgIGltYWdlX3VybDogeyB1cmw6IGBkYXRhOmltYWdlL2pwZWc7YmFzZTY0LCR7YmFzZTY0SW1hZ2V9YCB9LFxuKiAgICAgfSxcbiogICBdXG4qIH0pO1xuKlxuKiBjb25zdCBpbWFnZURlc2NyaXB0aW9uQWlNc2cgPSBhd2FpdCBsbG0uaW52b2tlKFttZXNzYWdlXSk7XG4qIGNvbnNvbGUubG9nKGltYWdlRGVzY3JpcHRpb25BaU1zZy5jb250ZW50KTtcbiogYGBgXG4qXG4qIGBgYHR4dFxuKiBUaGUgd2VhdGhlciBpbiB0aGUgaW1hZ2UgYXBwZWFycyB0byBiZSBjbGVhciBhbmQgc3VubnkuIFRoZSBza3kgaXMgbW9zdGx5IGJsdWUgd2l0aCBhIGZldyBzY2F0dGVyZWQgd2hpdGUgY2xvdWRzLCBpbmRpY2F0aW5nIGZhaXIgd2VhdGhlci4gVGhlIGJyaWdodCBzdW5saWdodCBpcyBjYXN0aW5nIHNoYWRvd3Mgb24gdGhlIGdyZWVuLCBncmFzc3kgaGlsbCwgc3VnZ2VzdGluZyBpdCBpcyBhIHBsZWFzYW50IGRheSB3aXRoIGdvb2QgdmlzaWJpbGl0eS4gVGhlcmUgYXJlIG5vIHNpZ25zIG9mIHJhaW4gb3Igc3Rvcm15IGNvbmRpdGlvbnMuXG4qIGBgYFxuKiA8L2RldGFpbHM+XG4qXG4qIDxiciAvPlxuKlxuKiA8ZGV0YWlscz5cbiogPHN1bW1hcnk+PHN0cm9uZz5Vc2FnZSBNZXRhZGF0YTwvc3Ryb25nPjwvc3VtbWFyeT5cbipcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBhaU1zZ0Zvck1ldGFkYXRhID0gYXdhaXQgbGxtLmludm9rZShpbnB1dCk7XG4qIGNvbnNvbGUubG9nKGFpTXNnRm9yTWV0YWRhdGEudXNhZ2VfbWV0YWRhdGEpO1xuKiBgYGBcbipcbiogYGBgdHh0XG4qIHsgaW5wdXRfdG9rZW5zOiAyOCwgb3V0cHV0X3Rva2VuczogNSwgdG90YWxfdG9rZW5zOiAzMyB9XG4qIGBgYFxuKiA8L2RldGFpbHM+XG4qXG4qIDxiciAvPlxuKlxuKiA8ZGV0YWlscz5cbiogPHN1bW1hcnk+PHN0cm9uZz5Mb2dwcm9iczwvc3Ryb25nPjwvc3VtbWFyeT5cbipcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBsb2dwcm9ic0xsbSA9IG5ldyBDaGF0T3BlbkFJKHsgbW9kZWw6IFwiZ3B0LTRvLW1pbmlcIiwgbG9ncHJvYnM6IHRydWUgfSk7XG4qIGNvbnN0IGFpTXNnRm9yTG9ncHJvYnMgPSBhd2FpdCBsb2dwcm9ic0xsbS5pbnZva2UoaW5wdXQpO1xuKiBjb25zb2xlLmxvZyhhaU1zZ0ZvckxvZ3Byb2JzLnJlc3BvbnNlX21ldGFkYXRhLmxvZ3Byb2JzKTtcbiogYGBgXG4qXG4qIGBgYHR4dFxuKiB7XG4qICAgY29udGVudDogW1xuKiAgICAge1xuKiAgICAgICB0b2tlbjogJ0onLFxuKiAgICAgICBsb2dwcm9iOiAtMC4wMDAwNTA2MTY3NjMsXG4qICAgICAgIGJ5dGVzOiBbQXJyYXldLFxuKiAgICAgICB0b3BfbG9ncHJvYnM6IFtdXG4qICAgICB9LFxuKiAgICAge1xuKiAgICAgICB0b2tlbjogXCInXCIsXG4qICAgICAgIGxvZ3Byb2I6IC0wLjAxODY4NzM2LFxuKiAgICAgICBieXRlczogW0FycmF5XSxcbiogICAgICAgdG9wX2xvZ3Byb2JzOiBbXVxuKiAgICAgfSxcbiogICAgIHtcbiogICAgICAgdG9rZW46ICdhZCcsXG4qICAgICAgIGxvZ3Byb2I6IC0wLjAwMDAwMzA1NDUwMDcsXG4qICAgICAgIGJ5dGVzOiBbQXJyYXldLFxuKiAgICAgICB0b3BfbG9ncHJvYnM6IFtdXG4qICAgICB9LFxuKiAgICAgeyB0b2tlbjogJ29yZScsIGxvZ3Byb2I6IDAsIGJ5dGVzOiBbQXJyYXldLCB0b3BfbG9ncHJvYnM6IFtdIH0sXG4qICAgICB7XG4qICAgICAgIHRva2VuOiAnIGxhJyxcbiogICAgICAgbG9ncHJvYjogLTAuNTE1NDA0LFxuKiAgICAgICBieXRlczogW0FycmF5XSxcbiogICAgICAgdG9wX2xvZ3Byb2JzOiBbXVxuKiAgICAgfSxcbiogICAgIHtcbiogICAgICAgdG9rZW46ICcgcHJvZ3JhbW0nLFxuKiAgICAgICBsb2dwcm9iOiAtMC4wMDAwMTE4NzU1NzE1LFxuKiAgICAgICBieXRlczogW0FycmF5XSxcbiogICAgICAgdG9wX2xvZ3Byb2JzOiBbXVxuKiAgICAgfSxcbiogICAgIHsgdG9rZW46ICdhdGlvbicsIGxvZ3Byb2I6IDAsIGJ5dGVzOiBbQXJyYXldLCB0b3BfbG9ncHJvYnM6IFtdIH0sXG4qICAgICB7XG4qICAgICAgIHRva2VuOiAnLicsXG4qICAgICAgIGxvZ3Byb2I6IC0wLjAwMDAwMzc2OTcyMjUsXG4qICAgICAgIGJ5dGVzOiBbQXJyYXldLFxuKiAgICAgICB0b3BfbG9ncHJvYnM6IFtdXG4qICAgICB9XG4qICAgXSxcbiogICByZWZ1c2FsOiBudWxsXG4qIH1cbiogYGBgXG4qIDwvZGV0YWlscz5cbipcbiogPGJyIC8+XG4qXG4qIDxkZXRhaWxzPlxuKiA8c3VtbWFyeT48c3Ryb25nPlJlc3BvbnNlIE1ldGFkYXRhPC9zdHJvbmc+PC9zdW1tYXJ5PlxuKlxuKiBgYGB0eXBlc2NyaXB0XG4qIGNvbnN0IGFpTXNnRm9yUmVzcG9uc2VNZXRhZGF0YSA9IGF3YWl0IGxsbS5pbnZva2UoaW5wdXQpO1xuKiBjb25zb2xlLmxvZyhhaU1zZ0ZvclJlc3BvbnNlTWV0YWRhdGEucmVzcG9uc2VfbWV0YWRhdGEpO1xuKiBgYGBcbipcbiogYGBgdHh0XG4qIHtcbiogICB0b2tlblVzYWdlOiB7IGNvbXBsZXRpb25Ub2tlbnM6IDUsIHByb21wdFRva2VuczogMjgsIHRvdGFsVG9rZW5zOiAzMyB9LFxuKiAgIGZpbmlzaF9yZWFzb246ICdzdG9wJyxcbiogICBzeXN0ZW1fZmluZ2VycHJpbnQ6ICdmcF8zYWE3MjYyYzI3J1xuKiB9XG4qIGBgYFxuKiA8L2RldGFpbHM+XG4qL1xudmFyIEF6dXJlQ2hhdE9wZW5BSSA9IGNsYXNzIGV4dGVuZHMgQ2hhdE9wZW5BSSB7XG5cdGF6dXJlT3BlbkFJQXBpVmVyc2lvbjtcblx0YXp1cmVPcGVuQUlBcGlLZXk7XG5cdGF6dXJlQURUb2tlblByb3ZpZGVyO1xuXHRhenVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZTtcblx0YXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZTtcblx0YXp1cmVPcGVuQUlCYXNlUGF0aDtcblx0YXp1cmVPcGVuQUlFbmRwb2ludDtcblx0X2xsbVR5cGUoKSB7XG5cdFx0cmV0dXJuIFwiYXp1cmVfb3BlbmFpXCI7XG5cdH1cblx0Z2V0IGxjX2FsaWFzZXMoKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdC4uLnN1cGVyLmxjX2FsaWFzZXMsXG5cdFx0XHQuLi5BWlVSRV9BTElBU0VTXG5cdFx0fTtcblx0fVxuXHRnZXQgbGNfc2VjcmV0cygpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Li4uc3VwZXIubGNfc2VjcmV0cyxcblx0XHRcdC4uLkFaVVJFX1NFQ1JFVFNcblx0XHR9O1xuXHR9XG5cdGdldCBsY19zZXJpYWxpemFibGVfa2V5cygpIHtcblx0XHRyZXR1cm4gWy4uLnN1cGVyLmxjX3NlcmlhbGl6YWJsZV9rZXlzLCAuLi5BWlVSRV9TRVJJQUxJWkFCTEVfS0VZU107XG5cdH1cblx0Z2V0THNQYXJhbXMob3B0aW9ucykge1xuXHRcdGNvbnN0IHBhcmFtcyA9IHN1cGVyLmdldExzUGFyYW1zKG9wdGlvbnMpO1xuXHRcdHBhcmFtcy5sc19wcm92aWRlciA9IFwiYXp1cmVcIjtcblx0XHRyZXR1cm4gcGFyYW1zO1xuXHR9XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdHN1cGVyKHtcblx0XHRcdC4uLmZpZWxkcyxcblx0XHRcdGNvbXBsZXRpb25zOiBuZXcgQXp1cmVDaGF0T3BlbkFJQ29tcGxldGlvbnMoZmllbGRzKSxcblx0XHRcdHJlc3BvbnNlczogbmV3IEF6dXJlQ2hhdE9wZW5BSVJlc3BvbnNlcyhmaWVsZHMpXG5cdFx0fSk7XG5cdFx0X2NvbnN0cnVjdEF6dXJlRmllbGRzLmNhbGwodGhpcywgZmllbGRzKTtcblx0fVxuXHQvKiogQGludGVybmFsICovXG5cdF9nZXRTdHJ1Y3R1cmVkT3V0cHV0TWV0aG9kKGNvbmZpZykge1xuXHRcdGNvbnN0IGVuc3VyZWRDb25maWcgPSB7IC4uLmNvbmZpZyB9O1xuXHRcdGlmICh0aGlzLm1vZGVsLnN0YXJ0c1dpdGgoXCJncHQtNG9cIikpIHtcblx0XHRcdGlmIChlbnN1cmVkQ29uZmlnPy5tZXRob2QgPT09IHZvaWQgMCkgcmV0dXJuIFwiZnVuY3Rpb25DYWxsaW5nXCI7XG5cdFx0fVxuXHRcdHJldHVybiBzdXBlci5fZ2V0U3RydWN0dXJlZE91dHB1dE1ldGhvZChlbnN1cmVkQ29uZmlnKTtcblx0fVxuXHR0b0pTT04oKSB7XG5cdFx0cmV0dXJuIF9zZXJpYWxpemVBenVyZUNoYXQuY2FsbCh0aGlzLCBzdXBlci50b0pTT04oKSk7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQXp1cmVDaGF0T3BlbkFJIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/azure/chat_models/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/azure/chat_models/responses.js":
/*!********************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/azure/chat_models/responses.js ***!
  \********************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AzureChatOpenAIResponses: () => (/* binding */ AzureChatOpenAIResponses)\n/* harmony export */ });\n/* harmony import */ var _chat_models_responses_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chat_models/responses.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/chat_models/responses.js\");\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./common.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/azure/chat_models/common.js\");\n\n\n\n//#region src/azure/chat_models/responses.ts\nvar AzureChatOpenAIResponses = class extends _chat_models_responses_js__WEBPACK_IMPORTED_MODULE_0__.ChatOpenAIResponses {\n\tazureOpenAIApiVersion;\n\tazureOpenAIApiKey;\n\tazureADTokenProvider;\n\tazureOpenAIApiInstanceName;\n\tazureOpenAIApiDeploymentName;\n\tazureOpenAIBasePath;\n\tazureOpenAIEndpoint;\n\t_llmType() {\n\t\treturn \"azure_openai\";\n\t}\n\tget lc_aliases() {\n\t\treturn {\n\t\t\t...super.lc_aliases,\n\t\t\t..._common_js__WEBPACK_IMPORTED_MODULE_1__.AZURE_ALIASES\n\t\t};\n\t}\n\tget lc_secrets() {\n\t\treturn {\n\t\t\t...super.lc_secrets,\n\t\t\t..._common_js__WEBPACK_IMPORTED_MODULE_1__.AZURE_SECRETS\n\t\t};\n\t}\n\tget lc_serializable_keys() {\n\t\treturn [...super.lc_serializable_keys, ..._common_js__WEBPACK_IMPORTED_MODULE_1__.AZURE_SERIALIZABLE_KEYS];\n\t}\n\tgetLsParams(options) {\n\t\tconst params = super.getLsParams(options);\n\t\tparams.ls_provider = \"azure\";\n\t\treturn params;\n\t}\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\t_common_js__WEBPACK_IMPORTED_MODULE_1__._constructAzureFields.call(this, fields);\n\t}\n\t_getClientOptions(options) {\n\t\treturn _common_js__WEBPACK_IMPORTED_MODULE_1__._getAzureClientOptions.call(this, options);\n\t}\n\ttoJSON() {\n\t\treturn _common_js__WEBPACK_IMPORTED_MODULE_1__._serializeAzureChat.call(this, super.toJSON());\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=responses.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvcGVuYWlAMS4wLjBfQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfX193c0A4LjE4LjMvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvYXp1cmUvY2hhdF9tb2RlbHMvcmVzcG9uc2VzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFxRTtBQUNtRjs7QUFFeEo7QUFDQSw2Q0FBNkMsMEVBQW1CO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxxREFBYTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxxREFBYTtBQUNuQjtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsK0RBQXVCO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLDZEQUFxQjtBQUN2QjtBQUNBO0FBQ0EsU0FBUyw4REFBc0I7QUFDL0I7QUFDQTtBQUNBLFNBQVMsMkRBQW1CO0FBQzVCO0FBQ0E7O0FBRUE7QUFDb0M7QUFDcEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK29wZW5haUAxLjAuMF9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl9fX3dzQDguMTguMy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9vcGVuYWkvZGlzdC9henVyZS9jaGF0X21vZGVscy9yZXNwb25zZXMuanM/YjI5ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDaGF0T3BlbkFJUmVzcG9uc2VzIH0gZnJvbSBcIi4uLy4uL2NoYXRfbW9kZWxzL3Jlc3BvbnNlcy5qc1wiO1xuaW1wb3J0IHsgQVpVUkVfQUxJQVNFUywgQVpVUkVfU0VDUkVUUywgQVpVUkVfU0VSSUFMSVpBQkxFX0tFWVMsIF9jb25zdHJ1Y3RBenVyZUZpZWxkcywgX2dldEF6dXJlQ2xpZW50T3B0aW9ucywgX3NlcmlhbGl6ZUF6dXJlQ2hhdCB9IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL2F6dXJlL2NoYXRfbW9kZWxzL3Jlc3BvbnNlcy50c1xudmFyIEF6dXJlQ2hhdE9wZW5BSVJlc3BvbnNlcyA9IGNsYXNzIGV4dGVuZHMgQ2hhdE9wZW5BSVJlc3BvbnNlcyB7XG5cdGF6dXJlT3BlbkFJQXBpVmVyc2lvbjtcblx0YXp1cmVPcGVuQUlBcGlLZXk7XG5cdGF6dXJlQURUb2tlblByb3ZpZGVyO1xuXHRhenVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZTtcblx0YXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZTtcblx0YXp1cmVPcGVuQUlCYXNlUGF0aDtcblx0YXp1cmVPcGVuQUlFbmRwb2ludDtcblx0X2xsbVR5cGUoKSB7XG5cdFx0cmV0dXJuIFwiYXp1cmVfb3BlbmFpXCI7XG5cdH1cblx0Z2V0IGxjX2FsaWFzZXMoKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdC4uLnN1cGVyLmxjX2FsaWFzZXMsXG5cdFx0XHQuLi5BWlVSRV9BTElBU0VTXG5cdFx0fTtcblx0fVxuXHRnZXQgbGNfc2VjcmV0cygpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Li4uc3VwZXIubGNfc2VjcmV0cyxcblx0XHRcdC4uLkFaVVJFX1NFQ1JFVFNcblx0XHR9O1xuXHR9XG5cdGdldCBsY19zZXJpYWxpemFibGVfa2V5cygpIHtcblx0XHRyZXR1cm4gWy4uLnN1cGVyLmxjX3NlcmlhbGl6YWJsZV9rZXlzLCAuLi5BWlVSRV9TRVJJQUxJWkFCTEVfS0VZU107XG5cdH1cblx0Z2V0THNQYXJhbXMob3B0aW9ucykge1xuXHRcdGNvbnN0IHBhcmFtcyA9IHN1cGVyLmdldExzUGFyYW1zKG9wdGlvbnMpO1xuXHRcdHBhcmFtcy5sc19wcm92aWRlciA9IFwiYXp1cmVcIjtcblx0XHRyZXR1cm4gcGFyYW1zO1xuXHR9XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdHN1cGVyKGZpZWxkcyk7XG5cdFx0X2NvbnN0cnVjdEF6dXJlRmllbGRzLmNhbGwodGhpcywgZmllbGRzKTtcblx0fVxuXHRfZ2V0Q2xpZW50T3B0aW9ucyhvcHRpb25zKSB7XG5cdFx0cmV0dXJuIF9nZXRBenVyZUNsaWVudE9wdGlvbnMuY2FsbCh0aGlzLCBvcHRpb25zKTtcblx0fVxuXHR0b0pTT04oKSB7XG5cdFx0cmV0dXJuIF9zZXJpYWxpemVBenVyZUNoYXQuY2FsbCh0aGlzLCBzdXBlci50b0pTT04oKSk7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQXp1cmVDaGF0T3BlbkFJUmVzcG9uc2VzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXNwb25zZXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/azure/chat_models/responses.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/azure/embeddings.js":
/*!*********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/azure/embeddings.js ***!
  \*********************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AzureOpenAIEmbeddings: () => (/* binding */ AzureOpenAIEmbeddings)\n/* harmony export */ });\n/* harmony import */ var _utils_azure_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/azure.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/azure.js\");\n/* harmony import */ var _utils_client_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/client.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/client.js\");\n/* harmony import */ var _embeddings_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../embeddings.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/embeddings.js\");\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! openai */ \"(rsc)/./node_modules/.pnpm/openai@6.7.0_ws@8.18.3_zod@3.25.76/node_modules/openai/index.mjs\");\n/* harmony import */ var _langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @langchain/core/utils/env */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/env.js\");\n\n\n\n\n\n\n//#region src/azure/embeddings.ts\nvar AzureOpenAIEmbeddings = class extends _embeddings_js__WEBPACK_IMPORTED_MODULE_2__.OpenAIEmbeddings {\n\tazureOpenAIApiVersion;\n\tazureOpenAIApiKey;\n\tazureADTokenProvider;\n\tazureOpenAIApiInstanceName;\n\tazureOpenAIApiDeploymentName;\n\tazureOpenAIBasePath;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.batchSize = fields?.batchSize ?? 1;\n\t\tthis.azureOpenAIApiKey = fields?.azureOpenAIApiKey ?? fields?.apiKey ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_4__.getEnvironmentVariable)(\"AZURE_OPENAI_API_KEY\");\n\t\tthis.azureOpenAIApiVersion = fields?.azureOpenAIApiVersion ?? fields?.openAIApiVersion ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_4__.getEnvironmentVariable)(\"AZURE_OPENAI_API_VERSION\");\n\t\tthis.azureOpenAIBasePath = fields?.azureOpenAIBasePath ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_4__.getEnvironmentVariable)(\"AZURE_OPENAI_BASE_PATH\");\n\t\tthis.azureOpenAIApiInstanceName = fields?.azureOpenAIApiInstanceName ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_4__.getEnvironmentVariable)(\"AZURE_OPENAI_API_INSTANCE_NAME\");\n\t\tthis.azureOpenAIApiDeploymentName = (fields?.azureOpenAIApiEmbeddingsDeploymentName || fields?.azureOpenAIApiDeploymentName) ?? ((0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_4__.getEnvironmentVariable)(\"AZURE_OPENAI_API_EMBEDDINGS_DEPLOYMENT_NAME\") || (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_4__.getEnvironmentVariable)(\"AZURE_OPENAI_API_DEPLOYMENT_NAME\"));\n\t\tthis.azureADTokenProvider = fields?.azureADTokenProvider;\n\t}\n\tasync embeddingWithRetry(request) {\n\t\tif (!this.client) {\n\t\t\tconst openAIEndpointConfig = {\n\t\t\t\tazureOpenAIApiDeploymentName: this.azureOpenAIApiDeploymentName,\n\t\t\t\tazureOpenAIApiInstanceName: this.azureOpenAIApiInstanceName,\n\t\t\t\tazureOpenAIApiKey: this.azureOpenAIApiKey,\n\t\t\t\tazureOpenAIBasePath: this.azureOpenAIBasePath,\n\t\t\t\tazureADTokenProvider: this.azureADTokenProvider,\n\t\t\t\tbaseURL: this.clientConfig.baseURL\n\t\t\t};\n\t\t\tconst endpoint = (0,_utils_azure_js__WEBPACK_IMPORTED_MODULE_0__.getEndpoint)(openAIEndpointConfig);\n\t\t\tconst params = {\n\t\t\t\t...this.clientConfig,\n\t\t\t\tbaseURL: endpoint,\n\t\t\t\ttimeout: this.timeout,\n\t\t\t\tmaxRetries: 0\n\t\t\t};\n\t\t\tif (!this.azureADTokenProvider) params.apiKey = openAIEndpointConfig.azureOpenAIApiKey;\n\t\t\tif (!params.baseURL) delete params.baseURL;\n\t\t\tconst defaultHeaders = (0,_utils_azure_js__WEBPACK_IMPORTED_MODULE_0__.normalizeHeaders)(params.defaultHeaders);\n\t\t\tparams.defaultHeaders = {\n\t\t\t\t...params.defaultHeaders,\n\t\t\t\t\"User-Agent\": defaultHeaders[\"User-Agent\"] ? `${defaultHeaders[\"User-Agent\"]}: langchainjs-azure-openai-v2` : `langchainjs-azure-openai-v2`\n\t\t\t};\n\t\t\tthis.client = new openai__WEBPACK_IMPORTED_MODULE_3__.AzureOpenAI({\n\t\t\t\tapiVersion: this.azureOpenAIApiVersion,\n\t\t\t\tazureADTokenProvider: this.azureADTokenProvider,\n\t\t\t\tdeployment: this.azureOpenAIApiDeploymentName,\n\t\t\t\t...params\n\t\t\t});\n\t\t}\n\t\tconst requestOptions = {};\n\t\tif (this.azureOpenAIApiKey) {\n\t\t\trequestOptions.headers = {\n\t\t\t\t\"api-key\": this.azureOpenAIApiKey,\n\t\t\t\t...requestOptions.headers\n\t\t\t};\n\t\t\trequestOptions.query = {\n\t\t\t\t\"api-version\": this.azureOpenAIApiVersion,\n\t\t\t\t...requestOptions.query\n\t\t\t};\n\t\t}\n\t\treturn this.caller.call(async () => {\n\t\t\ttry {\n\t\t\t\tconst res = await this.client.embeddings.create(request, requestOptions);\n\t\t\t\treturn res;\n\t\t\t} catch (e) {\n\t\t\t\tconst error = (0,_utils_client_js__WEBPACK_IMPORTED_MODULE_1__.wrapOpenAIClientError)(e);\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t});\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=embeddings.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvcGVuYWlAMS4wLjBfQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfX193c0A4LjE4LjMvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvYXp1cmUvZW1iZWRkaW5ncy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBa0U7QUFDUDtBQUNQO0FBQ2Y7QUFDOEI7O0FBRW5FO0FBQ0EsMENBQTBDLDREQUFnQjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwRUFBMEUsaUZBQXNCO0FBQ2hHLDRGQUE0RixpRkFBc0I7QUFDbEgsNERBQTRELGlGQUFzQjtBQUNsRiwwRUFBMEUsaUZBQXNCO0FBQ2hHLG1JQUFtSSxpRkFBc0IsbURBQW1ELGlGQUFzQjtBQUNsTztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNERBQVc7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixpRUFBZ0I7QUFDMUM7QUFDQTtBQUNBLG9EQUFvRCw2QkFBNkI7QUFDakY7QUFDQSxxQkFBcUIsK0NBQVc7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsa0JBQWtCLHVFQUFxQjtBQUN2QztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDaUM7QUFDakMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK29wZW5haUAxLjAuMF9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl9fX3dzQDguMTguMy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9vcGVuYWkvZGlzdC9henVyZS9lbWJlZGRpbmdzLmpzP2NiZTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0RW5kcG9pbnQsIG5vcm1hbGl6ZUhlYWRlcnMgfSBmcm9tIFwiLi4vdXRpbHMvYXp1cmUuanNcIjtcbmltcG9ydCB7IHdyYXBPcGVuQUlDbGllbnRFcnJvciB9IGZyb20gXCIuLi91dGlscy9jbGllbnQuanNcIjtcbmltcG9ydCB7IE9wZW5BSUVtYmVkZGluZ3MgfSBmcm9tIFwiLi4vZW1iZWRkaW5ncy5qc1wiO1xuaW1wb3J0IHsgQXp1cmVPcGVuQUkgfSBmcm9tIFwib3BlbmFpXCI7XG5pbXBvcnQgeyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS91dGlscy9lbnZcIjtcblxuLy8jcmVnaW9uIHNyYy9henVyZS9lbWJlZGRpbmdzLnRzXG52YXIgQXp1cmVPcGVuQUlFbWJlZGRpbmdzID0gY2xhc3MgZXh0ZW5kcyBPcGVuQUlFbWJlZGRpbmdzIHtcblx0YXp1cmVPcGVuQUlBcGlWZXJzaW9uO1xuXHRhenVyZU9wZW5BSUFwaUtleTtcblx0YXp1cmVBRFRva2VuUHJvdmlkZXI7XG5cdGF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lO1xuXHRhenVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lO1xuXHRhenVyZU9wZW5BSUJhc2VQYXRoO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRzdXBlcihmaWVsZHMpO1xuXHRcdHRoaXMuYmF0Y2hTaXplID0gZmllbGRzPy5iYXRjaFNpemUgPz8gMTtcblx0XHR0aGlzLmF6dXJlT3BlbkFJQXBpS2V5ID0gZmllbGRzPy5henVyZU9wZW5BSUFwaUtleSA/PyBmaWVsZHM/LmFwaUtleSA/PyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9LRVlcIik7XG5cdFx0dGhpcy5henVyZU9wZW5BSUFwaVZlcnNpb24gPSBmaWVsZHM/LmF6dXJlT3BlbkFJQXBpVmVyc2lvbiA/PyBmaWVsZHM/Lm9wZW5BSUFwaVZlcnNpb24gPz8gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9BUElfVkVSU0lPTlwiKTtcblx0XHR0aGlzLmF6dXJlT3BlbkFJQmFzZVBhdGggPSBmaWVsZHM/LmF6dXJlT3BlbkFJQmFzZVBhdGggPz8gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9CQVNFX1BBVEhcIik7XG5cdFx0dGhpcy5henVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZSA9IGZpZWxkcz8uYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWUgPz8gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9BUElfSU5TVEFOQ0VfTkFNRVwiKTtcblx0XHR0aGlzLmF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWUgPSAoZmllbGRzPy5henVyZU9wZW5BSUFwaUVtYmVkZGluZ3NEZXBsb3ltZW50TmFtZSB8fCBmaWVsZHM/LmF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWUpID8/IChnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9FTUJFRERJTkdTX0RFUExPWU1FTlRfTkFNRVwiKSB8fCBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9ERVBMT1lNRU5UX05BTUVcIikpO1xuXHRcdHRoaXMuYXp1cmVBRFRva2VuUHJvdmlkZXIgPSBmaWVsZHM/LmF6dXJlQURUb2tlblByb3ZpZGVyO1xuXHR9XG5cdGFzeW5jIGVtYmVkZGluZ1dpdGhSZXRyeShyZXF1ZXN0KSB7XG5cdFx0aWYgKCF0aGlzLmNsaWVudCkge1xuXHRcdFx0Y29uc3Qgb3BlbkFJRW5kcG9pbnRDb25maWcgPSB7XG5cdFx0XHRcdGF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWU6IHRoaXMuYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSxcblx0XHRcdFx0YXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWU6IHRoaXMuYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWUsXG5cdFx0XHRcdGF6dXJlT3BlbkFJQXBpS2V5OiB0aGlzLmF6dXJlT3BlbkFJQXBpS2V5LFxuXHRcdFx0XHRhenVyZU9wZW5BSUJhc2VQYXRoOiB0aGlzLmF6dXJlT3BlbkFJQmFzZVBhdGgsXG5cdFx0XHRcdGF6dXJlQURUb2tlblByb3ZpZGVyOiB0aGlzLmF6dXJlQURUb2tlblByb3ZpZGVyLFxuXHRcdFx0XHRiYXNlVVJMOiB0aGlzLmNsaWVudENvbmZpZy5iYXNlVVJMXG5cdFx0XHR9O1xuXHRcdFx0Y29uc3QgZW5kcG9pbnQgPSBnZXRFbmRwb2ludChvcGVuQUlFbmRwb2ludENvbmZpZyk7XG5cdFx0XHRjb25zdCBwYXJhbXMgPSB7XG5cdFx0XHRcdC4uLnRoaXMuY2xpZW50Q29uZmlnLFxuXHRcdFx0XHRiYXNlVVJMOiBlbmRwb2ludCxcblx0XHRcdFx0dGltZW91dDogdGhpcy50aW1lb3V0LFxuXHRcdFx0XHRtYXhSZXRyaWVzOiAwXG5cdFx0XHR9O1xuXHRcdFx0aWYgKCF0aGlzLmF6dXJlQURUb2tlblByb3ZpZGVyKSBwYXJhbXMuYXBpS2V5ID0gb3BlbkFJRW5kcG9pbnRDb25maWcuYXp1cmVPcGVuQUlBcGlLZXk7XG5cdFx0XHRpZiAoIXBhcmFtcy5iYXNlVVJMKSBkZWxldGUgcGFyYW1zLmJhc2VVUkw7XG5cdFx0XHRjb25zdCBkZWZhdWx0SGVhZGVycyA9IG5vcm1hbGl6ZUhlYWRlcnMocGFyYW1zLmRlZmF1bHRIZWFkZXJzKTtcblx0XHRcdHBhcmFtcy5kZWZhdWx0SGVhZGVycyA9IHtcblx0XHRcdFx0Li4ucGFyYW1zLmRlZmF1bHRIZWFkZXJzLFxuXHRcdFx0XHRcIlVzZXItQWdlbnRcIjogZGVmYXVsdEhlYWRlcnNbXCJVc2VyLUFnZW50XCJdID8gYCR7ZGVmYXVsdEhlYWRlcnNbXCJVc2VyLUFnZW50XCJdfTogbGFuZ2NoYWluanMtYXp1cmUtb3BlbmFpLXYyYCA6IGBsYW5nY2hhaW5qcy1henVyZS1vcGVuYWktdjJgXG5cdFx0XHR9O1xuXHRcdFx0dGhpcy5jbGllbnQgPSBuZXcgQXp1cmVPcGVuQUkoe1xuXHRcdFx0XHRhcGlWZXJzaW9uOiB0aGlzLmF6dXJlT3BlbkFJQXBpVmVyc2lvbixcblx0XHRcdFx0YXp1cmVBRFRva2VuUHJvdmlkZXI6IHRoaXMuYXp1cmVBRFRva2VuUHJvdmlkZXIsXG5cdFx0XHRcdGRlcGxveW1lbnQ6IHRoaXMuYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSxcblx0XHRcdFx0Li4ucGFyYW1zXG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Y29uc3QgcmVxdWVzdE9wdGlvbnMgPSB7fTtcblx0XHRpZiAodGhpcy5henVyZU9wZW5BSUFwaUtleSkge1xuXHRcdFx0cmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IHtcblx0XHRcdFx0XCJhcGkta2V5XCI6IHRoaXMuYXp1cmVPcGVuQUlBcGlLZXksXG5cdFx0XHRcdC4uLnJlcXVlc3RPcHRpb25zLmhlYWRlcnNcblx0XHRcdH07XG5cdFx0XHRyZXF1ZXN0T3B0aW9ucy5xdWVyeSA9IHtcblx0XHRcdFx0XCJhcGktdmVyc2lvblwiOiB0aGlzLmF6dXJlT3BlbkFJQXBpVmVyc2lvbixcblx0XHRcdFx0Li4ucmVxdWVzdE9wdGlvbnMucXVlcnlcblx0XHRcdH07XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLmNhbGxlci5jYWxsKGFzeW5jICgpID0+IHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmVtYmVkZGluZ3MuY3JlYXRlKHJlcXVlc3QsIHJlcXVlc3RPcHRpb25zKTtcblx0XHRcdFx0cmV0dXJuIHJlcztcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0Y29uc3QgZXJyb3IgPSB3cmFwT3BlbkFJQ2xpZW50RXJyb3IoZSk7XG5cdFx0XHRcdHRocm93IGVycm9yO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEF6dXJlT3BlbkFJRW1iZWRkaW5ncyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW1iZWRkaW5ncy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/azure/embeddings.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/azure/llms.js":
/*!***************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/azure/llms.js ***!
  \***************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AzureOpenAI: () => (/* binding */ AzureOpenAI$1)\n/* harmony export */ });\n/* harmony import */ var _utils_azure_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/azure.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/azure.js\");\n/* harmony import */ var _llms_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../llms.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/llms.js\");\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! openai */ \"(rsc)/./node_modules/.pnpm/openai@6.7.0_ws@8.18.3_zod@3.25.76/node_modules/openai/index.mjs\");\n/* harmony import */ var _langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @langchain/core/utils/env */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/env.js\");\n\n\n\n\n\n//#region src/azure/llms.ts\nvar AzureOpenAI$1 = class extends _llms_js__WEBPACK_IMPORTED_MODULE_1__.OpenAI {\n\tazureOpenAIApiVersion;\n\tazureOpenAIApiKey;\n\tazureADTokenProvider;\n\tazureOpenAIApiInstanceName;\n\tazureOpenAIApiDeploymentName;\n\tazureOpenAIBasePath;\n\tazureOpenAIEndpoint;\n\tget lc_aliases() {\n\t\treturn {\n\t\t\t...super.lc_aliases,\n\t\t\topenAIApiKey: \"openai_api_key\",\n\t\t\topenAIApiVersion: \"openai_api_version\",\n\t\t\topenAIBasePath: \"openai_api_base\",\n\t\t\tdeploymentName: \"deployment_name\",\n\t\t\tazureOpenAIEndpoint: \"azure_endpoint\",\n\t\t\tazureOpenAIApiVersion: \"openai_api_version\",\n\t\t\tazureOpenAIBasePath: \"openai_api_base\",\n\t\t\tazureOpenAIApiDeploymentName: \"deployment_name\"\n\t\t};\n\t}\n\tget lc_secrets() {\n\t\treturn {\n\t\t\t...super.lc_secrets,\n\t\t\tazureOpenAIApiKey: \"AZURE_OPENAI_API_KEY\"\n\t\t};\n\t}\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.azureOpenAIApiDeploymentName = (fields?.azureOpenAIApiCompletionsDeploymentName || fields?.azureOpenAIApiDeploymentName) ?? ((0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_3__.getEnvironmentVariable)(\"AZURE_OPENAI_API_COMPLETIONS_DEPLOYMENT_NAME\") || (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_3__.getEnvironmentVariable)(\"AZURE_OPENAI_API_DEPLOYMENT_NAME\"));\n\t\tthis.azureOpenAIApiKey = fields?.azureOpenAIApiKey ?? fields?.openAIApiKey ?? fields?.apiKey ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_3__.getEnvironmentVariable)(\"AZURE_OPENAI_API_KEY\");\n\t\tthis.azureOpenAIApiInstanceName = fields?.azureOpenAIApiInstanceName ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_3__.getEnvironmentVariable)(\"AZURE_OPENAI_API_INSTANCE_NAME\");\n\t\tthis.azureOpenAIApiVersion = fields?.azureOpenAIApiVersion ?? fields?.openAIApiVersion ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_3__.getEnvironmentVariable)(\"AZURE_OPENAI_API_VERSION\");\n\t\tthis.azureOpenAIBasePath = fields?.azureOpenAIBasePath ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_3__.getEnvironmentVariable)(\"AZURE_OPENAI_BASE_PATH\");\n\t\tthis.azureOpenAIEndpoint = fields?.azureOpenAIEndpoint ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_3__.getEnvironmentVariable)(\"AZURE_OPENAI_ENDPOINT\");\n\t\tthis.azureADTokenProvider = fields?.azureADTokenProvider;\n\t\tif (!this.azureOpenAIApiKey && !this.apiKey && !this.azureADTokenProvider) throw new Error(\"Azure OpenAI API key or Token Provider not found\");\n\t}\n\t_getClientOptions(options) {\n\t\tif (!this.client) {\n\t\t\tconst openAIEndpointConfig = {\n\t\t\t\tazureOpenAIApiDeploymentName: this.azureOpenAIApiDeploymentName,\n\t\t\t\tazureOpenAIApiInstanceName: this.azureOpenAIApiInstanceName,\n\t\t\t\tazureOpenAIApiKey: this.azureOpenAIApiKey,\n\t\t\t\tazureOpenAIBasePath: this.azureOpenAIBasePath,\n\t\t\t\tazureADTokenProvider: this.azureADTokenProvider,\n\t\t\t\tbaseURL: this.clientConfig.baseURL\n\t\t\t};\n\t\t\tconst endpoint = (0,_utils_azure_js__WEBPACK_IMPORTED_MODULE_0__.getEndpoint)(openAIEndpointConfig);\n\t\t\tconst params = {\n\t\t\t\t...this.clientConfig,\n\t\t\t\tbaseURL: endpoint,\n\t\t\t\ttimeout: this.timeout,\n\t\t\t\tmaxRetries: 0\n\t\t\t};\n\t\t\tif (!this.azureADTokenProvider) params.apiKey = openAIEndpointConfig.azureOpenAIApiKey;\n\t\t\tif (!params.baseURL) delete params.baseURL;\n\t\t\tconst defaultHeaders = (0,_utils_azure_js__WEBPACK_IMPORTED_MODULE_0__.normalizeHeaders)(params.defaultHeaders);\n\t\t\tparams.defaultHeaders = {\n\t\t\t\t...params.defaultHeaders,\n\t\t\t\t\"User-Agent\": defaultHeaders[\"User-Agent\"] ? `${defaultHeaders[\"User-Agent\"]}: langchainjs-azure-openai-v2` : `langchainjs-azure-openai-v2`\n\t\t\t};\n\t\t\tthis.client = new openai__WEBPACK_IMPORTED_MODULE_2__.AzureOpenAI({\n\t\t\t\tapiVersion: this.azureOpenAIApiVersion,\n\t\t\t\tazureADTokenProvider: this.azureADTokenProvider,\n\t\t\t\t...params\n\t\t\t});\n\t\t}\n\t\tconst requestOptions = {\n\t\t\t...this.clientConfig,\n\t\t\t...options\n\t\t};\n\t\tif (this.azureOpenAIApiKey) {\n\t\t\trequestOptions.headers = {\n\t\t\t\t\"api-key\": this.azureOpenAIApiKey,\n\t\t\t\t...requestOptions.headers\n\t\t\t};\n\t\t\trequestOptions.query = {\n\t\t\t\t\"api-version\": this.azureOpenAIApiVersion,\n\t\t\t\t...requestOptions.query\n\t\t\t};\n\t\t}\n\t\treturn requestOptions;\n\t}\n\ttoJSON() {\n\t\tconst json = super.toJSON();\n\t\tfunction isRecord(obj) {\n\t\t\treturn typeof obj === \"object\" && obj != null;\n\t\t}\n\t\tif (isRecord(json) && isRecord(json.kwargs)) {\n\t\t\tdelete json.kwargs.azure_openai_base_path;\n\t\t\tdelete json.kwargs.azure_openai_api_deployment_name;\n\t\t\tdelete json.kwargs.azure_openai_api_key;\n\t\t\tdelete json.kwargs.azure_openai_api_version;\n\t\t\tdelete json.kwargs.azure_open_ai_base_path;\n\t\t}\n\t\treturn json;\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=llms.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvcGVuYWlAMS4wLjBfQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfX193c0A4LjE4LjMvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvYXp1cmUvbGxtcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFrRTtBQUM5QjtBQUNDO0FBQzhCOztBQUVuRTtBQUNBLGtDQUFrQyw0Q0FBTTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9JQUFvSSxpRkFBc0Isb0RBQW9ELGlGQUFzQjtBQUNwTyxrR0FBa0csaUZBQXNCO0FBQ3hILDBFQUEwRSxpRkFBc0I7QUFDaEcsNEZBQTRGLGlGQUFzQjtBQUNsSCw0REFBNEQsaUZBQXNCO0FBQ2xGLDREQUE0RCxpRkFBc0I7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNERBQVc7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixpRUFBZ0I7QUFDMUM7QUFDQTtBQUNBLG9EQUFvRCw2QkFBNkI7QUFDakY7QUFDQSxxQkFBcUIsK0NBQVc7QUFDaEM7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDd0M7QUFDeEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK29wZW5haUAxLjAuMF9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl9fX3dzQDguMTguMy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9vcGVuYWkvZGlzdC9henVyZS9sbG1zLmpzP2I0ZjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0RW5kcG9pbnQsIG5vcm1hbGl6ZUhlYWRlcnMgfSBmcm9tIFwiLi4vdXRpbHMvYXp1cmUuanNcIjtcbmltcG9ydCB7IE9wZW5BSSB9IGZyb20gXCIuLi9sbG1zLmpzXCI7XG5pbXBvcnQgeyBBenVyZU9wZW5BSSB9IGZyb20gXCJvcGVuYWlcIjtcbmltcG9ydCB7IGdldEVudmlyb25tZW50VmFyaWFibGUgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3V0aWxzL2VudlwiO1xuXG4vLyNyZWdpb24gc3JjL2F6dXJlL2xsbXMudHNcbnZhciBBenVyZU9wZW5BSSQxID0gY2xhc3MgZXh0ZW5kcyBPcGVuQUkge1xuXHRhenVyZU9wZW5BSUFwaVZlcnNpb247XG5cdGF6dXJlT3BlbkFJQXBpS2V5O1xuXHRhenVyZUFEVG9rZW5Qcm92aWRlcjtcblx0YXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWU7XG5cdGF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWU7XG5cdGF6dXJlT3BlbkFJQmFzZVBhdGg7XG5cdGF6dXJlT3BlbkFJRW5kcG9pbnQ7XG5cdGdldCBsY19hbGlhc2VzKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHQuLi5zdXBlci5sY19hbGlhc2VzLFxuXHRcdFx0b3BlbkFJQXBpS2V5OiBcIm9wZW5haV9hcGlfa2V5XCIsXG5cdFx0XHRvcGVuQUlBcGlWZXJzaW9uOiBcIm9wZW5haV9hcGlfdmVyc2lvblwiLFxuXHRcdFx0b3BlbkFJQmFzZVBhdGg6IFwib3BlbmFpX2FwaV9iYXNlXCIsXG5cdFx0XHRkZXBsb3ltZW50TmFtZTogXCJkZXBsb3ltZW50X25hbWVcIixcblx0XHRcdGF6dXJlT3BlbkFJRW5kcG9pbnQ6IFwiYXp1cmVfZW5kcG9pbnRcIixcblx0XHRcdGF6dXJlT3BlbkFJQXBpVmVyc2lvbjogXCJvcGVuYWlfYXBpX3ZlcnNpb25cIixcblx0XHRcdGF6dXJlT3BlbkFJQmFzZVBhdGg6IFwib3BlbmFpX2FwaV9iYXNlXCIsXG5cdFx0XHRhenVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lOiBcImRlcGxveW1lbnRfbmFtZVwiXG5cdFx0fTtcblx0fVxuXHRnZXQgbGNfc2VjcmV0cygpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Li4uc3VwZXIubGNfc2VjcmV0cyxcblx0XHRcdGF6dXJlT3BlbkFJQXBpS2V5OiBcIkFaVVJFX09QRU5BSV9BUElfS0VZXCJcblx0XHR9O1xuXHR9XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdHN1cGVyKGZpZWxkcyk7XG5cdFx0dGhpcy5henVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lID0gKGZpZWxkcz8uYXp1cmVPcGVuQUlBcGlDb21wbGV0aW9uc0RlcGxveW1lbnROYW1lIHx8IGZpZWxkcz8uYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSkgPz8gKGdldEVudmlyb25tZW50VmFyaWFibGUoXCJBWlVSRV9PUEVOQUlfQVBJX0NPTVBMRVRJT05TX0RFUExPWU1FTlRfTkFNRVwiKSB8fCBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9ERVBMT1lNRU5UX05BTUVcIikpO1xuXHRcdHRoaXMuYXp1cmVPcGVuQUlBcGlLZXkgPSBmaWVsZHM/LmF6dXJlT3BlbkFJQXBpS2V5ID8/IGZpZWxkcz8ub3BlbkFJQXBpS2V5ID8/IGZpZWxkcz8uYXBpS2V5ID8/IGdldEVudmlyb25tZW50VmFyaWFibGUoXCJBWlVSRV9PUEVOQUlfQVBJX0tFWVwiKTtcblx0XHR0aGlzLmF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lID0gZmllbGRzPy5henVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZSA/PyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9JTlNUQU5DRV9OQU1FXCIpO1xuXHRcdHRoaXMuYXp1cmVPcGVuQUlBcGlWZXJzaW9uID0gZmllbGRzPy5henVyZU9wZW5BSUFwaVZlcnNpb24gPz8gZmllbGRzPy5vcGVuQUlBcGlWZXJzaW9uID8/IGdldEVudmlyb25tZW50VmFyaWFibGUoXCJBWlVSRV9PUEVOQUlfQVBJX1ZFUlNJT05cIik7XG5cdFx0dGhpcy5henVyZU9wZW5BSUJhc2VQYXRoID0gZmllbGRzPy5henVyZU9wZW5BSUJhc2VQYXRoID8/IGdldEVudmlyb25tZW50VmFyaWFibGUoXCJBWlVSRV9PUEVOQUlfQkFTRV9QQVRIXCIpO1xuXHRcdHRoaXMuYXp1cmVPcGVuQUlFbmRwb2ludCA9IGZpZWxkcz8uYXp1cmVPcGVuQUlFbmRwb2ludCA/PyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0VORFBPSU5UXCIpO1xuXHRcdHRoaXMuYXp1cmVBRFRva2VuUHJvdmlkZXIgPSBmaWVsZHM/LmF6dXJlQURUb2tlblByb3ZpZGVyO1xuXHRcdGlmICghdGhpcy5henVyZU9wZW5BSUFwaUtleSAmJiAhdGhpcy5hcGlLZXkgJiYgIXRoaXMuYXp1cmVBRFRva2VuUHJvdmlkZXIpIHRocm93IG5ldyBFcnJvcihcIkF6dXJlIE9wZW5BSSBBUEkga2V5IG9yIFRva2VuIFByb3ZpZGVyIG5vdCBmb3VuZFwiKTtcblx0fVxuXHRfZ2V0Q2xpZW50T3B0aW9ucyhvcHRpb25zKSB7XG5cdFx0aWYgKCF0aGlzLmNsaWVudCkge1xuXHRcdFx0Y29uc3Qgb3BlbkFJRW5kcG9pbnRDb25maWcgPSB7XG5cdFx0XHRcdGF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWU6IHRoaXMuYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSxcblx0XHRcdFx0YXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWU6IHRoaXMuYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWUsXG5cdFx0XHRcdGF6dXJlT3BlbkFJQXBpS2V5OiB0aGlzLmF6dXJlT3BlbkFJQXBpS2V5LFxuXHRcdFx0XHRhenVyZU9wZW5BSUJhc2VQYXRoOiB0aGlzLmF6dXJlT3BlbkFJQmFzZVBhdGgsXG5cdFx0XHRcdGF6dXJlQURUb2tlblByb3ZpZGVyOiB0aGlzLmF6dXJlQURUb2tlblByb3ZpZGVyLFxuXHRcdFx0XHRiYXNlVVJMOiB0aGlzLmNsaWVudENvbmZpZy5iYXNlVVJMXG5cdFx0XHR9O1xuXHRcdFx0Y29uc3QgZW5kcG9pbnQgPSBnZXRFbmRwb2ludChvcGVuQUlFbmRwb2ludENvbmZpZyk7XG5cdFx0XHRjb25zdCBwYXJhbXMgPSB7XG5cdFx0XHRcdC4uLnRoaXMuY2xpZW50Q29uZmlnLFxuXHRcdFx0XHRiYXNlVVJMOiBlbmRwb2ludCxcblx0XHRcdFx0dGltZW91dDogdGhpcy50aW1lb3V0LFxuXHRcdFx0XHRtYXhSZXRyaWVzOiAwXG5cdFx0XHR9O1xuXHRcdFx0aWYgKCF0aGlzLmF6dXJlQURUb2tlblByb3ZpZGVyKSBwYXJhbXMuYXBpS2V5ID0gb3BlbkFJRW5kcG9pbnRDb25maWcuYXp1cmVPcGVuQUlBcGlLZXk7XG5cdFx0XHRpZiAoIXBhcmFtcy5iYXNlVVJMKSBkZWxldGUgcGFyYW1zLmJhc2VVUkw7XG5cdFx0XHRjb25zdCBkZWZhdWx0SGVhZGVycyA9IG5vcm1hbGl6ZUhlYWRlcnMocGFyYW1zLmRlZmF1bHRIZWFkZXJzKTtcblx0XHRcdHBhcmFtcy5kZWZhdWx0SGVhZGVycyA9IHtcblx0XHRcdFx0Li4ucGFyYW1zLmRlZmF1bHRIZWFkZXJzLFxuXHRcdFx0XHRcIlVzZXItQWdlbnRcIjogZGVmYXVsdEhlYWRlcnNbXCJVc2VyLUFnZW50XCJdID8gYCR7ZGVmYXVsdEhlYWRlcnNbXCJVc2VyLUFnZW50XCJdfTogbGFuZ2NoYWluanMtYXp1cmUtb3BlbmFpLXYyYCA6IGBsYW5nY2hhaW5qcy1henVyZS1vcGVuYWktdjJgXG5cdFx0XHR9O1xuXHRcdFx0dGhpcy5jbGllbnQgPSBuZXcgQXp1cmVPcGVuQUkoe1xuXHRcdFx0XHRhcGlWZXJzaW9uOiB0aGlzLmF6dXJlT3BlbkFJQXBpVmVyc2lvbixcblx0XHRcdFx0YXp1cmVBRFRva2VuUHJvdmlkZXI6IHRoaXMuYXp1cmVBRFRva2VuUHJvdmlkZXIsXG5cdFx0XHRcdC4uLnBhcmFtc1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdGNvbnN0IHJlcXVlc3RPcHRpb25zID0ge1xuXHRcdFx0Li4udGhpcy5jbGllbnRDb25maWcsXG5cdFx0XHQuLi5vcHRpb25zXG5cdFx0fTtcblx0XHRpZiAodGhpcy5henVyZU9wZW5BSUFwaUtleSkge1xuXHRcdFx0cmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IHtcblx0XHRcdFx0XCJhcGkta2V5XCI6IHRoaXMuYXp1cmVPcGVuQUlBcGlLZXksXG5cdFx0XHRcdC4uLnJlcXVlc3RPcHRpb25zLmhlYWRlcnNcblx0XHRcdH07XG5cdFx0XHRyZXF1ZXN0T3B0aW9ucy5xdWVyeSA9IHtcblx0XHRcdFx0XCJhcGktdmVyc2lvblwiOiB0aGlzLmF6dXJlT3BlbkFJQXBpVmVyc2lvbixcblx0XHRcdFx0Li4ucmVxdWVzdE9wdGlvbnMucXVlcnlcblx0XHRcdH07XG5cdFx0fVxuXHRcdHJldHVybiByZXF1ZXN0T3B0aW9ucztcblx0fVxuXHR0b0pTT04oKSB7XG5cdFx0Y29uc3QganNvbiA9IHN1cGVyLnRvSlNPTigpO1xuXHRcdGZ1bmN0aW9uIGlzUmVjb3JkKG9iaikge1xuXHRcdFx0cmV0dXJuIHR5cGVvZiBvYmogPT09IFwib2JqZWN0XCIgJiYgb2JqICE9IG51bGw7XG5cdFx0fVxuXHRcdGlmIChpc1JlY29yZChqc29uKSAmJiBpc1JlY29yZChqc29uLmt3YXJncykpIHtcblx0XHRcdGRlbGV0ZSBqc29uLmt3YXJncy5henVyZV9vcGVuYWlfYmFzZV9wYXRoO1xuXHRcdFx0ZGVsZXRlIGpzb24ua3dhcmdzLmF6dXJlX29wZW5haV9hcGlfZGVwbG95bWVudF9uYW1lO1xuXHRcdFx0ZGVsZXRlIGpzb24ua3dhcmdzLmF6dXJlX29wZW5haV9hcGlfa2V5O1xuXHRcdFx0ZGVsZXRlIGpzb24ua3dhcmdzLmF6dXJlX29wZW5haV9hcGlfdmVyc2lvbjtcblx0XHRcdGRlbGV0ZSBqc29uLmt3YXJncy5henVyZV9vcGVuX2FpX2Jhc2VfcGF0aDtcblx0XHR9XG5cdFx0cmV0dXJuIGpzb247XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQXp1cmVPcGVuQUkkMSBhcyBBenVyZU9wZW5BSSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGxtcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/azure/llms.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/chat_models/base.js":
/*!*********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/chat_models/base.js ***!
  \*********************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseChatOpenAI: () => (/* binding */ BaseChatOpenAI)\n/* harmony export */ });\n/* harmony import */ var _utils_misc_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/misc.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/misc.js\");\n/* harmony import */ var _utils_azure_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/azure.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/azure.js\");\n/* harmony import */ var _utils_tools_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/tools.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/tools.js\");\n/* harmony import */ var _utils_output_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/output.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/output.js\");\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! openai */ \"(rsc)/./node_modules/.pnpm/openai@6.7.0_ws@8.18.3_zod@3.25.76/node_modules/openai/index.mjs\");\n/* harmony import */ var _langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @langchain/core/utils/env */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/env.js\");\n/* harmony import */ var _langchain_core_language_models_chat_models__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @langchain/core/language_models/chat_models */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/language_models/chat_models.js\");\n/* harmony import */ var _langchain_core_language_models_base__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @langchain/core/language_models/base */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/language_models/base.js\");\n/* harmony import */ var _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @langchain/core/runnables */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/index.js\");\n/* harmony import */ var _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @langchain/core/output_parsers */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/index.js\");\n/* harmony import */ var _langchain_core_output_parsers_openai_tools__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @langchain/core/output_parsers/openai_tools */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/openai_tools/index.js\");\n/* harmony import */ var _langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @langchain/core/utils/types */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/types/index.js\");\n/* harmony import */ var _langchain_core_utils_json_schema__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @langchain/core/utils/json_schema */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/json_schema.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//#region src/chat_models/base.ts\n/** @internal */\nvar BaseChatOpenAI = class extends _langchain_core_language_models_chat_models__WEBPACK_IMPORTED_MODULE_6__.BaseChatModel {\n\ttemperature;\n\ttopP;\n\tfrequencyPenalty;\n\tpresencePenalty;\n\tn;\n\tlogitBias;\n\tmodel = \"gpt-3.5-turbo\";\n\tmodelKwargs;\n\tstop;\n\tstopSequences;\n\tuser;\n\ttimeout;\n\tstreaming = false;\n\tstreamUsage = true;\n\tmaxTokens;\n\tlogprobs;\n\ttopLogprobs;\n\tapiKey;\n\torganization;\n\t__includeRawResponse;\n\t/** @internal */\n\tclient;\n\t/** @internal */\n\tclientConfig;\n\t/**\n\t* Whether the model supports the `strict` argument when passing in tools.\n\t* If `undefined` the `strict` argument will not be passed to OpenAI.\n\t*/\n\tsupportsStrictToolCalling;\n\taudio;\n\tmodalities;\n\treasoning;\n\t/**\n\t* Must be set to `true` in tenancies with Zero Data Retention. Setting to `true` will disable\n\t* output storage in the Responses API, but this DOES NOT enable Zero Data Retention in your\n\t* OpenAI organization or project. This must be configured directly with OpenAI.\n\t*\n\t* See:\n\t* https://platform.openai.com/docs/guides/your-data\n\t* https://platform.openai.com/docs/api-reference/responses/create#responses-create-store\n\t*\n\t* @default false\n\t*/\n\tzdrEnabled;\n\t/**\n\t* Service tier to use for this request. Can be \"auto\", \"default\", or \"flex\" or \"priority\".\n\t* Specifies the service tier for prioritization and latency optimization.\n\t*/\n\tservice_tier;\n\t/**\n\t* Used by OpenAI to cache responses for similar requests to optimize your cache\n\t* hit rates.\n\t* [Learn more](https://platform.openai.com/docs/guides/prompt-caching).\n\t*/\n\tpromptCacheKey;\n\t/**\n\t* The verbosity of the model's response.\n\t*/\n\tverbosity;\n\tdefaultOptions;\n\t_llmType() {\n\t\treturn \"openai\";\n\t}\n\tstatic lc_name() {\n\t\treturn \"ChatOpenAI\";\n\t}\n\tget callKeys() {\n\t\treturn [\n\t\t\t...super.callKeys,\n\t\t\t\"options\",\n\t\t\t\"function_call\",\n\t\t\t\"functions\",\n\t\t\t\"tools\",\n\t\t\t\"tool_choice\",\n\t\t\t\"promptIndex\",\n\t\t\t\"response_format\",\n\t\t\t\"seed\",\n\t\t\t\"reasoning\",\n\t\t\t\"service_tier\"\n\t\t];\n\t}\n\tlc_serializable = true;\n\tget lc_secrets() {\n\t\treturn {\n\t\t\tapiKey: \"OPENAI_API_KEY\",\n\t\t\torganization: \"OPENAI_ORGANIZATION\"\n\t\t};\n\t}\n\tget lc_aliases() {\n\t\treturn {\n\t\t\tapiKey: \"openai_api_key\",\n\t\t\tmodelName: \"model\"\n\t\t};\n\t}\n\tget lc_serializable_keys() {\n\t\treturn [\n\t\t\t\"configuration\",\n\t\t\t\"logprobs\",\n\t\t\t\"topLogprobs\",\n\t\t\t\"prefixMessages\",\n\t\t\t\"supportsStrictToolCalling\",\n\t\t\t\"modalities\",\n\t\t\t\"audio\",\n\t\t\t\"temperature\",\n\t\t\t\"maxTokens\",\n\t\t\t\"topP\",\n\t\t\t\"frequencyPenalty\",\n\t\t\t\"presencePenalty\",\n\t\t\t\"n\",\n\t\t\t\"logitBias\",\n\t\t\t\"user\",\n\t\t\t\"streaming\",\n\t\t\t\"streamUsage\",\n\t\t\t\"model\",\n\t\t\t\"modelName\",\n\t\t\t\"modelKwargs\",\n\t\t\t\"stop\",\n\t\t\t\"stopSequences\",\n\t\t\t\"timeout\",\n\t\t\t\"apiKey\",\n\t\t\t\"cache\",\n\t\t\t\"maxConcurrency\",\n\t\t\t\"maxRetries\",\n\t\t\t\"verbose\",\n\t\t\t\"callbacks\",\n\t\t\t\"tags\",\n\t\t\t\"metadata\",\n\t\t\t\"disableStreaming\",\n\t\t\t\"zdrEnabled\",\n\t\t\t\"reasoning\",\n\t\t\t\"promptCacheKey\",\n\t\t\t\"verbosity\"\n\t\t];\n\t}\n\tgetLsParams(options) {\n\t\tconst params = this.invocationParams(options);\n\t\treturn {\n\t\t\tls_provider: \"openai\",\n\t\t\tls_model_name: this.model,\n\t\t\tls_model_type: \"chat\",\n\t\t\tls_temperature: params.temperature ?? void 0,\n\t\t\tls_max_tokens: params.max_tokens ?? void 0,\n\t\t\tls_stop: options.stop\n\t\t};\n\t}\n\t/** @ignore */\n\t_identifyingParams() {\n\t\treturn {\n\t\t\tmodel_name: this.model,\n\t\t\t...this.invocationParams(),\n\t\t\t...this.clientConfig\n\t\t};\n\t}\n\t/**\n\t* Get the identifying parameters for the model\n\t*/\n\tidentifyingParams() {\n\t\treturn this._identifyingParams();\n\t}\n\tconstructor(fields) {\n\t\tsuper(fields ?? {});\n\t\tconst configApiKey = typeof fields?.configuration?.apiKey === \"string\" ? fields?.configuration?.apiKey : void 0;\n\t\tthis.apiKey = fields?.apiKey ?? configApiKey ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_5__.getEnvironmentVariable)(\"OPENAI_API_KEY\");\n\t\tthis.organization = fields?.configuration?.organization ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_5__.getEnvironmentVariable)(\"OPENAI_ORGANIZATION\");\n\t\tthis.model = fields?.model ?? fields?.modelName ?? this.model;\n\t\tthis.modelKwargs = fields?.modelKwargs ?? {};\n\t\tthis.timeout = fields?.timeout;\n\t\tthis.temperature = fields?.temperature ?? this.temperature;\n\t\tthis.topP = fields?.topP ?? this.topP;\n\t\tthis.frequencyPenalty = fields?.frequencyPenalty ?? this.frequencyPenalty;\n\t\tthis.presencePenalty = fields?.presencePenalty ?? this.presencePenalty;\n\t\tthis.logprobs = fields?.logprobs;\n\t\tthis.topLogprobs = fields?.topLogprobs;\n\t\tthis.n = fields?.n ?? this.n;\n\t\tthis.logitBias = fields?.logitBias;\n\t\tthis.stop = fields?.stopSequences ?? fields?.stop;\n\t\tthis.stopSequences = this.stop;\n\t\tthis.user = fields?.user;\n\t\tthis.__includeRawResponse = fields?.__includeRawResponse;\n\t\tthis.audio = fields?.audio;\n\t\tthis.modalities = fields?.modalities;\n\t\tthis.reasoning = fields?.reasoning;\n\t\tthis.maxTokens = fields?.maxCompletionTokens ?? fields?.maxTokens;\n\t\tthis.promptCacheKey = fields?.promptCacheKey ?? this.promptCacheKey;\n\t\tthis.verbosity = fields?.verbosity ?? this.verbosity;\n\t\tthis.disableStreaming = fields?.disableStreaming === true;\n\t\tthis.streaming = fields?.streaming === true;\n\t\tif (this.disableStreaming) this.streaming = false;\n\t\tif (fields?.streaming === false) this.disableStreaming = true;\n\t\tthis.streamUsage = fields?.streamUsage ?? this.streamUsage;\n\t\tif (this.disableStreaming) this.streamUsage = false;\n\t\tthis.clientConfig = {\n\t\t\tapiKey: this.apiKey,\n\t\t\torganization: this.organization,\n\t\t\tdangerouslyAllowBrowser: true,\n\t\t\t...fields?.configuration\n\t\t};\n\t\tif (fields?.supportsStrictToolCalling !== void 0) this.supportsStrictToolCalling = fields.supportsStrictToolCalling;\n\t\tif (fields?.service_tier !== void 0) this.service_tier = fields.service_tier;\n\t\tthis.zdrEnabled = fields?.zdrEnabled ?? false;\n\t}\n\t/**\n\t* Returns backwards compatible reasoning parameters from constructor params and call options\n\t* @internal\n\t*/\n\t_getReasoningParams(options) {\n\t\tif (!(0,_utils_misc_js__WEBPACK_IMPORTED_MODULE_0__.isReasoningModel)(this.model)) return;\n\t\tlet reasoning;\n\t\tif (this.reasoning !== void 0) reasoning = {\n\t\t\t...reasoning,\n\t\t\t...this.reasoning\n\t\t};\n\t\tif (options?.reasoning !== void 0) reasoning = {\n\t\t\t...reasoning,\n\t\t\t...options.reasoning\n\t\t};\n\t\treturn reasoning;\n\t}\n\t/**\n\t* Returns an openai compatible response format from a set of options\n\t* @internal\n\t*/\n\t_getResponseFormat(resFormat) {\n\t\tif (resFormat && resFormat.type === \"json_schema\" && resFormat.json_schema.schema && (0,_langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_11__.isInteropZodSchema)(resFormat.json_schema.schema)) return (0,_utils_output_js__WEBPACK_IMPORTED_MODULE_3__.interopZodResponseFormat)(resFormat.json_schema.schema, resFormat.json_schema.name, { description: resFormat.json_schema.description });\n\t\treturn resFormat;\n\t}\n\t_combineCallOptions(additionalOptions) {\n\t\treturn {\n\t\t\t...this.defaultOptions,\n\t\t\t...additionalOptions ?? {}\n\t\t};\n\t}\n\t/** @internal */\n\t_getClientOptions(options) {\n\t\tif (!this.client) {\n\t\t\tconst openAIEndpointConfig = { baseURL: this.clientConfig.baseURL };\n\t\t\tconst endpoint = (0,_utils_azure_js__WEBPACK_IMPORTED_MODULE_1__.getEndpoint)(openAIEndpointConfig);\n\t\t\tconst params = {\n\t\t\t\t...this.clientConfig,\n\t\t\t\tbaseURL: endpoint,\n\t\t\t\ttimeout: this.timeout,\n\t\t\t\tmaxRetries: 0\n\t\t\t};\n\t\t\tif (!params.baseURL) delete params.baseURL;\n\t\t\tthis.client = new openai__WEBPACK_IMPORTED_MODULE_4__.OpenAI(params);\n\t\t}\n\t\tconst requestOptions = {\n\t\t\t...this.clientConfig,\n\t\t\t...options\n\t\t};\n\t\treturn requestOptions;\n\t}\n\t_convertChatOpenAIToolToCompletionsTool(tool, fields) {\n\t\tif ((0,_utils_tools_js__WEBPACK_IMPORTED_MODULE_2__.isCustomTool)(tool)) return (0,_utils_tools_js__WEBPACK_IMPORTED_MODULE_2__.convertResponsesCustomTool)(tool.metadata.customTool);\n\t\tif ((0,_langchain_core_language_models_base__WEBPACK_IMPORTED_MODULE_7__.isOpenAITool)(tool)) {\n\t\t\tif (fields?.strict !== void 0) return {\n\t\t\t\t...tool,\n\t\t\t\tfunction: {\n\t\t\t\t\t...tool.function,\n\t\t\t\t\tstrict: fields.strict\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn tool;\n\t\t}\n\t\treturn (0,_utils_tools_js__WEBPACK_IMPORTED_MODULE_2__._convertToOpenAITool)(tool, fields);\n\t}\n\tbindTools(tools, kwargs) {\n\t\tlet strict;\n\t\tif (kwargs?.strict !== void 0) strict = kwargs.strict;\n\t\telse if (this.supportsStrictToolCalling !== void 0) strict = this.supportsStrictToolCalling;\n\t\treturn this.withConfig({\n\t\t\ttools: tools.map((tool) => (0,_utils_tools_js__WEBPACK_IMPORTED_MODULE_2__.isBuiltInTool)(tool) || (0,_utils_tools_js__WEBPACK_IMPORTED_MODULE_2__.isCustomTool)(tool) ? tool : this._convertChatOpenAIToolToCompletionsTool(tool, { strict })),\n\t\t\t...kwargs\n\t\t});\n\t}\n\tasync stream(input, options) {\n\t\treturn super.stream(input, this._combineCallOptions(options));\n\t}\n\tasync invoke(input, options) {\n\t\treturn super.invoke(input, this._combineCallOptions(options));\n\t}\n\t/** @ignore */\n\t_combineLLMOutput(...llmOutputs) {\n\t\treturn llmOutputs.reduce((acc, llmOutput) => {\n\t\t\tif (llmOutput && llmOutput.tokenUsage) {\n\t\t\t\tacc.tokenUsage.completionTokens += llmOutput.tokenUsage.completionTokens ?? 0;\n\t\t\t\tacc.tokenUsage.promptTokens += llmOutput.tokenUsage.promptTokens ?? 0;\n\t\t\t\tacc.tokenUsage.totalTokens += llmOutput.tokenUsage.totalTokens ?? 0;\n\t\t\t}\n\t\t\treturn acc;\n\t\t}, { tokenUsage: {\n\t\t\tcompletionTokens: 0,\n\t\t\tpromptTokens: 0,\n\t\t\ttotalTokens: 0\n\t\t} });\n\t}\n\tasync getNumTokensFromMessages(messages) {\n\t\tlet totalCount = 0;\n\t\tlet tokensPerMessage = 0;\n\t\tlet tokensPerName = 0;\n\t\tif (this.model === \"gpt-3.5-turbo-0301\") {\n\t\t\ttokensPerMessage = 4;\n\t\t\ttokensPerName = -1;\n\t\t} else {\n\t\t\ttokensPerMessage = 3;\n\t\t\ttokensPerName = 1;\n\t\t}\n\t\tconst countPerMessage = await Promise.all(messages.map(async (message) => {\n\t\t\tconst textCount = await this.getNumTokens(message.content);\n\t\t\tconst roleCount = await this.getNumTokens((0,_utils_misc_js__WEBPACK_IMPORTED_MODULE_0__.messageToOpenAIRole)(message));\n\t\t\tconst nameCount = message.name !== void 0 ? tokensPerName + await this.getNumTokens(message.name) : 0;\n\t\t\tlet count = textCount + tokensPerMessage + roleCount + nameCount;\n\t\t\tconst openAIMessage = message;\n\t\t\tif (openAIMessage._getType() === \"function\") count -= 2;\n\t\t\tif (openAIMessage.additional_kwargs?.function_call) count += 3;\n\t\t\tif (openAIMessage?.additional_kwargs.function_call?.name) count += await this.getNumTokens(openAIMessage.additional_kwargs.function_call?.name);\n\t\t\tif (openAIMessage.additional_kwargs.function_call?.arguments) try {\n\t\t\t\tcount += await this.getNumTokens(JSON.stringify(JSON.parse(openAIMessage.additional_kwargs.function_call?.arguments)));\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Error parsing function arguments\", error, JSON.stringify(openAIMessage.additional_kwargs.function_call));\n\t\t\t\tcount += await this.getNumTokens(openAIMessage.additional_kwargs.function_call?.arguments);\n\t\t\t}\n\t\t\ttotalCount += count;\n\t\t\treturn count;\n\t\t}));\n\t\ttotalCount += 3;\n\t\treturn {\n\t\t\ttotalCount,\n\t\t\tcountPerMessage\n\t\t};\n\t}\n\t/** @internal */\n\tasync _getNumTokensFromGenerations(generations) {\n\t\tconst generationUsages = await Promise.all(generations.map(async (generation) => {\n\t\t\tif (generation.message.additional_kwargs?.function_call) return (await this.getNumTokensFromMessages([generation.message])).countPerMessage[0];\n\t\t\telse return await this.getNumTokens(generation.message.content);\n\t\t}));\n\t\treturn generationUsages.reduce((a, b) => a + b, 0);\n\t}\n\t/** @internal */\n\tasync _getEstimatedTokenCountFromPrompt(messages, functions, function_call) {\n\t\tlet tokens = (await this.getNumTokensFromMessages(messages)).totalCount;\n\t\tif (functions && function_call !== \"auto\") {\n\t\t\tconst promptDefinitions = (0,_utils_tools_js__WEBPACK_IMPORTED_MODULE_2__.formatFunctionDefinitions)(functions);\n\t\t\ttokens += await this.getNumTokens(promptDefinitions);\n\t\t\ttokens += 9;\n\t\t}\n\t\tif (functions && messages.find((m) => m._getType() === \"system\")) tokens -= 4;\n\t\tif (function_call === \"none\") tokens += 1;\n\t\telse if (typeof function_call === \"object\") tokens += await this.getNumTokens(function_call.name) + 4;\n\t\treturn tokens;\n\t}\n\t/** @internal */\n\t_getStructuredOutputMethod(config) {\n\t\tconst ensuredConfig = { ...config };\n\t\tif (!this.model.startsWith(\"gpt-3\") && !this.model.startsWith(\"gpt-4-\") && this.model !== \"gpt-4\") {\n\t\t\tif (ensuredConfig?.method === void 0) return \"jsonSchema\";\n\t\t} else if (ensuredConfig.method === \"jsonSchema\") console.warn(`[WARNING]: JSON Schema is not supported for model \"${this.model}\". Falling back to tool calling.`);\n\t\treturn ensuredConfig.method;\n\t}\n\t/**\n\t* Add structured output to the model.\n\t*\n\t* The OpenAI model family supports the following structured output methods:\n\t* - `jsonSchema`: Use the `response_format` field in the response to return a JSON schema. Only supported with the `gpt-4o-mini`,\n\t*   `gpt-4o-mini-2024-07-18`, and `gpt-4o-2024-08-06` model snapshots and later.\n\t* - `functionCalling`: Function calling is useful when you are building an application that bridges the models and functionality\n\t*   of your application.\n\t* - `jsonMode`: JSON mode is a more basic version of the Structured Outputs feature. While JSON mode ensures that model\n\t*   output is valid JSON, Structured Outputs reliably matches the model's output to the schema you specify.\n\t*   We recommend you use `functionCalling` or `jsonSchema` if it is supported for your use case.\n\t*\n\t* The default method is `functionCalling`.\n\t*\n\t* @see https://platform.openai.com/docs/guides/structured-outputs\n\t* @param outputSchema - The schema to use for structured output.\n\t* @param config - The structured output method options.\n\t* @returns The model with structured output.\n\t*/\n\twithStructuredOutput(outputSchema, config) {\n\t\tlet llm;\n\t\tlet outputParser;\n\t\tconst { schema, name, includeRaw } = {\n\t\t\t...config,\n\t\t\tschema: outputSchema\n\t\t};\n\t\tif (config?.strict !== void 0 && config.method === \"jsonMode\") throw new Error(\"Argument `strict` is only supported for `method` = 'function_calling'\");\n\t\tconst method = (0,_utils_output_js__WEBPACK_IMPORTED_MODULE_3__.getStructuredOutputMethod)(this.model, config?.method);\n\t\tif (method === \"jsonMode\") {\n\t\t\tif ((0,_langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_11__.isInteropZodSchema)(schema)) outputParser = _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_9__.StructuredOutputParser.fromZodSchema(schema);\n\t\t\telse outputParser = new _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_9__.JsonOutputParser();\n\t\t\tconst asJsonSchema = (0,_langchain_core_utils_json_schema__WEBPACK_IMPORTED_MODULE_12__.toJsonSchema)(schema);\n\t\t\tllm = this.withConfig({\n\t\t\t\toutputVersion: \"v0\",\n\t\t\t\tresponse_format: { type: \"json_object\" },\n\t\t\t\tls_structured_output_format: {\n\t\t\t\t\tkwargs: { method: \"json_mode\" },\n\t\t\t\t\tschema: {\n\t\t\t\t\t\ttitle: name ?? \"extract\",\n\t\t\t\t\t\t...asJsonSchema\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (method === \"jsonSchema\") {\n\t\t\tconst openaiJsonSchemaParams = {\n\t\t\t\tname: name ?? \"extract\",\n\t\t\t\tdescription: (0,_langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_11__.getSchemaDescription)(schema),\n\t\t\t\tschema,\n\t\t\t\tstrict: config?.strict\n\t\t\t};\n\t\t\tconst asJsonSchema = (0,_langchain_core_utils_json_schema__WEBPACK_IMPORTED_MODULE_12__.toJsonSchema)(openaiJsonSchemaParams.schema);\n\t\t\tllm = this.withConfig({\n\t\t\t\toutputVersion: \"v0\",\n\t\t\t\tresponse_format: {\n\t\t\t\t\ttype: \"json_schema\",\n\t\t\t\t\tjson_schema: openaiJsonSchemaParams\n\t\t\t\t},\n\t\t\t\tls_structured_output_format: {\n\t\t\t\t\tkwargs: { method: \"json_schema\" },\n\t\t\t\t\tschema: {\n\t\t\t\t\t\ttitle: openaiJsonSchemaParams.name,\n\t\t\t\t\t\tdescription: openaiJsonSchemaParams.description,\n\t\t\t\t\t\t...asJsonSchema\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tif ((0,_langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_11__.isInteropZodSchema)(schema)) {\n\t\t\t\tconst altParser = _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_9__.StructuredOutputParser.fromZodSchema(schema);\n\t\t\t\toutputParser = _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_8__.RunnableLambda.from((aiMessage) => {\n\t\t\t\t\tif (\"parsed\" in aiMessage.additional_kwargs) return aiMessage.additional_kwargs.parsed;\n\t\t\t\t\treturn altParser;\n\t\t\t\t});\n\t\t\t} else outputParser = new _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_9__.JsonOutputParser();\n\t\t} else {\n\t\t\tlet functionName = name ?? \"extract\";\n\t\t\tif ((0,_langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_11__.isInteropZodSchema)(schema)) {\n\t\t\t\tconst asJsonSchema = (0,_langchain_core_utils_json_schema__WEBPACK_IMPORTED_MODULE_12__.toJsonSchema)(schema);\n\t\t\t\tllm = this.withConfig({\n\t\t\t\t\toutputVersion: \"v0\",\n\t\t\t\t\ttools: [{\n\t\t\t\t\t\ttype: \"function\",\n\t\t\t\t\t\tfunction: {\n\t\t\t\t\t\t\tname: functionName,\n\t\t\t\t\t\t\tdescription: asJsonSchema.description,\n\t\t\t\t\t\t\tparameters: asJsonSchema\n\t\t\t\t\t\t}\n\t\t\t\t\t}],\n\t\t\t\t\ttool_choice: {\n\t\t\t\t\t\ttype: \"function\",\n\t\t\t\t\t\tfunction: { name: functionName }\n\t\t\t\t\t},\n\t\t\t\t\tls_structured_output_format: {\n\t\t\t\t\t\tkwargs: { method: \"function_calling\" },\n\t\t\t\t\t\tschema: {\n\t\t\t\t\t\t\ttitle: functionName,\n\t\t\t\t\t\t\t...asJsonSchema\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t...config?.strict !== void 0 ? { strict: config.strict } : {}\n\t\t\t\t});\n\t\t\t\toutputParser = new _langchain_core_output_parsers_openai_tools__WEBPACK_IMPORTED_MODULE_10__.JsonOutputKeyToolsParser({\n\t\t\t\t\treturnSingle: true,\n\t\t\t\t\tkeyName: functionName,\n\t\t\t\t\tzodSchema: schema\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlet openAIFunctionDefinition;\n\t\t\t\tif (typeof schema.name === \"string\" && typeof schema.parameters === \"object\" && schema.parameters != null) {\n\t\t\t\t\topenAIFunctionDefinition = schema;\n\t\t\t\t\tfunctionName = schema.name;\n\t\t\t\t} else {\n\t\t\t\t\tfunctionName = schema.title ?? functionName;\n\t\t\t\t\topenAIFunctionDefinition = {\n\t\t\t\t\t\tname: functionName,\n\t\t\t\t\t\tdescription: schema.description ?? \"\",\n\t\t\t\t\t\tparameters: schema\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tconst asJsonSchema = (0,_langchain_core_utils_json_schema__WEBPACK_IMPORTED_MODULE_12__.toJsonSchema)(schema);\n\t\t\t\tllm = this.withConfig({\n\t\t\t\t\toutputVersion: \"v0\",\n\t\t\t\t\ttools: [{\n\t\t\t\t\t\ttype: \"function\",\n\t\t\t\t\t\tfunction: openAIFunctionDefinition\n\t\t\t\t\t}],\n\t\t\t\t\ttool_choice: {\n\t\t\t\t\t\ttype: \"function\",\n\t\t\t\t\t\tfunction: { name: functionName }\n\t\t\t\t\t},\n\t\t\t\t\tls_structured_output_format: {\n\t\t\t\t\t\tkwargs: { method: \"function_calling\" },\n\t\t\t\t\t\tschema: {\n\t\t\t\t\t\t\ttitle: functionName,\n\t\t\t\t\t\t\t...asJsonSchema\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t...config?.strict !== void 0 ? { strict: config.strict } : {}\n\t\t\t\t});\n\t\t\t\toutputParser = new _langchain_core_output_parsers_openai_tools__WEBPACK_IMPORTED_MODULE_10__.JsonOutputKeyToolsParser({\n\t\t\t\t\treturnSingle: true,\n\t\t\t\t\tkeyName: functionName\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tif (!includeRaw) return llm.pipe(outputParser);\n\t\tconst parserAssign = _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_8__.RunnablePassthrough.assign({ parsed: (input, config$1) => outputParser.invoke(input.raw, config$1) });\n\t\tconst parserNone = _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_8__.RunnablePassthrough.assign({ parsed: () => null });\n\t\tconst parsedWithFallback = parserAssign.withFallbacks({ fallbacks: [parserNone] });\n\t\treturn _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_8__.RunnableSequence.from([{ raw: llm }, parsedWithFallback]);\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=base.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvcGVuYWlAMS4wLjBfQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfX193c0A4LjE4LjMvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvY2hhdF9tb2RlbHMvYmFzZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUF5RTtBQUN6QjtBQUM2RjtBQUNwRDtBQUM3QztBQUN1QjtBQUNTO0FBQ1I7QUFDOEI7QUFDUjtBQUNIO0FBQ0E7QUFDdEI7O0FBRWpFO0FBQ0E7QUFDQSxtQ0FBbUMsc0ZBQWE7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQSxrREFBa0QsaUZBQXNCO0FBQ3hFLDZEQUE2RCxpRkFBc0I7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxnRUFBZ0I7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RkFBdUYsZ0ZBQWtCLHVDQUF1QywwRUFBd0IsNkRBQTZELGdEQUFnRDtBQUNyUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDLG9CQUFvQiw0REFBVztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiwwQ0FBUTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSw2REFBWSxlQUFlLDJFQUEwQjtBQUMzRCxNQUFNLGtGQUFZO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMscUVBQW9CO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qiw4REFBYSxVQUFVLDZEQUFZLHFFQUFxRSxRQUFRO0FBQzlJO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxJQUFJO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxtRUFBbUI7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLDBFQUF5QjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0EsSUFBSSxtSEFBbUgsV0FBVztBQUNsSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLDJCQUEyQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiwyRUFBeUI7QUFDMUM7QUFDQSxPQUFPLGdGQUFrQix5QkFBeUIsa0ZBQXNCO0FBQ3hFLDJCQUEyQiw0RUFBZ0I7QUFDM0Msd0JBQXdCLGdGQUFZO0FBQ3BDO0FBQ0E7QUFDQSx1QkFBdUIscUJBQXFCO0FBQzVDO0FBQ0EsZUFBZSxxQkFBcUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixJQUFJO0FBQ0o7QUFDQTtBQUNBLGlCQUFpQixrRkFBb0I7QUFDckM7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdGQUFZO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxlQUFlLHVCQUF1QjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osT0FBTyxnRkFBa0I7QUFDekIsc0JBQXNCLGtGQUFzQjtBQUM1QyxtQkFBbUIscUVBQWM7QUFDakM7QUFDQTtBQUNBLEtBQUs7QUFDTCxLQUFLLHdCQUF3Qiw0RUFBZ0I7QUFDN0MsSUFBSTtBQUNKO0FBQ0EsT0FBTyxnRkFBa0I7QUFDekIseUJBQXlCLGdGQUFZO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCLE1BQU07QUFDTjtBQUNBLGdCQUFnQiw0QkFBNEI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sc0NBQXNDLHdCQUF3QjtBQUM5RCxLQUFLO0FBQ0wsdUJBQXVCLGtHQUF3QjtBQUMvQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGdGQUFZO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLGtCQUFrQjtBQUNsQixNQUFNO0FBQ047QUFDQSxnQkFBZ0IsNEJBQTRCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLHNDQUFzQyx3QkFBd0I7QUFDOUQsS0FBSztBQUNMLHVCQUF1QixrR0FBd0I7QUFDL0M7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsMEVBQW1CLFVBQVUsdUVBQXVFO0FBQzNILHFCQUFxQiwwRUFBbUIsVUFBVSxvQkFBb0I7QUFDdEUsMERBQTBELHlCQUF5QjtBQUNuRixTQUFTLHVFQUFnQixTQUFTLFVBQVU7QUFDNUM7QUFDQTs7QUFFQTtBQUMwQjtBQUMxQiIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rb3BlbmFpQDEuMC4wX0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2X19fd3NAOC4xOC4zL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L2NoYXRfbW9kZWxzL2Jhc2UuanM/MjQ5MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc1JlYXNvbmluZ01vZGVsLCBtZXNzYWdlVG9PcGVuQUlSb2xlIH0gZnJvbSBcIi4uL3V0aWxzL21pc2MuanNcIjtcbmltcG9ydCB7IGdldEVuZHBvaW50IH0gZnJvbSBcIi4uL3V0aWxzL2F6dXJlLmpzXCI7XG5pbXBvcnQgeyBfY29udmVydFRvT3BlbkFJVG9vbCwgY29udmVydFJlc3BvbnNlc0N1c3RvbVRvb2wsIGZvcm1hdEZ1bmN0aW9uRGVmaW5pdGlvbnMsIGlzQnVpbHRJblRvb2wsIGlzQ3VzdG9tVG9vbCB9IGZyb20gXCIuLi91dGlscy90b29scy5qc1wiO1xuaW1wb3J0IHsgZ2V0U3RydWN0dXJlZE91dHB1dE1ldGhvZCwgaW50ZXJvcFpvZFJlc3BvbnNlRm9ybWF0IH0gZnJvbSBcIi4uL3V0aWxzL291dHB1dC5qc1wiO1xuaW1wb3J0IHsgT3BlbkFJIGFzIE9wZW5BSSQxIH0gZnJvbSBcIm9wZW5haVwiO1xuaW1wb3J0IHsgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZSB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvdXRpbHMvZW52XCI7XG5pbXBvcnQgeyBCYXNlQ2hhdE1vZGVsIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9sYW5ndWFnZV9tb2RlbHMvY2hhdF9tb2RlbHNcIjtcbmltcG9ydCB7IGlzT3BlbkFJVG9vbCB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvbGFuZ3VhZ2VfbW9kZWxzL2Jhc2VcIjtcbmltcG9ydCB7IFJ1bm5hYmxlTGFtYmRhLCBSdW5uYWJsZVBhc3N0aHJvdWdoLCBSdW5uYWJsZVNlcXVlbmNlIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9ydW5uYWJsZXNcIjtcbmltcG9ydCB7IEpzb25PdXRwdXRQYXJzZXIsIFN0cnVjdHVyZWRPdXRwdXRQYXJzZXIgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL291dHB1dF9wYXJzZXJzXCI7XG5pbXBvcnQgeyBKc29uT3V0cHV0S2V5VG9vbHNQYXJzZXIgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL291dHB1dF9wYXJzZXJzL29wZW5haV90b29sc1wiO1xuaW1wb3J0IHsgZ2V0U2NoZW1hRGVzY3JpcHRpb24sIGlzSW50ZXJvcFpvZFNjaGVtYSB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvdXRpbHMvdHlwZXNcIjtcbmltcG9ydCB7IHRvSnNvblNjaGVtYSB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvdXRpbHMvanNvbl9zY2hlbWFcIjtcblxuLy8jcmVnaW9uIHNyYy9jaGF0X21vZGVscy9iYXNlLnRzXG4vKiogQGludGVybmFsICovXG52YXIgQmFzZUNoYXRPcGVuQUkgPSBjbGFzcyBleHRlbmRzIEJhc2VDaGF0TW9kZWwge1xuXHR0ZW1wZXJhdHVyZTtcblx0dG9wUDtcblx0ZnJlcXVlbmN5UGVuYWx0eTtcblx0cHJlc2VuY2VQZW5hbHR5O1xuXHRuO1xuXHRsb2dpdEJpYXM7XG5cdG1vZGVsID0gXCJncHQtMy41LXR1cmJvXCI7XG5cdG1vZGVsS3dhcmdzO1xuXHRzdG9wO1xuXHRzdG9wU2VxdWVuY2VzO1xuXHR1c2VyO1xuXHR0aW1lb3V0O1xuXHRzdHJlYW1pbmcgPSBmYWxzZTtcblx0c3RyZWFtVXNhZ2UgPSB0cnVlO1xuXHRtYXhUb2tlbnM7XG5cdGxvZ3Byb2JzO1xuXHR0b3BMb2dwcm9icztcblx0YXBpS2V5O1xuXHRvcmdhbml6YXRpb247XG5cdF9faW5jbHVkZVJhd1Jlc3BvbnNlO1xuXHQvKiogQGludGVybmFsICovXG5cdGNsaWVudDtcblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRjbGllbnRDb25maWc7XG5cdC8qKlxuXHQqIFdoZXRoZXIgdGhlIG1vZGVsIHN1cHBvcnRzIHRoZSBgc3RyaWN0YCBhcmd1bWVudCB3aGVuIHBhc3NpbmcgaW4gdG9vbHMuXG5cdCogSWYgYHVuZGVmaW5lZGAgdGhlIGBzdHJpY3RgIGFyZ3VtZW50IHdpbGwgbm90IGJlIHBhc3NlZCB0byBPcGVuQUkuXG5cdCovXG5cdHN1cHBvcnRzU3RyaWN0VG9vbENhbGxpbmc7XG5cdGF1ZGlvO1xuXHRtb2RhbGl0aWVzO1xuXHRyZWFzb25pbmc7XG5cdC8qKlxuXHQqIE11c3QgYmUgc2V0IHRvIGB0cnVlYCBpbiB0ZW5hbmNpZXMgd2l0aCBaZXJvIERhdGEgUmV0ZW50aW9uLiBTZXR0aW5nIHRvIGB0cnVlYCB3aWxsIGRpc2FibGVcblx0KiBvdXRwdXQgc3RvcmFnZSBpbiB0aGUgUmVzcG9uc2VzIEFQSSwgYnV0IHRoaXMgRE9FUyBOT1QgZW5hYmxlIFplcm8gRGF0YSBSZXRlbnRpb24gaW4geW91clxuXHQqIE9wZW5BSSBvcmdhbml6YXRpb24gb3IgcHJvamVjdC4gVGhpcyBtdXN0IGJlIGNvbmZpZ3VyZWQgZGlyZWN0bHkgd2l0aCBPcGVuQUkuXG5cdCpcblx0KiBTZWU6XG5cdCogaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3lvdXItZGF0YVxuXHQqIGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvcmVzcG9uc2VzL2NyZWF0ZSNyZXNwb25zZXMtY3JlYXRlLXN0b3JlXG5cdCpcblx0KiBAZGVmYXVsdCBmYWxzZVxuXHQqL1xuXHR6ZHJFbmFibGVkO1xuXHQvKipcblx0KiBTZXJ2aWNlIHRpZXIgdG8gdXNlIGZvciB0aGlzIHJlcXVlc3QuIENhbiBiZSBcImF1dG9cIiwgXCJkZWZhdWx0XCIsIG9yIFwiZmxleFwiIG9yIFwicHJpb3JpdHlcIi5cblx0KiBTcGVjaWZpZXMgdGhlIHNlcnZpY2UgdGllciBmb3IgcHJpb3JpdGl6YXRpb24gYW5kIGxhdGVuY3kgb3B0aW1pemF0aW9uLlxuXHQqL1xuXHRzZXJ2aWNlX3RpZXI7XG5cdC8qKlxuXHQqIFVzZWQgYnkgT3BlbkFJIHRvIGNhY2hlIHJlc3BvbnNlcyBmb3Igc2ltaWxhciByZXF1ZXN0cyB0byBvcHRpbWl6ZSB5b3VyIGNhY2hlXG5cdCogaGl0IHJhdGVzLlxuXHQqIFtMZWFybiBtb3JlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvcHJvbXB0LWNhY2hpbmcpLlxuXHQqL1xuXHRwcm9tcHRDYWNoZUtleTtcblx0LyoqXG5cdCogVGhlIHZlcmJvc2l0eSBvZiB0aGUgbW9kZWwncyByZXNwb25zZS5cblx0Ki9cblx0dmVyYm9zaXR5O1xuXHRkZWZhdWx0T3B0aW9ucztcblx0X2xsbVR5cGUoKSB7XG5cdFx0cmV0dXJuIFwib3BlbmFpXCI7XG5cdH1cblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiQ2hhdE9wZW5BSVwiO1xuXHR9XG5cdGdldCBjYWxsS2V5cygpIHtcblx0XHRyZXR1cm4gW1xuXHRcdFx0Li4uc3VwZXIuY2FsbEtleXMsXG5cdFx0XHRcIm9wdGlvbnNcIixcblx0XHRcdFwiZnVuY3Rpb25fY2FsbFwiLFxuXHRcdFx0XCJmdW5jdGlvbnNcIixcblx0XHRcdFwidG9vbHNcIixcblx0XHRcdFwidG9vbF9jaG9pY2VcIixcblx0XHRcdFwicHJvbXB0SW5kZXhcIixcblx0XHRcdFwicmVzcG9uc2VfZm9ybWF0XCIsXG5cdFx0XHRcInNlZWRcIixcblx0XHRcdFwicmVhc29uaW5nXCIsXG5cdFx0XHRcInNlcnZpY2VfdGllclwiXG5cdFx0XTtcblx0fVxuXHRsY19zZXJpYWxpemFibGUgPSB0cnVlO1xuXHRnZXQgbGNfc2VjcmV0cygpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0YXBpS2V5OiBcIk9QRU5BSV9BUElfS0VZXCIsXG5cdFx0XHRvcmdhbml6YXRpb246IFwiT1BFTkFJX09SR0FOSVpBVElPTlwiXG5cdFx0fTtcblx0fVxuXHRnZXQgbGNfYWxpYXNlcygpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0YXBpS2V5OiBcIm9wZW5haV9hcGlfa2V5XCIsXG5cdFx0XHRtb2RlbE5hbWU6IFwibW9kZWxcIlxuXHRcdH07XG5cdH1cblx0Z2V0IGxjX3NlcmlhbGl6YWJsZV9rZXlzKCkge1xuXHRcdHJldHVybiBbXG5cdFx0XHRcImNvbmZpZ3VyYXRpb25cIixcblx0XHRcdFwibG9ncHJvYnNcIixcblx0XHRcdFwidG9wTG9ncHJvYnNcIixcblx0XHRcdFwicHJlZml4TWVzc2FnZXNcIixcblx0XHRcdFwic3VwcG9ydHNTdHJpY3RUb29sQ2FsbGluZ1wiLFxuXHRcdFx0XCJtb2RhbGl0aWVzXCIsXG5cdFx0XHRcImF1ZGlvXCIsXG5cdFx0XHRcInRlbXBlcmF0dXJlXCIsXG5cdFx0XHRcIm1heFRva2Vuc1wiLFxuXHRcdFx0XCJ0b3BQXCIsXG5cdFx0XHRcImZyZXF1ZW5jeVBlbmFsdHlcIixcblx0XHRcdFwicHJlc2VuY2VQZW5hbHR5XCIsXG5cdFx0XHRcIm5cIixcblx0XHRcdFwibG9naXRCaWFzXCIsXG5cdFx0XHRcInVzZXJcIixcblx0XHRcdFwic3RyZWFtaW5nXCIsXG5cdFx0XHRcInN0cmVhbVVzYWdlXCIsXG5cdFx0XHRcIm1vZGVsXCIsXG5cdFx0XHRcIm1vZGVsTmFtZVwiLFxuXHRcdFx0XCJtb2RlbEt3YXJnc1wiLFxuXHRcdFx0XCJzdG9wXCIsXG5cdFx0XHRcInN0b3BTZXF1ZW5jZXNcIixcblx0XHRcdFwidGltZW91dFwiLFxuXHRcdFx0XCJhcGlLZXlcIixcblx0XHRcdFwiY2FjaGVcIixcblx0XHRcdFwibWF4Q29uY3VycmVuY3lcIixcblx0XHRcdFwibWF4UmV0cmllc1wiLFxuXHRcdFx0XCJ2ZXJib3NlXCIsXG5cdFx0XHRcImNhbGxiYWNrc1wiLFxuXHRcdFx0XCJ0YWdzXCIsXG5cdFx0XHRcIm1ldGFkYXRhXCIsXG5cdFx0XHRcImRpc2FibGVTdHJlYW1pbmdcIixcblx0XHRcdFwiemRyRW5hYmxlZFwiLFxuXHRcdFx0XCJyZWFzb25pbmdcIixcblx0XHRcdFwicHJvbXB0Q2FjaGVLZXlcIixcblx0XHRcdFwidmVyYm9zaXR5XCJcblx0XHRdO1xuXHR9XG5cdGdldExzUGFyYW1zKG9wdGlvbnMpIHtcblx0XHRjb25zdCBwYXJhbXMgPSB0aGlzLmludm9jYXRpb25QYXJhbXMob3B0aW9ucyk7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGxzX3Byb3ZpZGVyOiBcIm9wZW5haVwiLFxuXHRcdFx0bHNfbW9kZWxfbmFtZTogdGhpcy5tb2RlbCxcblx0XHRcdGxzX21vZGVsX3R5cGU6IFwiY2hhdFwiLFxuXHRcdFx0bHNfdGVtcGVyYXR1cmU6IHBhcmFtcy50ZW1wZXJhdHVyZSA/PyB2b2lkIDAsXG5cdFx0XHRsc19tYXhfdG9rZW5zOiBwYXJhbXMubWF4X3Rva2VucyA/PyB2b2lkIDAsXG5cdFx0XHRsc19zdG9wOiBvcHRpb25zLnN0b3Bcblx0XHR9O1xuXHR9XG5cdC8qKiBAaWdub3JlICovXG5cdF9pZGVudGlmeWluZ1BhcmFtcygpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0bW9kZWxfbmFtZTogdGhpcy5tb2RlbCxcblx0XHRcdC4uLnRoaXMuaW52b2NhdGlvblBhcmFtcygpLFxuXHRcdFx0Li4udGhpcy5jbGllbnRDb25maWdcblx0XHR9O1xuXHR9XG5cdC8qKlxuXHQqIEdldCB0aGUgaWRlbnRpZnlpbmcgcGFyYW1ldGVycyBmb3IgdGhlIG1vZGVsXG5cdCovXG5cdGlkZW50aWZ5aW5nUGFyYW1zKCkge1xuXHRcdHJldHVybiB0aGlzLl9pZGVudGlmeWluZ1BhcmFtcygpO1xuXHR9XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdHN1cGVyKGZpZWxkcyA/PyB7fSk7XG5cdFx0Y29uc3QgY29uZmlnQXBpS2V5ID0gdHlwZW9mIGZpZWxkcz8uY29uZmlndXJhdGlvbj8uYXBpS2V5ID09PSBcInN0cmluZ1wiID8gZmllbGRzPy5jb25maWd1cmF0aW9uPy5hcGlLZXkgOiB2b2lkIDA7XG5cdFx0dGhpcy5hcGlLZXkgPSBmaWVsZHM/LmFwaUtleSA/PyBjb25maWdBcGlLZXkgPz8gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIk9QRU5BSV9BUElfS0VZXCIpO1xuXHRcdHRoaXMub3JnYW5pemF0aW9uID0gZmllbGRzPy5jb25maWd1cmF0aW9uPy5vcmdhbml6YXRpb24gPz8gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIk9QRU5BSV9PUkdBTklaQVRJT05cIik7XG5cdFx0dGhpcy5tb2RlbCA9IGZpZWxkcz8ubW9kZWwgPz8gZmllbGRzPy5tb2RlbE5hbWUgPz8gdGhpcy5tb2RlbDtcblx0XHR0aGlzLm1vZGVsS3dhcmdzID0gZmllbGRzPy5tb2RlbEt3YXJncyA/PyB7fTtcblx0XHR0aGlzLnRpbWVvdXQgPSBmaWVsZHM/LnRpbWVvdXQ7XG5cdFx0dGhpcy50ZW1wZXJhdHVyZSA9IGZpZWxkcz8udGVtcGVyYXR1cmUgPz8gdGhpcy50ZW1wZXJhdHVyZTtcblx0XHR0aGlzLnRvcFAgPSBmaWVsZHM/LnRvcFAgPz8gdGhpcy50b3BQO1xuXHRcdHRoaXMuZnJlcXVlbmN5UGVuYWx0eSA9IGZpZWxkcz8uZnJlcXVlbmN5UGVuYWx0eSA/PyB0aGlzLmZyZXF1ZW5jeVBlbmFsdHk7XG5cdFx0dGhpcy5wcmVzZW5jZVBlbmFsdHkgPSBmaWVsZHM/LnByZXNlbmNlUGVuYWx0eSA/PyB0aGlzLnByZXNlbmNlUGVuYWx0eTtcblx0XHR0aGlzLmxvZ3Byb2JzID0gZmllbGRzPy5sb2dwcm9icztcblx0XHR0aGlzLnRvcExvZ3Byb2JzID0gZmllbGRzPy50b3BMb2dwcm9icztcblx0XHR0aGlzLm4gPSBmaWVsZHM/Lm4gPz8gdGhpcy5uO1xuXHRcdHRoaXMubG9naXRCaWFzID0gZmllbGRzPy5sb2dpdEJpYXM7XG5cdFx0dGhpcy5zdG9wID0gZmllbGRzPy5zdG9wU2VxdWVuY2VzID8/IGZpZWxkcz8uc3RvcDtcblx0XHR0aGlzLnN0b3BTZXF1ZW5jZXMgPSB0aGlzLnN0b3A7XG5cdFx0dGhpcy51c2VyID0gZmllbGRzPy51c2VyO1xuXHRcdHRoaXMuX19pbmNsdWRlUmF3UmVzcG9uc2UgPSBmaWVsZHM/Ll9faW5jbHVkZVJhd1Jlc3BvbnNlO1xuXHRcdHRoaXMuYXVkaW8gPSBmaWVsZHM/LmF1ZGlvO1xuXHRcdHRoaXMubW9kYWxpdGllcyA9IGZpZWxkcz8ubW9kYWxpdGllcztcblx0XHR0aGlzLnJlYXNvbmluZyA9IGZpZWxkcz8ucmVhc29uaW5nO1xuXHRcdHRoaXMubWF4VG9rZW5zID0gZmllbGRzPy5tYXhDb21wbGV0aW9uVG9rZW5zID8/IGZpZWxkcz8ubWF4VG9rZW5zO1xuXHRcdHRoaXMucHJvbXB0Q2FjaGVLZXkgPSBmaWVsZHM/LnByb21wdENhY2hlS2V5ID8/IHRoaXMucHJvbXB0Q2FjaGVLZXk7XG5cdFx0dGhpcy52ZXJib3NpdHkgPSBmaWVsZHM/LnZlcmJvc2l0eSA/PyB0aGlzLnZlcmJvc2l0eTtcblx0XHR0aGlzLmRpc2FibGVTdHJlYW1pbmcgPSBmaWVsZHM/LmRpc2FibGVTdHJlYW1pbmcgPT09IHRydWU7XG5cdFx0dGhpcy5zdHJlYW1pbmcgPSBmaWVsZHM/LnN0cmVhbWluZyA9PT0gdHJ1ZTtcblx0XHRpZiAodGhpcy5kaXNhYmxlU3RyZWFtaW5nKSB0aGlzLnN0cmVhbWluZyA9IGZhbHNlO1xuXHRcdGlmIChmaWVsZHM/LnN0cmVhbWluZyA9PT0gZmFsc2UpIHRoaXMuZGlzYWJsZVN0cmVhbWluZyA9IHRydWU7XG5cdFx0dGhpcy5zdHJlYW1Vc2FnZSA9IGZpZWxkcz8uc3RyZWFtVXNhZ2UgPz8gdGhpcy5zdHJlYW1Vc2FnZTtcblx0XHRpZiAodGhpcy5kaXNhYmxlU3RyZWFtaW5nKSB0aGlzLnN0cmVhbVVzYWdlID0gZmFsc2U7XG5cdFx0dGhpcy5jbGllbnRDb25maWcgPSB7XG5cdFx0XHRhcGlLZXk6IHRoaXMuYXBpS2V5LFxuXHRcdFx0b3JnYW5pemF0aW9uOiB0aGlzLm9yZ2FuaXphdGlvbixcblx0XHRcdGRhbmdlcm91c2x5QWxsb3dCcm93c2VyOiB0cnVlLFxuXHRcdFx0Li4uZmllbGRzPy5jb25maWd1cmF0aW9uXG5cdFx0fTtcblx0XHRpZiAoZmllbGRzPy5zdXBwb3J0c1N0cmljdFRvb2xDYWxsaW5nICE9PSB2b2lkIDApIHRoaXMuc3VwcG9ydHNTdHJpY3RUb29sQ2FsbGluZyA9IGZpZWxkcy5zdXBwb3J0c1N0cmljdFRvb2xDYWxsaW5nO1xuXHRcdGlmIChmaWVsZHM/LnNlcnZpY2VfdGllciAhPT0gdm9pZCAwKSB0aGlzLnNlcnZpY2VfdGllciA9IGZpZWxkcy5zZXJ2aWNlX3RpZXI7XG5cdFx0dGhpcy56ZHJFbmFibGVkID0gZmllbGRzPy56ZHJFbmFibGVkID8/IGZhbHNlO1xuXHR9XG5cdC8qKlxuXHQqIFJldHVybnMgYmFja3dhcmRzIGNvbXBhdGlibGUgcmVhc29uaW5nIHBhcmFtZXRlcnMgZnJvbSBjb25zdHJ1Y3RvciBwYXJhbXMgYW5kIGNhbGwgb3B0aW9uc1xuXHQqIEBpbnRlcm5hbFxuXHQqL1xuXHRfZ2V0UmVhc29uaW5nUGFyYW1zKG9wdGlvbnMpIHtcblx0XHRpZiAoIWlzUmVhc29uaW5nTW9kZWwodGhpcy5tb2RlbCkpIHJldHVybjtcblx0XHRsZXQgcmVhc29uaW5nO1xuXHRcdGlmICh0aGlzLnJlYXNvbmluZyAhPT0gdm9pZCAwKSByZWFzb25pbmcgPSB7XG5cdFx0XHQuLi5yZWFzb25pbmcsXG5cdFx0XHQuLi50aGlzLnJlYXNvbmluZ1xuXHRcdH07XG5cdFx0aWYgKG9wdGlvbnM/LnJlYXNvbmluZyAhPT0gdm9pZCAwKSByZWFzb25pbmcgPSB7XG5cdFx0XHQuLi5yZWFzb25pbmcsXG5cdFx0XHQuLi5vcHRpb25zLnJlYXNvbmluZ1xuXHRcdH07XG5cdFx0cmV0dXJuIHJlYXNvbmluZztcblx0fVxuXHQvKipcblx0KiBSZXR1cm5zIGFuIG9wZW5haSBjb21wYXRpYmxlIHJlc3BvbnNlIGZvcm1hdCBmcm9tIGEgc2V0IG9mIG9wdGlvbnNcblx0KiBAaW50ZXJuYWxcblx0Ki9cblx0X2dldFJlc3BvbnNlRm9ybWF0KHJlc0Zvcm1hdCkge1xuXHRcdGlmIChyZXNGb3JtYXQgJiYgcmVzRm9ybWF0LnR5cGUgPT09IFwianNvbl9zY2hlbWFcIiAmJiByZXNGb3JtYXQuanNvbl9zY2hlbWEuc2NoZW1hICYmIGlzSW50ZXJvcFpvZFNjaGVtYShyZXNGb3JtYXQuanNvbl9zY2hlbWEuc2NoZW1hKSkgcmV0dXJuIGludGVyb3Bab2RSZXNwb25zZUZvcm1hdChyZXNGb3JtYXQuanNvbl9zY2hlbWEuc2NoZW1hLCByZXNGb3JtYXQuanNvbl9zY2hlbWEubmFtZSwgeyBkZXNjcmlwdGlvbjogcmVzRm9ybWF0Lmpzb25fc2NoZW1hLmRlc2NyaXB0aW9uIH0pO1xuXHRcdHJldHVybiByZXNGb3JtYXQ7XG5cdH1cblx0X2NvbWJpbmVDYWxsT3B0aW9ucyhhZGRpdGlvbmFsT3B0aW9ucykge1xuXHRcdHJldHVybiB7XG5cdFx0XHQuLi50aGlzLmRlZmF1bHRPcHRpb25zLFxuXHRcdFx0Li4uYWRkaXRpb25hbE9wdGlvbnMgPz8ge31cblx0XHR9O1xuXHR9XG5cdC8qKiBAaW50ZXJuYWwgKi9cblx0X2dldENsaWVudE9wdGlvbnMob3B0aW9ucykge1xuXHRcdGlmICghdGhpcy5jbGllbnQpIHtcblx0XHRcdGNvbnN0IG9wZW5BSUVuZHBvaW50Q29uZmlnID0geyBiYXNlVVJMOiB0aGlzLmNsaWVudENvbmZpZy5iYXNlVVJMIH07XG5cdFx0XHRjb25zdCBlbmRwb2ludCA9IGdldEVuZHBvaW50KG9wZW5BSUVuZHBvaW50Q29uZmlnKTtcblx0XHRcdGNvbnN0IHBhcmFtcyA9IHtcblx0XHRcdFx0Li4udGhpcy5jbGllbnRDb25maWcsXG5cdFx0XHRcdGJhc2VVUkw6IGVuZHBvaW50LFxuXHRcdFx0XHR0aW1lb3V0OiB0aGlzLnRpbWVvdXQsXG5cdFx0XHRcdG1heFJldHJpZXM6IDBcblx0XHRcdH07XG5cdFx0XHRpZiAoIXBhcmFtcy5iYXNlVVJMKSBkZWxldGUgcGFyYW1zLmJhc2VVUkw7XG5cdFx0XHR0aGlzLmNsaWVudCA9IG5ldyBPcGVuQUkkMShwYXJhbXMpO1xuXHRcdH1cblx0XHRjb25zdCByZXF1ZXN0T3B0aW9ucyA9IHtcblx0XHRcdC4uLnRoaXMuY2xpZW50Q29uZmlnLFxuXHRcdFx0Li4ub3B0aW9uc1xuXHRcdH07XG5cdFx0cmV0dXJuIHJlcXVlc3RPcHRpb25zO1xuXHR9XG5cdF9jb252ZXJ0Q2hhdE9wZW5BSVRvb2xUb0NvbXBsZXRpb25zVG9vbCh0b29sLCBmaWVsZHMpIHtcblx0XHRpZiAoaXNDdXN0b21Ub29sKHRvb2wpKSByZXR1cm4gY29udmVydFJlc3BvbnNlc0N1c3RvbVRvb2wodG9vbC5tZXRhZGF0YS5jdXN0b21Ub29sKTtcblx0XHRpZiAoaXNPcGVuQUlUb29sKHRvb2wpKSB7XG5cdFx0XHRpZiAoZmllbGRzPy5zdHJpY3QgIT09IHZvaWQgMCkgcmV0dXJuIHtcblx0XHRcdFx0Li4udG9vbCxcblx0XHRcdFx0ZnVuY3Rpb246IHtcblx0XHRcdFx0XHQuLi50b29sLmZ1bmN0aW9uLFxuXHRcdFx0XHRcdHN0cmljdDogZmllbGRzLnN0cmljdFxuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0cmV0dXJuIHRvb2w7XG5cdFx0fVxuXHRcdHJldHVybiBfY29udmVydFRvT3BlbkFJVG9vbCh0b29sLCBmaWVsZHMpO1xuXHR9XG5cdGJpbmRUb29scyh0b29scywga3dhcmdzKSB7XG5cdFx0bGV0IHN0cmljdDtcblx0XHRpZiAoa3dhcmdzPy5zdHJpY3QgIT09IHZvaWQgMCkgc3RyaWN0ID0ga3dhcmdzLnN0cmljdDtcblx0XHRlbHNlIGlmICh0aGlzLnN1cHBvcnRzU3RyaWN0VG9vbENhbGxpbmcgIT09IHZvaWQgMCkgc3RyaWN0ID0gdGhpcy5zdXBwb3J0c1N0cmljdFRvb2xDYWxsaW5nO1xuXHRcdHJldHVybiB0aGlzLndpdGhDb25maWcoe1xuXHRcdFx0dG9vbHM6IHRvb2xzLm1hcCgodG9vbCkgPT4gaXNCdWlsdEluVG9vbCh0b29sKSB8fCBpc0N1c3RvbVRvb2wodG9vbCkgPyB0b29sIDogdGhpcy5fY29udmVydENoYXRPcGVuQUlUb29sVG9Db21wbGV0aW9uc1Rvb2wodG9vbCwgeyBzdHJpY3QgfSkpLFxuXHRcdFx0Li4ua3dhcmdzXG5cdFx0fSk7XG5cdH1cblx0YXN5bmMgc3RyZWFtKGlucHV0LCBvcHRpb25zKSB7XG5cdFx0cmV0dXJuIHN1cGVyLnN0cmVhbShpbnB1dCwgdGhpcy5fY29tYmluZUNhbGxPcHRpb25zKG9wdGlvbnMpKTtcblx0fVxuXHRhc3luYyBpbnZva2UoaW5wdXQsIG9wdGlvbnMpIHtcblx0XHRyZXR1cm4gc3VwZXIuaW52b2tlKGlucHV0LCB0aGlzLl9jb21iaW5lQ2FsbE9wdGlvbnMob3B0aW9ucykpO1xuXHR9XG5cdC8qKiBAaWdub3JlICovXG5cdF9jb21iaW5lTExNT3V0cHV0KC4uLmxsbU91dHB1dHMpIHtcblx0XHRyZXR1cm4gbGxtT3V0cHV0cy5yZWR1Y2UoKGFjYywgbGxtT3V0cHV0KSA9PiB7XG5cdFx0XHRpZiAobGxtT3V0cHV0ICYmIGxsbU91dHB1dC50b2tlblVzYWdlKSB7XG5cdFx0XHRcdGFjYy50b2tlblVzYWdlLmNvbXBsZXRpb25Ub2tlbnMgKz0gbGxtT3V0cHV0LnRva2VuVXNhZ2UuY29tcGxldGlvblRva2VucyA/PyAwO1xuXHRcdFx0XHRhY2MudG9rZW5Vc2FnZS5wcm9tcHRUb2tlbnMgKz0gbGxtT3V0cHV0LnRva2VuVXNhZ2UucHJvbXB0VG9rZW5zID8/IDA7XG5cdFx0XHRcdGFjYy50b2tlblVzYWdlLnRvdGFsVG9rZW5zICs9IGxsbU91dHB1dC50b2tlblVzYWdlLnRvdGFsVG9rZW5zID8/IDA7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gYWNjO1xuXHRcdH0sIHsgdG9rZW5Vc2FnZToge1xuXHRcdFx0Y29tcGxldGlvblRva2VuczogMCxcblx0XHRcdHByb21wdFRva2VuczogMCxcblx0XHRcdHRvdGFsVG9rZW5zOiAwXG5cdFx0fSB9KTtcblx0fVxuXHRhc3luYyBnZXROdW1Ub2tlbnNGcm9tTWVzc2FnZXMobWVzc2FnZXMpIHtcblx0XHRsZXQgdG90YWxDb3VudCA9IDA7XG5cdFx0bGV0IHRva2Vuc1Blck1lc3NhZ2UgPSAwO1xuXHRcdGxldCB0b2tlbnNQZXJOYW1lID0gMDtcblx0XHRpZiAodGhpcy5tb2RlbCA9PT0gXCJncHQtMy41LXR1cmJvLTAzMDFcIikge1xuXHRcdFx0dG9rZW5zUGVyTWVzc2FnZSA9IDQ7XG5cdFx0XHR0b2tlbnNQZXJOYW1lID0gLTE7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRva2Vuc1Blck1lc3NhZ2UgPSAzO1xuXHRcdFx0dG9rZW5zUGVyTmFtZSA9IDE7XG5cdFx0fVxuXHRcdGNvbnN0IGNvdW50UGVyTWVzc2FnZSA9IGF3YWl0IFByb21pc2UuYWxsKG1lc3NhZ2VzLm1hcChhc3luYyAobWVzc2FnZSkgPT4ge1xuXHRcdFx0Y29uc3QgdGV4dENvdW50ID0gYXdhaXQgdGhpcy5nZXROdW1Ub2tlbnMobWVzc2FnZS5jb250ZW50KTtcblx0XHRcdGNvbnN0IHJvbGVDb3VudCA9IGF3YWl0IHRoaXMuZ2V0TnVtVG9rZW5zKG1lc3NhZ2VUb09wZW5BSVJvbGUobWVzc2FnZSkpO1xuXHRcdFx0Y29uc3QgbmFtZUNvdW50ID0gbWVzc2FnZS5uYW1lICE9PSB2b2lkIDAgPyB0b2tlbnNQZXJOYW1lICsgYXdhaXQgdGhpcy5nZXROdW1Ub2tlbnMobWVzc2FnZS5uYW1lKSA6IDA7XG5cdFx0XHRsZXQgY291bnQgPSB0ZXh0Q291bnQgKyB0b2tlbnNQZXJNZXNzYWdlICsgcm9sZUNvdW50ICsgbmFtZUNvdW50O1xuXHRcdFx0Y29uc3Qgb3BlbkFJTWVzc2FnZSA9IG1lc3NhZ2U7XG5cdFx0XHRpZiAob3BlbkFJTWVzc2FnZS5fZ2V0VHlwZSgpID09PSBcImZ1bmN0aW9uXCIpIGNvdW50IC09IDI7XG5cdFx0XHRpZiAob3BlbkFJTWVzc2FnZS5hZGRpdGlvbmFsX2t3YXJncz8uZnVuY3Rpb25fY2FsbCkgY291bnQgKz0gMztcblx0XHRcdGlmIChvcGVuQUlNZXNzYWdlPy5hZGRpdGlvbmFsX2t3YXJncy5mdW5jdGlvbl9jYWxsPy5uYW1lKSBjb3VudCArPSBhd2FpdCB0aGlzLmdldE51bVRva2VucyhvcGVuQUlNZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzLmZ1bmN0aW9uX2NhbGw/Lm5hbWUpO1xuXHRcdFx0aWYgKG9wZW5BSU1lc3NhZ2UuYWRkaXRpb25hbF9rd2FyZ3MuZnVuY3Rpb25fY2FsbD8uYXJndW1lbnRzKSB0cnkge1xuXHRcdFx0XHRjb3VudCArPSBhd2FpdCB0aGlzLmdldE51bVRva2VucyhKU09OLnN0cmluZ2lmeShKU09OLnBhcnNlKG9wZW5BSU1lc3NhZ2UuYWRkaXRpb25hbF9rd2FyZ3MuZnVuY3Rpb25fY2FsbD8uYXJndW1lbnRzKSkpO1xuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihcIkVycm9yIHBhcnNpbmcgZnVuY3Rpb24gYXJndW1lbnRzXCIsIGVycm9yLCBKU09OLnN0cmluZ2lmeShvcGVuQUlNZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzLmZ1bmN0aW9uX2NhbGwpKTtcblx0XHRcdFx0Y291bnQgKz0gYXdhaXQgdGhpcy5nZXROdW1Ub2tlbnMob3BlbkFJTWVzc2FnZS5hZGRpdGlvbmFsX2t3YXJncy5mdW5jdGlvbl9jYWxsPy5hcmd1bWVudHMpO1xuXHRcdFx0fVxuXHRcdFx0dG90YWxDb3VudCArPSBjb3VudDtcblx0XHRcdHJldHVybiBjb3VudDtcblx0XHR9KSk7XG5cdFx0dG90YWxDb3VudCArPSAzO1xuXHRcdHJldHVybiB7XG5cdFx0XHR0b3RhbENvdW50LFxuXHRcdFx0Y291bnRQZXJNZXNzYWdlXG5cdFx0fTtcblx0fVxuXHQvKiogQGludGVybmFsICovXG5cdGFzeW5jIF9nZXROdW1Ub2tlbnNGcm9tR2VuZXJhdGlvbnMoZ2VuZXJhdGlvbnMpIHtcblx0XHRjb25zdCBnZW5lcmF0aW9uVXNhZ2VzID0gYXdhaXQgUHJvbWlzZS5hbGwoZ2VuZXJhdGlvbnMubWFwKGFzeW5jIChnZW5lcmF0aW9uKSA9PiB7XG5cdFx0XHRpZiAoZ2VuZXJhdGlvbi5tZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzPy5mdW5jdGlvbl9jYWxsKSByZXR1cm4gKGF3YWl0IHRoaXMuZ2V0TnVtVG9rZW5zRnJvbU1lc3NhZ2VzKFtnZW5lcmF0aW9uLm1lc3NhZ2VdKSkuY291bnRQZXJNZXNzYWdlWzBdO1xuXHRcdFx0ZWxzZSByZXR1cm4gYXdhaXQgdGhpcy5nZXROdW1Ub2tlbnMoZ2VuZXJhdGlvbi5tZXNzYWdlLmNvbnRlbnQpO1xuXHRcdH0pKTtcblx0XHRyZXR1cm4gZ2VuZXJhdGlvblVzYWdlcy5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLCAwKTtcblx0fVxuXHQvKiogQGludGVybmFsICovXG5cdGFzeW5jIF9nZXRFc3RpbWF0ZWRUb2tlbkNvdW50RnJvbVByb21wdChtZXNzYWdlcywgZnVuY3Rpb25zLCBmdW5jdGlvbl9jYWxsKSB7XG5cdFx0bGV0IHRva2VucyA9IChhd2FpdCB0aGlzLmdldE51bVRva2Vuc0Zyb21NZXNzYWdlcyhtZXNzYWdlcykpLnRvdGFsQ291bnQ7XG5cdFx0aWYgKGZ1bmN0aW9ucyAmJiBmdW5jdGlvbl9jYWxsICE9PSBcImF1dG9cIikge1xuXHRcdFx0Y29uc3QgcHJvbXB0RGVmaW5pdGlvbnMgPSBmb3JtYXRGdW5jdGlvbkRlZmluaXRpb25zKGZ1bmN0aW9ucyk7XG5cdFx0XHR0b2tlbnMgKz0gYXdhaXQgdGhpcy5nZXROdW1Ub2tlbnMocHJvbXB0RGVmaW5pdGlvbnMpO1xuXHRcdFx0dG9rZW5zICs9IDk7XG5cdFx0fVxuXHRcdGlmIChmdW5jdGlvbnMgJiYgbWVzc2FnZXMuZmluZCgobSkgPT4gbS5fZ2V0VHlwZSgpID09PSBcInN5c3RlbVwiKSkgdG9rZW5zIC09IDQ7XG5cdFx0aWYgKGZ1bmN0aW9uX2NhbGwgPT09IFwibm9uZVwiKSB0b2tlbnMgKz0gMTtcblx0XHRlbHNlIGlmICh0eXBlb2YgZnVuY3Rpb25fY2FsbCA9PT0gXCJvYmplY3RcIikgdG9rZW5zICs9IGF3YWl0IHRoaXMuZ2V0TnVtVG9rZW5zKGZ1bmN0aW9uX2NhbGwubmFtZSkgKyA0O1xuXHRcdHJldHVybiB0b2tlbnM7XG5cdH1cblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRfZ2V0U3RydWN0dXJlZE91dHB1dE1ldGhvZChjb25maWcpIHtcblx0XHRjb25zdCBlbnN1cmVkQ29uZmlnID0geyAuLi5jb25maWcgfTtcblx0XHRpZiAoIXRoaXMubW9kZWwuc3RhcnRzV2l0aChcImdwdC0zXCIpICYmICF0aGlzLm1vZGVsLnN0YXJ0c1dpdGgoXCJncHQtNC1cIikgJiYgdGhpcy5tb2RlbCAhPT0gXCJncHQtNFwiKSB7XG5cdFx0XHRpZiAoZW5zdXJlZENvbmZpZz8ubWV0aG9kID09PSB2b2lkIDApIHJldHVybiBcImpzb25TY2hlbWFcIjtcblx0XHR9IGVsc2UgaWYgKGVuc3VyZWRDb25maWcubWV0aG9kID09PSBcImpzb25TY2hlbWFcIikgY29uc29sZS53YXJuKGBbV0FSTklOR106IEpTT04gU2NoZW1hIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIG1vZGVsIFwiJHt0aGlzLm1vZGVsfVwiLiBGYWxsaW5nIGJhY2sgdG8gdG9vbCBjYWxsaW5nLmApO1xuXHRcdHJldHVybiBlbnN1cmVkQ29uZmlnLm1ldGhvZDtcblx0fVxuXHQvKipcblx0KiBBZGQgc3RydWN0dXJlZCBvdXRwdXQgdG8gdGhlIG1vZGVsLlxuXHQqXG5cdCogVGhlIE9wZW5BSSBtb2RlbCBmYW1pbHkgc3VwcG9ydHMgdGhlIGZvbGxvd2luZyBzdHJ1Y3R1cmVkIG91dHB1dCBtZXRob2RzOlxuXHQqIC0gYGpzb25TY2hlbWFgOiBVc2UgdGhlIGByZXNwb25zZV9mb3JtYXRgIGZpZWxkIGluIHRoZSByZXNwb25zZSB0byByZXR1cm4gYSBKU09OIHNjaGVtYS4gT25seSBzdXBwb3J0ZWQgd2l0aCB0aGUgYGdwdC00by1taW5pYCxcblx0KiAgIGBncHQtNG8tbWluaS0yMDI0LTA3LTE4YCwgYW5kIGBncHQtNG8tMjAyNC0wOC0wNmAgbW9kZWwgc25hcHNob3RzIGFuZCBsYXRlci5cblx0KiAtIGBmdW5jdGlvbkNhbGxpbmdgOiBGdW5jdGlvbiBjYWxsaW5nIGlzIHVzZWZ1bCB3aGVuIHlvdSBhcmUgYnVpbGRpbmcgYW4gYXBwbGljYXRpb24gdGhhdCBicmlkZ2VzIHRoZSBtb2RlbHMgYW5kIGZ1bmN0aW9uYWxpdHlcblx0KiAgIG9mIHlvdXIgYXBwbGljYXRpb24uXG5cdCogLSBganNvbk1vZGVgOiBKU09OIG1vZGUgaXMgYSBtb3JlIGJhc2ljIHZlcnNpb24gb2YgdGhlIFN0cnVjdHVyZWQgT3V0cHV0cyBmZWF0dXJlLiBXaGlsZSBKU09OIG1vZGUgZW5zdXJlcyB0aGF0IG1vZGVsXG5cdCogICBvdXRwdXQgaXMgdmFsaWQgSlNPTiwgU3RydWN0dXJlZCBPdXRwdXRzIHJlbGlhYmx5IG1hdGNoZXMgdGhlIG1vZGVsJ3Mgb3V0cHV0IHRvIHRoZSBzY2hlbWEgeW91IHNwZWNpZnkuXG5cdCogICBXZSByZWNvbW1lbmQgeW91IHVzZSBgZnVuY3Rpb25DYWxsaW5nYCBvciBganNvblNjaGVtYWAgaWYgaXQgaXMgc3VwcG9ydGVkIGZvciB5b3VyIHVzZSBjYXNlLlxuXHQqXG5cdCogVGhlIGRlZmF1bHQgbWV0aG9kIGlzIGBmdW5jdGlvbkNhbGxpbmdgLlxuXHQqXG5cdCogQHNlZSBodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvc3RydWN0dXJlZC1vdXRwdXRzXG5cdCogQHBhcmFtIG91dHB1dFNjaGVtYSAtIFRoZSBzY2hlbWEgdG8gdXNlIGZvciBzdHJ1Y3R1cmVkIG91dHB1dC5cblx0KiBAcGFyYW0gY29uZmlnIC0gVGhlIHN0cnVjdHVyZWQgb3V0cHV0IG1ldGhvZCBvcHRpb25zLlxuXHQqIEByZXR1cm5zIFRoZSBtb2RlbCB3aXRoIHN0cnVjdHVyZWQgb3V0cHV0LlxuXHQqL1xuXHR3aXRoU3RydWN0dXJlZE91dHB1dChvdXRwdXRTY2hlbWEsIGNvbmZpZykge1xuXHRcdGxldCBsbG07XG5cdFx0bGV0IG91dHB1dFBhcnNlcjtcblx0XHRjb25zdCB7IHNjaGVtYSwgbmFtZSwgaW5jbHVkZVJhdyB9ID0ge1xuXHRcdFx0Li4uY29uZmlnLFxuXHRcdFx0c2NoZW1hOiBvdXRwdXRTY2hlbWFcblx0XHR9O1xuXHRcdGlmIChjb25maWc/LnN0cmljdCAhPT0gdm9pZCAwICYmIGNvbmZpZy5tZXRob2QgPT09IFwianNvbk1vZGVcIikgdGhyb3cgbmV3IEVycm9yKFwiQXJndW1lbnQgYHN0cmljdGAgaXMgb25seSBzdXBwb3J0ZWQgZm9yIGBtZXRob2RgID0gJ2Z1bmN0aW9uX2NhbGxpbmcnXCIpO1xuXHRcdGNvbnN0IG1ldGhvZCA9IGdldFN0cnVjdHVyZWRPdXRwdXRNZXRob2QodGhpcy5tb2RlbCwgY29uZmlnPy5tZXRob2QpO1xuXHRcdGlmIChtZXRob2QgPT09IFwianNvbk1vZGVcIikge1xuXHRcdFx0aWYgKGlzSW50ZXJvcFpvZFNjaGVtYShzY2hlbWEpKSBvdXRwdXRQYXJzZXIgPSBTdHJ1Y3R1cmVkT3V0cHV0UGFyc2VyLmZyb21ab2RTY2hlbWEoc2NoZW1hKTtcblx0XHRcdGVsc2Ugb3V0cHV0UGFyc2VyID0gbmV3IEpzb25PdXRwdXRQYXJzZXIoKTtcblx0XHRcdGNvbnN0IGFzSnNvblNjaGVtYSA9IHRvSnNvblNjaGVtYShzY2hlbWEpO1xuXHRcdFx0bGxtID0gdGhpcy53aXRoQ29uZmlnKHtcblx0XHRcdFx0b3V0cHV0VmVyc2lvbjogXCJ2MFwiLFxuXHRcdFx0XHRyZXNwb25zZV9mb3JtYXQ6IHsgdHlwZTogXCJqc29uX29iamVjdFwiIH0sXG5cdFx0XHRcdGxzX3N0cnVjdHVyZWRfb3V0cHV0X2Zvcm1hdDoge1xuXHRcdFx0XHRcdGt3YXJnczogeyBtZXRob2Q6IFwianNvbl9tb2RlXCIgfSxcblx0XHRcdFx0XHRzY2hlbWE6IHtcblx0XHRcdFx0XHRcdHRpdGxlOiBuYW1lID8/IFwiZXh0cmFjdFwiLFxuXHRcdFx0XHRcdFx0Li4uYXNKc29uU2NoZW1hXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9IGVsc2UgaWYgKG1ldGhvZCA9PT0gXCJqc29uU2NoZW1hXCIpIHtcblx0XHRcdGNvbnN0IG9wZW5haUpzb25TY2hlbWFQYXJhbXMgPSB7XG5cdFx0XHRcdG5hbWU6IG5hbWUgPz8gXCJleHRyYWN0XCIsXG5cdFx0XHRcdGRlc2NyaXB0aW9uOiBnZXRTY2hlbWFEZXNjcmlwdGlvbihzY2hlbWEpLFxuXHRcdFx0XHRzY2hlbWEsXG5cdFx0XHRcdHN0cmljdDogY29uZmlnPy5zdHJpY3Rcblx0XHRcdH07XG5cdFx0XHRjb25zdCBhc0pzb25TY2hlbWEgPSB0b0pzb25TY2hlbWEob3BlbmFpSnNvblNjaGVtYVBhcmFtcy5zY2hlbWEpO1xuXHRcdFx0bGxtID0gdGhpcy53aXRoQ29uZmlnKHtcblx0XHRcdFx0b3V0cHV0VmVyc2lvbjogXCJ2MFwiLFxuXHRcdFx0XHRyZXNwb25zZV9mb3JtYXQ6IHtcblx0XHRcdFx0XHR0eXBlOiBcImpzb25fc2NoZW1hXCIsXG5cdFx0XHRcdFx0anNvbl9zY2hlbWE6IG9wZW5haUpzb25TY2hlbWFQYXJhbXNcblx0XHRcdFx0fSxcblx0XHRcdFx0bHNfc3RydWN0dXJlZF9vdXRwdXRfZm9ybWF0OiB7XG5cdFx0XHRcdFx0a3dhcmdzOiB7IG1ldGhvZDogXCJqc29uX3NjaGVtYVwiIH0sXG5cdFx0XHRcdFx0c2NoZW1hOiB7XG5cdFx0XHRcdFx0XHR0aXRsZTogb3BlbmFpSnNvblNjaGVtYVBhcmFtcy5uYW1lLFxuXHRcdFx0XHRcdFx0ZGVzY3JpcHRpb246IG9wZW5haUpzb25TY2hlbWFQYXJhbXMuZGVzY3JpcHRpb24sXG5cdFx0XHRcdFx0XHQuLi5hc0pzb25TY2hlbWFcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0aWYgKGlzSW50ZXJvcFpvZFNjaGVtYShzY2hlbWEpKSB7XG5cdFx0XHRcdGNvbnN0IGFsdFBhcnNlciA9IFN0cnVjdHVyZWRPdXRwdXRQYXJzZXIuZnJvbVpvZFNjaGVtYShzY2hlbWEpO1xuXHRcdFx0XHRvdXRwdXRQYXJzZXIgPSBSdW5uYWJsZUxhbWJkYS5mcm9tKChhaU1lc3NhZ2UpID0+IHtcblx0XHRcdFx0XHRpZiAoXCJwYXJzZWRcIiBpbiBhaU1lc3NhZ2UuYWRkaXRpb25hbF9rd2FyZ3MpIHJldHVybiBhaU1lc3NhZ2UuYWRkaXRpb25hbF9rd2FyZ3MucGFyc2VkO1xuXHRcdFx0XHRcdHJldHVybiBhbHRQYXJzZXI7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIG91dHB1dFBhcnNlciA9IG5ldyBKc29uT3V0cHV0UGFyc2VyKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGxldCBmdW5jdGlvbk5hbWUgPSBuYW1lID8/IFwiZXh0cmFjdFwiO1xuXHRcdFx0aWYgKGlzSW50ZXJvcFpvZFNjaGVtYShzY2hlbWEpKSB7XG5cdFx0XHRcdGNvbnN0IGFzSnNvblNjaGVtYSA9IHRvSnNvblNjaGVtYShzY2hlbWEpO1xuXHRcdFx0XHRsbG0gPSB0aGlzLndpdGhDb25maWcoe1xuXHRcdFx0XHRcdG91dHB1dFZlcnNpb246IFwidjBcIixcblx0XHRcdFx0XHR0b29sczogW3tcblx0XHRcdFx0XHRcdHR5cGU6IFwiZnVuY3Rpb25cIixcblx0XHRcdFx0XHRcdGZ1bmN0aW9uOiB7XG5cdFx0XHRcdFx0XHRcdG5hbWU6IGZ1bmN0aW9uTmFtZSxcblx0XHRcdFx0XHRcdFx0ZGVzY3JpcHRpb246IGFzSnNvblNjaGVtYS5kZXNjcmlwdGlvbixcblx0XHRcdFx0XHRcdFx0cGFyYW1ldGVyczogYXNKc29uU2NoZW1hXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fV0sXG5cdFx0XHRcdFx0dG9vbF9jaG9pY2U6IHtcblx0XHRcdFx0XHRcdHR5cGU6IFwiZnVuY3Rpb25cIixcblx0XHRcdFx0XHRcdGZ1bmN0aW9uOiB7IG5hbWU6IGZ1bmN0aW9uTmFtZSB9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRsc19zdHJ1Y3R1cmVkX291dHB1dF9mb3JtYXQ6IHtcblx0XHRcdFx0XHRcdGt3YXJnczogeyBtZXRob2Q6IFwiZnVuY3Rpb25fY2FsbGluZ1wiIH0sXG5cdFx0XHRcdFx0XHRzY2hlbWE6IHtcblx0XHRcdFx0XHRcdFx0dGl0bGU6IGZ1bmN0aW9uTmFtZSxcblx0XHRcdFx0XHRcdFx0Li4uYXNKc29uU2NoZW1hXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHQuLi5jb25maWc/LnN0cmljdCAhPT0gdm9pZCAwID8geyBzdHJpY3Q6IGNvbmZpZy5zdHJpY3QgfSA6IHt9XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRvdXRwdXRQYXJzZXIgPSBuZXcgSnNvbk91dHB1dEtleVRvb2xzUGFyc2VyKHtcblx0XHRcdFx0XHRyZXR1cm5TaW5nbGU6IHRydWUsXG5cdFx0XHRcdFx0a2V5TmFtZTogZnVuY3Rpb25OYW1lLFxuXHRcdFx0XHRcdHpvZFNjaGVtYTogc2NoZW1hXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bGV0IG9wZW5BSUZ1bmN0aW9uRGVmaW5pdGlvbjtcblx0XHRcdFx0aWYgKHR5cGVvZiBzY2hlbWEubmFtZSA9PT0gXCJzdHJpbmdcIiAmJiB0eXBlb2Ygc2NoZW1hLnBhcmFtZXRlcnMgPT09IFwib2JqZWN0XCIgJiYgc2NoZW1hLnBhcmFtZXRlcnMgIT0gbnVsbCkge1xuXHRcdFx0XHRcdG9wZW5BSUZ1bmN0aW9uRGVmaW5pdGlvbiA9IHNjaGVtYTtcblx0XHRcdFx0XHRmdW5jdGlvbk5hbWUgPSBzY2hlbWEubmFtZTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRmdW5jdGlvbk5hbWUgPSBzY2hlbWEudGl0bGUgPz8gZnVuY3Rpb25OYW1lO1xuXHRcdFx0XHRcdG9wZW5BSUZ1bmN0aW9uRGVmaW5pdGlvbiA9IHtcblx0XHRcdFx0XHRcdG5hbWU6IGZ1bmN0aW9uTmFtZSxcblx0XHRcdFx0XHRcdGRlc2NyaXB0aW9uOiBzY2hlbWEuZGVzY3JpcHRpb24gPz8gXCJcIixcblx0XHRcdFx0XHRcdHBhcmFtZXRlcnM6IHNjaGVtYVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29uc3QgYXNKc29uU2NoZW1hID0gdG9Kc29uU2NoZW1hKHNjaGVtYSk7XG5cdFx0XHRcdGxsbSA9IHRoaXMud2l0aENvbmZpZyh7XG5cdFx0XHRcdFx0b3V0cHV0VmVyc2lvbjogXCJ2MFwiLFxuXHRcdFx0XHRcdHRvb2xzOiBbe1xuXHRcdFx0XHRcdFx0dHlwZTogXCJmdW5jdGlvblwiLFxuXHRcdFx0XHRcdFx0ZnVuY3Rpb246IG9wZW5BSUZ1bmN0aW9uRGVmaW5pdGlvblxuXHRcdFx0XHRcdH1dLFxuXHRcdFx0XHRcdHRvb2xfY2hvaWNlOiB7XG5cdFx0XHRcdFx0XHR0eXBlOiBcImZ1bmN0aW9uXCIsXG5cdFx0XHRcdFx0XHRmdW5jdGlvbjogeyBuYW1lOiBmdW5jdGlvbk5hbWUgfVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0bHNfc3RydWN0dXJlZF9vdXRwdXRfZm9ybWF0OiB7XG5cdFx0XHRcdFx0XHRrd2FyZ3M6IHsgbWV0aG9kOiBcImZ1bmN0aW9uX2NhbGxpbmdcIiB9LFxuXHRcdFx0XHRcdFx0c2NoZW1hOiB7XG5cdFx0XHRcdFx0XHRcdHRpdGxlOiBmdW5jdGlvbk5hbWUsXG5cdFx0XHRcdFx0XHRcdC4uLmFzSnNvblNjaGVtYVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0Li4uY29uZmlnPy5zdHJpY3QgIT09IHZvaWQgMCA/IHsgc3RyaWN0OiBjb25maWcuc3RyaWN0IH0gOiB7fVxuXHRcdFx0XHR9KTtcblx0XHRcdFx0b3V0cHV0UGFyc2VyID0gbmV3IEpzb25PdXRwdXRLZXlUb29sc1BhcnNlcih7XG5cdFx0XHRcdFx0cmV0dXJuU2luZ2xlOiB0cnVlLFxuXHRcdFx0XHRcdGtleU5hbWU6IGZ1bmN0aW9uTmFtZVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKCFpbmNsdWRlUmF3KSByZXR1cm4gbGxtLnBpcGUob3V0cHV0UGFyc2VyKTtcblx0XHRjb25zdCBwYXJzZXJBc3NpZ24gPSBSdW5uYWJsZVBhc3N0aHJvdWdoLmFzc2lnbih7IHBhcnNlZDogKGlucHV0LCBjb25maWckMSkgPT4gb3V0cHV0UGFyc2VyLmludm9rZShpbnB1dC5yYXcsIGNvbmZpZyQxKSB9KTtcblx0XHRjb25zdCBwYXJzZXJOb25lID0gUnVubmFibGVQYXNzdGhyb3VnaC5hc3NpZ24oeyBwYXJzZWQ6ICgpID0+IG51bGwgfSk7XG5cdFx0Y29uc3QgcGFyc2VkV2l0aEZhbGxiYWNrID0gcGFyc2VyQXNzaWduLndpdGhGYWxsYmFja3MoeyBmYWxsYmFja3M6IFtwYXJzZXJOb25lXSB9KTtcblx0XHRyZXR1cm4gUnVubmFibGVTZXF1ZW5jZS5mcm9tKFt7IHJhdzogbGxtIH0sIHBhcnNlZFdpdGhGYWxsYmFja10pO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEJhc2VDaGF0T3BlbkFJIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iYXNlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/chat_models/base.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/chat_models/completions.js":
/*!****************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/chat_models/completions.js ***!
  \****************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatOpenAICompletions: () => (/* binding */ ChatOpenAICompletions)\n/* harmony export */ });\n/* harmony import */ var _utils_misc_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/misc.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/misc.js\");\n/* harmony import */ var _utils_tools_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/tools.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/tools.js\");\n/* harmony import */ var _utils_output_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/output.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/output.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/chat_models/base.js\");\n/* harmony import */ var _utils_client_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/client.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/client.js\");\n/* harmony import */ var _utils_message_inputs_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/message_inputs.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/message_inputs.js\");\n/* harmony import */ var _langchain_core_output_parsers_openai_tools__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @langchain/core/output_parsers/openai_tools */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/openai_tools/index.js\");\n/* harmony import */ var _langchain_core_messages__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @langchain/core/messages */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/index.js\");\n/* harmony import */ var _langchain_core_outputs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @langchain/core/outputs */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/outputs.js\");\n\n\n\n\n\n\n\n\n\n\n//#region src/chat_models/completions.ts\n/**\n* OpenAI Completions API implementation.\n* @internal\n*/\nvar ChatOpenAICompletions = class extends _base_js__WEBPACK_IMPORTED_MODULE_3__.BaseChatOpenAI {\n\t/** @internal */\n\tinvocationParams(options, extra) {\n\t\tlet strict;\n\t\tif (options?.strict !== void 0) strict = options.strict;\n\t\telse if (this.supportsStrictToolCalling !== void 0) strict = this.supportsStrictToolCalling;\n\t\tlet streamOptionsConfig = {};\n\t\tif (options?.stream_options !== void 0) streamOptionsConfig = { stream_options: options.stream_options };\n\t\telse if (this.streamUsage && (this.streaming || extra?.streaming)) streamOptionsConfig = { stream_options: { include_usage: true } };\n\t\tconst params = {\n\t\t\tmodel: this.model,\n\t\t\ttemperature: this.temperature,\n\t\t\ttop_p: this.topP,\n\t\t\tfrequency_penalty: this.frequencyPenalty,\n\t\t\tpresence_penalty: this.presencePenalty,\n\t\t\tlogprobs: this.logprobs,\n\t\t\ttop_logprobs: this.topLogprobs,\n\t\t\tn: this.n,\n\t\t\tlogit_bias: this.logitBias,\n\t\t\tstop: options?.stop ?? this.stopSequences,\n\t\t\tuser: this.user,\n\t\t\tstream: this.streaming,\n\t\t\tfunctions: options?.functions,\n\t\t\tfunction_call: options?.function_call,\n\t\t\ttools: options?.tools?.length ? options.tools.map((tool) => this._convertChatOpenAIToolToCompletionsTool(tool, { strict })) : void 0,\n\t\t\ttool_choice: (0,_utils_tools_js__WEBPACK_IMPORTED_MODULE_1__.formatToOpenAIToolChoice)(options?.tool_choice),\n\t\t\tresponse_format: this._getResponseFormat(options?.response_format),\n\t\t\tseed: options?.seed,\n\t\t\t...streamOptionsConfig,\n\t\t\tparallel_tool_calls: options?.parallel_tool_calls,\n\t\t\t...this.audio || options?.audio ? { audio: this.audio || options?.audio } : {},\n\t\t\t...this.modalities || options?.modalities ? { modalities: this.modalities || options?.modalities } : {},\n\t\t\t...this.modelKwargs,\n\t\t\tprompt_cache_key: options?.promptCacheKey ?? this.promptCacheKey,\n\t\t\tverbosity: options?.verbosity ?? this.verbosity\n\t\t};\n\t\tif (options?.prediction !== void 0) params.prediction = options.prediction;\n\t\tif (this.service_tier !== void 0) params.service_tier = this.service_tier;\n\t\tif (options?.service_tier !== void 0) params.service_tier = options.service_tier;\n\t\tconst reasoning = this._getReasoningParams(options);\n\t\tif (reasoning !== void 0 && reasoning.effort !== void 0) params.reasoning_effort = reasoning.effort;\n\t\tif ((0,_utils_misc_js__WEBPACK_IMPORTED_MODULE_0__.isReasoningModel)(params.model)) params.max_completion_tokens = this.maxTokens === -1 ? void 0 : this.maxTokens;\n\t\telse params.max_tokens = this.maxTokens === -1 ? void 0 : this.maxTokens;\n\t\treturn params;\n\t}\n\tasync _generate(messages, options, runManager) {\n\t\tconst usageMetadata = {};\n\t\tconst params = this.invocationParams(options);\n\t\tconst messagesMapped = (0,_utils_message_inputs_js__WEBPACK_IMPORTED_MODULE_5__._convertMessagesToOpenAIParams)(messages, this.model);\n\t\tif (params.stream) {\n\t\t\tconst stream = this._streamResponseChunks(messages, options, runManager);\n\t\t\tconst finalChunks = {};\n\t\t\tfor await (const chunk of stream) {\n\t\t\t\tchunk.message.response_metadata = {\n\t\t\t\t\t...chunk.generationInfo,\n\t\t\t\t\t...chunk.message.response_metadata\n\t\t\t\t};\n\t\t\t\tconst index = chunk.generationInfo?.completion ?? 0;\n\t\t\t\tif (finalChunks[index] === void 0) finalChunks[index] = chunk;\n\t\t\t\telse finalChunks[index] = finalChunks[index].concat(chunk);\n\t\t\t}\n\t\t\tconst generations = Object.entries(finalChunks).sort(([aKey], [bKey]) => parseInt(aKey, 10) - parseInt(bKey, 10)).map(([_, value]) => value);\n\t\t\tconst { functions, function_call } = this.invocationParams(options);\n\t\t\tconst promptTokenUsage = await this._getEstimatedTokenCountFromPrompt(messages, functions, function_call);\n\t\t\tconst completionTokenUsage = await this._getNumTokensFromGenerations(generations);\n\t\t\tusageMetadata.input_tokens = promptTokenUsage;\n\t\t\tusageMetadata.output_tokens = completionTokenUsage;\n\t\t\tusageMetadata.total_tokens = promptTokenUsage + completionTokenUsage;\n\t\t\treturn {\n\t\t\t\tgenerations,\n\t\t\t\tllmOutput: { estimatedTokenUsage: {\n\t\t\t\t\tpromptTokens: usageMetadata.input_tokens,\n\t\t\t\t\tcompletionTokens: usageMetadata.output_tokens,\n\t\t\t\t\ttotalTokens: usageMetadata.total_tokens\n\t\t\t\t} }\n\t\t\t};\n\t\t} else {\n\t\t\tconst data = await this.completionWithRetry({\n\t\t\t\t...params,\n\t\t\t\tstream: false,\n\t\t\t\tmessages: messagesMapped\n\t\t\t}, {\n\t\t\t\tsignal: options?.signal,\n\t\t\t\t...options?.options\n\t\t\t});\n\t\t\tconst { completion_tokens: completionTokens, prompt_tokens: promptTokens, total_tokens: totalTokens, prompt_tokens_details: promptTokensDetails, completion_tokens_details: completionTokensDetails } = data?.usage ?? {};\n\t\t\tif (completionTokens) usageMetadata.output_tokens = (usageMetadata.output_tokens ?? 0) + completionTokens;\n\t\t\tif (promptTokens) usageMetadata.input_tokens = (usageMetadata.input_tokens ?? 0) + promptTokens;\n\t\t\tif (totalTokens) usageMetadata.total_tokens = (usageMetadata.total_tokens ?? 0) + totalTokens;\n\t\t\tif (promptTokensDetails?.audio_tokens !== null || promptTokensDetails?.cached_tokens !== null) usageMetadata.input_token_details = {\n\t\t\t\t...promptTokensDetails?.audio_tokens !== null && { audio: promptTokensDetails?.audio_tokens },\n\t\t\t\t...promptTokensDetails?.cached_tokens !== null && { cache_read: promptTokensDetails?.cached_tokens }\n\t\t\t};\n\t\t\tif (completionTokensDetails?.audio_tokens !== null || completionTokensDetails?.reasoning_tokens !== null) usageMetadata.output_token_details = {\n\t\t\t\t...completionTokensDetails?.audio_tokens !== null && { audio: completionTokensDetails?.audio_tokens },\n\t\t\t\t...completionTokensDetails?.reasoning_tokens !== null && { reasoning: completionTokensDetails?.reasoning_tokens }\n\t\t\t};\n\t\t\tconst generations = [];\n\t\t\tfor (const part of data?.choices ?? []) {\n\t\t\t\tconst text = part.message?.content ?? \"\";\n\t\t\t\tconst generation = {\n\t\t\t\t\ttext,\n\t\t\t\t\tmessage: this._convertCompletionsMessageToBaseMessage(part.message ?? { role: \"assistant\" }, data)\n\t\t\t\t};\n\t\t\t\tgeneration.generationInfo = {\n\t\t\t\t\t...part.finish_reason ? { finish_reason: part.finish_reason } : {},\n\t\t\t\t\t...part.logprobs ? { logprobs: part.logprobs } : {}\n\t\t\t\t};\n\t\t\t\tif ((0,_langchain_core_messages__WEBPACK_IMPORTED_MODULE_7__.isAIMessage)(generation.message)) generation.message.usage_metadata = usageMetadata;\n\t\t\t\tgeneration.message = new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_7__.AIMessage(Object.fromEntries(Object.entries(generation.message).filter(([key]) => !key.startsWith(\"lc_\"))));\n\t\t\t\tgenerations.push(generation);\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tgenerations,\n\t\t\t\tllmOutput: { tokenUsage: {\n\t\t\t\t\tpromptTokens: usageMetadata.input_tokens,\n\t\t\t\t\tcompletionTokens: usageMetadata.output_tokens,\n\t\t\t\t\ttotalTokens: usageMetadata.total_tokens\n\t\t\t\t} }\n\t\t\t};\n\t\t}\n\t}\n\tasync *_streamResponseChunks(messages, options, runManager) {\n\t\tconst messagesMapped = (0,_utils_message_inputs_js__WEBPACK_IMPORTED_MODULE_5__._convertMessagesToOpenAIParams)(messages, this.model);\n\t\tconst params = {\n\t\t\t...this.invocationParams(options, { streaming: true }),\n\t\t\tmessages: messagesMapped,\n\t\t\tstream: true\n\t\t};\n\t\tlet defaultRole;\n\t\tconst streamIterable = await this.completionWithRetry(params, options);\n\t\tlet usage;\n\t\tfor await (const data of streamIterable) {\n\t\t\tconst choice = data?.choices?.[0];\n\t\t\tif (data.usage) usage = data.usage;\n\t\t\tif (!choice) continue;\n\t\t\tconst { delta } = choice;\n\t\t\tif (!delta) continue;\n\t\t\tconst chunk = this._convertCompletionsDeltaToBaseMessageChunk(delta, data, defaultRole);\n\t\t\tdefaultRole = delta.role ?? defaultRole;\n\t\t\tconst newTokenIndices = {\n\t\t\t\tprompt: options.promptIndex ?? 0,\n\t\t\t\tcompletion: choice.index ?? 0\n\t\t\t};\n\t\t\tif (typeof chunk.content !== \"string\") {\n\t\t\t\tconsole.log(\"[WARNING]: Received non-string content from OpenAI. This is currently not supported.\");\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tconst generationInfo = { ...newTokenIndices };\n\t\t\tif (choice.finish_reason != null) {\n\t\t\t\tgenerationInfo.finish_reason = choice.finish_reason;\n\t\t\t\tgenerationInfo.system_fingerprint = data.system_fingerprint;\n\t\t\t\tgenerationInfo.model_name = data.model;\n\t\t\t\tgenerationInfo.service_tier = data.service_tier;\n\t\t\t}\n\t\t\tif (this.logprobs) generationInfo.logprobs = choice.logprobs;\n\t\t\tconst generationChunk = new _langchain_core_outputs__WEBPACK_IMPORTED_MODULE_8__.ChatGenerationChunk({\n\t\t\t\tmessage: chunk,\n\t\t\t\ttext: chunk.content,\n\t\t\t\tgenerationInfo\n\t\t\t});\n\t\t\tyield generationChunk;\n\t\t\tawait runManager?.handleLLMNewToken(generationChunk.text ?? \"\", newTokenIndices, void 0, void 0, void 0, { chunk: generationChunk });\n\t\t}\n\t\tif (usage) {\n\t\t\tconst inputTokenDetails = {\n\t\t\t\t...usage.prompt_tokens_details?.audio_tokens !== null && { audio: usage.prompt_tokens_details?.audio_tokens },\n\t\t\t\t...usage.prompt_tokens_details?.cached_tokens !== null && { cache_read: usage.prompt_tokens_details?.cached_tokens }\n\t\t\t};\n\t\t\tconst outputTokenDetails = {\n\t\t\t\t...usage.completion_tokens_details?.audio_tokens !== null && { audio: usage.completion_tokens_details?.audio_tokens },\n\t\t\t\t...usage.completion_tokens_details?.reasoning_tokens !== null && { reasoning: usage.completion_tokens_details?.reasoning_tokens }\n\t\t\t};\n\t\t\tconst generationChunk = new _langchain_core_outputs__WEBPACK_IMPORTED_MODULE_8__.ChatGenerationChunk({\n\t\t\t\tmessage: new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_7__.AIMessageChunk({\n\t\t\t\t\tcontent: \"\",\n\t\t\t\t\tresponse_metadata: { usage: { ...usage } },\n\t\t\t\t\tusage_metadata: {\n\t\t\t\t\t\tinput_tokens: usage.prompt_tokens,\n\t\t\t\t\t\toutput_tokens: usage.completion_tokens,\n\t\t\t\t\t\ttotal_tokens: usage.total_tokens,\n\t\t\t\t\t\t...Object.keys(inputTokenDetails).length > 0 && { input_token_details: inputTokenDetails },\n\t\t\t\t\t\t...Object.keys(outputTokenDetails).length > 0 && { output_token_details: outputTokenDetails }\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\ttext: \"\"\n\t\t\t});\n\t\t\tyield generationChunk;\n\t\t}\n\t\tif (options.signal?.aborted) throw new Error(\"AbortError\");\n\t}\n\tasync completionWithRetry(request, requestOptions) {\n\t\tconst clientOptions = this._getClientOptions(requestOptions);\n\t\tconst isParseableFormat = request.response_format && request.response_format.type === \"json_schema\";\n\t\treturn this.caller.call(async () => {\n\t\t\ttry {\n\t\t\t\tif (isParseableFormat && !request.stream) return await this.client.chat.completions.parse(request, clientOptions);\n\t\t\t\telse return await this.client.chat.completions.create(request, clientOptions);\n\t\t\t} catch (e) {\n\t\t\t\tconst error = (0,_utils_client_js__WEBPACK_IMPORTED_MODULE_4__.wrapOpenAIClientError)(e);\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t});\n\t}\n\t/** @internal */\n\t_convertCompletionsMessageToBaseMessage(message, rawResponse) {\n\t\tconst rawToolCalls = message.tool_calls;\n\t\tswitch (message.role) {\n\t\t\tcase \"assistant\": {\n\t\t\t\tconst toolCalls = [];\n\t\t\t\tconst invalidToolCalls = [];\n\t\t\t\tfor (const rawToolCall of rawToolCalls ?? []) try {\n\t\t\t\t\ttoolCalls.push((0,_langchain_core_output_parsers_openai_tools__WEBPACK_IMPORTED_MODULE_6__.parseToolCall)(rawToolCall, { returnId: true }));\n\t\t\t\t} catch (e) {\n\t\t\t\t\tinvalidToolCalls.push((0,_langchain_core_output_parsers_openai_tools__WEBPACK_IMPORTED_MODULE_6__.makeInvalidToolCall)(rawToolCall, e.message));\n\t\t\t\t}\n\t\t\t\tconst additional_kwargs = {\n\t\t\t\t\tfunction_call: message.function_call,\n\t\t\t\t\ttool_calls: rawToolCalls\n\t\t\t\t};\n\t\t\t\tif (this.__includeRawResponse !== void 0) additional_kwargs.__raw_response = rawResponse;\n\t\t\t\tconst response_metadata = {\n\t\t\t\t\tmodel_provider: \"openai\",\n\t\t\t\t\tmodel_name: rawResponse.model,\n\t\t\t\t\t...rawResponse.system_fingerprint ? {\n\t\t\t\t\t\tusage: { ...rawResponse.usage },\n\t\t\t\t\t\tsystem_fingerprint: rawResponse.system_fingerprint\n\t\t\t\t\t} : {}\n\t\t\t\t};\n\t\t\t\tif (message.audio) additional_kwargs.audio = message.audio;\n\t\t\t\tconst content = (0,_utils_output_js__WEBPACK_IMPORTED_MODULE_2__.handleMultiModalOutput)(message.content || \"\", rawResponse.choices?.[0]?.message);\n\t\t\t\treturn new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_7__.AIMessage({\n\t\t\t\t\tcontent,\n\t\t\t\t\ttool_calls: toolCalls,\n\t\t\t\t\tinvalid_tool_calls: invalidToolCalls,\n\t\t\t\t\tadditional_kwargs,\n\t\t\t\t\tresponse_metadata,\n\t\t\t\t\tid: rawResponse.id\n\t\t\t\t});\n\t\t\t}\n\t\t\tdefault: return new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_7__.ChatMessage(message.content || \"\", message.role ?? \"unknown\");\n\t\t}\n\t}\n\t/** @internal */\n\t_convertCompletionsDeltaToBaseMessageChunk(delta, rawResponse, defaultRole) {\n\t\tconst role = delta.role ?? defaultRole;\n\t\tconst content = delta.content ?? \"\";\n\t\tlet additional_kwargs;\n\t\tif (delta.function_call) additional_kwargs = { function_call: delta.function_call };\n\t\telse if (delta.tool_calls) additional_kwargs = { tool_calls: delta.tool_calls };\n\t\telse additional_kwargs = {};\n\t\tif (this.__includeRawResponse) additional_kwargs.__raw_response = rawResponse;\n\t\tif (delta.audio) additional_kwargs.audio = {\n\t\t\t...delta.audio,\n\t\t\tindex: rawResponse.choices[0].index\n\t\t};\n\t\tconst response_metadata = {\n\t\t\tmodel_provider: \"openai\",\n\t\t\tusage: { ...rawResponse.usage }\n\t\t};\n\t\tif (role === \"user\") return new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_7__.HumanMessageChunk({\n\t\t\tcontent,\n\t\t\tresponse_metadata\n\t\t});\n\t\telse if (role === \"assistant\") {\n\t\t\tconst toolCallChunks = [];\n\t\t\tif (Array.isArray(delta.tool_calls)) for (const rawToolCall of delta.tool_calls) toolCallChunks.push({\n\t\t\t\tname: rawToolCall.function?.name,\n\t\t\t\targs: rawToolCall.function?.arguments,\n\t\t\t\tid: rawToolCall.id,\n\t\t\t\tindex: rawToolCall.index,\n\t\t\t\ttype: \"tool_call_chunk\"\n\t\t\t});\n\t\t\treturn new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_7__.AIMessageChunk({\n\t\t\t\tcontent,\n\t\t\t\ttool_call_chunks: toolCallChunks,\n\t\t\t\tadditional_kwargs,\n\t\t\t\tid: rawResponse.id,\n\t\t\t\tresponse_metadata\n\t\t\t});\n\t\t} else if (role === \"system\") return new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_7__.SystemMessageChunk({\n\t\t\tcontent,\n\t\t\tresponse_metadata\n\t\t});\n\t\telse if (role === \"developer\") return new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_7__.SystemMessageChunk({\n\t\t\tcontent,\n\t\t\tresponse_metadata,\n\t\t\tadditional_kwargs: { __openai_role__: \"developer\" }\n\t\t});\n\t\telse if (role === \"function\") return new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_7__.FunctionMessageChunk({\n\t\t\tcontent,\n\t\t\tadditional_kwargs,\n\t\t\tname: delta.name,\n\t\t\tresponse_metadata\n\t\t});\n\t\telse if (role === \"tool\") return new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_7__.ToolMessageChunk({\n\t\t\tcontent,\n\t\t\tadditional_kwargs,\n\t\t\ttool_call_id: delta.tool_call_id,\n\t\t\tresponse_metadata\n\t\t});\n\t\telse return new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_7__.ChatMessageChunk({\n\t\t\tcontent,\n\t\t\trole,\n\t\t\tresponse_metadata\n\t\t});\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=completions.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvcGVuYWlAMS4wLjBfQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfX193c0A4LjE4LjMvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvY2hhdF9tb2RlbHMvY29tcGxldGlvbnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFvRDtBQUNTO0FBQ0Q7QUFDakI7QUFDZ0I7QUFDaUI7QUFDcUI7QUFDK0Y7QUFDbEk7O0FBRTlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsb0RBQWM7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFO0FBQ2xFLDZGQUE2RixrQkFBa0I7QUFDL0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0hBQW9ILFFBQVE7QUFDNUgsZ0JBQWdCLHlFQUF3QjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxzQ0FBc0MsSUFBSTtBQUNqRixpREFBaUQscURBQXFELElBQUk7QUFDMUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxnRUFBZ0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHdGQUE4QjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsMkJBQTJCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSixXQUFXLDhMQUE4TDtBQUN6TTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCwwQ0FBMEM7QUFDakcsd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQSwyREFBMkQsOENBQThDO0FBQ3pHLCtEQUErRDtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RUFBNkUsbUJBQW1CO0FBQ2hHO0FBQ0E7QUFDQSwrQkFBK0Isb0NBQW9DLElBQUk7QUFDdkUsMEJBQTBCLDBCQUEwQjtBQUNwRDtBQUNBLFFBQVEscUVBQVc7QUFDbkIsNkJBQTZCLCtEQUFTO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsd0ZBQThCO0FBQ3ZEO0FBQ0EsdUNBQXVDLGlCQUFpQjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHdFQUFtQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSw4R0FBOEcsd0JBQXdCO0FBQ3RJO0FBQ0E7QUFDQTtBQUNBLCtEQUErRCxrREFBa0Q7QUFDakgsZ0VBQWdFO0FBQ2hFO0FBQ0E7QUFDQSxtRUFBbUUsc0RBQXNEO0FBQ3pILHVFQUF1RTtBQUN2RTtBQUNBLCtCQUErQix3RUFBbUI7QUFDbEQsaUJBQWlCLG9FQUFjO0FBQy9CO0FBQ0EsMEJBQTBCLFNBQVMsWUFBWTtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCx3Q0FBd0M7QUFDaEcseURBQXlEO0FBQ3pEO0FBQ0EsS0FBSztBQUNMO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsa0JBQWtCLHVFQUFxQjtBQUN2QztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwwRkFBYSxnQkFBZ0IsZ0JBQWdCO0FBQ2pFLE1BQU07QUFDTiwyQkFBMkIsZ0dBQW1CO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxzQkFBc0I7QUFDckM7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLG9CQUFvQix3RUFBc0I7QUFDMUMsZUFBZSwrREFBUztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSx1QkFBdUIsaUVBQVc7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQsbURBQW1EO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQSxrQ0FBa0MsdUVBQWlCO0FBQ25EO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixjQUFjLG9FQUFjO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osSUFBSSx1Q0FBdUMsd0VBQWtCO0FBQzdEO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsNENBQTRDLHdFQUFrQjtBQUM5RDtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCLEdBQUc7QUFDSCwyQ0FBMkMsMEVBQW9CO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILHVDQUF1QyxzRUFBZ0I7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsa0JBQWtCLHNFQUFnQjtBQUNsQztBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNpQztBQUNqQyIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rb3BlbmFpQDEuMC4wX0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2X19fd3NAOC4xOC4zL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L2NoYXRfbW9kZWxzL2NvbXBsZXRpb25zLmpzP2ExYTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNSZWFzb25pbmdNb2RlbCB9IGZyb20gXCIuLi91dGlscy9taXNjLmpzXCI7XG5pbXBvcnQgeyBmb3JtYXRUb09wZW5BSVRvb2xDaG9pY2UgfSBmcm9tIFwiLi4vdXRpbHMvdG9vbHMuanNcIjtcbmltcG9ydCB7IGhhbmRsZU11bHRpTW9kYWxPdXRwdXQgfSBmcm9tIFwiLi4vdXRpbHMvb3V0cHV0LmpzXCI7XG5pbXBvcnQgeyBCYXNlQ2hhdE9wZW5BSSB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCB7IHdyYXBPcGVuQUlDbGllbnRFcnJvciB9IGZyb20gXCIuLi91dGlscy9jbGllbnQuanNcIjtcbmltcG9ydCB7IF9jb252ZXJ0TWVzc2FnZXNUb09wZW5BSVBhcmFtcyB9IGZyb20gXCIuLi91dGlscy9tZXNzYWdlX2lucHV0cy5qc1wiO1xuaW1wb3J0IHsgbWFrZUludmFsaWRUb29sQ2FsbCwgcGFyc2VUb29sQ2FsbCB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvb3V0cHV0X3BhcnNlcnMvb3BlbmFpX3Rvb2xzXCI7XG5pbXBvcnQgeyBBSU1lc3NhZ2UsIEFJTWVzc2FnZUNodW5rLCBDaGF0TWVzc2FnZSwgQ2hhdE1lc3NhZ2VDaHVuaywgRnVuY3Rpb25NZXNzYWdlQ2h1bmssIEh1bWFuTWVzc2FnZUNodW5rLCBTeXN0ZW1NZXNzYWdlQ2h1bmssIFRvb2xNZXNzYWdlQ2h1bmssIGlzQUlNZXNzYWdlIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9tZXNzYWdlc1wiO1xuaW1wb3J0IHsgQ2hhdEdlbmVyYXRpb25DaHVuayB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvb3V0cHV0c1wiO1xuXG4vLyNyZWdpb24gc3JjL2NoYXRfbW9kZWxzL2NvbXBsZXRpb25zLnRzXG4vKipcbiogT3BlbkFJIENvbXBsZXRpb25zIEFQSSBpbXBsZW1lbnRhdGlvbi5cbiogQGludGVybmFsXG4qL1xudmFyIENoYXRPcGVuQUlDb21wbGV0aW9ucyA9IGNsYXNzIGV4dGVuZHMgQmFzZUNoYXRPcGVuQUkge1xuXHQvKiogQGludGVybmFsICovXG5cdGludm9jYXRpb25QYXJhbXMob3B0aW9ucywgZXh0cmEpIHtcblx0XHRsZXQgc3RyaWN0O1xuXHRcdGlmIChvcHRpb25zPy5zdHJpY3QgIT09IHZvaWQgMCkgc3RyaWN0ID0gb3B0aW9ucy5zdHJpY3Q7XG5cdFx0ZWxzZSBpZiAodGhpcy5zdXBwb3J0c1N0cmljdFRvb2xDYWxsaW5nICE9PSB2b2lkIDApIHN0cmljdCA9IHRoaXMuc3VwcG9ydHNTdHJpY3RUb29sQ2FsbGluZztcblx0XHRsZXQgc3RyZWFtT3B0aW9uc0NvbmZpZyA9IHt9O1xuXHRcdGlmIChvcHRpb25zPy5zdHJlYW1fb3B0aW9ucyAhPT0gdm9pZCAwKSBzdHJlYW1PcHRpb25zQ29uZmlnID0geyBzdHJlYW1fb3B0aW9uczogb3B0aW9ucy5zdHJlYW1fb3B0aW9ucyB9O1xuXHRcdGVsc2UgaWYgKHRoaXMuc3RyZWFtVXNhZ2UgJiYgKHRoaXMuc3RyZWFtaW5nIHx8IGV4dHJhPy5zdHJlYW1pbmcpKSBzdHJlYW1PcHRpb25zQ29uZmlnID0geyBzdHJlYW1fb3B0aW9uczogeyBpbmNsdWRlX3VzYWdlOiB0cnVlIH0gfTtcblx0XHRjb25zdCBwYXJhbXMgPSB7XG5cdFx0XHRtb2RlbDogdGhpcy5tb2RlbCxcblx0XHRcdHRlbXBlcmF0dXJlOiB0aGlzLnRlbXBlcmF0dXJlLFxuXHRcdFx0dG9wX3A6IHRoaXMudG9wUCxcblx0XHRcdGZyZXF1ZW5jeV9wZW5hbHR5OiB0aGlzLmZyZXF1ZW5jeVBlbmFsdHksXG5cdFx0XHRwcmVzZW5jZV9wZW5hbHR5OiB0aGlzLnByZXNlbmNlUGVuYWx0eSxcblx0XHRcdGxvZ3Byb2JzOiB0aGlzLmxvZ3Byb2JzLFxuXHRcdFx0dG9wX2xvZ3Byb2JzOiB0aGlzLnRvcExvZ3Byb2JzLFxuXHRcdFx0bjogdGhpcy5uLFxuXHRcdFx0bG9naXRfYmlhczogdGhpcy5sb2dpdEJpYXMsXG5cdFx0XHRzdG9wOiBvcHRpb25zPy5zdG9wID8/IHRoaXMuc3RvcFNlcXVlbmNlcyxcblx0XHRcdHVzZXI6IHRoaXMudXNlcixcblx0XHRcdHN0cmVhbTogdGhpcy5zdHJlYW1pbmcsXG5cdFx0XHRmdW5jdGlvbnM6IG9wdGlvbnM/LmZ1bmN0aW9ucyxcblx0XHRcdGZ1bmN0aW9uX2NhbGw6IG9wdGlvbnM/LmZ1bmN0aW9uX2NhbGwsXG5cdFx0XHR0b29sczogb3B0aW9ucz8udG9vbHM/Lmxlbmd0aCA/IG9wdGlvbnMudG9vbHMubWFwKCh0b29sKSA9PiB0aGlzLl9jb252ZXJ0Q2hhdE9wZW5BSVRvb2xUb0NvbXBsZXRpb25zVG9vbCh0b29sLCB7IHN0cmljdCB9KSkgOiB2b2lkIDAsXG5cdFx0XHR0b29sX2Nob2ljZTogZm9ybWF0VG9PcGVuQUlUb29sQ2hvaWNlKG9wdGlvbnM/LnRvb2xfY2hvaWNlKSxcblx0XHRcdHJlc3BvbnNlX2Zvcm1hdDogdGhpcy5fZ2V0UmVzcG9uc2VGb3JtYXQob3B0aW9ucz8ucmVzcG9uc2VfZm9ybWF0KSxcblx0XHRcdHNlZWQ6IG9wdGlvbnM/LnNlZWQsXG5cdFx0XHQuLi5zdHJlYW1PcHRpb25zQ29uZmlnLFxuXHRcdFx0cGFyYWxsZWxfdG9vbF9jYWxsczogb3B0aW9ucz8ucGFyYWxsZWxfdG9vbF9jYWxscyxcblx0XHRcdC4uLnRoaXMuYXVkaW8gfHwgb3B0aW9ucz8uYXVkaW8gPyB7IGF1ZGlvOiB0aGlzLmF1ZGlvIHx8IG9wdGlvbnM/LmF1ZGlvIH0gOiB7fSxcblx0XHRcdC4uLnRoaXMubW9kYWxpdGllcyB8fCBvcHRpb25zPy5tb2RhbGl0aWVzID8geyBtb2RhbGl0aWVzOiB0aGlzLm1vZGFsaXRpZXMgfHwgb3B0aW9ucz8ubW9kYWxpdGllcyB9IDoge30sXG5cdFx0XHQuLi50aGlzLm1vZGVsS3dhcmdzLFxuXHRcdFx0cHJvbXB0X2NhY2hlX2tleTogb3B0aW9ucz8ucHJvbXB0Q2FjaGVLZXkgPz8gdGhpcy5wcm9tcHRDYWNoZUtleSxcblx0XHRcdHZlcmJvc2l0eTogb3B0aW9ucz8udmVyYm9zaXR5ID8/IHRoaXMudmVyYm9zaXR5XG5cdFx0fTtcblx0XHRpZiAob3B0aW9ucz8ucHJlZGljdGlvbiAhPT0gdm9pZCAwKSBwYXJhbXMucHJlZGljdGlvbiA9IG9wdGlvbnMucHJlZGljdGlvbjtcblx0XHRpZiAodGhpcy5zZXJ2aWNlX3RpZXIgIT09IHZvaWQgMCkgcGFyYW1zLnNlcnZpY2VfdGllciA9IHRoaXMuc2VydmljZV90aWVyO1xuXHRcdGlmIChvcHRpb25zPy5zZXJ2aWNlX3RpZXIgIT09IHZvaWQgMCkgcGFyYW1zLnNlcnZpY2VfdGllciA9IG9wdGlvbnMuc2VydmljZV90aWVyO1xuXHRcdGNvbnN0IHJlYXNvbmluZyA9IHRoaXMuX2dldFJlYXNvbmluZ1BhcmFtcyhvcHRpb25zKTtcblx0XHRpZiAocmVhc29uaW5nICE9PSB2b2lkIDAgJiYgcmVhc29uaW5nLmVmZm9ydCAhPT0gdm9pZCAwKSBwYXJhbXMucmVhc29uaW5nX2VmZm9ydCA9IHJlYXNvbmluZy5lZmZvcnQ7XG5cdFx0aWYgKGlzUmVhc29uaW5nTW9kZWwocGFyYW1zLm1vZGVsKSkgcGFyYW1zLm1heF9jb21wbGV0aW9uX3Rva2VucyA9IHRoaXMubWF4VG9rZW5zID09PSAtMSA/IHZvaWQgMCA6IHRoaXMubWF4VG9rZW5zO1xuXHRcdGVsc2UgcGFyYW1zLm1heF90b2tlbnMgPSB0aGlzLm1heFRva2VucyA9PT0gLTEgPyB2b2lkIDAgOiB0aGlzLm1heFRva2Vucztcblx0XHRyZXR1cm4gcGFyYW1zO1xuXHR9XG5cdGFzeW5jIF9nZW5lcmF0ZShtZXNzYWdlcywgb3B0aW9ucywgcnVuTWFuYWdlcikge1xuXHRcdGNvbnN0IHVzYWdlTWV0YWRhdGEgPSB7fTtcblx0XHRjb25zdCBwYXJhbXMgPSB0aGlzLmludm9jYXRpb25QYXJhbXMob3B0aW9ucyk7XG5cdFx0Y29uc3QgbWVzc2FnZXNNYXBwZWQgPSBfY29udmVydE1lc3NhZ2VzVG9PcGVuQUlQYXJhbXMobWVzc2FnZXMsIHRoaXMubW9kZWwpO1xuXHRcdGlmIChwYXJhbXMuc3RyZWFtKSB7XG5cdFx0XHRjb25zdCBzdHJlYW0gPSB0aGlzLl9zdHJlYW1SZXNwb25zZUNodW5rcyhtZXNzYWdlcywgb3B0aW9ucywgcnVuTWFuYWdlcik7XG5cdFx0XHRjb25zdCBmaW5hbENodW5rcyA9IHt9O1xuXHRcdFx0Zm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBzdHJlYW0pIHtcblx0XHRcdFx0Y2h1bmsubWVzc2FnZS5yZXNwb25zZV9tZXRhZGF0YSA9IHtcblx0XHRcdFx0XHQuLi5jaHVuay5nZW5lcmF0aW9uSW5mbyxcblx0XHRcdFx0XHQuLi5jaHVuay5tZXNzYWdlLnJlc3BvbnNlX21ldGFkYXRhXG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnN0IGluZGV4ID0gY2h1bmsuZ2VuZXJhdGlvbkluZm8/LmNvbXBsZXRpb24gPz8gMDtcblx0XHRcdFx0aWYgKGZpbmFsQ2h1bmtzW2luZGV4XSA9PT0gdm9pZCAwKSBmaW5hbENodW5rc1tpbmRleF0gPSBjaHVuaztcblx0XHRcdFx0ZWxzZSBmaW5hbENodW5rc1tpbmRleF0gPSBmaW5hbENodW5rc1tpbmRleF0uY29uY2F0KGNodW5rKTtcblx0XHRcdH1cblx0XHRcdGNvbnN0IGdlbmVyYXRpb25zID0gT2JqZWN0LmVudHJpZXMoZmluYWxDaHVua3MpLnNvcnQoKFthS2V5XSwgW2JLZXldKSA9PiBwYXJzZUludChhS2V5LCAxMCkgLSBwYXJzZUludChiS2V5LCAxMCkpLm1hcCgoW18sIHZhbHVlXSkgPT4gdmFsdWUpO1xuXHRcdFx0Y29uc3QgeyBmdW5jdGlvbnMsIGZ1bmN0aW9uX2NhbGwgfSA9IHRoaXMuaW52b2NhdGlvblBhcmFtcyhvcHRpb25zKTtcblx0XHRcdGNvbnN0IHByb21wdFRva2VuVXNhZ2UgPSBhd2FpdCB0aGlzLl9nZXRFc3RpbWF0ZWRUb2tlbkNvdW50RnJvbVByb21wdChtZXNzYWdlcywgZnVuY3Rpb25zLCBmdW5jdGlvbl9jYWxsKTtcblx0XHRcdGNvbnN0IGNvbXBsZXRpb25Ub2tlblVzYWdlID0gYXdhaXQgdGhpcy5fZ2V0TnVtVG9rZW5zRnJvbUdlbmVyYXRpb25zKGdlbmVyYXRpb25zKTtcblx0XHRcdHVzYWdlTWV0YWRhdGEuaW5wdXRfdG9rZW5zID0gcHJvbXB0VG9rZW5Vc2FnZTtcblx0XHRcdHVzYWdlTWV0YWRhdGEub3V0cHV0X3Rva2VucyA9IGNvbXBsZXRpb25Ub2tlblVzYWdlO1xuXHRcdFx0dXNhZ2VNZXRhZGF0YS50b3RhbF90b2tlbnMgPSBwcm9tcHRUb2tlblVzYWdlICsgY29tcGxldGlvblRva2VuVXNhZ2U7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRnZW5lcmF0aW9ucyxcblx0XHRcdFx0bGxtT3V0cHV0OiB7IGVzdGltYXRlZFRva2VuVXNhZ2U6IHtcblx0XHRcdFx0XHRwcm9tcHRUb2tlbnM6IHVzYWdlTWV0YWRhdGEuaW5wdXRfdG9rZW5zLFxuXHRcdFx0XHRcdGNvbXBsZXRpb25Ub2tlbnM6IHVzYWdlTWV0YWRhdGEub3V0cHV0X3Rva2Vucyxcblx0XHRcdFx0XHR0b3RhbFRva2VuczogdXNhZ2VNZXRhZGF0YS50b3RhbF90b2tlbnNcblx0XHRcdFx0fSB9XG5cdFx0XHR9O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5jb21wbGV0aW9uV2l0aFJldHJ5KHtcblx0XHRcdFx0Li4ucGFyYW1zLFxuXHRcdFx0XHRzdHJlYW06IGZhbHNlLFxuXHRcdFx0XHRtZXNzYWdlczogbWVzc2FnZXNNYXBwZWRcblx0XHRcdH0sIHtcblx0XHRcdFx0c2lnbmFsOiBvcHRpb25zPy5zaWduYWwsXG5cdFx0XHRcdC4uLm9wdGlvbnM/Lm9wdGlvbnNcblx0XHRcdH0pO1xuXHRcdFx0Y29uc3QgeyBjb21wbGV0aW9uX3Rva2VuczogY29tcGxldGlvblRva2VucywgcHJvbXB0X3Rva2VuczogcHJvbXB0VG9rZW5zLCB0b3RhbF90b2tlbnM6IHRvdGFsVG9rZW5zLCBwcm9tcHRfdG9rZW5zX2RldGFpbHM6IHByb21wdFRva2Vuc0RldGFpbHMsIGNvbXBsZXRpb25fdG9rZW5zX2RldGFpbHM6IGNvbXBsZXRpb25Ub2tlbnNEZXRhaWxzIH0gPSBkYXRhPy51c2FnZSA/PyB7fTtcblx0XHRcdGlmIChjb21wbGV0aW9uVG9rZW5zKSB1c2FnZU1ldGFkYXRhLm91dHB1dF90b2tlbnMgPSAodXNhZ2VNZXRhZGF0YS5vdXRwdXRfdG9rZW5zID8/IDApICsgY29tcGxldGlvblRva2Vucztcblx0XHRcdGlmIChwcm9tcHRUb2tlbnMpIHVzYWdlTWV0YWRhdGEuaW5wdXRfdG9rZW5zID0gKHVzYWdlTWV0YWRhdGEuaW5wdXRfdG9rZW5zID8/IDApICsgcHJvbXB0VG9rZW5zO1xuXHRcdFx0aWYgKHRvdGFsVG9rZW5zKSB1c2FnZU1ldGFkYXRhLnRvdGFsX3Rva2VucyA9ICh1c2FnZU1ldGFkYXRhLnRvdGFsX3Rva2VucyA/PyAwKSArIHRvdGFsVG9rZW5zO1xuXHRcdFx0aWYgKHByb21wdFRva2Vuc0RldGFpbHM/LmF1ZGlvX3Rva2VucyAhPT0gbnVsbCB8fCBwcm9tcHRUb2tlbnNEZXRhaWxzPy5jYWNoZWRfdG9rZW5zICE9PSBudWxsKSB1c2FnZU1ldGFkYXRhLmlucHV0X3Rva2VuX2RldGFpbHMgPSB7XG5cdFx0XHRcdC4uLnByb21wdFRva2Vuc0RldGFpbHM/LmF1ZGlvX3Rva2VucyAhPT0gbnVsbCAmJiB7IGF1ZGlvOiBwcm9tcHRUb2tlbnNEZXRhaWxzPy5hdWRpb190b2tlbnMgfSxcblx0XHRcdFx0Li4ucHJvbXB0VG9rZW5zRGV0YWlscz8uY2FjaGVkX3Rva2VucyAhPT0gbnVsbCAmJiB7IGNhY2hlX3JlYWQ6IHByb21wdFRva2Vuc0RldGFpbHM/LmNhY2hlZF90b2tlbnMgfVxuXHRcdFx0fTtcblx0XHRcdGlmIChjb21wbGV0aW9uVG9rZW5zRGV0YWlscz8uYXVkaW9fdG9rZW5zICE9PSBudWxsIHx8IGNvbXBsZXRpb25Ub2tlbnNEZXRhaWxzPy5yZWFzb25pbmdfdG9rZW5zICE9PSBudWxsKSB1c2FnZU1ldGFkYXRhLm91dHB1dF90b2tlbl9kZXRhaWxzID0ge1xuXHRcdFx0XHQuLi5jb21wbGV0aW9uVG9rZW5zRGV0YWlscz8uYXVkaW9fdG9rZW5zICE9PSBudWxsICYmIHsgYXVkaW86IGNvbXBsZXRpb25Ub2tlbnNEZXRhaWxzPy5hdWRpb190b2tlbnMgfSxcblx0XHRcdFx0Li4uY29tcGxldGlvblRva2Vuc0RldGFpbHM/LnJlYXNvbmluZ190b2tlbnMgIT09IG51bGwgJiYgeyByZWFzb25pbmc6IGNvbXBsZXRpb25Ub2tlbnNEZXRhaWxzPy5yZWFzb25pbmdfdG9rZW5zIH1cblx0XHRcdH07XG5cdFx0XHRjb25zdCBnZW5lcmF0aW9ucyA9IFtdO1xuXHRcdFx0Zm9yIChjb25zdCBwYXJ0IG9mIGRhdGE/LmNob2ljZXMgPz8gW10pIHtcblx0XHRcdFx0Y29uc3QgdGV4dCA9IHBhcnQubWVzc2FnZT8uY29udGVudCA/PyBcIlwiO1xuXHRcdFx0XHRjb25zdCBnZW5lcmF0aW9uID0ge1xuXHRcdFx0XHRcdHRleHQsXG5cdFx0XHRcdFx0bWVzc2FnZTogdGhpcy5fY29udmVydENvbXBsZXRpb25zTWVzc2FnZVRvQmFzZU1lc3NhZ2UocGFydC5tZXNzYWdlID8/IHsgcm9sZTogXCJhc3Npc3RhbnRcIiB9LCBkYXRhKVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRnZW5lcmF0aW9uLmdlbmVyYXRpb25JbmZvID0ge1xuXHRcdFx0XHRcdC4uLnBhcnQuZmluaXNoX3JlYXNvbiA/IHsgZmluaXNoX3JlYXNvbjogcGFydC5maW5pc2hfcmVhc29uIH0gOiB7fSxcblx0XHRcdFx0XHQuLi5wYXJ0LmxvZ3Byb2JzID8geyBsb2dwcm9iczogcGFydC5sb2dwcm9icyB9IDoge31cblx0XHRcdFx0fTtcblx0XHRcdFx0aWYgKGlzQUlNZXNzYWdlKGdlbmVyYXRpb24ubWVzc2FnZSkpIGdlbmVyYXRpb24ubWVzc2FnZS51c2FnZV9tZXRhZGF0YSA9IHVzYWdlTWV0YWRhdGE7XG5cdFx0XHRcdGdlbmVyYXRpb24ubWVzc2FnZSA9IG5ldyBBSU1lc3NhZ2UoT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKGdlbmVyYXRpb24ubWVzc2FnZSkuZmlsdGVyKChba2V5XSkgPT4gIWtleS5zdGFydHNXaXRoKFwibGNfXCIpKSkpO1xuXHRcdFx0XHRnZW5lcmF0aW9ucy5wdXNoKGdlbmVyYXRpb24pO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0Z2VuZXJhdGlvbnMsXG5cdFx0XHRcdGxsbU91dHB1dDogeyB0b2tlblVzYWdlOiB7XG5cdFx0XHRcdFx0cHJvbXB0VG9rZW5zOiB1c2FnZU1ldGFkYXRhLmlucHV0X3Rva2Vucyxcblx0XHRcdFx0XHRjb21wbGV0aW9uVG9rZW5zOiB1c2FnZU1ldGFkYXRhLm91dHB1dF90b2tlbnMsXG5cdFx0XHRcdFx0dG90YWxUb2tlbnM6IHVzYWdlTWV0YWRhdGEudG90YWxfdG9rZW5zXG5cdFx0XHRcdH0gfVxuXHRcdFx0fTtcblx0XHR9XG5cdH1cblx0YXN5bmMgKl9zdHJlYW1SZXNwb25zZUNodW5rcyhtZXNzYWdlcywgb3B0aW9ucywgcnVuTWFuYWdlcikge1xuXHRcdGNvbnN0IG1lc3NhZ2VzTWFwcGVkID0gX2NvbnZlcnRNZXNzYWdlc1RvT3BlbkFJUGFyYW1zKG1lc3NhZ2VzLCB0aGlzLm1vZGVsKTtcblx0XHRjb25zdCBwYXJhbXMgPSB7XG5cdFx0XHQuLi50aGlzLmludm9jYXRpb25QYXJhbXMob3B0aW9ucywgeyBzdHJlYW1pbmc6IHRydWUgfSksXG5cdFx0XHRtZXNzYWdlczogbWVzc2FnZXNNYXBwZWQsXG5cdFx0XHRzdHJlYW06IHRydWVcblx0XHR9O1xuXHRcdGxldCBkZWZhdWx0Um9sZTtcblx0XHRjb25zdCBzdHJlYW1JdGVyYWJsZSA9IGF3YWl0IHRoaXMuY29tcGxldGlvbldpdGhSZXRyeShwYXJhbXMsIG9wdGlvbnMpO1xuXHRcdGxldCB1c2FnZTtcblx0XHRmb3IgYXdhaXQgKGNvbnN0IGRhdGEgb2Ygc3RyZWFtSXRlcmFibGUpIHtcblx0XHRcdGNvbnN0IGNob2ljZSA9IGRhdGE/LmNob2ljZXM/LlswXTtcblx0XHRcdGlmIChkYXRhLnVzYWdlKSB1c2FnZSA9IGRhdGEudXNhZ2U7XG5cdFx0XHRpZiAoIWNob2ljZSkgY29udGludWU7XG5cdFx0XHRjb25zdCB7IGRlbHRhIH0gPSBjaG9pY2U7XG5cdFx0XHRpZiAoIWRlbHRhKSBjb250aW51ZTtcblx0XHRcdGNvbnN0IGNodW5rID0gdGhpcy5fY29udmVydENvbXBsZXRpb25zRGVsdGFUb0Jhc2VNZXNzYWdlQ2h1bmsoZGVsdGEsIGRhdGEsIGRlZmF1bHRSb2xlKTtcblx0XHRcdGRlZmF1bHRSb2xlID0gZGVsdGEucm9sZSA/PyBkZWZhdWx0Um9sZTtcblx0XHRcdGNvbnN0IG5ld1Rva2VuSW5kaWNlcyA9IHtcblx0XHRcdFx0cHJvbXB0OiBvcHRpb25zLnByb21wdEluZGV4ID8/IDAsXG5cdFx0XHRcdGNvbXBsZXRpb246IGNob2ljZS5pbmRleCA/PyAwXG5cdFx0XHR9O1xuXHRcdFx0aWYgKHR5cGVvZiBjaHVuay5jb250ZW50ICE9PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiW1dBUk5JTkddOiBSZWNlaXZlZCBub24tc3RyaW5nIGNvbnRlbnQgZnJvbSBPcGVuQUkuIFRoaXMgaXMgY3VycmVudGx5IG5vdCBzdXBwb3J0ZWQuXCIpO1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdGNvbnN0IGdlbmVyYXRpb25JbmZvID0geyAuLi5uZXdUb2tlbkluZGljZXMgfTtcblx0XHRcdGlmIChjaG9pY2UuZmluaXNoX3JlYXNvbiAhPSBudWxsKSB7XG5cdFx0XHRcdGdlbmVyYXRpb25JbmZvLmZpbmlzaF9yZWFzb24gPSBjaG9pY2UuZmluaXNoX3JlYXNvbjtcblx0XHRcdFx0Z2VuZXJhdGlvbkluZm8uc3lzdGVtX2ZpbmdlcnByaW50ID0gZGF0YS5zeXN0ZW1fZmluZ2VycHJpbnQ7XG5cdFx0XHRcdGdlbmVyYXRpb25JbmZvLm1vZGVsX25hbWUgPSBkYXRhLm1vZGVsO1xuXHRcdFx0XHRnZW5lcmF0aW9uSW5mby5zZXJ2aWNlX3RpZXIgPSBkYXRhLnNlcnZpY2VfdGllcjtcblx0XHRcdH1cblx0XHRcdGlmICh0aGlzLmxvZ3Byb2JzKSBnZW5lcmF0aW9uSW5mby5sb2dwcm9icyA9IGNob2ljZS5sb2dwcm9icztcblx0XHRcdGNvbnN0IGdlbmVyYXRpb25DaHVuayA9IG5ldyBDaGF0R2VuZXJhdGlvbkNodW5rKHtcblx0XHRcdFx0bWVzc2FnZTogY2h1bmssXG5cdFx0XHRcdHRleHQ6IGNodW5rLmNvbnRlbnQsXG5cdFx0XHRcdGdlbmVyYXRpb25JbmZvXG5cdFx0XHR9KTtcblx0XHRcdHlpZWxkIGdlbmVyYXRpb25DaHVuaztcblx0XHRcdGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUxMTU5ld1Rva2VuKGdlbmVyYXRpb25DaHVuay50ZXh0ID8/IFwiXCIsIG5ld1Rva2VuSW5kaWNlcywgdm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgeyBjaHVuazogZ2VuZXJhdGlvbkNodW5rIH0pO1xuXHRcdH1cblx0XHRpZiAodXNhZ2UpIHtcblx0XHRcdGNvbnN0IGlucHV0VG9rZW5EZXRhaWxzID0ge1xuXHRcdFx0XHQuLi51c2FnZS5wcm9tcHRfdG9rZW5zX2RldGFpbHM/LmF1ZGlvX3Rva2VucyAhPT0gbnVsbCAmJiB7IGF1ZGlvOiB1c2FnZS5wcm9tcHRfdG9rZW5zX2RldGFpbHM/LmF1ZGlvX3Rva2VucyB9LFxuXHRcdFx0XHQuLi51c2FnZS5wcm9tcHRfdG9rZW5zX2RldGFpbHM/LmNhY2hlZF90b2tlbnMgIT09IG51bGwgJiYgeyBjYWNoZV9yZWFkOiB1c2FnZS5wcm9tcHRfdG9rZW5zX2RldGFpbHM/LmNhY2hlZF90b2tlbnMgfVxuXHRcdFx0fTtcblx0XHRcdGNvbnN0IG91dHB1dFRva2VuRGV0YWlscyA9IHtcblx0XHRcdFx0Li4udXNhZ2UuY29tcGxldGlvbl90b2tlbnNfZGV0YWlscz8uYXVkaW9fdG9rZW5zICE9PSBudWxsICYmIHsgYXVkaW86IHVzYWdlLmNvbXBsZXRpb25fdG9rZW5zX2RldGFpbHM/LmF1ZGlvX3Rva2VucyB9LFxuXHRcdFx0XHQuLi51c2FnZS5jb21wbGV0aW9uX3Rva2Vuc19kZXRhaWxzPy5yZWFzb25pbmdfdG9rZW5zICE9PSBudWxsICYmIHsgcmVhc29uaW5nOiB1c2FnZS5jb21wbGV0aW9uX3Rva2Vuc19kZXRhaWxzPy5yZWFzb25pbmdfdG9rZW5zIH1cblx0XHRcdH07XG5cdFx0XHRjb25zdCBnZW5lcmF0aW9uQ2h1bmsgPSBuZXcgQ2hhdEdlbmVyYXRpb25DaHVuayh7XG5cdFx0XHRcdG1lc3NhZ2U6IG5ldyBBSU1lc3NhZ2VDaHVuayh7XG5cdFx0XHRcdFx0Y29udGVudDogXCJcIixcblx0XHRcdFx0XHRyZXNwb25zZV9tZXRhZGF0YTogeyB1c2FnZTogeyAuLi51c2FnZSB9IH0sXG5cdFx0XHRcdFx0dXNhZ2VfbWV0YWRhdGE6IHtcblx0XHRcdFx0XHRcdGlucHV0X3Rva2VuczogdXNhZ2UucHJvbXB0X3Rva2Vucyxcblx0XHRcdFx0XHRcdG91dHB1dF90b2tlbnM6IHVzYWdlLmNvbXBsZXRpb25fdG9rZW5zLFxuXHRcdFx0XHRcdFx0dG90YWxfdG9rZW5zOiB1c2FnZS50b3RhbF90b2tlbnMsXG5cdFx0XHRcdFx0XHQuLi5PYmplY3Qua2V5cyhpbnB1dFRva2VuRGV0YWlscykubGVuZ3RoID4gMCAmJiB7IGlucHV0X3Rva2VuX2RldGFpbHM6IGlucHV0VG9rZW5EZXRhaWxzIH0sXG5cdFx0XHRcdFx0XHQuLi5PYmplY3Qua2V5cyhvdXRwdXRUb2tlbkRldGFpbHMpLmxlbmd0aCA+IDAgJiYgeyBvdXRwdXRfdG9rZW5fZGV0YWlsczogb3V0cHV0VG9rZW5EZXRhaWxzIH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pLFxuXHRcdFx0XHR0ZXh0OiBcIlwiXG5cdFx0XHR9KTtcblx0XHRcdHlpZWxkIGdlbmVyYXRpb25DaHVuaztcblx0XHR9XG5cdFx0aWYgKG9wdGlvbnMuc2lnbmFsPy5hYm9ydGVkKSB0aHJvdyBuZXcgRXJyb3IoXCJBYm9ydEVycm9yXCIpO1xuXHR9XG5cdGFzeW5jIGNvbXBsZXRpb25XaXRoUmV0cnkocmVxdWVzdCwgcmVxdWVzdE9wdGlvbnMpIHtcblx0XHRjb25zdCBjbGllbnRPcHRpb25zID0gdGhpcy5fZ2V0Q2xpZW50T3B0aW9ucyhyZXF1ZXN0T3B0aW9ucyk7XG5cdFx0Y29uc3QgaXNQYXJzZWFibGVGb3JtYXQgPSByZXF1ZXN0LnJlc3BvbnNlX2Zvcm1hdCAmJiByZXF1ZXN0LnJlc3BvbnNlX2Zvcm1hdC50eXBlID09PSBcImpzb25fc2NoZW1hXCI7XG5cdFx0cmV0dXJuIHRoaXMuY2FsbGVyLmNhbGwoYXN5bmMgKCkgPT4ge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0aWYgKGlzUGFyc2VhYmxlRm9ybWF0ICYmICFyZXF1ZXN0LnN0cmVhbSkgcmV0dXJuIGF3YWl0IHRoaXMuY2xpZW50LmNoYXQuY29tcGxldGlvbnMucGFyc2UocmVxdWVzdCwgY2xpZW50T3B0aW9ucyk7XG5cdFx0XHRcdGVsc2UgcmV0dXJuIGF3YWl0IHRoaXMuY2xpZW50LmNoYXQuY29tcGxldGlvbnMuY3JlYXRlKHJlcXVlc3QsIGNsaWVudE9wdGlvbnMpO1xuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRjb25zdCBlcnJvciA9IHdyYXBPcGVuQUlDbGllbnRFcnJvcihlKTtcblx0XHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRfY29udmVydENvbXBsZXRpb25zTWVzc2FnZVRvQmFzZU1lc3NhZ2UobWVzc2FnZSwgcmF3UmVzcG9uc2UpIHtcblx0XHRjb25zdCByYXdUb29sQ2FsbHMgPSBtZXNzYWdlLnRvb2xfY2FsbHM7XG5cdFx0c3dpdGNoIChtZXNzYWdlLnJvbGUpIHtcblx0XHRcdGNhc2UgXCJhc3Npc3RhbnRcIjoge1xuXHRcdFx0XHRjb25zdCB0b29sQ2FsbHMgPSBbXTtcblx0XHRcdFx0Y29uc3QgaW52YWxpZFRvb2xDYWxscyA9IFtdO1xuXHRcdFx0XHRmb3IgKGNvbnN0IHJhd1Rvb2xDYWxsIG9mIHJhd1Rvb2xDYWxscyA/PyBbXSkgdHJ5IHtcblx0XHRcdFx0XHR0b29sQ2FsbHMucHVzaChwYXJzZVRvb2xDYWxsKHJhd1Rvb2xDYWxsLCB7IHJldHVybklkOiB0cnVlIH0pKTtcblx0XHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRcdGludmFsaWRUb29sQ2FsbHMucHVzaChtYWtlSW52YWxpZFRvb2xDYWxsKHJhd1Rvb2xDYWxsLCBlLm1lc3NhZ2UpKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjb25zdCBhZGRpdGlvbmFsX2t3YXJncyA9IHtcblx0XHRcdFx0XHRmdW5jdGlvbl9jYWxsOiBtZXNzYWdlLmZ1bmN0aW9uX2NhbGwsXG5cdFx0XHRcdFx0dG9vbF9jYWxsczogcmF3VG9vbENhbGxzXG5cdFx0XHRcdH07XG5cdFx0XHRcdGlmICh0aGlzLl9faW5jbHVkZVJhd1Jlc3BvbnNlICE9PSB2b2lkIDApIGFkZGl0aW9uYWxfa3dhcmdzLl9fcmF3X3Jlc3BvbnNlID0gcmF3UmVzcG9uc2U7XG5cdFx0XHRcdGNvbnN0IHJlc3BvbnNlX21ldGFkYXRhID0ge1xuXHRcdFx0XHRcdG1vZGVsX3Byb3ZpZGVyOiBcIm9wZW5haVwiLFxuXHRcdFx0XHRcdG1vZGVsX25hbWU6IHJhd1Jlc3BvbnNlLm1vZGVsLFxuXHRcdFx0XHRcdC4uLnJhd1Jlc3BvbnNlLnN5c3RlbV9maW5nZXJwcmludCA/IHtcblx0XHRcdFx0XHRcdHVzYWdlOiB7IC4uLnJhd1Jlc3BvbnNlLnVzYWdlIH0sXG5cdFx0XHRcdFx0XHRzeXN0ZW1fZmluZ2VycHJpbnQ6IHJhd1Jlc3BvbnNlLnN5c3RlbV9maW5nZXJwcmludFxuXHRcdFx0XHRcdH0gOiB7fVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRpZiAobWVzc2FnZS5hdWRpbykgYWRkaXRpb25hbF9rd2FyZ3MuYXVkaW8gPSBtZXNzYWdlLmF1ZGlvO1xuXHRcdFx0XHRjb25zdCBjb250ZW50ID0gaGFuZGxlTXVsdGlNb2RhbE91dHB1dChtZXNzYWdlLmNvbnRlbnQgfHwgXCJcIiwgcmF3UmVzcG9uc2UuY2hvaWNlcz8uWzBdPy5tZXNzYWdlKTtcblx0XHRcdFx0cmV0dXJuIG5ldyBBSU1lc3NhZ2Uoe1xuXHRcdFx0XHRcdGNvbnRlbnQsXG5cdFx0XHRcdFx0dG9vbF9jYWxsczogdG9vbENhbGxzLFxuXHRcdFx0XHRcdGludmFsaWRfdG9vbF9jYWxsczogaW52YWxpZFRvb2xDYWxscyxcblx0XHRcdFx0XHRhZGRpdGlvbmFsX2t3YXJncyxcblx0XHRcdFx0XHRyZXNwb25zZV9tZXRhZGF0YSxcblx0XHRcdFx0XHRpZDogcmF3UmVzcG9uc2UuaWRcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHRkZWZhdWx0OiByZXR1cm4gbmV3IENoYXRNZXNzYWdlKG1lc3NhZ2UuY29udGVudCB8fCBcIlwiLCBtZXNzYWdlLnJvbGUgPz8gXCJ1bmtub3duXCIpO1xuXHRcdH1cblx0fVxuXHQvKiogQGludGVybmFsICovXG5cdF9jb252ZXJ0Q29tcGxldGlvbnNEZWx0YVRvQmFzZU1lc3NhZ2VDaHVuayhkZWx0YSwgcmF3UmVzcG9uc2UsIGRlZmF1bHRSb2xlKSB7XG5cdFx0Y29uc3Qgcm9sZSA9IGRlbHRhLnJvbGUgPz8gZGVmYXVsdFJvbGU7XG5cdFx0Y29uc3QgY29udGVudCA9IGRlbHRhLmNvbnRlbnQgPz8gXCJcIjtcblx0XHRsZXQgYWRkaXRpb25hbF9rd2FyZ3M7XG5cdFx0aWYgKGRlbHRhLmZ1bmN0aW9uX2NhbGwpIGFkZGl0aW9uYWxfa3dhcmdzID0geyBmdW5jdGlvbl9jYWxsOiBkZWx0YS5mdW5jdGlvbl9jYWxsIH07XG5cdFx0ZWxzZSBpZiAoZGVsdGEudG9vbF9jYWxscykgYWRkaXRpb25hbF9rd2FyZ3MgPSB7IHRvb2xfY2FsbHM6IGRlbHRhLnRvb2xfY2FsbHMgfTtcblx0XHRlbHNlIGFkZGl0aW9uYWxfa3dhcmdzID0ge307XG5cdFx0aWYgKHRoaXMuX19pbmNsdWRlUmF3UmVzcG9uc2UpIGFkZGl0aW9uYWxfa3dhcmdzLl9fcmF3X3Jlc3BvbnNlID0gcmF3UmVzcG9uc2U7XG5cdFx0aWYgKGRlbHRhLmF1ZGlvKSBhZGRpdGlvbmFsX2t3YXJncy5hdWRpbyA9IHtcblx0XHRcdC4uLmRlbHRhLmF1ZGlvLFxuXHRcdFx0aW5kZXg6IHJhd1Jlc3BvbnNlLmNob2ljZXNbMF0uaW5kZXhcblx0XHR9O1xuXHRcdGNvbnN0IHJlc3BvbnNlX21ldGFkYXRhID0ge1xuXHRcdFx0bW9kZWxfcHJvdmlkZXI6IFwib3BlbmFpXCIsXG5cdFx0XHR1c2FnZTogeyAuLi5yYXdSZXNwb25zZS51c2FnZSB9XG5cdFx0fTtcblx0XHRpZiAocm9sZSA9PT0gXCJ1c2VyXCIpIHJldHVybiBuZXcgSHVtYW5NZXNzYWdlQ2h1bmsoe1xuXHRcdFx0Y29udGVudCxcblx0XHRcdHJlc3BvbnNlX21ldGFkYXRhXG5cdFx0fSk7XG5cdFx0ZWxzZSBpZiAocm9sZSA9PT0gXCJhc3Npc3RhbnRcIikge1xuXHRcdFx0Y29uc3QgdG9vbENhbGxDaHVua3MgPSBbXTtcblx0XHRcdGlmIChBcnJheS5pc0FycmF5KGRlbHRhLnRvb2xfY2FsbHMpKSBmb3IgKGNvbnN0IHJhd1Rvb2xDYWxsIG9mIGRlbHRhLnRvb2xfY2FsbHMpIHRvb2xDYWxsQ2h1bmtzLnB1c2goe1xuXHRcdFx0XHRuYW1lOiByYXdUb29sQ2FsbC5mdW5jdGlvbj8ubmFtZSxcblx0XHRcdFx0YXJnczogcmF3VG9vbENhbGwuZnVuY3Rpb24/LmFyZ3VtZW50cyxcblx0XHRcdFx0aWQ6IHJhd1Rvb2xDYWxsLmlkLFxuXHRcdFx0XHRpbmRleDogcmF3VG9vbENhbGwuaW5kZXgsXG5cdFx0XHRcdHR5cGU6IFwidG9vbF9jYWxsX2NodW5rXCJcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIG5ldyBBSU1lc3NhZ2VDaHVuayh7XG5cdFx0XHRcdGNvbnRlbnQsXG5cdFx0XHRcdHRvb2xfY2FsbF9jaHVua3M6IHRvb2xDYWxsQ2h1bmtzLFxuXHRcdFx0XHRhZGRpdGlvbmFsX2t3YXJncyxcblx0XHRcdFx0aWQ6IHJhd1Jlc3BvbnNlLmlkLFxuXHRcdFx0XHRyZXNwb25zZV9tZXRhZGF0YVxuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIGlmIChyb2xlID09PSBcInN5c3RlbVwiKSByZXR1cm4gbmV3IFN5c3RlbU1lc3NhZ2VDaHVuayh7XG5cdFx0XHRjb250ZW50LFxuXHRcdFx0cmVzcG9uc2VfbWV0YWRhdGFcblx0XHR9KTtcblx0XHRlbHNlIGlmIChyb2xlID09PSBcImRldmVsb3BlclwiKSByZXR1cm4gbmV3IFN5c3RlbU1lc3NhZ2VDaHVuayh7XG5cdFx0XHRjb250ZW50LFxuXHRcdFx0cmVzcG9uc2VfbWV0YWRhdGEsXG5cdFx0XHRhZGRpdGlvbmFsX2t3YXJnczogeyBfX29wZW5haV9yb2xlX186IFwiZGV2ZWxvcGVyXCIgfVxuXHRcdH0pO1xuXHRcdGVsc2UgaWYgKHJvbGUgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIG5ldyBGdW5jdGlvbk1lc3NhZ2VDaHVuayh7XG5cdFx0XHRjb250ZW50LFxuXHRcdFx0YWRkaXRpb25hbF9rd2FyZ3MsXG5cdFx0XHRuYW1lOiBkZWx0YS5uYW1lLFxuXHRcdFx0cmVzcG9uc2VfbWV0YWRhdGFcblx0XHR9KTtcblx0XHRlbHNlIGlmIChyb2xlID09PSBcInRvb2xcIikgcmV0dXJuIG5ldyBUb29sTWVzc2FnZUNodW5rKHtcblx0XHRcdGNvbnRlbnQsXG5cdFx0XHRhZGRpdGlvbmFsX2t3YXJncyxcblx0XHRcdHRvb2xfY2FsbF9pZDogZGVsdGEudG9vbF9jYWxsX2lkLFxuXHRcdFx0cmVzcG9uc2VfbWV0YWRhdGFcblx0XHR9KTtcblx0XHRlbHNlIHJldHVybiBuZXcgQ2hhdE1lc3NhZ2VDaHVuayh7XG5cdFx0XHRjb250ZW50LFxuXHRcdFx0cm9sZSxcblx0XHRcdHJlc3BvbnNlX21ldGFkYXRhXG5cdFx0fSk7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQ2hhdE9wZW5BSUNvbXBsZXRpb25zIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21wbGV0aW9ucy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/chat_models/completions.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/chat_models/index.js":
/*!**********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/chat_models/index.js ***!
  \**********************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatOpenAI: () => (/* binding */ ChatOpenAI)\n/* harmony export */ });\n/* harmony import */ var _utils_tools_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/tools.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/tools.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/chat_models/base.js\");\n/* harmony import */ var _responses_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./responses.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/chat_models/responses.js\");\n/* harmony import */ var _completions_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./completions.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/chat_models/completions.js\");\n\n\n\n\n\n//#region src/chat_models/index.ts\n/**\n* OpenAI chat model integration.\n*\n* To use with Azure, import the `AzureChatOpenAI` class.\n*\n* Setup:\n* Install `@langchain/openai` and set an environment variable named `OPENAI_API_KEY`.\n*\n* ```bash\n* npm install @langchain/openai\n* export OPENAI_API_KEY=\"your-api-key\"\n* ```\n*\n* ## [Constructor args](https://api.js.langchain.com/classes/langchain_openai.ChatOpenAI.html#constructor)\n*\n* ## [Runtime args](https://api.js.langchain.com/interfaces/langchain_openai.ChatOpenAICallOptions.html)\n*\n* Runtime args can be passed as the second argument to any of the base runnable methods `.invoke`. `.stream`, `.batch`, etc.\n* They can also be passed via `.withConfig`, or the second arg in `.bindTools`, like shown in the examples below:\n*\n* ```typescript\n* // When calling `.withConfig`, call options should be passed via the first argument\n* const llmWithArgsBound = llm.withConfig({\n*   stop: [\"\\n\"],\n*   tools: [...],\n* });\n*\n* // When calling `.bindTools`, call options should be passed via the second argument\n* const llmWithTools = llm.bindTools(\n*   [...],\n*   {\n*     tool_choice: \"auto\",\n*   }\n* );\n* ```\n*\n* ## Examples\n*\n* <details open>\n* <summary><strong>Instantiate</strong></summary>\n*\n* ```typescript\n* import { ChatOpenAI } from '@langchain/openai';\n*\n* const llm = new ChatOpenAI({\n*   model: \"gpt-4o-mini\",\n*   temperature: 0,\n*   maxTokens: undefined,\n*   timeout: undefined,\n*   maxRetries: 2,\n*   // apiKey: \"...\",\n*   // configuration: {\n*   //   baseURL: \"...\",\n*   // }\n*   // organization: \"...\",\n*   // other params...\n* });\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Invoking</strong></summary>\n*\n* ```typescript\n* const input = `Translate \"I love programming\" into French.`;\n*\n* // Models also accept a list of chat messages or a formatted prompt\n* const result = await llm.invoke(input);\n* console.log(result);\n* ```\n*\n* ```txt\n* AIMessage {\n*   \"id\": \"chatcmpl-9u4Mpu44CbPjwYFkTbeoZgvzB00Tz\",\n*   \"content\": \"J'adore la programmation.\",\n*   \"response_metadata\": {\n*     \"tokenUsage\": {\n*       \"completionTokens\": 5,\n*       \"promptTokens\": 28,\n*       \"totalTokens\": 33\n*     },\n*     \"finish_reason\": \"stop\",\n*     \"system_fingerprint\": \"fp_3aa7262c27\"\n*   },\n*   \"usage_metadata\": {\n*     \"input_tokens\": 28,\n*     \"output_tokens\": 5,\n*     \"total_tokens\": 33\n*   }\n* }\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Streaming Chunks</strong></summary>\n*\n* ```typescript\n* for await (const chunk of await llm.stream(input)) {\n*   console.log(chunk);\n* }\n* ```\n*\n* ```txt\n* AIMessageChunk {\n*   \"id\": \"chatcmpl-9u4NWB7yUeHCKdLr6jP3HpaOYHTqs\",\n*   \"content\": \"\"\n* }\n* AIMessageChunk {\n*   \"content\": \"J\"\n* }\n* AIMessageChunk {\n*   \"content\": \"'adore\"\n* }\n* AIMessageChunk {\n*   \"content\": \" la\"\n* }\n* AIMessageChunk {\n*   \"content\": \" programmation\",,\n* }\n* AIMessageChunk {\n*   \"content\": \".\",,\n* }\n* AIMessageChunk {\n*   \"content\": \"\",\n*   \"response_metadata\": {\n*     \"finish_reason\": \"stop\",\n*     \"system_fingerprint\": \"fp_c9aa9c0491\"\n*   },\n* }\n* AIMessageChunk {\n*   \"content\": \"\",\n*   \"usage_metadata\": {\n*     \"input_tokens\": 28,\n*     \"output_tokens\": 5,\n*     \"total_tokens\": 33\n*   }\n* }\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Aggregate Streamed Chunks</strong></summary>\n*\n* ```typescript\n* import { AIMessageChunk } from '@langchain/core/messages';\n* import { concat } from '@langchain/core/utils/stream';\n*\n* const stream = await llm.stream(input);\n* let full: AIMessageChunk | undefined;\n* for await (const chunk of stream) {\n*   full = !full ? chunk : concat(full, chunk);\n* }\n* console.log(full);\n* ```\n*\n* ```txt\n* AIMessageChunk {\n*   \"id\": \"chatcmpl-9u4PnX6Fy7OmK46DASy0bH6cxn5Xu\",\n*   \"content\": \"J'adore la programmation.\",\n*   \"response_metadata\": {\n*     \"prompt\": 0,\n*     \"completion\": 0,\n*     \"finish_reason\": \"stop\",\n*   },\n*   \"usage_metadata\": {\n*     \"input_tokens\": 28,\n*     \"output_tokens\": 5,\n*     \"total_tokens\": 33\n*   }\n* }\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Bind tools</strong></summary>\n*\n* ```typescript\n* import { z } from 'zod';\n*\n* const GetWeather = {\n*   name: \"GetWeather\",\n*   description: \"Get the current weather in a given location\",\n*   schema: z.object({\n*     location: z.string().describe(\"The city and state, e.g. San Francisco, CA\")\n*   }),\n* }\n*\n* const GetPopulation = {\n*   name: \"GetPopulation\",\n*   description: \"Get the current population in a given location\",\n*   schema: z.object({\n*     location: z.string().describe(\"The city and state, e.g. San Francisco, CA\")\n*   }),\n* }\n*\n* const llmWithTools = llm.bindTools(\n*   [GetWeather, GetPopulation],\n*   {\n*     // strict: true  // enforce tool args schema is respected\n*   }\n* );\n* const aiMsg = await llmWithTools.invoke(\n*   \"Which city is hotter today and which is bigger: LA or NY?\"\n* );\n* console.log(aiMsg.tool_calls);\n* ```\n*\n* ```txt\n* [\n*   {\n*     name: 'GetWeather',\n*     args: { location: 'Los Angeles, CA' },\n*     type: 'tool_call',\n*     id: 'call_uPU4FiFzoKAtMxfmPnfQL6UK'\n*   },\n*   {\n*     name: 'GetWeather',\n*     args: { location: 'New York, NY' },\n*     type: 'tool_call',\n*     id: 'call_UNkEwuQsHrGYqgDQuH9nPAtX'\n*   },\n*   {\n*     name: 'GetPopulation',\n*     args: { location: 'Los Angeles, CA' },\n*     type: 'tool_call',\n*     id: 'call_kL3OXxaq9OjIKqRTpvjaCH14'\n*   },\n*   {\n*     name: 'GetPopulation',\n*     args: { location: 'New York, NY' },\n*     type: 'tool_call',\n*     id: 'call_s9KQB1UWj45LLGaEnjz0179q'\n*   }\n* ]\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Structured Output</strong></summary>\n*\n* ```typescript\n* import { z } from 'zod';\n*\n* const Joke = z.object({\n*   setup: z.string().describe(\"The setup of the joke\"),\n*   punchline: z.string().describe(\"The punchline to the joke\"),\n*   rating: z.number().nullable().describe(\"How funny the joke is, from 1 to 10\")\n* }).describe('Joke to tell user.');\n*\n* const structuredLlm = llm.withStructuredOutput(Joke, {\n*   name: \"Joke\",\n*   strict: true, // Optionally enable OpenAI structured outputs\n* });\n* const jokeResult = await structuredLlm.invoke(\"Tell me a joke about cats\");\n* console.log(jokeResult);\n* ```\n*\n* ```txt\n* {\n*   setup: 'Why was the cat sitting on the computer?',\n*   punchline: 'Because it wanted to keep an eye on the mouse!',\n*   rating: 7\n* }\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>JSON Object Response Format</strong></summary>\n*\n* ```typescript\n* const jsonLlm = llm.withConfig({ response_format: { type: \"json_object\" } });\n* const jsonLlmAiMsg = await jsonLlm.invoke(\n*   \"Return a JSON object with key 'randomInts' and a value of 10 random ints in [0-99]\"\n* );\n* console.log(jsonLlmAiMsg.content);\n* ```\n*\n* ```txt\n* {\n*   \"randomInts\": [23, 87, 45, 12, 78, 34, 56, 90, 11, 67]\n* }\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Multimodal</strong></summary>\n*\n* ```typescript\n* import { HumanMessage } from '@langchain/core/messages';\n*\n* const imageUrl = \"https://example.com/image.jpg\";\n* const imageData = await fetch(imageUrl).then(res => res.arrayBuffer());\n* const base64Image = Buffer.from(imageData).toString('base64');\n*\n* const message = new HumanMessage({\n*   content: [\n*     { type: \"text\", text: \"describe the weather in this image\" },\n*     {\n*       type: \"image_url\",\n*       image_url: { url: `data:image/jpeg;base64,${base64Image}` },\n*     },\n*   ]\n* });\n*\n* const imageDescriptionAiMsg = await llm.invoke([message]);\n* console.log(imageDescriptionAiMsg.content);\n* ```\n*\n* ```txt\n* The weather in the image appears to be clear and sunny. The sky is mostly blue with a few scattered white clouds, indicating fair weather. The bright sunlight is casting shadows on the green, grassy hill, suggesting it is a pleasant day with good visibility. There are no signs of rain or stormy conditions.\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Usage Metadata</strong></summary>\n*\n* ```typescript\n* const aiMsgForMetadata = await llm.invoke(input);\n* console.log(aiMsgForMetadata.usage_metadata);\n* ```\n*\n* ```txt\n* { input_tokens: 28, output_tokens: 5, total_tokens: 33 }\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Logprobs</strong></summary>\n*\n* ```typescript\n* const logprobsLlm = new ChatOpenAI({ model: \"gpt-4o-mini\", logprobs: true });\n* const aiMsgForLogprobs = await logprobsLlm.invoke(input);\n* console.log(aiMsgForLogprobs.response_metadata.logprobs);\n* ```\n*\n* ```txt\n* {\n*   content: [\n*     {\n*       token: 'J',\n*       logprob: -0.000050616763,\n*       bytes: [Array],\n*       top_logprobs: []\n*     },\n*     {\n*       token: \"'\",\n*       logprob: -0.01868736,\n*       bytes: [Array],\n*       top_logprobs: []\n*     },\n*     {\n*       token: 'ad',\n*       logprob: -0.0000030545007,\n*       bytes: [Array],\n*       top_logprobs: []\n*     },\n*     { token: 'ore', logprob: 0, bytes: [Array], top_logprobs: [] },\n*     {\n*       token: ' la',\n*       logprob: -0.515404,\n*       bytes: [Array],\n*       top_logprobs: []\n*     },\n*     {\n*       token: ' programm',\n*       logprob: -0.0000118755715,\n*       bytes: [Array],\n*       top_logprobs: []\n*     },\n*     { token: 'ation', logprob: 0, bytes: [Array], top_logprobs: [] },\n*     {\n*       token: '.',\n*       logprob: -0.0000037697225,\n*       bytes: [Array],\n*       top_logprobs: []\n*     }\n*   ],\n*   refusal: null\n* }\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Response Metadata</strong></summary>\n*\n* ```typescript\n* const aiMsgForResponseMetadata = await llm.invoke(input);\n* console.log(aiMsgForResponseMetadata.response_metadata);\n* ```\n*\n* ```txt\n* {\n*   tokenUsage: { completionTokens: 5, promptTokens: 28, totalTokens: 33 },\n*   finish_reason: 'stop',\n*   system_fingerprint: 'fp_3aa7262c27'\n* }\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>JSON Schema Structured Output</strong></summary>\n*\n* ```typescript\n* const llmForJsonSchema = new ChatOpenAI({\n*   model: \"gpt-4o-2024-08-06\",\n* }).withStructuredOutput(\n*   z.object({\n*     command: z.string().describe(\"The command to execute\"),\n*     expectedOutput: z.string().describe(\"The expected output of the command\"),\n*     options: z\n*       .array(z.string())\n*       .describe(\"The options you can pass to the command\"),\n*   }),\n*   {\n*     method: \"jsonSchema\",\n*     strict: true, // Optional when using the `jsonSchema` method\n*   }\n* );\n*\n* const jsonSchemaRes = await llmForJsonSchema.invoke(\n*   \"What is the command to list files in a directory?\"\n* );\n* console.log(jsonSchemaRes);\n* ```\n*\n* ```txt\n* {\n*   command: 'ls',\n*   expectedOutput: 'A list of files and subdirectories within the specified directory.',\n*   options: [\n*     '-a: include directory entries whose names begin with a dot (.).',\n*     '-l: use a long listing format.',\n*     '-h: with -l, print sizes in human readable format (e.g., 1K, 234M, 2G).',\n*     '-t: sort by time, newest first.',\n*     '-r: reverse order while sorting.',\n*     '-S: sort by file size, largest first.',\n*     '-R: list subdirectories recursively.'\n*   ]\n* }\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Audio Outputs</strong></summary>\n*\n* ```typescript\n* import { ChatOpenAI } from \"@langchain/openai\";\n*\n* const modelWithAudioOutput = new ChatOpenAI({\n*   model: \"gpt-4o-audio-preview\",\n*   // You may also pass these fields to `.withConfig` as a call argument.\n*   modalities: [\"text\", \"audio\"], // Specifies that the model should output audio.\n*   audio: {\n*     voice: \"alloy\",\n*     format: \"wav\",\n*   },\n* });\n*\n* const audioOutputResult = await modelWithAudioOutput.invoke(\"Tell me a joke about cats.\");\n* const castMessageContent = audioOutputResult.content[0] as Record<string, any>;\n*\n* console.log({\n*   ...castMessageContent,\n*   data: castMessageContent.data.slice(0, 100) // Sliced for brevity\n* })\n* ```\n*\n* ```txt\n* {\n*   id: 'audio_67117718c6008190a3afad3e3054b9b6',\n*   data: 'UklGRqYwBgBXQVZFZm10IBAAAAABAAEAwF0AAIC7AAACABAATElTVBoAAABJTkZPSVNGVA4AAABMYXZmNTguMjkuMTAwAGRhdGFg',\n*   expires_at: 1729201448,\n*   transcript: 'Sure! Why did the cat sit on the computer? Because it wanted to keep an eye on the mouse!'\n* }\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Audio Outputs</strong></summary>\n*\n* ```typescript\n* import { ChatOpenAI } from \"@langchain/openai\";\n*\n* const modelWithAudioOutput = new ChatOpenAI({\n*   model: \"gpt-4o-audio-preview\",\n*   // You may also pass these fields to `.withConfig` as a call argument.\n*   modalities: [\"text\", \"audio\"], // Specifies that the model should output audio.\n*   audio: {\n*     voice: \"alloy\",\n*     format: \"wav\",\n*   },\n* });\n*\n* const audioOutputResult = await modelWithAudioOutput.invoke(\"Tell me a joke about cats.\");\n* const castAudioContent = audioOutputResult.additional_kwargs.audio as Record<string, any>;\n*\n* console.log({\n*   ...castAudioContent,\n*   data: castAudioContent.data.slice(0, 100) // Sliced for brevity\n* })\n* ```\n*\n* ```txt\n* {\n*   id: 'audio_67117718c6008190a3afad3e3054b9b6',\n*   data: 'UklGRqYwBgBXQVZFZm10IBAAAAABAAEAwF0AAIC7AAACABAATElTVBoAAABJTkZPSVNGVA4AAABMYXZmNTguMjkuMTAwAGRhdGFg',\n*   expires_at: 1729201448,\n*   transcript: 'Sure! Why did the cat sit on the computer? Because it wanted to keep an eye on the mouse!'\n* }\n* ```\n* </details>\n*\n* <br />\n*/\nvar ChatOpenAI = class ChatOpenAI extends _base_js__WEBPACK_IMPORTED_MODULE_1__.BaseChatOpenAI {\n\t/**\n\t* Whether to use the responses API for all requests. If `false` the responses API will be used\n\t* only when required in order to fulfill the request.\n\t*/\n\tuseResponsesApi = false;\n\tresponses;\n\tcompletions;\n\tget lc_serializable_keys() {\n\t\treturn [...super.lc_serializable_keys, \"useResponsesApi\"];\n\t}\n\tget callKeys() {\n\t\treturn [...super.callKeys, \"useResponsesApi\"];\n\t}\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.fields = fields;\n\t\tthis.useResponsesApi = fields?.useResponsesApi ?? false;\n\t\tthis.responses = fields?.responses ?? new _responses_js__WEBPACK_IMPORTED_MODULE_2__.ChatOpenAIResponses(fields);\n\t\tthis.completions = fields?.completions ?? new _completions_js__WEBPACK_IMPORTED_MODULE_3__.ChatOpenAICompletions(fields);\n\t}\n\t_useResponsesApi(options) {\n\t\tconst usesBuiltInTools = options?.tools?.some(_utils_tools_js__WEBPACK_IMPORTED_MODULE_0__.isBuiltInTool);\n\t\tconst hasResponsesOnlyKwargs = options?.previous_response_id != null || options?.text != null || options?.truncation != null || options?.include != null || options?.reasoning?.summary != null || this.reasoning?.summary != null;\n\t\tconst hasCustomTools = options?.tools?.some(_utils_tools_js__WEBPACK_IMPORTED_MODULE_0__.isOpenAICustomTool) || options?.tools?.some(_utils_tools_js__WEBPACK_IMPORTED_MODULE_0__.isCustomTool);\n\t\treturn this.useResponsesApi || usesBuiltInTools || hasResponsesOnlyKwargs || hasCustomTools;\n\t}\n\tgetLsParams(options) {\n\t\tconst optionsWithDefaults = this._combineCallOptions(options);\n\t\tif (this._useResponsesApi(options)) return this.responses.getLsParams(optionsWithDefaults);\n\t\treturn this.completions.getLsParams(optionsWithDefaults);\n\t}\n\tinvocationParams(options) {\n\t\tconst optionsWithDefaults = this._combineCallOptions(options);\n\t\tif (this._useResponsesApi(options)) return this.responses.invocationParams(optionsWithDefaults);\n\t\treturn this.completions.invocationParams(optionsWithDefaults);\n\t}\n\t/** @ignore */\n\tasync _generate(messages, options, runManager) {\n\t\tif (this._useResponsesApi(options)) return this.responses._generate(messages, options);\n\t\treturn this.completions._generate(messages, options, runManager);\n\t}\n\tasync *_streamResponseChunks(messages, options, runManager) {\n\t\tif (this._useResponsesApi(options)) {\n\t\t\tyield* this.responses._streamResponseChunks(messages, this._combineCallOptions(options), runManager);\n\t\t\treturn;\n\t\t}\n\t\tyield* this.completions._streamResponseChunks(messages, this._combineCallOptions(options), runManager);\n\t}\n\twithConfig(config) {\n\t\tconst newModel = new ChatOpenAI(this.fields);\n\t\tnewModel.defaultOptions = {\n\t\t\t...this.defaultOptions,\n\t\t\t...config\n\t\t};\n\t\treturn newModel;\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvcGVuYWlAMS4wLjBfQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfX193c0A4LjE4LjMvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvY2hhdF9tb2RlbHMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBb0Y7QUFDekM7QUFDVTtBQUNJOztBQUV6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxhQUFhO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUJBQWlCO0FBQzVCLFdBQVcsU0FBUztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsSUFBSTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDZCQUE2QjtBQUMzQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxjQUFjLDBCQUEwQjtBQUN4QztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxjQUFjLDZCQUE2QjtBQUMzQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxjQUFjLDBCQUEwQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsSUFBSTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsbUJBQW1CLHVCQUF1QjtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZUFBZTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsMERBQTBEO0FBQ2xFO0FBQ0E7QUFDQSxxQkFBcUIsc0JBQXNCLFNBQVMsWUFBWSxHQUFHO0FBQ25FLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLHNDQUFzQztBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLFFBQVEsNERBQTREO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxRQUFRLDhEQUE4RDtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isd0RBQXdEO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGFBQWE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxhQUFhO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsb0RBQWM7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0Qyw4REFBbUI7QUFDL0QsZ0RBQWdELGtFQUFxQjtBQUNyRTtBQUNBO0FBQ0EsZ0RBQWdELDBEQUFhO0FBQzdEO0FBQ0EsOENBQThDLCtEQUFrQiwwQkFBMEIseURBQVk7QUFDdEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3NCO0FBQ3RCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvcGVuYWlAMS4wLjBfQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfX193c0A4LjE4LjMvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvY2hhdF9tb2RlbHMvaW5kZXguanM/OTRiOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0J1aWx0SW5Ub29sLCBpc0N1c3RvbVRvb2wsIGlzT3BlbkFJQ3VzdG9tVG9vbCB9IGZyb20gXCIuLi91dGlscy90b29scy5qc1wiO1xuaW1wb3J0IHsgQmFzZUNoYXRPcGVuQUkgfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5pbXBvcnQgeyBDaGF0T3BlbkFJUmVzcG9uc2VzIH0gZnJvbSBcIi4vcmVzcG9uc2VzLmpzXCI7XG5pbXBvcnQgeyBDaGF0T3BlbkFJQ29tcGxldGlvbnMgfSBmcm9tIFwiLi9jb21wbGV0aW9ucy5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL2NoYXRfbW9kZWxzL2luZGV4LnRzXG4vKipcbiogT3BlbkFJIGNoYXQgbW9kZWwgaW50ZWdyYXRpb24uXG4qXG4qIFRvIHVzZSB3aXRoIEF6dXJlLCBpbXBvcnQgdGhlIGBBenVyZUNoYXRPcGVuQUlgIGNsYXNzLlxuKlxuKiBTZXR1cDpcbiogSW5zdGFsbCBgQGxhbmdjaGFpbi9vcGVuYWlgIGFuZCBzZXQgYW4gZW52aXJvbm1lbnQgdmFyaWFibGUgbmFtZWQgYE9QRU5BSV9BUElfS0VZYC5cbipcbiogYGBgYmFzaFxuKiBucG0gaW5zdGFsbCBAbGFuZ2NoYWluL29wZW5haVxuKiBleHBvcnQgT1BFTkFJX0FQSV9LRVk9XCJ5b3VyLWFwaS1rZXlcIlxuKiBgYGBcbipcbiogIyMgW0NvbnN0cnVjdG9yIGFyZ3NdKGh0dHBzOi8vYXBpLmpzLmxhbmdjaGFpbi5jb20vY2xhc3Nlcy9sYW5nY2hhaW5fb3BlbmFpLkNoYXRPcGVuQUkuaHRtbCNjb25zdHJ1Y3RvcilcbipcbiogIyMgW1J1bnRpbWUgYXJnc10oaHR0cHM6Ly9hcGkuanMubGFuZ2NoYWluLmNvbS9pbnRlcmZhY2VzL2xhbmdjaGFpbl9vcGVuYWkuQ2hhdE9wZW5BSUNhbGxPcHRpb25zLmh0bWwpXG4qXG4qIFJ1bnRpbWUgYXJncyBjYW4gYmUgcGFzc2VkIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgdG8gYW55IG9mIHRoZSBiYXNlIHJ1bm5hYmxlIG1ldGhvZHMgYC5pbnZva2VgLiBgLnN0cmVhbWAsIGAuYmF0Y2hgLCBldGMuXG4qIFRoZXkgY2FuIGFsc28gYmUgcGFzc2VkIHZpYSBgLndpdGhDb25maWdgLCBvciB0aGUgc2Vjb25kIGFyZyBpbiBgLmJpbmRUb29sc2AsIGxpa2Ugc2hvd24gaW4gdGhlIGV4YW1wbGVzIGJlbG93OlxuKlxuKiBgYGB0eXBlc2NyaXB0XG4qIC8vIFdoZW4gY2FsbGluZyBgLndpdGhDb25maWdgLCBjYWxsIG9wdGlvbnMgc2hvdWxkIGJlIHBhc3NlZCB2aWEgdGhlIGZpcnN0IGFyZ3VtZW50XG4qIGNvbnN0IGxsbVdpdGhBcmdzQm91bmQgPSBsbG0ud2l0aENvbmZpZyh7XG4qICAgc3RvcDogW1wiXFxuXCJdLFxuKiAgIHRvb2xzOiBbLi4uXSxcbiogfSk7XG4qXG4qIC8vIFdoZW4gY2FsbGluZyBgLmJpbmRUb29sc2AsIGNhbGwgb3B0aW9ucyBzaG91bGQgYmUgcGFzc2VkIHZpYSB0aGUgc2Vjb25kIGFyZ3VtZW50XG4qIGNvbnN0IGxsbVdpdGhUb29scyA9IGxsbS5iaW5kVG9vbHMoXG4qICAgWy4uLl0sXG4qICAge1xuKiAgICAgdG9vbF9jaG9pY2U6IFwiYXV0b1wiLFxuKiAgIH1cbiogKTtcbiogYGBgXG4qXG4qICMjIEV4YW1wbGVzXG4qXG4qIDxkZXRhaWxzIG9wZW4+XG4qIDxzdW1tYXJ5PjxzdHJvbmc+SW5zdGFudGlhdGU8L3N0cm9uZz48L3N1bW1hcnk+XG4qXG4qIGBgYHR5cGVzY3JpcHRcbiogaW1wb3J0IHsgQ2hhdE9wZW5BSSB9IGZyb20gJ0BsYW5nY2hhaW4vb3BlbmFpJztcbipcbiogY29uc3QgbGxtID0gbmV3IENoYXRPcGVuQUkoe1xuKiAgIG1vZGVsOiBcImdwdC00by1taW5pXCIsXG4qICAgdGVtcGVyYXR1cmU6IDAsXG4qICAgbWF4VG9rZW5zOiB1bmRlZmluZWQsXG4qICAgdGltZW91dDogdW5kZWZpbmVkLFxuKiAgIG1heFJldHJpZXM6IDIsXG4qICAgLy8gYXBpS2V5OiBcIi4uLlwiLFxuKiAgIC8vIGNvbmZpZ3VyYXRpb246IHtcbiogICAvLyAgIGJhc2VVUkw6IFwiLi4uXCIsXG4qICAgLy8gfVxuKiAgIC8vIG9yZ2FuaXphdGlvbjogXCIuLi5cIixcbiogICAvLyBvdGhlciBwYXJhbXMuLi5cbiogfSk7XG4qIGBgYFxuKiA8L2RldGFpbHM+XG4qXG4qIDxiciAvPlxuKlxuKiA8ZGV0YWlscz5cbiogPHN1bW1hcnk+PHN0cm9uZz5JbnZva2luZzwvc3Ryb25nPjwvc3VtbWFyeT5cbipcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBpbnB1dCA9IGBUcmFuc2xhdGUgXCJJIGxvdmUgcHJvZ3JhbW1pbmdcIiBpbnRvIEZyZW5jaC5gO1xuKlxuKiAvLyBNb2RlbHMgYWxzbyBhY2NlcHQgYSBsaXN0IG9mIGNoYXQgbWVzc2FnZXMgb3IgYSBmb3JtYXR0ZWQgcHJvbXB0XG4qIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGxsbS5pbnZva2UoaW5wdXQpO1xuKiBjb25zb2xlLmxvZyhyZXN1bHQpO1xuKiBgYGBcbipcbiogYGBgdHh0XG4qIEFJTWVzc2FnZSB7XG4qICAgXCJpZFwiOiBcImNoYXRjbXBsLTl1NE1wdTQ0Q2JQandZRmtUYmVvWmd2ekIwMFR6XCIsXG4qICAgXCJjb250ZW50XCI6IFwiSidhZG9yZSBsYSBwcm9ncmFtbWF0aW9uLlwiLFxuKiAgIFwicmVzcG9uc2VfbWV0YWRhdGFcIjoge1xuKiAgICAgXCJ0b2tlblVzYWdlXCI6IHtcbiogICAgICAgXCJjb21wbGV0aW9uVG9rZW5zXCI6IDUsXG4qICAgICAgIFwicHJvbXB0VG9rZW5zXCI6IDI4LFxuKiAgICAgICBcInRvdGFsVG9rZW5zXCI6IDMzXG4qICAgICB9LFxuKiAgICAgXCJmaW5pc2hfcmVhc29uXCI6IFwic3RvcFwiLFxuKiAgICAgXCJzeXN0ZW1fZmluZ2VycHJpbnRcIjogXCJmcF8zYWE3MjYyYzI3XCJcbiogICB9LFxuKiAgIFwidXNhZ2VfbWV0YWRhdGFcIjoge1xuKiAgICAgXCJpbnB1dF90b2tlbnNcIjogMjgsXG4qICAgICBcIm91dHB1dF90b2tlbnNcIjogNSxcbiogICAgIFwidG90YWxfdG9rZW5zXCI6IDMzXG4qICAgfVxuKiB9XG4qIGBgYFxuKiA8L2RldGFpbHM+XG4qXG4qIDxiciAvPlxuKlxuKiA8ZGV0YWlscz5cbiogPHN1bW1hcnk+PHN0cm9uZz5TdHJlYW1pbmcgQ2h1bmtzPC9zdHJvbmc+PC9zdW1tYXJ5PlxuKlxuKiBgYGB0eXBlc2NyaXB0XG4qIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgYXdhaXQgbGxtLnN0cmVhbShpbnB1dCkpIHtcbiogICBjb25zb2xlLmxvZyhjaHVuayk7XG4qIH1cbiogYGBgXG4qXG4qIGBgYHR4dFxuKiBBSU1lc3NhZ2VDaHVuayB7XG4qICAgXCJpZFwiOiBcImNoYXRjbXBsLTl1NE5XQjd5VWVIQ0tkTHI2alAzSHBhT1lIVHFzXCIsXG4qICAgXCJjb250ZW50XCI6IFwiXCJcbiogfVxuKiBBSU1lc3NhZ2VDaHVuayB7XG4qICAgXCJjb250ZW50XCI6IFwiSlwiXG4qIH1cbiogQUlNZXNzYWdlQ2h1bmsge1xuKiAgIFwiY29udGVudFwiOiBcIidhZG9yZVwiXG4qIH1cbiogQUlNZXNzYWdlQ2h1bmsge1xuKiAgIFwiY29udGVudFwiOiBcIiBsYVwiXG4qIH1cbiogQUlNZXNzYWdlQ2h1bmsge1xuKiAgIFwiY29udGVudFwiOiBcIiBwcm9ncmFtbWF0aW9uXCIsLFxuKiB9XG4qIEFJTWVzc2FnZUNodW5rIHtcbiogICBcImNvbnRlbnRcIjogXCIuXCIsLFxuKiB9XG4qIEFJTWVzc2FnZUNodW5rIHtcbiogICBcImNvbnRlbnRcIjogXCJcIixcbiogICBcInJlc3BvbnNlX21ldGFkYXRhXCI6IHtcbiogICAgIFwiZmluaXNoX3JlYXNvblwiOiBcInN0b3BcIixcbiogICAgIFwic3lzdGVtX2ZpbmdlcnByaW50XCI6IFwiZnBfYzlhYTljMDQ5MVwiXG4qICAgfSxcbiogfVxuKiBBSU1lc3NhZ2VDaHVuayB7XG4qICAgXCJjb250ZW50XCI6IFwiXCIsXG4qICAgXCJ1c2FnZV9tZXRhZGF0YVwiOiB7XG4qICAgICBcImlucHV0X3Rva2Vuc1wiOiAyOCxcbiogICAgIFwib3V0cHV0X3Rva2Vuc1wiOiA1LFxuKiAgICAgXCJ0b3RhbF90b2tlbnNcIjogMzNcbiogICB9XG4qIH1cbiogYGBgXG4qIDwvZGV0YWlscz5cbipcbiogPGJyIC8+XG4qXG4qIDxkZXRhaWxzPlxuKiA8c3VtbWFyeT48c3Ryb25nPkFnZ3JlZ2F0ZSBTdHJlYW1lZCBDaHVua3M8L3N0cm9uZz48L3N1bW1hcnk+XG4qXG4qIGBgYHR5cGVzY3JpcHRcbiogaW1wb3J0IHsgQUlNZXNzYWdlQ2h1bmsgfSBmcm9tICdAbGFuZ2NoYWluL2NvcmUvbWVzc2FnZXMnO1xuKiBpbXBvcnQgeyBjb25jYXQgfSBmcm9tICdAbGFuZ2NoYWluL2NvcmUvdXRpbHMvc3RyZWFtJztcbipcbiogY29uc3Qgc3RyZWFtID0gYXdhaXQgbGxtLnN0cmVhbShpbnB1dCk7XG4qIGxldCBmdWxsOiBBSU1lc3NhZ2VDaHVuayB8IHVuZGVmaW5lZDtcbiogZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBzdHJlYW0pIHtcbiogICBmdWxsID0gIWZ1bGwgPyBjaHVuayA6IGNvbmNhdChmdWxsLCBjaHVuayk7XG4qIH1cbiogY29uc29sZS5sb2coZnVsbCk7XG4qIGBgYFxuKlxuKiBgYGB0eHRcbiogQUlNZXNzYWdlQ2h1bmsge1xuKiAgIFwiaWRcIjogXCJjaGF0Y21wbC05dTRQblg2Rnk3T21LNDZEQVN5MGJINmN4bjVYdVwiLFxuKiAgIFwiY29udGVudFwiOiBcIkonYWRvcmUgbGEgcHJvZ3JhbW1hdGlvbi5cIixcbiogICBcInJlc3BvbnNlX21ldGFkYXRhXCI6IHtcbiogICAgIFwicHJvbXB0XCI6IDAsXG4qICAgICBcImNvbXBsZXRpb25cIjogMCxcbiogICAgIFwiZmluaXNoX3JlYXNvblwiOiBcInN0b3BcIixcbiogICB9LFxuKiAgIFwidXNhZ2VfbWV0YWRhdGFcIjoge1xuKiAgICAgXCJpbnB1dF90b2tlbnNcIjogMjgsXG4qICAgICBcIm91dHB1dF90b2tlbnNcIjogNSxcbiogICAgIFwidG90YWxfdG9rZW5zXCI6IDMzXG4qICAgfVxuKiB9XG4qIGBgYFxuKiA8L2RldGFpbHM+XG4qXG4qIDxiciAvPlxuKlxuKiA8ZGV0YWlscz5cbiogPHN1bW1hcnk+PHN0cm9uZz5CaW5kIHRvb2xzPC9zdHJvbmc+PC9zdW1tYXJ5PlxuKlxuKiBgYGB0eXBlc2NyaXB0XG4qIGltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xuKlxuKiBjb25zdCBHZXRXZWF0aGVyID0ge1xuKiAgIG5hbWU6IFwiR2V0V2VhdGhlclwiLFxuKiAgIGRlc2NyaXB0aW9uOiBcIkdldCB0aGUgY3VycmVudCB3ZWF0aGVyIGluIGEgZ2l2ZW4gbG9jYXRpb25cIixcbiogICBzY2hlbWE6IHoub2JqZWN0KHtcbiogICAgIGxvY2F0aW9uOiB6LnN0cmluZygpLmRlc2NyaWJlKFwiVGhlIGNpdHkgYW5kIHN0YXRlLCBlLmcuIFNhbiBGcmFuY2lzY28sIENBXCIpXG4qICAgfSksXG4qIH1cbipcbiogY29uc3QgR2V0UG9wdWxhdGlvbiA9IHtcbiogICBuYW1lOiBcIkdldFBvcHVsYXRpb25cIixcbiogICBkZXNjcmlwdGlvbjogXCJHZXQgdGhlIGN1cnJlbnQgcG9wdWxhdGlvbiBpbiBhIGdpdmVuIGxvY2F0aW9uXCIsXG4qICAgc2NoZW1hOiB6Lm9iamVjdCh7XG4qICAgICBsb2NhdGlvbjogei5zdHJpbmcoKS5kZXNjcmliZShcIlRoZSBjaXR5IGFuZCBzdGF0ZSwgZS5nLiBTYW4gRnJhbmNpc2NvLCBDQVwiKVxuKiAgIH0pLFxuKiB9XG4qXG4qIGNvbnN0IGxsbVdpdGhUb29scyA9IGxsbS5iaW5kVG9vbHMoXG4qICAgW0dldFdlYXRoZXIsIEdldFBvcHVsYXRpb25dLFxuKiAgIHtcbiogICAgIC8vIHN0cmljdDogdHJ1ZSAgLy8gZW5mb3JjZSB0b29sIGFyZ3Mgc2NoZW1hIGlzIHJlc3BlY3RlZFxuKiAgIH1cbiogKTtcbiogY29uc3QgYWlNc2cgPSBhd2FpdCBsbG1XaXRoVG9vbHMuaW52b2tlKFxuKiAgIFwiV2hpY2ggY2l0eSBpcyBob3R0ZXIgdG9kYXkgYW5kIHdoaWNoIGlzIGJpZ2dlcjogTEEgb3IgTlk/XCJcbiogKTtcbiogY29uc29sZS5sb2coYWlNc2cudG9vbF9jYWxscyk7XG4qIGBgYFxuKlxuKiBgYGB0eHRcbiogW1xuKiAgIHtcbiogICAgIG5hbWU6ICdHZXRXZWF0aGVyJyxcbiogICAgIGFyZ3M6IHsgbG9jYXRpb246ICdMb3MgQW5nZWxlcywgQ0EnIH0sXG4qICAgICB0eXBlOiAndG9vbF9jYWxsJyxcbiogICAgIGlkOiAnY2FsbF91UFU0RmlGem9LQXRNeGZtUG5mUUw2VUsnXG4qICAgfSxcbiogICB7XG4qICAgICBuYW1lOiAnR2V0V2VhdGhlcicsXG4qICAgICBhcmdzOiB7IGxvY2F0aW9uOiAnTmV3IFlvcmssIE5ZJyB9LFxuKiAgICAgdHlwZTogJ3Rvb2xfY2FsbCcsXG4qICAgICBpZDogJ2NhbGxfVU5rRXd1UXNIckdZcWdEUXVIOW5QQXRYJ1xuKiAgIH0sXG4qICAge1xuKiAgICAgbmFtZTogJ0dldFBvcHVsYXRpb24nLFxuKiAgICAgYXJnczogeyBsb2NhdGlvbjogJ0xvcyBBbmdlbGVzLCBDQScgfSxcbiogICAgIHR5cGU6ICd0b29sX2NhbGwnLFxuKiAgICAgaWQ6ICdjYWxsX2tMM09YeGFxOU9qSUtxUlRwdmphQ0gxNCdcbiogICB9LFxuKiAgIHtcbiogICAgIG5hbWU6ICdHZXRQb3B1bGF0aW9uJyxcbiogICAgIGFyZ3M6IHsgbG9jYXRpb246ICdOZXcgWW9yaywgTlknIH0sXG4qICAgICB0eXBlOiAndG9vbF9jYWxsJyxcbiogICAgIGlkOiAnY2FsbF9zOUtRQjFVV2o0NUxMR2FFbmp6MDE3OXEnXG4qICAgfVxuKiBdXG4qIGBgYFxuKiA8L2RldGFpbHM+XG4qXG4qIDxiciAvPlxuKlxuKiA8ZGV0YWlscz5cbiogPHN1bW1hcnk+PHN0cm9uZz5TdHJ1Y3R1cmVkIE91dHB1dDwvc3Ryb25nPjwvc3VtbWFyeT5cbipcbiogYGBgdHlwZXNjcmlwdFxuKiBpbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcbipcbiogY29uc3QgSm9rZSA9IHoub2JqZWN0KHtcbiogICBzZXR1cDogei5zdHJpbmcoKS5kZXNjcmliZShcIlRoZSBzZXR1cCBvZiB0aGUgam9rZVwiKSxcbiogICBwdW5jaGxpbmU6IHouc3RyaW5nKCkuZGVzY3JpYmUoXCJUaGUgcHVuY2hsaW5lIHRvIHRoZSBqb2tlXCIpLFxuKiAgIHJhdGluZzogei5udW1iZXIoKS5udWxsYWJsZSgpLmRlc2NyaWJlKFwiSG93IGZ1bm55IHRoZSBqb2tlIGlzLCBmcm9tIDEgdG8gMTBcIilcbiogfSkuZGVzY3JpYmUoJ0pva2UgdG8gdGVsbCB1c2VyLicpO1xuKlxuKiBjb25zdCBzdHJ1Y3R1cmVkTGxtID0gbGxtLndpdGhTdHJ1Y3R1cmVkT3V0cHV0KEpva2UsIHtcbiogICBuYW1lOiBcIkpva2VcIixcbiogICBzdHJpY3Q6IHRydWUsIC8vIE9wdGlvbmFsbHkgZW5hYmxlIE9wZW5BSSBzdHJ1Y3R1cmVkIG91dHB1dHNcbiogfSk7XG4qIGNvbnN0IGpva2VSZXN1bHQgPSBhd2FpdCBzdHJ1Y3R1cmVkTGxtLmludm9rZShcIlRlbGwgbWUgYSBqb2tlIGFib3V0IGNhdHNcIik7XG4qIGNvbnNvbGUubG9nKGpva2VSZXN1bHQpO1xuKiBgYGBcbipcbiogYGBgdHh0XG4qIHtcbiogICBzZXR1cDogJ1doeSB3YXMgdGhlIGNhdCBzaXR0aW5nIG9uIHRoZSBjb21wdXRlcj8nLFxuKiAgIHB1bmNobGluZTogJ0JlY2F1c2UgaXQgd2FudGVkIHRvIGtlZXAgYW4gZXllIG9uIHRoZSBtb3VzZSEnLFxuKiAgIHJhdGluZzogN1xuKiB9XG4qIGBgYFxuKiA8L2RldGFpbHM+XG4qXG4qIDxiciAvPlxuKlxuKiA8ZGV0YWlscz5cbiogPHN1bW1hcnk+PHN0cm9uZz5KU09OIE9iamVjdCBSZXNwb25zZSBGb3JtYXQ8L3N0cm9uZz48L3N1bW1hcnk+XG4qXG4qIGBgYHR5cGVzY3JpcHRcbiogY29uc3QganNvbkxsbSA9IGxsbS53aXRoQ29uZmlnKHsgcmVzcG9uc2VfZm9ybWF0OiB7IHR5cGU6IFwianNvbl9vYmplY3RcIiB9IH0pO1xuKiBjb25zdCBqc29uTGxtQWlNc2cgPSBhd2FpdCBqc29uTGxtLmludm9rZShcbiogICBcIlJldHVybiBhIEpTT04gb2JqZWN0IHdpdGgga2V5ICdyYW5kb21JbnRzJyBhbmQgYSB2YWx1ZSBvZiAxMCByYW5kb20gaW50cyBpbiBbMC05OV1cIlxuKiApO1xuKiBjb25zb2xlLmxvZyhqc29uTGxtQWlNc2cuY29udGVudCk7XG4qIGBgYFxuKlxuKiBgYGB0eHRcbioge1xuKiAgIFwicmFuZG9tSW50c1wiOiBbMjMsIDg3LCA0NSwgMTIsIDc4LCAzNCwgNTYsIDkwLCAxMSwgNjddXG4qIH1cbiogYGBgXG4qIDwvZGV0YWlscz5cbipcbiogPGJyIC8+XG4qXG4qIDxkZXRhaWxzPlxuKiA8c3VtbWFyeT48c3Ryb25nPk11bHRpbW9kYWw8L3N0cm9uZz48L3N1bW1hcnk+XG4qXG4qIGBgYHR5cGVzY3JpcHRcbiogaW1wb3J0IHsgSHVtYW5NZXNzYWdlIH0gZnJvbSAnQGxhbmdjaGFpbi9jb3JlL21lc3NhZ2VzJztcbipcbiogY29uc3QgaW1hZ2VVcmwgPSBcImh0dHBzOi8vZXhhbXBsZS5jb20vaW1hZ2UuanBnXCI7XG4qIGNvbnN0IGltYWdlRGF0YSA9IGF3YWl0IGZldGNoKGltYWdlVXJsKS50aGVuKHJlcyA9PiByZXMuYXJyYXlCdWZmZXIoKSk7XG4qIGNvbnN0IGJhc2U2NEltYWdlID0gQnVmZmVyLmZyb20oaW1hZ2VEYXRhKS50b1N0cmluZygnYmFzZTY0Jyk7XG4qXG4qIGNvbnN0IG1lc3NhZ2UgPSBuZXcgSHVtYW5NZXNzYWdlKHtcbiogICBjb250ZW50OiBbXG4qICAgICB7IHR5cGU6IFwidGV4dFwiLCB0ZXh0OiBcImRlc2NyaWJlIHRoZSB3ZWF0aGVyIGluIHRoaXMgaW1hZ2VcIiB9LFxuKiAgICAge1xuKiAgICAgICB0eXBlOiBcImltYWdlX3VybFwiLFxuKiAgICAgICBpbWFnZV91cmw6IHsgdXJsOiBgZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCwke2Jhc2U2NEltYWdlfWAgfSxcbiogICAgIH0sXG4qICAgXVxuKiB9KTtcbipcbiogY29uc3QgaW1hZ2VEZXNjcmlwdGlvbkFpTXNnID0gYXdhaXQgbGxtLmludm9rZShbbWVzc2FnZV0pO1xuKiBjb25zb2xlLmxvZyhpbWFnZURlc2NyaXB0aW9uQWlNc2cuY29udGVudCk7XG4qIGBgYFxuKlxuKiBgYGB0eHRcbiogVGhlIHdlYXRoZXIgaW4gdGhlIGltYWdlIGFwcGVhcnMgdG8gYmUgY2xlYXIgYW5kIHN1bm55LiBUaGUgc2t5IGlzIG1vc3RseSBibHVlIHdpdGggYSBmZXcgc2NhdHRlcmVkIHdoaXRlIGNsb3VkcywgaW5kaWNhdGluZyBmYWlyIHdlYXRoZXIuIFRoZSBicmlnaHQgc3VubGlnaHQgaXMgY2FzdGluZyBzaGFkb3dzIG9uIHRoZSBncmVlbiwgZ3Jhc3N5IGhpbGwsIHN1Z2dlc3RpbmcgaXQgaXMgYSBwbGVhc2FudCBkYXkgd2l0aCBnb29kIHZpc2liaWxpdHkuIFRoZXJlIGFyZSBubyBzaWducyBvZiByYWluIG9yIHN0b3JteSBjb25kaXRpb25zLlxuKiBgYGBcbiogPC9kZXRhaWxzPlxuKlxuKiA8YnIgLz5cbipcbiogPGRldGFpbHM+XG4qIDxzdW1tYXJ5PjxzdHJvbmc+VXNhZ2UgTWV0YWRhdGE8L3N0cm9uZz48L3N1bW1hcnk+XG4qXG4qIGBgYHR5cGVzY3JpcHRcbiogY29uc3QgYWlNc2dGb3JNZXRhZGF0YSA9IGF3YWl0IGxsbS5pbnZva2UoaW5wdXQpO1xuKiBjb25zb2xlLmxvZyhhaU1zZ0Zvck1ldGFkYXRhLnVzYWdlX21ldGFkYXRhKTtcbiogYGBgXG4qXG4qIGBgYHR4dFxuKiB7IGlucHV0X3Rva2VuczogMjgsIG91dHB1dF90b2tlbnM6IDUsIHRvdGFsX3Rva2VuczogMzMgfVxuKiBgYGBcbiogPC9kZXRhaWxzPlxuKlxuKiA8YnIgLz5cbipcbiogPGRldGFpbHM+XG4qIDxzdW1tYXJ5PjxzdHJvbmc+TG9ncHJvYnM8L3N0cm9uZz48L3N1bW1hcnk+XG4qXG4qIGBgYHR5cGVzY3JpcHRcbiogY29uc3QgbG9ncHJvYnNMbG0gPSBuZXcgQ2hhdE9wZW5BSSh7IG1vZGVsOiBcImdwdC00by1taW5pXCIsIGxvZ3Byb2JzOiB0cnVlIH0pO1xuKiBjb25zdCBhaU1zZ0ZvckxvZ3Byb2JzID0gYXdhaXQgbG9ncHJvYnNMbG0uaW52b2tlKGlucHV0KTtcbiogY29uc29sZS5sb2coYWlNc2dGb3JMb2dwcm9icy5yZXNwb25zZV9tZXRhZGF0YS5sb2dwcm9icyk7XG4qIGBgYFxuKlxuKiBgYGB0eHRcbioge1xuKiAgIGNvbnRlbnQ6IFtcbiogICAgIHtcbiogICAgICAgdG9rZW46ICdKJyxcbiogICAgICAgbG9ncHJvYjogLTAuMDAwMDUwNjE2NzYzLFxuKiAgICAgICBieXRlczogW0FycmF5XSxcbiogICAgICAgdG9wX2xvZ3Byb2JzOiBbXVxuKiAgICAgfSxcbiogICAgIHtcbiogICAgICAgdG9rZW46IFwiJ1wiLFxuKiAgICAgICBsb2dwcm9iOiAtMC4wMTg2ODczNixcbiogICAgICAgYnl0ZXM6IFtBcnJheV0sXG4qICAgICAgIHRvcF9sb2dwcm9iczogW11cbiogICAgIH0sXG4qICAgICB7XG4qICAgICAgIHRva2VuOiAnYWQnLFxuKiAgICAgICBsb2dwcm9iOiAtMC4wMDAwMDMwNTQ1MDA3LFxuKiAgICAgICBieXRlczogW0FycmF5XSxcbiogICAgICAgdG9wX2xvZ3Byb2JzOiBbXVxuKiAgICAgfSxcbiogICAgIHsgdG9rZW46ICdvcmUnLCBsb2dwcm9iOiAwLCBieXRlczogW0FycmF5XSwgdG9wX2xvZ3Byb2JzOiBbXSB9LFxuKiAgICAge1xuKiAgICAgICB0b2tlbjogJyBsYScsXG4qICAgICAgIGxvZ3Byb2I6IC0wLjUxNTQwNCxcbiogICAgICAgYnl0ZXM6IFtBcnJheV0sXG4qICAgICAgIHRvcF9sb2dwcm9iczogW11cbiogICAgIH0sXG4qICAgICB7XG4qICAgICAgIHRva2VuOiAnIHByb2dyYW1tJyxcbiogICAgICAgbG9ncHJvYjogLTAuMDAwMDExODc1NTcxNSxcbiogICAgICAgYnl0ZXM6IFtBcnJheV0sXG4qICAgICAgIHRvcF9sb2dwcm9iczogW11cbiogICAgIH0sXG4qICAgICB7IHRva2VuOiAnYXRpb24nLCBsb2dwcm9iOiAwLCBieXRlczogW0FycmF5XSwgdG9wX2xvZ3Byb2JzOiBbXSB9LFxuKiAgICAge1xuKiAgICAgICB0b2tlbjogJy4nLFxuKiAgICAgICBsb2dwcm9iOiAtMC4wMDAwMDM3Njk3MjI1LFxuKiAgICAgICBieXRlczogW0FycmF5XSxcbiogICAgICAgdG9wX2xvZ3Byb2JzOiBbXVxuKiAgICAgfVxuKiAgIF0sXG4qICAgcmVmdXNhbDogbnVsbFxuKiB9XG4qIGBgYFxuKiA8L2RldGFpbHM+XG4qXG4qIDxiciAvPlxuKlxuKiA8ZGV0YWlscz5cbiogPHN1bW1hcnk+PHN0cm9uZz5SZXNwb25zZSBNZXRhZGF0YTwvc3Ryb25nPjwvc3VtbWFyeT5cbipcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBhaU1zZ0ZvclJlc3BvbnNlTWV0YWRhdGEgPSBhd2FpdCBsbG0uaW52b2tlKGlucHV0KTtcbiogY29uc29sZS5sb2coYWlNc2dGb3JSZXNwb25zZU1ldGFkYXRhLnJlc3BvbnNlX21ldGFkYXRhKTtcbiogYGBgXG4qXG4qIGBgYHR4dFxuKiB7XG4qICAgdG9rZW5Vc2FnZTogeyBjb21wbGV0aW9uVG9rZW5zOiA1LCBwcm9tcHRUb2tlbnM6IDI4LCB0b3RhbFRva2VuczogMzMgfSxcbiogICBmaW5pc2hfcmVhc29uOiAnc3RvcCcsXG4qICAgc3lzdGVtX2ZpbmdlcnByaW50OiAnZnBfM2FhNzI2MmMyNydcbiogfVxuKiBgYGBcbiogPC9kZXRhaWxzPlxuKlxuKiA8YnIgLz5cbipcbiogPGRldGFpbHM+XG4qIDxzdW1tYXJ5PjxzdHJvbmc+SlNPTiBTY2hlbWEgU3RydWN0dXJlZCBPdXRwdXQ8L3N0cm9uZz48L3N1bW1hcnk+XG4qXG4qIGBgYHR5cGVzY3JpcHRcbiogY29uc3QgbGxtRm9ySnNvblNjaGVtYSA9IG5ldyBDaGF0T3BlbkFJKHtcbiogICBtb2RlbDogXCJncHQtNG8tMjAyNC0wOC0wNlwiLFxuKiB9KS53aXRoU3RydWN0dXJlZE91dHB1dChcbiogICB6Lm9iamVjdCh7XG4qICAgICBjb21tYW5kOiB6LnN0cmluZygpLmRlc2NyaWJlKFwiVGhlIGNvbW1hbmQgdG8gZXhlY3V0ZVwiKSxcbiogICAgIGV4cGVjdGVkT3V0cHV0OiB6LnN0cmluZygpLmRlc2NyaWJlKFwiVGhlIGV4cGVjdGVkIG91dHB1dCBvZiB0aGUgY29tbWFuZFwiKSxcbiogICAgIG9wdGlvbnM6IHpcbiogICAgICAgLmFycmF5KHouc3RyaW5nKCkpXG4qICAgICAgIC5kZXNjcmliZShcIlRoZSBvcHRpb25zIHlvdSBjYW4gcGFzcyB0byB0aGUgY29tbWFuZFwiKSxcbiogICB9KSxcbiogICB7XG4qICAgICBtZXRob2Q6IFwianNvblNjaGVtYVwiLFxuKiAgICAgc3RyaWN0OiB0cnVlLCAvLyBPcHRpb25hbCB3aGVuIHVzaW5nIHRoZSBganNvblNjaGVtYWAgbWV0aG9kXG4qICAgfVxuKiApO1xuKlxuKiBjb25zdCBqc29uU2NoZW1hUmVzID0gYXdhaXQgbGxtRm9ySnNvblNjaGVtYS5pbnZva2UoXG4qICAgXCJXaGF0IGlzIHRoZSBjb21tYW5kIHRvIGxpc3QgZmlsZXMgaW4gYSBkaXJlY3Rvcnk/XCJcbiogKTtcbiogY29uc29sZS5sb2coanNvblNjaGVtYVJlcyk7XG4qIGBgYFxuKlxuKiBgYGB0eHRcbioge1xuKiAgIGNvbW1hbmQ6ICdscycsXG4qICAgZXhwZWN0ZWRPdXRwdXQ6ICdBIGxpc3Qgb2YgZmlsZXMgYW5kIHN1YmRpcmVjdG9yaWVzIHdpdGhpbiB0aGUgc3BlY2lmaWVkIGRpcmVjdG9yeS4nLFxuKiAgIG9wdGlvbnM6IFtcbiogICAgICctYTogaW5jbHVkZSBkaXJlY3RvcnkgZW50cmllcyB3aG9zZSBuYW1lcyBiZWdpbiB3aXRoIGEgZG90ICguKS4nLFxuKiAgICAgJy1sOiB1c2UgYSBsb25nIGxpc3RpbmcgZm9ybWF0LicsXG4qICAgICAnLWg6IHdpdGggLWwsIHByaW50IHNpemVzIGluIGh1bWFuIHJlYWRhYmxlIGZvcm1hdCAoZS5nLiwgMUssIDIzNE0sIDJHKS4nLFxuKiAgICAgJy10OiBzb3J0IGJ5IHRpbWUsIG5ld2VzdCBmaXJzdC4nLFxuKiAgICAgJy1yOiByZXZlcnNlIG9yZGVyIHdoaWxlIHNvcnRpbmcuJyxcbiogICAgICctUzogc29ydCBieSBmaWxlIHNpemUsIGxhcmdlc3QgZmlyc3QuJyxcbiogICAgICctUjogbGlzdCBzdWJkaXJlY3RvcmllcyByZWN1cnNpdmVseS4nXG4qICAgXVxuKiB9XG4qIGBgYFxuKiA8L2RldGFpbHM+XG4qXG4qIDxiciAvPlxuKlxuKiA8ZGV0YWlscz5cbiogPHN1bW1hcnk+PHN0cm9uZz5BdWRpbyBPdXRwdXRzPC9zdHJvbmc+PC9zdW1tYXJ5PlxuKlxuKiBgYGB0eXBlc2NyaXB0XG4qIGltcG9ydCB7IENoYXRPcGVuQUkgfSBmcm9tIFwiQGxhbmdjaGFpbi9vcGVuYWlcIjtcbipcbiogY29uc3QgbW9kZWxXaXRoQXVkaW9PdXRwdXQgPSBuZXcgQ2hhdE9wZW5BSSh7XG4qICAgbW9kZWw6IFwiZ3B0LTRvLWF1ZGlvLXByZXZpZXdcIixcbiogICAvLyBZb3UgbWF5IGFsc28gcGFzcyB0aGVzZSBmaWVsZHMgdG8gYC53aXRoQ29uZmlnYCBhcyBhIGNhbGwgYXJndW1lbnQuXG4qICAgbW9kYWxpdGllczogW1widGV4dFwiLCBcImF1ZGlvXCJdLCAvLyBTcGVjaWZpZXMgdGhhdCB0aGUgbW9kZWwgc2hvdWxkIG91dHB1dCBhdWRpby5cbiogICBhdWRpbzoge1xuKiAgICAgdm9pY2U6IFwiYWxsb3lcIixcbiogICAgIGZvcm1hdDogXCJ3YXZcIixcbiogICB9LFxuKiB9KTtcbipcbiogY29uc3QgYXVkaW9PdXRwdXRSZXN1bHQgPSBhd2FpdCBtb2RlbFdpdGhBdWRpb091dHB1dC5pbnZva2UoXCJUZWxsIG1lIGEgam9rZSBhYm91dCBjYXRzLlwiKTtcbiogY29uc3QgY2FzdE1lc3NhZ2VDb250ZW50ID0gYXVkaW9PdXRwdXRSZXN1bHQuY29udGVudFswXSBhcyBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuKlxuKiBjb25zb2xlLmxvZyh7XG4qICAgLi4uY2FzdE1lc3NhZ2VDb250ZW50LFxuKiAgIGRhdGE6IGNhc3RNZXNzYWdlQ29udGVudC5kYXRhLnNsaWNlKDAsIDEwMCkgLy8gU2xpY2VkIGZvciBicmV2aXR5XG4qIH0pXG4qIGBgYFxuKlxuKiBgYGB0eHRcbioge1xuKiAgIGlkOiAnYXVkaW9fNjcxMTc3MThjNjAwODE5MGEzYWZhZDNlMzA1NGI5YjYnLFxuKiAgIGRhdGE6ICdVa2xHUnFZd0JnQlhRVlpGWm0xMElCQUFBQUFCQUFFQXdGMEFBSUM3QUFBQ0FCQUFURWxUVkJvQUFBQkpUa1pQU1ZOR1ZBNEFBQUJNWVhabU5UZ3VNamt1TVRBd0FHUmhkR0ZnJyxcbiogICBleHBpcmVzX2F0OiAxNzI5MjAxNDQ4LFxuKiAgIHRyYW5zY3JpcHQ6ICdTdXJlISBXaHkgZGlkIHRoZSBjYXQgc2l0IG9uIHRoZSBjb21wdXRlcj8gQmVjYXVzZSBpdCB3YW50ZWQgdG8ga2VlcCBhbiBleWUgb24gdGhlIG1vdXNlISdcbiogfVxuKiBgYGBcbiogPC9kZXRhaWxzPlxuKlxuKiA8YnIgLz5cbipcbiogPGRldGFpbHM+XG4qIDxzdW1tYXJ5PjxzdHJvbmc+QXVkaW8gT3V0cHV0czwvc3Ryb25nPjwvc3VtbWFyeT5cbipcbiogYGBgdHlwZXNjcmlwdFxuKiBpbXBvcnQgeyBDaGF0T3BlbkFJIH0gZnJvbSBcIkBsYW5nY2hhaW4vb3BlbmFpXCI7XG4qXG4qIGNvbnN0IG1vZGVsV2l0aEF1ZGlvT3V0cHV0ID0gbmV3IENoYXRPcGVuQUkoe1xuKiAgIG1vZGVsOiBcImdwdC00by1hdWRpby1wcmV2aWV3XCIsXG4qICAgLy8gWW91IG1heSBhbHNvIHBhc3MgdGhlc2UgZmllbGRzIHRvIGAud2l0aENvbmZpZ2AgYXMgYSBjYWxsIGFyZ3VtZW50LlxuKiAgIG1vZGFsaXRpZXM6IFtcInRleHRcIiwgXCJhdWRpb1wiXSwgLy8gU3BlY2lmaWVzIHRoYXQgdGhlIG1vZGVsIHNob3VsZCBvdXRwdXQgYXVkaW8uXG4qICAgYXVkaW86IHtcbiogICAgIHZvaWNlOiBcImFsbG95XCIsXG4qICAgICBmb3JtYXQ6IFwid2F2XCIsXG4qICAgfSxcbiogfSk7XG4qXG4qIGNvbnN0IGF1ZGlvT3V0cHV0UmVzdWx0ID0gYXdhaXQgbW9kZWxXaXRoQXVkaW9PdXRwdXQuaW52b2tlKFwiVGVsbCBtZSBhIGpva2UgYWJvdXQgY2F0cy5cIik7XG4qIGNvbnN0IGNhc3RBdWRpb0NvbnRlbnQgPSBhdWRpb091dHB1dFJlc3VsdC5hZGRpdGlvbmFsX2t3YXJncy5hdWRpbyBhcyBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuKlxuKiBjb25zb2xlLmxvZyh7XG4qICAgLi4uY2FzdEF1ZGlvQ29udGVudCxcbiogICBkYXRhOiBjYXN0QXVkaW9Db250ZW50LmRhdGEuc2xpY2UoMCwgMTAwKSAvLyBTbGljZWQgZm9yIGJyZXZpdHlcbiogfSlcbiogYGBgXG4qXG4qIGBgYHR4dFxuKiB7XG4qICAgaWQ6ICdhdWRpb182NzExNzcxOGM2MDA4MTkwYTNhZmFkM2UzMDU0YjliNicsXG4qICAgZGF0YTogJ1VrbEdScVl3QmdCWFFWWkZabTEwSUJBQUFBQUJBQUVBd0YwQUFJQzdBQUFDQUJBQVRFbFRWQm9BQUFCSlRrWlBTVk5HVkE0QUFBQk1ZWFptTlRndU1qa3VNVEF3QUdSaGRHRmcnLFxuKiAgIGV4cGlyZXNfYXQ6IDE3MjkyMDE0NDgsXG4qICAgdHJhbnNjcmlwdDogJ1N1cmUhIFdoeSBkaWQgdGhlIGNhdCBzaXQgb24gdGhlIGNvbXB1dGVyPyBCZWNhdXNlIGl0IHdhbnRlZCB0byBrZWVwIGFuIGV5ZSBvbiB0aGUgbW91c2UhJ1xuKiB9XG4qIGBgYFxuKiA8L2RldGFpbHM+XG4qXG4qIDxiciAvPlxuKi9cbnZhciBDaGF0T3BlbkFJID0gY2xhc3MgQ2hhdE9wZW5BSSBleHRlbmRzIEJhc2VDaGF0T3BlbkFJIHtcblx0LyoqXG5cdCogV2hldGhlciB0byB1c2UgdGhlIHJlc3BvbnNlcyBBUEkgZm9yIGFsbCByZXF1ZXN0cy4gSWYgYGZhbHNlYCB0aGUgcmVzcG9uc2VzIEFQSSB3aWxsIGJlIHVzZWRcblx0KiBvbmx5IHdoZW4gcmVxdWlyZWQgaW4gb3JkZXIgdG8gZnVsZmlsbCB0aGUgcmVxdWVzdC5cblx0Ki9cblx0dXNlUmVzcG9uc2VzQXBpID0gZmFsc2U7XG5cdHJlc3BvbnNlcztcblx0Y29tcGxldGlvbnM7XG5cdGdldCBsY19zZXJpYWxpemFibGVfa2V5cygpIHtcblx0XHRyZXR1cm4gWy4uLnN1cGVyLmxjX3NlcmlhbGl6YWJsZV9rZXlzLCBcInVzZVJlc3BvbnNlc0FwaVwiXTtcblx0fVxuXHRnZXQgY2FsbEtleXMoKSB7XG5cdFx0cmV0dXJuIFsuLi5zdXBlci5jYWxsS2V5cywgXCJ1c2VSZXNwb25zZXNBcGlcIl07XG5cdH1cblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLmZpZWxkcyA9IGZpZWxkcztcblx0XHR0aGlzLnVzZVJlc3BvbnNlc0FwaSA9IGZpZWxkcz8udXNlUmVzcG9uc2VzQXBpID8/IGZhbHNlO1xuXHRcdHRoaXMucmVzcG9uc2VzID0gZmllbGRzPy5yZXNwb25zZXMgPz8gbmV3IENoYXRPcGVuQUlSZXNwb25zZXMoZmllbGRzKTtcblx0XHR0aGlzLmNvbXBsZXRpb25zID0gZmllbGRzPy5jb21wbGV0aW9ucyA/PyBuZXcgQ2hhdE9wZW5BSUNvbXBsZXRpb25zKGZpZWxkcyk7XG5cdH1cblx0X3VzZVJlc3BvbnNlc0FwaShvcHRpb25zKSB7XG5cdFx0Y29uc3QgdXNlc0J1aWx0SW5Ub29scyA9IG9wdGlvbnM/LnRvb2xzPy5zb21lKGlzQnVpbHRJblRvb2wpO1xuXHRcdGNvbnN0IGhhc1Jlc3BvbnNlc09ubHlLd2FyZ3MgPSBvcHRpb25zPy5wcmV2aW91c19yZXNwb25zZV9pZCAhPSBudWxsIHx8IG9wdGlvbnM/LnRleHQgIT0gbnVsbCB8fCBvcHRpb25zPy50cnVuY2F0aW9uICE9IG51bGwgfHwgb3B0aW9ucz8uaW5jbHVkZSAhPSBudWxsIHx8IG9wdGlvbnM/LnJlYXNvbmluZz8uc3VtbWFyeSAhPSBudWxsIHx8IHRoaXMucmVhc29uaW5nPy5zdW1tYXJ5ICE9IG51bGw7XG5cdFx0Y29uc3QgaGFzQ3VzdG9tVG9vbHMgPSBvcHRpb25zPy50b29scz8uc29tZShpc09wZW5BSUN1c3RvbVRvb2wpIHx8IG9wdGlvbnM/LnRvb2xzPy5zb21lKGlzQ3VzdG9tVG9vbCk7XG5cdFx0cmV0dXJuIHRoaXMudXNlUmVzcG9uc2VzQXBpIHx8IHVzZXNCdWlsdEluVG9vbHMgfHwgaGFzUmVzcG9uc2VzT25seUt3YXJncyB8fCBoYXNDdXN0b21Ub29scztcblx0fVxuXHRnZXRMc1BhcmFtcyhvcHRpb25zKSB7XG5cdFx0Y29uc3Qgb3B0aW9uc1dpdGhEZWZhdWx0cyA9IHRoaXMuX2NvbWJpbmVDYWxsT3B0aW9ucyhvcHRpb25zKTtcblx0XHRpZiAodGhpcy5fdXNlUmVzcG9uc2VzQXBpKG9wdGlvbnMpKSByZXR1cm4gdGhpcy5yZXNwb25zZXMuZ2V0THNQYXJhbXMob3B0aW9uc1dpdGhEZWZhdWx0cyk7XG5cdFx0cmV0dXJuIHRoaXMuY29tcGxldGlvbnMuZ2V0THNQYXJhbXMob3B0aW9uc1dpdGhEZWZhdWx0cyk7XG5cdH1cblx0aW52b2NhdGlvblBhcmFtcyhvcHRpb25zKSB7XG5cdFx0Y29uc3Qgb3B0aW9uc1dpdGhEZWZhdWx0cyA9IHRoaXMuX2NvbWJpbmVDYWxsT3B0aW9ucyhvcHRpb25zKTtcblx0XHRpZiAodGhpcy5fdXNlUmVzcG9uc2VzQXBpKG9wdGlvbnMpKSByZXR1cm4gdGhpcy5yZXNwb25zZXMuaW52b2NhdGlvblBhcmFtcyhvcHRpb25zV2l0aERlZmF1bHRzKTtcblx0XHRyZXR1cm4gdGhpcy5jb21wbGV0aW9ucy5pbnZvY2F0aW9uUGFyYW1zKG9wdGlvbnNXaXRoRGVmYXVsdHMpO1xuXHR9XG5cdC8qKiBAaWdub3JlICovXG5cdGFzeW5jIF9nZW5lcmF0ZShtZXNzYWdlcywgb3B0aW9ucywgcnVuTWFuYWdlcikge1xuXHRcdGlmICh0aGlzLl91c2VSZXNwb25zZXNBcGkob3B0aW9ucykpIHJldHVybiB0aGlzLnJlc3BvbnNlcy5fZ2VuZXJhdGUobWVzc2FnZXMsIG9wdGlvbnMpO1xuXHRcdHJldHVybiB0aGlzLmNvbXBsZXRpb25zLl9nZW5lcmF0ZShtZXNzYWdlcywgb3B0aW9ucywgcnVuTWFuYWdlcik7XG5cdH1cblx0YXN5bmMgKl9zdHJlYW1SZXNwb25zZUNodW5rcyhtZXNzYWdlcywgb3B0aW9ucywgcnVuTWFuYWdlcikge1xuXHRcdGlmICh0aGlzLl91c2VSZXNwb25zZXNBcGkob3B0aW9ucykpIHtcblx0XHRcdHlpZWxkKiB0aGlzLnJlc3BvbnNlcy5fc3RyZWFtUmVzcG9uc2VDaHVua3MobWVzc2FnZXMsIHRoaXMuX2NvbWJpbmVDYWxsT3B0aW9ucyhvcHRpb25zKSwgcnVuTWFuYWdlcik7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHlpZWxkKiB0aGlzLmNvbXBsZXRpb25zLl9zdHJlYW1SZXNwb25zZUNodW5rcyhtZXNzYWdlcywgdGhpcy5fY29tYmluZUNhbGxPcHRpb25zKG9wdGlvbnMpLCBydW5NYW5hZ2VyKTtcblx0fVxuXHR3aXRoQ29uZmlnKGNvbmZpZykge1xuXHRcdGNvbnN0IG5ld01vZGVsID0gbmV3IENoYXRPcGVuQUkodGhpcy5maWVsZHMpO1xuXHRcdG5ld01vZGVsLmRlZmF1bHRPcHRpb25zID0ge1xuXHRcdFx0Li4udGhpcy5kZWZhdWx0T3B0aW9ucyxcblx0XHRcdC4uLmNvbmZpZ1xuXHRcdH07XG5cdFx0cmV0dXJuIG5ld01vZGVsO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IENoYXRPcGVuQUkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/chat_models/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/chat_models/responses.js":
/*!**************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/chat_models/responses.js ***!
  \**************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatOpenAIResponses: () => (/* binding */ ChatOpenAIResponses)\n/* harmony export */ });\n/* harmony import */ var _utils_misc_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/misc.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/misc.js\");\n/* harmony import */ var _utils_tools_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/tools.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/tools.js\");\n/* harmony import */ var _utils_output_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/output.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/output.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/chat_models/base.js\");\n/* harmony import */ var _utils_client_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/client.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/client.js\");\n/* harmony import */ var _utils_standard_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/standard.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/standard.js\");\n/* harmony import */ var _utils_message_inputs_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/message_inputs.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/message_inputs.js\");\n/* harmony import */ var _langchain_core_language_models_base__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @langchain/core/language_models/base */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/language_models/base.js\");\n/* harmony import */ var _langchain_core_output_parsers_openai_tools__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @langchain/core/output_parsers/openai_tools */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/openai_tools/index.js\");\n/* harmony import */ var _langchain_core_messages__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @langchain/core/messages */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/index.js\");\n/* harmony import */ var _langchain_core_outputs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @langchain/core/outputs */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/outputs.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n//#region src/chat_models/responses.ts\nconst _FUNCTION_CALL_IDS_MAP_KEY = \"__openai_function_call_ids__\";\n/**\n* OpenAI Responses API implementation.\n*\n* Will be exported in a later version of @langchain/openai.\n*\n* @internal\n*/\nvar ChatOpenAIResponses = class extends _base_js__WEBPACK_IMPORTED_MODULE_3__.BaseChatOpenAI {\n\tinvocationParams(options) {\n\t\tlet strict;\n\t\tif (options?.strict !== void 0) strict = options.strict;\n\t\telse if (this.supportsStrictToolCalling !== void 0) strict = this.supportsStrictToolCalling;\n\t\tconst params = {\n\t\t\tmodel: this.model,\n\t\t\ttemperature: this.temperature,\n\t\t\ttop_p: this.topP,\n\t\t\tuser: this.user,\n\t\t\tstream: this.streaming,\n\t\t\tprevious_response_id: options?.previous_response_id,\n\t\t\ttruncation: options?.truncation,\n\t\t\tinclude: options?.include,\n\t\t\ttools: options?.tools?.length ? this._reduceChatOpenAITools(options.tools, {\n\t\t\t\tstream: this.streaming,\n\t\t\t\tstrict\n\t\t\t}) : void 0,\n\t\t\ttool_choice: (0,_utils_tools_js__WEBPACK_IMPORTED_MODULE_1__.isBuiltInToolChoice)(options?.tool_choice) ? options?.tool_choice : (() => {\n\t\t\t\tconst formatted = (0,_utils_tools_js__WEBPACK_IMPORTED_MODULE_1__.formatToOpenAIToolChoice)(options?.tool_choice);\n\t\t\t\tif (typeof formatted === \"object\" && \"type\" in formatted) {\n\t\t\t\t\tif (formatted.type === \"function\") return {\n\t\t\t\t\t\ttype: \"function\",\n\t\t\t\t\t\tname: formatted.function.name\n\t\t\t\t\t};\n\t\t\t\t\telse if (formatted.type === \"allowed_tools\") return {\n\t\t\t\t\t\ttype: \"allowed_tools\",\n\t\t\t\t\t\tmode: formatted.allowed_tools.mode,\n\t\t\t\t\t\ttools: formatted.allowed_tools.tools\n\t\t\t\t\t};\n\t\t\t\t\telse if (formatted.type === \"custom\") return {\n\t\t\t\t\t\ttype: \"custom\",\n\t\t\t\t\t\tname: formatted.custom.name\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\treturn void 0;\n\t\t\t})(),\n\t\t\ttext: (() => {\n\t\t\t\tif (options?.text) return options.text;\n\t\t\t\tconst format = this._getResponseFormat(options?.response_format);\n\t\t\t\tif (format?.type === \"json_schema\") {\n\t\t\t\t\tif (format.json_schema.schema != null) return {\n\t\t\t\t\t\tformat: {\n\t\t\t\t\t\t\ttype: \"json_schema\",\n\t\t\t\t\t\t\tschema: format.json_schema.schema,\n\t\t\t\t\t\t\tdescription: format.json_schema.description,\n\t\t\t\t\t\t\tname: format.json_schema.name,\n\t\t\t\t\t\t\tstrict: format.json_schema.strict\n\t\t\t\t\t\t},\n\t\t\t\t\t\tverbosity: options?.verbosity\n\t\t\t\t\t};\n\t\t\t\t\treturn void 0;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tformat,\n\t\t\t\t\tverbosity: options?.verbosity\n\t\t\t\t};\n\t\t\t})(),\n\t\t\tparallel_tool_calls: options?.parallel_tool_calls,\n\t\t\tmax_output_tokens: this.maxTokens === -1 ? void 0 : this.maxTokens,\n\t\t\tprompt_cache_key: options?.promptCacheKey ?? this.promptCacheKey,\n\t\t\t...this.zdrEnabled ? { store: false } : {},\n\t\t\t...this.modelKwargs\n\t\t};\n\t\tconst reasoning = this._getReasoningParams(options);\n\t\tif (reasoning !== void 0) params.reasoning = reasoning;\n\t\treturn params;\n\t}\n\tasync _generate(messages, options) {\n\t\tconst invocationParams = this.invocationParams(options);\n\t\tif (invocationParams.stream) {\n\t\t\tconst stream = this._streamResponseChunks(messages, options);\n\t\t\tlet finalChunk;\n\t\t\tfor await (const chunk of stream) {\n\t\t\t\tchunk.message.response_metadata = {\n\t\t\t\t\t...chunk.generationInfo,\n\t\t\t\t\t...chunk.message.response_metadata\n\t\t\t\t};\n\t\t\t\tfinalChunk = finalChunk?.concat(chunk) ?? chunk;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tgenerations: finalChunk ? [finalChunk] : [],\n\t\t\t\tllmOutput: { estimatedTokenUsage: (finalChunk?.message)?.usage_metadata }\n\t\t\t};\n\t\t} else {\n\t\t\tconst input = this._convertMessagesToResponsesParams(messages);\n\t\t\tconst data = await this.completionWithRetry({\n\t\t\t\tinput,\n\t\t\t\t...invocationParams,\n\t\t\t\tstream: false\n\t\t\t}, {\n\t\t\t\tsignal: options?.signal,\n\t\t\t\t...options?.options\n\t\t\t});\n\t\t\treturn {\n\t\t\t\tgenerations: [{\n\t\t\t\t\ttext: data.output_text,\n\t\t\t\t\tmessage: this._convertResponsesMessageToBaseMessage(data)\n\t\t\t\t}],\n\t\t\t\tllmOutput: {\n\t\t\t\t\tid: data.id,\n\t\t\t\t\testimatedTokenUsage: data.usage ? {\n\t\t\t\t\t\tpromptTokens: data.usage.input_tokens,\n\t\t\t\t\t\tcompletionTokens: data.usage.output_tokens,\n\t\t\t\t\t\ttotalTokens: data.usage.total_tokens\n\t\t\t\t\t} : void 0\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n\tasync *_streamResponseChunks(messages, options, runManager) {\n\t\tconst streamIterable = await this.completionWithRetry({\n\t\t\t...this.invocationParams(options),\n\t\t\tinput: this._convertMessagesToResponsesParams(messages),\n\t\t\tstream: true\n\t\t}, options);\n\t\tfor await (const data of streamIterable) {\n\t\t\tconst chunk = this._convertResponsesDeltaToBaseMessageChunk(data);\n\t\t\tif (chunk == null) continue;\n\t\t\tyield chunk;\n\t\t\tawait runManager?.handleLLMNewToken(chunk.text || \"\", {\n\t\t\t\tprompt: options.promptIndex ?? 0,\n\t\t\t\tcompletion: 0\n\t\t\t}, void 0, void 0, void 0, { chunk });\n\t\t}\n\t}\n\tasync completionWithRetry(request, requestOptions) {\n\t\treturn this.caller.call(async () => {\n\t\t\tconst clientOptions = this._getClientOptions(requestOptions);\n\t\t\ttry {\n\t\t\t\tif (request.text?.format?.type === \"json_schema\" && !request.stream) return await this.client.responses.parse(request, clientOptions);\n\t\t\t\treturn await this.client.responses.create(request, clientOptions);\n\t\t\t} catch (e) {\n\t\t\t\tconst error = (0,_utils_client_js__WEBPACK_IMPORTED_MODULE_4__.wrapOpenAIClientError)(e);\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t});\n\t}\n\t/** @internal */\n\t_convertResponsesMessageToBaseMessage(response) {\n\t\tif (response.error) {\n\t\t\tconst error = new Error(response.error.message);\n\t\t\terror.name = response.error.code;\n\t\t\tthrow error;\n\t\t}\n\t\tlet messageId;\n\t\tconst content = [];\n\t\tconst tool_calls = [];\n\t\tconst invalid_tool_calls = [];\n\t\tconst response_metadata = {\n\t\t\tmodel_provider: \"openai\",\n\t\t\tmodel: response.model,\n\t\t\tcreated_at: response.created_at,\n\t\t\tid: response.id,\n\t\t\tincomplete_details: response.incomplete_details,\n\t\t\tmetadata: response.metadata,\n\t\t\tobject: response.object,\n\t\t\tstatus: response.status,\n\t\t\tuser: response.user,\n\t\t\tservice_tier: response.service_tier,\n\t\t\tmodel_name: response.model\n\t\t};\n\t\tconst additional_kwargs = {};\n\t\tfor (const item of response.output) if (item.type === \"message\") {\n\t\t\tmessageId = item.id;\n\t\t\tcontent.push(...item.content.flatMap((part) => {\n\t\t\t\tif (part.type === \"output_text\") {\n\t\t\t\t\tif (\"parsed\" in part && part.parsed != null) additional_kwargs.parsed = part.parsed;\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: \"text\",\n\t\t\t\t\t\ttext: part.text,\n\t\t\t\t\t\tannotations: part.annotations\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (part.type === \"refusal\") {\n\t\t\t\t\tadditional_kwargs.refusal = part.refusal;\n\t\t\t\t\treturn [];\n\t\t\t\t}\n\t\t\t\treturn part;\n\t\t\t}));\n\t\t} else if (item.type === \"function_call\") {\n\t\t\tconst fnAdapter = {\n\t\t\t\tfunction: {\n\t\t\t\t\tname: item.name,\n\t\t\t\t\targuments: item.arguments\n\t\t\t\t},\n\t\t\t\tid: item.call_id\n\t\t\t};\n\t\t\ttry {\n\t\t\t\ttool_calls.push((0,_langchain_core_output_parsers_openai_tools__WEBPACK_IMPORTED_MODULE_8__.parseToolCall)(fnAdapter, { returnId: true }));\n\t\t\t} catch (e) {\n\t\t\t\tlet errMessage;\n\t\t\t\tif (typeof e === \"object\" && e != null && \"message\" in e && typeof e.message === \"string\") errMessage = e.message;\n\t\t\t\tinvalid_tool_calls.push((0,_langchain_core_output_parsers_openai_tools__WEBPACK_IMPORTED_MODULE_8__.makeInvalidToolCall)(fnAdapter, errMessage));\n\t\t\t}\n\t\t\tadditional_kwargs[_FUNCTION_CALL_IDS_MAP_KEY] ??= {};\n\t\t\tif (item.id) additional_kwargs[_FUNCTION_CALL_IDS_MAP_KEY][item.call_id] = item.id;\n\t\t} else if (item.type === \"reasoning\") additional_kwargs.reasoning = item;\n\t\telse if (item.type === \"custom_tool_call\") {\n\t\t\tconst parsed = (0,_utils_tools_js__WEBPACK_IMPORTED_MODULE_1__.parseCustomToolCall)(item);\n\t\t\tif (parsed) tool_calls.push(parsed);\n\t\t\telse invalid_tool_calls.push((0,_langchain_core_output_parsers_openai_tools__WEBPACK_IMPORTED_MODULE_8__.makeInvalidToolCall)(item, \"Malformed custom tool call\"));\n\t\t} else {\n\t\t\tadditional_kwargs.tool_outputs ??= [];\n\t\t\tadditional_kwargs.tool_outputs.push(item);\n\t\t}\n\t\treturn new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_9__.AIMessage({\n\t\t\tid: messageId,\n\t\t\tcontent,\n\t\t\ttool_calls,\n\t\t\tinvalid_tool_calls,\n\t\t\tusage_metadata: (0,_utils_output_js__WEBPACK_IMPORTED_MODULE_2__._convertOpenAIResponsesUsageToLangChainUsage)(response.usage),\n\t\t\tadditional_kwargs,\n\t\t\tresponse_metadata\n\t\t});\n\t}\n\t/** @internal */\n\t_convertResponsesDeltaToBaseMessageChunk(chunk) {\n\t\tconst content = [];\n\t\tlet generationInfo = {};\n\t\tlet usage_metadata;\n\t\tconst tool_call_chunks = [];\n\t\tconst response_metadata = { model_provider: \"openai\" };\n\t\tconst additional_kwargs = {};\n\t\tlet id;\n\t\tif (chunk.type === \"response.output_text.delta\") content.push({\n\t\t\ttype: \"text\",\n\t\t\ttext: chunk.delta,\n\t\t\tindex: chunk.content_index\n\t\t});\n\t\telse if (chunk.type === \"response.output_text.annotation.added\") content.push({\n\t\t\ttype: \"text\",\n\t\t\ttext: \"\",\n\t\t\tannotations: [chunk.annotation],\n\t\t\tindex: chunk.content_index\n\t\t});\n\t\telse if (chunk.type === \"response.output_item.added\" && chunk.item.type === \"message\") id = chunk.item.id;\n\t\telse if (chunk.type === \"response.output_item.added\" && chunk.item.type === \"function_call\") {\n\t\t\ttool_call_chunks.push({\n\t\t\t\ttype: \"tool_call_chunk\",\n\t\t\t\tname: chunk.item.name,\n\t\t\t\targs: chunk.item.arguments,\n\t\t\t\tid: chunk.item.call_id,\n\t\t\t\tindex: chunk.output_index\n\t\t\t});\n\t\t\tadditional_kwargs[_FUNCTION_CALL_IDS_MAP_KEY] = { [chunk.item.call_id]: chunk.item.id };\n\t\t} else if (chunk.type === \"response.output_item.done\" && [\n\t\t\t\"web_search_call\",\n\t\t\t\"file_search_call\",\n\t\t\t\"computer_call\",\n\t\t\t\"code_interpreter_call\",\n\t\t\t\"mcp_call\",\n\t\t\t\"mcp_list_tools\",\n\t\t\t\"mcp_approval_request\",\n\t\t\t\"image_generation_call\",\n\t\t\t\"custom_tool_call\"\n\t\t].includes(chunk.item.type)) additional_kwargs.tool_outputs = [chunk.item];\n\t\telse if (chunk.type === \"response.created\") {\n\t\t\tresponse_metadata.id = chunk.response.id;\n\t\t\tresponse_metadata.model_name = chunk.response.model;\n\t\t\tresponse_metadata.model = chunk.response.model;\n\t\t} else if (chunk.type === \"response.completed\") {\n\t\t\tconst msg = this._convertResponsesMessageToBaseMessage(chunk.response);\n\t\t\tusage_metadata = (0,_utils_output_js__WEBPACK_IMPORTED_MODULE_2__._convertOpenAIResponsesUsageToLangChainUsage)(chunk.response.usage);\n\t\t\tif (chunk.response.text?.format?.type === \"json_schema\") additional_kwargs.parsed ??= JSON.parse(msg.text);\n\t\t\tfor (const [key, value] of Object.entries(chunk.response)) if (key !== \"id\") response_metadata[key] = value;\n\t\t} else if (chunk.type === \"response.function_call_arguments.delta\" || chunk.type === \"response.custom_tool_call_input.delta\") tool_call_chunks.push({\n\t\t\ttype: \"tool_call_chunk\",\n\t\t\targs: chunk.delta,\n\t\t\tindex: chunk.output_index\n\t\t});\n\t\telse if (chunk.type === \"response.web_search_call.completed\" || chunk.type === \"response.file_search_call.completed\") generationInfo = { tool_outputs: {\n\t\t\tid: chunk.item_id,\n\t\t\ttype: chunk.type.replace(\"response.\", \"\").replace(\".completed\", \"\"),\n\t\t\tstatus: \"completed\"\n\t\t} };\n\t\telse if (chunk.type === \"response.refusal.done\") additional_kwargs.refusal = chunk.refusal;\n\t\telse if (chunk.type === \"response.output_item.added\" && \"item\" in chunk && chunk.item.type === \"reasoning\") {\n\t\t\tconst summary = chunk.item.summary ? chunk.item.summary.map((s, index) => ({\n\t\t\t\t...s,\n\t\t\t\tindex\n\t\t\t})) : void 0;\n\t\t\tadditional_kwargs.reasoning = {\n\t\t\t\tid: chunk.item.id,\n\t\t\t\ttype: chunk.item.type,\n\t\t\t\t...summary ? { summary } : {}\n\t\t\t};\n\t\t} else if (chunk.type === \"response.reasoning_summary_part.added\") additional_kwargs.reasoning = {\n\t\t\ttype: \"reasoning\",\n\t\t\tsummary: [{\n\t\t\t\t...chunk.part,\n\t\t\t\tindex: chunk.summary_index\n\t\t\t}]\n\t\t};\n\t\telse if (chunk.type === \"response.reasoning_summary_text.delta\") additional_kwargs.reasoning = {\n\t\t\ttype: \"reasoning\",\n\t\t\tsummary: [{\n\t\t\t\ttext: chunk.delta,\n\t\t\t\ttype: \"summary_text\",\n\t\t\t\tindex: chunk.summary_index\n\t\t\t}]\n\t\t};\n\t\telse if (chunk.type === \"response.image_generation_call.partial_image\") return null;\n\t\telse return null;\n\t\treturn new _langchain_core_outputs__WEBPACK_IMPORTED_MODULE_10__.ChatGenerationChunk({\n\t\t\ttext: content.map((part) => part.text).join(\"\"),\n\t\t\tmessage: new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_9__.AIMessageChunk({\n\t\t\t\tid,\n\t\t\t\tcontent,\n\t\t\t\ttool_call_chunks,\n\t\t\t\tusage_metadata,\n\t\t\t\tadditional_kwargs,\n\t\t\t\tresponse_metadata\n\t\t\t}),\n\t\t\tgenerationInfo\n\t\t});\n\t}\n\t/** @internal */\n\t_convertMessagesToResponsesParams(messages) {\n\t\treturn messages.flatMap((lcMsg) => {\n\t\t\tconst responseMetadata = lcMsg.response_metadata;\n\t\t\tif (responseMetadata?.output_version === \"v1\") return (0,_utils_standard_js__WEBPACK_IMPORTED_MODULE_5__._convertToResponsesMessageFromV1)(lcMsg);\n\t\t\tconst additional_kwargs = lcMsg.additional_kwargs;\n\t\t\tlet role = (0,_utils_misc_js__WEBPACK_IMPORTED_MODULE_0__.messageToOpenAIRole)(lcMsg);\n\t\t\tif (role === \"system\" && (0,_utils_misc_js__WEBPACK_IMPORTED_MODULE_0__.isReasoningModel)(this.model)) role = \"developer\";\n\t\t\tif (role === \"function\") throw new Error(\"Function messages are not supported in Responses API\");\n\t\t\tif (role === \"tool\") {\n\t\t\t\tconst toolMessage = lcMsg;\n\t\t\t\tif (additional_kwargs?.type === \"computer_call_output\") {\n\t\t\t\t\tconst output = (() => {\n\t\t\t\t\t\tif (typeof toolMessage.content === \"string\") return {\n\t\t\t\t\t\t\ttype: \"computer_screenshot\",\n\t\t\t\t\t\t\timage_url: toolMessage.content\n\t\t\t\t\t\t};\n\t\t\t\t\t\tif (Array.isArray(toolMessage.content)) {\n\t\t\t\t\t\t\tconst oaiScreenshot = toolMessage.content.find((i) => i.type === \"computer_screenshot\");\n\t\t\t\t\t\t\tif (oaiScreenshot) return oaiScreenshot;\n\t\t\t\t\t\t\tconst lcImage = toolMessage.content.find((i) => i.type === \"image_url\");\n\t\t\t\t\t\t\tif (lcImage) return {\n\t\t\t\t\t\t\t\ttype: \"computer_screenshot\",\n\t\t\t\t\t\t\t\timage_url: typeof lcImage.image_url === \"string\" ? lcImage.image_url : lcImage.image_url.url\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthrow new Error(\"Invalid computer call output\");\n\t\t\t\t\t})();\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: \"computer_call_output\",\n\t\t\t\t\t\toutput,\n\t\t\t\t\t\tcall_id: toolMessage.tool_call_id\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (toolMessage.additional_kwargs?.customTool) return {\n\t\t\t\t\ttype: \"custom_tool_call_output\",\n\t\t\t\t\tcall_id: toolMessage.tool_call_id,\n\t\t\t\t\toutput: toolMessage.content\n\t\t\t\t};\n\t\t\t\treturn {\n\t\t\t\t\ttype: \"function_call_output\",\n\t\t\t\t\tcall_id: toolMessage.tool_call_id,\n\t\t\t\t\tid: toolMessage.id?.startsWith(\"fc_\") ? toolMessage.id : void 0,\n\t\t\t\t\toutput: typeof toolMessage.content !== \"string\" ? JSON.stringify(toolMessage.content) : toolMessage.content\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (role === \"assistant\") {\n\t\t\t\tif (!this.zdrEnabled && responseMetadata?.output != null && Array.isArray(responseMetadata?.output) && responseMetadata?.output.length > 0 && responseMetadata?.output.every((item) => \"type\" in item)) return responseMetadata?.output;\n\t\t\t\tconst input = [];\n\t\t\t\tif (additional_kwargs?.reasoning && !this.zdrEnabled) {\n\t\t\t\t\tconst reasoningItem = this._convertReasoningSummary(additional_kwargs.reasoning);\n\t\t\t\t\tinput.push(reasoningItem);\n\t\t\t\t}\n\t\t\t\tlet { content } = lcMsg;\n\t\t\t\tif (additional_kwargs?.refusal) {\n\t\t\t\t\tif (typeof content === \"string\") content = [{\n\t\t\t\t\t\ttype: \"output_text\",\n\t\t\t\t\t\ttext: content,\n\t\t\t\t\t\tannotations: []\n\t\t\t\t\t}];\n\t\t\t\t\tcontent = [...content, {\n\t\t\t\t\t\ttype: \"refusal\",\n\t\t\t\t\t\trefusal: additional_kwargs.refusal\n\t\t\t\t\t}];\n\t\t\t\t}\n\t\t\t\tif (typeof content === \"string\" || content.length > 0) input.push({\n\t\t\t\t\ttype: \"message\",\n\t\t\t\t\trole: \"assistant\",\n\t\t\t\t\t...lcMsg.id && !this.zdrEnabled && lcMsg.id.startsWith(\"msg_\") ? { id: lcMsg.id } : {},\n\t\t\t\t\tcontent: (0,_utils_misc_js__WEBPACK_IMPORTED_MODULE_0__.iife)(() => {\n\t\t\t\t\t\tif (typeof content === \"string\") return content;\n\t\t\t\t\t\treturn content.flatMap((item) => {\n\t\t\t\t\t\t\tif (item.type === \"text\") return {\n\t\t\t\t\t\t\t\ttype: \"output_text\",\n\t\t\t\t\t\t\t\ttext: item.text,\n\t\t\t\t\t\t\t\tannotations: item.annotations ?? []\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tif (item.type === \"output_text\" || item.type === \"refusal\") return item;\n\t\t\t\t\t\t\treturn [];\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t\tconst functionCallIds = additional_kwargs?.[_FUNCTION_CALL_IDS_MAP_KEY];\n\t\t\t\tif ((0,_langchain_core_messages__WEBPACK_IMPORTED_MODULE_9__.isAIMessage)(lcMsg) && !!lcMsg.tool_calls?.length) input.push(...lcMsg.tool_calls.map((toolCall) => {\n\t\t\t\t\tif ((0,_utils_tools_js__WEBPACK_IMPORTED_MODULE_1__.isCustomToolCall)(toolCall)) return {\n\t\t\t\t\t\ttype: \"custom_tool_call\",\n\t\t\t\t\t\tid: toolCall.call_id,\n\t\t\t\t\t\tcall_id: toolCall.id ?? \"\",\n\t\t\t\t\t\tinput: toolCall.args.input,\n\t\t\t\t\t\tname: toolCall.name\n\t\t\t\t\t};\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: \"function_call\",\n\t\t\t\t\t\tname: toolCall.name,\n\t\t\t\t\t\targuments: JSON.stringify(toolCall.args),\n\t\t\t\t\t\tcall_id: toolCall.id,\n\t\t\t\t\t\t...this.zdrEnabled ? { id: functionCallIds?.[toolCall.id] } : {}\n\t\t\t\t\t};\n\t\t\t\t}));\n\t\t\t\telse if (additional_kwargs?.tool_calls) input.push(...additional_kwargs.tool_calls.map((toolCall) => ({\n\t\t\t\t\ttype: \"function_call\",\n\t\t\t\t\tname: toolCall.function.name,\n\t\t\t\t\tcall_id: toolCall.id,\n\t\t\t\t\targuments: toolCall.function.arguments,\n\t\t\t\t\t...this.zdrEnabled ? { id: functionCallIds?.[toolCall.id] } : {}\n\t\t\t\t})));\n\t\t\t\tconst toolOutputs = (responseMetadata?.output)?.length ? responseMetadata?.output : additional_kwargs.tool_outputs;\n\t\t\t\tconst fallthroughCallTypes = [\n\t\t\t\t\t\"computer_call\",\n\t\t\t\t\t\"mcp_call\",\n\t\t\t\t\t\"code_interpreter_call\",\n\t\t\t\t\t\"image_generation_call\"\n\t\t\t\t];\n\t\t\t\tif (toolOutputs != null) {\n\t\t\t\t\tconst castToolOutputs = toolOutputs;\n\t\t\t\t\tconst fallthroughCalls = castToolOutputs?.filter((item) => fallthroughCallTypes.includes(item.type));\n\t\t\t\t\tif (fallthroughCalls.length > 0) input.push(...fallthroughCalls);\n\t\t\t\t}\n\t\t\t\treturn input;\n\t\t\t}\n\t\t\tif (role === \"user\" || role === \"system\" || role === \"developer\") {\n\t\t\t\tif (typeof lcMsg.content === \"string\") return {\n\t\t\t\t\ttype: \"message\",\n\t\t\t\t\trole,\n\t\t\t\t\tcontent: lcMsg.content\n\t\t\t\t};\n\t\t\t\tconst messages$1 = [];\n\t\t\t\tconst content = lcMsg.content.flatMap((item) => {\n\t\t\t\t\tif (item.type === \"mcp_approval_response\") messages$1.push({\n\t\t\t\t\t\ttype: \"mcp_approval_response\",\n\t\t\t\t\t\tapproval_request_id: item.approval_request_id,\n\t\t\t\t\t\tapprove: item.approve\n\t\t\t\t\t});\n\t\t\t\t\tif ((0,_langchain_core_messages__WEBPACK_IMPORTED_MODULE_9__.isDataContentBlock)(item)) return (0,_langchain_core_messages__WEBPACK_IMPORTED_MODULE_9__.convertToProviderContentBlock)(item, _utils_message_inputs_js__WEBPACK_IMPORTED_MODULE_6__.completionsApiContentBlockConverter);\n\t\t\t\t\tif (item.type === \"text\") return {\n\t\t\t\t\t\ttype: \"input_text\",\n\t\t\t\t\t\ttext: item.text\n\t\t\t\t\t};\n\t\t\t\t\tif (item.type === \"image_url\") {\n\t\t\t\t\t\tconst imageUrl = (0,_utils_misc_js__WEBPACK_IMPORTED_MODULE_0__.iife)(() => {\n\t\t\t\t\t\t\tif (typeof item.image_url === \"string\") return item.image_url;\n\t\t\t\t\t\t\telse if (typeof item.image_url === \"object\" && item.image_url !== null && \"url\" in item.image_url) return item.image_url.url;\n\t\t\t\t\t\t\treturn void 0;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tconst detail = (0,_utils_misc_js__WEBPACK_IMPORTED_MODULE_0__.iife)(() => {\n\t\t\t\t\t\t\tif (typeof item.image_url === \"string\") return \"auto\";\n\t\t\t\t\t\t\telse if (typeof item.image_url === \"object\" && item.image_url !== null && \"detail\" in item.image_url) return item.image_url.detail;\n\t\t\t\t\t\t\treturn void 0;\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttype: \"input_image\",\n\t\t\t\t\t\t\timage_url: imageUrl,\n\t\t\t\t\t\t\tdetail\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\tif (item.type === \"input_text\" || item.type === \"input_image\" || item.type === \"input_file\") return item;\n\t\t\t\t\treturn [];\n\t\t\t\t});\n\t\t\t\tif (content.length > 0) messages$1.push({\n\t\t\t\t\ttype: \"message\",\n\t\t\t\t\trole,\n\t\t\t\t\tcontent\n\t\t\t\t});\n\t\t\t\treturn messages$1;\n\t\t\t}\n\t\t\tconsole.warn(`Unsupported role found when converting to OpenAI Responses API: ${role}`);\n\t\t\treturn [];\n\t\t});\n\t}\n\t/** @internal */\n\t_convertReasoningSummary(reasoning) {\n\t\tconst summary = (reasoning.summary.length > 1 ? reasoning.summary.reduce((acc, curr) => {\n\t\t\tconst last = acc[acc.length - 1];\n\t\t\tif (last.index === curr.index) last.text += curr.text;\n\t\t\telse acc.push(curr);\n\t\t\treturn acc;\n\t\t}, [{ ...reasoning.summary[0] }]) : reasoning.summary).map((s) => Object.fromEntries(Object.entries(s).filter(([k]) => k !== \"index\")));\n\t\treturn {\n\t\t\t...reasoning,\n\t\t\tsummary\n\t\t};\n\t}\n\t/** @internal */\n\t_reduceChatOpenAITools(tools, fields) {\n\t\tconst reducedTools = [];\n\t\tfor (const tool of tools) if ((0,_utils_tools_js__WEBPACK_IMPORTED_MODULE_1__.isBuiltInTool)(tool)) {\n\t\t\tif (tool.type === \"image_generation\" && fields?.stream) tool.partial_images = 1;\n\t\t\treducedTools.push(tool);\n\t\t} else if ((0,_utils_tools_js__WEBPACK_IMPORTED_MODULE_1__.isCustomTool)(tool)) {\n\t\t\tconst customToolData = tool.metadata.customTool;\n\t\t\treducedTools.push({\n\t\t\t\ttype: \"custom\",\n\t\t\t\tname: customToolData.name,\n\t\t\t\tdescription: customToolData.description,\n\t\t\t\tformat: customToolData.format\n\t\t\t});\n\t\t} else if ((0,_langchain_core_language_models_base__WEBPACK_IMPORTED_MODULE_7__.isOpenAITool)(tool)) reducedTools.push({\n\t\t\ttype: \"function\",\n\t\t\tname: tool.function.name,\n\t\t\tparameters: tool.function.parameters,\n\t\t\tdescription: tool.function.description,\n\t\t\tstrict: fields?.strict ?? null\n\t\t});\n\t\telse if ((0,_utils_tools_js__WEBPACK_IMPORTED_MODULE_1__.isOpenAICustomTool)(tool)) reducedTools.push((0,_utils_tools_js__WEBPACK_IMPORTED_MODULE_1__.convertCompletionsCustomTool)(tool));\n\t\treturn reducedTools;\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=responses.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvcGVuYWlAMS4wLjBfQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfX193c0A4LjE4LjMvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvY2hhdF9tb2RlbHMvcmVzcG9uc2VzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUErRTtBQUN5SDtBQUN0SDtBQUN2QztBQUNnQjtBQUNhO0FBQ1M7QUFDYjtBQUM2QjtBQUNvQztBQUN2RTs7QUFFOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLG9EQUFjO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLGdCQUFnQixvRUFBbUI7QUFDbkMsc0JBQXNCLHlFQUF3QjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGVBQWUsSUFBSTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSw0QkFBNEIsT0FBTztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGtCQUFrQix1RUFBcUI7QUFDdkM7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwwRkFBYSxjQUFjLGdCQUFnQjtBQUMvRCxLQUFLO0FBQ0w7QUFDQTtBQUNBLDRCQUE0QixnR0FBbUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0Esa0JBQWtCLG9FQUFtQjtBQUNyQztBQUNBLGdDQUFnQyxnR0FBbUI7QUFDbkQsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLGFBQWEsK0RBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsOEZBQTRDO0FBQy9EO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixxREFBcUQ7QUFDckQsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxvQkFBb0IsOEZBQTRDO0FBQ2hFO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILDJJQUEySTtBQUMzSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLFVBQVU7QUFDN0I7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsYUFBYSx5RUFBbUI7QUFDaEM7QUFDQSxnQkFBZ0Isb0VBQWM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsb0ZBQWdDO0FBQ3pGO0FBQ0EsY0FBYyxtRUFBbUI7QUFDakMsNEJBQTRCLGdFQUFnQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsVUFBVTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RSxlQUFlLElBQUk7QUFDM0YsY0FBYyxvREFBSTtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOLEtBQUs7QUFDTDtBQUNBLFFBQVEscUVBQVc7QUFDbkIsU0FBUyxpRUFBZ0I7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixxQ0FBcUM7QUFDbEU7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixxQ0FBcUM7QUFDakUsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sU0FBUyw0RUFBa0IsZUFBZSx1RkFBNkIsT0FBTyx5RkFBbUM7QUFDakg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixvREFBSTtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AscUJBQXFCLG9EQUFJO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxtRkFBbUYsS0FBSztBQUN4RjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxLQUFLLHlCQUF5QjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDhEQUFhO0FBQzdDO0FBQ0E7QUFDQSxJQUFJLFNBQVMsNkRBQVk7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLElBQUksU0FBUyxrRkFBWTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILFdBQVcsbUVBQWtCLDBCQUEwQiw2RUFBNEI7QUFDbkY7QUFDQTtBQUNBOztBQUVBO0FBQytCO0FBQy9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvcGVuYWlAMS4wLjBfQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfX193c0A4LjE4LjMvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvY2hhdF9tb2RlbHMvcmVzcG9uc2VzLmpzP2I1ZTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaWlmZSwgaXNSZWFzb25pbmdNb2RlbCwgbWVzc2FnZVRvT3BlbkFJUm9sZSB9IGZyb20gXCIuLi91dGlscy9taXNjLmpzXCI7XG5pbXBvcnQgeyBjb252ZXJ0Q29tcGxldGlvbnNDdXN0b21Ub29sLCBmb3JtYXRUb09wZW5BSVRvb2xDaG9pY2UsIGlzQnVpbHRJblRvb2wsIGlzQnVpbHRJblRvb2xDaG9pY2UsIGlzQ3VzdG9tVG9vbCwgaXNDdXN0b21Ub29sQ2FsbCwgaXNPcGVuQUlDdXN0b21Ub29sLCBwYXJzZUN1c3RvbVRvb2xDYWxsIH0gZnJvbSBcIi4uL3V0aWxzL3Rvb2xzLmpzXCI7XG5pbXBvcnQgeyBfY29udmVydE9wZW5BSVJlc3BvbnNlc1VzYWdlVG9MYW5nQ2hhaW5Vc2FnZSB9IGZyb20gXCIuLi91dGlscy9vdXRwdXQuanNcIjtcbmltcG9ydCB7IEJhc2VDaGF0T3BlbkFJIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgd3JhcE9wZW5BSUNsaWVudEVycm9yIH0gZnJvbSBcIi4uL3V0aWxzL2NsaWVudC5qc1wiO1xuaW1wb3J0IHsgX2NvbnZlcnRUb1Jlc3BvbnNlc01lc3NhZ2VGcm9tVjEgfSBmcm9tIFwiLi4vdXRpbHMvc3RhbmRhcmQuanNcIjtcbmltcG9ydCB7IGNvbXBsZXRpb25zQXBpQ29udGVudEJsb2NrQ29udmVydGVyIH0gZnJvbSBcIi4uL3V0aWxzL21lc3NhZ2VfaW5wdXRzLmpzXCI7XG5pbXBvcnQgeyBpc09wZW5BSVRvb2wgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL2xhbmd1YWdlX21vZGVscy9iYXNlXCI7XG5pbXBvcnQgeyBtYWtlSW52YWxpZFRvb2xDYWxsLCBwYXJzZVRvb2xDYWxsIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9vdXRwdXRfcGFyc2Vycy9vcGVuYWlfdG9vbHNcIjtcbmltcG9ydCB7IEFJTWVzc2FnZSwgQUlNZXNzYWdlQ2h1bmssIGNvbnZlcnRUb1Byb3ZpZGVyQ29udGVudEJsb2NrLCBpc0FJTWVzc2FnZSwgaXNEYXRhQ29udGVudEJsb2NrIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9tZXNzYWdlc1wiO1xuaW1wb3J0IHsgQ2hhdEdlbmVyYXRpb25DaHVuayB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvb3V0cHV0c1wiO1xuXG4vLyNyZWdpb24gc3JjL2NoYXRfbW9kZWxzL3Jlc3BvbnNlcy50c1xuY29uc3QgX0ZVTkNUSU9OX0NBTExfSURTX01BUF9LRVkgPSBcIl9fb3BlbmFpX2Z1bmN0aW9uX2NhbGxfaWRzX19cIjtcbi8qKlxuKiBPcGVuQUkgUmVzcG9uc2VzIEFQSSBpbXBsZW1lbnRhdGlvbi5cbipcbiogV2lsbCBiZSBleHBvcnRlZCBpbiBhIGxhdGVyIHZlcnNpb24gb2YgQGxhbmdjaGFpbi9vcGVuYWkuXG4qXG4qIEBpbnRlcm5hbFxuKi9cbnZhciBDaGF0T3BlbkFJUmVzcG9uc2VzID0gY2xhc3MgZXh0ZW5kcyBCYXNlQ2hhdE9wZW5BSSB7XG5cdGludm9jYXRpb25QYXJhbXMob3B0aW9ucykge1xuXHRcdGxldCBzdHJpY3Q7XG5cdFx0aWYgKG9wdGlvbnM/LnN0cmljdCAhPT0gdm9pZCAwKSBzdHJpY3QgPSBvcHRpb25zLnN0cmljdDtcblx0XHRlbHNlIGlmICh0aGlzLnN1cHBvcnRzU3RyaWN0VG9vbENhbGxpbmcgIT09IHZvaWQgMCkgc3RyaWN0ID0gdGhpcy5zdXBwb3J0c1N0cmljdFRvb2xDYWxsaW5nO1xuXHRcdGNvbnN0IHBhcmFtcyA9IHtcblx0XHRcdG1vZGVsOiB0aGlzLm1vZGVsLFxuXHRcdFx0dGVtcGVyYXR1cmU6IHRoaXMudGVtcGVyYXR1cmUsXG5cdFx0XHR0b3BfcDogdGhpcy50b3BQLFxuXHRcdFx0dXNlcjogdGhpcy51c2VyLFxuXHRcdFx0c3RyZWFtOiB0aGlzLnN0cmVhbWluZyxcblx0XHRcdHByZXZpb3VzX3Jlc3BvbnNlX2lkOiBvcHRpb25zPy5wcmV2aW91c19yZXNwb25zZV9pZCxcblx0XHRcdHRydW5jYXRpb246IG9wdGlvbnM/LnRydW5jYXRpb24sXG5cdFx0XHRpbmNsdWRlOiBvcHRpb25zPy5pbmNsdWRlLFxuXHRcdFx0dG9vbHM6IG9wdGlvbnM/LnRvb2xzPy5sZW5ndGggPyB0aGlzLl9yZWR1Y2VDaGF0T3BlbkFJVG9vbHMob3B0aW9ucy50b29scywge1xuXHRcdFx0XHRzdHJlYW06IHRoaXMuc3RyZWFtaW5nLFxuXHRcdFx0XHRzdHJpY3Rcblx0XHRcdH0pIDogdm9pZCAwLFxuXHRcdFx0dG9vbF9jaG9pY2U6IGlzQnVpbHRJblRvb2xDaG9pY2Uob3B0aW9ucz8udG9vbF9jaG9pY2UpID8gb3B0aW9ucz8udG9vbF9jaG9pY2UgOiAoKCkgPT4ge1xuXHRcdFx0XHRjb25zdCBmb3JtYXR0ZWQgPSBmb3JtYXRUb09wZW5BSVRvb2xDaG9pY2Uob3B0aW9ucz8udG9vbF9jaG9pY2UpO1xuXHRcdFx0XHRpZiAodHlwZW9mIGZvcm1hdHRlZCA9PT0gXCJvYmplY3RcIiAmJiBcInR5cGVcIiBpbiBmb3JtYXR0ZWQpIHtcblx0XHRcdFx0XHRpZiAoZm9ybWF0dGVkLnR5cGUgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHtcblx0XHRcdFx0XHRcdHR5cGU6IFwiZnVuY3Rpb25cIixcblx0XHRcdFx0XHRcdG5hbWU6IGZvcm1hdHRlZC5mdW5jdGlvbi5uYW1lXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRlbHNlIGlmIChmb3JtYXR0ZWQudHlwZSA9PT0gXCJhbGxvd2VkX3Rvb2xzXCIpIHJldHVybiB7XG5cdFx0XHRcdFx0XHR0eXBlOiBcImFsbG93ZWRfdG9vbHNcIixcblx0XHRcdFx0XHRcdG1vZGU6IGZvcm1hdHRlZC5hbGxvd2VkX3Rvb2xzLm1vZGUsXG5cdFx0XHRcdFx0XHR0b29sczogZm9ybWF0dGVkLmFsbG93ZWRfdG9vbHMudG9vbHNcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdGVsc2UgaWYgKGZvcm1hdHRlZC50eXBlID09PSBcImN1c3RvbVwiKSByZXR1cm4ge1xuXHRcdFx0XHRcdFx0dHlwZTogXCJjdXN0b21cIixcblx0XHRcdFx0XHRcdG5hbWU6IGZvcm1hdHRlZC5jdXN0b20ubmFtZVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHZvaWQgMDtcblx0XHRcdH0pKCksXG5cdFx0XHR0ZXh0OiAoKCkgPT4ge1xuXHRcdFx0XHRpZiAob3B0aW9ucz8udGV4dCkgcmV0dXJuIG9wdGlvbnMudGV4dDtcblx0XHRcdFx0Y29uc3QgZm9ybWF0ID0gdGhpcy5fZ2V0UmVzcG9uc2VGb3JtYXQob3B0aW9ucz8ucmVzcG9uc2VfZm9ybWF0KTtcblx0XHRcdFx0aWYgKGZvcm1hdD8udHlwZSA9PT0gXCJqc29uX3NjaGVtYVwiKSB7XG5cdFx0XHRcdFx0aWYgKGZvcm1hdC5qc29uX3NjaGVtYS5zY2hlbWEgIT0gbnVsbCkgcmV0dXJuIHtcblx0XHRcdFx0XHRcdGZvcm1hdDoge1xuXHRcdFx0XHRcdFx0XHR0eXBlOiBcImpzb25fc2NoZW1hXCIsXG5cdFx0XHRcdFx0XHRcdHNjaGVtYTogZm9ybWF0Lmpzb25fc2NoZW1hLnNjaGVtYSxcblx0XHRcdFx0XHRcdFx0ZGVzY3JpcHRpb246IGZvcm1hdC5qc29uX3NjaGVtYS5kZXNjcmlwdGlvbixcblx0XHRcdFx0XHRcdFx0bmFtZTogZm9ybWF0Lmpzb25fc2NoZW1hLm5hbWUsXG5cdFx0XHRcdFx0XHRcdHN0cmljdDogZm9ybWF0Lmpzb25fc2NoZW1hLnN0cmljdFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHZlcmJvc2l0eTogb3B0aW9ucz8udmVyYm9zaXR5XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRyZXR1cm4gdm9pZCAwO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0Zm9ybWF0LFxuXHRcdFx0XHRcdHZlcmJvc2l0eTogb3B0aW9ucz8udmVyYm9zaXR5XG5cdFx0XHRcdH07XG5cdFx0XHR9KSgpLFxuXHRcdFx0cGFyYWxsZWxfdG9vbF9jYWxsczogb3B0aW9ucz8ucGFyYWxsZWxfdG9vbF9jYWxscyxcblx0XHRcdG1heF9vdXRwdXRfdG9rZW5zOiB0aGlzLm1heFRva2VucyA9PT0gLTEgPyB2b2lkIDAgOiB0aGlzLm1heFRva2Vucyxcblx0XHRcdHByb21wdF9jYWNoZV9rZXk6IG9wdGlvbnM/LnByb21wdENhY2hlS2V5ID8/IHRoaXMucHJvbXB0Q2FjaGVLZXksXG5cdFx0XHQuLi50aGlzLnpkckVuYWJsZWQgPyB7IHN0b3JlOiBmYWxzZSB9IDoge30sXG5cdFx0XHQuLi50aGlzLm1vZGVsS3dhcmdzXG5cdFx0fTtcblx0XHRjb25zdCByZWFzb25pbmcgPSB0aGlzLl9nZXRSZWFzb25pbmdQYXJhbXMob3B0aW9ucyk7XG5cdFx0aWYgKHJlYXNvbmluZyAhPT0gdm9pZCAwKSBwYXJhbXMucmVhc29uaW5nID0gcmVhc29uaW5nO1xuXHRcdHJldHVybiBwYXJhbXM7XG5cdH1cblx0YXN5bmMgX2dlbmVyYXRlKG1lc3NhZ2VzLCBvcHRpb25zKSB7XG5cdFx0Y29uc3QgaW52b2NhdGlvblBhcmFtcyA9IHRoaXMuaW52b2NhdGlvblBhcmFtcyhvcHRpb25zKTtcblx0XHRpZiAoaW52b2NhdGlvblBhcmFtcy5zdHJlYW0pIHtcblx0XHRcdGNvbnN0IHN0cmVhbSA9IHRoaXMuX3N0cmVhbVJlc3BvbnNlQ2h1bmtzKG1lc3NhZ2VzLCBvcHRpb25zKTtcblx0XHRcdGxldCBmaW5hbENodW5rO1xuXHRcdFx0Zm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBzdHJlYW0pIHtcblx0XHRcdFx0Y2h1bmsubWVzc2FnZS5yZXNwb25zZV9tZXRhZGF0YSA9IHtcblx0XHRcdFx0XHQuLi5jaHVuay5nZW5lcmF0aW9uSW5mbyxcblx0XHRcdFx0XHQuLi5jaHVuay5tZXNzYWdlLnJlc3BvbnNlX21ldGFkYXRhXG5cdFx0XHRcdH07XG5cdFx0XHRcdGZpbmFsQ2h1bmsgPSBmaW5hbENodW5rPy5jb25jYXQoY2h1bmspID8/IGNodW5rO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0Z2VuZXJhdGlvbnM6IGZpbmFsQ2h1bmsgPyBbZmluYWxDaHVua10gOiBbXSxcblx0XHRcdFx0bGxtT3V0cHV0OiB7IGVzdGltYXRlZFRva2VuVXNhZ2U6IChmaW5hbENodW5rPy5tZXNzYWdlKT8udXNhZ2VfbWV0YWRhdGEgfVxuXHRcdFx0fTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc3QgaW5wdXQgPSB0aGlzLl9jb252ZXJ0TWVzc2FnZXNUb1Jlc3BvbnNlc1BhcmFtcyhtZXNzYWdlcyk7XG5cdFx0XHRjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5jb21wbGV0aW9uV2l0aFJldHJ5KHtcblx0XHRcdFx0aW5wdXQsXG5cdFx0XHRcdC4uLmludm9jYXRpb25QYXJhbXMsXG5cdFx0XHRcdHN0cmVhbTogZmFsc2Vcblx0XHRcdH0sIHtcblx0XHRcdFx0c2lnbmFsOiBvcHRpb25zPy5zaWduYWwsXG5cdFx0XHRcdC4uLm9wdGlvbnM/Lm9wdGlvbnNcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0Z2VuZXJhdGlvbnM6IFt7XG5cdFx0XHRcdFx0dGV4dDogZGF0YS5vdXRwdXRfdGV4dCxcblx0XHRcdFx0XHRtZXNzYWdlOiB0aGlzLl9jb252ZXJ0UmVzcG9uc2VzTWVzc2FnZVRvQmFzZU1lc3NhZ2UoZGF0YSlcblx0XHRcdFx0fV0sXG5cdFx0XHRcdGxsbU91dHB1dDoge1xuXHRcdFx0XHRcdGlkOiBkYXRhLmlkLFxuXHRcdFx0XHRcdGVzdGltYXRlZFRva2VuVXNhZ2U6IGRhdGEudXNhZ2UgPyB7XG5cdFx0XHRcdFx0XHRwcm9tcHRUb2tlbnM6IGRhdGEudXNhZ2UuaW5wdXRfdG9rZW5zLFxuXHRcdFx0XHRcdFx0Y29tcGxldGlvblRva2VuczogZGF0YS51c2FnZS5vdXRwdXRfdG9rZW5zLFxuXHRcdFx0XHRcdFx0dG90YWxUb2tlbnM6IGRhdGEudXNhZ2UudG90YWxfdG9rZW5zXG5cdFx0XHRcdFx0fSA6IHZvaWQgMFxuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdH1cblx0fVxuXHRhc3luYyAqX3N0cmVhbVJlc3BvbnNlQ2h1bmtzKG1lc3NhZ2VzLCBvcHRpb25zLCBydW5NYW5hZ2VyKSB7XG5cdFx0Y29uc3Qgc3RyZWFtSXRlcmFibGUgPSBhd2FpdCB0aGlzLmNvbXBsZXRpb25XaXRoUmV0cnkoe1xuXHRcdFx0Li4udGhpcy5pbnZvY2F0aW9uUGFyYW1zKG9wdGlvbnMpLFxuXHRcdFx0aW5wdXQ6IHRoaXMuX2NvbnZlcnRNZXNzYWdlc1RvUmVzcG9uc2VzUGFyYW1zKG1lc3NhZ2VzKSxcblx0XHRcdHN0cmVhbTogdHJ1ZVxuXHRcdH0sIG9wdGlvbnMpO1xuXHRcdGZvciBhd2FpdCAoY29uc3QgZGF0YSBvZiBzdHJlYW1JdGVyYWJsZSkge1xuXHRcdFx0Y29uc3QgY2h1bmsgPSB0aGlzLl9jb252ZXJ0UmVzcG9uc2VzRGVsdGFUb0Jhc2VNZXNzYWdlQ2h1bmsoZGF0YSk7XG5cdFx0XHRpZiAoY2h1bmsgPT0gbnVsbCkgY29udGludWU7XG5cdFx0XHR5aWVsZCBjaHVuaztcblx0XHRcdGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUxMTU5ld1Rva2VuKGNodW5rLnRleHQgfHwgXCJcIiwge1xuXHRcdFx0XHRwcm9tcHQ6IG9wdGlvbnMucHJvbXB0SW5kZXggPz8gMCxcblx0XHRcdFx0Y29tcGxldGlvbjogMFxuXHRcdFx0fSwgdm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgeyBjaHVuayB9KTtcblx0XHR9XG5cdH1cblx0YXN5bmMgY29tcGxldGlvbldpdGhSZXRyeShyZXF1ZXN0LCByZXF1ZXN0T3B0aW9ucykge1xuXHRcdHJldHVybiB0aGlzLmNhbGxlci5jYWxsKGFzeW5jICgpID0+IHtcblx0XHRcdGNvbnN0IGNsaWVudE9wdGlvbnMgPSB0aGlzLl9nZXRDbGllbnRPcHRpb25zKHJlcXVlc3RPcHRpb25zKTtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGlmIChyZXF1ZXN0LnRleHQ/LmZvcm1hdD8udHlwZSA9PT0gXCJqc29uX3NjaGVtYVwiICYmICFyZXF1ZXN0LnN0cmVhbSkgcmV0dXJuIGF3YWl0IHRoaXMuY2xpZW50LnJlc3BvbnNlcy5wYXJzZShyZXF1ZXN0LCBjbGllbnRPcHRpb25zKTtcblx0XHRcdFx0cmV0dXJuIGF3YWl0IHRoaXMuY2xpZW50LnJlc3BvbnNlcy5jcmVhdGUocmVxdWVzdCwgY2xpZW50T3B0aW9ucyk7XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdGNvbnN0IGVycm9yID0gd3JhcE9wZW5BSUNsaWVudEVycm9yKGUpO1xuXHRcdFx0XHR0aHJvdyBlcnJvcjtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXHQvKiogQGludGVybmFsICovXG5cdF9jb252ZXJ0UmVzcG9uc2VzTWVzc2FnZVRvQmFzZU1lc3NhZ2UocmVzcG9uc2UpIHtcblx0XHRpZiAocmVzcG9uc2UuZXJyb3IpIHtcblx0XHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKHJlc3BvbnNlLmVycm9yLm1lc3NhZ2UpO1xuXHRcdFx0ZXJyb3IubmFtZSA9IHJlc3BvbnNlLmVycm9yLmNvZGU7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cdFx0bGV0IG1lc3NhZ2VJZDtcblx0XHRjb25zdCBjb250ZW50ID0gW107XG5cdFx0Y29uc3QgdG9vbF9jYWxscyA9IFtdO1xuXHRcdGNvbnN0IGludmFsaWRfdG9vbF9jYWxscyA9IFtdO1xuXHRcdGNvbnN0IHJlc3BvbnNlX21ldGFkYXRhID0ge1xuXHRcdFx0bW9kZWxfcHJvdmlkZXI6IFwib3BlbmFpXCIsXG5cdFx0XHRtb2RlbDogcmVzcG9uc2UubW9kZWwsXG5cdFx0XHRjcmVhdGVkX2F0OiByZXNwb25zZS5jcmVhdGVkX2F0LFxuXHRcdFx0aWQ6IHJlc3BvbnNlLmlkLFxuXHRcdFx0aW5jb21wbGV0ZV9kZXRhaWxzOiByZXNwb25zZS5pbmNvbXBsZXRlX2RldGFpbHMsXG5cdFx0XHRtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEsXG5cdFx0XHRvYmplY3Q6IHJlc3BvbnNlLm9iamVjdCxcblx0XHRcdHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuXHRcdFx0dXNlcjogcmVzcG9uc2UudXNlcixcblx0XHRcdHNlcnZpY2VfdGllcjogcmVzcG9uc2Uuc2VydmljZV90aWVyLFxuXHRcdFx0bW9kZWxfbmFtZTogcmVzcG9uc2UubW9kZWxcblx0XHR9O1xuXHRcdGNvbnN0IGFkZGl0aW9uYWxfa3dhcmdzID0ge307XG5cdFx0Zm9yIChjb25zdCBpdGVtIG9mIHJlc3BvbnNlLm91dHB1dCkgaWYgKGl0ZW0udHlwZSA9PT0gXCJtZXNzYWdlXCIpIHtcblx0XHRcdG1lc3NhZ2VJZCA9IGl0ZW0uaWQ7XG5cdFx0XHRjb250ZW50LnB1c2goLi4uaXRlbS5jb250ZW50LmZsYXRNYXAoKHBhcnQpID0+IHtcblx0XHRcdFx0aWYgKHBhcnQudHlwZSA9PT0gXCJvdXRwdXRfdGV4dFwiKSB7XG5cdFx0XHRcdFx0aWYgKFwicGFyc2VkXCIgaW4gcGFydCAmJiBwYXJ0LnBhcnNlZCAhPSBudWxsKSBhZGRpdGlvbmFsX2t3YXJncy5wYXJzZWQgPSBwYXJ0LnBhcnNlZDtcblx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHRcdFx0XHR0ZXh0OiBwYXJ0LnRleHQsXG5cdFx0XHRcdFx0XHRhbm5vdGF0aW9uczogcGFydC5hbm5vdGF0aW9uc1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHBhcnQudHlwZSA9PT0gXCJyZWZ1c2FsXCIpIHtcblx0XHRcdFx0XHRhZGRpdGlvbmFsX2t3YXJncy5yZWZ1c2FsID0gcGFydC5yZWZ1c2FsO1xuXHRcdFx0XHRcdHJldHVybiBbXTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gcGFydDtcblx0XHRcdH0pKTtcblx0XHR9IGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gXCJmdW5jdGlvbl9jYWxsXCIpIHtcblx0XHRcdGNvbnN0IGZuQWRhcHRlciA9IHtcblx0XHRcdFx0ZnVuY3Rpb246IHtcblx0XHRcdFx0XHRuYW1lOiBpdGVtLm5hbWUsXG5cdFx0XHRcdFx0YXJndW1lbnRzOiBpdGVtLmFyZ3VtZW50c1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRpZDogaXRlbS5jYWxsX2lkXG5cdFx0XHR9O1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0dG9vbF9jYWxscy5wdXNoKHBhcnNlVG9vbENhbGwoZm5BZGFwdGVyLCB7IHJldHVybklkOiB0cnVlIH0pKTtcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0bGV0IGVyck1lc3NhZ2U7XG5cdFx0XHRcdGlmICh0eXBlb2YgZSA9PT0gXCJvYmplY3RcIiAmJiBlICE9IG51bGwgJiYgXCJtZXNzYWdlXCIgaW4gZSAmJiB0eXBlb2YgZS5tZXNzYWdlID09PSBcInN0cmluZ1wiKSBlcnJNZXNzYWdlID0gZS5tZXNzYWdlO1xuXHRcdFx0XHRpbnZhbGlkX3Rvb2xfY2FsbHMucHVzaChtYWtlSW52YWxpZFRvb2xDYWxsKGZuQWRhcHRlciwgZXJyTWVzc2FnZSkpO1xuXHRcdFx0fVxuXHRcdFx0YWRkaXRpb25hbF9rd2FyZ3NbX0ZVTkNUSU9OX0NBTExfSURTX01BUF9LRVldID8/PSB7fTtcblx0XHRcdGlmIChpdGVtLmlkKSBhZGRpdGlvbmFsX2t3YXJnc1tfRlVOQ1RJT05fQ0FMTF9JRFNfTUFQX0tFWV1baXRlbS5jYWxsX2lkXSA9IGl0ZW0uaWQ7XG5cdFx0fSBlbHNlIGlmIChpdGVtLnR5cGUgPT09IFwicmVhc29uaW5nXCIpIGFkZGl0aW9uYWxfa3dhcmdzLnJlYXNvbmluZyA9IGl0ZW07XG5cdFx0ZWxzZSBpZiAoaXRlbS50eXBlID09PSBcImN1c3RvbV90b29sX2NhbGxcIikge1xuXHRcdFx0Y29uc3QgcGFyc2VkID0gcGFyc2VDdXN0b21Ub29sQ2FsbChpdGVtKTtcblx0XHRcdGlmIChwYXJzZWQpIHRvb2xfY2FsbHMucHVzaChwYXJzZWQpO1xuXHRcdFx0ZWxzZSBpbnZhbGlkX3Rvb2xfY2FsbHMucHVzaChtYWtlSW52YWxpZFRvb2xDYWxsKGl0ZW0sIFwiTWFsZm9ybWVkIGN1c3RvbSB0b29sIGNhbGxcIikpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRhZGRpdGlvbmFsX2t3YXJncy50b29sX291dHB1dHMgPz89IFtdO1xuXHRcdFx0YWRkaXRpb25hbF9rd2FyZ3MudG9vbF9vdXRwdXRzLnB1c2goaXRlbSk7XG5cdFx0fVxuXHRcdHJldHVybiBuZXcgQUlNZXNzYWdlKHtcblx0XHRcdGlkOiBtZXNzYWdlSWQsXG5cdFx0XHRjb250ZW50LFxuXHRcdFx0dG9vbF9jYWxscyxcblx0XHRcdGludmFsaWRfdG9vbF9jYWxscyxcblx0XHRcdHVzYWdlX21ldGFkYXRhOiBfY29udmVydE9wZW5BSVJlc3BvbnNlc1VzYWdlVG9MYW5nQ2hhaW5Vc2FnZShyZXNwb25zZS51c2FnZSksXG5cdFx0XHRhZGRpdGlvbmFsX2t3YXJncyxcblx0XHRcdHJlc3BvbnNlX21ldGFkYXRhXG5cdFx0fSk7XG5cdH1cblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRfY29udmVydFJlc3BvbnNlc0RlbHRhVG9CYXNlTWVzc2FnZUNodW5rKGNodW5rKSB7XG5cdFx0Y29uc3QgY29udGVudCA9IFtdO1xuXHRcdGxldCBnZW5lcmF0aW9uSW5mbyA9IHt9O1xuXHRcdGxldCB1c2FnZV9tZXRhZGF0YTtcblx0XHRjb25zdCB0b29sX2NhbGxfY2h1bmtzID0gW107XG5cdFx0Y29uc3QgcmVzcG9uc2VfbWV0YWRhdGEgPSB7IG1vZGVsX3Byb3ZpZGVyOiBcIm9wZW5haVwiIH07XG5cdFx0Y29uc3QgYWRkaXRpb25hbF9rd2FyZ3MgPSB7fTtcblx0XHRsZXQgaWQ7XG5cdFx0aWYgKGNodW5rLnR5cGUgPT09IFwicmVzcG9uc2Uub3V0cHV0X3RleHQuZGVsdGFcIikgY29udGVudC5wdXNoKHtcblx0XHRcdHR5cGU6IFwidGV4dFwiLFxuXHRcdFx0dGV4dDogY2h1bmsuZGVsdGEsXG5cdFx0XHRpbmRleDogY2h1bmsuY29udGVudF9pbmRleFxuXHRcdH0pO1xuXHRcdGVsc2UgaWYgKGNodW5rLnR5cGUgPT09IFwicmVzcG9uc2Uub3V0cHV0X3RleHQuYW5ub3RhdGlvbi5hZGRlZFwiKSBjb250ZW50LnB1c2goe1xuXHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHR0ZXh0OiBcIlwiLFxuXHRcdFx0YW5ub3RhdGlvbnM6IFtjaHVuay5hbm5vdGF0aW9uXSxcblx0XHRcdGluZGV4OiBjaHVuay5jb250ZW50X2luZGV4XG5cdFx0fSk7XG5cdFx0ZWxzZSBpZiAoY2h1bmsudHlwZSA9PT0gXCJyZXNwb25zZS5vdXRwdXRfaXRlbS5hZGRlZFwiICYmIGNodW5rLml0ZW0udHlwZSA9PT0gXCJtZXNzYWdlXCIpIGlkID0gY2h1bmsuaXRlbS5pZDtcblx0XHRlbHNlIGlmIChjaHVuay50eXBlID09PSBcInJlc3BvbnNlLm91dHB1dF9pdGVtLmFkZGVkXCIgJiYgY2h1bmsuaXRlbS50eXBlID09PSBcImZ1bmN0aW9uX2NhbGxcIikge1xuXHRcdFx0dG9vbF9jYWxsX2NodW5rcy5wdXNoKHtcblx0XHRcdFx0dHlwZTogXCJ0b29sX2NhbGxfY2h1bmtcIixcblx0XHRcdFx0bmFtZTogY2h1bmsuaXRlbS5uYW1lLFxuXHRcdFx0XHRhcmdzOiBjaHVuay5pdGVtLmFyZ3VtZW50cyxcblx0XHRcdFx0aWQ6IGNodW5rLml0ZW0uY2FsbF9pZCxcblx0XHRcdFx0aW5kZXg6IGNodW5rLm91dHB1dF9pbmRleFxuXHRcdFx0fSk7XG5cdFx0XHRhZGRpdGlvbmFsX2t3YXJnc1tfRlVOQ1RJT05fQ0FMTF9JRFNfTUFQX0tFWV0gPSB7IFtjaHVuay5pdGVtLmNhbGxfaWRdOiBjaHVuay5pdGVtLmlkIH07XG5cdFx0fSBlbHNlIGlmIChjaHVuay50eXBlID09PSBcInJlc3BvbnNlLm91dHB1dF9pdGVtLmRvbmVcIiAmJiBbXG5cdFx0XHRcIndlYl9zZWFyY2hfY2FsbFwiLFxuXHRcdFx0XCJmaWxlX3NlYXJjaF9jYWxsXCIsXG5cdFx0XHRcImNvbXB1dGVyX2NhbGxcIixcblx0XHRcdFwiY29kZV9pbnRlcnByZXRlcl9jYWxsXCIsXG5cdFx0XHRcIm1jcF9jYWxsXCIsXG5cdFx0XHRcIm1jcF9saXN0X3Rvb2xzXCIsXG5cdFx0XHRcIm1jcF9hcHByb3ZhbF9yZXF1ZXN0XCIsXG5cdFx0XHRcImltYWdlX2dlbmVyYXRpb25fY2FsbFwiLFxuXHRcdFx0XCJjdXN0b21fdG9vbF9jYWxsXCJcblx0XHRdLmluY2x1ZGVzKGNodW5rLml0ZW0udHlwZSkpIGFkZGl0aW9uYWxfa3dhcmdzLnRvb2xfb3V0cHV0cyA9IFtjaHVuay5pdGVtXTtcblx0XHRlbHNlIGlmIChjaHVuay50eXBlID09PSBcInJlc3BvbnNlLmNyZWF0ZWRcIikge1xuXHRcdFx0cmVzcG9uc2VfbWV0YWRhdGEuaWQgPSBjaHVuay5yZXNwb25zZS5pZDtcblx0XHRcdHJlc3BvbnNlX21ldGFkYXRhLm1vZGVsX25hbWUgPSBjaHVuay5yZXNwb25zZS5tb2RlbDtcblx0XHRcdHJlc3BvbnNlX21ldGFkYXRhLm1vZGVsID0gY2h1bmsucmVzcG9uc2UubW9kZWw7XG5cdFx0fSBlbHNlIGlmIChjaHVuay50eXBlID09PSBcInJlc3BvbnNlLmNvbXBsZXRlZFwiKSB7XG5cdFx0XHRjb25zdCBtc2cgPSB0aGlzLl9jb252ZXJ0UmVzcG9uc2VzTWVzc2FnZVRvQmFzZU1lc3NhZ2UoY2h1bmsucmVzcG9uc2UpO1xuXHRcdFx0dXNhZ2VfbWV0YWRhdGEgPSBfY29udmVydE9wZW5BSVJlc3BvbnNlc1VzYWdlVG9MYW5nQ2hhaW5Vc2FnZShjaHVuay5yZXNwb25zZS51c2FnZSk7XG5cdFx0XHRpZiAoY2h1bmsucmVzcG9uc2UudGV4dD8uZm9ybWF0Py50eXBlID09PSBcImpzb25fc2NoZW1hXCIpIGFkZGl0aW9uYWxfa3dhcmdzLnBhcnNlZCA/Pz0gSlNPTi5wYXJzZShtc2cudGV4dCk7XG5cdFx0XHRmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhjaHVuay5yZXNwb25zZSkpIGlmIChrZXkgIT09IFwiaWRcIikgcmVzcG9uc2VfbWV0YWRhdGFba2V5XSA9IHZhbHVlO1xuXHRcdH0gZWxzZSBpZiAoY2h1bmsudHlwZSA9PT0gXCJyZXNwb25zZS5mdW5jdGlvbl9jYWxsX2FyZ3VtZW50cy5kZWx0YVwiIHx8IGNodW5rLnR5cGUgPT09IFwicmVzcG9uc2UuY3VzdG9tX3Rvb2xfY2FsbF9pbnB1dC5kZWx0YVwiKSB0b29sX2NhbGxfY2h1bmtzLnB1c2goe1xuXHRcdFx0dHlwZTogXCJ0b29sX2NhbGxfY2h1bmtcIixcblx0XHRcdGFyZ3M6IGNodW5rLmRlbHRhLFxuXHRcdFx0aW5kZXg6IGNodW5rLm91dHB1dF9pbmRleFxuXHRcdH0pO1xuXHRcdGVsc2UgaWYgKGNodW5rLnR5cGUgPT09IFwicmVzcG9uc2Uud2ViX3NlYXJjaF9jYWxsLmNvbXBsZXRlZFwiIHx8IGNodW5rLnR5cGUgPT09IFwicmVzcG9uc2UuZmlsZV9zZWFyY2hfY2FsbC5jb21wbGV0ZWRcIikgZ2VuZXJhdGlvbkluZm8gPSB7IHRvb2xfb3V0cHV0czoge1xuXHRcdFx0aWQ6IGNodW5rLml0ZW1faWQsXG5cdFx0XHR0eXBlOiBjaHVuay50eXBlLnJlcGxhY2UoXCJyZXNwb25zZS5cIiwgXCJcIikucmVwbGFjZShcIi5jb21wbGV0ZWRcIiwgXCJcIiksXG5cdFx0XHRzdGF0dXM6IFwiY29tcGxldGVkXCJcblx0XHR9IH07XG5cdFx0ZWxzZSBpZiAoY2h1bmsudHlwZSA9PT0gXCJyZXNwb25zZS5yZWZ1c2FsLmRvbmVcIikgYWRkaXRpb25hbF9rd2FyZ3MucmVmdXNhbCA9IGNodW5rLnJlZnVzYWw7XG5cdFx0ZWxzZSBpZiAoY2h1bmsudHlwZSA9PT0gXCJyZXNwb25zZS5vdXRwdXRfaXRlbS5hZGRlZFwiICYmIFwiaXRlbVwiIGluIGNodW5rICYmIGNodW5rLml0ZW0udHlwZSA9PT0gXCJyZWFzb25pbmdcIikge1xuXHRcdFx0Y29uc3Qgc3VtbWFyeSA9IGNodW5rLml0ZW0uc3VtbWFyeSA/IGNodW5rLml0ZW0uc3VtbWFyeS5tYXAoKHMsIGluZGV4KSA9PiAoe1xuXHRcdFx0XHQuLi5zLFxuXHRcdFx0XHRpbmRleFxuXHRcdFx0fSkpIDogdm9pZCAwO1xuXHRcdFx0YWRkaXRpb25hbF9rd2FyZ3MucmVhc29uaW5nID0ge1xuXHRcdFx0XHRpZDogY2h1bmsuaXRlbS5pZCxcblx0XHRcdFx0dHlwZTogY2h1bmsuaXRlbS50eXBlLFxuXHRcdFx0XHQuLi5zdW1tYXJ5ID8geyBzdW1tYXJ5IH0gOiB7fVxuXHRcdFx0fTtcblx0XHR9IGVsc2UgaWYgKGNodW5rLnR5cGUgPT09IFwicmVzcG9uc2UucmVhc29uaW5nX3N1bW1hcnlfcGFydC5hZGRlZFwiKSBhZGRpdGlvbmFsX2t3YXJncy5yZWFzb25pbmcgPSB7XG5cdFx0XHR0eXBlOiBcInJlYXNvbmluZ1wiLFxuXHRcdFx0c3VtbWFyeTogW3tcblx0XHRcdFx0Li4uY2h1bmsucGFydCxcblx0XHRcdFx0aW5kZXg6IGNodW5rLnN1bW1hcnlfaW5kZXhcblx0XHRcdH1dXG5cdFx0fTtcblx0XHRlbHNlIGlmIChjaHVuay50eXBlID09PSBcInJlc3BvbnNlLnJlYXNvbmluZ19zdW1tYXJ5X3RleHQuZGVsdGFcIikgYWRkaXRpb25hbF9rd2FyZ3MucmVhc29uaW5nID0ge1xuXHRcdFx0dHlwZTogXCJyZWFzb25pbmdcIixcblx0XHRcdHN1bW1hcnk6IFt7XG5cdFx0XHRcdHRleHQ6IGNodW5rLmRlbHRhLFxuXHRcdFx0XHR0eXBlOiBcInN1bW1hcnlfdGV4dFwiLFxuXHRcdFx0XHRpbmRleDogY2h1bmsuc3VtbWFyeV9pbmRleFxuXHRcdFx0fV1cblx0XHR9O1xuXHRcdGVsc2UgaWYgKGNodW5rLnR5cGUgPT09IFwicmVzcG9uc2UuaW1hZ2VfZ2VuZXJhdGlvbl9jYWxsLnBhcnRpYWxfaW1hZ2VcIikgcmV0dXJuIG51bGw7XG5cdFx0ZWxzZSByZXR1cm4gbnVsbDtcblx0XHRyZXR1cm4gbmV3IENoYXRHZW5lcmF0aW9uQ2h1bmsoe1xuXHRcdFx0dGV4dDogY29udGVudC5tYXAoKHBhcnQpID0+IHBhcnQudGV4dCkuam9pbihcIlwiKSxcblx0XHRcdG1lc3NhZ2U6IG5ldyBBSU1lc3NhZ2VDaHVuayh7XG5cdFx0XHRcdGlkLFxuXHRcdFx0XHRjb250ZW50LFxuXHRcdFx0XHR0b29sX2NhbGxfY2h1bmtzLFxuXHRcdFx0XHR1c2FnZV9tZXRhZGF0YSxcblx0XHRcdFx0YWRkaXRpb25hbF9rd2FyZ3MsXG5cdFx0XHRcdHJlc3BvbnNlX21ldGFkYXRhXG5cdFx0XHR9KSxcblx0XHRcdGdlbmVyYXRpb25JbmZvXG5cdFx0fSk7XG5cdH1cblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRfY29udmVydE1lc3NhZ2VzVG9SZXNwb25zZXNQYXJhbXMobWVzc2FnZXMpIHtcblx0XHRyZXR1cm4gbWVzc2FnZXMuZmxhdE1hcCgobGNNc2cpID0+IHtcblx0XHRcdGNvbnN0IHJlc3BvbnNlTWV0YWRhdGEgPSBsY01zZy5yZXNwb25zZV9tZXRhZGF0YTtcblx0XHRcdGlmIChyZXNwb25zZU1ldGFkYXRhPy5vdXRwdXRfdmVyc2lvbiA9PT0gXCJ2MVwiKSByZXR1cm4gX2NvbnZlcnRUb1Jlc3BvbnNlc01lc3NhZ2VGcm9tVjEobGNNc2cpO1xuXHRcdFx0Y29uc3QgYWRkaXRpb25hbF9rd2FyZ3MgPSBsY01zZy5hZGRpdGlvbmFsX2t3YXJncztcblx0XHRcdGxldCByb2xlID0gbWVzc2FnZVRvT3BlbkFJUm9sZShsY01zZyk7XG5cdFx0XHRpZiAocm9sZSA9PT0gXCJzeXN0ZW1cIiAmJiBpc1JlYXNvbmluZ01vZGVsKHRoaXMubW9kZWwpKSByb2xlID0gXCJkZXZlbG9wZXJcIjtcblx0XHRcdGlmIChyb2xlID09PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcihcIkZ1bmN0aW9uIG1lc3NhZ2VzIGFyZSBub3Qgc3VwcG9ydGVkIGluIFJlc3BvbnNlcyBBUElcIik7XG5cdFx0XHRpZiAocm9sZSA9PT0gXCJ0b29sXCIpIHtcblx0XHRcdFx0Y29uc3QgdG9vbE1lc3NhZ2UgPSBsY01zZztcblx0XHRcdFx0aWYgKGFkZGl0aW9uYWxfa3dhcmdzPy50eXBlID09PSBcImNvbXB1dGVyX2NhbGxfb3V0cHV0XCIpIHtcblx0XHRcdFx0XHRjb25zdCBvdXRwdXQgPSAoKCkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKHR5cGVvZiB0b29sTWVzc2FnZS5jb250ZW50ID09PSBcInN0cmluZ1wiKSByZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHR0eXBlOiBcImNvbXB1dGVyX3NjcmVlbnNob3RcIixcblx0XHRcdFx0XHRcdFx0aW1hZ2VfdXJsOiB0b29sTWVzc2FnZS5jb250ZW50XG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0aWYgKEFycmF5LmlzQXJyYXkodG9vbE1lc3NhZ2UuY29udGVudCkpIHtcblx0XHRcdFx0XHRcdFx0Y29uc3Qgb2FpU2NyZWVuc2hvdCA9IHRvb2xNZXNzYWdlLmNvbnRlbnQuZmluZCgoaSkgPT4gaS50eXBlID09PSBcImNvbXB1dGVyX3NjcmVlbnNob3RcIik7XG5cdFx0XHRcdFx0XHRcdGlmIChvYWlTY3JlZW5zaG90KSByZXR1cm4gb2FpU2NyZWVuc2hvdDtcblx0XHRcdFx0XHRcdFx0Y29uc3QgbGNJbWFnZSA9IHRvb2xNZXNzYWdlLmNvbnRlbnQuZmluZCgoaSkgPT4gaS50eXBlID09PSBcImltYWdlX3VybFwiKTtcblx0XHRcdFx0XHRcdFx0aWYgKGxjSW1hZ2UpIHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJjb21wdXRlcl9zY3JlZW5zaG90XCIsXG5cdFx0XHRcdFx0XHRcdFx0aW1hZ2VfdXJsOiB0eXBlb2YgbGNJbWFnZS5pbWFnZV91cmwgPT09IFwic3RyaW5nXCIgPyBsY0ltYWdlLmltYWdlX3VybCA6IGxjSW1hZ2UuaW1hZ2VfdXJsLnVybFxuXHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjb21wdXRlciBjYWxsIG91dHB1dFwiKTtcblx0XHRcdFx0XHR9KSgpO1xuXHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHR0eXBlOiBcImNvbXB1dGVyX2NhbGxfb3V0cHV0XCIsXG5cdFx0XHRcdFx0XHRvdXRwdXQsXG5cdFx0XHRcdFx0XHRjYWxsX2lkOiB0b29sTWVzc2FnZS50b29sX2NhbGxfaWRcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICh0b29sTWVzc2FnZS5hZGRpdGlvbmFsX2t3YXJncz8uY3VzdG9tVG9vbCkgcmV0dXJuIHtcblx0XHRcdFx0XHR0eXBlOiBcImN1c3RvbV90b29sX2NhbGxfb3V0cHV0XCIsXG5cdFx0XHRcdFx0Y2FsbF9pZDogdG9vbE1lc3NhZ2UudG9vbF9jYWxsX2lkLFxuXHRcdFx0XHRcdG91dHB1dDogdG9vbE1lc3NhZ2UuY29udGVudFxuXHRcdFx0XHR9O1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdHR5cGU6IFwiZnVuY3Rpb25fY2FsbF9vdXRwdXRcIixcblx0XHRcdFx0XHRjYWxsX2lkOiB0b29sTWVzc2FnZS50b29sX2NhbGxfaWQsXG5cdFx0XHRcdFx0aWQ6IHRvb2xNZXNzYWdlLmlkPy5zdGFydHNXaXRoKFwiZmNfXCIpID8gdG9vbE1lc3NhZ2UuaWQgOiB2b2lkIDAsXG5cdFx0XHRcdFx0b3V0cHV0OiB0eXBlb2YgdG9vbE1lc3NhZ2UuY29udGVudCAhPT0gXCJzdHJpbmdcIiA/IEpTT04uc3RyaW5naWZ5KHRvb2xNZXNzYWdlLmNvbnRlbnQpIDogdG9vbE1lc3NhZ2UuY29udGVudFxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdFx0aWYgKHJvbGUgPT09IFwiYXNzaXN0YW50XCIpIHtcblx0XHRcdFx0aWYgKCF0aGlzLnpkckVuYWJsZWQgJiYgcmVzcG9uc2VNZXRhZGF0YT8ub3V0cHV0ICE9IG51bGwgJiYgQXJyYXkuaXNBcnJheShyZXNwb25zZU1ldGFkYXRhPy5vdXRwdXQpICYmIHJlc3BvbnNlTWV0YWRhdGE/Lm91dHB1dC5sZW5ndGggPiAwICYmIHJlc3BvbnNlTWV0YWRhdGE/Lm91dHB1dC5ldmVyeSgoaXRlbSkgPT4gXCJ0eXBlXCIgaW4gaXRlbSkpIHJldHVybiByZXNwb25zZU1ldGFkYXRhPy5vdXRwdXQ7XG5cdFx0XHRcdGNvbnN0IGlucHV0ID0gW107XG5cdFx0XHRcdGlmIChhZGRpdGlvbmFsX2t3YXJncz8ucmVhc29uaW5nICYmICF0aGlzLnpkckVuYWJsZWQpIHtcblx0XHRcdFx0XHRjb25zdCByZWFzb25pbmdJdGVtID0gdGhpcy5fY29udmVydFJlYXNvbmluZ1N1bW1hcnkoYWRkaXRpb25hbF9rd2FyZ3MucmVhc29uaW5nKTtcblx0XHRcdFx0XHRpbnB1dC5wdXNoKHJlYXNvbmluZ0l0ZW0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGxldCB7IGNvbnRlbnQgfSA9IGxjTXNnO1xuXHRcdFx0XHRpZiAoYWRkaXRpb25hbF9rd2FyZ3M/LnJlZnVzYWwpIHtcblx0XHRcdFx0XHRpZiAodHlwZW9mIGNvbnRlbnQgPT09IFwic3RyaW5nXCIpIGNvbnRlbnQgPSBbe1xuXHRcdFx0XHRcdFx0dHlwZTogXCJvdXRwdXRfdGV4dFwiLFxuXHRcdFx0XHRcdFx0dGV4dDogY29udGVudCxcblx0XHRcdFx0XHRcdGFubm90YXRpb25zOiBbXVxuXHRcdFx0XHRcdH1dO1xuXHRcdFx0XHRcdGNvbnRlbnQgPSBbLi4uY29udGVudCwge1xuXHRcdFx0XHRcdFx0dHlwZTogXCJyZWZ1c2FsXCIsXG5cdFx0XHRcdFx0XHRyZWZ1c2FsOiBhZGRpdGlvbmFsX2t3YXJncy5yZWZ1c2FsXG5cdFx0XHRcdFx0fV07XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHR5cGVvZiBjb250ZW50ID09PSBcInN0cmluZ1wiIHx8IGNvbnRlbnQubGVuZ3RoID4gMCkgaW5wdXQucHVzaCh7XG5cdFx0XHRcdFx0dHlwZTogXCJtZXNzYWdlXCIsXG5cdFx0XHRcdFx0cm9sZTogXCJhc3Npc3RhbnRcIixcblx0XHRcdFx0XHQuLi5sY01zZy5pZCAmJiAhdGhpcy56ZHJFbmFibGVkICYmIGxjTXNnLmlkLnN0YXJ0c1dpdGgoXCJtc2dfXCIpID8geyBpZDogbGNNc2cuaWQgfSA6IHt9LFxuXHRcdFx0XHRcdGNvbnRlbnQ6IGlpZmUoKCkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKHR5cGVvZiBjb250ZW50ID09PSBcInN0cmluZ1wiKSByZXR1cm4gY29udGVudDtcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZW50LmZsYXRNYXAoKGl0ZW0pID0+IHtcblx0XHRcdFx0XHRcdFx0aWYgKGl0ZW0udHlwZSA9PT0gXCJ0ZXh0XCIpIHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJvdXRwdXRfdGV4dFwiLFxuXHRcdFx0XHRcdFx0XHRcdHRleHQ6IGl0ZW0udGV4dCxcblx0XHRcdFx0XHRcdFx0XHRhbm5vdGF0aW9uczogaXRlbS5hbm5vdGF0aW9ucyA/PyBbXVxuXHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0XHRpZiAoaXRlbS50eXBlID09PSBcIm91dHB1dF90ZXh0XCIgfHwgaXRlbS50eXBlID09PSBcInJlZnVzYWxcIikgcmV0dXJuIGl0ZW07XG5cdFx0XHRcdFx0XHRcdHJldHVybiBbXTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRjb25zdCBmdW5jdGlvbkNhbGxJZHMgPSBhZGRpdGlvbmFsX2t3YXJncz8uW19GVU5DVElPTl9DQUxMX0lEU19NQVBfS0VZXTtcblx0XHRcdFx0aWYgKGlzQUlNZXNzYWdlKGxjTXNnKSAmJiAhIWxjTXNnLnRvb2xfY2FsbHM/Lmxlbmd0aCkgaW5wdXQucHVzaCguLi5sY01zZy50b29sX2NhbGxzLm1hcCgodG9vbENhbGwpID0+IHtcblx0XHRcdFx0XHRpZiAoaXNDdXN0b21Ub29sQ2FsbCh0b29sQ2FsbCkpIHJldHVybiB7XG5cdFx0XHRcdFx0XHR0eXBlOiBcImN1c3RvbV90b29sX2NhbGxcIixcblx0XHRcdFx0XHRcdGlkOiB0b29sQ2FsbC5jYWxsX2lkLFxuXHRcdFx0XHRcdFx0Y2FsbF9pZDogdG9vbENhbGwuaWQgPz8gXCJcIixcblx0XHRcdFx0XHRcdGlucHV0OiB0b29sQ2FsbC5hcmdzLmlucHV0LFxuXHRcdFx0XHRcdFx0bmFtZTogdG9vbENhbGwubmFtZVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdHR5cGU6IFwiZnVuY3Rpb25fY2FsbFwiLFxuXHRcdFx0XHRcdFx0bmFtZTogdG9vbENhbGwubmFtZSxcblx0XHRcdFx0XHRcdGFyZ3VtZW50czogSlNPTi5zdHJpbmdpZnkodG9vbENhbGwuYXJncyksXG5cdFx0XHRcdFx0XHRjYWxsX2lkOiB0b29sQ2FsbC5pZCxcblx0XHRcdFx0XHRcdC4uLnRoaXMuemRyRW5hYmxlZCA/IHsgaWQ6IGZ1bmN0aW9uQ2FsbElkcz8uW3Rvb2xDYWxsLmlkXSB9IDoge31cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9KSk7XG5cdFx0XHRcdGVsc2UgaWYgKGFkZGl0aW9uYWxfa3dhcmdzPy50b29sX2NhbGxzKSBpbnB1dC5wdXNoKC4uLmFkZGl0aW9uYWxfa3dhcmdzLnRvb2xfY2FsbHMubWFwKCh0b29sQ2FsbCkgPT4gKHtcblx0XHRcdFx0XHR0eXBlOiBcImZ1bmN0aW9uX2NhbGxcIixcblx0XHRcdFx0XHRuYW1lOiB0b29sQ2FsbC5mdW5jdGlvbi5uYW1lLFxuXHRcdFx0XHRcdGNhbGxfaWQ6IHRvb2xDYWxsLmlkLFxuXHRcdFx0XHRcdGFyZ3VtZW50czogdG9vbENhbGwuZnVuY3Rpb24uYXJndW1lbnRzLFxuXHRcdFx0XHRcdC4uLnRoaXMuemRyRW5hYmxlZCA/IHsgaWQ6IGZ1bmN0aW9uQ2FsbElkcz8uW3Rvb2xDYWxsLmlkXSB9IDoge31cblx0XHRcdFx0fSkpKTtcblx0XHRcdFx0Y29uc3QgdG9vbE91dHB1dHMgPSAocmVzcG9uc2VNZXRhZGF0YT8ub3V0cHV0KT8ubGVuZ3RoID8gcmVzcG9uc2VNZXRhZGF0YT8ub3V0cHV0IDogYWRkaXRpb25hbF9rd2FyZ3MudG9vbF9vdXRwdXRzO1xuXHRcdFx0XHRjb25zdCBmYWxsdGhyb3VnaENhbGxUeXBlcyA9IFtcblx0XHRcdFx0XHRcImNvbXB1dGVyX2NhbGxcIixcblx0XHRcdFx0XHRcIm1jcF9jYWxsXCIsXG5cdFx0XHRcdFx0XCJjb2RlX2ludGVycHJldGVyX2NhbGxcIixcblx0XHRcdFx0XHRcImltYWdlX2dlbmVyYXRpb25fY2FsbFwiXG5cdFx0XHRcdF07XG5cdFx0XHRcdGlmICh0b29sT3V0cHV0cyAhPSBudWxsKSB7XG5cdFx0XHRcdFx0Y29uc3QgY2FzdFRvb2xPdXRwdXRzID0gdG9vbE91dHB1dHM7XG5cdFx0XHRcdFx0Y29uc3QgZmFsbHRocm91Z2hDYWxscyA9IGNhc3RUb29sT3V0cHV0cz8uZmlsdGVyKChpdGVtKSA9PiBmYWxsdGhyb3VnaENhbGxUeXBlcy5pbmNsdWRlcyhpdGVtLnR5cGUpKTtcblx0XHRcdFx0XHRpZiAoZmFsbHRocm91Z2hDYWxscy5sZW5ndGggPiAwKSBpbnB1dC5wdXNoKC4uLmZhbGx0aHJvdWdoQ2FsbHMpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBpbnB1dDtcblx0XHRcdH1cblx0XHRcdGlmIChyb2xlID09PSBcInVzZXJcIiB8fCByb2xlID09PSBcInN5c3RlbVwiIHx8IHJvbGUgPT09IFwiZGV2ZWxvcGVyXCIpIHtcblx0XHRcdFx0aWYgKHR5cGVvZiBsY01zZy5jb250ZW50ID09PSBcInN0cmluZ1wiKSByZXR1cm4ge1xuXHRcdFx0XHRcdHR5cGU6IFwibWVzc2FnZVwiLFxuXHRcdFx0XHRcdHJvbGUsXG5cdFx0XHRcdFx0Y29udGVudDogbGNNc2cuY29udGVudFxuXHRcdFx0XHR9O1xuXHRcdFx0XHRjb25zdCBtZXNzYWdlcyQxID0gW107XG5cdFx0XHRcdGNvbnN0IGNvbnRlbnQgPSBsY01zZy5jb250ZW50LmZsYXRNYXAoKGl0ZW0pID0+IHtcblx0XHRcdFx0XHRpZiAoaXRlbS50eXBlID09PSBcIm1jcF9hcHByb3ZhbF9yZXNwb25zZVwiKSBtZXNzYWdlcyQxLnB1c2goe1xuXHRcdFx0XHRcdFx0dHlwZTogXCJtY3BfYXBwcm92YWxfcmVzcG9uc2VcIixcblx0XHRcdFx0XHRcdGFwcHJvdmFsX3JlcXVlc3RfaWQ6IGl0ZW0uYXBwcm92YWxfcmVxdWVzdF9pZCxcblx0XHRcdFx0XHRcdGFwcHJvdmU6IGl0ZW0uYXBwcm92ZVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdGlmIChpc0RhdGFDb250ZW50QmxvY2soaXRlbSkpIHJldHVybiBjb252ZXJ0VG9Qcm92aWRlckNvbnRlbnRCbG9jayhpdGVtLCBjb21wbGV0aW9uc0FwaUNvbnRlbnRCbG9ja0NvbnZlcnRlcik7XG5cdFx0XHRcdFx0aWYgKGl0ZW0udHlwZSA9PT0gXCJ0ZXh0XCIpIHJldHVybiB7XG5cdFx0XHRcdFx0XHR0eXBlOiBcImlucHV0X3RleHRcIixcblx0XHRcdFx0XHRcdHRleHQ6IGl0ZW0udGV4dFxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0aWYgKGl0ZW0udHlwZSA9PT0gXCJpbWFnZV91cmxcIikge1xuXHRcdFx0XHRcdFx0Y29uc3QgaW1hZ2VVcmwgPSBpaWZlKCgpID0+IHtcblx0XHRcdFx0XHRcdFx0aWYgKHR5cGVvZiBpdGVtLmltYWdlX3VybCA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIGl0ZW0uaW1hZ2VfdXJsO1xuXHRcdFx0XHRcdFx0XHRlbHNlIGlmICh0eXBlb2YgaXRlbS5pbWFnZV91cmwgPT09IFwib2JqZWN0XCIgJiYgaXRlbS5pbWFnZV91cmwgIT09IG51bGwgJiYgXCJ1cmxcIiBpbiBpdGVtLmltYWdlX3VybCkgcmV0dXJuIGl0ZW0uaW1hZ2VfdXJsLnVybDtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHZvaWQgMDtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0Y29uc3QgZGV0YWlsID0gaWlmZSgoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGlmICh0eXBlb2YgaXRlbS5pbWFnZV91cmwgPT09IFwic3RyaW5nXCIpIHJldHVybiBcImF1dG9cIjtcblx0XHRcdFx0XHRcdFx0ZWxzZSBpZiAodHlwZW9mIGl0ZW0uaW1hZ2VfdXJsID09PSBcIm9iamVjdFwiICYmIGl0ZW0uaW1hZ2VfdXJsICE9PSBudWxsICYmIFwiZGV0YWlsXCIgaW4gaXRlbS5pbWFnZV91cmwpIHJldHVybiBpdGVtLmltYWdlX3VybC5kZXRhaWw7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB2b2lkIDA7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdHR5cGU6IFwiaW5wdXRfaW1hZ2VcIixcblx0XHRcdFx0XHRcdFx0aW1hZ2VfdXJsOiBpbWFnZVVybCxcblx0XHRcdFx0XHRcdFx0ZGV0YWlsXG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoaXRlbS50eXBlID09PSBcImlucHV0X3RleHRcIiB8fCBpdGVtLnR5cGUgPT09IFwiaW5wdXRfaW1hZ2VcIiB8fCBpdGVtLnR5cGUgPT09IFwiaW5wdXRfZmlsZVwiKSByZXR1cm4gaXRlbTtcblx0XHRcdFx0XHRyZXR1cm4gW107XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRpZiAoY29udGVudC5sZW5ndGggPiAwKSBtZXNzYWdlcyQxLnB1c2goe1xuXHRcdFx0XHRcdHR5cGU6IFwibWVzc2FnZVwiLFxuXHRcdFx0XHRcdHJvbGUsXG5cdFx0XHRcdFx0Y29udGVudFxuXHRcdFx0XHR9KTtcblx0XHRcdFx0cmV0dXJuIG1lc3NhZ2VzJDE7XG5cdFx0XHR9XG5cdFx0XHRjb25zb2xlLndhcm4oYFVuc3VwcG9ydGVkIHJvbGUgZm91bmQgd2hlbiBjb252ZXJ0aW5nIHRvIE9wZW5BSSBSZXNwb25zZXMgQVBJOiAke3JvbGV9YCk7XG5cdFx0XHRyZXR1cm4gW107XG5cdFx0fSk7XG5cdH1cblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRfY29udmVydFJlYXNvbmluZ1N1bW1hcnkocmVhc29uaW5nKSB7XG5cdFx0Y29uc3Qgc3VtbWFyeSA9IChyZWFzb25pbmcuc3VtbWFyeS5sZW5ndGggPiAxID8gcmVhc29uaW5nLnN1bW1hcnkucmVkdWNlKChhY2MsIGN1cnIpID0+IHtcblx0XHRcdGNvbnN0IGxhc3QgPSBhY2NbYWNjLmxlbmd0aCAtIDFdO1xuXHRcdFx0aWYgKGxhc3QuaW5kZXggPT09IGN1cnIuaW5kZXgpIGxhc3QudGV4dCArPSBjdXJyLnRleHQ7XG5cdFx0XHRlbHNlIGFjYy5wdXNoKGN1cnIpO1xuXHRcdFx0cmV0dXJuIGFjYztcblx0XHR9LCBbeyAuLi5yZWFzb25pbmcuc3VtbWFyeVswXSB9XSkgOiByZWFzb25pbmcuc3VtbWFyeSkubWFwKChzKSA9PiBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMocykuZmlsdGVyKChba10pID0+IGsgIT09IFwiaW5kZXhcIikpKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Li4ucmVhc29uaW5nLFxuXHRcdFx0c3VtbWFyeVxuXHRcdH07XG5cdH1cblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRfcmVkdWNlQ2hhdE9wZW5BSVRvb2xzKHRvb2xzLCBmaWVsZHMpIHtcblx0XHRjb25zdCByZWR1Y2VkVG9vbHMgPSBbXTtcblx0XHRmb3IgKGNvbnN0IHRvb2wgb2YgdG9vbHMpIGlmIChpc0J1aWx0SW5Ub29sKHRvb2wpKSB7XG5cdFx0XHRpZiAodG9vbC50eXBlID09PSBcImltYWdlX2dlbmVyYXRpb25cIiAmJiBmaWVsZHM/LnN0cmVhbSkgdG9vbC5wYXJ0aWFsX2ltYWdlcyA9IDE7XG5cdFx0XHRyZWR1Y2VkVG9vbHMucHVzaCh0b29sKTtcblx0XHR9IGVsc2UgaWYgKGlzQ3VzdG9tVG9vbCh0b29sKSkge1xuXHRcdFx0Y29uc3QgY3VzdG9tVG9vbERhdGEgPSB0b29sLm1ldGFkYXRhLmN1c3RvbVRvb2w7XG5cdFx0XHRyZWR1Y2VkVG9vbHMucHVzaCh7XG5cdFx0XHRcdHR5cGU6IFwiY3VzdG9tXCIsXG5cdFx0XHRcdG5hbWU6IGN1c3RvbVRvb2xEYXRhLm5hbWUsXG5cdFx0XHRcdGRlc2NyaXB0aW9uOiBjdXN0b21Ub29sRGF0YS5kZXNjcmlwdGlvbixcblx0XHRcdFx0Zm9ybWF0OiBjdXN0b21Ub29sRGF0YS5mb3JtYXRcblx0XHRcdH0pO1xuXHRcdH0gZWxzZSBpZiAoaXNPcGVuQUlUb29sKHRvb2wpKSByZWR1Y2VkVG9vbHMucHVzaCh7XG5cdFx0XHR0eXBlOiBcImZ1bmN0aW9uXCIsXG5cdFx0XHRuYW1lOiB0b29sLmZ1bmN0aW9uLm5hbWUsXG5cdFx0XHRwYXJhbWV0ZXJzOiB0b29sLmZ1bmN0aW9uLnBhcmFtZXRlcnMsXG5cdFx0XHRkZXNjcmlwdGlvbjogdG9vbC5mdW5jdGlvbi5kZXNjcmlwdGlvbixcblx0XHRcdHN0cmljdDogZmllbGRzPy5zdHJpY3QgPz8gbnVsbFxuXHRcdH0pO1xuXHRcdGVsc2UgaWYgKGlzT3BlbkFJQ3VzdG9tVG9vbCh0b29sKSkgcmVkdWNlZFRvb2xzLnB1c2goY29udmVydENvbXBsZXRpb25zQ3VzdG9tVG9vbCh0b29sKSk7XG5cdFx0cmV0dXJuIHJlZHVjZWRUb29scztcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBDaGF0T3BlbkFJUmVzcG9uc2VzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXNwb25zZXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/chat_models/responses.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/embeddings.js":
/*!***************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/embeddings.js ***!
  \***************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OpenAIEmbeddings: () => (/* binding */ OpenAIEmbeddings)\n/* harmony export */ });\n/* harmony import */ var _utils_azure_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/azure.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/azure.js\");\n/* harmony import */ var _utils_client_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/client.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/client.js\");\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! openai */ \"(rsc)/./node_modules/.pnpm/openai@6.7.0_ws@8.18.3_zod@3.25.76/node_modules/openai/index.mjs\");\n/* harmony import */ var _langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @langchain/core/utils/env */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/env.js\");\n/* harmony import */ var _langchain_core_utils_chunk_array__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @langchain/core/utils/chunk_array */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/chunk_array.js\");\n/* harmony import */ var _langchain_core_embeddings__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @langchain/core/embeddings */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/embeddings.js\");\n\n\n\n\n\n\n\n//#region src/embeddings.ts\n/**\n* Class for generating embeddings using the OpenAI API.\n*\n* To use with Azure, import the `AzureOpenAIEmbeddings` class.\n*\n* @example\n* ```typescript\n* // Embed a query using OpenAIEmbeddings to generate embeddings for a given text\n* const model = new OpenAIEmbeddings();\n* const res = await model.embedQuery(\n*   \"What would be a good company name for a company that makes colorful socks?\",\n* );\n* console.log({ res });\n*\n* ```\n*/\nvar OpenAIEmbeddings = class extends _langchain_core_embeddings__WEBPACK_IMPORTED_MODULE_5__.Embeddings {\n\tmodel = \"text-embedding-ada-002\";\n\t/** @deprecated Use \"model\" instead */\n\tmodelName;\n\tbatchSize = 512;\n\tstripNewLines = true;\n\t/**\n\t* The number of dimensions the resulting output embeddings should have.\n\t* Only supported in `text-embedding-3` and later models.\n\t*/\n\tdimensions;\n\ttimeout;\n\torganization;\n\tencodingFormat;\n\tclient;\n\tclientConfig;\n\tconstructor(fields) {\n\t\tconst fieldsWithDefaults = {\n\t\t\tmaxConcurrency: 2,\n\t\t\t...fields\n\t\t};\n\t\tsuper(fieldsWithDefaults);\n\t\tconst apiKey = fieldsWithDefaults?.apiKey ?? fieldsWithDefaults?.openAIApiKey ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_3__.getEnvironmentVariable)(\"OPENAI_API_KEY\");\n\t\tthis.organization = fieldsWithDefaults?.configuration?.organization ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_3__.getEnvironmentVariable)(\"OPENAI_ORGANIZATION\");\n\t\tthis.model = fieldsWithDefaults?.model ?? fieldsWithDefaults?.modelName ?? this.model;\n\t\tthis.modelName = this.model;\n\t\tthis.batchSize = fieldsWithDefaults?.batchSize ?? this.batchSize;\n\t\tthis.stripNewLines = fieldsWithDefaults?.stripNewLines ?? this.stripNewLines;\n\t\tthis.timeout = fieldsWithDefaults?.timeout;\n\t\tthis.dimensions = fieldsWithDefaults?.dimensions;\n\t\tthis.encodingFormat = fieldsWithDefaults?.encodingFormat;\n\t\tthis.clientConfig = {\n\t\t\tapiKey,\n\t\t\torganization: this.organization,\n\t\t\tdangerouslyAllowBrowser: true,\n\t\t\t...fields?.configuration\n\t\t};\n\t}\n\t/**\n\t* Method to generate embeddings for an array of documents. Splits the\n\t* documents into batches and makes requests to the OpenAI API to generate\n\t* embeddings.\n\t* @param texts Array of documents to generate embeddings for.\n\t* @returns Promise that resolves to a 2D array of embeddings for each document.\n\t*/\n\tasync embedDocuments(texts) {\n\t\tconst batches = (0,_langchain_core_utils_chunk_array__WEBPACK_IMPORTED_MODULE_4__.chunkArray)(this.stripNewLines ? texts.map((t) => t.replace(/\\n/g, \" \")) : texts, this.batchSize);\n\t\tconst batchRequests = batches.map((batch) => {\n\t\t\tconst params = {\n\t\t\t\tmodel: this.model,\n\t\t\t\tinput: batch\n\t\t\t};\n\t\t\tif (this.dimensions) params.dimensions = this.dimensions;\n\t\t\tif (this.encodingFormat) params.encoding_format = this.encodingFormat;\n\t\t\treturn this.embeddingWithRetry(params);\n\t\t});\n\t\tconst batchResponses = await Promise.all(batchRequests);\n\t\tconst embeddings = [];\n\t\tfor (let i = 0; i < batchResponses.length; i += 1) {\n\t\t\tconst batch = batches[i];\n\t\t\tconst { data: batchResponse } = batchResponses[i];\n\t\t\tfor (let j = 0; j < batch.length; j += 1) embeddings.push(batchResponse[j].embedding);\n\t\t}\n\t\treturn embeddings;\n\t}\n\t/**\n\t* Method to generate an embedding for a single document. Calls the\n\t* embeddingWithRetry method with the document as the input.\n\t* @param text Document to generate an embedding for.\n\t* @returns Promise that resolves to an embedding for the document.\n\t*/\n\tasync embedQuery(text) {\n\t\tconst params = {\n\t\t\tmodel: this.model,\n\t\t\tinput: this.stripNewLines ? text.replace(/\\n/g, \" \") : text\n\t\t};\n\t\tif (this.dimensions) params.dimensions = this.dimensions;\n\t\tif (this.encodingFormat) params.encoding_format = this.encodingFormat;\n\t\tconst { data } = await this.embeddingWithRetry(params);\n\t\treturn data[0].embedding;\n\t}\n\t/**\n\t* Private method to make a request to the OpenAI API to generate\n\t* embeddings. Handles the retry logic and returns the response from the\n\t* API.\n\t* @param request Request to send to the OpenAI API.\n\t* @returns Promise that resolves to the response from the API.\n\t*/\n\tasync embeddingWithRetry(request) {\n\t\tif (!this.client) {\n\t\t\tconst openAIEndpointConfig = { baseURL: this.clientConfig.baseURL };\n\t\t\tconst endpoint = (0,_utils_azure_js__WEBPACK_IMPORTED_MODULE_0__.getEndpoint)(openAIEndpointConfig);\n\t\t\tconst params = {\n\t\t\t\t...this.clientConfig,\n\t\t\t\tbaseURL: endpoint,\n\t\t\t\ttimeout: this.timeout,\n\t\t\t\tmaxRetries: 0\n\t\t\t};\n\t\t\tif (!params.baseURL) delete params.baseURL;\n\t\t\tthis.client = new openai__WEBPACK_IMPORTED_MODULE_2__.OpenAI(params);\n\t\t}\n\t\tconst requestOptions = {};\n\t\treturn this.caller.call(async () => {\n\t\t\ttry {\n\t\t\t\tconst res = await this.client.embeddings.create(request, requestOptions);\n\t\t\t\treturn res;\n\t\t\t} catch (e) {\n\t\t\t\tconst error = (0,_utils_client_js__WEBPACK_IMPORTED_MODULE_1__.wrapOpenAIClientError)(e);\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t});\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=embeddings.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvcGVuYWlAMS4wLjBfQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfX193c0A4LjE4LjMvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvZW1iZWRkaW5ncy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQStDO0FBQ1c7QUFDZDtBQUN1QjtBQUNKO0FBQ1A7O0FBRXhEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLEtBQUs7QUFDckI7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLGtFQUFVO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1GQUFtRixpRkFBc0I7QUFDekcseUVBQXlFLGlGQUFzQjtBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiw2RUFBVTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxrQkFBa0IsMkJBQTJCO0FBQzdDO0FBQ0EsV0FBVyxzQkFBc0I7QUFDakMsbUJBQW1CLGtCQUFrQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsT0FBTztBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDLG9CQUFvQiw0REFBVztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiwwQ0FBUTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsa0JBQWtCLHVFQUFxQjtBQUN2QztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDNEI7QUFDNUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK29wZW5haUAxLjAuMF9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl9fX3dzQDguMTguMy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9vcGVuYWkvZGlzdC9lbWJlZGRpbmdzLmpzPzJmY2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0RW5kcG9pbnQgfSBmcm9tIFwiLi91dGlscy9henVyZS5qc1wiO1xuaW1wb3J0IHsgd3JhcE9wZW5BSUNsaWVudEVycm9yIH0gZnJvbSBcIi4vdXRpbHMvY2xpZW50LmpzXCI7XG5pbXBvcnQgeyBPcGVuQUkgYXMgT3BlbkFJJDEgfSBmcm9tIFwib3BlbmFpXCI7XG5pbXBvcnQgeyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS91dGlscy9lbnZcIjtcbmltcG9ydCB7IGNodW5rQXJyYXkgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3V0aWxzL2NodW5rX2FycmF5XCI7XG5pbXBvcnQgeyBFbWJlZGRpbmdzIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9lbWJlZGRpbmdzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvZW1iZWRkaW5ncy50c1xuLyoqXG4qIENsYXNzIGZvciBnZW5lcmF0aW5nIGVtYmVkZGluZ3MgdXNpbmcgdGhlIE9wZW5BSSBBUEkuXG4qXG4qIFRvIHVzZSB3aXRoIEF6dXJlLCBpbXBvcnQgdGhlIGBBenVyZU9wZW5BSUVtYmVkZGluZ3NgIGNsYXNzLlxuKlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIC8vIEVtYmVkIGEgcXVlcnkgdXNpbmcgT3BlbkFJRW1iZWRkaW5ncyB0byBnZW5lcmF0ZSBlbWJlZGRpbmdzIGZvciBhIGdpdmVuIHRleHRcbiogY29uc3QgbW9kZWwgPSBuZXcgT3BlbkFJRW1iZWRkaW5ncygpO1xuKiBjb25zdCByZXMgPSBhd2FpdCBtb2RlbC5lbWJlZFF1ZXJ5KFxuKiAgIFwiV2hhdCB3b3VsZCBiZSBhIGdvb2QgY29tcGFueSBuYW1lIGZvciBhIGNvbXBhbnkgdGhhdCBtYWtlcyBjb2xvcmZ1bCBzb2Nrcz9cIixcbiogKTtcbiogY29uc29sZS5sb2coeyByZXMgfSk7XG4qXG4qIGBgYFxuKi9cbnZhciBPcGVuQUlFbWJlZGRpbmdzID0gY2xhc3MgZXh0ZW5kcyBFbWJlZGRpbmdzIHtcblx0bW9kZWwgPSBcInRleHQtZW1iZWRkaW5nLWFkYS0wMDJcIjtcblx0LyoqIEBkZXByZWNhdGVkIFVzZSBcIm1vZGVsXCIgaW5zdGVhZCAqL1xuXHRtb2RlbE5hbWU7XG5cdGJhdGNoU2l6ZSA9IDUxMjtcblx0c3RyaXBOZXdMaW5lcyA9IHRydWU7XG5cdC8qKlxuXHQqIFRoZSBudW1iZXIgb2YgZGltZW5zaW9ucyB0aGUgcmVzdWx0aW5nIG91dHB1dCBlbWJlZGRpbmdzIHNob3VsZCBoYXZlLlxuXHQqIE9ubHkgc3VwcG9ydGVkIGluIGB0ZXh0LWVtYmVkZGluZy0zYCBhbmQgbGF0ZXIgbW9kZWxzLlxuXHQqL1xuXHRkaW1lbnNpb25zO1xuXHR0aW1lb3V0O1xuXHRvcmdhbml6YXRpb247XG5cdGVuY29kaW5nRm9ybWF0O1xuXHRjbGllbnQ7XG5cdGNsaWVudENvbmZpZztcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0Y29uc3QgZmllbGRzV2l0aERlZmF1bHRzID0ge1xuXHRcdFx0bWF4Q29uY3VycmVuY3k6IDIsXG5cdFx0XHQuLi5maWVsZHNcblx0XHR9O1xuXHRcdHN1cGVyKGZpZWxkc1dpdGhEZWZhdWx0cyk7XG5cdFx0Y29uc3QgYXBpS2V5ID0gZmllbGRzV2l0aERlZmF1bHRzPy5hcGlLZXkgPz8gZmllbGRzV2l0aERlZmF1bHRzPy5vcGVuQUlBcGlLZXkgPz8gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIk9QRU5BSV9BUElfS0VZXCIpO1xuXHRcdHRoaXMub3JnYW5pemF0aW9uID0gZmllbGRzV2l0aERlZmF1bHRzPy5jb25maWd1cmF0aW9uPy5vcmdhbml6YXRpb24gPz8gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIk9QRU5BSV9PUkdBTklaQVRJT05cIik7XG5cdFx0dGhpcy5tb2RlbCA9IGZpZWxkc1dpdGhEZWZhdWx0cz8ubW9kZWwgPz8gZmllbGRzV2l0aERlZmF1bHRzPy5tb2RlbE5hbWUgPz8gdGhpcy5tb2RlbDtcblx0XHR0aGlzLm1vZGVsTmFtZSA9IHRoaXMubW9kZWw7XG5cdFx0dGhpcy5iYXRjaFNpemUgPSBmaWVsZHNXaXRoRGVmYXVsdHM/LmJhdGNoU2l6ZSA/PyB0aGlzLmJhdGNoU2l6ZTtcblx0XHR0aGlzLnN0cmlwTmV3TGluZXMgPSBmaWVsZHNXaXRoRGVmYXVsdHM/LnN0cmlwTmV3TGluZXMgPz8gdGhpcy5zdHJpcE5ld0xpbmVzO1xuXHRcdHRoaXMudGltZW91dCA9IGZpZWxkc1dpdGhEZWZhdWx0cz8udGltZW91dDtcblx0XHR0aGlzLmRpbWVuc2lvbnMgPSBmaWVsZHNXaXRoRGVmYXVsdHM/LmRpbWVuc2lvbnM7XG5cdFx0dGhpcy5lbmNvZGluZ0Zvcm1hdCA9IGZpZWxkc1dpdGhEZWZhdWx0cz8uZW5jb2RpbmdGb3JtYXQ7XG5cdFx0dGhpcy5jbGllbnRDb25maWcgPSB7XG5cdFx0XHRhcGlLZXksXG5cdFx0XHRvcmdhbml6YXRpb246IHRoaXMub3JnYW5pemF0aW9uLFxuXHRcdFx0ZGFuZ2Vyb3VzbHlBbGxvd0Jyb3dzZXI6IHRydWUsXG5cdFx0XHQuLi5maWVsZHM/LmNvbmZpZ3VyYXRpb25cblx0XHR9O1xuXHR9XG5cdC8qKlxuXHQqIE1ldGhvZCB0byBnZW5lcmF0ZSBlbWJlZGRpbmdzIGZvciBhbiBhcnJheSBvZiBkb2N1bWVudHMuIFNwbGl0cyB0aGVcblx0KiBkb2N1bWVudHMgaW50byBiYXRjaGVzIGFuZCBtYWtlcyByZXF1ZXN0cyB0byB0aGUgT3BlbkFJIEFQSSB0byBnZW5lcmF0ZVxuXHQqIGVtYmVkZGluZ3MuXG5cdCogQHBhcmFtIHRleHRzIEFycmF5IG9mIGRvY3VtZW50cyB0byBnZW5lcmF0ZSBlbWJlZGRpbmdzIGZvci5cblx0KiBAcmV0dXJucyBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYSAyRCBhcnJheSBvZiBlbWJlZGRpbmdzIGZvciBlYWNoIGRvY3VtZW50LlxuXHQqL1xuXHRhc3luYyBlbWJlZERvY3VtZW50cyh0ZXh0cykge1xuXHRcdGNvbnN0IGJhdGNoZXMgPSBjaHVua0FycmF5KHRoaXMuc3RyaXBOZXdMaW5lcyA/IHRleHRzLm1hcCgodCkgPT4gdC5yZXBsYWNlKC9cXG4vZywgXCIgXCIpKSA6IHRleHRzLCB0aGlzLmJhdGNoU2l6ZSk7XG5cdFx0Y29uc3QgYmF0Y2hSZXF1ZXN0cyA9IGJhdGNoZXMubWFwKChiYXRjaCkgPT4ge1xuXHRcdFx0Y29uc3QgcGFyYW1zID0ge1xuXHRcdFx0XHRtb2RlbDogdGhpcy5tb2RlbCxcblx0XHRcdFx0aW5wdXQ6IGJhdGNoXG5cdFx0XHR9O1xuXHRcdFx0aWYgKHRoaXMuZGltZW5zaW9ucykgcGFyYW1zLmRpbWVuc2lvbnMgPSB0aGlzLmRpbWVuc2lvbnM7XG5cdFx0XHRpZiAodGhpcy5lbmNvZGluZ0Zvcm1hdCkgcGFyYW1zLmVuY29kaW5nX2Zvcm1hdCA9IHRoaXMuZW5jb2RpbmdGb3JtYXQ7XG5cdFx0XHRyZXR1cm4gdGhpcy5lbWJlZGRpbmdXaXRoUmV0cnkocGFyYW1zKTtcblx0XHR9KTtcblx0XHRjb25zdCBiYXRjaFJlc3BvbnNlcyA9IGF3YWl0IFByb21pc2UuYWxsKGJhdGNoUmVxdWVzdHMpO1xuXHRcdGNvbnN0IGVtYmVkZGluZ3MgPSBbXTtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGJhdGNoUmVzcG9uc2VzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRjb25zdCBiYXRjaCA9IGJhdGNoZXNbaV07XG5cdFx0XHRjb25zdCB7IGRhdGE6IGJhdGNoUmVzcG9uc2UgfSA9IGJhdGNoUmVzcG9uc2VzW2ldO1xuXHRcdFx0Zm9yIChsZXQgaiA9IDA7IGogPCBiYXRjaC5sZW5ndGg7IGogKz0gMSkgZW1iZWRkaW5ncy5wdXNoKGJhdGNoUmVzcG9uc2Vbal0uZW1iZWRkaW5nKTtcblx0XHR9XG5cdFx0cmV0dXJuIGVtYmVkZGluZ3M7XG5cdH1cblx0LyoqXG5cdCogTWV0aG9kIHRvIGdlbmVyYXRlIGFuIGVtYmVkZGluZyBmb3IgYSBzaW5nbGUgZG9jdW1lbnQuIENhbGxzIHRoZVxuXHQqIGVtYmVkZGluZ1dpdGhSZXRyeSBtZXRob2Qgd2l0aCB0aGUgZG9jdW1lbnQgYXMgdGhlIGlucHV0LlxuXHQqIEBwYXJhbSB0ZXh0IERvY3VtZW50IHRvIGdlbmVyYXRlIGFuIGVtYmVkZGluZyBmb3IuXG5cdCogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGFuIGVtYmVkZGluZyBmb3IgdGhlIGRvY3VtZW50LlxuXHQqL1xuXHRhc3luYyBlbWJlZFF1ZXJ5KHRleHQpIHtcblx0XHRjb25zdCBwYXJhbXMgPSB7XG5cdFx0XHRtb2RlbDogdGhpcy5tb2RlbCxcblx0XHRcdGlucHV0OiB0aGlzLnN0cmlwTmV3TGluZXMgPyB0ZXh0LnJlcGxhY2UoL1xcbi9nLCBcIiBcIikgOiB0ZXh0XG5cdFx0fTtcblx0XHRpZiAodGhpcy5kaW1lbnNpb25zKSBwYXJhbXMuZGltZW5zaW9ucyA9IHRoaXMuZGltZW5zaW9ucztcblx0XHRpZiAodGhpcy5lbmNvZGluZ0Zvcm1hdCkgcGFyYW1zLmVuY29kaW5nX2Zvcm1hdCA9IHRoaXMuZW5jb2RpbmdGb3JtYXQ7XG5cdFx0Y29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmVtYmVkZGluZ1dpdGhSZXRyeShwYXJhbXMpO1xuXHRcdHJldHVybiBkYXRhWzBdLmVtYmVkZGluZztcblx0fVxuXHQvKipcblx0KiBQcml2YXRlIG1ldGhvZCB0byBtYWtlIGEgcmVxdWVzdCB0byB0aGUgT3BlbkFJIEFQSSB0byBnZW5lcmF0ZVxuXHQqIGVtYmVkZGluZ3MuIEhhbmRsZXMgdGhlIHJldHJ5IGxvZ2ljIGFuZCByZXR1cm5zIHRoZSByZXNwb25zZSBmcm9tIHRoZVxuXHQqIEFQSS5cblx0KiBAcGFyYW0gcmVxdWVzdCBSZXF1ZXN0IHRvIHNlbmQgdG8gdGhlIE9wZW5BSSBBUEkuXG5cdCogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSByZXNwb25zZSBmcm9tIHRoZSBBUEkuXG5cdCovXG5cdGFzeW5jIGVtYmVkZGluZ1dpdGhSZXRyeShyZXF1ZXN0KSB7XG5cdFx0aWYgKCF0aGlzLmNsaWVudCkge1xuXHRcdFx0Y29uc3Qgb3BlbkFJRW5kcG9pbnRDb25maWcgPSB7IGJhc2VVUkw6IHRoaXMuY2xpZW50Q29uZmlnLmJhc2VVUkwgfTtcblx0XHRcdGNvbnN0IGVuZHBvaW50ID0gZ2V0RW5kcG9pbnQob3BlbkFJRW5kcG9pbnRDb25maWcpO1xuXHRcdFx0Y29uc3QgcGFyYW1zID0ge1xuXHRcdFx0XHQuLi50aGlzLmNsaWVudENvbmZpZyxcblx0XHRcdFx0YmFzZVVSTDogZW5kcG9pbnQsXG5cdFx0XHRcdHRpbWVvdXQ6IHRoaXMudGltZW91dCxcblx0XHRcdFx0bWF4UmV0cmllczogMFxuXHRcdFx0fTtcblx0XHRcdGlmICghcGFyYW1zLmJhc2VVUkwpIGRlbGV0ZSBwYXJhbXMuYmFzZVVSTDtcblx0XHRcdHRoaXMuY2xpZW50ID0gbmV3IE9wZW5BSSQxKHBhcmFtcyk7XG5cdFx0fVxuXHRcdGNvbnN0IHJlcXVlc3RPcHRpb25zID0ge307XG5cdFx0cmV0dXJuIHRoaXMuY2FsbGVyLmNhbGwoYXN5bmMgKCkgPT4ge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuZW1iZWRkaW5ncy5jcmVhdGUocmVxdWVzdCwgcmVxdWVzdE9wdGlvbnMpO1xuXHRcdFx0XHRyZXR1cm4gcmVzO1xuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRjb25zdCBlcnJvciA9IHdyYXBPcGVuQUlDbGllbnRFcnJvcihlKTtcblx0XHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgT3BlbkFJRW1iZWRkaW5ncyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW1iZWRkaW5ncy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/embeddings.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/index.js":
/*!**********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/index.js ***!
  \**********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AzureChatOpenAI: () => (/* reexport safe */ _azure_chat_models_index_js__WEBPACK_IMPORTED_MODULE_10__.AzureChatOpenAI),\n/* harmony export */   AzureChatOpenAICompletions: () => (/* reexport safe */ _azure_chat_models_completions_js__WEBPACK_IMPORTED_MODULE_8__.AzureChatOpenAICompletions),\n/* harmony export */   AzureChatOpenAIResponses: () => (/* reexport safe */ _azure_chat_models_responses_js__WEBPACK_IMPORTED_MODULE_9__.AzureChatOpenAIResponses),\n/* harmony export */   AzureOpenAI: () => (/* reexport safe */ _azure_llms_js__WEBPACK_IMPORTED_MODULE_12__.AzureOpenAI),\n/* harmony export */   AzureOpenAIEmbeddings: () => (/* reexport safe */ _azure_embeddings_js__WEBPACK_IMPORTED_MODULE_14__.AzureOpenAIEmbeddings),\n/* harmony export */   BaseChatOpenAI: () => (/* reexport safe */ _chat_models_base_js__WEBPACK_IMPORTED_MODULE_2__.BaseChatOpenAI),\n/* harmony export */   ChatOpenAI: () => (/* reexport safe */ _chat_models_index_js__WEBPACK_IMPORTED_MODULE_7__.ChatOpenAI),\n/* harmony export */   ChatOpenAICompletions: () => (/* reexport safe */ _chat_models_completions_js__WEBPACK_IMPORTED_MODULE_6__.ChatOpenAICompletions),\n/* harmony export */   ChatOpenAIResponses: () => (/* reexport safe */ _chat_models_responses_js__WEBPACK_IMPORTED_MODULE_5__.ChatOpenAIResponses),\n/* harmony export */   DallEAPIWrapper: () => (/* reexport safe */ _tools_dalle_js__WEBPACK_IMPORTED_MODULE_15__.DallEAPIWrapper),\n/* harmony export */   OpenAI: () => (/* reexport safe */ _llms_js__WEBPACK_IMPORTED_MODULE_11__.OpenAI),\n/* harmony export */   OpenAIClient: () => (/* reexport safe */ openai__WEBPACK_IMPORTED_MODULE_19__.OpenAI),\n/* harmony export */   OpenAIEmbeddings: () => (/* reexport safe */ _embeddings_js__WEBPACK_IMPORTED_MODULE_13__.OpenAIEmbeddings),\n/* harmony export */   _convertMessagesToOpenAIParams: () => (/* reexport safe */ _utils_message_inputs_js__WEBPACK_IMPORTED_MODULE_4__._convertMessagesToOpenAIParams),\n/* harmony export */   convertPromptToOpenAI: () => (/* reexport safe */ _utils_prompts_js__WEBPACK_IMPORTED_MODULE_18__.convertPromptToOpenAI),\n/* harmony export */   customTool: () => (/* reexport safe */ _tools_custom_js__WEBPACK_IMPORTED_MODULE_17__.customTool),\n/* harmony export */   getEndpoint: () => (/* reexport safe */ _utils_azure_js__WEBPACK_IMPORTED_MODULE_1__.getEndpoint),\n/* harmony export */   isHeaders: () => (/* reexport safe */ _utils_azure_js__WEBPACK_IMPORTED_MODULE_1__.isHeaders),\n/* harmony export */   messageToOpenAIRole: () => (/* reexport safe */ _utils_misc_js__WEBPACK_IMPORTED_MODULE_0__.messageToOpenAIRole),\n/* harmony export */   normalizeHeaders: () => (/* reexport safe */ _utils_azure_js__WEBPACK_IMPORTED_MODULE_1__.normalizeHeaders),\n/* harmony export */   toFile: () => (/* reexport safe */ openai__WEBPACK_IMPORTED_MODULE_19__.toFile),\n/* harmony export */   wrapOpenAIClientError: () => (/* reexport safe */ _utils_client_js__WEBPACK_IMPORTED_MODULE_3__.wrapOpenAIClientError)\n/* harmony export */ });\n/* harmony import */ var _utils_misc_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/misc.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/misc.js\");\n/* harmony import */ var _utils_azure_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/azure.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/azure.js\");\n/* harmony import */ var _chat_models_base_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chat_models/base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/chat_models/base.js\");\n/* harmony import */ var _utils_client_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/client.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/client.js\");\n/* harmony import */ var _utils_message_inputs_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils/message_inputs.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/message_inputs.js\");\n/* harmony import */ var _chat_models_responses_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chat_models/responses.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/chat_models/responses.js\");\n/* harmony import */ var _chat_models_completions_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./chat_models/completions.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/chat_models/completions.js\");\n/* harmony import */ var _chat_models_index_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./chat_models/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/chat_models/index.js\");\n/* harmony import */ var _azure_chat_models_completions_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./azure/chat_models/completions.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/azure/chat_models/completions.js\");\n/* harmony import */ var _azure_chat_models_responses_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./azure/chat_models/responses.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/azure/chat_models/responses.js\");\n/* harmony import */ var _azure_chat_models_index_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./azure/chat_models/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/azure/chat_models/index.js\");\n/* harmony import */ var _llms_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./llms.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/llms.js\");\n/* harmony import */ var _azure_llms_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./azure/llms.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/azure/llms.js\");\n/* harmony import */ var _embeddings_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./embeddings.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/embeddings.js\");\n/* harmony import */ var _azure_embeddings_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./azure/embeddings.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/azure/embeddings.js\");\n/* harmony import */ var _tools_dalle_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./tools/dalle.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/tools/dalle.js\");\n/* harmony import */ var _tools_index_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./tools/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/tools/index.js\");\n/* harmony import */ var _tools_custom_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./tools/custom.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/tools/custom.js\");\n/* harmony import */ var _utils_prompts_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./utils/prompts.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/prompts.js\");\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! openai */ \"(rsc)/./node_modules/.pnpm/openai@6.7.0_ws@8.18.3_zod@3.25.76/node_modules/openai/index.mjs\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvcGVuYWlAMS4wLjBfQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfX193c0A4LjE4LjMvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNEO0FBQ3NCO0FBQ3JCO0FBQ0c7QUFDaUI7QUFDVjtBQUNJO0FBQ2pCO0FBQzRCO0FBQ0o7QUFDYjtBQUM1QjtBQUNXO0FBQ0s7QUFDVztBQUNYO0FBQ3pCO0FBQ3FCO0FBQ1k7QUFDSCIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rb3BlbmFpQDEuMC4wX0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2X19fd3NAOC4xOC4zL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L2luZGV4LmpzP2M5ZDUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbWVzc2FnZVRvT3BlbkFJUm9sZSB9IGZyb20gXCIuL3V0aWxzL21pc2MuanNcIjtcbmltcG9ydCB7IGdldEVuZHBvaW50LCBpc0hlYWRlcnMsIG5vcm1hbGl6ZUhlYWRlcnMgfSBmcm9tIFwiLi91dGlscy9henVyZS5qc1wiO1xuaW1wb3J0IHsgQmFzZUNoYXRPcGVuQUkgfSBmcm9tIFwiLi9jaGF0X21vZGVscy9iYXNlLmpzXCI7XG5pbXBvcnQgeyB3cmFwT3BlbkFJQ2xpZW50RXJyb3IgfSBmcm9tIFwiLi91dGlscy9jbGllbnQuanNcIjtcbmltcG9ydCB7IF9jb252ZXJ0TWVzc2FnZXNUb09wZW5BSVBhcmFtcyB9IGZyb20gXCIuL3V0aWxzL21lc3NhZ2VfaW5wdXRzLmpzXCI7XG5pbXBvcnQgeyBDaGF0T3BlbkFJUmVzcG9uc2VzIH0gZnJvbSBcIi4vY2hhdF9tb2RlbHMvcmVzcG9uc2VzLmpzXCI7XG5pbXBvcnQgeyBDaGF0T3BlbkFJQ29tcGxldGlvbnMgfSBmcm9tIFwiLi9jaGF0X21vZGVscy9jb21wbGV0aW9ucy5qc1wiO1xuaW1wb3J0IHsgQ2hhdE9wZW5BSSB9IGZyb20gXCIuL2NoYXRfbW9kZWxzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBBenVyZUNoYXRPcGVuQUlDb21wbGV0aW9ucyB9IGZyb20gXCIuL2F6dXJlL2NoYXRfbW9kZWxzL2NvbXBsZXRpb25zLmpzXCI7XG5pbXBvcnQgeyBBenVyZUNoYXRPcGVuQUlSZXNwb25zZXMgfSBmcm9tIFwiLi9henVyZS9jaGF0X21vZGVscy9yZXNwb25zZXMuanNcIjtcbmltcG9ydCB7IEF6dXJlQ2hhdE9wZW5BSSB9IGZyb20gXCIuL2F6dXJlL2NoYXRfbW9kZWxzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBPcGVuQUkgfSBmcm9tIFwiLi9sbG1zLmpzXCI7XG5pbXBvcnQgeyBBenVyZU9wZW5BSSB9IGZyb20gXCIuL2F6dXJlL2xsbXMuanNcIjtcbmltcG9ydCB7IE9wZW5BSUVtYmVkZGluZ3MgfSBmcm9tIFwiLi9lbWJlZGRpbmdzLmpzXCI7XG5pbXBvcnQgeyBBenVyZU9wZW5BSUVtYmVkZGluZ3MgfSBmcm9tIFwiLi9henVyZS9lbWJlZGRpbmdzLmpzXCI7XG5pbXBvcnQgeyBEYWxsRUFQSVdyYXBwZXIgfSBmcm9tIFwiLi90b29scy9kYWxsZS5qc1wiO1xuaW1wb3J0IFwiLi90b29scy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgY3VzdG9tVG9vbCB9IGZyb20gXCIuL3Rvb2xzL2N1c3RvbS5qc1wiO1xuaW1wb3J0IHsgY29udmVydFByb21wdFRvT3BlbkFJIH0gZnJvbSBcIi4vdXRpbHMvcHJvbXB0cy5qc1wiO1xuaW1wb3J0IHsgT3BlbkFJIGFzIE9wZW5BSUNsaWVudCwgdG9GaWxlIH0gZnJvbSBcIm9wZW5haVwiO1xuXG5leHBvcnQgeyBBenVyZUNoYXRPcGVuQUksIEF6dXJlQ2hhdE9wZW5BSUNvbXBsZXRpb25zLCBBenVyZUNoYXRPcGVuQUlSZXNwb25zZXMsIEF6dXJlT3BlbkFJLCBBenVyZU9wZW5BSUVtYmVkZGluZ3MsIEJhc2VDaGF0T3BlbkFJLCBDaGF0T3BlbkFJLCBDaGF0T3BlbkFJQ29tcGxldGlvbnMsIENoYXRPcGVuQUlSZXNwb25zZXMsIERhbGxFQVBJV3JhcHBlciwgT3BlbkFJLCBPcGVuQUlDbGllbnQsIE9wZW5BSUVtYmVkZGluZ3MsIF9jb252ZXJ0TWVzc2FnZXNUb09wZW5BSVBhcmFtcywgY29udmVydFByb21wdFRvT3BlbkFJLCBjdXN0b21Ub29sLCBnZXRFbmRwb2ludCwgaXNIZWFkZXJzLCBtZXNzYWdlVG9PcGVuQUlSb2xlLCBub3JtYWxpemVIZWFkZXJzLCB0b0ZpbGUsIHdyYXBPcGVuQUlDbGllbnRFcnJvciB9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/llms.js":
/*!*********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/llms.js ***!
  \*********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OpenAI: () => (/* binding */ OpenAI$2)\n/* harmony export */ });\n/* harmony import */ var _utils_azure_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/azure.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/azure.js\");\n/* harmony import */ var _utils_client_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/client.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/client.js\");\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! openai */ \"(rsc)/./node_modules/.pnpm/openai@6.7.0_ws@8.18.3_zod@3.25.76/node_modules/openai/index.mjs\");\n/* harmony import */ var _langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @langchain/core/utils/env */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/env.js\");\n/* harmony import */ var _langchain_core_language_models_base__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @langchain/core/language_models/base */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/language_models/base.js\");\n/* harmony import */ var _langchain_core_outputs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @langchain/core/outputs */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/outputs.js\");\n/* harmony import */ var _langchain_core_language_models_llms__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @langchain/core/language_models/llms */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/language_models/llms.js\");\n/* harmony import */ var _langchain_core_utils_chunk_array__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @langchain/core/utils/chunk_array */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/chunk_array.js\");\n\n\n\n\n\n\n\n\n\n//#region src/llms.ts\n/**\n* Wrapper around OpenAI large language models.\n*\n* To use you should have the `openai` package installed, with the\n* `OPENAI_API_KEY` environment variable set.\n*\n* To use with Azure, import the `AzureOpenAI` class.\n*\n* @remarks\n* Any parameters that are valid to be passed to {@link\n* https://platform.openai.com/docs/api-reference/completions/create |\n* `openai.createCompletion`} can be passed through {@link modelKwargs}, even\n* if not explicitly available on this class.\n* @example\n* ```typescript\n* const model = new OpenAI({\n*   modelName: \"gpt-4\",\n*   temperature: 0.7,\n*   maxTokens: 1000,\n*   maxRetries: 5,\n* });\n*\n* const res = await model.invoke(\n*   \"Question: What would be a good company name for a company that makes colorful socks?\\nAnswer:\"\n* );\n* console.log({ res });\n* ```\n*/\nvar OpenAI$2 = class extends _langchain_core_language_models_llms__WEBPACK_IMPORTED_MODULE_6__.BaseLLM {\n\tstatic lc_name() {\n\t\treturn \"OpenAI\";\n\t}\n\tget callKeys() {\n\t\treturn [...super.callKeys, \"options\"];\n\t}\n\tlc_serializable = true;\n\tget lc_secrets() {\n\t\treturn {\n\t\t\topenAIApiKey: \"OPENAI_API_KEY\",\n\t\t\tapiKey: \"OPENAI_API_KEY\",\n\t\t\torganization: \"OPENAI_ORGANIZATION\"\n\t\t};\n\t}\n\tget lc_aliases() {\n\t\treturn {\n\t\t\tmodelName: \"model\",\n\t\t\topenAIApiKey: \"openai_api_key\",\n\t\t\tapiKey: \"openai_api_key\"\n\t\t};\n\t}\n\ttemperature;\n\tmaxTokens;\n\ttopP;\n\tfrequencyPenalty;\n\tpresencePenalty;\n\tn = 1;\n\tbestOf;\n\tlogitBias;\n\tmodel = \"gpt-3.5-turbo-instruct\";\n\t/** @deprecated Use \"model\" instead */\n\tmodelName;\n\tmodelKwargs;\n\tbatchSize = 20;\n\ttimeout;\n\tstop;\n\tstopSequences;\n\tuser;\n\tstreaming = false;\n\topenAIApiKey;\n\tapiKey;\n\torganization;\n\tclient;\n\tclientConfig;\n\tconstructor(fields) {\n\t\tsuper(fields ?? {});\n\t\tthis.openAIApiKey = fields?.apiKey ?? fields?.openAIApiKey ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_3__.getEnvironmentVariable)(\"OPENAI_API_KEY\");\n\t\tthis.apiKey = this.openAIApiKey;\n\t\tthis.organization = fields?.configuration?.organization ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_3__.getEnvironmentVariable)(\"OPENAI_ORGANIZATION\");\n\t\tthis.model = fields?.model ?? fields?.modelName ?? this.model;\n\t\tif ((this.model?.startsWith(\"gpt-3.5-turbo\") || this.model?.startsWith(\"gpt-4\") || this.model?.startsWith(\"o1\")) && !this.model?.includes(\"-instruct\")) throw new Error([\n\t\t\t`Your chosen OpenAI model, \"${this.model}\", is a chat model and not a text-in/text-out LLM.`,\n\t\t\t`Passing it into the \"OpenAI\" class is no longer supported.`,\n\t\t\t`Please use the \"ChatOpenAI\" class instead.`,\n\t\t\t\"\",\n\t\t\t`See this page for more information:`,\n\t\t\t\"|\",\n\t\t\t`> https://js.langchain.com/docs/integrations/chat/openai`\n\t\t].join(\"\\n\"));\n\t\tthis.modelName = this.model;\n\t\tthis.modelKwargs = fields?.modelKwargs ?? {};\n\t\tthis.batchSize = fields?.batchSize ?? this.batchSize;\n\t\tthis.timeout = fields?.timeout;\n\t\tthis.temperature = fields?.temperature ?? this.temperature;\n\t\tthis.maxTokens = fields?.maxTokens ?? this.maxTokens;\n\t\tthis.topP = fields?.topP ?? this.topP;\n\t\tthis.frequencyPenalty = fields?.frequencyPenalty ?? this.frequencyPenalty;\n\t\tthis.presencePenalty = fields?.presencePenalty ?? this.presencePenalty;\n\t\tthis.n = fields?.n ?? this.n;\n\t\tthis.bestOf = fields?.bestOf ?? this.bestOf;\n\t\tthis.logitBias = fields?.logitBias;\n\t\tthis.stop = fields?.stopSequences ?? fields?.stop;\n\t\tthis.stopSequences = this.stop;\n\t\tthis.user = fields?.user;\n\t\tthis.streaming = fields?.streaming ?? false;\n\t\tif (this.streaming && this.bestOf && this.bestOf > 1) throw new Error(\"Cannot stream results when bestOf > 1\");\n\t\tthis.clientConfig = {\n\t\t\tapiKey: this.apiKey,\n\t\t\torganization: this.organization,\n\t\t\tdangerouslyAllowBrowser: true,\n\t\t\t...fields?.configuration\n\t\t};\n\t}\n\t/**\n\t* Get the parameters used to invoke the model\n\t*/\n\tinvocationParams(options) {\n\t\treturn {\n\t\t\tmodel: this.model,\n\t\t\ttemperature: this.temperature,\n\t\t\tmax_tokens: this.maxTokens,\n\t\t\ttop_p: this.topP,\n\t\t\tfrequency_penalty: this.frequencyPenalty,\n\t\t\tpresence_penalty: this.presencePenalty,\n\t\t\tn: this.n,\n\t\t\tbest_of: this.bestOf,\n\t\t\tlogit_bias: this.logitBias,\n\t\t\tstop: options?.stop ?? this.stopSequences,\n\t\t\tuser: this.user,\n\t\t\tstream: this.streaming,\n\t\t\t...this.modelKwargs\n\t\t};\n\t}\n\t/** @ignore */\n\t_identifyingParams() {\n\t\treturn {\n\t\t\tmodel_name: this.model,\n\t\t\t...this.invocationParams(),\n\t\t\t...this.clientConfig\n\t\t};\n\t}\n\t/**\n\t* Get the identifying parameters for the model\n\t*/\n\tidentifyingParams() {\n\t\treturn this._identifyingParams();\n\t}\n\t/**\n\t* Call out to OpenAI's endpoint with k unique prompts\n\t*\n\t* @param [prompts] - The prompts to pass into the model.\n\t* @param [options] - Optional list of stop words to use when generating.\n\t* @param [runManager] - Optional callback manager to use when generating.\n\t*\n\t* @returns The full LLM output.\n\t*\n\t* @example\n\t* ```ts\n\t* import { OpenAI } from \"langchain/llms/openai\";\n\t* const openai = new OpenAI();\n\t* const response = await openai.generate([\"Tell me a joke.\"]);\n\t* ```\n\t*/\n\tasync _generate(prompts, options, runManager) {\n\t\tconst subPrompts = (0,_langchain_core_utils_chunk_array__WEBPACK_IMPORTED_MODULE_7__.chunkArray)(prompts, this.batchSize);\n\t\tconst choices = [];\n\t\tconst tokenUsage = {};\n\t\tconst params = this.invocationParams(options);\n\t\tif (params.max_tokens === -1) {\n\t\t\tif (prompts.length !== 1) throw new Error(\"max_tokens set to -1 not supported for multiple inputs\");\n\t\t\tparams.max_tokens = await (0,_langchain_core_language_models_base__WEBPACK_IMPORTED_MODULE_4__.calculateMaxTokens)({\n\t\t\t\tprompt: prompts[0],\n\t\t\t\tmodelName: this.model\n\t\t\t});\n\t\t}\n\t\tfor (let i = 0; i < subPrompts.length; i += 1) {\n\t\t\tconst data = params.stream ? await (async () => {\n\t\t\t\tconst choices$1 = [];\n\t\t\t\tlet response;\n\t\t\t\tconst stream = await this.completionWithRetry({\n\t\t\t\t\t...params,\n\t\t\t\t\tstream: true,\n\t\t\t\t\tprompt: subPrompts[i]\n\t\t\t\t}, options);\n\t\t\t\tfor await (const message of stream) {\n\t\t\t\t\tif (!response) response = {\n\t\t\t\t\t\tid: message.id,\n\t\t\t\t\t\tobject: message.object,\n\t\t\t\t\t\tcreated: message.created,\n\t\t\t\t\t\tmodel: message.model\n\t\t\t\t\t};\n\t\t\t\t\tfor (const part of message.choices) {\n\t\t\t\t\t\tif (!choices$1[part.index]) choices$1[part.index] = part;\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tconst choice = choices$1[part.index];\n\t\t\t\t\t\t\tchoice.text += part.text;\n\t\t\t\t\t\t\tchoice.finish_reason = part.finish_reason;\n\t\t\t\t\t\t\tchoice.logprobs = part.logprobs;\n\t\t\t\t\t\t}\n\t\t\t\t\t\trunManager?.handleLLMNewToken(part.text, {\n\t\t\t\t\t\t\tprompt: Math.floor(part.index / this.n),\n\t\t\t\t\t\t\tcompletion: part.index % this.n\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (options.signal?.aborted) throw new Error(\"AbortError\");\n\t\t\t\treturn {\n\t\t\t\t\t...response,\n\t\t\t\t\tchoices: choices$1\n\t\t\t\t};\n\t\t\t})() : await this.completionWithRetry({\n\t\t\t\t...params,\n\t\t\t\tstream: false,\n\t\t\t\tprompt: subPrompts[i]\n\t\t\t}, {\n\t\t\t\tsignal: options.signal,\n\t\t\t\t...options.options\n\t\t\t});\n\t\t\tchoices.push(...data.choices);\n\t\t\tconst { completion_tokens: completionTokens, prompt_tokens: promptTokens, total_tokens: totalTokens } = data.usage ? data.usage : {\n\t\t\t\tcompletion_tokens: void 0,\n\t\t\t\tprompt_tokens: void 0,\n\t\t\t\ttotal_tokens: void 0\n\t\t\t};\n\t\t\tif (completionTokens) tokenUsage.completionTokens = (tokenUsage.completionTokens ?? 0) + completionTokens;\n\t\t\tif (promptTokens) tokenUsage.promptTokens = (tokenUsage.promptTokens ?? 0) + promptTokens;\n\t\t\tif (totalTokens) tokenUsage.totalTokens = (tokenUsage.totalTokens ?? 0) + totalTokens;\n\t\t}\n\t\tconst generations = (0,_langchain_core_utils_chunk_array__WEBPACK_IMPORTED_MODULE_7__.chunkArray)(choices, this.n).map((promptChoices) => promptChoices.map((choice) => ({\n\t\t\ttext: choice.text ?? \"\",\n\t\t\tgenerationInfo: {\n\t\t\t\tfinishReason: choice.finish_reason,\n\t\t\t\tlogprobs: choice.logprobs\n\t\t\t}\n\t\t})));\n\t\treturn {\n\t\t\tgenerations,\n\t\t\tllmOutput: { tokenUsage }\n\t\t};\n\t}\n\tasync *_streamResponseChunks(input, options, runManager) {\n\t\tconst params = {\n\t\t\t...this.invocationParams(options),\n\t\t\tprompt: input,\n\t\t\tstream: true\n\t\t};\n\t\tconst stream = await this.completionWithRetry(params, options);\n\t\tfor await (const data of stream) {\n\t\t\tconst choice = data?.choices[0];\n\t\t\tif (!choice) continue;\n\t\t\tconst chunk = new _langchain_core_outputs__WEBPACK_IMPORTED_MODULE_5__.GenerationChunk({\n\t\t\t\ttext: choice.text,\n\t\t\t\tgenerationInfo: { finishReason: choice.finish_reason }\n\t\t\t});\n\t\t\tyield chunk;\n\t\t\trunManager?.handleLLMNewToken(chunk.text ?? \"\");\n\t\t}\n\t\tif (options.signal?.aborted) throw new Error(\"AbortError\");\n\t}\n\tasync completionWithRetry(request, options) {\n\t\tconst requestOptions = this._getClientOptions(options);\n\t\treturn this.caller.call(async () => {\n\t\t\ttry {\n\t\t\t\tconst res = await this.client.completions.create(request, requestOptions);\n\t\t\t\treturn res;\n\t\t\t} catch (e) {\n\t\t\t\tconst error = (0,_utils_client_js__WEBPACK_IMPORTED_MODULE_1__.wrapOpenAIClientError)(e);\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t});\n\t}\n\t/**\n\t* Calls the OpenAI API with retry logic in case of failures.\n\t* @param request The request to send to the OpenAI API.\n\t* @param options Optional configuration for the API call.\n\t* @returns The response from the OpenAI API.\n\t*/\n\t_getClientOptions(options) {\n\t\tif (!this.client) {\n\t\t\tconst openAIEndpointConfig = { baseURL: this.clientConfig.baseURL };\n\t\t\tconst endpoint = (0,_utils_azure_js__WEBPACK_IMPORTED_MODULE_0__.getEndpoint)(openAIEndpointConfig);\n\t\t\tconst params = {\n\t\t\t\t...this.clientConfig,\n\t\t\t\tbaseURL: endpoint,\n\t\t\t\ttimeout: this.timeout,\n\t\t\t\tmaxRetries: 0\n\t\t\t};\n\t\t\tif (!params.baseURL) delete params.baseURL;\n\t\t\tthis.client = new openai__WEBPACK_IMPORTED_MODULE_2__.OpenAI(params);\n\t\t}\n\t\tconst requestOptions = {\n\t\t\t...this.clientConfig,\n\t\t\t...options\n\t\t};\n\t\treturn requestOptions;\n\t}\n\t_llmType() {\n\t\treturn \"openai\";\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=llms.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvcGVuYWlAMS4wLjBfQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfX193c0A4LjE4LjMvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvbGxtcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBK0M7QUFDVztBQUNkO0FBQ3VCO0FBQ087QUFDaEI7QUFDSztBQUNBOztBQUUvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRDtBQUNBLDZCQUE2Qix1QkFBdUIsa0JBQWtCO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsS0FBSztBQUNyQjtBQUNBO0FBQ0EsNkJBQTZCLHlFQUFPO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQixnRUFBZ0UsaUZBQXNCO0FBQ3RGO0FBQ0EsNkRBQTZELGlGQUFzQjtBQUNuRjtBQUNBO0FBQ0EsaUNBQWlDLFdBQVc7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFNBQVM7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw2RUFBVTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHdGQUFrQjtBQUMvQztBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0Esa0JBQWtCLHVCQUF1QjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxXQUFXLDhGQUE4RjtBQUN6RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDZFQUFVO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsb0VBQWU7QUFDcEM7QUFDQSxzQkFBc0I7QUFDdEIsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsa0JBQWtCLHVFQUFxQjtBQUN2QztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQyxvQkFBb0IsNERBQVc7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsMENBQVE7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUM4QjtBQUM5QiIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rb3BlbmFpQDEuMC4wX0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2X19fd3NAOC4xOC4zL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L2xsbXMuanM/YjI0OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRFbmRwb2ludCB9IGZyb20gXCIuL3V0aWxzL2F6dXJlLmpzXCI7XG5pbXBvcnQgeyB3cmFwT3BlbkFJQ2xpZW50RXJyb3IgfSBmcm9tIFwiLi91dGlscy9jbGllbnQuanNcIjtcbmltcG9ydCB7IE9wZW5BSSBhcyBPcGVuQUkkMSB9IGZyb20gXCJvcGVuYWlcIjtcbmltcG9ydCB7IGdldEVudmlyb25tZW50VmFyaWFibGUgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3V0aWxzL2VudlwiO1xuaW1wb3J0IHsgY2FsY3VsYXRlTWF4VG9rZW5zIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9sYW5ndWFnZV9tb2RlbHMvYmFzZVwiO1xuaW1wb3J0IHsgR2VuZXJhdGlvbkNodW5rIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9vdXRwdXRzXCI7XG5pbXBvcnQgeyBCYXNlTExNIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9sYW5ndWFnZV9tb2RlbHMvbGxtc1wiO1xuaW1wb3J0IHsgY2h1bmtBcnJheSB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvdXRpbHMvY2h1bmtfYXJyYXlcIjtcblxuLy8jcmVnaW9uIHNyYy9sbG1zLnRzXG4vKipcbiogV3JhcHBlciBhcm91bmQgT3BlbkFJIGxhcmdlIGxhbmd1YWdlIG1vZGVscy5cbipcbiogVG8gdXNlIHlvdSBzaG91bGQgaGF2ZSB0aGUgYG9wZW5haWAgcGFja2FnZSBpbnN0YWxsZWQsIHdpdGggdGhlXG4qIGBPUEVOQUlfQVBJX0tFWWAgZW52aXJvbm1lbnQgdmFyaWFibGUgc2V0LlxuKlxuKiBUbyB1c2Ugd2l0aCBBenVyZSwgaW1wb3J0IHRoZSBgQXp1cmVPcGVuQUlgIGNsYXNzLlxuKlxuKiBAcmVtYXJrc1xuKiBBbnkgcGFyYW1ldGVycyB0aGF0IGFyZSB2YWxpZCB0byBiZSBwYXNzZWQgdG8ge0BsaW5rXG4qIGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvY29tcGxldGlvbnMvY3JlYXRlIHxcbiogYG9wZW5haS5jcmVhdGVDb21wbGV0aW9uYH0gY2FuIGJlIHBhc3NlZCB0aHJvdWdoIHtAbGluayBtb2RlbEt3YXJnc30sIGV2ZW5cbiogaWYgbm90IGV4cGxpY2l0bHkgYXZhaWxhYmxlIG9uIHRoaXMgY2xhc3MuXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogY29uc3QgbW9kZWwgPSBuZXcgT3BlbkFJKHtcbiogICBtb2RlbE5hbWU6IFwiZ3B0LTRcIixcbiogICB0ZW1wZXJhdHVyZTogMC43LFxuKiAgIG1heFRva2VuczogMTAwMCxcbiogICBtYXhSZXRyaWVzOiA1LFxuKiB9KTtcbipcbiogY29uc3QgcmVzID0gYXdhaXQgbW9kZWwuaW52b2tlKFxuKiAgIFwiUXVlc3Rpb246IFdoYXQgd291bGQgYmUgYSBnb29kIGNvbXBhbnkgbmFtZSBmb3IgYSBjb21wYW55IHRoYXQgbWFrZXMgY29sb3JmdWwgc29ja3M/XFxuQW5zd2VyOlwiXG4qICk7XG4qIGNvbnNvbGUubG9nKHsgcmVzIH0pO1xuKiBgYGBcbiovXG52YXIgT3BlbkFJJDIgPSBjbGFzcyBleHRlbmRzIEJhc2VMTE0ge1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJPcGVuQUlcIjtcblx0fVxuXHRnZXQgY2FsbEtleXMoKSB7XG5cdFx0cmV0dXJuIFsuLi5zdXBlci5jYWxsS2V5cywgXCJvcHRpb25zXCJdO1xuXHR9XG5cdGxjX3NlcmlhbGl6YWJsZSA9IHRydWU7XG5cdGdldCBsY19zZWNyZXRzKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRvcGVuQUlBcGlLZXk6IFwiT1BFTkFJX0FQSV9LRVlcIixcblx0XHRcdGFwaUtleTogXCJPUEVOQUlfQVBJX0tFWVwiLFxuXHRcdFx0b3JnYW5pemF0aW9uOiBcIk9QRU5BSV9PUkdBTklaQVRJT05cIlxuXHRcdH07XG5cdH1cblx0Z2V0IGxjX2FsaWFzZXMoKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdG1vZGVsTmFtZTogXCJtb2RlbFwiLFxuXHRcdFx0b3BlbkFJQXBpS2V5OiBcIm9wZW5haV9hcGlfa2V5XCIsXG5cdFx0XHRhcGlLZXk6IFwib3BlbmFpX2FwaV9rZXlcIlxuXHRcdH07XG5cdH1cblx0dGVtcGVyYXR1cmU7XG5cdG1heFRva2Vucztcblx0dG9wUDtcblx0ZnJlcXVlbmN5UGVuYWx0eTtcblx0cHJlc2VuY2VQZW5hbHR5O1xuXHRuID0gMTtcblx0YmVzdE9mO1xuXHRsb2dpdEJpYXM7XG5cdG1vZGVsID0gXCJncHQtMy41LXR1cmJvLWluc3RydWN0XCI7XG5cdC8qKiBAZGVwcmVjYXRlZCBVc2UgXCJtb2RlbFwiIGluc3RlYWQgKi9cblx0bW9kZWxOYW1lO1xuXHRtb2RlbEt3YXJncztcblx0YmF0Y2hTaXplID0gMjA7XG5cdHRpbWVvdXQ7XG5cdHN0b3A7XG5cdHN0b3BTZXF1ZW5jZXM7XG5cdHVzZXI7XG5cdHN0cmVhbWluZyA9IGZhbHNlO1xuXHRvcGVuQUlBcGlLZXk7XG5cdGFwaUtleTtcblx0b3JnYW5pemF0aW9uO1xuXHRjbGllbnQ7XG5cdGNsaWVudENvbmZpZztcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzID8/IHt9KTtcblx0XHR0aGlzLm9wZW5BSUFwaUtleSA9IGZpZWxkcz8uYXBpS2V5ID8/IGZpZWxkcz8ub3BlbkFJQXBpS2V5ID8/IGdldEVudmlyb25tZW50VmFyaWFibGUoXCJPUEVOQUlfQVBJX0tFWVwiKTtcblx0XHR0aGlzLmFwaUtleSA9IHRoaXMub3BlbkFJQXBpS2V5O1xuXHRcdHRoaXMub3JnYW5pemF0aW9uID0gZmllbGRzPy5jb25maWd1cmF0aW9uPy5vcmdhbml6YXRpb24gPz8gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIk9QRU5BSV9PUkdBTklaQVRJT05cIik7XG5cdFx0dGhpcy5tb2RlbCA9IGZpZWxkcz8ubW9kZWwgPz8gZmllbGRzPy5tb2RlbE5hbWUgPz8gdGhpcy5tb2RlbDtcblx0XHRpZiAoKHRoaXMubW9kZWw/LnN0YXJ0c1dpdGgoXCJncHQtMy41LXR1cmJvXCIpIHx8IHRoaXMubW9kZWw/LnN0YXJ0c1dpdGgoXCJncHQtNFwiKSB8fCB0aGlzLm1vZGVsPy5zdGFydHNXaXRoKFwibzFcIikpICYmICF0aGlzLm1vZGVsPy5pbmNsdWRlcyhcIi1pbnN0cnVjdFwiKSkgdGhyb3cgbmV3IEVycm9yKFtcblx0XHRcdGBZb3VyIGNob3NlbiBPcGVuQUkgbW9kZWwsIFwiJHt0aGlzLm1vZGVsfVwiLCBpcyBhIGNoYXQgbW9kZWwgYW5kIG5vdCBhIHRleHQtaW4vdGV4dC1vdXQgTExNLmAsXG5cdFx0XHRgUGFzc2luZyBpdCBpbnRvIHRoZSBcIk9wZW5BSVwiIGNsYXNzIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQuYCxcblx0XHRcdGBQbGVhc2UgdXNlIHRoZSBcIkNoYXRPcGVuQUlcIiBjbGFzcyBpbnN0ZWFkLmAsXG5cdFx0XHRcIlwiLFxuXHRcdFx0YFNlZSB0aGlzIHBhZ2UgZm9yIG1vcmUgaW5mb3JtYXRpb246YCxcblx0XHRcdFwifFwiLFxuXHRcdFx0YOKUlD4gaHR0cHM6Ly9qcy5sYW5nY2hhaW4uY29tL2RvY3MvaW50ZWdyYXRpb25zL2NoYXQvb3BlbmFpYFxuXHRcdF0uam9pbihcIlxcblwiKSk7XG5cdFx0dGhpcy5tb2RlbE5hbWUgPSB0aGlzLm1vZGVsO1xuXHRcdHRoaXMubW9kZWxLd2FyZ3MgPSBmaWVsZHM/Lm1vZGVsS3dhcmdzID8/IHt9O1xuXHRcdHRoaXMuYmF0Y2hTaXplID0gZmllbGRzPy5iYXRjaFNpemUgPz8gdGhpcy5iYXRjaFNpemU7XG5cdFx0dGhpcy50aW1lb3V0ID0gZmllbGRzPy50aW1lb3V0O1xuXHRcdHRoaXMudGVtcGVyYXR1cmUgPSBmaWVsZHM/LnRlbXBlcmF0dXJlID8/IHRoaXMudGVtcGVyYXR1cmU7XG5cdFx0dGhpcy5tYXhUb2tlbnMgPSBmaWVsZHM/Lm1heFRva2VucyA/PyB0aGlzLm1heFRva2Vucztcblx0XHR0aGlzLnRvcFAgPSBmaWVsZHM/LnRvcFAgPz8gdGhpcy50b3BQO1xuXHRcdHRoaXMuZnJlcXVlbmN5UGVuYWx0eSA9IGZpZWxkcz8uZnJlcXVlbmN5UGVuYWx0eSA/PyB0aGlzLmZyZXF1ZW5jeVBlbmFsdHk7XG5cdFx0dGhpcy5wcmVzZW5jZVBlbmFsdHkgPSBmaWVsZHM/LnByZXNlbmNlUGVuYWx0eSA/PyB0aGlzLnByZXNlbmNlUGVuYWx0eTtcblx0XHR0aGlzLm4gPSBmaWVsZHM/Lm4gPz8gdGhpcy5uO1xuXHRcdHRoaXMuYmVzdE9mID0gZmllbGRzPy5iZXN0T2YgPz8gdGhpcy5iZXN0T2Y7XG5cdFx0dGhpcy5sb2dpdEJpYXMgPSBmaWVsZHM/LmxvZ2l0Qmlhcztcblx0XHR0aGlzLnN0b3AgPSBmaWVsZHM/LnN0b3BTZXF1ZW5jZXMgPz8gZmllbGRzPy5zdG9wO1xuXHRcdHRoaXMuc3RvcFNlcXVlbmNlcyA9IHRoaXMuc3RvcDtcblx0XHR0aGlzLnVzZXIgPSBmaWVsZHM/LnVzZXI7XG5cdFx0dGhpcy5zdHJlYW1pbmcgPSBmaWVsZHM/LnN0cmVhbWluZyA/PyBmYWxzZTtcblx0XHRpZiAodGhpcy5zdHJlYW1pbmcgJiYgdGhpcy5iZXN0T2YgJiYgdGhpcy5iZXN0T2YgPiAxKSB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3Qgc3RyZWFtIHJlc3VsdHMgd2hlbiBiZXN0T2YgPiAxXCIpO1xuXHRcdHRoaXMuY2xpZW50Q29uZmlnID0ge1xuXHRcdFx0YXBpS2V5OiB0aGlzLmFwaUtleSxcblx0XHRcdG9yZ2FuaXphdGlvbjogdGhpcy5vcmdhbml6YXRpb24sXG5cdFx0XHRkYW5nZXJvdXNseUFsbG93QnJvd3NlcjogdHJ1ZSxcblx0XHRcdC4uLmZpZWxkcz8uY29uZmlndXJhdGlvblxuXHRcdH07XG5cdH1cblx0LyoqXG5cdCogR2V0IHRoZSBwYXJhbWV0ZXJzIHVzZWQgdG8gaW52b2tlIHRoZSBtb2RlbFxuXHQqL1xuXHRpbnZvY2F0aW9uUGFyYW1zKG9wdGlvbnMpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0bW9kZWw6IHRoaXMubW9kZWwsXG5cdFx0XHR0ZW1wZXJhdHVyZTogdGhpcy50ZW1wZXJhdHVyZSxcblx0XHRcdG1heF90b2tlbnM6IHRoaXMubWF4VG9rZW5zLFxuXHRcdFx0dG9wX3A6IHRoaXMudG9wUCxcblx0XHRcdGZyZXF1ZW5jeV9wZW5hbHR5OiB0aGlzLmZyZXF1ZW5jeVBlbmFsdHksXG5cdFx0XHRwcmVzZW5jZV9wZW5hbHR5OiB0aGlzLnByZXNlbmNlUGVuYWx0eSxcblx0XHRcdG46IHRoaXMubixcblx0XHRcdGJlc3Rfb2Y6IHRoaXMuYmVzdE9mLFxuXHRcdFx0bG9naXRfYmlhczogdGhpcy5sb2dpdEJpYXMsXG5cdFx0XHRzdG9wOiBvcHRpb25zPy5zdG9wID8/IHRoaXMuc3RvcFNlcXVlbmNlcyxcblx0XHRcdHVzZXI6IHRoaXMudXNlcixcblx0XHRcdHN0cmVhbTogdGhpcy5zdHJlYW1pbmcsXG5cdFx0XHQuLi50aGlzLm1vZGVsS3dhcmdzXG5cdFx0fTtcblx0fVxuXHQvKiogQGlnbm9yZSAqL1xuXHRfaWRlbnRpZnlpbmdQYXJhbXMoKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdG1vZGVsX25hbWU6IHRoaXMubW9kZWwsXG5cdFx0XHQuLi50aGlzLmludm9jYXRpb25QYXJhbXMoKSxcblx0XHRcdC4uLnRoaXMuY2xpZW50Q29uZmlnXG5cdFx0fTtcblx0fVxuXHQvKipcblx0KiBHZXQgdGhlIGlkZW50aWZ5aW5nIHBhcmFtZXRlcnMgZm9yIHRoZSBtb2RlbFxuXHQqL1xuXHRpZGVudGlmeWluZ1BhcmFtcygpIHtcblx0XHRyZXR1cm4gdGhpcy5faWRlbnRpZnlpbmdQYXJhbXMoKTtcblx0fVxuXHQvKipcblx0KiBDYWxsIG91dCB0byBPcGVuQUkncyBlbmRwb2ludCB3aXRoIGsgdW5pcXVlIHByb21wdHNcblx0KlxuXHQqIEBwYXJhbSBbcHJvbXB0c10gLSBUaGUgcHJvbXB0cyB0byBwYXNzIGludG8gdGhlIG1vZGVsLlxuXHQqIEBwYXJhbSBbb3B0aW9uc10gLSBPcHRpb25hbCBsaXN0IG9mIHN0b3Agd29yZHMgdG8gdXNlIHdoZW4gZ2VuZXJhdGluZy5cblx0KiBAcGFyYW0gW3J1bk1hbmFnZXJdIC0gT3B0aW9uYWwgY2FsbGJhY2sgbWFuYWdlciB0byB1c2Ugd2hlbiBnZW5lcmF0aW5nLlxuXHQqXG5cdCogQHJldHVybnMgVGhlIGZ1bGwgTExNIG91dHB1dC5cblx0KlxuXHQqIEBleGFtcGxlXG5cdCogYGBgdHNcblx0KiBpbXBvcnQgeyBPcGVuQUkgfSBmcm9tIFwibGFuZ2NoYWluL2xsbXMvb3BlbmFpXCI7XG5cdCogY29uc3Qgb3BlbmFpID0gbmV3IE9wZW5BSSgpO1xuXHQqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgb3BlbmFpLmdlbmVyYXRlKFtcIlRlbGwgbWUgYSBqb2tlLlwiXSk7XG5cdCogYGBgXG5cdCovXG5cdGFzeW5jIF9nZW5lcmF0ZShwcm9tcHRzLCBvcHRpb25zLCBydW5NYW5hZ2VyKSB7XG5cdFx0Y29uc3Qgc3ViUHJvbXB0cyA9IGNodW5rQXJyYXkocHJvbXB0cywgdGhpcy5iYXRjaFNpemUpO1xuXHRcdGNvbnN0IGNob2ljZXMgPSBbXTtcblx0XHRjb25zdCB0b2tlblVzYWdlID0ge307XG5cdFx0Y29uc3QgcGFyYW1zID0gdGhpcy5pbnZvY2F0aW9uUGFyYW1zKG9wdGlvbnMpO1xuXHRcdGlmIChwYXJhbXMubWF4X3Rva2VucyA9PT0gLTEpIHtcblx0XHRcdGlmIChwcm9tcHRzLmxlbmd0aCAhPT0gMSkgdGhyb3cgbmV3IEVycm9yKFwibWF4X3Rva2VucyBzZXQgdG8gLTEgbm90IHN1cHBvcnRlZCBmb3IgbXVsdGlwbGUgaW5wdXRzXCIpO1xuXHRcdFx0cGFyYW1zLm1heF90b2tlbnMgPSBhd2FpdCBjYWxjdWxhdGVNYXhUb2tlbnMoe1xuXHRcdFx0XHRwcm9tcHQ6IHByb21wdHNbMF0sXG5cdFx0XHRcdG1vZGVsTmFtZTogdGhpcy5tb2RlbFxuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgc3ViUHJvbXB0cy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0Y29uc3QgZGF0YSA9IHBhcmFtcy5zdHJlYW0gPyBhd2FpdCAoYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRjb25zdCBjaG9pY2VzJDEgPSBbXTtcblx0XHRcdFx0bGV0IHJlc3BvbnNlO1xuXHRcdFx0XHRjb25zdCBzdHJlYW0gPSBhd2FpdCB0aGlzLmNvbXBsZXRpb25XaXRoUmV0cnkoe1xuXHRcdFx0XHRcdC4uLnBhcmFtcyxcblx0XHRcdFx0XHRzdHJlYW06IHRydWUsXG5cdFx0XHRcdFx0cHJvbXB0OiBzdWJQcm9tcHRzW2ldXG5cdFx0XHRcdH0sIG9wdGlvbnMpO1xuXHRcdFx0XHRmb3IgYXdhaXQgKGNvbnN0IG1lc3NhZ2Ugb2Ygc3RyZWFtKSB7XG5cdFx0XHRcdFx0aWYgKCFyZXNwb25zZSkgcmVzcG9uc2UgPSB7XG5cdFx0XHRcdFx0XHRpZDogbWVzc2FnZS5pZCxcblx0XHRcdFx0XHRcdG9iamVjdDogbWVzc2FnZS5vYmplY3QsXG5cdFx0XHRcdFx0XHRjcmVhdGVkOiBtZXNzYWdlLmNyZWF0ZWQsXG5cdFx0XHRcdFx0XHRtb2RlbDogbWVzc2FnZS5tb2RlbFxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0Zm9yIChjb25zdCBwYXJ0IG9mIG1lc3NhZ2UuY2hvaWNlcykge1xuXHRcdFx0XHRcdFx0aWYgKCFjaG9pY2VzJDFbcGFydC5pbmRleF0pIGNob2ljZXMkMVtwYXJ0LmluZGV4XSA9IHBhcnQ7XG5cdFx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdFx0Y29uc3QgY2hvaWNlID0gY2hvaWNlcyQxW3BhcnQuaW5kZXhdO1xuXHRcdFx0XHRcdFx0XHRjaG9pY2UudGV4dCArPSBwYXJ0LnRleHQ7XG5cdFx0XHRcdFx0XHRcdGNob2ljZS5maW5pc2hfcmVhc29uID0gcGFydC5maW5pc2hfcmVhc29uO1xuXHRcdFx0XHRcdFx0XHRjaG9pY2UubG9ncHJvYnMgPSBwYXJ0LmxvZ3Byb2JzO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cnVuTWFuYWdlcj8uaGFuZGxlTExNTmV3VG9rZW4ocGFydC50ZXh0LCB7XG5cdFx0XHRcdFx0XHRcdHByb21wdDogTWF0aC5mbG9vcihwYXJ0LmluZGV4IC8gdGhpcy5uKSxcblx0XHRcdFx0XHRcdFx0Y29tcGxldGlvbjogcGFydC5pbmRleCAlIHRoaXMublxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChvcHRpb25zLnNpZ25hbD8uYWJvcnRlZCkgdGhyb3cgbmV3IEVycm9yKFwiQWJvcnRFcnJvclwiKTtcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHQuLi5yZXNwb25zZSxcblx0XHRcdFx0XHRjaG9pY2VzOiBjaG9pY2VzJDFcblx0XHRcdFx0fTtcblx0XHRcdH0pKCkgOiBhd2FpdCB0aGlzLmNvbXBsZXRpb25XaXRoUmV0cnkoe1xuXHRcdFx0XHQuLi5wYXJhbXMsXG5cdFx0XHRcdHN0cmVhbTogZmFsc2UsXG5cdFx0XHRcdHByb21wdDogc3ViUHJvbXB0c1tpXVxuXHRcdFx0fSwge1xuXHRcdFx0XHRzaWduYWw6IG9wdGlvbnMuc2lnbmFsLFxuXHRcdFx0XHQuLi5vcHRpb25zLm9wdGlvbnNcblx0XHRcdH0pO1xuXHRcdFx0Y2hvaWNlcy5wdXNoKC4uLmRhdGEuY2hvaWNlcyk7XG5cdFx0XHRjb25zdCB7IGNvbXBsZXRpb25fdG9rZW5zOiBjb21wbGV0aW9uVG9rZW5zLCBwcm9tcHRfdG9rZW5zOiBwcm9tcHRUb2tlbnMsIHRvdGFsX3Rva2VuczogdG90YWxUb2tlbnMgfSA9IGRhdGEudXNhZ2UgPyBkYXRhLnVzYWdlIDoge1xuXHRcdFx0XHRjb21wbGV0aW9uX3Rva2Vuczogdm9pZCAwLFxuXHRcdFx0XHRwcm9tcHRfdG9rZW5zOiB2b2lkIDAsXG5cdFx0XHRcdHRvdGFsX3Rva2Vuczogdm9pZCAwXG5cdFx0XHR9O1xuXHRcdFx0aWYgKGNvbXBsZXRpb25Ub2tlbnMpIHRva2VuVXNhZ2UuY29tcGxldGlvblRva2VucyA9ICh0b2tlblVzYWdlLmNvbXBsZXRpb25Ub2tlbnMgPz8gMCkgKyBjb21wbGV0aW9uVG9rZW5zO1xuXHRcdFx0aWYgKHByb21wdFRva2VucykgdG9rZW5Vc2FnZS5wcm9tcHRUb2tlbnMgPSAodG9rZW5Vc2FnZS5wcm9tcHRUb2tlbnMgPz8gMCkgKyBwcm9tcHRUb2tlbnM7XG5cdFx0XHRpZiAodG90YWxUb2tlbnMpIHRva2VuVXNhZ2UudG90YWxUb2tlbnMgPSAodG9rZW5Vc2FnZS50b3RhbFRva2VucyA/PyAwKSArIHRvdGFsVG9rZW5zO1xuXHRcdH1cblx0XHRjb25zdCBnZW5lcmF0aW9ucyA9IGNodW5rQXJyYXkoY2hvaWNlcywgdGhpcy5uKS5tYXAoKHByb21wdENob2ljZXMpID0+IHByb21wdENob2ljZXMubWFwKChjaG9pY2UpID0+ICh7XG5cdFx0XHR0ZXh0OiBjaG9pY2UudGV4dCA/PyBcIlwiLFxuXHRcdFx0Z2VuZXJhdGlvbkluZm86IHtcblx0XHRcdFx0ZmluaXNoUmVhc29uOiBjaG9pY2UuZmluaXNoX3JlYXNvbixcblx0XHRcdFx0bG9ncHJvYnM6IGNob2ljZS5sb2dwcm9ic1xuXHRcdFx0fVxuXHRcdH0pKSk7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGdlbmVyYXRpb25zLFxuXHRcdFx0bGxtT3V0cHV0OiB7IHRva2VuVXNhZ2UgfVxuXHRcdH07XG5cdH1cblx0YXN5bmMgKl9zdHJlYW1SZXNwb25zZUNodW5rcyhpbnB1dCwgb3B0aW9ucywgcnVuTWFuYWdlcikge1xuXHRcdGNvbnN0IHBhcmFtcyA9IHtcblx0XHRcdC4uLnRoaXMuaW52b2NhdGlvblBhcmFtcyhvcHRpb25zKSxcblx0XHRcdHByb21wdDogaW5wdXQsXG5cdFx0XHRzdHJlYW06IHRydWVcblx0XHR9O1xuXHRcdGNvbnN0IHN0cmVhbSA9IGF3YWl0IHRoaXMuY29tcGxldGlvbldpdGhSZXRyeShwYXJhbXMsIG9wdGlvbnMpO1xuXHRcdGZvciBhd2FpdCAoY29uc3QgZGF0YSBvZiBzdHJlYW0pIHtcblx0XHRcdGNvbnN0IGNob2ljZSA9IGRhdGE/LmNob2ljZXNbMF07XG5cdFx0XHRpZiAoIWNob2ljZSkgY29udGludWU7XG5cdFx0XHRjb25zdCBjaHVuayA9IG5ldyBHZW5lcmF0aW9uQ2h1bmsoe1xuXHRcdFx0XHR0ZXh0OiBjaG9pY2UudGV4dCxcblx0XHRcdFx0Z2VuZXJhdGlvbkluZm86IHsgZmluaXNoUmVhc29uOiBjaG9pY2UuZmluaXNoX3JlYXNvbiB9XG5cdFx0XHR9KTtcblx0XHRcdHlpZWxkIGNodW5rO1xuXHRcdFx0cnVuTWFuYWdlcj8uaGFuZGxlTExNTmV3VG9rZW4oY2h1bmsudGV4dCA/PyBcIlwiKTtcblx0XHR9XG5cdFx0aWYgKG9wdGlvbnMuc2lnbmFsPy5hYm9ydGVkKSB0aHJvdyBuZXcgRXJyb3IoXCJBYm9ydEVycm9yXCIpO1xuXHR9XG5cdGFzeW5jIGNvbXBsZXRpb25XaXRoUmV0cnkocmVxdWVzdCwgb3B0aW9ucykge1xuXHRcdGNvbnN0IHJlcXVlc3RPcHRpb25zID0gdGhpcy5fZ2V0Q2xpZW50T3B0aW9ucyhvcHRpb25zKTtcblx0XHRyZXR1cm4gdGhpcy5jYWxsZXIuY2FsbChhc3luYyAoKSA9PiB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCByZXMgPSBhd2FpdCB0aGlzLmNsaWVudC5jb21wbGV0aW9ucy5jcmVhdGUocmVxdWVzdCwgcmVxdWVzdE9wdGlvbnMpO1xuXHRcdFx0XHRyZXR1cm4gcmVzO1xuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRjb25zdCBlcnJvciA9IHdyYXBPcGVuQUlDbGllbnRFcnJvcihlKTtcblx0XHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblx0LyoqXG5cdCogQ2FsbHMgdGhlIE9wZW5BSSBBUEkgd2l0aCByZXRyeSBsb2dpYyBpbiBjYXNlIG9mIGZhaWx1cmVzLlxuXHQqIEBwYXJhbSByZXF1ZXN0IFRoZSByZXF1ZXN0IHRvIHNlbmQgdG8gdGhlIE9wZW5BSSBBUEkuXG5cdCogQHBhcmFtIG9wdGlvbnMgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBmb3IgdGhlIEFQSSBjYWxsLlxuXHQqIEByZXR1cm5zIFRoZSByZXNwb25zZSBmcm9tIHRoZSBPcGVuQUkgQVBJLlxuXHQqL1xuXHRfZ2V0Q2xpZW50T3B0aW9ucyhvcHRpb25zKSB7XG5cdFx0aWYgKCF0aGlzLmNsaWVudCkge1xuXHRcdFx0Y29uc3Qgb3BlbkFJRW5kcG9pbnRDb25maWcgPSB7IGJhc2VVUkw6IHRoaXMuY2xpZW50Q29uZmlnLmJhc2VVUkwgfTtcblx0XHRcdGNvbnN0IGVuZHBvaW50ID0gZ2V0RW5kcG9pbnQob3BlbkFJRW5kcG9pbnRDb25maWcpO1xuXHRcdFx0Y29uc3QgcGFyYW1zID0ge1xuXHRcdFx0XHQuLi50aGlzLmNsaWVudENvbmZpZyxcblx0XHRcdFx0YmFzZVVSTDogZW5kcG9pbnQsXG5cdFx0XHRcdHRpbWVvdXQ6IHRoaXMudGltZW91dCxcblx0XHRcdFx0bWF4UmV0cmllczogMFxuXHRcdFx0fTtcblx0XHRcdGlmICghcGFyYW1zLmJhc2VVUkwpIGRlbGV0ZSBwYXJhbXMuYmFzZVVSTDtcblx0XHRcdHRoaXMuY2xpZW50ID0gbmV3IE9wZW5BSSQxKHBhcmFtcyk7XG5cdFx0fVxuXHRcdGNvbnN0IHJlcXVlc3RPcHRpb25zID0ge1xuXHRcdFx0Li4udGhpcy5jbGllbnRDb25maWcsXG5cdFx0XHQuLi5vcHRpb25zXG5cdFx0fTtcblx0XHRyZXR1cm4gcmVxdWVzdE9wdGlvbnM7XG5cdH1cblx0X2xsbVR5cGUoKSB7XG5cdFx0cmV0dXJuIFwib3BlbmFpXCI7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgT3BlbkFJJDIgYXMgT3BlbkFJIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sbG1zLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/llms.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/tools/custom.js":
/*!*****************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/tools/custom.js ***!
  \*****************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   customTool: () => (/* binding */ customTool)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/runnables */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/index.js\");\n/* harmony import */ var _langchain_core_tools__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @langchain/core/tools */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tools/index.js\");\n/* harmony import */ var _langchain_core_singletons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @langchain/core/singletons */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/index.js\");\n\n\n\n\n//#region src/tools/custom.ts\nfunction customTool(func, fields) {\n\treturn new _langchain_core_tools__WEBPACK_IMPORTED_MODULE_1__.DynamicTool({\n\t\t...fields,\n\t\tdescription: \"\",\n\t\tmetadata: { customTool: fields },\n\t\tfunc: async (input, runManager, config) => new Promise((resolve, reject) => {\n\t\t\tconst childConfig = (0,_langchain_core_runnables__WEBPACK_IMPORTED_MODULE_0__.patchConfig)(config, { callbacks: runManager?.getChild() });\n\t\t\t_langchain_core_singletons__WEBPACK_IMPORTED_MODULE_2__.AsyncLocalStorageProviderSingleton.runWithConfig((0,_langchain_core_runnables__WEBPACK_IMPORTED_MODULE_0__.pickRunnableConfigKeys)(childConfig), async () => {\n\t\t\t\ttry {\n\t\t\t\t\tresolve(func(input, childConfig));\n\t\t\t\t} catch (e) {\n\t\t\t\t\treject(e);\n\t\t\t\t}\n\t\t\t});\n\t\t})\n\t});\n}\n\n//#endregion\n\n//# sourceMappingURL=custom.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvcGVuYWlAMS4wLjBfQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfX193c0A4LjE4LjMvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvdG9vbHMvY3VzdG9tLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBZ0Y7QUFDNUI7QUFDNEI7O0FBRWhGO0FBQ0E7QUFDQSxZQUFZLDhEQUFXO0FBQ3ZCO0FBQ0E7QUFDQSxjQUFjLG9CQUFvQjtBQUNsQztBQUNBLHVCQUF1QixzRUFBVyxXQUFXLG1DQUFtQztBQUNoRixHQUFHLDBGQUFrQyxlQUFlLGlGQUFzQjtBQUMxRTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNILEVBQUU7QUFDRjs7QUFFQTtBQUNzQjtBQUN0QiIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rb3BlbmFpQDEuMC4wX0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2X19fd3NAOC4xOC4zL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L3Rvb2xzL2N1c3RvbS5qcz8wYzc3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBhdGNoQ29uZmlnLCBwaWNrUnVubmFibGVDb25maWdLZXlzIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9ydW5uYWJsZXNcIjtcbmltcG9ydCB7IER5bmFtaWNUb29sIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS90b29sc1wiO1xuaW1wb3J0IHsgQXN5bmNMb2NhbFN0b3JhZ2VQcm92aWRlclNpbmdsZXRvbiB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvc2luZ2xldG9uc1wiO1xuXG4vLyNyZWdpb24gc3JjL3Rvb2xzL2N1c3RvbS50c1xuZnVuY3Rpb24gY3VzdG9tVG9vbChmdW5jLCBmaWVsZHMpIHtcblx0cmV0dXJuIG5ldyBEeW5hbWljVG9vbCh7XG5cdFx0Li4uZmllbGRzLFxuXHRcdGRlc2NyaXB0aW9uOiBcIlwiLFxuXHRcdG1ldGFkYXRhOiB7IGN1c3RvbVRvb2w6IGZpZWxkcyB9LFxuXHRcdGZ1bmM6IGFzeW5jIChpbnB1dCwgcnVuTWFuYWdlciwgY29uZmlnKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRjb25zdCBjaGlsZENvbmZpZyA9IHBhdGNoQ29uZmlnKGNvbmZpZywgeyBjYWxsYmFja3M6IHJ1bk1hbmFnZXI/LmdldENoaWxkKCkgfSk7XG5cdFx0XHRBc3luY0xvY2FsU3RvcmFnZVByb3ZpZGVyU2luZ2xldG9uLnJ1bldpdGhDb25maWcocGlja1J1bm5hYmxlQ29uZmlnS2V5cyhjaGlsZENvbmZpZyksIGFzeW5jICgpID0+IHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRyZXNvbHZlKGZ1bmMoaW5wdXQsIGNoaWxkQ29uZmlnKSk7XG5cdFx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0XHRyZWplY3QoZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0pXG5cdH0pO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IGN1c3RvbVRvb2wgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWN1c3RvbS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/tools/custom.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/tools/dalle.js":
/*!****************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/tools/dalle.js ***!
  \****************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DallEAPIWrapper: () => (/* binding */ DallEAPIWrapper)\n/* harmony export */ });\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! openai */ \"(rsc)/./node_modules/.pnpm/openai@6.7.0_ws@8.18.3_zod@3.25.76/node_modules/openai/index.mjs\");\n/* harmony import */ var _langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @langchain/core/utils/env */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/env.js\");\n/* harmony import */ var _langchain_core_tools__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @langchain/core/tools */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tools/index.js\");\n\n\n\n\n//#region src/tools/dalle.ts\n/**\n* A tool for generating images with Open AIs Dall-E 2 or 3 API.\n*/\nvar DallEAPIWrapper = class extends _langchain_core_tools__WEBPACK_IMPORTED_MODULE_2__.Tool {\n\tstatic lc_name() {\n\t\treturn \"DallEAPIWrapper\";\n\t}\n\tname = \"dalle_api_wrapper\";\n\tdescription = \"A wrapper around OpenAI DALL-E API. Useful for when you need to generate images from a text description. Input should be an image description.\";\n\tclient;\n\tstatic toolName = \"dalle_api_wrapper\";\n\tmodel = \"dall-e-3\";\n\tstyle = \"vivid\";\n\tquality = \"standard\";\n\tn = 1;\n\tsize = \"1024x1024\";\n\tdallEResponseFormat = \"url\";\n\tuser;\n\tconstructor(fields) {\n\t\tif (fields?.responseFormat !== void 0 && [\"url\", \"b64_json\"].includes(fields.responseFormat)) {\n\t\t\tfields.dallEResponseFormat = fields.responseFormat;\n\t\t\tfields.responseFormat = \"content\";\n\t\t}\n\t\tsuper(fields);\n\t\tconst openAIApiKey = fields?.apiKey ?? fields?.openAIApiKey ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_1__.getEnvironmentVariable)(\"OPENAI_API_KEY\");\n\t\tconst organization = fields?.organization ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_1__.getEnvironmentVariable)(\"OPENAI_ORGANIZATION\");\n\t\tconst clientConfig = {\n\t\t\tapiKey: openAIApiKey,\n\t\t\torganization,\n\t\t\tdangerouslyAllowBrowser: true,\n\t\t\tbaseURL: fields?.baseUrl\n\t\t};\n\t\tthis.client = new openai__WEBPACK_IMPORTED_MODULE_0__.OpenAI(clientConfig);\n\t\tthis.model = fields?.model ?? fields?.modelName ?? this.model;\n\t\tthis.style = fields?.style ?? this.style;\n\t\tthis.quality = fields?.quality ?? this.quality;\n\t\tthis.n = fields?.n ?? this.n;\n\t\tthis.size = fields?.size ?? this.size;\n\t\tthis.dallEResponseFormat = fields?.dallEResponseFormat ?? this.dallEResponseFormat;\n\t\tthis.user = fields?.user;\n\t}\n\t/**\n\t* Processes the API response if multiple images are generated.\n\t* Returns a list of MessageContentImageUrl objects. If the response\n\t* format is `url`, then the `image_url` field will contain the URL.\n\t* If it is `b64_json`, then the `image_url` field will contain an object\n\t* with a `url` field with the base64 encoded image.\n\t*\n\t* @param {OpenAIClient.Images.ImagesResponse[]} response The API response\n\t* @returns {MessageContentImageUrl[]}\n\t*/\n\tprocessMultipleGeneratedUrls(response) {\n\t\tif (this.dallEResponseFormat === \"url\") return response.flatMap((res) => {\n\t\t\tconst imageUrlContent = res.data?.flatMap((item) => {\n\t\t\t\tif (!item.url) return [];\n\t\t\t\treturn {\n\t\t\t\t\ttype: \"image_url\",\n\t\t\t\t\timage_url: item.url\n\t\t\t\t};\n\t\t\t}).filter((item) => item !== void 0 && item.type === \"image_url\" && typeof item.image_url === \"string\" && item.image_url !== void 0) ?? [];\n\t\t\treturn imageUrlContent;\n\t\t});\n\t\telse return response.flatMap((res) => {\n\t\t\tconst b64Content = res.data?.flatMap((item) => {\n\t\t\t\tif (!item.b64_json) return [];\n\t\t\t\treturn {\n\t\t\t\t\ttype: \"image_url\",\n\t\t\t\t\timage_url: { url: item.b64_json }\n\t\t\t\t};\n\t\t\t}).filter((item) => item !== void 0 && item.type === \"image_url\" && typeof item.image_url === \"object\" && \"url\" in item.image_url && typeof item.image_url.url === \"string\" && item.image_url.url !== void 0) ?? [];\n\t\t\treturn b64Content;\n\t\t});\n\t}\n\t/** @ignore */\n\tasync _call(input) {\n\t\tconst generateImageFields = {\n\t\t\tmodel: this.model,\n\t\t\tprompt: input,\n\t\t\tn: 1,\n\t\t\tsize: this.size,\n\t\t\tresponse_format: this.dallEResponseFormat,\n\t\t\tstyle: this.style,\n\t\t\tquality: this.quality,\n\t\t\tuser: this.user\n\t\t};\n\t\tif (this.n > 1) {\n\t\t\tconst results = await Promise.all(Array.from({ length: this.n }).map(() => this.client.images.generate(generateImageFields)));\n\t\t\treturn this.processMultipleGeneratedUrls(results);\n\t\t}\n\t\tconst response = await this.client.images.generate(generateImageFields);\n\t\tlet data = \"\";\n\t\tif (this.dallEResponseFormat === \"url\") [data] = response.data?.map((item) => item.url).filter((url) => url !== \"undefined\") ?? [];\n\t\telse [data] = response.data?.map((item) => item.b64_json).filter((b64_json) => b64_json !== \"undefined\") ?? [];\n\t\treturn data;\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=dalle.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvcGVuYWlAMS4wLjBfQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfX193c0A4LjE4LjMvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvdG9vbHMvZGFsbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUE0QztBQUN1QjtBQUN0Qjs7QUFFN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsdURBQUk7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSxpRkFBc0I7QUFDdkYsK0NBQStDLGlGQUFzQjtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsMENBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxzQ0FBc0M7QUFDakQsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0QsZ0JBQWdCO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUMyQjtBQUMzQiIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rb3BlbmFpQDEuMC4wX0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2X19fd3NAOC4xOC4zL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L3Rvb2xzL2RhbGxlLmpzPzQwOTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT3BlbkFJIGFzIE9wZW5BSSQxIH0gZnJvbSBcIm9wZW5haVwiO1xuaW1wb3J0IHsgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZSB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvdXRpbHMvZW52XCI7XG5pbXBvcnQgeyBUb29sIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS90b29sc1wiO1xuXG4vLyNyZWdpb24gc3JjL3Rvb2xzL2RhbGxlLnRzXG4vKipcbiogQSB0b29sIGZvciBnZW5lcmF0aW5nIGltYWdlcyB3aXRoIE9wZW4gQUlzIERhbGwtRSAyIG9yIDMgQVBJLlxuKi9cbnZhciBEYWxsRUFQSVdyYXBwZXIgPSBjbGFzcyBleHRlbmRzIFRvb2wge1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJEYWxsRUFQSVdyYXBwZXJcIjtcblx0fVxuXHRuYW1lID0gXCJkYWxsZV9hcGlfd3JhcHBlclwiO1xuXHRkZXNjcmlwdGlvbiA9IFwiQSB3cmFwcGVyIGFyb3VuZCBPcGVuQUkgREFMTC1FIEFQSS4gVXNlZnVsIGZvciB3aGVuIHlvdSBuZWVkIHRvIGdlbmVyYXRlIGltYWdlcyBmcm9tIGEgdGV4dCBkZXNjcmlwdGlvbi4gSW5wdXQgc2hvdWxkIGJlIGFuIGltYWdlIGRlc2NyaXB0aW9uLlwiO1xuXHRjbGllbnQ7XG5cdHN0YXRpYyB0b29sTmFtZSA9IFwiZGFsbGVfYXBpX3dyYXBwZXJcIjtcblx0bW9kZWwgPSBcImRhbGwtZS0zXCI7XG5cdHN0eWxlID0gXCJ2aXZpZFwiO1xuXHRxdWFsaXR5ID0gXCJzdGFuZGFyZFwiO1xuXHRuID0gMTtcblx0c2l6ZSA9IFwiMTAyNHgxMDI0XCI7XG5cdGRhbGxFUmVzcG9uc2VGb3JtYXQgPSBcInVybFwiO1xuXHR1c2VyO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRpZiAoZmllbGRzPy5yZXNwb25zZUZvcm1hdCAhPT0gdm9pZCAwICYmIFtcInVybFwiLCBcImI2NF9qc29uXCJdLmluY2x1ZGVzKGZpZWxkcy5yZXNwb25zZUZvcm1hdCkpIHtcblx0XHRcdGZpZWxkcy5kYWxsRVJlc3BvbnNlRm9ybWF0ID0gZmllbGRzLnJlc3BvbnNlRm9ybWF0O1xuXHRcdFx0ZmllbGRzLnJlc3BvbnNlRm9ybWF0ID0gXCJjb250ZW50XCI7XG5cdFx0fVxuXHRcdHN1cGVyKGZpZWxkcyk7XG5cdFx0Y29uc3Qgb3BlbkFJQXBpS2V5ID0gZmllbGRzPy5hcGlLZXkgPz8gZmllbGRzPy5vcGVuQUlBcGlLZXkgPz8gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIk9QRU5BSV9BUElfS0VZXCIpO1xuXHRcdGNvbnN0IG9yZ2FuaXphdGlvbiA9IGZpZWxkcz8ub3JnYW5pemF0aW9uID8/IGdldEVudmlyb25tZW50VmFyaWFibGUoXCJPUEVOQUlfT1JHQU5JWkFUSU9OXCIpO1xuXHRcdGNvbnN0IGNsaWVudENvbmZpZyA9IHtcblx0XHRcdGFwaUtleTogb3BlbkFJQXBpS2V5LFxuXHRcdFx0b3JnYW5pemF0aW9uLFxuXHRcdFx0ZGFuZ2Vyb3VzbHlBbGxvd0Jyb3dzZXI6IHRydWUsXG5cdFx0XHRiYXNlVVJMOiBmaWVsZHM/LmJhc2VVcmxcblx0XHR9O1xuXHRcdHRoaXMuY2xpZW50ID0gbmV3IE9wZW5BSSQxKGNsaWVudENvbmZpZyk7XG5cdFx0dGhpcy5tb2RlbCA9IGZpZWxkcz8ubW9kZWwgPz8gZmllbGRzPy5tb2RlbE5hbWUgPz8gdGhpcy5tb2RlbDtcblx0XHR0aGlzLnN0eWxlID0gZmllbGRzPy5zdHlsZSA/PyB0aGlzLnN0eWxlO1xuXHRcdHRoaXMucXVhbGl0eSA9IGZpZWxkcz8ucXVhbGl0eSA/PyB0aGlzLnF1YWxpdHk7XG5cdFx0dGhpcy5uID0gZmllbGRzPy5uID8/IHRoaXMubjtcblx0XHR0aGlzLnNpemUgPSBmaWVsZHM/LnNpemUgPz8gdGhpcy5zaXplO1xuXHRcdHRoaXMuZGFsbEVSZXNwb25zZUZvcm1hdCA9IGZpZWxkcz8uZGFsbEVSZXNwb25zZUZvcm1hdCA/PyB0aGlzLmRhbGxFUmVzcG9uc2VGb3JtYXQ7XG5cdFx0dGhpcy51c2VyID0gZmllbGRzPy51c2VyO1xuXHR9XG5cdC8qKlxuXHQqIFByb2Nlc3NlcyB0aGUgQVBJIHJlc3BvbnNlIGlmIG11bHRpcGxlIGltYWdlcyBhcmUgZ2VuZXJhdGVkLlxuXHQqIFJldHVybnMgYSBsaXN0IG9mIE1lc3NhZ2VDb250ZW50SW1hZ2VVcmwgb2JqZWN0cy4gSWYgdGhlIHJlc3BvbnNlXG5cdCogZm9ybWF0IGlzIGB1cmxgLCB0aGVuIHRoZSBgaW1hZ2VfdXJsYCBmaWVsZCB3aWxsIGNvbnRhaW4gdGhlIFVSTC5cblx0KiBJZiBpdCBpcyBgYjY0X2pzb25gLCB0aGVuIHRoZSBgaW1hZ2VfdXJsYCBmaWVsZCB3aWxsIGNvbnRhaW4gYW4gb2JqZWN0XG5cdCogd2l0aCBhIGB1cmxgIGZpZWxkIHdpdGggdGhlIGJhc2U2NCBlbmNvZGVkIGltYWdlLlxuXHQqXG5cdCogQHBhcmFtIHtPcGVuQUlDbGllbnQuSW1hZ2VzLkltYWdlc1Jlc3BvbnNlW119IHJlc3BvbnNlIFRoZSBBUEkgcmVzcG9uc2Vcblx0KiBAcmV0dXJucyB7TWVzc2FnZUNvbnRlbnRJbWFnZVVybFtdfVxuXHQqL1xuXHRwcm9jZXNzTXVsdGlwbGVHZW5lcmF0ZWRVcmxzKHJlc3BvbnNlKSB7XG5cdFx0aWYgKHRoaXMuZGFsbEVSZXNwb25zZUZvcm1hdCA9PT0gXCJ1cmxcIikgcmV0dXJuIHJlc3BvbnNlLmZsYXRNYXAoKHJlcykgPT4ge1xuXHRcdFx0Y29uc3QgaW1hZ2VVcmxDb250ZW50ID0gcmVzLmRhdGE/LmZsYXRNYXAoKGl0ZW0pID0+IHtcblx0XHRcdFx0aWYgKCFpdGVtLnVybCkgcmV0dXJuIFtdO1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdHR5cGU6IFwiaW1hZ2VfdXJsXCIsXG5cdFx0XHRcdFx0aW1hZ2VfdXJsOiBpdGVtLnVybFxuXHRcdFx0XHR9O1xuXHRcdFx0fSkuZmlsdGVyKChpdGVtKSA9PiBpdGVtICE9PSB2b2lkIDAgJiYgaXRlbS50eXBlID09PSBcImltYWdlX3VybFwiICYmIHR5cGVvZiBpdGVtLmltYWdlX3VybCA9PT0gXCJzdHJpbmdcIiAmJiBpdGVtLmltYWdlX3VybCAhPT0gdm9pZCAwKSA/PyBbXTtcblx0XHRcdHJldHVybiBpbWFnZVVybENvbnRlbnQ7XG5cdFx0fSk7XG5cdFx0ZWxzZSByZXR1cm4gcmVzcG9uc2UuZmxhdE1hcCgocmVzKSA9PiB7XG5cdFx0XHRjb25zdCBiNjRDb250ZW50ID0gcmVzLmRhdGE/LmZsYXRNYXAoKGl0ZW0pID0+IHtcblx0XHRcdFx0aWYgKCFpdGVtLmI2NF9qc29uKSByZXR1cm4gW107XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0dHlwZTogXCJpbWFnZV91cmxcIixcblx0XHRcdFx0XHRpbWFnZV91cmw6IHsgdXJsOiBpdGVtLmI2NF9qc29uIH1cblx0XHRcdFx0fTtcblx0XHRcdH0pLmZpbHRlcigoaXRlbSkgPT4gaXRlbSAhPT0gdm9pZCAwICYmIGl0ZW0udHlwZSA9PT0gXCJpbWFnZV91cmxcIiAmJiB0eXBlb2YgaXRlbS5pbWFnZV91cmwgPT09IFwib2JqZWN0XCIgJiYgXCJ1cmxcIiBpbiBpdGVtLmltYWdlX3VybCAmJiB0eXBlb2YgaXRlbS5pbWFnZV91cmwudXJsID09PSBcInN0cmluZ1wiICYmIGl0ZW0uaW1hZ2VfdXJsLnVybCAhPT0gdm9pZCAwKSA/PyBbXTtcblx0XHRcdHJldHVybiBiNjRDb250ZW50O1xuXHRcdH0pO1xuXHR9XG5cdC8qKiBAaWdub3JlICovXG5cdGFzeW5jIF9jYWxsKGlucHV0KSB7XG5cdFx0Y29uc3QgZ2VuZXJhdGVJbWFnZUZpZWxkcyA9IHtcblx0XHRcdG1vZGVsOiB0aGlzLm1vZGVsLFxuXHRcdFx0cHJvbXB0OiBpbnB1dCxcblx0XHRcdG46IDEsXG5cdFx0XHRzaXplOiB0aGlzLnNpemUsXG5cdFx0XHRyZXNwb25zZV9mb3JtYXQ6IHRoaXMuZGFsbEVSZXNwb25zZUZvcm1hdCxcblx0XHRcdHN0eWxlOiB0aGlzLnN0eWxlLFxuXHRcdFx0cXVhbGl0eTogdGhpcy5xdWFsaXR5LFxuXHRcdFx0dXNlcjogdGhpcy51c2VyXG5cdFx0fTtcblx0XHRpZiAodGhpcy5uID4gMSkge1xuXHRcdFx0Y29uc3QgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKEFycmF5LmZyb20oeyBsZW5ndGg6IHRoaXMubiB9KS5tYXAoKCkgPT4gdGhpcy5jbGllbnQuaW1hZ2VzLmdlbmVyYXRlKGdlbmVyYXRlSW1hZ2VGaWVsZHMpKSk7XG5cdFx0XHRyZXR1cm4gdGhpcy5wcm9jZXNzTXVsdGlwbGVHZW5lcmF0ZWRVcmxzKHJlc3VsdHMpO1xuXHRcdH1cblx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2xpZW50LmltYWdlcy5nZW5lcmF0ZShnZW5lcmF0ZUltYWdlRmllbGRzKTtcblx0XHRsZXQgZGF0YSA9IFwiXCI7XG5cdFx0aWYgKHRoaXMuZGFsbEVSZXNwb25zZUZvcm1hdCA9PT0gXCJ1cmxcIikgW2RhdGFdID0gcmVzcG9uc2UuZGF0YT8ubWFwKChpdGVtKSA9PiBpdGVtLnVybCkuZmlsdGVyKCh1cmwpID0+IHVybCAhPT0gXCJ1bmRlZmluZWRcIikgPz8gW107XG5cdFx0ZWxzZSBbZGF0YV0gPSByZXNwb25zZS5kYXRhPy5tYXAoKGl0ZW0pID0+IGl0ZW0uYjY0X2pzb24pLmZpbHRlcigoYjY0X2pzb24pID0+IGI2NF9qc29uICE9PSBcInVuZGVmaW5lZFwiKSA/PyBbXTtcblx0XHRyZXR1cm4gZGF0YTtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBEYWxsRUFQSVdyYXBwZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhbGxlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/tools/dalle.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/tools/index.js":
/*!****************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/tools/index.js ***!
  \****************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _dalle_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dalle.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/tools/dalle.js\");\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvcGVuYWlAMS4wLjBfQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfX193c0A4LjE4LjMvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvdG9vbHMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7QUFBNkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK29wZW5haUAxLjAuMF9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl9fX3dzQDguMTguMy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9vcGVuYWkvZGlzdC90b29scy9pbmRleC5qcz9lMTIzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERhbGxFQVBJV3JhcHBlciB9IGZyb20gXCIuL2RhbGxlLmpzXCI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/tools/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/azure.js":
/*!****************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/azure.js ***!
  \****************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getEndpoint: () => (/* binding */ getEndpoint),\n/* harmony export */   isHeaders: () => (/* binding */ isHeaders),\n/* harmony export */   normalizeHeaders: () => (/* binding */ normalizeHeaders)\n/* harmony export */ });\n/* harmony import */ var _misc_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./misc.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/misc.js\");\n\n\n//#region src/utils/azure.ts\n/**\n* This function generates an endpoint URL for (Azure) OpenAI\n* based on the configuration parameters provided.\n*\n* @param {OpenAIEndpointConfig} config - The configuration object for the (Azure) endpoint.\n*\n* @property {string} config.azureOpenAIApiDeploymentName - The deployment name of Azure OpenAI.\n* @property {string} config.azureOpenAIApiInstanceName - The instance name of Azure OpenAI, e.g. `example-resource`.\n* @property {string} config.azureOpenAIApiKey - The API Key for Azure OpenAI.\n* @property {string} config.azureOpenAIBasePath - The base path for Azure OpenAI, e.g. `https://example-resource.azure.openai.com/openai/deployments/`.\n* @property {string} config.baseURL - Some other custom base path URL.\n* @property {string} config.azureOpenAIEndpoint - The endpoint for the Azure OpenAI instance, e.g. `https://example-resource.azure.openai.com/`.\n*\n* The function operates as follows:\n* - If both `azureOpenAIBasePath` and `azureOpenAIApiDeploymentName` (plus `azureOpenAIApiKey`) are provided, it returns an URL combining these two parameters (`${azureOpenAIBasePath}/${azureOpenAIApiDeploymentName}`).\n* - If both `azureOpenAIEndpoint` and `azureOpenAIApiDeploymentName` (plus `azureOpenAIApiKey`) are provided, it returns an URL combining these two parameters (`${azureOpenAIEndpoint}/openai/deployments/${azureOpenAIApiDeploymentName}`).\n* - If `azureOpenAIApiKey` is provided, it checks for `azureOpenAIApiInstanceName` and `azureOpenAIApiDeploymentName` and throws an error if any of these is missing. If both are provided, it generates an URL incorporating these parameters.\n* - If none of the above conditions are met, return any custom `baseURL`.\n* - The function returns the generated URL as a string, or undefined if no custom paths are specified.\n*\n* @throws Will throw an error if the necessary parameters for generating the URL are missing.\n*\n* @returns {string | undefined} The generated (Azure) OpenAI endpoint URL.\n*/\nfunction getEndpoint(config) {\n\tconst { azureOpenAIApiDeploymentName, azureOpenAIApiInstanceName, azureOpenAIApiKey, azureOpenAIBasePath, baseURL, azureADTokenProvider, azureOpenAIEndpoint } = config;\n\tif ((azureOpenAIApiKey || azureADTokenProvider) && azureOpenAIBasePath && azureOpenAIApiDeploymentName) return `${azureOpenAIBasePath}/${azureOpenAIApiDeploymentName}`;\n\tif ((azureOpenAIApiKey || azureADTokenProvider) && azureOpenAIEndpoint && azureOpenAIApiDeploymentName) return `${azureOpenAIEndpoint}/openai/deployments/${azureOpenAIApiDeploymentName}`;\n\tif (azureOpenAIApiKey || azureADTokenProvider) {\n\t\tif (!azureOpenAIApiInstanceName) throw new Error(\"azureOpenAIApiInstanceName is required when using azureOpenAIApiKey\");\n\t\tif (!azureOpenAIApiDeploymentName) throw new Error(\"azureOpenAIApiDeploymentName is a required parameter when using azureOpenAIApiKey\");\n\t\treturn `https://${azureOpenAIApiInstanceName}.openai.azure.com/openai/deployments/${azureOpenAIApiDeploymentName}`;\n\t}\n\treturn baseURL;\n}\nfunction isHeaders(headers) {\n\treturn typeof Headers !== \"undefined\" && headers !== null && typeof headers === \"object\" && Object.prototype.toString.call(headers) === \"[object Headers]\";\n}\n/**\n* Normalizes various header formats into a consistent Record format.\n*\n* This function accepts headers in multiple formats and converts them to a\n* Record<string, HeaderValue | readonly HeaderValue[]> for consistent handling.\n*\n* @param headers - The headers to normalize. Can be:\n*   - A Headers instance\n*   - An array of [key, value] pairs\n*   - A plain object with string keys\n*   - A NullableHeaders-like object with a 'values' property containing Headers\n*   - null or undefined\n* @returns A normalized Record containing the header key-value pairs\n*\n* @example\n* ```ts\n* // With Headers instance\n* const headers1 = new Headers([['content-type', 'application/json']]);\n* const normalized1 = normalizeHeaders(headers1);\n*\n* // With plain object\n* const headers2 = { 'content-type': 'application/json' };\n* const normalized2 = normalizeHeaders(headers2);\n*\n* // With array of pairs\n* const headers3 = [['content-type', 'application/json']];\n* const normalized3 = normalizeHeaders(headers3);\n* ```\n*/\nfunction normalizeHeaders(headers) {\n\tconst output = (0,_misc_js__WEBPACK_IMPORTED_MODULE_0__.iife)(() => {\n\t\tif (isHeaders(headers)) return headers;\n\t\telse if (Array.isArray(headers)) return new Headers(headers);\n\t\telse if (typeof headers === \"object\" && headers !== null && \"values\" in headers && isHeaders(headers.values)) return headers.values;\n\t\telse if (typeof headers === \"object\" && headers !== null) {\n\t\t\tconst entries = Object.entries(headers).filter(([, v]) => typeof v === \"string\").map(([k, v]) => [k, v]);\n\t\t\treturn new Headers(entries);\n\t\t}\n\t\treturn new Headers();\n\t});\n\treturn Object.fromEntries(output.entries());\n}\n\n//#endregion\n\n//# sourceMappingURL=azure.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvcGVuYWlAMS4wLjBfQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfX193c0A4LjE4LjMvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvdXRpbHMvYXp1cmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFpQzs7QUFFakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsc0JBQXNCO0FBQ2hDO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBLG1LQUFtSyxvQkFBb0IsR0FBRyw2QkFBNkI7QUFDdk4sbUtBQW1LLG9CQUFvQixzQkFBc0IsNkJBQTZCO0FBQzFPO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksb0JBQW9CO0FBQ2hDO0FBQ0E7QUFDQSxTQUFTLHVKQUF1SjtBQUNoSyxtSEFBbUgsb0JBQW9CLEdBQUcsNkJBQTZCO0FBQ3ZLLG1IQUFtSCxvQkFBb0Isc0JBQXNCLDZCQUE2QjtBQUMxTDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsMkJBQTJCLHVDQUF1Qyw2QkFBNkI7QUFDbkg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsOENBQUk7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ29EO0FBQ3BEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvcGVuYWlAMS4wLjBfQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfX193c0A4LjE4LjMvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvdXRpbHMvYXp1cmUuanM/NmIxMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpaWZlIH0gZnJvbSBcIi4vbWlzYy5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL2F6dXJlLnRzXG4vKipcbiogVGhpcyBmdW5jdGlvbiBnZW5lcmF0ZXMgYW4gZW5kcG9pbnQgVVJMIGZvciAoQXp1cmUpIE9wZW5BSVxuKiBiYXNlZCBvbiB0aGUgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzIHByb3ZpZGVkLlxuKlxuKiBAcGFyYW0ge09wZW5BSUVuZHBvaW50Q29uZmlnfSBjb25maWcgLSBUaGUgY29uZmlndXJhdGlvbiBvYmplY3QgZm9yIHRoZSAoQXp1cmUpIGVuZHBvaW50LlxuKlxuKiBAcHJvcGVydHkge3N0cmluZ30gY29uZmlnLmF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWUgLSBUaGUgZGVwbG95bWVudCBuYW1lIG9mIEF6dXJlIE9wZW5BSS5cbiogQHByb3BlcnR5IHtzdHJpbmd9IGNvbmZpZy5henVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZSAtIFRoZSBpbnN0YW5jZSBuYW1lIG9mIEF6dXJlIE9wZW5BSSwgZS5nLiBgZXhhbXBsZS1yZXNvdXJjZWAuXG4qIEBwcm9wZXJ0eSB7c3RyaW5nfSBjb25maWcuYXp1cmVPcGVuQUlBcGlLZXkgLSBUaGUgQVBJIEtleSBmb3IgQXp1cmUgT3BlbkFJLlxuKiBAcHJvcGVydHkge3N0cmluZ30gY29uZmlnLmF6dXJlT3BlbkFJQmFzZVBhdGggLSBUaGUgYmFzZSBwYXRoIGZvciBBenVyZSBPcGVuQUksIGUuZy4gYGh0dHBzOi8vZXhhbXBsZS1yZXNvdXJjZS5henVyZS5vcGVuYWkuY29tL29wZW5haS9kZXBsb3ltZW50cy9gLlxuKiBAcHJvcGVydHkge3N0cmluZ30gY29uZmlnLmJhc2VVUkwgLSBTb21lIG90aGVyIGN1c3RvbSBiYXNlIHBhdGggVVJMLlxuKiBAcHJvcGVydHkge3N0cmluZ30gY29uZmlnLmF6dXJlT3BlbkFJRW5kcG9pbnQgLSBUaGUgZW5kcG9pbnQgZm9yIHRoZSBBenVyZSBPcGVuQUkgaW5zdGFuY2UsIGUuZy4gYGh0dHBzOi8vZXhhbXBsZS1yZXNvdXJjZS5henVyZS5vcGVuYWkuY29tL2AuXG4qXG4qIFRoZSBmdW5jdGlvbiBvcGVyYXRlcyBhcyBmb2xsb3dzOlxuKiAtIElmIGJvdGggYGF6dXJlT3BlbkFJQmFzZVBhdGhgIGFuZCBgYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZWAgKHBsdXMgYGF6dXJlT3BlbkFJQXBpS2V5YCkgYXJlIHByb3ZpZGVkLCBpdCByZXR1cm5zIGFuIFVSTCBjb21iaW5pbmcgdGhlc2UgdHdvIHBhcmFtZXRlcnMgKGAke2F6dXJlT3BlbkFJQmFzZVBhdGh9LyR7YXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZX1gKS5cbiogLSBJZiBib3RoIGBhenVyZU9wZW5BSUVuZHBvaW50YCBhbmQgYGF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWVgIChwbHVzIGBhenVyZU9wZW5BSUFwaUtleWApIGFyZSBwcm92aWRlZCwgaXQgcmV0dXJucyBhbiBVUkwgY29tYmluaW5nIHRoZXNlIHR3byBwYXJhbWV0ZXJzIChgJHthenVyZU9wZW5BSUVuZHBvaW50fS9vcGVuYWkvZGVwbG95bWVudHMvJHthenVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lfWApLlxuKiAtIElmIGBhenVyZU9wZW5BSUFwaUtleWAgaXMgcHJvdmlkZWQsIGl0IGNoZWNrcyBmb3IgYGF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lYCBhbmQgYGF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWVgIGFuZCB0aHJvd3MgYW4gZXJyb3IgaWYgYW55IG9mIHRoZXNlIGlzIG1pc3NpbmcuIElmIGJvdGggYXJlIHByb3ZpZGVkLCBpdCBnZW5lcmF0ZXMgYW4gVVJMIGluY29ycG9yYXRpbmcgdGhlc2UgcGFyYW1ldGVycy5cbiogLSBJZiBub25lIG9mIHRoZSBhYm92ZSBjb25kaXRpb25zIGFyZSBtZXQsIHJldHVybiBhbnkgY3VzdG9tIGBiYXNlVVJMYC5cbiogLSBUaGUgZnVuY3Rpb24gcmV0dXJucyB0aGUgZ2VuZXJhdGVkIFVSTCBhcyBhIHN0cmluZywgb3IgdW5kZWZpbmVkIGlmIG5vIGN1c3RvbSBwYXRocyBhcmUgc3BlY2lmaWVkLlxuKlxuKiBAdGhyb3dzIFdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIG5lY2Vzc2FyeSBwYXJhbWV0ZXJzIGZvciBnZW5lcmF0aW5nIHRoZSBVUkwgYXJlIG1pc3NpbmcuXG4qXG4qIEByZXR1cm5zIHtzdHJpbmcgfCB1bmRlZmluZWR9IFRoZSBnZW5lcmF0ZWQgKEF6dXJlKSBPcGVuQUkgZW5kcG9pbnQgVVJMLlxuKi9cbmZ1bmN0aW9uIGdldEVuZHBvaW50KGNvbmZpZykge1xuXHRjb25zdCB7IGF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWUsIGF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lLCBhenVyZU9wZW5BSUFwaUtleSwgYXp1cmVPcGVuQUlCYXNlUGF0aCwgYmFzZVVSTCwgYXp1cmVBRFRva2VuUHJvdmlkZXIsIGF6dXJlT3BlbkFJRW5kcG9pbnQgfSA9IGNvbmZpZztcblx0aWYgKChhenVyZU9wZW5BSUFwaUtleSB8fCBhenVyZUFEVG9rZW5Qcm92aWRlcikgJiYgYXp1cmVPcGVuQUlCYXNlUGF0aCAmJiBhenVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lKSByZXR1cm4gYCR7YXp1cmVPcGVuQUlCYXNlUGF0aH0vJHthenVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lfWA7XG5cdGlmICgoYXp1cmVPcGVuQUlBcGlLZXkgfHwgYXp1cmVBRFRva2VuUHJvdmlkZXIpICYmIGF6dXJlT3BlbkFJRW5kcG9pbnQgJiYgYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSkgcmV0dXJuIGAke2F6dXJlT3BlbkFJRW5kcG9pbnR9L29wZW5haS9kZXBsb3ltZW50cy8ke2F6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWV9YDtcblx0aWYgKGF6dXJlT3BlbkFJQXBpS2V5IHx8IGF6dXJlQURUb2tlblByb3ZpZGVyKSB7XG5cdFx0aWYgKCFhenVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZSkgdGhyb3cgbmV3IEVycm9yKFwiYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWUgaXMgcmVxdWlyZWQgd2hlbiB1c2luZyBhenVyZU9wZW5BSUFwaUtleVwiKTtcblx0XHRpZiAoIWF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWUpIHRocm93IG5ldyBFcnJvcihcImF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWUgaXMgYSByZXF1aXJlZCBwYXJhbWV0ZXIgd2hlbiB1c2luZyBhenVyZU9wZW5BSUFwaUtleVwiKTtcblx0XHRyZXR1cm4gYGh0dHBzOi8vJHthenVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZX0ub3BlbmFpLmF6dXJlLmNvbS9vcGVuYWkvZGVwbG95bWVudHMvJHthenVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lfWA7XG5cdH1cblx0cmV0dXJuIGJhc2VVUkw7XG59XG5mdW5jdGlvbiBpc0hlYWRlcnMoaGVhZGVycykge1xuXHRyZXR1cm4gdHlwZW9mIEhlYWRlcnMgIT09IFwidW5kZWZpbmVkXCIgJiYgaGVhZGVycyAhPT0gbnVsbCAmJiB0eXBlb2YgaGVhZGVycyA9PT0gXCJvYmplY3RcIiAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaGVhZGVycykgPT09IFwiW29iamVjdCBIZWFkZXJzXVwiO1xufVxuLyoqXG4qIE5vcm1hbGl6ZXMgdmFyaW91cyBoZWFkZXIgZm9ybWF0cyBpbnRvIGEgY29uc2lzdGVudCBSZWNvcmQgZm9ybWF0LlxuKlxuKiBUaGlzIGZ1bmN0aW9uIGFjY2VwdHMgaGVhZGVycyBpbiBtdWx0aXBsZSBmb3JtYXRzIGFuZCBjb252ZXJ0cyB0aGVtIHRvIGFcbiogUmVjb3JkPHN0cmluZywgSGVhZGVyVmFsdWUgfCByZWFkb25seSBIZWFkZXJWYWx1ZVtdPiBmb3IgY29uc2lzdGVudCBoYW5kbGluZy5cbipcbiogQHBhcmFtIGhlYWRlcnMgLSBUaGUgaGVhZGVycyB0byBub3JtYWxpemUuIENhbiBiZTpcbiogICAtIEEgSGVhZGVycyBpbnN0YW5jZVxuKiAgIC0gQW4gYXJyYXkgb2YgW2tleSwgdmFsdWVdIHBhaXJzXG4qICAgLSBBIHBsYWluIG9iamVjdCB3aXRoIHN0cmluZyBrZXlzXG4qICAgLSBBIE51bGxhYmxlSGVhZGVycy1saWtlIG9iamVjdCB3aXRoIGEgJ3ZhbHVlcycgcHJvcGVydHkgY29udGFpbmluZyBIZWFkZXJzXG4qICAgLSBudWxsIG9yIHVuZGVmaW5lZFxuKiBAcmV0dXJucyBBIG5vcm1hbGl6ZWQgUmVjb3JkIGNvbnRhaW5pbmcgdGhlIGhlYWRlciBrZXktdmFsdWUgcGFpcnNcbipcbiogQGV4YW1wbGVcbiogYGBgdHNcbiogLy8gV2l0aCBIZWFkZXJzIGluc3RhbmNlXG4qIGNvbnN0IGhlYWRlcnMxID0gbmV3IEhlYWRlcnMoW1snY29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nXV0pO1xuKiBjb25zdCBub3JtYWxpemVkMSA9IG5vcm1hbGl6ZUhlYWRlcnMoaGVhZGVyczEpO1xuKlxuKiAvLyBXaXRoIHBsYWluIG9iamVjdFxuKiBjb25zdCBoZWFkZXJzMiA9IHsgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9O1xuKiBjb25zdCBub3JtYWxpemVkMiA9IG5vcm1hbGl6ZUhlYWRlcnMoaGVhZGVyczIpO1xuKlxuKiAvLyBXaXRoIGFycmF5IG9mIHBhaXJzXG4qIGNvbnN0IGhlYWRlcnMzID0gW1snY29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nXV07XG4qIGNvbnN0IG5vcm1hbGl6ZWQzID0gbm9ybWFsaXplSGVhZGVycyhoZWFkZXJzMyk7XG4qIGBgYFxuKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZUhlYWRlcnMoaGVhZGVycykge1xuXHRjb25zdCBvdXRwdXQgPSBpaWZlKCgpID0+IHtcblx0XHRpZiAoaXNIZWFkZXJzKGhlYWRlcnMpKSByZXR1cm4gaGVhZGVycztcblx0XHRlbHNlIGlmIChBcnJheS5pc0FycmF5KGhlYWRlcnMpKSByZXR1cm4gbmV3IEhlYWRlcnMoaGVhZGVycyk7XG5cdFx0ZWxzZSBpZiAodHlwZW9mIGhlYWRlcnMgPT09IFwib2JqZWN0XCIgJiYgaGVhZGVycyAhPT0gbnVsbCAmJiBcInZhbHVlc1wiIGluIGhlYWRlcnMgJiYgaXNIZWFkZXJzKGhlYWRlcnMudmFsdWVzKSkgcmV0dXJuIGhlYWRlcnMudmFsdWVzO1xuXHRcdGVsc2UgaWYgKHR5cGVvZiBoZWFkZXJzID09PSBcIm9iamVjdFwiICYmIGhlYWRlcnMgIT09IG51bGwpIHtcblx0XHRcdGNvbnN0IGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhoZWFkZXJzKS5maWx0ZXIoKFssIHZdKSA9PiB0eXBlb2YgdiA9PT0gXCJzdHJpbmdcIikubWFwKChbaywgdl0pID0+IFtrLCB2XSk7XG5cdFx0XHRyZXR1cm4gbmV3IEhlYWRlcnMoZW50cmllcyk7XG5cdFx0fVxuXHRcdHJldHVybiBuZXcgSGVhZGVycygpO1xuXHR9KTtcblx0cmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhvdXRwdXQuZW50cmllcygpKTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBnZXRFbmRwb2ludCwgaXNIZWFkZXJzLCBub3JtYWxpemVIZWFkZXJzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1henVyZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/azure.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/client.js":
/*!*****************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/client.js ***!
  \*****************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   wrapOpenAIClientError: () => (/* binding */ wrapOpenAIClientError)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./errors.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/errors.js\");\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! openai */ \"(rsc)/./node_modules/.pnpm/openai@6.7.0_ws@8.18.3_zod@3.25.76/node_modules/openai/index.mjs\");\n\n\n\n//#region src/utils/client.ts\nfunction wrapOpenAIClientError(e) {\n\tif (!e || typeof e !== \"object\") return e;\n\tlet error;\n\tif (e.constructor.name === openai__WEBPACK_IMPORTED_MODULE_1__.APIConnectionTimeoutError.name && \"message\" in e && typeof e.message === \"string\") {\n\t\terror = new Error(e.message);\n\t\terror.name = \"TimeoutError\";\n\t} else if (e.constructor.name === openai__WEBPACK_IMPORTED_MODULE_1__.APIUserAbortError.name && \"message\" in e && typeof e.message === \"string\") {\n\t\terror = new Error(e.message);\n\t\terror.name = \"AbortError\";\n\t} else if (\"status\" in e && e.status === 400 && \"message\" in e && typeof e.message === \"string\" && e.message.includes(\"tool_calls\")) error = (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.addLangChainErrorFields)(e, \"INVALID_TOOL_RESULTS\");\n\telse if (\"status\" in e && e.status === 401) error = (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.addLangChainErrorFields)(e, \"MODEL_AUTHENTICATION\");\n\telse if (\"status\" in e && e.status === 429) error = (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.addLangChainErrorFields)(e, \"MODEL_RATE_LIMIT\");\n\telse if (\"status\" in e && e.status === 404) error = (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.addLangChainErrorFields)(e, \"MODEL_NOT_FOUND\");\n\telse error = e;\n\treturn error;\n}\n\n//#endregion\n\n//# sourceMappingURL=client.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvcGVuYWlAMS4wLjBfQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfX193c0A4LjE4LjMvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvdXRpbHMvY2xpZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFzRDtBQUNnQjs7QUFFdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNkRBQXlCO0FBQ3JEO0FBQ0E7QUFDQSxHQUFHLGdDQUFnQyxxREFBaUI7QUFDcEQ7QUFDQTtBQUNBLEdBQUcsMklBQTJJLG1FQUF1QjtBQUNySyxxREFBcUQsbUVBQXVCO0FBQzVFLHFEQUFxRCxtRUFBdUI7QUFDNUUscURBQXFELG1FQUF1QjtBQUM1RTtBQUNBO0FBQ0E7O0FBRUE7QUFDaUM7QUFDakMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK29wZW5haUAxLjAuMF9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl9fX3dzQDguMTguMy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9vcGVuYWkvZGlzdC91dGlscy9jbGllbnQuanM/NjQ4YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhZGRMYW5nQ2hhaW5FcnJvckZpZWxkcyB9IGZyb20gXCIuL2Vycm9ycy5qc1wiO1xuaW1wb3J0IHsgQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvciwgQVBJVXNlckFib3J0RXJyb3IgfSBmcm9tIFwib3BlbmFpXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvY2xpZW50LnRzXG5mdW5jdGlvbiB3cmFwT3BlbkFJQ2xpZW50RXJyb3IoZSkge1xuXHRpZiAoIWUgfHwgdHlwZW9mIGUgIT09IFwib2JqZWN0XCIpIHJldHVybiBlO1xuXHRsZXQgZXJyb3I7XG5cdGlmIChlLmNvbnN0cnVjdG9yLm5hbWUgPT09IEFQSUNvbm5lY3Rpb25UaW1lb3V0RXJyb3IubmFtZSAmJiBcIm1lc3NhZ2VcIiBpbiBlICYmIHR5cGVvZiBlLm1lc3NhZ2UgPT09IFwic3RyaW5nXCIpIHtcblx0XHRlcnJvciA9IG5ldyBFcnJvcihlLm1lc3NhZ2UpO1xuXHRcdGVycm9yLm5hbWUgPSBcIlRpbWVvdXRFcnJvclwiO1xuXHR9IGVsc2UgaWYgKGUuY29uc3RydWN0b3IubmFtZSA9PT0gQVBJVXNlckFib3J0RXJyb3IubmFtZSAmJiBcIm1lc3NhZ2VcIiBpbiBlICYmIHR5cGVvZiBlLm1lc3NhZ2UgPT09IFwic3RyaW5nXCIpIHtcblx0XHRlcnJvciA9IG5ldyBFcnJvcihlLm1lc3NhZ2UpO1xuXHRcdGVycm9yLm5hbWUgPSBcIkFib3J0RXJyb3JcIjtcblx0fSBlbHNlIGlmIChcInN0YXR1c1wiIGluIGUgJiYgZS5zdGF0dXMgPT09IDQwMCAmJiBcIm1lc3NhZ2VcIiBpbiBlICYmIHR5cGVvZiBlLm1lc3NhZ2UgPT09IFwic3RyaW5nXCIgJiYgZS5tZXNzYWdlLmluY2x1ZGVzKFwidG9vbF9jYWxsc1wiKSkgZXJyb3IgPSBhZGRMYW5nQ2hhaW5FcnJvckZpZWxkcyhlLCBcIklOVkFMSURfVE9PTF9SRVNVTFRTXCIpO1xuXHRlbHNlIGlmIChcInN0YXR1c1wiIGluIGUgJiYgZS5zdGF0dXMgPT09IDQwMSkgZXJyb3IgPSBhZGRMYW5nQ2hhaW5FcnJvckZpZWxkcyhlLCBcIk1PREVMX0FVVEhFTlRJQ0FUSU9OXCIpO1xuXHRlbHNlIGlmIChcInN0YXR1c1wiIGluIGUgJiYgZS5zdGF0dXMgPT09IDQyOSkgZXJyb3IgPSBhZGRMYW5nQ2hhaW5FcnJvckZpZWxkcyhlLCBcIk1PREVMX1JBVEVfTElNSVRcIik7XG5cdGVsc2UgaWYgKFwic3RhdHVzXCIgaW4gZSAmJiBlLnN0YXR1cyA9PT0gNDA0KSBlcnJvciA9IGFkZExhbmdDaGFpbkVycm9yRmllbGRzKGUsIFwiTU9ERUxfTk9UX0ZPVU5EXCIpO1xuXHRlbHNlIGVycm9yID0gZTtcblx0cmV0dXJuIGVycm9yO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IHdyYXBPcGVuQUlDbGllbnRFcnJvciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2xpZW50LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/client.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/errors.js":
/*!*****************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/errors.js ***!
  \*****************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addLangChainErrorFields: () => (/* binding */ addLangChainErrorFields)\n/* harmony export */ });\n//#region src/utils/errors.ts\nfunction addLangChainErrorFields(error, lc_error_code) {\n\terror.lc_error_code = lc_error_code;\n\terror.message = `${error.message}\\n\\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/${lc_error_code}/\\n`;\n\treturn error;\n}\n\n//#endregion\n\n//# sourceMappingURL=errors.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvcGVuYWlAMS4wLjBfQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfX193c0A4LjE4LjMvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvdXRpbHMvZXJyb3JzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsY0FBYyxnRkFBZ0YsY0FBYztBQUNoSTtBQUNBOztBQUVBO0FBQ21DO0FBQ25DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvcGVuYWlAMS4wLjBfQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfX193c0A4LjE4LjMvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvdXRpbHMvZXJyb3JzLmpzPzAxMDEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8jcmVnaW9uIHNyYy91dGlscy9lcnJvcnMudHNcbmZ1bmN0aW9uIGFkZExhbmdDaGFpbkVycm9yRmllbGRzKGVycm9yLCBsY19lcnJvcl9jb2RlKSB7XG5cdGVycm9yLmxjX2Vycm9yX2NvZGUgPSBsY19lcnJvcl9jb2RlO1xuXHRlcnJvci5tZXNzYWdlID0gYCR7ZXJyb3IubWVzc2FnZX1cXG5cXG5Ucm91Ymxlc2hvb3RpbmcgVVJMOiBodHRwczovL2pzLmxhbmdjaGFpbi5jb20vZG9jcy90cm91Ymxlc2hvb3RpbmcvZXJyb3JzLyR7bGNfZXJyb3JfY29kZX0vXFxuYDtcblx0cmV0dXJuIGVycm9yO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IGFkZExhbmdDaGFpbkVycm9yRmllbGRzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcnJvcnMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/errors.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/message_inputs.js":
/*!*************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/message_inputs.js ***!
  \*************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _convertMessagesToOpenAIParams: () => (/* binding */ _convertMessagesToOpenAIParams),\n/* harmony export */   completionsApiContentBlockConverter: () => (/* binding */ completionsApiContentBlockConverter)\n/* harmony export */ });\n/* harmony import */ var _misc_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./misc.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/misc.js\");\n/* harmony import */ var _standard_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./standard.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/standard.js\");\n/* harmony import */ var _langchain_core_output_parsers_openai_tools__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @langchain/core/output_parsers/openai_tools */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/openai_tools/index.js\");\n/* harmony import */ var _langchain_core_messages__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @langchain/core/messages */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/index.js\");\n\n\n\n\n\n//#region src/utils/message_inputs.ts\nconst completionsApiContentBlockConverter = {\n\tproviderName: \"ChatOpenAI\",\n\tfromStandardTextBlock(block) {\n\t\treturn {\n\t\t\ttype: \"text\",\n\t\t\ttext: block.text\n\t\t};\n\t},\n\tfromStandardImageBlock(block) {\n\t\tif (block.source_type === \"url\") return {\n\t\t\ttype: \"image_url\",\n\t\t\timage_url: {\n\t\t\t\turl: block.url,\n\t\t\t\t...block.metadata?.detail ? { detail: block.metadata.detail } : {}\n\t\t\t}\n\t\t};\n\t\tif (block.source_type === \"base64\") {\n\t\t\tconst url = `data:${block.mime_type ?? \"\"};base64,${block.data}`;\n\t\t\treturn {\n\t\t\t\ttype: \"image_url\",\n\t\t\t\timage_url: {\n\t\t\t\t\turl,\n\t\t\t\t\t...block.metadata?.detail ? { detail: block.metadata.detail } : {}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tthrow new Error(`Image content blocks with source_type ${block.source_type} are not supported for ChatOpenAI`);\n\t},\n\tfromStandardAudioBlock(block) {\n\t\tif (block.source_type === \"url\") {\n\t\t\tconst data = (0,_langchain_core_messages__WEBPACK_IMPORTED_MODULE_3__.parseBase64DataUrl)({ dataUrl: block.url });\n\t\t\tif (!data) throw new Error(`URL audio blocks with source_type ${block.source_type} must be formatted as a data URL for ChatOpenAI`);\n\t\t\tconst rawMimeType = data.mime_type || block.mime_type || \"\";\n\t\t\tlet mimeType;\n\t\t\ttry {\n\t\t\t\tmimeType = (0,_langchain_core_messages__WEBPACK_IMPORTED_MODULE_3__.parseMimeType)(rawMimeType);\n\t\t\t} catch {\n\t\t\t\tthrow new Error(`Audio blocks with source_type ${block.source_type} must have mime type of audio/wav or audio/mp3`);\n\t\t\t}\n\t\t\tif (mimeType.type !== \"audio\" || mimeType.subtype !== \"wav\" && mimeType.subtype !== \"mp3\") throw new Error(`Audio blocks with source_type ${block.source_type} must have mime type of audio/wav or audio/mp3`);\n\t\t\treturn {\n\t\t\t\ttype: \"input_audio\",\n\t\t\t\tinput_audio: {\n\t\t\t\t\tformat: mimeType.subtype,\n\t\t\t\t\tdata: data.data\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tif (block.source_type === \"base64\") {\n\t\t\tlet mimeType;\n\t\t\ttry {\n\t\t\t\tmimeType = (0,_langchain_core_messages__WEBPACK_IMPORTED_MODULE_3__.parseMimeType)(block.mime_type ?? \"\");\n\t\t\t} catch {\n\t\t\t\tthrow new Error(`Audio blocks with source_type ${block.source_type} must have mime type of audio/wav or audio/mp3`);\n\t\t\t}\n\t\t\tif (mimeType.type !== \"audio\" || mimeType.subtype !== \"wav\" && mimeType.subtype !== \"mp3\") throw new Error(`Audio blocks with source_type ${block.source_type} must have mime type of audio/wav or audio/mp3`);\n\t\t\treturn {\n\t\t\t\ttype: \"input_audio\",\n\t\t\t\tinput_audio: {\n\t\t\t\t\tformat: mimeType.subtype,\n\t\t\t\t\tdata: block.data\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tthrow new Error(`Audio content blocks with source_type ${block.source_type} are not supported for ChatOpenAI`);\n\t},\n\tfromStandardFileBlock(block) {\n\t\tif (block.source_type === \"url\") {\n\t\t\tconst data = (0,_langchain_core_messages__WEBPACK_IMPORTED_MODULE_3__.parseBase64DataUrl)({ dataUrl: block.url });\n\t\t\tif (!data) throw new Error(`URL file blocks with source_type ${block.source_type} must be formatted as a data URL for ChatOpenAI`);\n\t\t\treturn {\n\t\t\t\ttype: \"file\",\n\t\t\t\tfile: {\n\t\t\t\t\tfile_data: block.url,\n\t\t\t\t\t...block.metadata?.filename || block.metadata?.name ? { filename: block.metadata?.filename || block.metadata?.name } : {}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tif (block.source_type === \"base64\") return {\n\t\t\ttype: \"file\",\n\t\t\tfile: {\n\t\t\t\tfile_data: `data:${block.mime_type ?? \"\"};base64,${block.data}`,\n\t\t\t\t...block.metadata?.filename || block.metadata?.name || block.metadata?.title ? { filename: block.metadata?.filename || block.metadata?.name || block.metadata?.title } : {}\n\t\t\t}\n\t\t};\n\t\tif (block.source_type === \"id\") return {\n\t\t\ttype: \"file\",\n\t\t\tfile: { file_id: block.id }\n\t\t};\n\t\tthrow new Error(`File content blocks with source_type ${block.source_type} are not supported for ChatOpenAI`);\n\t}\n};\nfunction _convertMessagesToOpenAIParams(messages, model) {\n\treturn messages.flatMap((message) => {\n\t\tif (\"output_version\" in message.response_metadata && message.response_metadata?.output_version === \"v1\") return (0,_standard_js__WEBPACK_IMPORTED_MODULE_1__._convertToCompletionsMessageFromV1)(message);\n\t\tlet role = (0,_misc_js__WEBPACK_IMPORTED_MODULE_0__.messageToOpenAIRole)(message);\n\t\tif (role === \"system\" && (0,_misc_js__WEBPACK_IMPORTED_MODULE_0__.isReasoningModel)(model)) role = \"developer\";\n\t\tconst content = typeof message.content === \"string\" ? message.content : message.content.map((m) => {\n\t\t\tif ((0,_langchain_core_messages__WEBPACK_IMPORTED_MODULE_3__.isDataContentBlock)(m)) return (0,_langchain_core_messages__WEBPACK_IMPORTED_MODULE_3__.convertToProviderContentBlock)(m, completionsApiContentBlockConverter);\n\t\t\treturn m;\n\t\t});\n\t\tconst completionParam = {\n\t\t\trole,\n\t\t\tcontent\n\t\t};\n\t\tif (message.name != null) completionParam.name = message.name;\n\t\tif (message.additional_kwargs.function_call != null) {\n\t\t\tcompletionParam.function_call = message.additional_kwargs.function_call;\n\t\t\tcompletionParam.content = \"\";\n\t\t}\n\t\tif ((0,_langchain_core_messages__WEBPACK_IMPORTED_MODULE_3__.isAIMessage)(message) && !!message.tool_calls?.length) {\n\t\t\tcompletionParam.tool_calls = message.tool_calls.map(_langchain_core_output_parsers_openai_tools__WEBPACK_IMPORTED_MODULE_2__.convertLangChainToolCallToOpenAI);\n\t\t\tcompletionParam.content = \"\";\n\t\t} else {\n\t\t\tif (message.additional_kwargs.tool_calls != null) completionParam.tool_calls = message.additional_kwargs.tool_calls;\n\t\t\tif (message.tool_call_id != null) completionParam.tool_call_id = message.tool_call_id;\n\t\t}\n\t\tif (message.additional_kwargs.audio && typeof message.additional_kwargs.audio === \"object\" && \"id\" in message.additional_kwargs.audio) {\n\t\t\tconst audioMessage = {\n\t\t\t\trole: \"assistant\",\n\t\t\t\taudio: { id: message.additional_kwargs.audio.id }\n\t\t\t};\n\t\t\treturn [completionParam, audioMessage];\n\t\t}\n\t\treturn completionParam;\n\t});\n}\n\n//#endregion\n\n//# sourceMappingURL=message_inputs.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvcGVuYWlAMS4wLjBfQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfX193c0A4LjE4LjMvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvdXRpbHMvbWVzc2FnZV9pbnB1dHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQWtFO0FBQ0M7QUFDNEI7QUFDOEM7O0FBRTdJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxnQ0FBZ0M7QUFDbEU7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHVCQUF1QixTQUFTLFdBQVc7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsZ0NBQWdDO0FBQ25FO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCxtQkFBbUI7QUFDOUUsRUFBRTtBQUNGO0FBQ0E7QUFDQSxnQkFBZ0IsNEVBQWtCLEdBQUcsb0JBQW9CO0FBQ3pELG1FQUFtRSxtQkFBbUI7QUFDdEY7QUFDQTtBQUNBO0FBQ0EsZUFBZSx1RUFBYTtBQUM1QixLQUFLO0FBQ0wscURBQXFELG1CQUFtQjtBQUN4RTtBQUNBLCtJQUErSSxtQkFBbUI7QUFDbEs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsdUVBQWE7QUFDNUIsS0FBSztBQUNMLHFEQUFxRCxtQkFBbUI7QUFDeEU7QUFDQSwrSUFBK0ksbUJBQW1CO0FBQ2xLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQsbUJBQW1CO0FBQzlFLEVBQUU7QUFDRjtBQUNBO0FBQ0EsZ0JBQWdCLDRFQUFrQixHQUFHLG9CQUFvQjtBQUN6RCxrRUFBa0UsbUJBQW1CO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELDZEQUE2RDtBQUMxSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsdUJBQXVCLFNBQVMsV0FBVztBQUNsRSxxRkFBcUYsc0ZBQXNGO0FBQzNLO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsMERBQTBELG1CQUFtQjtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtIQUFrSCxnRkFBa0M7QUFDcEosYUFBYSw2REFBbUI7QUFDaEMsMkJBQTJCLDBEQUFnQjtBQUMzQztBQUNBLE9BQU8sNEVBQWtCLFlBQVksdUZBQTZCO0FBQ2xFO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0scUVBQVc7QUFDakIsdURBQXVELHlHQUFnQztBQUN2RjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDK0U7QUFDL0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK29wZW5haUAxLjAuMF9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl9fX3dzQDguMTguMy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9vcGVuYWkvZGlzdC91dGlscy9tZXNzYWdlX2lucHV0cy5qcz9lYTE5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzUmVhc29uaW5nTW9kZWwsIG1lc3NhZ2VUb09wZW5BSVJvbGUgfSBmcm9tIFwiLi9taXNjLmpzXCI7XG5pbXBvcnQgeyBfY29udmVydFRvQ29tcGxldGlvbnNNZXNzYWdlRnJvbVYxIH0gZnJvbSBcIi4vc3RhbmRhcmQuanNcIjtcbmltcG9ydCB7IGNvbnZlcnRMYW5nQ2hhaW5Ub29sQ2FsbFRvT3BlbkFJIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9vdXRwdXRfcGFyc2Vycy9vcGVuYWlfdG9vbHNcIjtcbmltcG9ydCB7IGNvbnZlcnRUb1Byb3ZpZGVyQ29udGVudEJsb2NrLCBpc0FJTWVzc2FnZSwgaXNEYXRhQ29udGVudEJsb2NrLCBwYXJzZUJhc2U2NERhdGFVcmwsIHBhcnNlTWltZVR5cGUgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL21lc3NhZ2VzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvbWVzc2FnZV9pbnB1dHMudHNcbmNvbnN0IGNvbXBsZXRpb25zQXBpQ29udGVudEJsb2NrQ29udmVydGVyID0ge1xuXHRwcm92aWRlck5hbWU6IFwiQ2hhdE9wZW5BSVwiLFxuXHRmcm9tU3RhbmRhcmRUZXh0QmxvY2soYmxvY2spIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHR0ZXh0OiBibG9jay50ZXh0XG5cdFx0fTtcblx0fSxcblx0ZnJvbVN0YW5kYXJkSW1hZ2VCbG9jayhibG9jaykge1xuXHRcdGlmIChibG9jay5zb3VyY2VfdHlwZSA9PT0gXCJ1cmxcIikgcmV0dXJuIHtcblx0XHRcdHR5cGU6IFwiaW1hZ2VfdXJsXCIsXG5cdFx0XHRpbWFnZV91cmw6IHtcblx0XHRcdFx0dXJsOiBibG9jay51cmwsXG5cdFx0XHRcdC4uLmJsb2NrLm1ldGFkYXRhPy5kZXRhaWwgPyB7IGRldGFpbDogYmxvY2subWV0YWRhdGEuZGV0YWlsIH0gOiB7fVxuXHRcdFx0fVxuXHRcdH07XG5cdFx0aWYgKGJsb2NrLnNvdXJjZV90eXBlID09PSBcImJhc2U2NFwiKSB7XG5cdFx0XHRjb25zdCB1cmwgPSBgZGF0YToke2Jsb2NrLm1pbWVfdHlwZSA/PyBcIlwifTtiYXNlNjQsJHtibG9jay5kYXRhfWA7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHR0eXBlOiBcImltYWdlX3VybFwiLFxuXHRcdFx0XHRpbWFnZV91cmw6IHtcblx0XHRcdFx0XHR1cmwsXG5cdFx0XHRcdFx0Li4uYmxvY2subWV0YWRhdGE/LmRldGFpbCA/IHsgZGV0YWlsOiBibG9jay5tZXRhZGF0YS5kZXRhaWwgfSA6IHt9XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fVxuXHRcdHRocm93IG5ldyBFcnJvcihgSW1hZ2UgY29udGVudCBibG9ja3Mgd2l0aCBzb3VyY2VfdHlwZSAke2Jsb2NrLnNvdXJjZV90eXBlfSBhcmUgbm90IHN1cHBvcnRlZCBmb3IgQ2hhdE9wZW5BSWApO1xuXHR9LFxuXHRmcm9tU3RhbmRhcmRBdWRpb0Jsb2NrKGJsb2NrKSB7XG5cdFx0aWYgKGJsb2NrLnNvdXJjZV90eXBlID09PSBcInVybFwiKSB7XG5cdFx0XHRjb25zdCBkYXRhID0gcGFyc2VCYXNlNjREYXRhVXJsKHsgZGF0YVVybDogYmxvY2sudXJsIH0pO1xuXHRcdFx0aWYgKCFkYXRhKSB0aHJvdyBuZXcgRXJyb3IoYFVSTCBhdWRpbyBibG9ja3Mgd2l0aCBzb3VyY2VfdHlwZSAke2Jsb2NrLnNvdXJjZV90eXBlfSBtdXN0IGJlIGZvcm1hdHRlZCBhcyBhIGRhdGEgVVJMIGZvciBDaGF0T3BlbkFJYCk7XG5cdFx0XHRjb25zdCByYXdNaW1lVHlwZSA9IGRhdGEubWltZV90eXBlIHx8IGJsb2NrLm1pbWVfdHlwZSB8fCBcIlwiO1xuXHRcdFx0bGV0IG1pbWVUeXBlO1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0bWltZVR5cGUgPSBwYXJzZU1pbWVUeXBlKHJhd01pbWVUeXBlKTtcblx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEF1ZGlvIGJsb2NrcyB3aXRoIHNvdXJjZV90eXBlICR7YmxvY2suc291cmNlX3R5cGV9IG11c3QgaGF2ZSBtaW1lIHR5cGUgb2YgYXVkaW8vd2F2IG9yIGF1ZGlvL21wM2ApO1xuXHRcdFx0fVxuXHRcdFx0aWYgKG1pbWVUeXBlLnR5cGUgIT09IFwiYXVkaW9cIiB8fCBtaW1lVHlwZS5zdWJ0eXBlICE9PSBcIndhdlwiICYmIG1pbWVUeXBlLnN1YnR5cGUgIT09IFwibXAzXCIpIHRocm93IG5ldyBFcnJvcihgQXVkaW8gYmxvY2tzIHdpdGggc291cmNlX3R5cGUgJHtibG9jay5zb3VyY2VfdHlwZX0gbXVzdCBoYXZlIG1pbWUgdHlwZSBvZiBhdWRpby93YXYgb3IgYXVkaW8vbXAzYCk7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHR0eXBlOiBcImlucHV0X2F1ZGlvXCIsXG5cdFx0XHRcdGlucHV0X2F1ZGlvOiB7XG5cdFx0XHRcdFx0Zm9ybWF0OiBtaW1lVHlwZS5zdWJ0eXBlLFxuXHRcdFx0XHRcdGRhdGE6IGRhdGEuZGF0YVxuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdH1cblx0XHRpZiAoYmxvY2suc291cmNlX3R5cGUgPT09IFwiYmFzZTY0XCIpIHtcblx0XHRcdGxldCBtaW1lVHlwZTtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdG1pbWVUeXBlID0gcGFyc2VNaW1lVHlwZShibG9jay5taW1lX3R5cGUgPz8gXCJcIik7XG5cdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBBdWRpbyBibG9ja3Mgd2l0aCBzb3VyY2VfdHlwZSAke2Jsb2NrLnNvdXJjZV90eXBlfSBtdXN0IGhhdmUgbWltZSB0eXBlIG9mIGF1ZGlvL3dhdiBvciBhdWRpby9tcDNgKTtcblx0XHRcdH1cblx0XHRcdGlmIChtaW1lVHlwZS50eXBlICE9PSBcImF1ZGlvXCIgfHwgbWltZVR5cGUuc3VidHlwZSAhPT0gXCJ3YXZcIiAmJiBtaW1lVHlwZS5zdWJ0eXBlICE9PSBcIm1wM1wiKSB0aHJvdyBuZXcgRXJyb3IoYEF1ZGlvIGJsb2NrcyB3aXRoIHNvdXJjZV90eXBlICR7YmxvY2suc291cmNlX3R5cGV9IG11c3QgaGF2ZSBtaW1lIHR5cGUgb2YgYXVkaW8vd2F2IG9yIGF1ZGlvL21wM2ApO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0dHlwZTogXCJpbnB1dF9hdWRpb1wiLFxuXHRcdFx0XHRpbnB1dF9hdWRpbzoge1xuXHRcdFx0XHRcdGZvcm1hdDogbWltZVR5cGUuc3VidHlwZSxcblx0XHRcdFx0XHRkYXRhOiBibG9jay5kYXRhXG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fVxuXHRcdHRocm93IG5ldyBFcnJvcihgQXVkaW8gY29udGVudCBibG9ja3Mgd2l0aCBzb3VyY2VfdHlwZSAke2Jsb2NrLnNvdXJjZV90eXBlfSBhcmUgbm90IHN1cHBvcnRlZCBmb3IgQ2hhdE9wZW5BSWApO1xuXHR9LFxuXHRmcm9tU3RhbmRhcmRGaWxlQmxvY2soYmxvY2spIHtcblx0XHRpZiAoYmxvY2suc291cmNlX3R5cGUgPT09IFwidXJsXCIpIHtcblx0XHRcdGNvbnN0IGRhdGEgPSBwYXJzZUJhc2U2NERhdGFVcmwoeyBkYXRhVXJsOiBibG9jay51cmwgfSk7XG5cdFx0XHRpZiAoIWRhdGEpIHRocm93IG5ldyBFcnJvcihgVVJMIGZpbGUgYmxvY2tzIHdpdGggc291cmNlX3R5cGUgJHtibG9jay5zb3VyY2VfdHlwZX0gbXVzdCBiZSBmb3JtYXR0ZWQgYXMgYSBkYXRhIFVSTCBmb3IgQ2hhdE9wZW5BSWApO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0dHlwZTogXCJmaWxlXCIsXG5cdFx0XHRcdGZpbGU6IHtcblx0XHRcdFx0XHRmaWxlX2RhdGE6IGJsb2NrLnVybCxcblx0XHRcdFx0XHQuLi5ibG9jay5tZXRhZGF0YT8uZmlsZW5hbWUgfHwgYmxvY2subWV0YWRhdGE/Lm5hbWUgPyB7IGZpbGVuYW1lOiBibG9jay5tZXRhZGF0YT8uZmlsZW5hbWUgfHwgYmxvY2subWV0YWRhdGE/Lm5hbWUgfSA6IHt9XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fVxuXHRcdGlmIChibG9jay5zb3VyY2VfdHlwZSA9PT0gXCJiYXNlNjRcIikgcmV0dXJuIHtcblx0XHRcdHR5cGU6IFwiZmlsZVwiLFxuXHRcdFx0ZmlsZToge1xuXHRcdFx0XHRmaWxlX2RhdGE6IGBkYXRhOiR7YmxvY2subWltZV90eXBlID8/IFwiXCJ9O2Jhc2U2NCwke2Jsb2NrLmRhdGF9YCxcblx0XHRcdFx0Li4uYmxvY2subWV0YWRhdGE/LmZpbGVuYW1lIHx8IGJsb2NrLm1ldGFkYXRhPy5uYW1lIHx8IGJsb2NrLm1ldGFkYXRhPy50aXRsZSA/IHsgZmlsZW5hbWU6IGJsb2NrLm1ldGFkYXRhPy5maWxlbmFtZSB8fCBibG9jay5tZXRhZGF0YT8ubmFtZSB8fCBibG9jay5tZXRhZGF0YT8udGl0bGUgfSA6IHt9XG5cdFx0XHR9XG5cdFx0fTtcblx0XHRpZiAoYmxvY2suc291cmNlX3R5cGUgPT09IFwiaWRcIikgcmV0dXJuIHtcblx0XHRcdHR5cGU6IFwiZmlsZVwiLFxuXHRcdFx0ZmlsZTogeyBmaWxlX2lkOiBibG9jay5pZCB9XG5cdFx0fTtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYEZpbGUgY29udGVudCBibG9ja3Mgd2l0aCBzb3VyY2VfdHlwZSAke2Jsb2NrLnNvdXJjZV90eXBlfSBhcmUgbm90IHN1cHBvcnRlZCBmb3IgQ2hhdE9wZW5BSWApO1xuXHR9XG59O1xuZnVuY3Rpb24gX2NvbnZlcnRNZXNzYWdlc1RvT3BlbkFJUGFyYW1zKG1lc3NhZ2VzLCBtb2RlbCkge1xuXHRyZXR1cm4gbWVzc2FnZXMuZmxhdE1hcCgobWVzc2FnZSkgPT4ge1xuXHRcdGlmIChcIm91dHB1dF92ZXJzaW9uXCIgaW4gbWVzc2FnZS5yZXNwb25zZV9tZXRhZGF0YSAmJiBtZXNzYWdlLnJlc3BvbnNlX21ldGFkYXRhPy5vdXRwdXRfdmVyc2lvbiA9PT0gXCJ2MVwiKSByZXR1cm4gX2NvbnZlcnRUb0NvbXBsZXRpb25zTWVzc2FnZUZyb21WMShtZXNzYWdlKTtcblx0XHRsZXQgcm9sZSA9IG1lc3NhZ2VUb09wZW5BSVJvbGUobWVzc2FnZSk7XG5cdFx0aWYgKHJvbGUgPT09IFwic3lzdGVtXCIgJiYgaXNSZWFzb25pbmdNb2RlbChtb2RlbCkpIHJvbGUgPSBcImRldmVsb3BlclwiO1xuXHRcdGNvbnN0IGNvbnRlbnQgPSB0eXBlb2YgbWVzc2FnZS5jb250ZW50ID09PSBcInN0cmluZ1wiID8gbWVzc2FnZS5jb250ZW50IDogbWVzc2FnZS5jb250ZW50Lm1hcCgobSkgPT4ge1xuXHRcdFx0aWYgKGlzRGF0YUNvbnRlbnRCbG9jayhtKSkgcmV0dXJuIGNvbnZlcnRUb1Byb3ZpZGVyQ29udGVudEJsb2NrKG0sIGNvbXBsZXRpb25zQXBpQ29udGVudEJsb2NrQ29udmVydGVyKTtcblx0XHRcdHJldHVybiBtO1xuXHRcdH0pO1xuXHRcdGNvbnN0IGNvbXBsZXRpb25QYXJhbSA9IHtcblx0XHRcdHJvbGUsXG5cdFx0XHRjb250ZW50XG5cdFx0fTtcblx0XHRpZiAobWVzc2FnZS5uYW1lICE9IG51bGwpIGNvbXBsZXRpb25QYXJhbS5uYW1lID0gbWVzc2FnZS5uYW1lO1xuXHRcdGlmIChtZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzLmZ1bmN0aW9uX2NhbGwgIT0gbnVsbCkge1xuXHRcdFx0Y29tcGxldGlvblBhcmFtLmZ1bmN0aW9uX2NhbGwgPSBtZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzLmZ1bmN0aW9uX2NhbGw7XG5cdFx0XHRjb21wbGV0aW9uUGFyYW0uY29udGVudCA9IFwiXCI7XG5cdFx0fVxuXHRcdGlmIChpc0FJTWVzc2FnZShtZXNzYWdlKSAmJiAhIW1lc3NhZ2UudG9vbF9jYWxscz8ubGVuZ3RoKSB7XG5cdFx0XHRjb21wbGV0aW9uUGFyYW0udG9vbF9jYWxscyA9IG1lc3NhZ2UudG9vbF9jYWxscy5tYXAoY29udmVydExhbmdDaGFpblRvb2xDYWxsVG9PcGVuQUkpO1xuXHRcdFx0Y29tcGxldGlvblBhcmFtLmNvbnRlbnQgPSBcIlwiO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAobWVzc2FnZS5hZGRpdGlvbmFsX2t3YXJncy50b29sX2NhbGxzICE9IG51bGwpIGNvbXBsZXRpb25QYXJhbS50b29sX2NhbGxzID0gbWVzc2FnZS5hZGRpdGlvbmFsX2t3YXJncy50b29sX2NhbGxzO1xuXHRcdFx0aWYgKG1lc3NhZ2UudG9vbF9jYWxsX2lkICE9IG51bGwpIGNvbXBsZXRpb25QYXJhbS50b29sX2NhbGxfaWQgPSBtZXNzYWdlLnRvb2xfY2FsbF9pZDtcblx0XHR9XG5cdFx0aWYgKG1lc3NhZ2UuYWRkaXRpb25hbF9rd2FyZ3MuYXVkaW8gJiYgdHlwZW9mIG1lc3NhZ2UuYWRkaXRpb25hbF9rd2FyZ3MuYXVkaW8gPT09IFwib2JqZWN0XCIgJiYgXCJpZFwiIGluIG1lc3NhZ2UuYWRkaXRpb25hbF9rd2FyZ3MuYXVkaW8pIHtcblx0XHRcdGNvbnN0IGF1ZGlvTWVzc2FnZSA9IHtcblx0XHRcdFx0cm9sZTogXCJhc3Npc3RhbnRcIixcblx0XHRcdFx0YXVkaW86IHsgaWQ6IG1lc3NhZ2UuYWRkaXRpb25hbF9rd2FyZ3MuYXVkaW8uaWQgfVxuXHRcdFx0fTtcblx0XHRcdHJldHVybiBbY29tcGxldGlvblBhcmFtLCBhdWRpb01lc3NhZ2VdO1xuXHRcdH1cblx0XHRyZXR1cm4gY29tcGxldGlvblBhcmFtO1xuXHR9KTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBfY29udmVydE1lc3NhZ2VzVG9PcGVuQUlQYXJhbXMsIGNvbXBsZXRpb25zQXBpQ29udGVudEJsb2NrQ29udmVydGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXNzYWdlX2lucHV0cy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/message_inputs.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/misc.js":
/*!***************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/misc.js ***!
  \***************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   iife: () => (/* binding */ iife),\n/* harmony export */   isReasoningModel: () => (/* binding */ isReasoningModel),\n/* harmony export */   messageToOpenAIRole: () => (/* binding */ messageToOpenAIRole)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_messages__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/messages */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/index.js\");\n\n\n//#region src/utils/misc.ts\nconst iife = (fn) => fn();\nfunction isReasoningModel(model) {\n\tif (!model) return false;\n\tif (/^o\\d/.test(model ?? \"\")) return true;\n\tif (model.startsWith(\"gpt-5\") && !model.startsWith(\"gpt-5-chat\")) return true;\n\treturn false;\n}\nfunction extractGenericMessageCustomRole(message) {\n\tif (message.role !== \"system\" && message.role !== \"developer\" && message.role !== \"assistant\" && message.role !== \"user\" && message.role !== \"function\" && message.role !== \"tool\") console.warn(`Unknown message role: ${message.role}`);\n\treturn message.role;\n}\nfunction messageToOpenAIRole(message) {\n\tconst type = message._getType();\n\tswitch (type) {\n\t\tcase \"system\": return \"system\";\n\t\tcase \"ai\": return \"assistant\";\n\t\tcase \"human\": return \"user\";\n\t\tcase \"function\": return \"function\";\n\t\tcase \"tool\": return \"tool\";\n\t\tcase \"generic\":\n\t\t\tif (!_langchain_core_messages__WEBPACK_IMPORTED_MODULE_0__.ChatMessage.isInstance(message)) throw new Error(\"Invalid generic chat message\");\n\t\t\treturn extractGenericMessageCustomRole(message);\n\t\tdefault: throw new Error(`Unknown message type: ${type}`);\n\t}\n}\n\n//#endregion\n\n//# sourceMappingURL=misc.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvcGVuYWlAMS4wLjBfQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfX193c0A4LjE4LjMvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvdXRpbHMvbWlzYy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXVEOztBQUV2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyTkFBMk4sYUFBYTtBQUN4TztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBVztBQUNuQjtBQUNBLG9EQUFvRCxLQUFLO0FBQ3pEO0FBQ0E7O0FBRUE7QUFDdUQ7QUFDdkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK29wZW5haUAxLjAuMF9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl9fX3dzQDguMTguMy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9vcGVuYWkvZGlzdC91dGlscy9taXNjLmpzPzc0OGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2hhdE1lc3NhZ2UgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL21lc3NhZ2VzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvbWlzYy50c1xuY29uc3QgaWlmZSA9IChmbikgPT4gZm4oKTtcbmZ1bmN0aW9uIGlzUmVhc29uaW5nTW9kZWwobW9kZWwpIHtcblx0aWYgKCFtb2RlbCkgcmV0dXJuIGZhbHNlO1xuXHRpZiAoL15vXFxkLy50ZXN0KG1vZGVsID8/IFwiXCIpKSByZXR1cm4gdHJ1ZTtcblx0aWYgKG1vZGVsLnN0YXJ0c1dpdGgoXCJncHQtNVwiKSAmJiAhbW9kZWwuc3RhcnRzV2l0aChcImdwdC01LWNoYXRcIikpIHJldHVybiB0cnVlO1xuXHRyZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBleHRyYWN0R2VuZXJpY01lc3NhZ2VDdXN0b21Sb2xlKG1lc3NhZ2UpIHtcblx0aWYgKG1lc3NhZ2Uucm9sZSAhPT0gXCJzeXN0ZW1cIiAmJiBtZXNzYWdlLnJvbGUgIT09IFwiZGV2ZWxvcGVyXCIgJiYgbWVzc2FnZS5yb2xlICE9PSBcImFzc2lzdGFudFwiICYmIG1lc3NhZ2Uucm9sZSAhPT0gXCJ1c2VyXCIgJiYgbWVzc2FnZS5yb2xlICE9PSBcImZ1bmN0aW9uXCIgJiYgbWVzc2FnZS5yb2xlICE9PSBcInRvb2xcIikgY29uc29sZS53YXJuKGBVbmtub3duIG1lc3NhZ2Ugcm9sZTogJHttZXNzYWdlLnJvbGV9YCk7XG5cdHJldHVybiBtZXNzYWdlLnJvbGU7XG59XG5mdW5jdGlvbiBtZXNzYWdlVG9PcGVuQUlSb2xlKG1lc3NhZ2UpIHtcblx0Y29uc3QgdHlwZSA9IG1lc3NhZ2UuX2dldFR5cGUoKTtcblx0c3dpdGNoICh0eXBlKSB7XG5cdFx0Y2FzZSBcInN5c3RlbVwiOiByZXR1cm4gXCJzeXN0ZW1cIjtcblx0XHRjYXNlIFwiYWlcIjogcmV0dXJuIFwiYXNzaXN0YW50XCI7XG5cdFx0Y2FzZSBcImh1bWFuXCI6IHJldHVybiBcInVzZXJcIjtcblx0XHRjYXNlIFwiZnVuY3Rpb25cIjogcmV0dXJuIFwiZnVuY3Rpb25cIjtcblx0XHRjYXNlIFwidG9vbFwiOiByZXR1cm4gXCJ0b29sXCI7XG5cdFx0Y2FzZSBcImdlbmVyaWNcIjpcblx0XHRcdGlmICghQ2hhdE1lc3NhZ2UuaXNJbnN0YW5jZShtZXNzYWdlKSkgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBnZW5lcmljIGNoYXQgbWVzc2FnZVwiKTtcblx0XHRcdHJldHVybiBleHRyYWN0R2VuZXJpY01lc3NhZ2VDdXN0b21Sb2xlKG1lc3NhZ2UpO1xuXHRcdGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcihgVW5rbm93biBtZXNzYWdlIHR5cGU6ICR7dHlwZX1gKTtcblx0fVxufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IGlpZmUsIGlzUmVhc29uaW5nTW9kZWwsIG1lc3NhZ2VUb09wZW5BSVJvbGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1pc2MuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/misc.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/output.js":
/*!*****************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/output.js ***!
  \*****************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _convertOpenAIResponsesUsageToLangChainUsage: () => (/* binding */ _convertOpenAIResponsesUsageToLangChainUsage),\n/* harmony export */   getStructuredOutputMethod: () => (/* binding */ getStructuredOutputMethod),\n/* harmony export */   handleMultiModalOutput: () => (/* binding */ handleMultiModalOutput),\n/* harmony export */   interopZodResponseFormat: () => (/* binding */ interopZodResponseFormat)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/utils/types */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/types/index.js\");\n/* harmony import */ var zod_v4_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zod/v4/core */ \"(rsc)/./node_modules/.pnpm/zod@3.25.76/node_modules/zod/v4/core/to-json-schema.js\");\n/* harmony import */ var zod_v4_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! zod/v4/core */ \"(rsc)/./node_modules/.pnpm/zod@3.25.76/node_modules/zod/v4/core/parse.js\");\n/* harmony import */ var openai_helpers_zod__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! openai/helpers/zod */ \"(rsc)/./node_modules/.pnpm/openai@6.7.0_ws@8.18.3_zod@3.25.76/node_modules/openai/helpers/zod.mjs\");\n\n\n\n\n//#region src/utils/output.ts\nconst SUPPORTED_METHODS = [\n\t\"jsonSchema\",\n\t\"functionCalling\",\n\t\"jsonMode\"\n];\n/**\n* Get the structured output method for a given model. By default, it uses\n* `jsonSchema` if the model supports it, otherwise it uses `functionCalling`.\n*\n* @throws if the method is invalid, e.g. is not a string or invalid method is provided.\n* @param model - The model name.\n* @param config - The structured output method options.\n* @returns The structured output method.\n*/\nfunction getStructuredOutputMethod(model, method) {\n\t/**\n\t* If a method is provided, validate it.\n\t*/\n\tif (typeof method !== \"undefined\" && !SUPPORTED_METHODS.includes(method)) throw new Error(`Invalid method: ${method}. Supported methods are: ${SUPPORTED_METHODS.join(\", \")}`);\n\tconst hasSupportForJsonSchema = !model.startsWith(\"gpt-3\") && !model.startsWith(\"gpt-4-\") && model !== \"gpt-4\";\n\t/**\n\t* If the model supports JSON Schema, use it by default.\n\t*/\n\tif (hasSupportForJsonSchema && !method) return \"jsonSchema\";\n\tif (!hasSupportForJsonSchema && method === \"jsonSchema\") throw new Error(`JSON Schema is not supported for model \"${model}\". Please use a different method, e.g. \"functionCalling\" or \"jsonMode\".`);\n\t/**\n\t* If the model does not support JSON Schema, use function calling by default.\n\t*/\n\treturn method ?? \"functionCalling\";\n}\nfunction makeParseableResponseFormat(response_format, parser) {\n\tconst obj = { ...response_format };\n\tObject.defineProperties(obj, {\n\t\t$brand: {\n\t\t\tvalue: \"auto-parseable-response-format\",\n\t\t\tenumerable: false\n\t\t},\n\t\t$parseRaw: {\n\t\t\tvalue: parser,\n\t\t\tenumerable: false\n\t\t}\n\t});\n\treturn obj;\n}\nfunction interopZodResponseFormat(zodSchema, name, props) {\n\tif ((0,_langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_0__.isZodSchemaV3)(zodSchema)) return (0,openai_helpers_zod__WEBPACK_IMPORTED_MODULE_1__.zodResponseFormat)(zodSchema, name, props);\n\tif ((0,_langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_0__.isZodSchemaV4)(zodSchema)) return makeParseableResponseFormat({\n\t\ttype: \"json_schema\",\n\t\tjson_schema: {\n\t\t\t...props,\n\t\t\tname,\n\t\t\tstrict: true,\n\t\t\tschema: (0,zod_v4_core__WEBPACK_IMPORTED_MODULE_2__.toJSONSchema)(zodSchema, {\n\t\t\t\tcycles: \"ref\",\n\t\t\t\treused: \"ref\",\n\t\t\t\toverride(ctx) {\n\t\t\t\t\tctx.jsonSchema.title = name;\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}, (content) => (0,zod_v4_core__WEBPACK_IMPORTED_MODULE_3__.parse)(zodSchema, JSON.parse(content)));\n\tthrow new Error(\"Unsupported schema response format\");\n}\n/**\n* Handle multi modal response content.\n*\n* @param content The content of the message.\n* @param messages The messages of the response.\n* @returns The new content of the message.\n*/\nfunction handleMultiModalOutput(content, messages) {\n\t/**\n\t* Handle OpenRouter image responses\n\t* @see https://openrouter.ai/docs/features/multimodal/image-generation#api-usage\n\t*/\n\tif (messages && typeof messages === \"object\" && \"images\" in messages && Array.isArray(messages.images)) {\n\t\tconst images = messages.images.filter((image) => typeof image?.image_url?.url === \"string\").map((image) => ({\n\t\t\ttype: \"image\",\n\t\t\turl: image.image_url.url\n\t\t}));\n\t\treturn [{\n\t\t\ttype: \"text\",\n\t\t\ttext: content\n\t\t}, ...images];\n\t}\n\treturn content;\n}\nfunction _convertOpenAIResponsesUsageToLangChainUsage(usage) {\n\tconst inputTokenDetails = { ...usage?.input_tokens_details?.cached_tokens != null && { cache_read: usage?.input_tokens_details?.cached_tokens } };\n\tconst outputTokenDetails = { ...usage?.output_tokens_details?.reasoning_tokens != null && { reasoning: usage?.output_tokens_details?.reasoning_tokens } };\n\treturn {\n\t\tinput_tokens: usage?.input_tokens ?? 0,\n\t\toutput_tokens: usage?.output_tokens ?? 0,\n\t\ttotal_tokens: usage?.total_tokens ?? 0,\n\t\tinput_token_details: inputTokenDetails,\n\t\toutput_token_details: outputTokenDetails\n\t};\n}\n\n//#endregion\n\n//# sourceMappingURL=output.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvcGVuYWlAMS4wLjBfQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfX193c0A4LjE4LjMvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvdXRpbHMvb3V0cHV0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQTJFO0FBQ3pCO0FBQ0s7O0FBRXZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEdBQThHLE9BQU8sMkJBQTJCLDZCQUE2QjtBQUM3SztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUhBQXFILE1BQU07QUFDM0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBLEtBQUssMEVBQWEsb0JBQW9CLHFFQUFpQjtBQUN2RCxLQUFLLDBFQUFhO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHlEQUFZO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxFQUFFLGVBQWUsa0RBQUs7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QiwyREFBMkQ7QUFDeEYsOEJBQThCLCtEQUErRDtBQUM3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3FJO0FBQ3JJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvcGVuYWlAMS4wLjBfQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfX193c0A4LjE4LjMvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvdXRpbHMvb3V0cHV0LmpzP2MwZjMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNab2RTY2hlbWFWMywgaXNab2RTY2hlbWFWNCB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvdXRpbHMvdHlwZXNcIjtcbmltcG9ydCB7IHBhcnNlLCB0b0pTT05TY2hlbWEgfSBmcm9tIFwiem9kL3Y0L2NvcmVcIjtcbmltcG9ydCB7IHpvZFJlc3BvbnNlRm9ybWF0IH0gZnJvbSBcIm9wZW5haS9oZWxwZXJzL3pvZFwiO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL291dHB1dC50c1xuY29uc3QgU1VQUE9SVEVEX01FVEhPRFMgPSBbXG5cdFwianNvblNjaGVtYVwiLFxuXHRcImZ1bmN0aW9uQ2FsbGluZ1wiLFxuXHRcImpzb25Nb2RlXCJcbl07XG4vKipcbiogR2V0IHRoZSBzdHJ1Y3R1cmVkIG91dHB1dCBtZXRob2QgZm9yIGEgZ2l2ZW4gbW9kZWwuIEJ5IGRlZmF1bHQsIGl0IHVzZXNcbiogYGpzb25TY2hlbWFgIGlmIHRoZSBtb2RlbCBzdXBwb3J0cyBpdCwgb3RoZXJ3aXNlIGl0IHVzZXMgYGZ1bmN0aW9uQ2FsbGluZ2AuXG4qXG4qIEB0aHJvd3MgaWYgdGhlIG1ldGhvZCBpcyBpbnZhbGlkLCBlLmcuIGlzIG5vdCBhIHN0cmluZyBvciBpbnZhbGlkIG1ldGhvZCBpcyBwcm92aWRlZC5cbiogQHBhcmFtIG1vZGVsIC0gVGhlIG1vZGVsIG5hbWUuXG4qIEBwYXJhbSBjb25maWcgLSBUaGUgc3RydWN0dXJlZCBvdXRwdXQgbWV0aG9kIG9wdGlvbnMuXG4qIEByZXR1cm5zIFRoZSBzdHJ1Y3R1cmVkIG91dHB1dCBtZXRob2QuXG4qL1xuZnVuY3Rpb24gZ2V0U3RydWN0dXJlZE91dHB1dE1ldGhvZChtb2RlbCwgbWV0aG9kKSB7XG5cdC8qKlxuXHQqIElmIGEgbWV0aG9kIGlzIHByb3ZpZGVkLCB2YWxpZGF0ZSBpdC5cblx0Ki9cblx0aWYgKHR5cGVvZiBtZXRob2QgIT09IFwidW5kZWZpbmVkXCIgJiYgIVNVUFBPUlRFRF9NRVRIT0RTLmluY2x1ZGVzKG1ldGhvZCkpIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBtZXRob2Q6ICR7bWV0aG9kfS4gU3VwcG9ydGVkIG1ldGhvZHMgYXJlOiAke1NVUFBPUlRFRF9NRVRIT0RTLmpvaW4oXCIsIFwiKX1gKTtcblx0Y29uc3QgaGFzU3VwcG9ydEZvckpzb25TY2hlbWEgPSAhbW9kZWwuc3RhcnRzV2l0aChcImdwdC0zXCIpICYmICFtb2RlbC5zdGFydHNXaXRoKFwiZ3B0LTQtXCIpICYmIG1vZGVsICE9PSBcImdwdC00XCI7XG5cdC8qKlxuXHQqIElmIHRoZSBtb2RlbCBzdXBwb3J0cyBKU09OIFNjaGVtYSwgdXNlIGl0IGJ5IGRlZmF1bHQuXG5cdCovXG5cdGlmIChoYXNTdXBwb3J0Rm9ySnNvblNjaGVtYSAmJiAhbWV0aG9kKSByZXR1cm4gXCJqc29uU2NoZW1hXCI7XG5cdGlmICghaGFzU3VwcG9ydEZvckpzb25TY2hlbWEgJiYgbWV0aG9kID09PSBcImpzb25TY2hlbWFcIikgdGhyb3cgbmV3IEVycm9yKGBKU09OIFNjaGVtYSBpcyBub3Qgc3VwcG9ydGVkIGZvciBtb2RlbCBcIiR7bW9kZWx9XCIuIFBsZWFzZSB1c2UgYSBkaWZmZXJlbnQgbWV0aG9kLCBlLmcuIFwiZnVuY3Rpb25DYWxsaW5nXCIgb3IgXCJqc29uTW9kZVwiLmApO1xuXHQvKipcblx0KiBJZiB0aGUgbW9kZWwgZG9lcyBub3Qgc3VwcG9ydCBKU09OIFNjaGVtYSwgdXNlIGZ1bmN0aW9uIGNhbGxpbmcgYnkgZGVmYXVsdC5cblx0Ki9cblx0cmV0dXJuIG1ldGhvZCA/PyBcImZ1bmN0aW9uQ2FsbGluZ1wiO1xufVxuZnVuY3Rpb24gbWFrZVBhcnNlYWJsZVJlc3BvbnNlRm9ybWF0KHJlc3BvbnNlX2Zvcm1hdCwgcGFyc2VyKSB7XG5cdGNvbnN0IG9iaiA9IHsgLi4ucmVzcG9uc2VfZm9ybWF0IH07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9iaiwge1xuXHRcdCRicmFuZDoge1xuXHRcdFx0dmFsdWU6IFwiYXV0by1wYXJzZWFibGUtcmVzcG9uc2UtZm9ybWF0XCIsXG5cdFx0XHRlbnVtZXJhYmxlOiBmYWxzZVxuXHRcdH0sXG5cdFx0JHBhcnNlUmF3OiB7XG5cdFx0XHR2YWx1ZTogcGFyc2VyLFxuXHRcdFx0ZW51bWVyYWJsZTogZmFsc2Vcblx0XHR9XG5cdH0pO1xuXHRyZXR1cm4gb2JqO1xufVxuZnVuY3Rpb24gaW50ZXJvcFpvZFJlc3BvbnNlRm9ybWF0KHpvZFNjaGVtYSwgbmFtZSwgcHJvcHMpIHtcblx0aWYgKGlzWm9kU2NoZW1hVjMoem9kU2NoZW1hKSkgcmV0dXJuIHpvZFJlc3BvbnNlRm9ybWF0KHpvZFNjaGVtYSwgbmFtZSwgcHJvcHMpO1xuXHRpZiAoaXNab2RTY2hlbWFWNCh6b2RTY2hlbWEpKSByZXR1cm4gbWFrZVBhcnNlYWJsZVJlc3BvbnNlRm9ybWF0KHtcblx0XHR0eXBlOiBcImpzb25fc2NoZW1hXCIsXG5cdFx0anNvbl9zY2hlbWE6IHtcblx0XHRcdC4uLnByb3BzLFxuXHRcdFx0bmFtZSxcblx0XHRcdHN0cmljdDogdHJ1ZSxcblx0XHRcdHNjaGVtYTogdG9KU09OU2NoZW1hKHpvZFNjaGVtYSwge1xuXHRcdFx0XHRjeWNsZXM6IFwicmVmXCIsXG5cdFx0XHRcdHJldXNlZDogXCJyZWZcIixcblx0XHRcdFx0b3ZlcnJpZGUoY3R4KSB7XG5cdFx0XHRcdFx0Y3R4Lmpzb25TY2hlbWEudGl0bGUgPSBuYW1lO1xuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdH1cblx0fSwgKGNvbnRlbnQpID0+IHBhcnNlKHpvZFNjaGVtYSwgSlNPTi5wYXJzZShjb250ZW50KSkpO1xuXHR0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBzY2hlbWEgcmVzcG9uc2UgZm9ybWF0XCIpO1xufVxuLyoqXG4qIEhhbmRsZSBtdWx0aSBtb2RhbCByZXNwb25zZSBjb250ZW50LlxuKlxuKiBAcGFyYW0gY29udGVudCBUaGUgY29udGVudCBvZiB0aGUgbWVzc2FnZS5cbiogQHBhcmFtIG1lc3NhZ2VzIFRoZSBtZXNzYWdlcyBvZiB0aGUgcmVzcG9uc2UuXG4qIEByZXR1cm5zIFRoZSBuZXcgY29udGVudCBvZiB0aGUgbWVzc2FnZS5cbiovXG5mdW5jdGlvbiBoYW5kbGVNdWx0aU1vZGFsT3V0cHV0KGNvbnRlbnQsIG1lc3NhZ2VzKSB7XG5cdC8qKlxuXHQqIEhhbmRsZSBPcGVuUm91dGVyIGltYWdlIHJlc3BvbnNlc1xuXHQqIEBzZWUgaHR0cHM6Ly9vcGVucm91dGVyLmFpL2RvY3MvZmVhdHVyZXMvbXVsdGltb2RhbC9pbWFnZS1nZW5lcmF0aW9uI2FwaS11c2FnZVxuXHQqL1xuXHRpZiAobWVzc2FnZXMgJiYgdHlwZW9mIG1lc3NhZ2VzID09PSBcIm9iamVjdFwiICYmIFwiaW1hZ2VzXCIgaW4gbWVzc2FnZXMgJiYgQXJyYXkuaXNBcnJheShtZXNzYWdlcy5pbWFnZXMpKSB7XG5cdFx0Y29uc3QgaW1hZ2VzID0gbWVzc2FnZXMuaW1hZ2VzLmZpbHRlcigoaW1hZ2UpID0+IHR5cGVvZiBpbWFnZT8uaW1hZ2VfdXJsPy51cmwgPT09IFwic3RyaW5nXCIpLm1hcCgoaW1hZ2UpID0+ICh7XG5cdFx0XHR0eXBlOiBcImltYWdlXCIsXG5cdFx0XHR1cmw6IGltYWdlLmltYWdlX3VybC51cmxcblx0XHR9KSk7XG5cdFx0cmV0dXJuIFt7XG5cdFx0XHR0eXBlOiBcInRleHRcIixcblx0XHRcdHRleHQ6IGNvbnRlbnRcblx0XHR9LCAuLi5pbWFnZXNdO1xuXHR9XG5cdHJldHVybiBjb250ZW50O1xufVxuZnVuY3Rpb24gX2NvbnZlcnRPcGVuQUlSZXNwb25zZXNVc2FnZVRvTGFuZ0NoYWluVXNhZ2UodXNhZ2UpIHtcblx0Y29uc3QgaW5wdXRUb2tlbkRldGFpbHMgPSB7IC4uLnVzYWdlPy5pbnB1dF90b2tlbnNfZGV0YWlscz8uY2FjaGVkX3Rva2VucyAhPSBudWxsICYmIHsgY2FjaGVfcmVhZDogdXNhZ2U/LmlucHV0X3Rva2Vuc19kZXRhaWxzPy5jYWNoZWRfdG9rZW5zIH0gfTtcblx0Y29uc3Qgb3V0cHV0VG9rZW5EZXRhaWxzID0geyAuLi51c2FnZT8ub3V0cHV0X3Rva2Vuc19kZXRhaWxzPy5yZWFzb25pbmdfdG9rZW5zICE9IG51bGwgJiYgeyByZWFzb25pbmc6IHVzYWdlPy5vdXRwdXRfdG9rZW5zX2RldGFpbHM/LnJlYXNvbmluZ190b2tlbnMgfSB9O1xuXHRyZXR1cm4ge1xuXHRcdGlucHV0X3Rva2VuczogdXNhZ2U/LmlucHV0X3Rva2VucyA/PyAwLFxuXHRcdG91dHB1dF90b2tlbnM6IHVzYWdlPy5vdXRwdXRfdG9rZW5zID8/IDAsXG5cdFx0dG90YWxfdG9rZW5zOiB1c2FnZT8udG90YWxfdG9rZW5zID8/IDAsXG5cdFx0aW5wdXRfdG9rZW5fZGV0YWlsczogaW5wdXRUb2tlbkRldGFpbHMsXG5cdFx0b3V0cHV0X3Rva2VuX2RldGFpbHM6IG91dHB1dFRva2VuRGV0YWlsc1xuXHR9O1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IF9jb252ZXJ0T3BlbkFJUmVzcG9uc2VzVXNhZ2VUb0xhbmdDaGFpblVzYWdlLCBnZXRTdHJ1Y3R1cmVkT3V0cHV0TWV0aG9kLCBoYW5kbGVNdWx0aU1vZGFsT3V0cHV0LCBpbnRlcm9wWm9kUmVzcG9uc2VGb3JtYXQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW91dHB1dC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/output.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/prompts.js":
/*!******************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/prompts.js ***!
  \******************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   convertPromptToOpenAI: () => (/* binding */ convertPromptToOpenAI)\n/* harmony export */ });\n/* harmony import */ var _message_inputs_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./message_inputs.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/message_inputs.js\");\n\n\n//#region src/utils/prompts.ts\n/**\n* Convert a formatted LangChain prompt (e.g. pulled from the hub) into\n* a format expected by OpenAI's JS SDK.\n*\n* Requires the \"@langchain/openai\" package to be installed in addition\n* to the OpenAI SDK.\n*\n* @example\n* ```ts\n* import { convertPromptToOpenAI } from \"langsmith/utils/hub/openai\";\n* import { pull } from \"langchain/hub\";\n*\n* import OpenAI from 'openai';\n*\n* const prompt = await pull(\"jacob/joke-generator\");\n* const formattedPrompt = await prompt.invoke({\n*   topic: \"cats\",\n* });\n*\n* const { messages } = convertPromptToOpenAI(formattedPrompt);\n*\n* const openAIClient = new OpenAI();\n*\n* const openaiResponse = await openAIClient.chat.completions.create({\n*   model: \"gpt-4o-mini\",\n*   messages,\n* });\n* ```\n* @param formattedPrompt\n* @returns A partial OpenAI payload.\n*/\nfunction convertPromptToOpenAI(formattedPrompt) {\n\tconst messages = formattedPrompt.toChatMessages();\n\treturn { messages: (0,_message_inputs_js__WEBPACK_IMPORTED_MODULE_0__._convertMessagesToOpenAIParams)(messages) };\n}\n\n//#endregion\n\n//# sourceMappingURL=prompts.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvcGVuYWlAMS4wLjBfQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfX193c0A4LjE4LjMvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvdXRpbHMvcHJvbXB0cy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFxRTs7QUFFckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHdCQUF3QjtBQUNuQyxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsVUFBVSxXQUFXO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLFVBQVUsa0ZBQThCO0FBQ2xEOztBQUVBO0FBQ2lDO0FBQ2pDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvcGVuYWlAMS4wLjBfQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfX193c0A4LjE4LjMvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvdXRpbHMvcHJvbXB0cy5qcz80ZmVkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9jb252ZXJ0TWVzc2FnZXNUb09wZW5BSVBhcmFtcyB9IGZyb20gXCIuL21lc3NhZ2VfaW5wdXRzLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvcHJvbXB0cy50c1xuLyoqXG4qIENvbnZlcnQgYSBmb3JtYXR0ZWQgTGFuZ0NoYWluIHByb21wdCAoZS5nLiBwdWxsZWQgZnJvbSB0aGUgaHViKSBpbnRvXG4qIGEgZm9ybWF0IGV4cGVjdGVkIGJ5IE9wZW5BSSdzIEpTIFNESy5cbipcbiogUmVxdWlyZXMgdGhlIFwiQGxhbmdjaGFpbi9vcGVuYWlcIiBwYWNrYWdlIHRvIGJlIGluc3RhbGxlZCBpbiBhZGRpdGlvblxuKiB0byB0aGUgT3BlbkFJIFNESy5cbipcbiogQGV4YW1wbGVcbiogYGBgdHNcbiogaW1wb3J0IHsgY29udmVydFByb21wdFRvT3BlbkFJIH0gZnJvbSBcImxhbmdzbWl0aC91dGlscy9odWIvb3BlbmFpXCI7XG4qIGltcG9ydCB7IHB1bGwgfSBmcm9tIFwibGFuZ2NoYWluL2h1YlwiO1xuKlxuKiBpbXBvcnQgT3BlbkFJIGZyb20gJ29wZW5haSc7XG4qXG4qIGNvbnN0IHByb21wdCA9IGF3YWl0IHB1bGwoXCJqYWNvYi9qb2tlLWdlbmVyYXRvclwiKTtcbiogY29uc3QgZm9ybWF0dGVkUHJvbXB0ID0gYXdhaXQgcHJvbXB0Lmludm9rZSh7XG4qICAgdG9waWM6IFwiY2F0c1wiLFxuKiB9KTtcbipcbiogY29uc3QgeyBtZXNzYWdlcyB9ID0gY29udmVydFByb21wdFRvT3BlbkFJKGZvcm1hdHRlZFByb21wdCk7XG4qXG4qIGNvbnN0IG9wZW5BSUNsaWVudCA9IG5ldyBPcGVuQUkoKTtcbipcbiogY29uc3Qgb3BlbmFpUmVzcG9uc2UgPSBhd2FpdCBvcGVuQUlDbGllbnQuY2hhdC5jb21wbGV0aW9ucy5jcmVhdGUoe1xuKiAgIG1vZGVsOiBcImdwdC00by1taW5pXCIsXG4qICAgbWVzc2FnZXMsXG4qIH0pO1xuKiBgYGBcbiogQHBhcmFtIGZvcm1hdHRlZFByb21wdFxuKiBAcmV0dXJucyBBIHBhcnRpYWwgT3BlbkFJIHBheWxvYWQuXG4qL1xuZnVuY3Rpb24gY29udmVydFByb21wdFRvT3BlbkFJKGZvcm1hdHRlZFByb21wdCkge1xuXHRjb25zdCBtZXNzYWdlcyA9IGZvcm1hdHRlZFByb21wdC50b0NoYXRNZXNzYWdlcygpO1xuXHRyZXR1cm4geyBtZXNzYWdlczogX2NvbnZlcnRNZXNzYWdlc1RvT3BlbkFJUGFyYW1zKG1lc3NhZ2VzKSB9O1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IGNvbnZlcnRQcm9tcHRUb09wZW5BSSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvbXB0cy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/prompts.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/standard.js":
/*!*******************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/standard.js ***!
  \*******************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _convertToCompletionsMessageFromV1: () => (/* binding */ _convertToCompletionsMessageFromV1),\n/* harmony export */   _convertToResponsesMessageFromV1: () => (/* binding */ _convertToResponsesMessageFromV1)\n/* harmony export */ });\n/* harmony import */ var _misc_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./misc.js */ \"(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/misc.js\");\n/* harmony import */ var _langchain_core_messages__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @langchain/core/messages */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/index.js\");\n\n\n\n//#region src/utils/standard.ts\nfunction _convertToChatCompletionsData(block) {\n\tif (block.type === \"image\") {\n\t\tif (block.url) return {\n\t\t\ttype: \"image_url\",\n\t\t\timage_url: { url: block.url }\n\t\t};\n\t\telse if (block.data) return {\n\t\t\ttype: \"image_url\",\n\t\t\timage_url: { url: `data:${block.mimeType};base64,${block.data}` }\n\t\t};\n\t}\n\tif (block.type === \"audio\") {\n\t\tif (block.data) {\n\t\t\tconst format = (0,_misc_js__WEBPACK_IMPORTED_MODULE_0__.iife)(() => {\n\t\t\t\tconst [, format$1] = block.mimeType.split(\"/\");\n\t\t\t\tif (format$1 === \"wav\" || format$1 === \"mp3\") return format$1;\n\t\t\t\treturn \"wav\";\n\t\t\t});\n\t\t\treturn {\n\t\t\t\ttype: \"input_audio\",\n\t\t\t\tinput_audio: {\n\t\t\t\t\tdata: block.data.toString(),\n\t\t\t\t\tformat\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n\tif (block.type === \"file\") {\n\t\tif (block.data) return {\n\t\t\ttype: \"file\",\n\t\t\tfile: { file_data: block.data.toString() }\n\t\t};\n\t\tif (block.fileId) return {\n\t\t\ttype: \"file\",\n\t\t\tfile: { file_id: block.fileId }\n\t\t};\n\t}\n\treturn void 0;\n}\nfunction _convertToCompletionsMessageFromV1(message, model) {\n\tlet role = (0,_misc_js__WEBPACK_IMPORTED_MODULE_0__.messageToOpenAIRole)(message);\n\tif (role === \"system\" && (0,_misc_js__WEBPACK_IMPORTED_MODULE_0__.isReasoningModel)(model)) role = \"developer\";\n\tif (role === \"developer\") return {\n\t\trole: \"developer\",\n\t\tcontent: message.contentBlocks.filter((block) => block.type === \"text\")\n\t};\n\telse if (role === \"system\") return {\n\t\trole: \"system\",\n\t\tcontent: message.contentBlocks.filter((block) => block.type === \"text\")\n\t};\n\telse if (role === \"assistant\") return {\n\t\trole: \"assistant\",\n\t\tcontent: message.contentBlocks.filter((block) => block.type === \"text\")\n\t};\n\telse if (role === \"tool\" && _langchain_core_messages__WEBPACK_IMPORTED_MODULE_1__.ToolMessage.isInstance(message)) return {\n\t\trole: \"tool\",\n\t\ttool_call_id: message.tool_call_id,\n\t\tcontent: message.contentBlocks.filter((block) => block.type === \"text\")\n\t};\n\telse if (role === \"function\") return {\n\t\trole: \"function\",\n\t\tname: message.name ?? \"\",\n\t\tcontent: message.contentBlocks.filter((block) => block.type === \"text\").join(\"\")\n\t};\n\tfunction* iterateUserContent(blocks) {\n\t\tfor (const block of blocks) {\n\t\t\tif (block.type === \"text\") yield {\n\t\t\t\ttype: \"text\",\n\t\t\t\ttext: block.text\n\t\t\t};\n\t\t\tconst data = _convertToChatCompletionsData(block);\n\t\t\tif (data) yield data;\n\t\t}\n\t}\n\treturn {\n\t\trole: \"user\",\n\t\tcontent: Array.from(iterateUserContent(message.contentBlocks))\n\t};\n}\nfunction _convertToResponsesMessageFromV1(message) {\n\tconst isResponsesMessage = (0,_langchain_core_messages__WEBPACK_IMPORTED_MODULE_1__.isAIMessage)(message) && message.response_metadata?.model_provider === \"openai\";\n\tfunction* iterateItems() {\n\t\tconst messageRole = (0,_misc_js__WEBPACK_IMPORTED_MODULE_0__.iife)(() => {\n\t\t\ttry {\n\t\t\t\tconst role = (0,_misc_js__WEBPACK_IMPORTED_MODULE_0__.messageToOpenAIRole)(message);\n\t\t\t\tif (role === \"system\" || role === \"developer\" || role === \"assistant\" || role === \"user\") return role;\n\t\t\t\treturn \"assistant\";\n\t\t\t} catch {\n\t\t\t\treturn \"assistant\";\n\t\t\t}\n\t\t});\n\t\tlet currentMessage = void 0;\n\t\tconst functionCallIdsWithBlocks = /* @__PURE__ */ new Set();\n\t\tconst serverFunctionCallIdsWithBlocks = /* @__PURE__ */ new Set();\n\t\tconst pendingFunctionChunks = /* @__PURE__ */ new Map();\n\t\tconst pendingServerFunctionChunks = /* @__PURE__ */ new Map();\n\t\tfunction* flushMessage() {\n\t\t\tif (!currentMessage) return;\n\t\t\tconst content = currentMessage.content;\n\t\t\tif (typeof content === \"string\" && content.length > 0 || Array.isArray(content) && content.length > 0) yield currentMessage;\n\t\t\tcurrentMessage = void 0;\n\t\t}\n\t\tconst pushMessageContent = (content) => {\n\t\t\tif (!currentMessage) currentMessage = {\n\t\t\t\ttype: \"message\",\n\t\t\t\trole: messageRole,\n\t\t\t\tcontent: []\n\t\t\t};\n\t\t\tif (typeof currentMessage.content === \"string\") currentMessage.content = currentMessage.content.length > 0 ? [{\n\t\t\t\ttype: \"input_text\",\n\t\t\t\ttext: currentMessage.content\n\t\t\t}, ...content] : [...content];\n\t\t\telse currentMessage.content.push(...content);\n\t\t};\n\t\tconst toJsonString = (value) => {\n\t\t\tif (typeof value === \"string\") return value;\n\t\t\ttry {\n\t\t\t\treturn JSON.stringify(value ?? {});\n\t\t\t} catch {\n\t\t\t\treturn \"{}\";\n\t\t\t}\n\t\t};\n\t\tconst resolveImageItem = (block) => {\n\t\t\tconst detail = (0,_misc_js__WEBPACK_IMPORTED_MODULE_0__.iife)(() => {\n\t\t\t\tconst raw = block.metadata?.detail;\n\t\t\t\tif (raw === \"low\" || raw === \"high\" || raw === \"auto\") return raw;\n\t\t\t\treturn \"auto\";\n\t\t\t});\n\t\t\tif (block.fileId) return {\n\t\t\t\ttype: \"input_image\",\n\t\t\t\tdetail,\n\t\t\t\tfile_id: block.fileId\n\t\t\t};\n\t\t\tif (block.url) return {\n\t\t\t\ttype: \"input_image\",\n\t\t\t\tdetail,\n\t\t\t\timage_url: block.url\n\t\t\t};\n\t\t\tif (block.data) {\n\t\t\t\tconst base64Data = typeof block.data === \"string\" ? block.data : Buffer.from(block.data).toString(\"base64\");\n\t\t\t\tconst mimeType = block.mimeType ?? \"image/png\";\n\t\t\t\treturn {\n\t\t\t\t\ttype: \"input_image\",\n\t\t\t\t\tdetail,\n\t\t\t\t\timage_url: `data:${mimeType};base64,${base64Data}`\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn void 0;\n\t\t};\n\t\tconst resolveFileItem = (block) => {\n\t\t\tconst filename = block.metadata?.filename ?? block.metadata?.name ?? block.metadata?.title;\n\t\t\tif (block.fileId && typeof filename === \"string\") return {\n\t\t\t\ttype: \"input_file\",\n\t\t\t\tfile_id: block.fileId,\n\t\t\t\t...filename ? { filename } : {}\n\t\t\t};\n\t\t\tif (block.url && typeof filename === \"string\") return {\n\t\t\t\ttype: \"input_file\",\n\t\t\t\tfile_url: block.url,\n\t\t\t\t...filename ? { filename } : {}\n\t\t\t};\n\t\t\tif (block.data && typeof filename === \"string\") {\n\t\t\t\tconst encoded = typeof block.data === \"string\" ? block.data : Buffer.from(block.data).toString(\"base64\");\n\t\t\t\tconst mimeType = block.mimeType ?? \"application/octet-stream\";\n\t\t\t\treturn {\n\t\t\t\t\ttype: \"input_file\",\n\t\t\t\t\tfile_data: `data:${mimeType};base64,${encoded}`,\n\t\t\t\t\t...filename ? { filename } : {}\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn void 0;\n\t\t};\n\t\tconst convertReasoningBlock = (block) => {\n\t\t\tconst summaryEntries = (0,_misc_js__WEBPACK_IMPORTED_MODULE_0__.iife)(() => {\n\t\t\t\tif (Array.isArray(block.summary)) {\n\t\t\t\t\tconst candidate = block.summary;\n\t\t\t\t\tconst mapped = candidate?.map((item) => item?.text).filter((text) => typeof text === \"string\") ?? [];\n\t\t\t\t\tif (mapped.length > 0) return mapped;\n\t\t\t\t}\n\t\t\t\treturn block.reasoning ? [block.reasoning] : [];\n\t\t\t});\n\t\t\tconst summary = summaryEntries.length > 0 ? summaryEntries.map((text) => ({\n\t\t\t\ttype: \"summary_text\",\n\t\t\t\ttext\n\t\t\t})) : [{\n\t\t\t\ttype: \"summary_text\",\n\t\t\t\ttext: \"\"\n\t\t\t}];\n\t\t\tconst reasoningItem = {\n\t\t\t\ttype: \"reasoning\",\n\t\t\t\tid: block.id ?? \"\",\n\t\t\t\tsummary\n\t\t\t};\n\t\t\tif (block.reasoning) reasoningItem.content = [{\n\t\t\t\ttype: \"reasoning_text\",\n\t\t\t\ttext: block.reasoning\n\t\t\t}];\n\t\t\treturn reasoningItem;\n\t\t};\n\t\tconst convertFunctionCall = (block) => ({\n\t\t\ttype: \"function_call\",\n\t\t\tname: block.name ?? \"\",\n\t\t\tcall_id: block.id ?? \"\",\n\t\t\targuments: toJsonString(block.args)\n\t\t});\n\t\tconst convertFunctionCallOutput = (block) => {\n\t\t\tconst output = toJsonString(block.output);\n\t\t\tconst status = block.status === \"success\" ? \"completed\" : block.status === \"error\" ? \"incomplete\" : void 0;\n\t\t\treturn {\n\t\t\t\ttype: \"function_call_output\",\n\t\t\t\tcall_id: block.toolCallId ?? \"\",\n\t\t\t\toutput,\n\t\t\t\t...status ? { status } : {}\n\t\t\t};\n\t\t};\n\t\tfor (const block of message.contentBlocks) if (block.type === \"text\") pushMessageContent([{\n\t\t\ttype: \"input_text\",\n\t\t\ttext: block.text\n\t\t}]);\n\t\telse if (block.type === \"invalid_tool_call\") {} else if (block.type === \"reasoning\") {\n\t\t\tyield* flushMessage();\n\t\t\tyield convertReasoningBlock(block);\n\t\t} else if (block.type === \"tool_call\") {\n\t\t\tyield* flushMessage();\n\t\t\tconst id = block.id ?? \"\";\n\t\t\tif (id) {\n\t\t\t\tfunctionCallIdsWithBlocks.add(id);\n\t\t\t\tpendingFunctionChunks.delete(id);\n\t\t\t}\n\t\t\tyield convertFunctionCall(block);\n\t\t} else if (block.type === \"tool_call_chunk\") {\n\t\t\tif (block.id) {\n\t\t\t\tconst existing = pendingFunctionChunks.get(block.id) ?? {\n\t\t\t\t\tname: block.name,\n\t\t\t\t\targs: []\n\t\t\t\t};\n\t\t\t\tif (block.name) existing.name = block.name;\n\t\t\t\tif (block.args) existing.args.push(block.args);\n\t\t\t\tpendingFunctionChunks.set(block.id, existing);\n\t\t\t}\n\t\t} else if (block.type === \"server_tool_call\") {\n\t\t\tyield* flushMessage();\n\t\t\tconst id = block.id ?? \"\";\n\t\t\tif (id) {\n\t\t\t\tserverFunctionCallIdsWithBlocks.add(id);\n\t\t\t\tpendingServerFunctionChunks.delete(id);\n\t\t\t}\n\t\t\tyield convertFunctionCall(block);\n\t\t} else if (block.type === \"server_tool_call_chunk\") {\n\t\t\tif (block.id) {\n\t\t\t\tconst existing = pendingServerFunctionChunks.get(block.id) ?? {\n\t\t\t\t\tname: block.name,\n\t\t\t\t\targs: []\n\t\t\t\t};\n\t\t\t\tif (block.name) existing.name = block.name;\n\t\t\t\tif (block.args) existing.args.push(block.args);\n\t\t\t\tpendingServerFunctionChunks.set(block.id, existing);\n\t\t\t}\n\t\t} else if (block.type === \"server_tool_call_result\") {\n\t\t\tyield* flushMessage();\n\t\t\tyield convertFunctionCallOutput(block);\n\t\t} else if (block.type === \"audio\") {} else if (block.type === \"file\") {\n\t\t\tconst fileItem = resolveFileItem(block);\n\t\t\tif (fileItem) pushMessageContent([fileItem]);\n\t\t} else if (block.type === \"image\") {\n\t\t\tconst imageItem = resolveImageItem(block);\n\t\t\tif (imageItem) pushMessageContent([imageItem]);\n\t\t} else if (block.type === \"video\") {\n\t\t\tconst videoItem = resolveFileItem(block);\n\t\t\tif (videoItem) pushMessageContent([videoItem]);\n\t\t} else if (block.type === \"text-plain\") {\n\t\t\tif (block.text) pushMessageContent([{\n\t\t\t\ttype: \"input_text\",\n\t\t\t\ttext: block.text\n\t\t\t}]);\n\t\t} else if (block.type === \"non_standard\" && isResponsesMessage) {\n\t\t\tyield* flushMessage();\n\t\t\tyield block.value;\n\t\t}\n\t\tyield* flushMessage();\n\t\tfor (const [id, chunk] of pendingFunctionChunks) {\n\t\t\tif (!id || functionCallIdsWithBlocks.has(id)) continue;\n\t\t\tconst args = chunk.args.join(\"\");\n\t\t\tif (!chunk.name && !args) continue;\n\t\t\tyield {\n\t\t\t\ttype: \"function_call\",\n\t\t\t\tcall_id: id,\n\t\t\t\tname: chunk.name ?? \"\",\n\t\t\t\targuments: args\n\t\t\t};\n\t\t}\n\t\tfor (const [id, chunk] of pendingServerFunctionChunks) {\n\t\t\tif (!id || serverFunctionCallIdsWithBlocks.has(id)) continue;\n\t\t\tconst args = chunk.args.join(\"\");\n\t\t\tif (!chunk.name && !args) continue;\n\t\t\tyield {\n\t\t\t\ttype: \"function_call\",\n\t\t\t\tcall_id: id,\n\t\t\t\tname: chunk.name ?? \"\",\n\t\t\t\targuments: args\n\t\t\t};\n\t\t}\n\t}\n\treturn Array.from(iterateItems());\n}\n\n//#endregion\n\n//# sourceMappingURL=standard.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvcGVuYWlAMS4wLjBfQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfX193c0A4LjE4LjMvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvdXRpbHMvc3RhbmRhcmQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF3RTtBQUNKOztBQUVwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixhQUFhLGdCQUFnQixTQUFTLFdBQVc7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsOENBQUk7QUFDdEI7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNkRBQW1CO0FBQy9CLDBCQUEwQiwwREFBZ0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGlFQUFXO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHFFQUFXO0FBQ3ZDO0FBQ0Esc0JBQXNCLDhDQUFJO0FBQzFCO0FBQ0EsaUJBQWlCLDZEQUFtQjtBQUNwQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDLEtBQUs7QUFDTCxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDhDQUFJO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixVQUFVLFNBQVMsV0FBVztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsV0FBVztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixXQUFXO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixVQUFVLFNBQVMsUUFBUTtBQUNuRCxxQkFBcUIsV0FBVztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDhDQUFJO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFNBQVM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJLG9DQUFvQztBQUN4QztBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDZ0Y7QUFDaEYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK29wZW5haUAxLjAuMF9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl9fX3dzQDguMTguMy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9vcGVuYWkvZGlzdC91dGlscy9zdGFuZGFyZC5qcz9jMGYwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlpZmUsIGlzUmVhc29uaW5nTW9kZWwsIG1lc3NhZ2VUb09wZW5BSVJvbGUgfSBmcm9tIFwiLi9taXNjLmpzXCI7XG5pbXBvcnQgeyBUb29sTWVzc2FnZSwgaXNBSU1lc3NhZ2UgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL21lc3NhZ2VzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvc3RhbmRhcmQudHNcbmZ1bmN0aW9uIF9jb252ZXJ0VG9DaGF0Q29tcGxldGlvbnNEYXRhKGJsb2NrKSB7XG5cdGlmIChibG9jay50eXBlID09PSBcImltYWdlXCIpIHtcblx0XHRpZiAoYmxvY2sudXJsKSByZXR1cm4ge1xuXHRcdFx0dHlwZTogXCJpbWFnZV91cmxcIixcblx0XHRcdGltYWdlX3VybDogeyB1cmw6IGJsb2NrLnVybCB9XG5cdFx0fTtcblx0XHRlbHNlIGlmIChibG9jay5kYXRhKSByZXR1cm4ge1xuXHRcdFx0dHlwZTogXCJpbWFnZV91cmxcIixcblx0XHRcdGltYWdlX3VybDogeyB1cmw6IGBkYXRhOiR7YmxvY2subWltZVR5cGV9O2Jhc2U2NCwke2Jsb2NrLmRhdGF9YCB9XG5cdFx0fTtcblx0fVxuXHRpZiAoYmxvY2sudHlwZSA9PT0gXCJhdWRpb1wiKSB7XG5cdFx0aWYgKGJsb2NrLmRhdGEpIHtcblx0XHRcdGNvbnN0IGZvcm1hdCA9IGlpZmUoKCkgPT4ge1xuXHRcdFx0XHRjb25zdCBbLCBmb3JtYXQkMV0gPSBibG9jay5taW1lVHlwZS5zcGxpdChcIi9cIik7XG5cdFx0XHRcdGlmIChmb3JtYXQkMSA9PT0gXCJ3YXZcIiB8fCBmb3JtYXQkMSA9PT0gXCJtcDNcIikgcmV0dXJuIGZvcm1hdCQxO1xuXHRcdFx0XHRyZXR1cm4gXCJ3YXZcIjtcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0dHlwZTogXCJpbnB1dF9hdWRpb1wiLFxuXHRcdFx0XHRpbnB1dF9hdWRpbzoge1xuXHRcdFx0XHRcdGRhdGE6IGJsb2NrLmRhdGEudG9TdHJpbmcoKSxcblx0XHRcdFx0XHRmb3JtYXRcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9XG5cdH1cblx0aWYgKGJsb2NrLnR5cGUgPT09IFwiZmlsZVwiKSB7XG5cdFx0aWYgKGJsb2NrLmRhdGEpIHJldHVybiB7XG5cdFx0XHR0eXBlOiBcImZpbGVcIixcblx0XHRcdGZpbGU6IHsgZmlsZV9kYXRhOiBibG9jay5kYXRhLnRvU3RyaW5nKCkgfVxuXHRcdH07XG5cdFx0aWYgKGJsb2NrLmZpbGVJZCkgcmV0dXJuIHtcblx0XHRcdHR5cGU6IFwiZmlsZVwiLFxuXHRcdFx0ZmlsZTogeyBmaWxlX2lkOiBibG9jay5maWxlSWQgfVxuXHRcdH07XG5cdH1cblx0cmV0dXJuIHZvaWQgMDtcbn1cbmZ1bmN0aW9uIF9jb252ZXJ0VG9Db21wbGV0aW9uc01lc3NhZ2VGcm9tVjEobWVzc2FnZSwgbW9kZWwpIHtcblx0bGV0IHJvbGUgPSBtZXNzYWdlVG9PcGVuQUlSb2xlKG1lc3NhZ2UpO1xuXHRpZiAocm9sZSA9PT0gXCJzeXN0ZW1cIiAmJiBpc1JlYXNvbmluZ01vZGVsKG1vZGVsKSkgcm9sZSA9IFwiZGV2ZWxvcGVyXCI7XG5cdGlmIChyb2xlID09PSBcImRldmVsb3BlclwiKSByZXR1cm4ge1xuXHRcdHJvbGU6IFwiZGV2ZWxvcGVyXCIsXG5cdFx0Y29udGVudDogbWVzc2FnZS5jb250ZW50QmxvY2tzLmZpbHRlcigoYmxvY2spID0+IGJsb2NrLnR5cGUgPT09IFwidGV4dFwiKVxuXHR9O1xuXHRlbHNlIGlmIChyb2xlID09PSBcInN5c3RlbVwiKSByZXR1cm4ge1xuXHRcdHJvbGU6IFwic3lzdGVtXCIsXG5cdFx0Y29udGVudDogbWVzc2FnZS5jb250ZW50QmxvY2tzLmZpbHRlcigoYmxvY2spID0+IGJsb2NrLnR5cGUgPT09IFwidGV4dFwiKVxuXHR9O1xuXHRlbHNlIGlmIChyb2xlID09PSBcImFzc2lzdGFudFwiKSByZXR1cm4ge1xuXHRcdHJvbGU6IFwiYXNzaXN0YW50XCIsXG5cdFx0Y29udGVudDogbWVzc2FnZS5jb250ZW50QmxvY2tzLmZpbHRlcigoYmxvY2spID0+IGJsb2NrLnR5cGUgPT09IFwidGV4dFwiKVxuXHR9O1xuXHRlbHNlIGlmIChyb2xlID09PSBcInRvb2xcIiAmJiBUb29sTWVzc2FnZS5pc0luc3RhbmNlKG1lc3NhZ2UpKSByZXR1cm4ge1xuXHRcdHJvbGU6IFwidG9vbFwiLFxuXHRcdHRvb2xfY2FsbF9pZDogbWVzc2FnZS50b29sX2NhbGxfaWQsXG5cdFx0Y29udGVudDogbWVzc2FnZS5jb250ZW50QmxvY2tzLmZpbHRlcigoYmxvY2spID0+IGJsb2NrLnR5cGUgPT09IFwidGV4dFwiKVxuXHR9O1xuXHRlbHNlIGlmIChyb2xlID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB7XG5cdFx0cm9sZTogXCJmdW5jdGlvblwiLFxuXHRcdG5hbWU6IG1lc3NhZ2UubmFtZSA/PyBcIlwiLFxuXHRcdGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudEJsb2Nrcy5maWx0ZXIoKGJsb2NrKSA9PiBibG9jay50eXBlID09PSBcInRleHRcIikuam9pbihcIlwiKVxuXHR9O1xuXHRmdW5jdGlvbiogaXRlcmF0ZVVzZXJDb250ZW50KGJsb2Nrcykge1xuXHRcdGZvciAoY29uc3QgYmxvY2sgb2YgYmxvY2tzKSB7XG5cdFx0XHRpZiAoYmxvY2sudHlwZSA9PT0gXCJ0ZXh0XCIpIHlpZWxkIHtcblx0XHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHRcdHRleHQ6IGJsb2NrLnRleHRcblx0XHRcdH07XG5cdFx0XHRjb25zdCBkYXRhID0gX2NvbnZlcnRUb0NoYXRDb21wbGV0aW9uc0RhdGEoYmxvY2spO1xuXHRcdFx0aWYgKGRhdGEpIHlpZWxkIGRhdGE7XG5cdFx0fVxuXHR9XG5cdHJldHVybiB7XG5cdFx0cm9sZTogXCJ1c2VyXCIsXG5cdFx0Y29udGVudDogQXJyYXkuZnJvbShpdGVyYXRlVXNlckNvbnRlbnQobWVzc2FnZS5jb250ZW50QmxvY2tzKSlcblx0fTtcbn1cbmZ1bmN0aW9uIF9jb252ZXJ0VG9SZXNwb25zZXNNZXNzYWdlRnJvbVYxKG1lc3NhZ2UpIHtcblx0Y29uc3QgaXNSZXNwb25zZXNNZXNzYWdlID0gaXNBSU1lc3NhZ2UobWVzc2FnZSkgJiYgbWVzc2FnZS5yZXNwb25zZV9tZXRhZGF0YT8ubW9kZWxfcHJvdmlkZXIgPT09IFwib3BlbmFpXCI7XG5cdGZ1bmN0aW9uKiBpdGVyYXRlSXRlbXMoKSB7XG5cdFx0Y29uc3QgbWVzc2FnZVJvbGUgPSBpaWZlKCgpID0+IHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGNvbnN0IHJvbGUgPSBtZXNzYWdlVG9PcGVuQUlSb2xlKG1lc3NhZ2UpO1xuXHRcdFx0XHRpZiAocm9sZSA9PT0gXCJzeXN0ZW1cIiB8fCByb2xlID09PSBcImRldmVsb3BlclwiIHx8IHJvbGUgPT09IFwiYXNzaXN0YW50XCIgfHwgcm9sZSA9PT0gXCJ1c2VyXCIpIHJldHVybiByb2xlO1xuXHRcdFx0XHRyZXR1cm4gXCJhc3Npc3RhbnRcIjtcblx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHRyZXR1cm4gXCJhc3Npc3RhbnRcIjtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRsZXQgY3VycmVudE1lc3NhZ2UgPSB2b2lkIDA7XG5cdFx0Y29uc3QgZnVuY3Rpb25DYWxsSWRzV2l0aEJsb2NrcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG5cdFx0Y29uc3Qgc2VydmVyRnVuY3Rpb25DYWxsSWRzV2l0aEJsb2NrcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG5cdFx0Y29uc3QgcGVuZGluZ0Z1bmN0aW9uQ2h1bmtzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcblx0XHRjb25zdCBwZW5kaW5nU2VydmVyRnVuY3Rpb25DaHVua3MgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuXHRcdGZ1bmN0aW9uKiBmbHVzaE1lc3NhZ2UoKSB7XG5cdFx0XHRpZiAoIWN1cnJlbnRNZXNzYWdlKSByZXR1cm47XG5cdFx0XHRjb25zdCBjb250ZW50ID0gY3VycmVudE1lc3NhZ2UuY29udGVudDtcblx0XHRcdGlmICh0eXBlb2YgY29udGVudCA9PT0gXCJzdHJpbmdcIiAmJiBjb250ZW50Lmxlbmd0aCA+IDAgfHwgQXJyYXkuaXNBcnJheShjb250ZW50KSAmJiBjb250ZW50Lmxlbmd0aCA+IDApIHlpZWxkIGN1cnJlbnRNZXNzYWdlO1xuXHRcdFx0Y3VycmVudE1lc3NhZ2UgPSB2b2lkIDA7XG5cdFx0fVxuXHRcdGNvbnN0IHB1c2hNZXNzYWdlQ29udGVudCA9IChjb250ZW50KSA9PiB7XG5cdFx0XHRpZiAoIWN1cnJlbnRNZXNzYWdlKSBjdXJyZW50TWVzc2FnZSA9IHtcblx0XHRcdFx0dHlwZTogXCJtZXNzYWdlXCIsXG5cdFx0XHRcdHJvbGU6IG1lc3NhZ2VSb2xlLFxuXHRcdFx0XHRjb250ZW50OiBbXVxuXHRcdFx0fTtcblx0XHRcdGlmICh0eXBlb2YgY3VycmVudE1lc3NhZ2UuY29udGVudCA9PT0gXCJzdHJpbmdcIikgY3VycmVudE1lc3NhZ2UuY29udGVudCA9IGN1cnJlbnRNZXNzYWdlLmNvbnRlbnQubGVuZ3RoID4gMCA/IFt7XG5cdFx0XHRcdHR5cGU6IFwiaW5wdXRfdGV4dFwiLFxuXHRcdFx0XHR0ZXh0OiBjdXJyZW50TWVzc2FnZS5jb250ZW50XG5cdFx0XHR9LCAuLi5jb250ZW50XSA6IFsuLi5jb250ZW50XTtcblx0XHRcdGVsc2UgY3VycmVudE1lc3NhZ2UuY29udGVudC5wdXNoKC4uLmNvbnRlbnQpO1xuXHRcdH07XG5cdFx0Y29uc3QgdG9Kc29uU3RyaW5nID0gKHZhbHVlKSA9PiB7XG5cdFx0XHRpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSByZXR1cm4gdmFsdWU7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsdWUgPz8ge30pO1xuXHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdHJldHVybiBcInt9XCI7XG5cdFx0XHR9XG5cdFx0fTtcblx0XHRjb25zdCByZXNvbHZlSW1hZ2VJdGVtID0gKGJsb2NrKSA9PiB7XG5cdFx0XHRjb25zdCBkZXRhaWwgPSBpaWZlKCgpID0+IHtcblx0XHRcdFx0Y29uc3QgcmF3ID0gYmxvY2subWV0YWRhdGE/LmRldGFpbDtcblx0XHRcdFx0aWYgKHJhdyA9PT0gXCJsb3dcIiB8fCByYXcgPT09IFwiaGlnaFwiIHx8IHJhdyA9PT0gXCJhdXRvXCIpIHJldHVybiByYXc7XG5cdFx0XHRcdHJldHVybiBcImF1dG9cIjtcblx0XHRcdH0pO1xuXHRcdFx0aWYgKGJsb2NrLmZpbGVJZCkgcmV0dXJuIHtcblx0XHRcdFx0dHlwZTogXCJpbnB1dF9pbWFnZVwiLFxuXHRcdFx0XHRkZXRhaWwsXG5cdFx0XHRcdGZpbGVfaWQ6IGJsb2NrLmZpbGVJZFxuXHRcdFx0fTtcblx0XHRcdGlmIChibG9jay51cmwpIHJldHVybiB7XG5cdFx0XHRcdHR5cGU6IFwiaW5wdXRfaW1hZ2VcIixcblx0XHRcdFx0ZGV0YWlsLFxuXHRcdFx0XHRpbWFnZV91cmw6IGJsb2NrLnVybFxuXHRcdFx0fTtcblx0XHRcdGlmIChibG9jay5kYXRhKSB7XG5cdFx0XHRcdGNvbnN0IGJhc2U2NERhdGEgPSB0eXBlb2YgYmxvY2suZGF0YSA9PT0gXCJzdHJpbmdcIiA/IGJsb2NrLmRhdGEgOiBCdWZmZXIuZnJvbShibG9jay5kYXRhKS50b1N0cmluZyhcImJhc2U2NFwiKTtcblx0XHRcdFx0Y29uc3QgbWltZVR5cGUgPSBibG9jay5taW1lVHlwZSA/PyBcImltYWdlL3BuZ1wiO1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdHR5cGU6IFwiaW5wdXRfaW1hZ2VcIixcblx0XHRcdFx0XHRkZXRhaWwsXG5cdFx0XHRcdFx0aW1hZ2VfdXJsOiBgZGF0YToke21pbWVUeXBlfTtiYXNlNjQsJHtiYXNlNjREYXRhfWBcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB2b2lkIDA7XG5cdFx0fTtcblx0XHRjb25zdCByZXNvbHZlRmlsZUl0ZW0gPSAoYmxvY2spID0+IHtcblx0XHRcdGNvbnN0IGZpbGVuYW1lID0gYmxvY2subWV0YWRhdGE/LmZpbGVuYW1lID8/IGJsb2NrLm1ldGFkYXRhPy5uYW1lID8/IGJsb2NrLm1ldGFkYXRhPy50aXRsZTtcblx0XHRcdGlmIChibG9jay5maWxlSWQgJiYgdHlwZW9mIGZpbGVuYW1lID09PSBcInN0cmluZ1wiKSByZXR1cm4ge1xuXHRcdFx0XHR0eXBlOiBcImlucHV0X2ZpbGVcIixcblx0XHRcdFx0ZmlsZV9pZDogYmxvY2suZmlsZUlkLFxuXHRcdFx0XHQuLi5maWxlbmFtZSA/IHsgZmlsZW5hbWUgfSA6IHt9XG5cdFx0XHR9O1xuXHRcdFx0aWYgKGJsb2NrLnVybCAmJiB0eXBlb2YgZmlsZW5hbWUgPT09IFwic3RyaW5nXCIpIHJldHVybiB7XG5cdFx0XHRcdHR5cGU6IFwiaW5wdXRfZmlsZVwiLFxuXHRcdFx0XHRmaWxlX3VybDogYmxvY2sudXJsLFxuXHRcdFx0XHQuLi5maWxlbmFtZSA/IHsgZmlsZW5hbWUgfSA6IHt9XG5cdFx0XHR9O1xuXHRcdFx0aWYgKGJsb2NrLmRhdGEgJiYgdHlwZW9mIGZpbGVuYW1lID09PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRcdGNvbnN0IGVuY29kZWQgPSB0eXBlb2YgYmxvY2suZGF0YSA9PT0gXCJzdHJpbmdcIiA/IGJsb2NrLmRhdGEgOiBCdWZmZXIuZnJvbShibG9jay5kYXRhKS50b1N0cmluZyhcImJhc2U2NFwiKTtcblx0XHRcdFx0Y29uc3QgbWltZVR5cGUgPSBibG9jay5taW1lVHlwZSA/PyBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiO1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdHR5cGU6IFwiaW5wdXRfZmlsZVwiLFxuXHRcdFx0XHRcdGZpbGVfZGF0YTogYGRhdGE6JHttaW1lVHlwZX07YmFzZTY0LCR7ZW5jb2RlZH1gLFxuXHRcdFx0XHRcdC4uLmZpbGVuYW1lID8geyBmaWxlbmFtZSB9IDoge31cblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB2b2lkIDA7XG5cdFx0fTtcblx0XHRjb25zdCBjb252ZXJ0UmVhc29uaW5nQmxvY2sgPSAoYmxvY2spID0+IHtcblx0XHRcdGNvbnN0IHN1bW1hcnlFbnRyaWVzID0gaWlmZSgoKSA9PiB7XG5cdFx0XHRcdGlmIChBcnJheS5pc0FycmF5KGJsb2NrLnN1bW1hcnkpKSB7XG5cdFx0XHRcdFx0Y29uc3QgY2FuZGlkYXRlID0gYmxvY2suc3VtbWFyeTtcblx0XHRcdFx0XHRjb25zdCBtYXBwZWQgPSBjYW5kaWRhdGU/Lm1hcCgoaXRlbSkgPT4gaXRlbT8udGV4dCkuZmlsdGVyKCh0ZXh0KSA9PiB0eXBlb2YgdGV4dCA9PT0gXCJzdHJpbmdcIikgPz8gW107XG5cdFx0XHRcdFx0aWYgKG1hcHBlZC5sZW5ndGggPiAwKSByZXR1cm4gbWFwcGVkO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBibG9jay5yZWFzb25pbmcgPyBbYmxvY2sucmVhc29uaW5nXSA6IFtdO1xuXHRcdFx0fSk7XG5cdFx0XHRjb25zdCBzdW1tYXJ5ID0gc3VtbWFyeUVudHJpZXMubGVuZ3RoID4gMCA/IHN1bW1hcnlFbnRyaWVzLm1hcCgodGV4dCkgPT4gKHtcblx0XHRcdFx0dHlwZTogXCJzdW1tYXJ5X3RleHRcIixcblx0XHRcdFx0dGV4dFxuXHRcdFx0fSkpIDogW3tcblx0XHRcdFx0dHlwZTogXCJzdW1tYXJ5X3RleHRcIixcblx0XHRcdFx0dGV4dDogXCJcIlxuXHRcdFx0fV07XG5cdFx0XHRjb25zdCByZWFzb25pbmdJdGVtID0ge1xuXHRcdFx0XHR0eXBlOiBcInJlYXNvbmluZ1wiLFxuXHRcdFx0XHRpZDogYmxvY2suaWQgPz8gXCJcIixcblx0XHRcdFx0c3VtbWFyeVxuXHRcdFx0fTtcblx0XHRcdGlmIChibG9jay5yZWFzb25pbmcpIHJlYXNvbmluZ0l0ZW0uY29udGVudCA9IFt7XG5cdFx0XHRcdHR5cGU6IFwicmVhc29uaW5nX3RleHRcIixcblx0XHRcdFx0dGV4dDogYmxvY2sucmVhc29uaW5nXG5cdFx0XHR9XTtcblx0XHRcdHJldHVybiByZWFzb25pbmdJdGVtO1xuXHRcdH07XG5cdFx0Y29uc3QgY29udmVydEZ1bmN0aW9uQ2FsbCA9IChibG9jaykgPT4gKHtcblx0XHRcdHR5cGU6IFwiZnVuY3Rpb25fY2FsbFwiLFxuXHRcdFx0bmFtZTogYmxvY2submFtZSA/PyBcIlwiLFxuXHRcdFx0Y2FsbF9pZDogYmxvY2suaWQgPz8gXCJcIixcblx0XHRcdGFyZ3VtZW50czogdG9Kc29uU3RyaW5nKGJsb2NrLmFyZ3MpXG5cdFx0fSk7XG5cdFx0Y29uc3QgY29udmVydEZ1bmN0aW9uQ2FsbE91dHB1dCA9IChibG9jaykgPT4ge1xuXHRcdFx0Y29uc3Qgb3V0cHV0ID0gdG9Kc29uU3RyaW5nKGJsb2NrLm91dHB1dCk7XG5cdFx0XHRjb25zdCBzdGF0dXMgPSBibG9jay5zdGF0dXMgPT09IFwic3VjY2Vzc1wiID8gXCJjb21wbGV0ZWRcIiA6IGJsb2NrLnN0YXR1cyA9PT0gXCJlcnJvclwiID8gXCJpbmNvbXBsZXRlXCIgOiB2b2lkIDA7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHR0eXBlOiBcImZ1bmN0aW9uX2NhbGxfb3V0cHV0XCIsXG5cdFx0XHRcdGNhbGxfaWQ6IGJsb2NrLnRvb2xDYWxsSWQgPz8gXCJcIixcblx0XHRcdFx0b3V0cHV0LFxuXHRcdFx0XHQuLi5zdGF0dXMgPyB7IHN0YXR1cyB9IDoge31cblx0XHRcdH07XG5cdFx0fTtcblx0XHRmb3IgKGNvbnN0IGJsb2NrIG9mIG1lc3NhZ2UuY29udGVudEJsb2NrcykgaWYgKGJsb2NrLnR5cGUgPT09IFwidGV4dFwiKSBwdXNoTWVzc2FnZUNvbnRlbnQoW3tcblx0XHRcdHR5cGU6IFwiaW5wdXRfdGV4dFwiLFxuXHRcdFx0dGV4dDogYmxvY2sudGV4dFxuXHRcdH1dKTtcblx0XHRlbHNlIGlmIChibG9jay50eXBlID09PSBcImludmFsaWRfdG9vbF9jYWxsXCIpIHt9IGVsc2UgaWYgKGJsb2NrLnR5cGUgPT09IFwicmVhc29uaW5nXCIpIHtcblx0XHRcdHlpZWxkKiBmbHVzaE1lc3NhZ2UoKTtcblx0XHRcdHlpZWxkIGNvbnZlcnRSZWFzb25pbmdCbG9jayhibG9jayk7XG5cdFx0fSBlbHNlIGlmIChibG9jay50eXBlID09PSBcInRvb2xfY2FsbFwiKSB7XG5cdFx0XHR5aWVsZCogZmx1c2hNZXNzYWdlKCk7XG5cdFx0XHRjb25zdCBpZCA9IGJsb2NrLmlkID8/IFwiXCI7XG5cdFx0XHRpZiAoaWQpIHtcblx0XHRcdFx0ZnVuY3Rpb25DYWxsSWRzV2l0aEJsb2Nrcy5hZGQoaWQpO1xuXHRcdFx0XHRwZW5kaW5nRnVuY3Rpb25DaHVua3MuZGVsZXRlKGlkKTtcblx0XHRcdH1cblx0XHRcdHlpZWxkIGNvbnZlcnRGdW5jdGlvbkNhbGwoYmxvY2spO1xuXHRcdH0gZWxzZSBpZiAoYmxvY2sudHlwZSA9PT0gXCJ0b29sX2NhbGxfY2h1bmtcIikge1xuXHRcdFx0aWYgKGJsb2NrLmlkKSB7XG5cdFx0XHRcdGNvbnN0IGV4aXN0aW5nID0gcGVuZGluZ0Z1bmN0aW9uQ2h1bmtzLmdldChibG9jay5pZCkgPz8ge1xuXHRcdFx0XHRcdG5hbWU6IGJsb2NrLm5hbWUsXG5cdFx0XHRcdFx0YXJnczogW11cblx0XHRcdFx0fTtcblx0XHRcdFx0aWYgKGJsb2NrLm5hbWUpIGV4aXN0aW5nLm5hbWUgPSBibG9jay5uYW1lO1xuXHRcdFx0XHRpZiAoYmxvY2suYXJncykgZXhpc3RpbmcuYXJncy5wdXNoKGJsb2NrLmFyZ3MpO1xuXHRcdFx0XHRwZW5kaW5nRnVuY3Rpb25DaHVua3Muc2V0KGJsb2NrLmlkLCBleGlzdGluZyk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmIChibG9jay50eXBlID09PSBcInNlcnZlcl90b29sX2NhbGxcIikge1xuXHRcdFx0eWllbGQqIGZsdXNoTWVzc2FnZSgpO1xuXHRcdFx0Y29uc3QgaWQgPSBibG9jay5pZCA/PyBcIlwiO1xuXHRcdFx0aWYgKGlkKSB7XG5cdFx0XHRcdHNlcnZlckZ1bmN0aW9uQ2FsbElkc1dpdGhCbG9ja3MuYWRkKGlkKTtcblx0XHRcdFx0cGVuZGluZ1NlcnZlckZ1bmN0aW9uQ2h1bmtzLmRlbGV0ZShpZCk7XG5cdFx0XHR9XG5cdFx0XHR5aWVsZCBjb252ZXJ0RnVuY3Rpb25DYWxsKGJsb2NrKTtcblx0XHR9IGVsc2UgaWYgKGJsb2NrLnR5cGUgPT09IFwic2VydmVyX3Rvb2xfY2FsbF9jaHVua1wiKSB7XG5cdFx0XHRpZiAoYmxvY2suaWQpIHtcblx0XHRcdFx0Y29uc3QgZXhpc3RpbmcgPSBwZW5kaW5nU2VydmVyRnVuY3Rpb25DaHVua3MuZ2V0KGJsb2NrLmlkKSA/PyB7XG5cdFx0XHRcdFx0bmFtZTogYmxvY2submFtZSxcblx0XHRcdFx0XHRhcmdzOiBbXVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRpZiAoYmxvY2submFtZSkgZXhpc3RpbmcubmFtZSA9IGJsb2NrLm5hbWU7XG5cdFx0XHRcdGlmIChibG9jay5hcmdzKSBleGlzdGluZy5hcmdzLnB1c2goYmxvY2suYXJncyk7XG5cdFx0XHRcdHBlbmRpbmdTZXJ2ZXJGdW5jdGlvbkNodW5rcy5zZXQoYmxvY2suaWQsIGV4aXN0aW5nKTtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKGJsb2NrLnR5cGUgPT09IFwic2VydmVyX3Rvb2xfY2FsbF9yZXN1bHRcIikge1xuXHRcdFx0eWllbGQqIGZsdXNoTWVzc2FnZSgpO1xuXHRcdFx0eWllbGQgY29udmVydEZ1bmN0aW9uQ2FsbE91dHB1dChibG9jayk7XG5cdFx0fSBlbHNlIGlmIChibG9jay50eXBlID09PSBcImF1ZGlvXCIpIHt9IGVsc2UgaWYgKGJsb2NrLnR5cGUgPT09IFwiZmlsZVwiKSB7XG5cdFx0XHRjb25zdCBmaWxlSXRlbSA9IHJlc29sdmVGaWxlSXRlbShibG9jayk7XG5cdFx0XHRpZiAoZmlsZUl0ZW0pIHB1c2hNZXNzYWdlQ29udGVudChbZmlsZUl0ZW1dKTtcblx0XHR9IGVsc2UgaWYgKGJsb2NrLnR5cGUgPT09IFwiaW1hZ2VcIikge1xuXHRcdFx0Y29uc3QgaW1hZ2VJdGVtID0gcmVzb2x2ZUltYWdlSXRlbShibG9jayk7XG5cdFx0XHRpZiAoaW1hZ2VJdGVtKSBwdXNoTWVzc2FnZUNvbnRlbnQoW2ltYWdlSXRlbV0pO1xuXHRcdH0gZWxzZSBpZiAoYmxvY2sudHlwZSA9PT0gXCJ2aWRlb1wiKSB7XG5cdFx0XHRjb25zdCB2aWRlb0l0ZW0gPSByZXNvbHZlRmlsZUl0ZW0oYmxvY2spO1xuXHRcdFx0aWYgKHZpZGVvSXRlbSkgcHVzaE1lc3NhZ2VDb250ZW50KFt2aWRlb0l0ZW1dKTtcblx0XHR9IGVsc2UgaWYgKGJsb2NrLnR5cGUgPT09IFwidGV4dC1wbGFpblwiKSB7XG5cdFx0XHRpZiAoYmxvY2sudGV4dCkgcHVzaE1lc3NhZ2VDb250ZW50KFt7XG5cdFx0XHRcdHR5cGU6IFwiaW5wdXRfdGV4dFwiLFxuXHRcdFx0XHR0ZXh0OiBibG9jay50ZXh0XG5cdFx0XHR9XSk7XG5cdFx0fSBlbHNlIGlmIChibG9jay50eXBlID09PSBcIm5vbl9zdGFuZGFyZFwiICYmIGlzUmVzcG9uc2VzTWVzc2FnZSkge1xuXHRcdFx0eWllbGQqIGZsdXNoTWVzc2FnZSgpO1xuXHRcdFx0eWllbGQgYmxvY2sudmFsdWU7XG5cdFx0fVxuXHRcdHlpZWxkKiBmbHVzaE1lc3NhZ2UoKTtcblx0XHRmb3IgKGNvbnN0IFtpZCwgY2h1bmtdIG9mIHBlbmRpbmdGdW5jdGlvbkNodW5rcykge1xuXHRcdFx0aWYgKCFpZCB8fCBmdW5jdGlvbkNhbGxJZHNXaXRoQmxvY2tzLmhhcyhpZCkpIGNvbnRpbnVlO1xuXHRcdFx0Y29uc3QgYXJncyA9IGNodW5rLmFyZ3Muam9pbihcIlwiKTtcblx0XHRcdGlmICghY2h1bmsubmFtZSAmJiAhYXJncykgY29udGludWU7XG5cdFx0XHR5aWVsZCB7XG5cdFx0XHRcdHR5cGU6IFwiZnVuY3Rpb25fY2FsbFwiLFxuXHRcdFx0XHRjYWxsX2lkOiBpZCxcblx0XHRcdFx0bmFtZTogY2h1bmsubmFtZSA/PyBcIlwiLFxuXHRcdFx0XHRhcmd1bWVudHM6IGFyZ3Ncblx0XHRcdH07XG5cdFx0fVxuXHRcdGZvciAoY29uc3QgW2lkLCBjaHVua10gb2YgcGVuZGluZ1NlcnZlckZ1bmN0aW9uQ2h1bmtzKSB7XG5cdFx0XHRpZiAoIWlkIHx8IHNlcnZlckZ1bmN0aW9uQ2FsbElkc1dpdGhCbG9ja3MuaGFzKGlkKSkgY29udGludWU7XG5cdFx0XHRjb25zdCBhcmdzID0gY2h1bmsuYXJncy5qb2luKFwiXCIpO1xuXHRcdFx0aWYgKCFjaHVuay5uYW1lICYmICFhcmdzKSBjb250aW51ZTtcblx0XHRcdHlpZWxkIHtcblx0XHRcdFx0dHlwZTogXCJmdW5jdGlvbl9jYWxsXCIsXG5cdFx0XHRcdGNhbGxfaWQ6IGlkLFxuXHRcdFx0XHRuYW1lOiBjaHVuay5uYW1lID8/IFwiXCIsXG5cdFx0XHRcdGFyZ3VtZW50czogYXJnc1xuXHRcdFx0fTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIEFycmF5LmZyb20oaXRlcmF0ZUl0ZW1zKCkpO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IF9jb252ZXJ0VG9Db21wbGV0aW9uc01lc3NhZ2VGcm9tVjEsIF9jb252ZXJ0VG9SZXNwb25zZXNNZXNzYWdlRnJvbVYxIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdGFuZGFyZC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/standard.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/tools.js":
/*!****************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/tools.js ***!
  \****************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _convertToOpenAITool: () => (/* binding */ _convertToOpenAITool),\n/* harmony export */   convertCompletionsCustomTool: () => (/* binding */ convertCompletionsCustomTool),\n/* harmony export */   convertResponsesCustomTool: () => (/* binding */ convertResponsesCustomTool),\n/* harmony export */   formatFunctionDefinitions: () => (/* binding */ formatFunctionDefinitions),\n/* harmony export */   formatToOpenAIToolChoice: () => (/* binding */ formatToOpenAIToolChoice),\n/* harmony export */   isBuiltInTool: () => (/* binding */ isBuiltInTool),\n/* harmony export */   isBuiltInToolChoice: () => (/* binding */ isBuiltInToolChoice),\n/* harmony export */   isCustomTool: () => (/* binding */ isCustomTool),\n/* harmony export */   isCustomToolCall: () => (/* binding */ isCustomToolCall),\n/* harmony export */   isOpenAICustomTool: () => (/* binding */ isOpenAICustomTool),\n/* harmony export */   parseCustomToolCall: () => (/* binding */ parseCustomToolCall)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/utils/types */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/types/index.js\");\n/* harmony import */ var _langchain_core_utils_json_schema__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @langchain/core/utils/json_schema */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/json_schema.js\");\n/* harmony import */ var _langchain_core_utils_function_calling__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @langchain/core/utils/function_calling */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/function_calling.js\");\n\n\n\n\n//#region src/utils/tools.ts\n/**\n* Formats a tool in either OpenAI format, or LangChain structured tool format\n* into an OpenAI tool format. If the tool is already in OpenAI format, return without\n* any changes. If it is in LangChain structured tool format, convert it to OpenAI tool format\n* using OpenAI's `zodFunction` util, falling back to `convertToOpenAIFunction` if the parameters\n* returned from the `zodFunction` util are not defined.\n*\n* @param {BindToolsInput} tool The tool to convert to an OpenAI tool.\n* @param {Object} [fields] Additional fields to add to the OpenAI tool.\n* @returns {ToolDefinition} The inputted tool in OpenAI tool format.\n*/\nfunction _convertToOpenAITool(tool, fields) {\n\tlet toolDef;\n\tif ((0,_langchain_core_utils_function_calling__WEBPACK_IMPORTED_MODULE_2__.isLangChainTool)(tool)) toolDef = (0,_langchain_core_utils_function_calling__WEBPACK_IMPORTED_MODULE_2__.convertToOpenAITool)(tool);\n\telse toolDef = tool;\n\tif (fields?.strict !== void 0) toolDef.function.strict = fields.strict;\n\treturn toolDef;\n}\nfunction isAnyOfProp(prop) {\n\treturn prop.anyOf !== void 0 && Array.isArray(prop.anyOf);\n}\nfunction formatFunctionDefinitions(functions) {\n\tconst lines = [\"namespace functions {\", \"\"];\n\tfor (const f of functions) {\n\t\tif (f.description) lines.push(`// ${f.description}`);\n\t\tif (Object.keys(f.parameters.properties ?? {}).length > 0) {\n\t\t\tlines.push(`type ${f.name} = (_: {`);\n\t\t\tlines.push(formatObjectProperties(f.parameters, 0));\n\t\t\tlines.push(\"}) => any;\");\n\t\t} else lines.push(`type ${f.name} = () => any;`);\n\t\tlines.push(\"\");\n\t}\n\tlines.push(\"} // namespace functions\");\n\treturn lines.join(\"\\n\");\n}\nfunction formatObjectProperties(obj, indent) {\n\tconst lines = [];\n\tfor (const [name, param] of Object.entries(obj.properties ?? {})) {\n\t\tif (param.description && indent < 2) lines.push(`// ${param.description}`);\n\t\tif (obj.required?.includes(name)) lines.push(`${name}: ${formatType(param, indent)},`);\n\t\telse lines.push(`${name}?: ${formatType(param, indent)},`);\n\t}\n\treturn lines.map((line) => \" \".repeat(indent) + line).join(\"\\n\");\n}\nfunction formatType(param, indent) {\n\tif (isAnyOfProp(param)) return param.anyOf.map((v) => formatType(v, indent)).join(\" | \");\n\tswitch (param.type) {\n\t\tcase \"string\":\n\t\t\tif (param.enum) return param.enum.map((v) => `\"${v}\"`).join(\" | \");\n\t\t\treturn \"string\";\n\t\tcase \"number\":\n\t\t\tif (param.enum) return param.enum.map((v) => `${v}`).join(\" | \");\n\t\t\treturn \"number\";\n\t\tcase \"integer\":\n\t\t\tif (param.enum) return param.enum.map((v) => `${v}`).join(\" | \");\n\t\t\treturn \"number\";\n\t\tcase \"boolean\": return \"boolean\";\n\t\tcase \"null\": return \"null\";\n\t\tcase \"object\": return [\n\t\t\t\"{\",\n\t\t\tformatObjectProperties(param, indent + 2),\n\t\t\t\"}\"\n\t\t].join(\"\\n\");\n\t\tcase \"array\":\n\t\t\tif (param.items) return `${formatType(param.items, indent)}[]`;\n\t\t\treturn \"any[]\";\n\t\tdefault: return \"\";\n\t}\n}\nfunction formatToOpenAIToolChoice(toolChoice) {\n\tif (!toolChoice) return void 0;\n\telse if (toolChoice === \"any\" || toolChoice === \"required\") return \"required\";\n\telse if (toolChoice === \"auto\") return \"auto\";\n\telse if (toolChoice === \"none\") return \"none\";\n\telse if (typeof toolChoice === \"string\") return {\n\t\ttype: \"function\",\n\t\tfunction: { name: toolChoice }\n\t};\n\telse return toolChoice;\n}\nfunction isBuiltInTool(tool) {\n\treturn \"type\" in tool && tool.type !== \"function\";\n}\nfunction isBuiltInToolChoice(tool_choice) {\n\treturn tool_choice != null && typeof tool_choice === \"object\" && \"type\" in tool_choice && tool_choice.type !== \"function\";\n}\nfunction isCustomTool(tool) {\n\treturn typeof tool === \"object\" && tool !== null && \"metadata\" in tool && typeof tool.metadata === \"object\" && tool.metadata !== null && \"customTool\" in tool.metadata && typeof tool.metadata.customTool === \"object\" && tool.metadata.customTool !== null;\n}\nfunction isOpenAICustomTool(tool) {\n\treturn \"type\" in tool && tool.type === \"custom\" && \"custom\" in tool && typeof tool.custom === \"object\" && tool.custom !== null;\n}\nfunction parseCustomToolCall(rawToolCall) {\n\tif (rawToolCall.type !== \"custom_tool_call\") return void 0;\n\treturn {\n\t\t...rawToolCall,\n\t\ttype: \"tool_call\",\n\t\tcall_id: rawToolCall.id,\n\t\tid: rawToolCall.call_id,\n\t\tname: rawToolCall.name,\n\t\tisCustomTool: true,\n\t\targs: { input: rawToolCall.input }\n\t};\n}\nfunction isCustomToolCall(toolCall) {\n\treturn toolCall.type === \"tool_call\" && \"isCustomTool\" in toolCall && toolCall.isCustomTool === true;\n}\nfunction convertCompletionsCustomTool(tool) {\n\tconst getFormat = () => {\n\t\tif (!tool.custom.format) return void 0;\n\t\tif (tool.custom.format.type === \"grammar\") return {\n\t\t\ttype: \"grammar\",\n\t\t\tdefinition: tool.custom.format.grammar.definition,\n\t\t\tsyntax: tool.custom.format.grammar.syntax\n\t\t};\n\t\tif (tool.custom.format.type === \"text\") return { type: \"text\" };\n\t\treturn void 0;\n\t};\n\treturn {\n\t\ttype: \"custom\",\n\t\tname: tool.custom.name,\n\t\tdescription: tool.custom.description,\n\t\tformat: getFormat()\n\t};\n}\nfunction convertResponsesCustomTool(tool) {\n\tconst getFormat = () => {\n\t\tif (!tool.format) return void 0;\n\t\tif (tool.format.type === \"grammar\") return {\n\t\t\ttype: \"grammar\",\n\t\t\tgrammar: {\n\t\t\t\tdefinition: tool.format.definition,\n\t\t\t\tsyntax: tool.format.syntax\n\t\t\t}\n\t\t};\n\t\tif (tool.format.type === \"text\") return { type: \"text\" };\n\t\treturn void 0;\n\t};\n\treturn {\n\t\ttype: \"custom\",\n\t\tcustom: {\n\t\t\tname: tool.name,\n\t\t\tdescription: tool.description,\n\t\t\tformat: getFormat()\n\t\t}\n\t};\n}\n\n//#endregion\n\n//# sourceMappingURL=tools.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitvcGVuYWlAMS4wLjBfQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfX193c0A4LjE4LjMvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvdXRpbHMvdG9vbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBaUU7QUFDQTtBQUM2Qjs7QUFFOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0JBQWdCO0FBQzFCLFVBQVUsUUFBUTtBQUNsQixZQUFZLGdCQUFnQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxLQUFLLHVGQUFlLGtCQUFrQiwyRkFBbUI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBLHNDQUFzQyxjQUFjO0FBQ3BELCtDQUErQztBQUMvQyxzQkFBc0IsUUFBUSxPQUFPO0FBQ3JDO0FBQ0EsZ0JBQWdCLFNBQVM7QUFDekIsSUFBSSx3QkFBd0IsUUFBUSxZQUFZO0FBQ2hEO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0U7QUFDaEUsd0RBQXdELGtCQUFrQjtBQUMxRSxrREFBa0QsS0FBSyxJQUFJLDBCQUEwQjtBQUNyRixxQkFBcUIsS0FBSyxLQUFLLDBCQUEwQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxFQUFFO0FBQ3REO0FBQ0E7QUFDQSxtREFBbUQsRUFBRTtBQUNyRDtBQUNBO0FBQ0EsbURBQW1ELEVBQUU7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLDhCQUE4QixnQ0FBZ0M7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUM0UDtBQUM1UCIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rb3BlbmFpQDEuMC4wX0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2X19fd3NAOC4xOC4zL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L3V0aWxzL3Rvb2xzLmpzPzBkY2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNJbnRlcm9wWm9kU2NoZW1hIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS91dGlscy90eXBlc1wiO1xuaW1wb3J0IHsgdG9Kc29uU2NoZW1hIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS91dGlscy9qc29uX3NjaGVtYVwiO1xuaW1wb3J0IHsgY29udmVydFRvT3BlbkFJVG9vbCwgaXNMYW5nQ2hhaW5Ub29sIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS91dGlscy9mdW5jdGlvbl9jYWxsaW5nXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvdG9vbHMudHNcbi8qKlxuKiBGb3JtYXRzIGEgdG9vbCBpbiBlaXRoZXIgT3BlbkFJIGZvcm1hdCwgb3IgTGFuZ0NoYWluIHN0cnVjdHVyZWQgdG9vbCBmb3JtYXRcbiogaW50byBhbiBPcGVuQUkgdG9vbCBmb3JtYXQuIElmIHRoZSB0b29sIGlzIGFscmVhZHkgaW4gT3BlbkFJIGZvcm1hdCwgcmV0dXJuIHdpdGhvdXRcbiogYW55IGNoYW5nZXMuIElmIGl0IGlzIGluIExhbmdDaGFpbiBzdHJ1Y3R1cmVkIHRvb2wgZm9ybWF0LCBjb252ZXJ0IGl0IHRvIE9wZW5BSSB0b29sIGZvcm1hdFxuKiB1c2luZyBPcGVuQUkncyBgem9kRnVuY3Rpb25gIHV0aWwsIGZhbGxpbmcgYmFjayB0byBgY29udmVydFRvT3BlbkFJRnVuY3Rpb25gIGlmIHRoZSBwYXJhbWV0ZXJzXG4qIHJldHVybmVkIGZyb20gdGhlIGB6b2RGdW5jdGlvbmAgdXRpbCBhcmUgbm90IGRlZmluZWQuXG4qXG4qIEBwYXJhbSB7QmluZFRvb2xzSW5wdXR9IHRvb2wgVGhlIHRvb2wgdG8gY29udmVydCB0byBhbiBPcGVuQUkgdG9vbC5cbiogQHBhcmFtIHtPYmplY3R9IFtmaWVsZHNdIEFkZGl0aW9uYWwgZmllbGRzIHRvIGFkZCB0byB0aGUgT3BlbkFJIHRvb2wuXG4qIEByZXR1cm5zIHtUb29sRGVmaW5pdGlvbn0gVGhlIGlucHV0dGVkIHRvb2wgaW4gT3BlbkFJIHRvb2wgZm9ybWF0LlxuKi9cbmZ1bmN0aW9uIF9jb252ZXJ0VG9PcGVuQUlUb29sKHRvb2wsIGZpZWxkcykge1xuXHRsZXQgdG9vbERlZjtcblx0aWYgKGlzTGFuZ0NoYWluVG9vbCh0b29sKSkgdG9vbERlZiA9IGNvbnZlcnRUb09wZW5BSVRvb2wodG9vbCk7XG5cdGVsc2UgdG9vbERlZiA9IHRvb2w7XG5cdGlmIChmaWVsZHM/LnN0cmljdCAhPT0gdm9pZCAwKSB0b29sRGVmLmZ1bmN0aW9uLnN0cmljdCA9IGZpZWxkcy5zdHJpY3Q7XG5cdHJldHVybiB0b29sRGVmO1xufVxuZnVuY3Rpb24gaXNBbnlPZlByb3AocHJvcCkge1xuXHRyZXR1cm4gcHJvcC5hbnlPZiAhPT0gdm9pZCAwICYmIEFycmF5LmlzQXJyYXkocHJvcC5hbnlPZik7XG59XG5mdW5jdGlvbiBmb3JtYXRGdW5jdGlvbkRlZmluaXRpb25zKGZ1bmN0aW9ucykge1xuXHRjb25zdCBsaW5lcyA9IFtcIm5hbWVzcGFjZSBmdW5jdGlvbnMge1wiLCBcIlwiXTtcblx0Zm9yIChjb25zdCBmIG9mIGZ1bmN0aW9ucykge1xuXHRcdGlmIChmLmRlc2NyaXB0aW9uKSBsaW5lcy5wdXNoKGAvLyAke2YuZGVzY3JpcHRpb259YCk7XG5cdFx0aWYgKE9iamVjdC5rZXlzKGYucGFyYW1ldGVycy5wcm9wZXJ0aWVzID8/IHt9KS5sZW5ndGggPiAwKSB7XG5cdFx0XHRsaW5lcy5wdXNoKGB0eXBlICR7Zi5uYW1lfSA9IChfOiB7YCk7XG5cdFx0XHRsaW5lcy5wdXNoKGZvcm1hdE9iamVjdFByb3BlcnRpZXMoZi5wYXJhbWV0ZXJzLCAwKSk7XG5cdFx0XHRsaW5lcy5wdXNoKFwifSkgPT4gYW55O1wiKTtcblx0XHR9IGVsc2UgbGluZXMucHVzaChgdHlwZSAke2YubmFtZX0gPSAoKSA9PiBhbnk7YCk7XG5cdFx0bGluZXMucHVzaChcIlwiKTtcblx0fVxuXHRsaW5lcy5wdXNoKFwifSAvLyBuYW1lc3BhY2UgZnVuY3Rpb25zXCIpO1xuXHRyZXR1cm4gbGluZXMuam9pbihcIlxcblwiKTtcbn1cbmZ1bmN0aW9uIGZvcm1hdE9iamVjdFByb3BlcnRpZXMob2JqLCBpbmRlbnQpIHtcblx0Y29uc3QgbGluZXMgPSBbXTtcblx0Zm9yIChjb25zdCBbbmFtZSwgcGFyYW1dIG9mIE9iamVjdC5lbnRyaWVzKG9iai5wcm9wZXJ0aWVzID8/IHt9KSkge1xuXHRcdGlmIChwYXJhbS5kZXNjcmlwdGlvbiAmJiBpbmRlbnQgPCAyKSBsaW5lcy5wdXNoKGAvLyAke3BhcmFtLmRlc2NyaXB0aW9ufWApO1xuXHRcdGlmIChvYmoucmVxdWlyZWQ/LmluY2x1ZGVzKG5hbWUpKSBsaW5lcy5wdXNoKGAke25hbWV9OiAke2Zvcm1hdFR5cGUocGFyYW0sIGluZGVudCl9LGApO1xuXHRcdGVsc2UgbGluZXMucHVzaChgJHtuYW1lfT86ICR7Zm9ybWF0VHlwZShwYXJhbSwgaW5kZW50KX0sYCk7XG5cdH1cblx0cmV0dXJuIGxpbmVzLm1hcCgobGluZSkgPT4gXCIgXCIucmVwZWF0KGluZGVudCkgKyBsaW5lKS5qb2luKFwiXFxuXCIpO1xufVxuZnVuY3Rpb24gZm9ybWF0VHlwZShwYXJhbSwgaW5kZW50KSB7XG5cdGlmIChpc0FueU9mUHJvcChwYXJhbSkpIHJldHVybiBwYXJhbS5hbnlPZi5tYXAoKHYpID0+IGZvcm1hdFR5cGUodiwgaW5kZW50KSkuam9pbihcIiB8IFwiKTtcblx0c3dpdGNoIChwYXJhbS50eXBlKSB7XG5cdFx0Y2FzZSBcInN0cmluZ1wiOlxuXHRcdFx0aWYgKHBhcmFtLmVudW0pIHJldHVybiBwYXJhbS5lbnVtLm1hcCgodikgPT4gYFwiJHt2fVwiYCkuam9pbihcIiB8IFwiKTtcblx0XHRcdHJldHVybiBcInN0cmluZ1wiO1xuXHRcdGNhc2UgXCJudW1iZXJcIjpcblx0XHRcdGlmIChwYXJhbS5lbnVtKSByZXR1cm4gcGFyYW0uZW51bS5tYXAoKHYpID0+IGAke3Z9YCkuam9pbihcIiB8IFwiKTtcblx0XHRcdHJldHVybiBcIm51bWJlclwiO1xuXHRcdGNhc2UgXCJpbnRlZ2VyXCI6XG5cdFx0XHRpZiAocGFyYW0uZW51bSkgcmV0dXJuIHBhcmFtLmVudW0ubWFwKCh2KSA9PiBgJHt2fWApLmpvaW4oXCIgfCBcIik7XG5cdFx0XHRyZXR1cm4gXCJudW1iZXJcIjtcblx0XHRjYXNlIFwiYm9vbGVhblwiOiByZXR1cm4gXCJib29sZWFuXCI7XG5cdFx0Y2FzZSBcIm51bGxcIjogcmV0dXJuIFwibnVsbFwiO1xuXHRcdGNhc2UgXCJvYmplY3RcIjogcmV0dXJuIFtcblx0XHRcdFwie1wiLFxuXHRcdFx0Zm9ybWF0T2JqZWN0UHJvcGVydGllcyhwYXJhbSwgaW5kZW50ICsgMiksXG5cdFx0XHRcIn1cIlxuXHRcdF0uam9pbihcIlxcblwiKTtcblx0XHRjYXNlIFwiYXJyYXlcIjpcblx0XHRcdGlmIChwYXJhbS5pdGVtcykgcmV0dXJuIGAke2Zvcm1hdFR5cGUocGFyYW0uaXRlbXMsIGluZGVudCl9W11gO1xuXHRcdFx0cmV0dXJuIFwiYW55W11cIjtcblx0XHRkZWZhdWx0OiByZXR1cm4gXCJcIjtcblx0fVxufVxuZnVuY3Rpb24gZm9ybWF0VG9PcGVuQUlUb29sQ2hvaWNlKHRvb2xDaG9pY2UpIHtcblx0aWYgKCF0b29sQ2hvaWNlKSByZXR1cm4gdm9pZCAwO1xuXHRlbHNlIGlmICh0b29sQ2hvaWNlID09PSBcImFueVwiIHx8IHRvb2xDaG9pY2UgPT09IFwicmVxdWlyZWRcIikgcmV0dXJuIFwicmVxdWlyZWRcIjtcblx0ZWxzZSBpZiAodG9vbENob2ljZSA9PT0gXCJhdXRvXCIpIHJldHVybiBcImF1dG9cIjtcblx0ZWxzZSBpZiAodG9vbENob2ljZSA9PT0gXCJub25lXCIpIHJldHVybiBcIm5vbmVcIjtcblx0ZWxzZSBpZiAodHlwZW9mIHRvb2xDaG9pY2UgPT09IFwic3RyaW5nXCIpIHJldHVybiB7XG5cdFx0dHlwZTogXCJmdW5jdGlvblwiLFxuXHRcdGZ1bmN0aW9uOiB7IG5hbWU6IHRvb2xDaG9pY2UgfVxuXHR9O1xuXHRlbHNlIHJldHVybiB0b29sQ2hvaWNlO1xufVxuZnVuY3Rpb24gaXNCdWlsdEluVG9vbCh0b29sKSB7XG5cdHJldHVybiBcInR5cGVcIiBpbiB0b29sICYmIHRvb2wudHlwZSAhPT0gXCJmdW5jdGlvblwiO1xufVxuZnVuY3Rpb24gaXNCdWlsdEluVG9vbENob2ljZSh0b29sX2Nob2ljZSkge1xuXHRyZXR1cm4gdG9vbF9jaG9pY2UgIT0gbnVsbCAmJiB0eXBlb2YgdG9vbF9jaG9pY2UgPT09IFwib2JqZWN0XCIgJiYgXCJ0eXBlXCIgaW4gdG9vbF9jaG9pY2UgJiYgdG9vbF9jaG9pY2UudHlwZSAhPT0gXCJmdW5jdGlvblwiO1xufVxuZnVuY3Rpb24gaXNDdXN0b21Ub29sKHRvb2wpIHtcblx0cmV0dXJuIHR5cGVvZiB0b29sID09PSBcIm9iamVjdFwiICYmIHRvb2wgIT09IG51bGwgJiYgXCJtZXRhZGF0YVwiIGluIHRvb2wgJiYgdHlwZW9mIHRvb2wubWV0YWRhdGEgPT09IFwib2JqZWN0XCIgJiYgdG9vbC5tZXRhZGF0YSAhPT0gbnVsbCAmJiBcImN1c3RvbVRvb2xcIiBpbiB0b29sLm1ldGFkYXRhICYmIHR5cGVvZiB0b29sLm1ldGFkYXRhLmN1c3RvbVRvb2wgPT09IFwib2JqZWN0XCIgJiYgdG9vbC5tZXRhZGF0YS5jdXN0b21Ub29sICE9PSBudWxsO1xufVxuZnVuY3Rpb24gaXNPcGVuQUlDdXN0b21Ub29sKHRvb2wpIHtcblx0cmV0dXJuIFwidHlwZVwiIGluIHRvb2wgJiYgdG9vbC50eXBlID09PSBcImN1c3RvbVwiICYmIFwiY3VzdG9tXCIgaW4gdG9vbCAmJiB0eXBlb2YgdG9vbC5jdXN0b20gPT09IFwib2JqZWN0XCIgJiYgdG9vbC5jdXN0b20gIT09IG51bGw7XG59XG5mdW5jdGlvbiBwYXJzZUN1c3RvbVRvb2xDYWxsKHJhd1Rvb2xDYWxsKSB7XG5cdGlmIChyYXdUb29sQ2FsbC50eXBlICE9PSBcImN1c3RvbV90b29sX2NhbGxcIikgcmV0dXJuIHZvaWQgMDtcblx0cmV0dXJuIHtcblx0XHQuLi5yYXdUb29sQ2FsbCxcblx0XHR0eXBlOiBcInRvb2xfY2FsbFwiLFxuXHRcdGNhbGxfaWQ6IHJhd1Rvb2xDYWxsLmlkLFxuXHRcdGlkOiByYXdUb29sQ2FsbC5jYWxsX2lkLFxuXHRcdG5hbWU6IHJhd1Rvb2xDYWxsLm5hbWUsXG5cdFx0aXNDdXN0b21Ub29sOiB0cnVlLFxuXHRcdGFyZ3M6IHsgaW5wdXQ6IHJhd1Rvb2xDYWxsLmlucHV0IH1cblx0fTtcbn1cbmZ1bmN0aW9uIGlzQ3VzdG9tVG9vbENhbGwodG9vbENhbGwpIHtcblx0cmV0dXJuIHRvb2xDYWxsLnR5cGUgPT09IFwidG9vbF9jYWxsXCIgJiYgXCJpc0N1c3RvbVRvb2xcIiBpbiB0b29sQ2FsbCAmJiB0b29sQ2FsbC5pc0N1c3RvbVRvb2wgPT09IHRydWU7XG59XG5mdW5jdGlvbiBjb252ZXJ0Q29tcGxldGlvbnNDdXN0b21Ub29sKHRvb2wpIHtcblx0Y29uc3QgZ2V0Rm9ybWF0ID0gKCkgPT4ge1xuXHRcdGlmICghdG9vbC5jdXN0b20uZm9ybWF0KSByZXR1cm4gdm9pZCAwO1xuXHRcdGlmICh0b29sLmN1c3RvbS5mb3JtYXQudHlwZSA9PT0gXCJncmFtbWFyXCIpIHJldHVybiB7XG5cdFx0XHR0eXBlOiBcImdyYW1tYXJcIixcblx0XHRcdGRlZmluaXRpb246IHRvb2wuY3VzdG9tLmZvcm1hdC5ncmFtbWFyLmRlZmluaXRpb24sXG5cdFx0XHRzeW50YXg6IHRvb2wuY3VzdG9tLmZvcm1hdC5ncmFtbWFyLnN5bnRheFxuXHRcdH07XG5cdFx0aWYgKHRvb2wuY3VzdG9tLmZvcm1hdC50eXBlID09PSBcInRleHRcIikgcmV0dXJuIHsgdHlwZTogXCJ0ZXh0XCIgfTtcblx0XHRyZXR1cm4gdm9pZCAwO1xuXHR9O1xuXHRyZXR1cm4ge1xuXHRcdHR5cGU6IFwiY3VzdG9tXCIsXG5cdFx0bmFtZTogdG9vbC5jdXN0b20ubmFtZSxcblx0XHRkZXNjcmlwdGlvbjogdG9vbC5jdXN0b20uZGVzY3JpcHRpb24sXG5cdFx0Zm9ybWF0OiBnZXRGb3JtYXQoKVxuXHR9O1xufVxuZnVuY3Rpb24gY29udmVydFJlc3BvbnNlc0N1c3RvbVRvb2wodG9vbCkge1xuXHRjb25zdCBnZXRGb3JtYXQgPSAoKSA9PiB7XG5cdFx0aWYgKCF0b29sLmZvcm1hdCkgcmV0dXJuIHZvaWQgMDtcblx0XHRpZiAodG9vbC5mb3JtYXQudHlwZSA9PT0gXCJncmFtbWFyXCIpIHJldHVybiB7XG5cdFx0XHR0eXBlOiBcImdyYW1tYXJcIixcblx0XHRcdGdyYW1tYXI6IHtcblx0XHRcdFx0ZGVmaW5pdGlvbjogdG9vbC5mb3JtYXQuZGVmaW5pdGlvbixcblx0XHRcdFx0c3ludGF4OiB0b29sLmZvcm1hdC5zeW50YXhcblx0XHRcdH1cblx0XHR9O1xuXHRcdGlmICh0b29sLmZvcm1hdC50eXBlID09PSBcInRleHRcIikgcmV0dXJuIHsgdHlwZTogXCJ0ZXh0XCIgfTtcblx0XHRyZXR1cm4gdm9pZCAwO1xuXHR9O1xuXHRyZXR1cm4ge1xuXHRcdHR5cGU6IFwiY3VzdG9tXCIsXG5cdFx0Y3VzdG9tOiB7XG5cdFx0XHRuYW1lOiB0b29sLm5hbWUsXG5cdFx0XHRkZXNjcmlwdGlvbjogdG9vbC5kZXNjcmlwdGlvbixcblx0XHRcdGZvcm1hdDogZ2V0Rm9ybWF0KClcblx0XHR9XG5cdH07XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgX2NvbnZlcnRUb09wZW5BSVRvb2wsIGNvbnZlcnRDb21wbGV0aW9uc0N1c3RvbVRvb2wsIGNvbnZlcnRSZXNwb25zZXNDdXN0b21Ub29sLCBmb3JtYXRGdW5jdGlvbkRlZmluaXRpb25zLCBmb3JtYXRUb09wZW5BSVRvb2xDaG9pY2UsIGlzQnVpbHRJblRvb2wsIGlzQnVpbHRJblRvb2xDaG9pY2UsIGlzQ3VzdG9tVG9vbCwgaXNDdXN0b21Ub29sQ2FsbCwgaXNPcGVuQUlDdXN0b21Ub29sLCBwYXJzZUN1c3RvbVRvb2xDYWxsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b29scy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+openai@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76___ws@8.18.3/node_modules/@langchain/openai/dist/utils/tools.js\n");

/***/ })

};
;