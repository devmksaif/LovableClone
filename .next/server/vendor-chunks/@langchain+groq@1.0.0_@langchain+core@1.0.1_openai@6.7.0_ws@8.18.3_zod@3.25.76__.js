"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@langchain+groq@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76__";
exports.ids = ["vendor-chunks/@langchain+groq@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76__"];
exports.modules = {

/***/ "(rsc)/./node_modules/.pnpm/@langchain+groq@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76__/node_modules/@langchain/groq/dist/chat_models.js":
/*!**************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+groq@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76__/node_modules/@langchain/groq/dist/chat_models.js ***!
  \**************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatGroq: () => (/* binding */ ChatGroq),\n/* harmony export */   messageToGroqRole: () => (/* binding */ messageToGroqRole)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_utils_json_schema__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/utils/json_schema */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/json_schema.js\");\n/* harmony import */ var _langchain_core_language_models_chat_models__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @langchain/core/language_models/chat_models */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/language_models/chat_models.js\");\n/* harmony import */ var _langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @langchain/core/messages */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/index.js\");\n/* harmony import */ var _langchain_core_outputs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @langchain/core/outputs */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/outputs.js\");\n/* harmony import */ var _langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @langchain/core/utils/env */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/env.js\");\n/* harmony import */ var _langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @langchain/core/utils/types */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/types/index.js\");\n/* harmony import */ var groq_sdk__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! groq-sdk */ \"(rsc)/./node_modules/.pnpm/groq-sdk@0.19.0/node_modules/groq-sdk/index.mjs\");\n/* harmony import */ var _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @langchain/core/runnables */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/index.js\");\n/* harmony import */ var _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @langchain/core/output_parsers */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/index.js\");\n/* harmony import */ var _langchain_core_output_parsers_openai_tools__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @langchain/core/output_parsers/openai_tools */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/openai_tools/index.js\");\n/* harmony import */ var _langchain_core_utils_function_calling__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @langchain/core/utils/function_calling */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/function_calling.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n//#region src/chat_models.ts\n/**\n* Const list of fields that we'll pick from the `ChatCompletionCreateParams` interface\n* to use as the options allowed to be passed to invocation methods.\n*\n* @internal\n*/\nconst CREATE_PARAMS_BASE_CALL_KEYS = [\n\t\"frequency_penalty\",\n\t\"function_call\",\n\t\"functions\",\n\t\"logit_bias\",\n\t\"logprobs\",\n\t\"max_completion_tokens\",\n\t\"max_tokens\",\n\t\"n\",\n\t\"parallel_tool_calls\",\n\t\"presence_penalty\",\n\t\"reasoning_format\",\n\t\"response_format\",\n\t\"seed\",\n\t\"service_tier\",\n\t\"stop\",\n\t\"temperature\",\n\t\"tool_choice\",\n\t\"top_logprobs\",\n\t\"top_p\"\n];\nconst ADDED_CALL_KEYS = [\n\t\"headers\",\n\t\"promptIndex\",\n\t\"stream_options\",\n\t\"tools\"\n];\nconst ALL_CALL_KEYS = [...CREATE_PARAMS_BASE_CALL_KEYS, ...ADDED_CALL_KEYS];\n/**\n* Extract the custom role from a message.\n* @param message - The message to extract the custom role from.\n* @returns The custom role of the message.\n*/\nfunction extractGenericMessageCustomRole(message) {\n\tif (message.role !== \"system\" && message.role !== \"assistant\" && message.role !== \"user\" && message.role !== \"function\") throw new Error(`Unsupported message role: ${message.role}. Expected \"system\", \"assistant\", \"user\", or \"function\"`);\n\treturn message.role;\n}\n/**\n* Extract the role from a message.\n* @param message - The message to extract the role from.\n* @returns The role of the message.\n*/\nfunction messageToGroqRole(message) {\n\tswitch (message.type) {\n\t\tcase \"system\": return \"system\";\n\t\tcase \"ai\": return \"assistant\";\n\t\tcase \"human\": return \"user\";\n\t\tcase \"function\": return \"function\";\n\t\tcase \"tool\": return \"tool\";\n\t\tcase \"generic\":\n\t\t\tif (!_langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.ChatMessage.isInstance(message)) throw new Error(\"Invalid generic chat message\");\n\t\t\treturn extractGenericMessageCustomRole(message);\n\t\tdefault: throw new Error(`Unknown message type: ${message.type}`);\n\t}\n}\nfunction convertMessagesToGroqParams(messages) {\n\treturn messages.map((message) => {\n\t\tconst completionParam = {\n\t\t\trole: messageToGroqRole(message),\n\t\t\tcontent: message.content,\n\t\t\tname: message.name,\n\t\t\tfunction_call: message.additional_kwargs.function_call,\n\t\t\ttool_calls: message.additional_kwargs.tool_calls,\n\t\t\ttool_call_id: message.tool_call_id\n\t\t};\n\t\tif ((0,_langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.isAIMessage)(message) && !!message.tool_calls?.length) completionParam.tool_calls = message.tool_calls.map(_langchain_core_output_parsers_openai_tools__WEBPACK_IMPORTED_MODULE_8__.convertLangChainToolCallToOpenAI);\n\t\telse {\n\t\t\tif (message.additional_kwargs.tool_calls != null) completionParam.tool_calls = message.additional_kwargs.tool_calls;\n\t\t\tif (message.tool_call_id != null) completionParam.tool_call_id = message.tool_call_id;\n\t\t}\n\t\treturn completionParam;\n\t});\n}\nfunction groqResponseToChatMessage(message, usageMetadata, responseMetadata) {\n\tconst rawToolCalls = message.tool_calls;\n\tswitch (message.role) {\n\t\tcase \"assistant\": {\n\t\t\tconst toolCalls = [];\n\t\t\tconst invalidToolCalls = [];\n\t\t\tfor (const rawToolCall of rawToolCalls ?? []) try {\n\t\t\t\ttoolCalls.push((0,_langchain_core_output_parsers_openai_tools__WEBPACK_IMPORTED_MODULE_8__.parseToolCall)(rawToolCall, { returnId: true }));\n\t\t\t} catch (e) {\n\t\t\t\tinvalidToolCalls.push((0,_langchain_core_output_parsers_openai_tools__WEBPACK_IMPORTED_MODULE_8__.makeInvalidToolCall)(rawToolCall, e.message));\n\t\t\t}\n\t\t\treturn new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.AIMessage({\n\t\t\t\tcontent: message.content || \"\",\n\t\t\t\tadditional_kwargs: { tool_calls: rawToolCalls },\n\t\t\t\ttool_calls: toolCalls,\n\t\t\t\tinvalid_tool_calls: invalidToolCalls,\n\t\t\t\tusage_metadata: usageMetadata,\n\t\t\t\tresponse_metadata: responseMetadata\n\t\t\t});\n\t\t}\n\t\tdefault: return new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.ChatMessage(message.content || \"\", message.role ?? \"unknown\");\n\t}\n}\nfunction _convertDeltaToMessageChunk(delta, defaultRole, rawResponse, lastMessageId) {\n\tconst role = delta.role ?? defaultRole;\n\tconst content = delta.content ?? \"\";\n\tlet additional_kwargs;\n\tif (delta.function_call) additional_kwargs = { function_call: delta.function_call };\n\telse if (delta.tool_calls) additional_kwargs = { tool_calls: delta.tool_calls };\n\telse additional_kwargs = {};\n\tif (delta.audio) additional_kwargs.audio = {\n\t\t...delta.audio,\n\t\tindex: rawResponse.choices[0].index\n\t};\n\tlet usage;\n\tlet groqMessageId = lastMessageId;\n\tlet timing;\n\tconst xGroq = rawResponse.x_groq;\n\tif (xGroq?.usage) {\n\t\tusage = {\n\t\t\tinput_tokens: xGroq.usage.prompt_tokens,\n\t\t\toutput_tokens: xGroq.usage.completion_tokens,\n\t\t\ttotal_tokens: xGroq.usage.total_tokens\n\t\t};\n\t\ttiming = {\n\t\t\tcompletion_time: xGroq.usage.completion_time,\n\t\t\tprompt_time: xGroq.usage.prompt_time,\n\t\t\tqueue_time: xGroq.usage.queue_time,\n\t\t\ttotal_time: xGroq.usage.total_time\n\t\t};\n\t}\n\tif (xGroq?.id) groqMessageId = xGroq.id;\n\tconst response_metadata = {\n\t\tusage,\n\t\ttiming\n\t};\n\tif (role === \"user\") return new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.HumanMessageChunk({\n\t\tcontent,\n\t\tresponse_metadata\n\t});\n\telse if (role === \"assistant\") {\n\t\tconst toolCallChunks = [];\n\t\tif (Array.isArray(delta.tool_calls)) for (const rawToolCall of delta.tool_calls) toolCallChunks.push({\n\t\t\tname: rawToolCall.function?.name,\n\t\t\targs: rawToolCall.function?.arguments,\n\t\t\tid: rawToolCall.id,\n\t\t\tindex: rawToolCall.index,\n\t\t\ttype: \"tool_call_chunk\"\n\t\t});\n\t\treturn new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.AIMessageChunk({\n\t\t\tcontent,\n\t\t\ttool_call_chunks: toolCallChunks,\n\t\t\tadditional_kwargs,\n\t\t\tid: groqMessageId,\n\t\t\tresponse_metadata\n\t\t});\n\t} else if (role === \"system\") return new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.SystemMessageChunk({\n\t\tcontent,\n\t\tresponse_metadata\n\t});\n\telse if (role === \"developer\") return new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.SystemMessageChunk({\n\t\tcontent,\n\t\tresponse_metadata,\n\t\tadditional_kwargs: { __openai_role__: \"developer\" }\n\t});\n\telse if (role === \"function\") return new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.FunctionMessageChunk({\n\t\tcontent,\n\t\tadditional_kwargs,\n\t\tname: delta.name,\n\t\tresponse_metadata\n\t});\n\telse if (role === \"tool\") return new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.ToolMessageChunk({\n\t\tcontent,\n\t\tadditional_kwargs,\n\t\ttool_call_id: delta.tool_call_id,\n\t\tresponse_metadata\n\t});\n\telse return new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.ChatMessageChunk({\n\t\tcontent,\n\t\trole,\n\t\tresponse_metadata\n\t});\n}\n/**\n* Groq chat model integration.\n*\n* The Groq API is compatible to the OpenAI API with some limitations. View the\n* full API ref at:\n* @link {https://docs.api.groq.com/md/openai.oas.html}\n*\n* Setup:\n* Install `@langchain/groq` and set an environment variable named `GROQ_API_KEY`.\n*\n* ```bash\n* npm install @langchain/groq\n* export GROQ_API_KEY=\"your-api-key\"\n* ```\n*\n* ## [Constructor args](https://api.js.langchain.com/classes/langchain_groq.ChatGroq.html#constructor)\n*\n* ## [Runtime args](https://api.js.langchain.com/interfaces/langchain_groq.ChatGroqCallOptions.html)\n*\n* Runtime args can be passed as the second argument to any of the base runnable methods `.invoke`. `.stream`, `.batch`, etc.\n* They can also be passed via `.withConfig`, or the second arg in `.bindTools`, like shown in the examples below:\n*\n* ```typescript\n* // When calling `.withConfig`, call options should be passed via the first argument\n* const llmWithArgsBound = llm.withConfig({\n*   stop: [\"\\n\"],\n* });\n*\n* // When calling `.bindTools`, call options should be passed via the second argument\n* const llmWithTools = llm.bindTools(\n*   [...],\n*   {\n*     tool_choice: \"auto\",\n*   }\n* );\n* ```\n*\n* ## Examples\n*\n* <details open>\n* <summary><strong>Instantiate</strong></summary>\n*\n* ```typescript\n* import { ChatGroq } from '@langchain/groq';\n*\n* const llm = new ChatGroq({\n*   model: \"llama-3.3-70b-versatile\",\n*   temperature: 0,\n*   // other params...\n* });\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Invoking</strong></summary>\n*\n* ```typescript\n* const input = `Translate \"I love programming\" into French.`;\n*\n* // Models also accept a list of chat messages or a formatted prompt\n* const result = await llm.invoke(input);\n* console.log(result);\n* ```\n*\n* ```txt\n* AIMessage {\n*   \"content\": \"The French translation of \\\"I love programming\\\" is \\\"J'aime programmer\\\". In this sentence, \\\"J'aime\\\" is the first person singular conjugation of the French verb \\\"aimer\\\" which means \\\"to love\\\", and \\\"programmer\\\" is the French infinitive for \\\"to program\\\". I hope this helps! Let me know if you have any other questions.\",\n*   \"additional_kwargs\": {},\n*   \"response_metadata\": {\n*     \"tokenUsage\": {\n*       \"completionTokens\": 82,\n*       \"promptTokens\": 20,\n*       \"totalTokens\": 102\n*     },\n*     \"finish_reason\": \"stop\"\n*   },\n*   \"tool_calls\": [],\n*   \"invalid_tool_calls\": []\n* }\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Streaming Chunks</strong></summary>\n*\n* ```typescript\n* for await (const chunk of await llm.stream(input)) {\n*   console.log(chunk);\n* }\n* ```\n*\n* ```txt\n* AIMessageChunk {\n*   \"content\": \"\",\n*   \"additional_kwargs\": {},\n*   \"response_metadata\": {\n*     \"finishReason\": null\n*   },\n*   \"tool_calls\": [],\n*   \"tool_call_chunks\": [],\n*   \"invalid_tool_calls\": []\n* }\n* AIMessageChunk {\n*   \"content\": \"The\",\n*   \"additional_kwargs\": {},\n*   \"response_metadata\": {\n*     \"finishReason\": null\n*   },\n*   \"tool_calls\": [],\n*   \"tool_call_chunks\": [],\n*   \"invalid_tool_calls\": []\n* }\n* AIMessageChunk {\n*   \"content\": \" French\",\n*   \"additional_kwargs\": {},\n*   \"response_metadata\": {\n*     \"finishReason\": null\n*   },\n*   \"tool_calls\": [],\n*   \"tool_call_chunks\": [],\n*   \"invalid_tool_calls\": []\n* }\n* AIMessageChunk {\n*   \"content\": \" translation\",\n*   \"additional_kwargs\": {},\n*   \"response_metadata\": {\n*     \"finishReason\": null\n*   },\n*   \"tool_calls\": [],\n*   \"tool_call_chunks\": [],\n*   \"invalid_tool_calls\": []\n* }\n* AIMessageChunk {\n*   \"content\": \" of\",\n*   \"additional_kwargs\": {},\n*   \"response_metadata\": {\n*     \"finishReason\": null\n*   },\n*   \"tool_calls\": [],\n*   \"tool_call_chunks\": [],\n*   \"invalid_tool_calls\": []\n* }\n* AIMessageChunk {\n*   \"content\": \" \\\"\",\n*   \"additional_kwargs\": {},\n*   \"response_metadata\": {\n*     \"finishReason\": null\n*   },\n*   \"tool_calls\": [],\n*   \"tool_call_chunks\": [],\n*   \"invalid_tool_calls\": []\n* }\n* AIMessageChunk {\n*   \"content\": \"I\",\n*   \"additional_kwargs\": {},\n*   \"response_metadata\": {\n*     \"finishReason\": null\n*   },\n*   \"tool_calls\": [],\n*   \"tool_call_chunks\": [],\n*   \"invalid_tool_calls\": []\n* }\n* AIMessageChunk {\n*   \"content\": \" love\",\n*   \"additional_kwargs\": {},\n*   \"response_metadata\": {\n*     \"finishReason\": null\n*   },\n*   \"tool_calls\": [],\n*   \"tool_call_chunks\": [],\n*   \"invalid_tool_calls\": []\n* }\n* ...\n* AIMessageChunk {\n*   \"content\": \".\",\n*   \"additional_kwargs\": {},\n*   \"response_metadata\": {\n*     \"finishReason\": null\n*   },\n*   \"tool_calls\": [],\n*   \"tool_call_chunks\": [],\n*   \"invalid_tool_calls\": []\n* }\n* AIMessageChunk {\n*   \"content\": \"\",\n*   \"additional_kwargs\": {},\n*   \"response_metadata\": {\n*     \"finishReason\": \"stop\"\n*   },\n*   \"tool_calls\": [],\n*   \"tool_call_chunks\": [],\n*   \"invalid_tool_calls\": []\n* }\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Aggregate Streamed Chunks</strong></summary>\n*\n* ```typescript\n* import { AIMessageChunk } from '@langchain/core/messages';\n* import { concat } from '@langchain/core/utils/stream';\n*\n* const stream = await llm.stream(input);\n* let full: AIMessageChunk | undefined;\n* for await (const chunk of stream) {\n*   full = !full ? chunk : concat(full, chunk);\n* }\n* console.log(full);\n* ```\n*\n* ```txt\n* AIMessageChunk {\n*   \"content\": \"The French translation of \\\"I love programming\\\" is \\\"J'aime programmer\\\". In this sentence, \\\"J'aime\\\" is the first person singular conjugation of the French verb \\\"aimer\\\" which means \\\"to love\\\", and \\\"programmer\\\" is the French infinitive for \\\"to program\\\". I hope this helps! Let me know if you have any other questions.\",\n*   \"additional_kwargs\": {},\n*   \"response_metadata\": {\n*     \"finishReason\": \"stop\"\n*   },\n*   \"tool_calls\": [],\n*   \"tool_call_chunks\": [],\n*   \"invalid_tool_calls\": []\n* }\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Bind tools</strong></summary>\n*\n* ```typescript\n* import { z } from 'zod';\n*\n* const llmForToolCalling = new ChatGroq({\n*   model: \"llama3-groq-70b-8192-tool-use-preview\",\n*   temperature: 0,\n*   // other params...\n* });\n*\n* const GetWeather = {\n*   name: \"GetWeather\",\n*   description: \"Get the current weather in a given location\",\n*   schema: z.object({\n*     location: z.string().describe(\"The city and state, e.g. San Francisco, CA\")\n*   }),\n* }\n*\n* const GetPopulation = {\n*   name: \"GetPopulation\",\n*   description: \"Get the current population in a given location\",\n*   schema: z.object({\n*     location: z.string().describe(\"The city and state, e.g. San Francisco, CA\")\n*   }),\n* }\n*\n* const llmWithTools = llmForToolCalling.bindTools([GetWeather, GetPopulation]);\n* const aiMsg = await llmWithTools.invoke(\n*   \"Which city is hotter today and which is bigger: LA or NY?\"\n* );\n* console.log(aiMsg.tool_calls);\n* ```\n*\n* ```txt\n* [\n*   {\n*     name: 'GetWeather',\n*     args: { location: 'Los Angeles, CA' },\n*     type: 'tool_call',\n*     id: 'call_cd34'\n*   },\n*   {\n*     name: 'GetWeather',\n*     args: { location: 'New York, NY' },\n*     type: 'tool_call',\n*     id: 'call_68rf'\n*   },\n*   {\n*     name: 'GetPopulation',\n*     args: { location: 'Los Angeles, CA' },\n*     type: 'tool_call',\n*     id: 'call_f81z'\n*   },\n*   {\n*     name: 'GetPopulation',\n*     args: { location: 'New York, NY' },\n*     type: 'tool_call',\n*     id: 'call_8byt'\n*   }\n* ]\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Structured Output</strong></summary>\n*\n* ```typescript\n* import { z } from 'zod';\n*\n* const Joke = z.object({\n*   setup: z.string().describe(\"The setup of the joke\"),\n*   punchline: z.string().describe(\"The punchline to the joke\"),\n*   rating: z.number().optional().describe(\"How funny the joke is, from 1 to 10\")\n* }).describe('Joke to tell user.');\n*\n* const structuredLlm = llmForToolCalling.withStructuredOutput(Joke, { name: \"Joke\" });\n* const jokeResult = await structuredLlm.invoke(\"Tell me a joke about cats\");\n* console.log(jokeResult);\n* ```\n*\n* ```txt\n* {\n*   setup: \"Why don't cats play poker in the wild?\",\n*   punchline: 'Because there are too many cheetahs.'\n* }\n* ```\n* </details>\n*\n* <br />\n*/\nvar ChatGroq = class extends _langchain_core_language_models_chat_models__WEBPACK_IMPORTED_MODULE_1__.BaseChatModel {\n\tlc_namespace = [\n\t\t\"langchain\",\n\t\t\"chat_models\",\n\t\t\"groq\"\n\t];\n\tclient;\n\tmodel;\n\ttemperature = .7;\n\tstop;\n\tstopSequences;\n\tmaxTokens;\n\tstreaming = false;\n\tapiKey;\n\tstreamUsage = true;\n\ttopP;\n\tfrequencyPenalty;\n\tpresencePenalty;\n\tlogprobs;\n\tn;\n\tlogitBias;\n\tuser;\n\treasoningFormat;\n\tserviceTier;\n\ttopLogprobs;\n\tlc_serializable = true;\n\tget lc_serialized_keys() {\n\t\treturn [\n\t\t\t\"client\",\n\t\t\t\"model\",\n\t\t\t\"temperature\",\n\t\t\t\"stop\",\n\t\t\t\"stopSequences\",\n\t\t\t\"maxTokens\",\n\t\t\t\"streaming\",\n\t\t\t\"apiKey\",\n\t\t\t\"streamUsage\",\n\t\t\t\"topP\",\n\t\t\t\"frequencyPenalty\",\n\t\t\t\"presencePenalty\",\n\t\t\t\"logprobs\",\n\t\t\t\"n\",\n\t\t\t\"logitBias\",\n\t\t\t\"user\",\n\t\t\t\"reasoningFormat\",\n\t\t\t\"serviceTier\",\n\t\t\t\"topLogprobs\"\n\t\t];\n\t}\n\tstatic lc_name() {\n\t\treturn \"ChatGroq\";\n\t}\n\t_llmType() {\n\t\treturn \"groq\";\n\t}\n\tget lc_secrets() {\n\t\treturn { apiKey: \"GROQ_API_KEY\" };\n\t}\n\tget callKeys() {\n\t\treturn [...super.callKeys, ...ALL_CALL_KEYS];\n\t}\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tconst apiKey = fields.apiKey || (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_4__.getEnvironmentVariable)(\"GROQ_API_KEY\");\n\t\tif (!apiKey) throw new Error(`Groq API key not found. Please set the GROQ_API_KEY environment variable or provide the key into \"apiKey\"`);\n\t\tconst defaultHeaders = {\n\t\t\t\"User-Agent\": \"langchainjs\",\n\t\t\t...fields.defaultHeaders ?? {}\n\t\t};\n\t\tthis.client = new groq_sdk__WEBPACK_IMPORTED_MODULE_10__[\"default\"]({\n\t\t\tapiKey,\n\t\t\tdangerouslyAllowBrowser: true,\n\t\t\tbaseURL: fields.baseUrl,\n\t\t\ttimeout: fields.timeout,\n\t\t\thttpAgent: fields.httpAgent,\n\t\t\tfetch: fields.fetch,\n\t\t\tmaxRetries: 0,\n\t\t\tdefaultHeaders,\n\t\t\tdefaultQuery: fields.defaultQuery\n\t\t});\n\t\tthis.apiKey = apiKey;\n\t\tthis.temperature = fields.temperature ?? this.temperature;\n\t\tthis.model = fields.model;\n\t\tthis.streaming = fields.streaming ?? this.streaming;\n\t\tthis.stop = fields.stopSequences ?? (typeof fields.stop === \"string\" ? [fields.stop] : fields.stop) ?? [];\n\t\tthis.stopSequences = this.stop;\n\t\tthis.maxTokens = fields.maxTokens;\n\t\tthis.topP = fields.topP;\n\t\tthis.frequencyPenalty = fields.frequencyPenalty;\n\t\tthis.presencePenalty = fields.presencePenalty;\n\t\tthis.logprobs = fields.logprobs;\n\t\tthis.n = fields.n;\n\t\tthis.logitBias = fields.logitBias;\n\t\tthis.user = fields.user;\n\t}\n\tgetLsParams(options) {\n\t\tconst params = this.invocationParams(options);\n\t\treturn {\n\t\t\tls_provider: \"groq\",\n\t\t\tls_model_name: this.model,\n\t\t\tls_model_type: \"chat\",\n\t\t\tls_temperature: params.temperature ?? this.temperature,\n\t\t\tls_max_tokens: params.max_tokens ?? this.maxTokens,\n\t\t\tls_stop: options.stop\n\t\t};\n\t}\n\tasync completionWithRetry(request, options) {\n\t\treturn this.caller.call(async () => this.client.chat.completions.create(request, options));\n\t}\n\tinvocationParams(options, extra) {\n\t\tconst params = super.invocationParams(options);\n\t\tlet streamOptionsConfig = {};\n\t\tif (options?.stream_options !== void 0) streamOptionsConfig = { stream_options: options.stream_options };\n\t\telse if (this.streamUsage && this.streaming || extra?.streaming) streamOptionsConfig = { stream_options: { include_usage: true } };\n\t\tconst toReturn = {\n\t\t\tmodel: this.model,\n\t\t\tfrequency_penalty: this.frequencyPenalty,\n\t\t\tfunction_call: options?.function_call,\n\t\t\tfunctions: options?.functions,\n\t\t\tlogit_bias: this.logitBias,\n\t\t\tlogprobs: this.logprobs,\n\t\t\tn: this.n,\n\t\t\tparallel_tool_calls: options?.parallel_tool_calls,\n\t\t\tpresence_penalty: this.presencePenalty,\n\t\t\treasoning_format: this.reasoningFormat,\n\t\t\tresponse_format: options?.response_format,\n\t\t\tseed: options?.seed,\n\t\t\tservice_tier: this.serviceTier,\n\t\t\tstop: options?.stop ?? this.stopSequences,\n\t\t\ttemperature: options?.temperature ?? this.temperature,\n\t\t\ttool_choice: _formatToGroqToolChoice(options?.tool_choice),\n\t\t\ttools: options?.tools?.length ? options.tools.map((tool) => (0,_langchain_core_utils_function_calling__WEBPACK_IMPORTED_MODULE_9__.convertToOpenAITool)(tool)) : void 0,\n\t\t\ttop_logprobs: this.topLogprobs,\n\t\t\ttop_p: this.topP,\n\t\t\tuser: this.user,\n\t\t\tstream: this.streaming,\n\t\t\t...params,\n\t\t\t...streamOptionsConfig\n\t\t};\n\t\ttoReturn.max_completion_tokens = options?.max_completion_tokens ?? options?.max_tokens ?? this.maxTokens;\n\t\tif (toReturn.max_completion_tokens === -1) delete toReturn.max_completion_tokens;\n\t\treturn toReturn;\n\t}\n\tbindTools(tools, kwargs) {\n\t\treturn this.withConfig({\n\t\t\ttools: tools.map((tool) => (0,_langchain_core_utils_function_calling__WEBPACK_IMPORTED_MODULE_9__.convertToOpenAITool)(tool)),\n\t\t\t...kwargs\n\t\t});\n\t}\n\tasync *_streamResponseChunks(messages, options, runManager) {\n\t\tconst params = this.invocationParams(options, { streaming: true });\n\t\tconst messagesMapped = convertMessagesToGroqParams(messages);\n\t\tconst response = await this.completionWithRetry({\n\t\t\t...params,\n\t\t\tmessages: messagesMapped,\n\t\t\tstream: true\n\t\t}, {\n\t\t\tsignal: options?.signal,\n\t\t\theaders: options?.headers\n\t\t});\n\t\tlet role;\n\t\tlet lastMessageId;\n\t\tlet responseMetadata;\n\t\tfor await (const data of response) {\n\t\t\tresponseMetadata = data;\n\t\t\tconst choice = data?.choices[0];\n\t\t\tif (!choice) continue;\n\t\t\tif (choice.delta?.role) role = choice.delta.role;\n\t\t\tconst chunk = _convertDeltaToMessageChunk(choice.delta, role, data, lastMessageId);\n\t\t\tconst newTokenIndices = {\n\t\t\t\tprompt: options.promptIndex ?? 0,\n\t\t\t\tcompletion: choice.index ?? 0\n\t\t\t};\n\t\t\tif (typeof chunk.content !== \"string\") {\n\t\t\t\tconsole.log(\"[WARNING]: Received non-string content from OpenAI. This is currently not supported.\");\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tconst generationInfo = { ...newTokenIndices };\n\t\t\tif (choice.finish_reason != null) {\n\t\t\t\tgenerationInfo.finish_reason = choice.finish_reason;\n\t\t\t\tgenerationInfo.system_fingerprint = data.system_fingerprint;\n\t\t\t\tgenerationInfo.model_name = data.model;\n\t\t\t}\n\t\t\tconst generationChunk = new _langchain_core_outputs__WEBPACK_IMPORTED_MODULE_3__.ChatGenerationChunk({\n\t\t\t\tmessage: chunk,\n\t\t\t\ttext: chunk.content,\n\t\t\t\tgenerationInfo\n\t\t\t});\n\t\t\tyield generationChunk;\n\t\t\tawait runManager?.handleLLMNewToken(generationChunk.text ?? \"\", newTokenIndices, void 0, void 0, void 0, { chunk: generationChunk });\n\t\t}\n\t\tif (responseMetadata) {\n\t\t\tif (\"choices\" in responseMetadata) delete responseMetadata.choices;\n\t\t\tyield new _langchain_core_outputs__WEBPACK_IMPORTED_MODULE_3__.ChatGenerationChunk({\n\t\t\t\tmessage: new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.AIMessageChunk({\n\t\t\t\t\tcontent: \"\",\n\t\t\t\t\tresponse_metadata: responseMetadata\n\t\t\t\t}),\n\t\t\t\ttext: \"\"\n\t\t\t});\n\t\t}\n\t\tif (options.signal?.aborted) throw new Error(\"AbortError\");\n\t}\n\tasync _generate(messages, options, runManager) {\n\t\tif (this.streaming) {\n\t\t\tconst tokenUsage = {};\n\t\t\tconst stream = this._streamResponseChunks(messages, options, runManager);\n\t\t\tconst finalChunks = {};\n\t\t\tfor await (const chunk of stream) {\n\t\t\t\tconst index = chunk.generationInfo?.completion ?? 0;\n\t\t\t\tif (finalChunks[index] === void 0) finalChunks[index] = chunk;\n\t\t\t\telse finalChunks[index] = finalChunks[index].concat(chunk);\n\t\t\t}\n\t\t\tconst generations = Object.entries(finalChunks).sort(([aKey], [bKey]) => parseInt(aKey, 10) - parseInt(bKey, 10)).map(([_, value]) => value);\n\t\t\treturn {\n\t\t\t\tgenerations,\n\t\t\t\tllmOutput: { estimatedTokenUsage: tokenUsage }\n\t\t\t};\n\t\t} else return this._generateNonStreaming(messages, options, runManager);\n\t}\n\tasync _generateNonStreaming(messages, options, _runManager) {\n\t\tconst tokenUsage = {};\n\t\tconst params = this.invocationParams(options);\n\t\tconst messagesMapped = convertMessagesToGroqParams(messages);\n\t\tconst data = await this.completionWithRetry({\n\t\t\t...params,\n\t\t\tstream: false,\n\t\t\tmessages: messagesMapped\n\t\t}, {\n\t\t\tsignal: options?.signal,\n\t\t\theaders: options?.headers\n\t\t});\n\t\tif (\"usage\" in data && data.usage) {\n\t\t\tconst { completion_tokens: completionTokens, prompt_tokens: promptTokens, total_tokens: totalTokens } = data.usage;\n\t\t\tif (completionTokens) tokenUsage.completionTokens = (tokenUsage.completionTokens ?? 0) + completionTokens;\n\t\t\tif (promptTokens) tokenUsage.promptTokens = (tokenUsage.promptTokens ?? 0) + promptTokens;\n\t\t\tif (totalTokens) tokenUsage.totalTokens = (tokenUsage.totalTokens ?? 0) + totalTokens;\n\t\t}\n\t\tconst generations = [];\n\t\tif (\"choices\" in data && data.choices) for (const part of data.choices) {\n\t\t\tconst text = part.message?.content ?? \"\";\n\t\t\tlet usageMetadata;\n\t\t\tif (tokenUsage.totalTokens !== void 0) usageMetadata = {\n\t\t\t\tinput_tokens: tokenUsage.promptTokens ?? 0,\n\t\t\t\toutput_tokens: tokenUsage.completionTokens ?? 0,\n\t\t\t\ttotal_tokens: tokenUsage.totalTokens\n\t\t\t};\n\t\t\tconst { choices: _choices,...metadata } = data;\n\t\t\tconst generation = {\n\t\t\t\ttext,\n\t\t\t\tmessage: groqResponseToChatMessage(part.message ?? { role: \"assistant\" }, usageMetadata, metadata)\n\t\t\t};\n\t\t\tgeneration.generationInfo = {\n\t\t\t\t...part.finish_reason ? { finish_reason: part.finish_reason } : {},\n\t\t\t\t...part.logprobs ? { logprobs: part.logprobs } : {}\n\t\t\t};\n\t\t\tgenerations.push(generation);\n\t\t}\n\t\treturn {\n\t\t\tgenerations,\n\t\t\tllmOutput: { tokenUsage }\n\t\t};\n\t}\n\twithStructuredOutput(outputSchema, config) {\n\t\tconst schema = outputSchema;\n\t\tconst name = config?.name;\n\t\tconst method = config?.method;\n\t\tconst includeRaw = config?.includeRaw;\n\t\tlet functionName = name ?? \"extract\";\n\t\tlet outputParser;\n\t\tlet llm;\n\t\tif (method === \"jsonMode\") {\n\t\t\tlet outputSchema$1;\n\t\t\tif ((0,_langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_5__.isInteropZodSchema)(schema)) {\n\t\t\t\toutputParser = _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_7__.StructuredOutputParser.fromZodSchema(schema);\n\t\t\t\toutputSchema$1 = (0,_langchain_core_utils_json_schema__WEBPACK_IMPORTED_MODULE_0__.toJsonSchema)(schema);\n\t\t\t} else outputParser = new _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_7__.JsonOutputParser();\n\t\t\tllm = this.withConfig({\n\t\t\t\tresponse_format: { type: \"json_object\" },\n\t\t\t\tls_structured_output_format: {\n\t\t\t\t\tkwargs: { method: \"jsonMode\" },\n\t\t\t\t\tschema: outputSchema$1\n\t\t\t\t}\n\t\t\t});\n\t\t} else if ((0,_langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_5__.isInteropZodSchema)(schema)) {\n\t\t\tconst asJsonSchema = (0,_langchain_core_utils_json_schema__WEBPACK_IMPORTED_MODULE_0__.toJsonSchema)(schema);\n\t\t\tllm = this.bindTools([{\n\t\t\t\ttype: \"function\",\n\t\t\t\tfunction: {\n\t\t\t\t\tname: functionName,\n\t\t\t\t\tdescription: asJsonSchema.description,\n\t\t\t\t\tparameters: asJsonSchema\n\t\t\t\t}\n\t\t\t}]).withConfig({\n\t\t\t\ttool_choice: {\n\t\t\t\t\ttype: \"function\",\n\t\t\t\t\tfunction: { name: functionName }\n\t\t\t\t},\n\t\t\t\tls_structured_output_format: {\n\t\t\t\t\tkwargs: { method: \"functionCalling\" },\n\t\t\t\t\tschema: asJsonSchema\n\t\t\t\t}\n\t\t\t});\n\t\t\toutputParser = new _langchain_core_output_parsers_openai_tools__WEBPACK_IMPORTED_MODULE_8__.JsonOutputKeyToolsParser({\n\t\t\t\treturnSingle: true,\n\t\t\t\tkeyName: functionName,\n\t\t\t\tzodSchema: schema\n\t\t\t});\n\t\t} else {\n\t\t\tlet openAIFunctionDefinition;\n\t\t\tif (typeof schema.name === \"string\" && typeof schema.parameters === \"object\" && schema.parameters != null) {\n\t\t\t\topenAIFunctionDefinition = schema;\n\t\t\t\tfunctionName = schema.name;\n\t\t\t} else {\n\t\t\t\tfunctionName = schema.title ?? functionName;\n\t\t\t\topenAIFunctionDefinition = {\n\t\t\t\t\tname: functionName,\n\t\t\t\t\tdescription: schema.description ?? \"\",\n\t\t\t\t\tparameters: schema\n\t\t\t\t};\n\t\t\t}\n\t\t\tllm = this.bindTools([{\n\t\t\t\ttype: \"function\",\n\t\t\t\tfunction: openAIFunctionDefinition\n\t\t\t}]).withConfig({\n\t\t\t\ttool_choice: {\n\t\t\t\t\ttype: \"function\",\n\t\t\t\t\tfunction: { name: functionName }\n\t\t\t\t},\n\t\t\t\tls_structured_output_format: {\n\t\t\t\t\tkwargs: { method: \"functionCalling\" },\n\t\t\t\t\tschema\n\t\t\t\t}\n\t\t\t});\n\t\t\toutputParser = new _langchain_core_output_parsers_openai_tools__WEBPACK_IMPORTED_MODULE_8__.JsonOutputKeyToolsParser({\n\t\t\t\treturnSingle: true,\n\t\t\t\tkeyName: functionName\n\t\t\t});\n\t\t}\n\t\tif (!includeRaw) return llm.pipe(outputParser).withConfig({ runName: \"ChatGroqStructuredOutput\" });\n\t\tconst parserAssign = _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_6__.RunnablePassthrough.assign({ parsed: (input, config$1) => outputParser.invoke(input.raw, config$1) });\n\t\tconst parserNone = _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_6__.RunnablePassthrough.assign({ parsed: () => null });\n\t\tconst parsedWithFallback = parserAssign.withFallbacks({ fallbacks: [parserNone] });\n\t\treturn _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_6__.RunnableSequence.from([{ raw: llm }, parsedWithFallback]).withConfig({ runName: \"ChatGroqStructuredOutput\" });\n\t}\n};\nfunction _formatToGroqToolChoice(toolChoice) {\n\tif (!toolChoice) return void 0;\n\telse if (toolChoice === \"any\" || toolChoice === \"required\") return \"required\";\n\telse if (toolChoice === \"auto\") return \"auto\";\n\telse if (toolChoice === \"none\") return \"none\";\n\telse if (typeof toolChoice === \"string\") return {\n\t\ttype: \"function\",\n\t\tfunction: { name: toolChoice }\n\t};\n\telse return toolChoice;\n}\n\n//#endregion\n\n//# sourceMappingURL=chat_models.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitncm9xQDEuMC4wX0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2X18vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vZ3JvcS9kaXN0L2NoYXRfbW9kZWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBaUU7QUFDVztBQUNvSDtBQUNsSTtBQUNLO0FBQ0Y7QUFDckM7QUFDc0Q7QUFDUTtBQUNtRTtBQUNoRjs7QUFFN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVLQUF1SyxhQUFhO0FBQ3BMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQVc7QUFDbkI7QUFDQSxvREFBb0QsYUFBYTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLHFFQUFXLCtGQUErRix5R0FBZ0M7QUFDaEo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDBGQUFhLGdCQUFnQixnQkFBZ0I7QUFDaEUsS0FBSztBQUNMLDBCQUEwQixnR0FBbUI7QUFDN0M7QUFDQSxjQUFjLCtEQUFTO0FBQ3ZCO0FBQ0EseUJBQXlCLDBCQUEwQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLHNCQUFzQixpRUFBVztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0Q7QUFDaEQsa0RBQWtEO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyx1RUFBaUI7QUFDbEQ7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILGFBQWEsb0VBQWM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxHQUFHLHVDQUF1Qyx3RUFBa0I7QUFDNUQ7QUFDQTtBQUNBLEVBQUU7QUFDRiwyQ0FBMkMsd0VBQWtCO0FBQzdEO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkIsRUFBRTtBQUNGLDBDQUEwQywwRUFBb0I7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Ysc0NBQXNDLHNFQUFnQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRixpQkFBaUIsc0VBQWdCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsV0FBVztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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O0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsS0FBSztBQUNMO0FBQ0EsZUFBZSwyQkFBMkI7QUFDMUM7QUFDQTtBQUNBLElBQUk7QUFDSixzQkFBc0IsaUdBQXdCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixLQUFLO0FBQ0w7QUFDQSxlQUFlLDJCQUEyQjtBQUMxQztBQUNBO0FBQ0EsSUFBSTtBQUNKLHNCQUFzQixpR0FBd0I7QUFDOUM7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLDhEQUE4RCxxQ0FBcUM7QUFDbkcsdUJBQXVCLDBFQUFtQixVQUFVLHVFQUF1RTtBQUMzSCxxQkFBcUIsMEVBQW1CLFVBQVUsb0JBQW9CO0FBQ3RFLDBEQUEwRCx5QkFBeUI7QUFDbkYsU0FBUyx1RUFBZ0IsU0FBUyxVQUFVLG9DQUFvQyxxQ0FBcUM7QUFDckg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTs7QUFFQTtBQUN1QztBQUN2QyIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rZ3JvcUAxLjAuMF9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl9fL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2dyb3EvZGlzdC9jaGF0X21vZGVscy5qcz8zOWNhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHRvSnNvblNjaGVtYSB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvdXRpbHMvanNvbl9zY2hlbWFcIjtcbmltcG9ydCB7IEJhc2VDaGF0TW9kZWwgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL2xhbmd1YWdlX21vZGVscy9jaGF0X21vZGVsc1wiO1xuaW1wb3J0IHsgQUlNZXNzYWdlLCBBSU1lc3NhZ2VDaHVuaywgQ2hhdE1lc3NhZ2UsIENoYXRNZXNzYWdlQ2h1bmssIEZ1bmN0aW9uTWVzc2FnZUNodW5rLCBIdW1hbk1lc3NhZ2VDaHVuaywgU3lzdGVtTWVzc2FnZUNodW5rLCBUb29sTWVzc2FnZUNodW5rLCBpc0FJTWVzc2FnZSB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvbWVzc2FnZXNcIjtcbmltcG9ydCB7IENoYXRHZW5lcmF0aW9uQ2h1bmsgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL291dHB1dHNcIjtcbmltcG9ydCB7IGdldEVudmlyb25tZW50VmFyaWFibGUgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3V0aWxzL2VudlwiO1xuaW1wb3J0IHsgaXNJbnRlcm9wWm9kU2NoZW1hIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS91dGlscy90eXBlc1wiO1xuaW1wb3J0IEdyb3EgZnJvbSBcImdyb3Etc2RrXCI7XG5pbXBvcnQgeyBSdW5uYWJsZVBhc3N0aHJvdWdoLCBSdW5uYWJsZVNlcXVlbmNlIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9ydW5uYWJsZXNcIjtcbmltcG9ydCB7IEpzb25PdXRwdXRQYXJzZXIsIFN0cnVjdHVyZWRPdXRwdXRQYXJzZXIgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL291dHB1dF9wYXJzZXJzXCI7XG5pbXBvcnQgeyBKc29uT3V0cHV0S2V5VG9vbHNQYXJzZXIsIGNvbnZlcnRMYW5nQ2hhaW5Ub29sQ2FsbFRvT3BlbkFJLCBtYWtlSW52YWxpZFRvb2xDYWxsLCBwYXJzZVRvb2xDYWxsIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9vdXRwdXRfcGFyc2Vycy9vcGVuYWlfdG9vbHNcIjtcbmltcG9ydCB7IGNvbnZlcnRUb09wZW5BSVRvb2wgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3V0aWxzL2Z1bmN0aW9uX2NhbGxpbmdcIjtcblxuLy8jcmVnaW9uIHNyYy9jaGF0X21vZGVscy50c1xuLyoqXG4qIENvbnN0IGxpc3Qgb2YgZmllbGRzIHRoYXQgd2UnbGwgcGljayBmcm9tIHRoZSBgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNgIGludGVyZmFjZVxuKiB0byB1c2UgYXMgdGhlIG9wdGlvbnMgYWxsb3dlZCB0byBiZSBwYXNzZWQgdG8gaW52b2NhdGlvbiBtZXRob2RzLlxuKlxuKiBAaW50ZXJuYWxcbiovXG5jb25zdCBDUkVBVEVfUEFSQU1TX0JBU0VfQ0FMTF9LRVlTID0gW1xuXHRcImZyZXF1ZW5jeV9wZW5hbHR5XCIsXG5cdFwiZnVuY3Rpb25fY2FsbFwiLFxuXHRcImZ1bmN0aW9uc1wiLFxuXHRcImxvZ2l0X2JpYXNcIixcblx0XCJsb2dwcm9ic1wiLFxuXHRcIm1heF9jb21wbGV0aW9uX3Rva2Vuc1wiLFxuXHRcIm1heF90b2tlbnNcIixcblx0XCJuXCIsXG5cdFwicGFyYWxsZWxfdG9vbF9jYWxsc1wiLFxuXHRcInByZXNlbmNlX3BlbmFsdHlcIixcblx0XCJyZWFzb25pbmdfZm9ybWF0XCIsXG5cdFwicmVzcG9uc2VfZm9ybWF0XCIsXG5cdFwic2VlZFwiLFxuXHRcInNlcnZpY2VfdGllclwiLFxuXHRcInN0b3BcIixcblx0XCJ0ZW1wZXJhdHVyZVwiLFxuXHRcInRvb2xfY2hvaWNlXCIsXG5cdFwidG9wX2xvZ3Byb2JzXCIsXG5cdFwidG9wX3BcIlxuXTtcbmNvbnN0IEFEREVEX0NBTExfS0VZUyA9IFtcblx0XCJoZWFkZXJzXCIsXG5cdFwicHJvbXB0SW5kZXhcIixcblx0XCJzdHJlYW1fb3B0aW9uc1wiLFxuXHRcInRvb2xzXCJcbl07XG5jb25zdCBBTExfQ0FMTF9LRVlTID0gWy4uLkNSRUFURV9QQVJBTVNfQkFTRV9DQUxMX0tFWVMsIC4uLkFEREVEX0NBTExfS0VZU107XG4vKipcbiogRXh0cmFjdCB0aGUgY3VzdG9tIHJvbGUgZnJvbSBhIG1lc3NhZ2UuXG4qIEBwYXJhbSBtZXNzYWdlIC0gVGhlIG1lc3NhZ2UgdG8gZXh0cmFjdCB0aGUgY3VzdG9tIHJvbGUgZnJvbS5cbiogQHJldHVybnMgVGhlIGN1c3RvbSByb2xlIG9mIHRoZSBtZXNzYWdlLlxuKi9cbmZ1bmN0aW9uIGV4dHJhY3RHZW5lcmljTWVzc2FnZUN1c3RvbVJvbGUobWVzc2FnZSkge1xuXHRpZiAobWVzc2FnZS5yb2xlICE9PSBcInN5c3RlbVwiICYmIG1lc3NhZ2Uucm9sZSAhPT0gXCJhc3Npc3RhbnRcIiAmJiBtZXNzYWdlLnJvbGUgIT09IFwidXNlclwiICYmIG1lc3NhZ2Uucm9sZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIG1lc3NhZ2Ugcm9sZTogJHttZXNzYWdlLnJvbGV9LiBFeHBlY3RlZCBcInN5c3RlbVwiLCBcImFzc2lzdGFudFwiLCBcInVzZXJcIiwgb3IgXCJmdW5jdGlvblwiYCk7XG5cdHJldHVybiBtZXNzYWdlLnJvbGU7XG59XG4vKipcbiogRXh0cmFjdCB0aGUgcm9sZSBmcm9tIGEgbWVzc2FnZS5cbiogQHBhcmFtIG1lc3NhZ2UgLSBUaGUgbWVzc2FnZSB0byBleHRyYWN0IHRoZSByb2xlIGZyb20uXG4qIEByZXR1cm5zIFRoZSByb2xlIG9mIHRoZSBtZXNzYWdlLlxuKi9cbmZ1bmN0aW9uIG1lc3NhZ2VUb0dyb3FSb2xlKG1lc3NhZ2UpIHtcblx0c3dpdGNoIChtZXNzYWdlLnR5cGUpIHtcblx0XHRjYXNlIFwic3lzdGVtXCI6IHJldHVybiBcInN5c3RlbVwiO1xuXHRcdGNhc2UgXCJhaVwiOiByZXR1cm4gXCJhc3Npc3RhbnRcIjtcblx0XHRjYXNlIFwiaHVtYW5cIjogcmV0dXJuIFwidXNlclwiO1xuXHRcdGNhc2UgXCJmdW5jdGlvblwiOiByZXR1cm4gXCJmdW5jdGlvblwiO1xuXHRcdGNhc2UgXCJ0b29sXCI6IHJldHVybiBcInRvb2xcIjtcblx0XHRjYXNlIFwiZ2VuZXJpY1wiOlxuXHRcdFx0aWYgKCFDaGF0TWVzc2FnZS5pc0luc3RhbmNlKG1lc3NhZ2UpKSB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGdlbmVyaWMgY2hhdCBtZXNzYWdlXCIpO1xuXHRcdFx0cmV0dXJuIGV4dHJhY3RHZW5lcmljTWVzc2FnZUN1c3RvbVJvbGUobWVzc2FnZSk7XG5cdFx0ZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIG1lc3NhZ2UgdHlwZTogJHttZXNzYWdlLnR5cGV9YCk7XG5cdH1cbn1cbmZ1bmN0aW9uIGNvbnZlcnRNZXNzYWdlc1RvR3JvcVBhcmFtcyhtZXNzYWdlcykge1xuXHRyZXR1cm4gbWVzc2FnZXMubWFwKChtZXNzYWdlKSA9PiB7XG5cdFx0Y29uc3QgY29tcGxldGlvblBhcmFtID0ge1xuXHRcdFx0cm9sZTogbWVzc2FnZVRvR3JvcVJvbGUobWVzc2FnZSksXG5cdFx0XHRjb250ZW50OiBtZXNzYWdlLmNvbnRlbnQsXG5cdFx0XHRuYW1lOiBtZXNzYWdlLm5hbWUsXG5cdFx0XHRmdW5jdGlvbl9jYWxsOiBtZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzLmZ1bmN0aW9uX2NhbGwsXG5cdFx0XHR0b29sX2NhbGxzOiBtZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzLnRvb2xfY2FsbHMsXG5cdFx0XHR0b29sX2NhbGxfaWQ6IG1lc3NhZ2UudG9vbF9jYWxsX2lkXG5cdFx0fTtcblx0XHRpZiAoaXNBSU1lc3NhZ2UobWVzc2FnZSkgJiYgISFtZXNzYWdlLnRvb2xfY2FsbHM/Lmxlbmd0aCkgY29tcGxldGlvblBhcmFtLnRvb2xfY2FsbHMgPSBtZXNzYWdlLnRvb2xfY2FsbHMubWFwKGNvbnZlcnRMYW5nQ2hhaW5Ub29sQ2FsbFRvT3BlbkFJKTtcblx0XHRlbHNlIHtcblx0XHRcdGlmIChtZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzLnRvb2xfY2FsbHMgIT0gbnVsbCkgY29tcGxldGlvblBhcmFtLnRvb2xfY2FsbHMgPSBtZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzLnRvb2xfY2FsbHM7XG5cdFx0XHRpZiAobWVzc2FnZS50b29sX2NhbGxfaWQgIT0gbnVsbCkgY29tcGxldGlvblBhcmFtLnRvb2xfY2FsbF9pZCA9IG1lc3NhZ2UudG9vbF9jYWxsX2lkO1xuXHRcdH1cblx0XHRyZXR1cm4gY29tcGxldGlvblBhcmFtO1xuXHR9KTtcbn1cbmZ1bmN0aW9uIGdyb3FSZXNwb25zZVRvQ2hhdE1lc3NhZ2UobWVzc2FnZSwgdXNhZ2VNZXRhZGF0YSwgcmVzcG9uc2VNZXRhZGF0YSkge1xuXHRjb25zdCByYXdUb29sQ2FsbHMgPSBtZXNzYWdlLnRvb2xfY2FsbHM7XG5cdHN3aXRjaCAobWVzc2FnZS5yb2xlKSB7XG5cdFx0Y2FzZSBcImFzc2lzdGFudFwiOiB7XG5cdFx0XHRjb25zdCB0b29sQ2FsbHMgPSBbXTtcblx0XHRcdGNvbnN0IGludmFsaWRUb29sQ2FsbHMgPSBbXTtcblx0XHRcdGZvciAoY29uc3QgcmF3VG9vbENhbGwgb2YgcmF3VG9vbENhbGxzID8/IFtdKSB0cnkge1xuXHRcdFx0XHR0b29sQ2FsbHMucHVzaChwYXJzZVRvb2xDYWxsKHJhd1Rvb2xDYWxsLCB7IHJldHVybklkOiB0cnVlIH0pKTtcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0aW52YWxpZFRvb2xDYWxscy5wdXNoKG1ha2VJbnZhbGlkVG9vbENhbGwocmF3VG9vbENhbGwsIGUubWVzc2FnZSkpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG5ldyBBSU1lc3NhZ2Uoe1xuXHRcdFx0XHRjb250ZW50OiBtZXNzYWdlLmNvbnRlbnQgfHwgXCJcIixcblx0XHRcdFx0YWRkaXRpb25hbF9rd2FyZ3M6IHsgdG9vbF9jYWxsczogcmF3VG9vbENhbGxzIH0sXG5cdFx0XHRcdHRvb2xfY2FsbHM6IHRvb2xDYWxscyxcblx0XHRcdFx0aW52YWxpZF90b29sX2NhbGxzOiBpbnZhbGlkVG9vbENhbGxzLFxuXHRcdFx0XHR1c2FnZV9tZXRhZGF0YTogdXNhZ2VNZXRhZGF0YSxcblx0XHRcdFx0cmVzcG9uc2VfbWV0YWRhdGE6IHJlc3BvbnNlTWV0YWRhdGFcblx0XHRcdH0pO1xuXHRcdH1cblx0XHRkZWZhdWx0OiByZXR1cm4gbmV3IENoYXRNZXNzYWdlKG1lc3NhZ2UuY29udGVudCB8fCBcIlwiLCBtZXNzYWdlLnJvbGUgPz8gXCJ1bmtub3duXCIpO1xuXHR9XG59XG5mdW5jdGlvbiBfY29udmVydERlbHRhVG9NZXNzYWdlQ2h1bmsoZGVsdGEsIGRlZmF1bHRSb2xlLCByYXdSZXNwb25zZSwgbGFzdE1lc3NhZ2VJZCkge1xuXHRjb25zdCByb2xlID0gZGVsdGEucm9sZSA/PyBkZWZhdWx0Um9sZTtcblx0Y29uc3QgY29udGVudCA9IGRlbHRhLmNvbnRlbnQgPz8gXCJcIjtcblx0bGV0IGFkZGl0aW9uYWxfa3dhcmdzO1xuXHRpZiAoZGVsdGEuZnVuY3Rpb25fY2FsbCkgYWRkaXRpb25hbF9rd2FyZ3MgPSB7IGZ1bmN0aW9uX2NhbGw6IGRlbHRhLmZ1bmN0aW9uX2NhbGwgfTtcblx0ZWxzZSBpZiAoZGVsdGEudG9vbF9jYWxscykgYWRkaXRpb25hbF9rd2FyZ3MgPSB7IHRvb2xfY2FsbHM6IGRlbHRhLnRvb2xfY2FsbHMgfTtcblx0ZWxzZSBhZGRpdGlvbmFsX2t3YXJncyA9IHt9O1xuXHRpZiAoZGVsdGEuYXVkaW8pIGFkZGl0aW9uYWxfa3dhcmdzLmF1ZGlvID0ge1xuXHRcdC4uLmRlbHRhLmF1ZGlvLFxuXHRcdGluZGV4OiByYXdSZXNwb25zZS5jaG9pY2VzWzBdLmluZGV4XG5cdH07XG5cdGxldCB1c2FnZTtcblx0bGV0IGdyb3FNZXNzYWdlSWQgPSBsYXN0TWVzc2FnZUlkO1xuXHRsZXQgdGltaW5nO1xuXHRjb25zdCB4R3JvcSA9IHJhd1Jlc3BvbnNlLnhfZ3JvcTtcblx0aWYgKHhHcm9xPy51c2FnZSkge1xuXHRcdHVzYWdlID0ge1xuXHRcdFx0aW5wdXRfdG9rZW5zOiB4R3JvcS51c2FnZS5wcm9tcHRfdG9rZW5zLFxuXHRcdFx0b3V0cHV0X3Rva2VuczogeEdyb3EudXNhZ2UuY29tcGxldGlvbl90b2tlbnMsXG5cdFx0XHR0b3RhbF90b2tlbnM6IHhHcm9xLnVzYWdlLnRvdGFsX3Rva2Vuc1xuXHRcdH07XG5cdFx0dGltaW5nID0ge1xuXHRcdFx0Y29tcGxldGlvbl90aW1lOiB4R3JvcS51c2FnZS5jb21wbGV0aW9uX3RpbWUsXG5cdFx0XHRwcm9tcHRfdGltZTogeEdyb3EudXNhZ2UucHJvbXB0X3RpbWUsXG5cdFx0XHRxdWV1ZV90aW1lOiB4R3JvcS51c2FnZS5xdWV1ZV90aW1lLFxuXHRcdFx0dG90YWxfdGltZTogeEdyb3EudXNhZ2UudG90YWxfdGltZVxuXHRcdH07XG5cdH1cblx0aWYgKHhHcm9xPy5pZCkgZ3JvcU1lc3NhZ2VJZCA9IHhHcm9xLmlkO1xuXHRjb25zdCByZXNwb25zZV9tZXRhZGF0YSA9IHtcblx0XHR1c2FnZSxcblx0XHR0aW1pbmdcblx0fTtcblx0aWYgKHJvbGUgPT09IFwidXNlclwiKSByZXR1cm4gbmV3IEh1bWFuTWVzc2FnZUNodW5rKHtcblx0XHRjb250ZW50LFxuXHRcdHJlc3BvbnNlX21ldGFkYXRhXG5cdH0pO1xuXHRlbHNlIGlmIChyb2xlID09PSBcImFzc2lzdGFudFwiKSB7XG5cdFx0Y29uc3QgdG9vbENhbGxDaHVua3MgPSBbXTtcblx0XHRpZiAoQXJyYXkuaXNBcnJheShkZWx0YS50b29sX2NhbGxzKSkgZm9yIChjb25zdCByYXdUb29sQ2FsbCBvZiBkZWx0YS50b29sX2NhbGxzKSB0b29sQ2FsbENodW5rcy5wdXNoKHtcblx0XHRcdG5hbWU6IHJhd1Rvb2xDYWxsLmZ1bmN0aW9uPy5uYW1lLFxuXHRcdFx0YXJnczogcmF3VG9vbENhbGwuZnVuY3Rpb24/LmFyZ3VtZW50cyxcblx0XHRcdGlkOiByYXdUb29sQ2FsbC5pZCxcblx0XHRcdGluZGV4OiByYXdUb29sQ2FsbC5pbmRleCxcblx0XHRcdHR5cGU6IFwidG9vbF9jYWxsX2NodW5rXCJcblx0XHR9KTtcblx0XHRyZXR1cm4gbmV3IEFJTWVzc2FnZUNodW5rKHtcblx0XHRcdGNvbnRlbnQsXG5cdFx0XHR0b29sX2NhbGxfY2h1bmtzOiB0b29sQ2FsbENodW5rcyxcblx0XHRcdGFkZGl0aW9uYWxfa3dhcmdzLFxuXHRcdFx0aWQ6IGdyb3FNZXNzYWdlSWQsXG5cdFx0XHRyZXNwb25zZV9tZXRhZGF0YVxuXHRcdH0pO1xuXHR9IGVsc2UgaWYgKHJvbGUgPT09IFwic3lzdGVtXCIpIHJldHVybiBuZXcgU3lzdGVtTWVzc2FnZUNodW5rKHtcblx0XHRjb250ZW50LFxuXHRcdHJlc3BvbnNlX21ldGFkYXRhXG5cdH0pO1xuXHRlbHNlIGlmIChyb2xlID09PSBcImRldmVsb3BlclwiKSByZXR1cm4gbmV3IFN5c3RlbU1lc3NhZ2VDaHVuayh7XG5cdFx0Y29udGVudCxcblx0XHRyZXNwb25zZV9tZXRhZGF0YSxcblx0XHRhZGRpdGlvbmFsX2t3YXJnczogeyBfX29wZW5haV9yb2xlX186IFwiZGV2ZWxvcGVyXCIgfVxuXHR9KTtcblx0ZWxzZSBpZiAocm9sZSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gbmV3IEZ1bmN0aW9uTWVzc2FnZUNodW5rKHtcblx0XHRjb250ZW50LFxuXHRcdGFkZGl0aW9uYWxfa3dhcmdzLFxuXHRcdG5hbWU6IGRlbHRhLm5hbWUsXG5cdFx0cmVzcG9uc2VfbWV0YWRhdGFcblx0fSk7XG5cdGVsc2UgaWYgKHJvbGUgPT09IFwidG9vbFwiKSByZXR1cm4gbmV3IFRvb2xNZXNzYWdlQ2h1bmsoe1xuXHRcdGNvbnRlbnQsXG5cdFx0YWRkaXRpb25hbF9rd2FyZ3MsXG5cdFx0dG9vbF9jYWxsX2lkOiBkZWx0YS50b29sX2NhbGxfaWQsXG5cdFx0cmVzcG9uc2VfbWV0YWRhdGFcblx0fSk7XG5cdGVsc2UgcmV0dXJuIG5ldyBDaGF0TWVzc2FnZUNodW5rKHtcblx0XHRjb250ZW50LFxuXHRcdHJvbGUsXG5cdFx0cmVzcG9uc2VfbWV0YWRhdGFcblx0fSk7XG59XG4vKipcbiogR3JvcSBjaGF0IG1vZGVsIGludGVncmF0aW9uLlxuKlxuKiBUaGUgR3JvcSBBUEkgaXMgY29tcGF0aWJsZSB0byB0aGUgT3BlbkFJIEFQSSB3aXRoIHNvbWUgbGltaXRhdGlvbnMuIFZpZXcgdGhlXG4qIGZ1bGwgQVBJIHJlZiBhdDpcbiogQGxpbmsge2h0dHBzOi8vZG9jcy5hcGkuZ3JvcS5jb20vbWQvb3BlbmFpLm9hcy5odG1sfVxuKlxuKiBTZXR1cDpcbiogSW5zdGFsbCBgQGxhbmdjaGFpbi9ncm9xYCBhbmQgc2V0IGFuIGVudmlyb25tZW50IHZhcmlhYmxlIG5hbWVkIGBHUk9RX0FQSV9LRVlgLlxuKlxuKiBgYGBiYXNoXG4qIG5wbSBpbnN0YWxsIEBsYW5nY2hhaW4vZ3JvcVxuKiBleHBvcnQgR1JPUV9BUElfS0VZPVwieW91ci1hcGkta2V5XCJcbiogYGBgXG4qXG4qICMjIFtDb25zdHJ1Y3RvciBhcmdzXShodHRwczovL2FwaS5qcy5sYW5nY2hhaW4uY29tL2NsYXNzZXMvbGFuZ2NoYWluX2dyb3EuQ2hhdEdyb3EuaHRtbCNjb25zdHJ1Y3RvcilcbipcbiogIyMgW1J1bnRpbWUgYXJnc10oaHR0cHM6Ly9hcGkuanMubGFuZ2NoYWluLmNvbS9pbnRlcmZhY2VzL2xhbmdjaGFpbl9ncm9xLkNoYXRHcm9xQ2FsbE9wdGlvbnMuaHRtbClcbipcbiogUnVudGltZSBhcmdzIGNhbiBiZSBwYXNzZWQgYXMgdGhlIHNlY29uZCBhcmd1bWVudCB0byBhbnkgb2YgdGhlIGJhc2UgcnVubmFibGUgbWV0aG9kcyBgLmludm9rZWAuIGAuc3RyZWFtYCwgYC5iYXRjaGAsIGV0Yy5cbiogVGhleSBjYW4gYWxzbyBiZSBwYXNzZWQgdmlhIGAud2l0aENvbmZpZ2AsIG9yIHRoZSBzZWNvbmQgYXJnIGluIGAuYmluZFRvb2xzYCwgbGlrZSBzaG93biBpbiB0aGUgZXhhbXBsZXMgYmVsb3c6XG4qXG4qIGBgYHR5cGVzY3JpcHRcbiogLy8gV2hlbiBjYWxsaW5nIGAud2l0aENvbmZpZ2AsIGNhbGwgb3B0aW9ucyBzaG91bGQgYmUgcGFzc2VkIHZpYSB0aGUgZmlyc3QgYXJndW1lbnRcbiogY29uc3QgbGxtV2l0aEFyZ3NCb3VuZCA9IGxsbS53aXRoQ29uZmlnKHtcbiogICBzdG9wOiBbXCJcXG5cIl0sXG4qIH0pO1xuKlxuKiAvLyBXaGVuIGNhbGxpbmcgYC5iaW5kVG9vbHNgLCBjYWxsIG9wdGlvbnMgc2hvdWxkIGJlIHBhc3NlZCB2aWEgdGhlIHNlY29uZCBhcmd1bWVudFxuKiBjb25zdCBsbG1XaXRoVG9vbHMgPSBsbG0uYmluZFRvb2xzKFxuKiAgIFsuLi5dLFxuKiAgIHtcbiogICAgIHRvb2xfY2hvaWNlOiBcImF1dG9cIixcbiogICB9XG4qICk7XG4qIGBgYFxuKlxuKiAjIyBFeGFtcGxlc1xuKlxuKiA8ZGV0YWlscyBvcGVuPlxuKiA8c3VtbWFyeT48c3Ryb25nPkluc3RhbnRpYXRlPC9zdHJvbmc+PC9zdW1tYXJ5PlxuKlxuKiBgYGB0eXBlc2NyaXB0XG4qIGltcG9ydCB7IENoYXRHcm9xIH0gZnJvbSAnQGxhbmdjaGFpbi9ncm9xJztcbipcbiogY29uc3QgbGxtID0gbmV3IENoYXRHcm9xKHtcbiogICBtb2RlbDogXCJsbGFtYS0zLjMtNzBiLXZlcnNhdGlsZVwiLFxuKiAgIHRlbXBlcmF0dXJlOiAwLFxuKiAgIC8vIG90aGVyIHBhcmFtcy4uLlxuKiB9KTtcbiogYGBgXG4qIDwvZGV0YWlscz5cbipcbiogPGJyIC8+XG4qXG4qIDxkZXRhaWxzPlxuKiA8c3VtbWFyeT48c3Ryb25nPkludm9raW5nPC9zdHJvbmc+PC9zdW1tYXJ5PlxuKlxuKiBgYGB0eXBlc2NyaXB0XG4qIGNvbnN0IGlucHV0ID0gYFRyYW5zbGF0ZSBcIkkgbG92ZSBwcm9ncmFtbWluZ1wiIGludG8gRnJlbmNoLmA7XG4qXG4qIC8vIE1vZGVscyBhbHNvIGFjY2VwdCBhIGxpc3Qgb2YgY2hhdCBtZXNzYWdlcyBvciBhIGZvcm1hdHRlZCBwcm9tcHRcbiogY29uc3QgcmVzdWx0ID0gYXdhaXQgbGxtLmludm9rZShpbnB1dCk7XG4qIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4qIGBgYFxuKlxuKiBgYGB0eHRcbiogQUlNZXNzYWdlIHtcbiogICBcImNvbnRlbnRcIjogXCJUaGUgRnJlbmNoIHRyYW5zbGF0aW9uIG9mIFxcXCJJIGxvdmUgcHJvZ3JhbW1pbmdcXFwiIGlzIFxcXCJKJ2FpbWUgcHJvZ3JhbW1lclxcXCIuIEluIHRoaXMgc2VudGVuY2UsIFxcXCJKJ2FpbWVcXFwiIGlzIHRoZSBmaXJzdCBwZXJzb24gc2luZ3VsYXIgY29uanVnYXRpb24gb2YgdGhlIEZyZW5jaCB2ZXJiIFxcXCJhaW1lclxcXCIgd2hpY2ggbWVhbnMgXFxcInRvIGxvdmVcXFwiLCBhbmQgXFxcInByb2dyYW1tZXJcXFwiIGlzIHRoZSBGcmVuY2ggaW5maW5pdGl2ZSBmb3IgXFxcInRvIHByb2dyYW1cXFwiLiBJIGhvcGUgdGhpcyBoZWxwcyEgTGV0IG1lIGtub3cgaWYgeW91IGhhdmUgYW55IG90aGVyIHF1ZXN0aW9ucy5cIixcbiogICBcImFkZGl0aW9uYWxfa3dhcmdzXCI6IHt9LFxuKiAgIFwicmVzcG9uc2VfbWV0YWRhdGFcIjoge1xuKiAgICAgXCJ0b2tlblVzYWdlXCI6IHtcbiogICAgICAgXCJjb21wbGV0aW9uVG9rZW5zXCI6IDgyLFxuKiAgICAgICBcInByb21wdFRva2Vuc1wiOiAyMCxcbiogICAgICAgXCJ0b3RhbFRva2Vuc1wiOiAxMDJcbiogICAgIH0sXG4qICAgICBcImZpbmlzaF9yZWFzb25cIjogXCJzdG9wXCJcbiogICB9LFxuKiAgIFwidG9vbF9jYWxsc1wiOiBbXSxcbiogICBcImludmFsaWRfdG9vbF9jYWxsc1wiOiBbXVxuKiB9XG4qIGBgYFxuKiA8L2RldGFpbHM+XG4qXG4qIDxiciAvPlxuKlxuKiA8ZGV0YWlscz5cbiogPHN1bW1hcnk+PHN0cm9uZz5TdHJlYW1pbmcgQ2h1bmtzPC9zdHJvbmc+PC9zdW1tYXJ5PlxuKlxuKiBgYGB0eXBlc2NyaXB0XG4qIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgYXdhaXQgbGxtLnN0cmVhbShpbnB1dCkpIHtcbiogICBjb25zb2xlLmxvZyhjaHVuayk7XG4qIH1cbiogYGBgXG4qXG4qIGBgYHR4dFxuKiBBSU1lc3NhZ2VDaHVuayB7XG4qICAgXCJjb250ZW50XCI6IFwiXCIsXG4qICAgXCJhZGRpdGlvbmFsX2t3YXJnc1wiOiB7fSxcbiogICBcInJlc3BvbnNlX21ldGFkYXRhXCI6IHtcbiogICAgIFwiZmluaXNoUmVhc29uXCI6IG51bGxcbiogICB9LFxuKiAgIFwidG9vbF9jYWxsc1wiOiBbXSxcbiogICBcInRvb2xfY2FsbF9jaHVua3NcIjogW10sXG4qICAgXCJpbnZhbGlkX3Rvb2xfY2FsbHNcIjogW11cbiogfVxuKiBBSU1lc3NhZ2VDaHVuayB7XG4qICAgXCJjb250ZW50XCI6IFwiVGhlXCIsXG4qICAgXCJhZGRpdGlvbmFsX2t3YXJnc1wiOiB7fSxcbiogICBcInJlc3BvbnNlX21ldGFkYXRhXCI6IHtcbiogICAgIFwiZmluaXNoUmVhc29uXCI6IG51bGxcbiogICB9LFxuKiAgIFwidG9vbF9jYWxsc1wiOiBbXSxcbiogICBcInRvb2xfY2FsbF9jaHVua3NcIjogW10sXG4qICAgXCJpbnZhbGlkX3Rvb2xfY2FsbHNcIjogW11cbiogfVxuKiBBSU1lc3NhZ2VDaHVuayB7XG4qICAgXCJjb250ZW50XCI6IFwiIEZyZW5jaFwiLFxuKiAgIFwiYWRkaXRpb25hbF9rd2FyZ3NcIjoge30sXG4qICAgXCJyZXNwb25zZV9tZXRhZGF0YVwiOiB7XG4qICAgICBcImZpbmlzaFJlYXNvblwiOiBudWxsXG4qICAgfSxcbiogICBcInRvb2xfY2FsbHNcIjogW10sXG4qICAgXCJ0b29sX2NhbGxfY2h1bmtzXCI6IFtdLFxuKiAgIFwiaW52YWxpZF90b29sX2NhbGxzXCI6IFtdXG4qIH1cbiogQUlNZXNzYWdlQ2h1bmsge1xuKiAgIFwiY29udGVudFwiOiBcIiB0cmFuc2xhdGlvblwiLFxuKiAgIFwiYWRkaXRpb25hbF9rd2FyZ3NcIjoge30sXG4qICAgXCJyZXNwb25zZV9tZXRhZGF0YVwiOiB7XG4qICAgICBcImZpbmlzaFJlYXNvblwiOiBudWxsXG4qICAgfSxcbiogICBcInRvb2xfY2FsbHNcIjogW10sXG4qICAgXCJ0b29sX2NhbGxfY2h1bmtzXCI6IFtdLFxuKiAgIFwiaW52YWxpZF90b29sX2NhbGxzXCI6IFtdXG4qIH1cbiogQUlNZXNzYWdlQ2h1bmsge1xuKiAgIFwiY29udGVudFwiOiBcIiBvZlwiLFxuKiAgIFwiYWRkaXRpb25hbF9rd2FyZ3NcIjoge30sXG4qICAgXCJyZXNwb25zZV9tZXRhZGF0YVwiOiB7XG4qICAgICBcImZpbmlzaFJlYXNvblwiOiBudWxsXG4qICAgfSxcbiogICBcInRvb2xfY2FsbHNcIjogW10sXG4qICAgXCJ0b29sX2NhbGxfY2h1bmtzXCI6IFtdLFxuKiAgIFwiaW52YWxpZF90b29sX2NhbGxzXCI6IFtdXG4qIH1cbiogQUlNZXNzYWdlQ2h1bmsge1xuKiAgIFwiY29udGVudFwiOiBcIiBcXFwiXCIsXG4qICAgXCJhZGRpdGlvbmFsX2t3YXJnc1wiOiB7fSxcbiogICBcInJlc3BvbnNlX21ldGFkYXRhXCI6IHtcbiogICAgIFwiZmluaXNoUmVhc29uXCI6IG51bGxcbiogICB9LFxuKiAgIFwidG9vbF9jYWxsc1wiOiBbXSxcbiogICBcInRvb2xfY2FsbF9jaHVua3NcIjogW10sXG4qICAgXCJpbnZhbGlkX3Rvb2xfY2FsbHNcIjogW11cbiogfVxuKiBBSU1lc3NhZ2VDaHVuayB7XG4qICAgXCJjb250ZW50XCI6IFwiSVwiLFxuKiAgIFwiYWRkaXRpb25hbF9rd2FyZ3NcIjoge30sXG4qICAgXCJyZXNwb25zZV9tZXRhZGF0YVwiOiB7XG4qICAgICBcImZpbmlzaFJlYXNvblwiOiBudWxsXG4qICAgfSxcbiogICBcInRvb2xfY2FsbHNcIjogW10sXG4qICAgXCJ0b29sX2NhbGxfY2h1bmtzXCI6IFtdLFxuKiAgIFwiaW52YWxpZF90b29sX2NhbGxzXCI6IFtdXG4qIH1cbiogQUlNZXNzYWdlQ2h1bmsge1xuKiAgIFwiY29udGVudFwiOiBcIiBsb3ZlXCIsXG4qICAgXCJhZGRpdGlvbmFsX2t3YXJnc1wiOiB7fSxcbiogICBcInJlc3BvbnNlX21ldGFkYXRhXCI6IHtcbiogICAgIFwiZmluaXNoUmVhc29uXCI6IG51bGxcbiogICB9LFxuKiAgIFwidG9vbF9jYWxsc1wiOiBbXSxcbiogICBcInRvb2xfY2FsbF9jaHVua3NcIjogW10sXG4qICAgXCJpbnZhbGlkX3Rvb2xfY2FsbHNcIjogW11cbiogfVxuKiAuLi5cbiogQUlNZXNzYWdlQ2h1bmsge1xuKiAgIFwiY29udGVudFwiOiBcIi5cIixcbiogICBcImFkZGl0aW9uYWxfa3dhcmdzXCI6IHt9LFxuKiAgIFwicmVzcG9uc2VfbWV0YWRhdGFcIjoge1xuKiAgICAgXCJmaW5pc2hSZWFzb25cIjogbnVsbFxuKiAgIH0sXG4qICAgXCJ0b29sX2NhbGxzXCI6IFtdLFxuKiAgIFwidG9vbF9jYWxsX2NodW5rc1wiOiBbXSxcbiogICBcImludmFsaWRfdG9vbF9jYWxsc1wiOiBbXVxuKiB9XG4qIEFJTWVzc2FnZUNodW5rIHtcbiogICBcImNvbnRlbnRcIjogXCJcIixcbiogICBcImFkZGl0aW9uYWxfa3dhcmdzXCI6IHt9LFxuKiAgIFwicmVzcG9uc2VfbWV0YWRhdGFcIjoge1xuKiAgICAgXCJmaW5pc2hSZWFzb25cIjogXCJzdG9wXCJcbiogICB9LFxuKiAgIFwidG9vbF9jYWxsc1wiOiBbXSxcbiogICBcInRvb2xfY2FsbF9jaHVua3NcIjogW10sXG4qICAgXCJpbnZhbGlkX3Rvb2xfY2FsbHNcIjogW11cbiogfVxuKiBgYGBcbiogPC9kZXRhaWxzPlxuKlxuKiA8YnIgLz5cbipcbiogPGRldGFpbHM+XG4qIDxzdW1tYXJ5PjxzdHJvbmc+QWdncmVnYXRlIFN0cmVhbWVkIENodW5rczwvc3Ryb25nPjwvc3VtbWFyeT5cbipcbiogYGBgdHlwZXNjcmlwdFxuKiBpbXBvcnQgeyBBSU1lc3NhZ2VDaHVuayB9IGZyb20gJ0BsYW5nY2hhaW4vY29yZS9tZXNzYWdlcyc7XG4qIGltcG9ydCB7IGNvbmNhdCB9IGZyb20gJ0BsYW5nY2hhaW4vY29yZS91dGlscy9zdHJlYW0nO1xuKlxuKiBjb25zdCBzdHJlYW0gPSBhd2FpdCBsbG0uc3RyZWFtKGlucHV0KTtcbiogbGV0IGZ1bGw6IEFJTWVzc2FnZUNodW5rIHwgdW5kZWZpbmVkO1xuKiBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHN0cmVhbSkge1xuKiAgIGZ1bGwgPSAhZnVsbCA/IGNodW5rIDogY29uY2F0KGZ1bGwsIGNodW5rKTtcbiogfVxuKiBjb25zb2xlLmxvZyhmdWxsKTtcbiogYGBgXG4qXG4qIGBgYHR4dFxuKiBBSU1lc3NhZ2VDaHVuayB7XG4qICAgXCJjb250ZW50XCI6IFwiVGhlIEZyZW5jaCB0cmFuc2xhdGlvbiBvZiBcXFwiSSBsb3ZlIHByb2dyYW1taW5nXFxcIiBpcyBcXFwiSidhaW1lIHByb2dyYW1tZXJcXFwiLiBJbiB0aGlzIHNlbnRlbmNlLCBcXFwiSidhaW1lXFxcIiBpcyB0aGUgZmlyc3QgcGVyc29uIHNpbmd1bGFyIGNvbmp1Z2F0aW9uIG9mIHRoZSBGcmVuY2ggdmVyYiBcXFwiYWltZXJcXFwiIHdoaWNoIG1lYW5zIFxcXCJ0byBsb3ZlXFxcIiwgYW5kIFxcXCJwcm9ncmFtbWVyXFxcIiBpcyB0aGUgRnJlbmNoIGluZmluaXRpdmUgZm9yIFxcXCJ0byBwcm9ncmFtXFxcIi4gSSBob3BlIHRoaXMgaGVscHMhIExldCBtZSBrbm93IGlmIHlvdSBoYXZlIGFueSBvdGhlciBxdWVzdGlvbnMuXCIsXG4qICAgXCJhZGRpdGlvbmFsX2t3YXJnc1wiOiB7fSxcbiogICBcInJlc3BvbnNlX21ldGFkYXRhXCI6IHtcbiogICAgIFwiZmluaXNoUmVhc29uXCI6IFwic3RvcFwiXG4qICAgfSxcbiogICBcInRvb2xfY2FsbHNcIjogW10sXG4qICAgXCJ0b29sX2NhbGxfY2h1bmtzXCI6IFtdLFxuKiAgIFwiaW52YWxpZF90b29sX2NhbGxzXCI6IFtdXG4qIH1cbiogYGBgXG4qIDwvZGV0YWlscz5cbipcbiogPGJyIC8+XG4qXG4qIDxkZXRhaWxzPlxuKiA8c3VtbWFyeT48c3Ryb25nPkJpbmQgdG9vbHM8L3N0cm9uZz48L3N1bW1hcnk+XG4qXG4qIGBgYHR5cGVzY3JpcHRcbiogaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG4qXG4qIGNvbnN0IGxsbUZvclRvb2xDYWxsaW5nID0gbmV3IENoYXRHcm9xKHtcbiogICBtb2RlbDogXCJsbGFtYTMtZ3JvcS03MGItODE5Mi10b29sLXVzZS1wcmV2aWV3XCIsXG4qICAgdGVtcGVyYXR1cmU6IDAsXG4qICAgLy8gb3RoZXIgcGFyYW1zLi4uXG4qIH0pO1xuKlxuKiBjb25zdCBHZXRXZWF0aGVyID0ge1xuKiAgIG5hbWU6IFwiR2V0V2VhdGhlclwiLFxuKiAgIGRlc2NyaXB0aW9uOiBcIkdldCB0aGUgY3VycmVudCB3ZWF0aGVyIGluIGEgZ2l2ZW4gbG9jYXRpb25cIixcbiogICBzY2hlbWE6IHoub2JqZWN0KHtcbiogICAgIGxvY2F0aW9uOiB6LnN0cmluZygpLmRlc2NyaWJlKFwiVGhlIGNpdHkgYW5kIHN0YXRlLCBlLmcuIFNhbiBGcmFuY2lzY28sIENBXCIpXG4qICAgfSksXG4qIH1cbipcbiogY29uc3QgR2V0UG9wdWxhdGlvbiA9IHtcbiogICBuYW1lOiBcIkdldFBvcHVsYXRpb25cIixcbiogICBkZXNjcmlwdGlvbjogXCJHZXQgdGhlIGN1cnJlbnQgcG9wdWxhdGlvbiBpbiBhIGdpdmVuIGxvY2F0aW9uXCIsXG4qICAgc2NoZW1hOiB6Lm9iamVjdCh7XG4qICAgICBsb2NhdGlvbjogei5zdHJpbmcoKS5kZXNjcmliZShcIlRoZSBjaXR5IGFuZCBzdGF0ZSwgZS5nLiBTYW4gRnJhbmNpc2NvLCBDQVwiKVxuKiAgIH0pLFxuKiB9XG4qXG4qIGNvbnN0IGxsbVdpdGhUb29scyA9IGxsbUZvclRvb2xDYWxsaW5nLmJpbmRUb29scyhbR2V0V2VhdGhlciwgR2V0UG9wdWxhdGlvbl0pO1xuKiBjb25zdCBhaU1zZyA9IGF3YWl0IGxsbVdpdGhUb29scy5pbnZva2UoXG4qICAgXCJXaGljaCBjaXR5IGlzIGhvdHRlciB0b2RheSBhbmQgd2hpY2ggaXMgYmlnZ2VyOiBMQSBvciBOWT9cIlxuKiApO1xuKiBjb25zb2xlLmxvZyhhaU1zZy50b29sX2NhbGxzKTtcbiogYGBgXG4qXG4qIGBgYHR4dFxuKiBbXG4qICAge1xuKiAgICAgbmFtZTogJ0dldFdlYXRoZXInLFxuKiAgICAgYXJnczogeyBsb2NhdGlvbjogJ0xvcyBBbmdlbGVzLCBDQScgfSxcbiogICAgIHR5cGU6ICd0b29sX2NhbGwnLFxuKiAgICAgaWQ6ICdjYWxsX2NkMzQnXG4qICAgfSxcbiogICB7XG4qICAgICBuYW1lOiAnR2V0V2VhdGhlcicsXG4qICAgICBhcmdzOiB7IGxvY2F0aW9uOiAnTmV3IFlvcmssIE5ZJyB9LFxuKiAgICAgdHlwZTogJ3Rvb2xfY2FsbCcsXG4qICAgICBpZDogJ2NhbGxfNjhyZidcbiogICB9LFxuKiAgIHtcbiogICAgIG5hbWU6ICdHZXRQb3B1bGF0aW9uJyxcbiogICAgIGFyZ3M6IHsgbG9jYXRpb246ICdMb3MgQW5nZWxlcywgQ0EnIH0sXG4qICAgICB0eXBlOiAndG9vbF9jYWxsJyxcbiogICAgIGlkOiAnY2FsbF9mODF6J1xuKiAgIH0sXG4qICAge1xuKiAgICAgbmFtZTogJ0dldFBvcHVsYXRpb24nLFxuKiAgICAgYXJnczogeyBsb2NhdGlvbjogJ05ldyBZb3JrLCBOWScgfSxcbiogICAgIHR5cGU6ICd0b29sX2NhbGwnLFxuKiAgICAgaWQ6ICdjYWxsXzhieXQnXG4qICAgfVxuKiBdXG4qIGBgYFxuKiA8L2RldGFpbHM+XG4qXG4qIDxiciAvPlxuKlxuKiA8ZGV0YWlscz5cbiogPHN1bW1hcnk+PHN0cm9uZz5TdHJ1Y3R1cmVkIE91dHB1dDwvc3Ryb25nPjwvc3VtbWFyeT5cbipcbiogYGBgdHlwZXNjcmlwdFxuKiBpbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcbipcbiogY29uc3QgSm9rZSA9IHoub2JqZWN0KHtcbiogICBzZXR1cDogei5zdHJpbmcoKS5kZXNjcmliZShcIlRoZSBzZXR1cCBvZiB0aGUgam9rZVwiKSxcbiogICBwdW5jaGxpbmU6IHouc3RyaW5nKCkuZGVzY3JpYmUoXCJUaGUgcHVuY2hsaW5lIHRvIHRoZSBqb2tlXCIpLFxuKiAgIHJhdGluZzogei5udW1iZXIoKS5vcHRpb25hbCgpLmRlc2NyaWJlKFwiSG93IGZ1bm55IHRoZSBqb2tlIGlzLCBmcm9tIDEgdG8gMTBcIilcbiogfSkuZGVzY3JpYmUoJ0pva2UgdG8gdGVsbCB1c2VyLicpO1xuKlxuKiBjb25zdCBzdHJ1Y3R1cmVkTGxtID0gbGxtRm9yVG9vbENhbGxpbmcud2l0aFN0cnVjdHVyZWRPdXRwdXQoSm9rZSwgeyBuYW1lOiBcIkpva2VcIiB9KTtcbiogY29uc3Qgam9rZVJlc3VsdCA9IGF3YWl0IHN0cnVjdHVyZWRMbG0uaW52b2tlKFwiVGVsbCBtZSBhIGpva2UgYWJvdXQgY2F0c1wiKTtcbiogY29uc29sZS5sb2coam9rZVJlc3VsdCk7XG4qIGBgYFxuKlxuKiBgYGB0eHRcbioge1xuKiAgIHNldHVwOiBcIldoeSBkb24ndCBjYXRzIHBsYXkgcG9rZXIgaW4gdGhlIHdpbGQ/XCIsXG4qICAgcHVuY2hsaW5lOiAnQmVjYXVzZSB0aGVyZSBhcmUgdG9vIG1hbnkgY2hlZXRhaHMuJ1xuKiB9XG4qIGBgYFxuKiA8L2RldGFpbHM+XG4qXG4qIDxiciAvPlxuKi9cbnZhciBDaGF0R3JvcSA9IGNsYXNzIGV4dGVuZHMgQmFzZUNoYXRNb2RlbCB7XG5cdGxjX25hbWVzcGFjZSA9IFtcblx0XHRcImxhbmdjaGFpblwiLFxuXHRcdFwiY2hhdF9tb2RlbHNcIixcblx0XHRcImdyb3FcIlxuXHRdO1xuXHRjbGllbnQ7XG5cdG1vZGVsO1xuXHR0ZW1wZXJhdHVyZSA9IC43O1xuXHRzdG9wO1xuXHRzdG9wU2VxdWVuY2VzO1xuXHRtYXhUb2tlbnM7XG5cdHN0cmVhbWluZyA9IGZhbHNlO1xuXHRhcGlLZXk7XG5cdHN0cmVhbVVzYWdlID0gdHJ1ZTtcblx0dG9wUDtcblx0ZnJlcXVlbmN5UGVuYWx0eTtcblx0cHJlc2VuY2VQZW5hbHR5O1xuXHRsb2dwcm9icztcblx0bjtcblx0bG9naXRCaWFzO1xuXHR1c2VyO1xuXHRyZWFzb25pbmdGb3JtYXQ7XG5cdHNlcnZpY2VUaWVyO1xuXHR0b3BMb2dwcm9icztcblx0bGNfc2VyaWFsaXphYmxlID0gdHJ1ZTtcblx0Z2V0IGxjX3NlcmlhbGl6ZWRfa2V5cygpIHtcblx0XHRyZXR1cm4gW1xuXHRcdFx0XCJjbGllbnRcIixcblx0XHRcdFwibW9kZWxcIixcblx0XHRcdFwidGVtcGVyYXR1cmVcIixcblx0XHRcdFwic3RvcFwiLFxuXHRcdFx0XCJzdG9wU2VxdWVuY2VzXCIsXG5cdFx0XHRcIm1heFRva2Vuc1wiLFxuXHRcdFx0XCJzdHJlYW1pbmdcIixcblx0XHRcdFwiYXBpS2V5XCIsXG5cdFx0XHRcInN0cmVhbVVzYWdlXCIsXG5cdFx0XHRcInRvcFBcIixcblx0XHRcdFwiZnJlcXVlbmN5UGVuYWx0eVwiLFxuXHRcdFx0XCJwcmVzZW5jZVBlbmFsdHlcIixcblx0XHRcdFwibG9ncHJvYnNcIixcblx0XHRcdFwiblwiLFxuXHRcdFx0XCJsb2dpdEJpYXNcIixcblx0XHRcdFwidXNlclwiLFxuXHRcdFx0XCJyZWFzb25pbmdGb3JtYXRcIixcblx0XHRcdFwic2VydmljZVRpZXJcIixcblx0XHRcdFwidG9wTG9ncHJvYnNcIlxuXHRcdF07XG5cdH1cblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiQ2hhdEdyb3FcIjtcblx0fVxuXHRfbGxtVHlwZSgpIHtcblx0XHRyZXR1cm4gXCJncm9xXCI7XG5cdH1cblx0Z2V0IGxjX3NlY3JldHMoKSB7XG5cdFx0cmV0dXJuIHsgYXBpS2V5OiBcIkdST1FfQVBJX0tFWVwiIH07XG5cdH1cblx0Z2V0IGNhbGxLZXlzKCkge1xuXHRcdHJldHVybiBbLi4uc3VwZXIuY2FsbEtleXMsIC4uLkFMTF9DQUxMX0tFWVNdO1xuXHR9XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdHN1cGVyKGZpZWxkcyk7XG5cdFx0Y29uc3QgYXBpS2V5ID0gZmllbGRzLmFwaUtleSB8fCBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiR1JPUV9BUElfS0VZXCIpO1xuXHRcdGlmICghYXBpS2V5KSB0aHJvdyBuZXcgRXJyb3IoYEdyb3EgQVBJIGtleSBub3QgZm91bmQuIFBsZWFzZSBzZXQgdGhlIEdST1FfQVBJX0tFWSBlbnZpcm9ubWVudCB2YXJpYWJsZSBvciBwcm92aWRlIHRoZSBrZXkgaW50byBcImFwaUtleVwiYCk7XG5cdFx0Y29uc3QgZGVmYXVsdEhlYWRlcnMgPSB7XG5cdFx0XHRcIlVzZXItQWdlbnRcIjogXCJsYW5nY2hhaW5qc1wiLFxuXHRcdFx0Li4uZmllbGRzLmRlZmF1bHRIZWFkZXJzID8/IHt9XG5cdFx0fTtcblx0XHR0aGlzLmNsaWVudCA9IG5ldyBHcm9xKHtcblx0XHRcdGFwaUtleSxcblx0XHRcdGRhbmdlcm91c2x5QWxsb3dCcm93c2VyOiB0cnVlLFxuXHRcdFx0YmFzZVVSTDogZmllbGRzLmJhc2VVcmwsXG5cdFx0XHR0aW1lb3V0OiBmaWVsZHMudGltZW91dCxcblx0XHRcdGh0dHBBZ2VudDogZmllbGRzLmh0dHBBZ2VudCxcblx0XHRcdGZldGNoOiBmaWVsZHMuZmV0Y2gsXG5cdFx0XHRtYXhSZXRyaWVzOiAwLFxuXHRcdFx0ZGVmYXVsdEhlYWRlcnMsXG5cdFx0XHRkZWZhdWx0UXVlcnk6IGZpZWxkcy5kZWZhdWx0UXVlcnlcblx0XHR9KTtcblx0XHR0aGlzLmFwaUtleSA9IGFwaUtleTtcblx0XHR0aGlzLnRlbXBlcmF0dXJlID0gZmllbGRzLnRlbXBlcmF0dXJlID8/IHRoaXMudGVtcGVyYXR1cmU7XG5cdFx0dGhpcy5tb2RlbCA9IGZpZWxkcy5tb2RlbDtcblx0XHR0aGlzLnN0cmVhbWluZyA9IGZpZWxkcy5zdHJlYW1pbmcgPz8gdGhpcy5zdHJlYW1pbmc7XG5cdFx0dGhpcy5zdG9wID0gZmllbGRzLnN0b3BTZXF1ZW5jZXMgPz8gKHR5cGVvZiBmaWVsZHMuc3RvcCA9PT0gXCJzdHJpbmdcIiA/IFtmaWVsZHMuc3RvcF0gOiBmaWVsZHMuc3RvcCkgPz8gW107XG5cdFx0dGhpcy5zdG9wU2VxdWVuY2VzID0gdGhpcy5zdG9wO1xuXHRcdHRoaXMubWF4VG9rZW5zID0gZmllbGRzLm1heFRva2Vucztcblx0XHR0aGlzLnRvcFAgPSBmaWVsZHMudG9wUDtcblx0XHR0aGlzLmZyZXF1ZW5jeVBlbmFsdHkgPSBmaWVsZHMuZnJlcXVlbmN5UGVuYWx0eTtcblx0XHR0aGlzLnByZXNlbmNlUGVuYWx0eSA9IGZpZWxkcy5wcmVzZW5jZVBlbmFsdHk7XG5cdFx0dGhpcy5sb2dwcm9icyA9IGZpZWxkcy5sb2dwcm9icztcblx0XHR0aGlzLm4gPSBmaWVsZHMubjtcblx0XHR0aGlzLmxvZ2l0QmlhcyA9IGZpZWxkcy5sb2dpdEJpYXM7XG5cdFx0dGhpcy51c2VyID0gZmllbGRzLnVzZXI7XG5cdH1cblx0Z2V0THNQYXJhbXMob3B0aW9ucykge1xuXHRcdGNvbnN0IHBhcmFtcyA9IHRoaXMuaW52b2NhdGlvblBhcmFtcyhvcHRpb25zKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0bHNfcHJvdmlkZXI6IFwiZ3JvcVwiLFxuXHRcdFx0bHNfbW9kZWxfbmFtZTogdGhpcy5tb2RlbCxcblx0XHRcdGxzX21vZGVsX3R5cGU6IFwiY2hhdFwiLFxuXHRcdFx0bHNfdGVtcGVyYXR1cmU6IHBhcmFtcy50ZW1wZXJhdHVyZSA/PyB0aGlzLnRlbXBlcmF0dXJlLFxuXHRcdFx0bHNfbWF4X3Rva2VuczogcGFyYW1zLm1heF90b2tlbnMgPz8gdGhpcy5tYXhUb2tlbnMsXG5cdFx0XHRsc19zdG9wOiBvcHRpb25zLnN0b3Bcblx0XHR9O1xuXHR9XG5cdGFzeW5jIGNvbXBsZXRpb25XaXRoUmV0cnkocmVxdWVzdCwgb3B0aW9ucykge1xuXHRcdHJldHVybiB0aGlzLmNhbGxlci5jYWxsKGFzeW5jICgpID0+IHRoaXMuY2xpZW50LmNoYXQuY29tcGxldGlvbnMuY3JlYXRlKHJlcXVlc3QsIG9wdGlvbnMpKTtcblx0fVxuXHRpbnZvY2F0aW9uUGFyYW1zKG9wdGlvbnMsIGV4dHJhKSB7XG5cdFx0Y29uc3QgcGFyYW1zID0gc3VwZXIuaW52b2NhdGlvblBhcmFtcyhvcHRpb25zKTtcblx0XHRsZXQgc3RyZWFtT3B0aW9uc0NvbmZpZyA9IHt9O1xuXHRcdGlmIChvcHRpb25zPy5zdHJlYW1fb3B0aW9ucyAhPT0gdm9pZCAwKSBzdHJlYW1PcHRpb25zQ29uZmlnID0geyBzdHJlYW1fb3B0aW9uczogb3B0aW9ucy5zdHJlYW1fb3B0aW9ucyB9O1xuXHRcdGVsc2UgaWYgKHRoaXMuc3RyZWFtVXNhZ2UgJiYgdGhpcy5zdHJlYW1pbmcgfHwgZXh0cmE/LnN0cmVhbWluZykgc3RyZWFtT3B0aW9uc0NvbmZpZyA9IHsgc3RyZWFtX29wdGlvbnM6IHsgaW5jbHVkZV91c2FnZTogdHJ1ZSB9IH07XG5cdFx0Y29uc3QgdG9SZXR1cm4gPSB7XG5cdFx0XHRtb2RlbDogdGhpcy5tb2RlbCxcblx0XHRcdGZyZXF1ZW5jeV9wZW5hbHR5OiB0aGlzLmZyZXF1ZW5jeVBlbmFsdHksXG5cdFx0XHRmdW5jdGlvbl9jYWxsOiBvcHRpb25zPy5mdW5jdGlvbl9jYWxsLFxuXHRcdFx0ZnVuY3Rpb25zOiBvcHRpb25zPy5mdW5jdGlvbnMsXG5cdFx0XHRsb2dpdF9iaWFzOiB0aGlzLmxvZ2l0Qmlhcyxcblx0XHRcdGxvZ3Byb2JzOiB0aGlzLmxvZ3Byb2JzLFxuXHRcdFx0bjogdGhpcy5uLFxuXHRcdFx0cGFyYWxsZWxfdG9vbF9jYWxsczogb3B0aW9ucz8ucGFyYWxsZWxfdG9vbF9jYWxscyxcblx0XHRcdHByZXNlbmNlX3BlbmFsdHk6IHRoaXMucHJlc2VuY2VQZW5hbHR5LFxuXHRcdFx0cmVhc29uaW5nX2Zvcm1hdDogdGhpcy5yZWFzb25pbmdGb3JtYXQsXG5cdFx0XHRyZXNwb25zZV9mb3JtYXQ6IG9wdGlvbnM/LnJlc3BvbnNlX2Zvcm1hdCxcblx0XHRcdHNlZWQ6IG9wdGlvbnM/LnNlZWQsXG5cdFx0XHRzZXJ2aWNlX3RpZXI6IHRoaXMuc2VydmljZVRpZXIsXG5cdFx0XHRzdG9wOiBvcHRpb25zPy5zdG9wID8/IHRoaXMuc3RvcFNlcXVlbmNlcyxcblx0XHRcdHRlbXBlcmF0dXJlOiBvcHRpb25zPy50ZW1wZXJhdHVyZSA/PyB0aGlzLnRlbXBlcmF0dXJlLFxuXHRcdFx0dG9vbF9jaG9pY2U6IF9mb3JtYXRUb0dyb3FUb29sQ2hvaWNlKG9wdGlvbnM/LnRvb2xfY2hvaWNlKSxcblx0XHRcdHRvb2xzOiBvcHRpb25zPy50b29scz8ubGVuZ3RoID8gb3B0aW9ucy50b29scy5tYXAoKHRvb2wpID0+IGNvbnZlcnRUb09wZW5BSVRvb2wodG9vbCkpIDogdm9pZCAwLFxuXHRcdFx0dG9wX2xvZ3Byb2JzOiB0aGlzLnRvcExvZ3Byb2JzLFxuXHRcdFx0dG9wX3A6IHRoaXMudG9wUCxcblx0XHRcdHVzZXI6IHRoaXMudXNlcixcblx0XHRcdHN0cmVhbTogdGhpcy5zdHJlYW1pbmcsXG5cdFx0XHQuLi5wYXJhbXMsXG5cdFx0XHQuLi5zdHJlYW1PcHRpb25zQ29uZmlnXG5cdFx0fTtcblx0XHR0b1JldHVybi5tYXhfY29tcGxldGlvbl90b2tlbnMgPSBvcHRpb25zPy5tYXhfY29tcGxldGlvbl90b2tlbnMgPz8gb3B0aW9ucz8ubWF4X3Rva2VucyA/PyB0aGlzLm1heFRva2Vucztcblx0XHRpZiAodG9SZXR1cm4ubWF4X2NvbXBsZXRpb25fdG9rZW5zID09PSAtMSkgZGVsZXRlIHRvUmV0dXJuLm1heF9jb21wbGV0aW9uX3Rva2Vucztcblx0XHRyZXR1cm4gdG9SZXR1cm47XG5cdH1cblx0YmluZFRvb2xzKHRvb2xzLCBrd2FyZ3MpIHtcblx0XHRyZXR1cm4gdGhpcy53aXRoQ29uZmlnKHtcblx0XHRcdHRvb2xzOiB0b29scy5tYXAoKHRvb2wpID0+IGNvbnZlcnRUb09wZW5BSVRvb2wodG9vbCkpLFxuXHRcdFx0Li4ua3dhcmdzXG5cdFx0fSk7XG5cdH1cblx0YXN5bmMgKl9zdHJlYW1SZXNwb25zZUNodW5rcyhtZXNzYWdlcywgb3B0aW9ucywgcnVuTWFuYWdlcikge1xuXHRcdGNvbnN0IHBhcmFtcyA9IHRoaXMuaW52b2NhdGlvblBhcmFtcyhvcHRpb25zLCB7IHN0cmVhbWluZzogdHJ1ZSB9KTtcblx0XHRjb25zdCBtZXNzYWdlc01hcHBlZCA9IGNvbnZlcnRNZXNzYWdlc1RvR3JvcVBhcmFtcyhtZXNzYWdlcyk7XG5cdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNvbXBsZXRpb25XaXRoUmV0cnkoe1xuXHRcdFx0Li4ucGFyYW1zLFxuXHRcdFx0bWVzc2FnZXM6IG1lc3NhZ2VzTWFwcGVkLFxuXHRcdFx0c3RyZWFtOiB0cnVlXG5cdFx0fSwge1xuXHRcdFx0c2lnbmFsOiBvcHRpb25zPy5zaWduYWwsXG5cdFx0XHRoZWFkZXJzOiBvcHRpb25zPy5oZWFkZXJzXG5cdFx0fSk7XG5cdFx0bGV0IHJvbGU7XG5cdFx0bGV0IGxhc3RNZXNzYWdlSWQ7XG5cdFx0bGV0IHJlc3BvbnNlTWV0YWRhdGE7XG5cdFx0Zm9yIGF3YWl0IChjb25zdCBkYXRhIG9mIHJlc3BvbnNlKSB7XG5cdFx0XHRyZXNwb25zZU1ldGFkYXRhID0gZGF0YTtcblx0XHRcdGNvbnN0IGNob2ljZSA9IGRhdGE/LmNob2ljZXNbMF07XG5cdFx0XHRpZiAoIWNob2ljZSkgY29udGludWU7XG5cdFx0XHRpZiAoY2hvaWNlLmRlbHRhPy5yb2xlKSByb2xlID0gY2hvaWNlLmRlbHRhLnJvbGU7XG5cdFx0XHRjb25zdCBjaHVuayA9IF9jb252ZXJ0RGVsdGFUb01lc3NhZ2VDaHVuayhjaG9pY2UuZGVsdGEsIHJvbGUsIGRhdGEsIGxhc3RNZXNzYWdlSWQpO1xuXHRcdFx0Y29uc3QgbmV3VG9rZW5JbmRpY2VzID0ge1xuXHRcdFx0XHRwcm9tcHQ6IG9wdGlvbnMucHJvbXB0SW5kZXggPz8gMCxcblx0XHRcdFx0Y29tcGxldGlvbjogY2hvaWNlLmluZGV4ID8/IDBcblx0XHRcdH07XG5cdFx0XHRpZiAodHlwZW9mIGNodW5rLmNvbnRlbnQgIT09IFwic3RyaW5nXCIpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coXCJbV0FSTklOR106IFJlY2VpdmVkIG5vbi1zdHJpbmcgY29udGVudCBmcm9tIE9wZW5BSS4gVGhpcyBpcyBjdXJyZW50bHkgbm90IHN1cHBvcnRlZC5cIik7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3QgZ2VuZXJhdGlvbkluZm8gPSB7IC4uLm5ld1Rva2VuSW5kaWNlcyB9O1xuXHRcdFx0aWYgKGNob2ljZS5maW5pc2hfcmVhc29uICE9IG51bGwpIHtcblx0XHRcdFx0Z2VuZXJhdGlvbkluZm8uZmluaXNoX3JlYXNvbiA9IGNob2ljZS5maW5pc2hfcmVhc29uO1xuXHRcdFx0XHRnZW5lcmF0aW9uSW5mby5zeXN0ZW1fZmluZ2VycHJpbnQgPSBkYXRhLnN5c3RlbV9maW5nZXJwcmludDtcblx0XHRcdFx0Z2VuZXJhdGlvbkluZm8ubW9kZWxfbmFtZSA9IGRhdGEubW9kZWw7XG5cdFx0XHR9XG5cdFx0XHRjb25zdCBnZW5lcmF0aW9uQ2h1bmsgPSBuZXcgQ2hhdEdlbmVyYXRpb25DaHVuayh7XG5cdFx0XHRcdG1lc3NhZ2U6IGNodW5rLFxuXHRcdFx0XHR0ZXh0OiBjaHVuay5jb250ZW50LFxuXHRcdFx0XHRnZW5lcmF0aW9uSW5mb1xuXHRcdFx0fSk7XG5cdFx0XHR5aWVsZCBnZW5lcmF0aW9uQ2h1bms7XG5cdFx0XHRhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVMTE1OZXdUb2tlbihnZW5lcmF0aW9uQ2h1bmsudGV4dCA/PyBcIlwiLCBuZXdUb2tlbkluZGljZXMsIHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIHsgY2h1bms6IGdlbmVyYXRpb25DaHVuayB9KTtcblx0XHR9XG5cdFx0aWYgKHJlc3BvbnNlTWV0YWRhdGEpIHtcblx0XHRcdGlmIChcImNob2ljZXNcIiBpbiByZXNwb25zZU1ldGFkYXRhKSBkZWxldGUgcmVzcG9uc2VNZXRhZGF0YS5jaG9pY2VzO1xuXHRcdFx0eWllbGQgbmV3IENoYXRHZW5lcmF0aW9uQ2h1bmsoe1xuXHRcdFx0XHRtZXNzYWdlOiBuZXcgQUlNZXNzYWdlQ2h1bmsoe1xuXHRcdFx0XHRcdGNvbnRlbnQ6IFwiXCIsXG5cdFx0XHRcdFx0cmVzcG9uc2VfbWV0YWRhdGE6IHJlc3BvbnNlTWV0YWRhdGFcblx0XHRcdFx0fSksXG5cdFx0XHRcdHRleHQ6IFwiXCJcblx0XHRcdH0pO1xuXHRcdH1cblx0XHRpZiAob3B0aW9ucy5zaWduYWw/LmFib3J0ZWQpIHRocm93IG5ldyBFcnJvcihcIkFib3J0RXJyb3JcIik7XG5cdH1cblx0YXN5bmMgX2dlbmVyYXRlKG1lc3NhZ2VzLCBvcHRpb25zLCBydW5NYW5hZ2VyKSB7XG5cdFx0aWYgKHRoaXMuc3RyZWFtaW5nKSB7XG5cdFx0XHRjb25zdCB0b2tlblVzYWdlID0ge307XG5cdFx0XHRjb25zdCBzdHJlYW0gPSB0aGlzLl9zdHJlYW1SZXNwb25zZUNodW5rcyhtZXNzYWdlcywgb3B0aW9ucywgcnVuTWFuYWdlcik7XG5cdFx0XHRjb25zdCBmaW5hbENodW5rcyA9IHt9O1xuXHRcdFx0Zm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBzdHJlYW0pIHtcblx0XHRcdFx0Y29uc3QgaW5kZXggPSBjaHVuay5nZW5lcmF0aW9uSW5mbz8uY29tcGxldGlvbiA/PyAwO1xuXHRcdFx0XHRpZiAoZmluYWxDaHVua3NbaW5kZXhdID09PSB2b2lkIDApIGZpbmFsQ2h1bmtzW2luZGV4XSA9IGNodW5rO1xuXHRcdFx0XHRlbHNlIGZpbmFsQ2h1bmtzW2luZGV4XSA9IGZpbmFsQ2h1bmtzW2luZGV4XS5jb25jYXQoY2h1bmspO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3QgZ2VuZXJhdGlvbnMgPSBPYmplY3QuZW50cmllcyhmaW5hbENodW5rcykuc29ydCgoW2FLZXldLCBbYktleV0pID0+IHBhcnNlSW50KGFLZXksIDEwKSAtIHBhcnNlSW50KGJLZXksIDEwKSkubWFwKChbXywgdmFsdWVdKSA9PiB2YWx1ZSk7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRnZW5lcmF0aW9ucyxcblx0XHRcdFx0bGxtT3V0cHV0OiB7IGVzdGltYXRlZFRva2VuVXNhZ2U6IHRva2VuVXNhZ2UgfVxuXHRcdFx0fTtcblx0XHR9IGVsc2UgcmV0dXJuIHRoaXMuX2dlbmVyYXRlTm9uU3RyZWFtaW5nKG1lc3NhZ2VzLCBvcHRpb25zLCBydW5NYW5hZ2VyKTtcblx0fVxuXHRhc3luYyBfZ2VuZXJhdGVOb25TdHJlYW1pbmcobWVzc2FnZXMsIG9wdGlvbnMsIF9ydW5NYW5hZ2VyKSB7XG5cdFx0Y29uc3QgdG9rZW5Vc2FnZSA9IHt9O1xuXHRcdGNvbnN0IHBhcmFtcyA9IHRoaXMuaW52b2NhdGlvblBhcmFtcyhvcHRpb25zKTtcblx0XHRjb25zdCBtZXNzYWdlc01hcHBlZCA9IGNvbnZlcnRNZXNzYWdlc1RvR3JvcVBhcmFtcyhtZXNzYWdlcyk7XG5cdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHRoaXMuY29tcGxldGlvbldpdGhSZXRyeSh7XG5cdFx0XHQuLi5wYXJhbXMsXG5cdFx0XHRzdHJlYW06IGZhbHNlLFxuXHRcdFx0bWVzc2FnZXM6IG1lc3NhZ2VzTWFwcGVkXG5cdFx0fSwge1xuXHRcdFx0c2lnbmFsOiBvcHRpb25zPy5zaWduYWwsXG5cdFx0XHRoZWFkZXJzOiBvcHRpb25zPy5oZWFkZXJzXG5cdFx0fSk7XG5cdFx0aWYgKFwidXNhZ2VcIiBpbiBkYXRhICYmIGRhdGEudXNhZ2UpIHtcblx0XHRcdGNvbnN0IHsgY29tcGxldGlvbl90b2tlbnM6IGNvbXBsZXRpb25Ub2tlbnMsIHByb21wdF90b2tlbnM6IHByb21wdFRva2VucywgdG90YWxfdG9rZW5zOiB0b3RhbFRva2VucyB9ID0gZGF0YS51c2FnZTtcblx0XHRcdGlmIChjb21wbGV0aW9uVG9rZW5zKSB0b2tlblVzYWdlLmNvbXBsZXRpb25Ub2tlbnMgPSAodG9rZW5Vc2FnZS5jb21wbGV0aW9uVG9rZW5zID8/IDApICsgY29tcGxldGlvblRva2Vucztcblx0XHRcdGlmIChwcm9tcHRUb2tlbnMpIHRva2VuVXNhZ2UucHJvbXB0VG9rZW5zID0gKHRva2VuVXNhZ2UucHJvbXB0VG9rZW5zID8/IDApICsgcHJvbXB0VG9rZW5zO1xuXHRcdFx0aWYgKHRvdGFsVG9rZW5zKSB0b2tlblVzYWdlLnRvdGFsVG9rZW5zID0gKHRva2VuVXNhZ2UudG90YWxUb2tlbnMgPz8gMCkgKyB0b3RhbFRva2Vucztcblx0XHR9XG5cdFx0Y29uc3QgZ2VuZXJhdGlvbnMgPSBbXTtcblx0XHRpZiAoXCJjaG9pY2VzXCIgaW4gZGF0YSAmJiBkYXRhLmNob2ljZXMpIGZvciAoY29uc3QgcGFydCBvZiBkYXRhLmNob2ljZXMpIHtcblx0XHRcdGNvbnN0IHRleHQgPSBwYXJ0Lm1lc3NhZ2U/LmNvbnRlbnQgPz8gXCJcIjtcblx0XHRcdGxldCB1c2FnZU1ldGFkYXRhO1xuXHRcdFx0aWYgKHRva2VuVXNhZ2UudG90YWxUb2tlbnMgIT09IHZvaWQgMCkgdXNhZ2VNZXRhZGF0YSA9IHtcblx0XHRcdFx0aW5wdXRfdG9rZW5zOiB0b2tlblVzYWdlLnByb21wdFRva2VucyA/PyAwLFxuXHRcdFx0XHRvdXRwdXRfdG9rZW5zOiB0b2tlblVzYWdlLmNvbXBsZXRpb25Ub2tlbnMgPz8gMCxcblx0XHRcdFx0dG90YWxfdG9rZW5zOiB0b2tlblVzYWdlLnRvdGFsVG9rZW5zXG5cdFx0XHR9O1xuXHRcdFx0Y29uc3QgeyBjaG9pY2VzOiBfY2hvaWNlcywuLi5tZXRhZGF0YSB9ID0gZGF0YTtcblx0XHRcdGNvbnN0IGdlbmVyYXRpb24gPSB7XG5cdFx0XHRcdHRleHQsXG5cdFx0XHRcdG1lc3NhZ2U6IGdyb3FSZXNwb25zZVRvQ2hhdE1lc3NhZ2UocGFydC5tZXNzYWdlID8/IHsgcm9sZTogXCJhc3Npc3RhbnRcIiB9LCB1c2FnZU1ldGFkYXRhLCBtZXRhZGF0YSlcblx0XHRcdH07XG5cdFx0XHRnZW5lcmF0aW9uLmdlbmVyYXRpb25JbmZvID0ge1xuXHRcdFx0XHQuLi5wYXJ0LmZpbmlzaF9yZWFzb24gPyB7IGZpbmlzaF9yZWFzb246IHBhcnQuZmluaXNoX3JlYXNvbiB9IDoge30sXG5cdFx0XHRcdC4uLnBhcnQubG9ncHJvYnMgPyB7IGxvZ3Byb2JzOiBwYXJ0LmxvZ3Byb2JzIH0gOiB7fVxuXHRcdFx0fTtcblx0XHRcdGdlbmVyYXRpb25zLnB1c2goZ2VuZXJhdGlvbik7XG5cdFx0fVxuXHRcdHJldHVybiB7XG5cdFx0XHRnZW5lcmF0aW9ucyxcblx0XHRcdGxsbU91dHB1dDogeyB0b2tlblVzYWdlIH1cblx0XHR9O1xuXHR9XG5cdHdpdGhTdHJ1Y3R1cmVkT3V0cHV0KG91dHB1dFNjaGVtYSwgY29uZmlnKSB7XG5cdFx0Y29uc3Qgc2NoZW1hID0gb3V0cHV0U2NoZW1hO1xuXHRcdGNvbnN0IG5hbWUgPSBjb25maWc/Lm5hbWU7XG5cdFx0Y29uc3QgbWV0aG9kID0gY29uZmlnPy5tZXRob2Q7XG5cdFx0Y29uc3QgaW5jbHVkZVJhdyA9IGNvbmZpZz8uaW5jbHVkZVJhdztcblx0XHRsZXQgZnVuY3Rpb25OYW1lID0gbmFtZSA/PyBcImV4dHJhY3RcIjtcblx0XHRsZXQgb3V0cHV0UGFyc2VyO1xuXHRcdGxldCBsbG07XG5cdFx0aWYgKG1ldGhvZCA9PT0gXCJqc29uTW9kZVwiKSB7XG5cdFx0XHRsZXQgb3V0cHV0U2NoZW1hJDE7XG5cdFx0XHRpZiAoaXNJbnRlcm9wWm9kU2NoZW1hKHNjaGVtYSkpIHtcblx0XHRcdFx0b3V0cHV0UGFyc2VyID0gU3RydWN0dXJlZE91dHB1dFBhcnNlci5mcm9tWm9kU2NoZW1hKHNjaGVtYSk7XG5cdFx0XHRcdG91dHB1dFNjaGVtYSQxID0gdG9Kc29uU2NoZW1hKHNjaGVtYSk7XG5cdFx0XHR9IGVsc2Ugb3V0cHV0UGFyc2VyID0gbmV3IEpzb25PdXRwdXRQYXJzZXIoKTtcblx0XHRcdGxsbSA9IHRoaXMud2l0aENvbmZpZyh7XG5cdFx0XHRcdHJlc3BvbnNlX2Zvcm1hdDogeyB0eXBlOiBcImpzb25fb2JqZWN0XCIgfSxcblx0XHRcdFx0bHNfc3RydWN0dXJlZF9vdXRwdXRfZm9ybWF0OiB7XG5cdFx0XHRcdFx0a3dhcmdzOiB7IG1ldGhvZDogXCJqc29uTW9kZVwiIH0sXG5cdFx0XHRcdFx0c2NoZW1hOiBvdXRwdXRTY2hlbWEkMVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9IGVsc2UgaWYgKGlzSW50ZXJvcFpvZFNjaGVtYShzY2hlbWEpKSB7XG5cdFx0XHRjb25zdCBhc0pzb25TY2hlbWEgPSB0b0pzb25TY2hlbWEoc2NoZW1hKTtcblx0XHRcdGxsbSA9IHRoaXMuYmluZFRvb2xzKFt7XG5cdFx0XHRcdHR5cGU6IFwiZnVuY3Rpb25cIixcblx0XHRcdFx0ZnVuY3Rpb246IHtcblx0XHRcdFx0XHRuYW1lOiBmdW5jdGlvbk5hbWUsXG5cdFx0XHRcdFx0ZGVzY3JpcHRpb246IGFzSnNvblNjaGVtYS5kZXNjcmlwdGlvbixcblx0XHRcdFx0XHRwYXJhbWV0ZXJzOiBhc0pzb25TY2hlbWFcblx0XHRcdFx0fVxuXHRcdFx0fV0pLndpdGhDb25maWcoe1xuXHRcdFx0XHR0b29sX2Nob2ljZToge1xuXHRcdFx0XHRcdHR5cGU6IFwiZnVuY3Rpb25cIixcblx0XHRcdFx0XHRmdW5jdGlvbjogeyBuYW1lOiBmdW5jdGlvbk5hbWUgfVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRsc19zdHJ1Y3R1cmVkX291dHB1dF9mb3JtYXQ6IHtcblx0XHRcdFx0XHRrd2FyZ3M6IHsgbWV0aG9kOiBcImZ1bmN0aW9uQ2FsbGluZ1wiIH0sXG5cdFx0XHRcdFx0c2NoZW1hOiBhc0pzb25TY2hlbWFcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRvdXRwdXRQYXJzZXIgPSBuZXcgSnNvbk91dHB1dEtleVRvb2xzUGFyc2VyKHtcblx0XHRcdFx0cmV0dXJuU2luZ2xlOiB0cnVlLFxuXHRcdFx0XHRrZXlOYW1lOiBmdW5jdGlvbk5hbWUsXG5cdFx0XHRcdHpvZFNjaGVtYTogc2NoZW1hXG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bGV0IG9wZW5BSUZ1bmN0aW9uRGVmaW5pdGlvbjtcblx0XHRcdGlmICh0eXBlb2Ygc2NoZW1hLm5hbWUgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIHNjaGVtYS5wYXJhbWV0ZXJzID09PSBcIm9iamVjdFwiICYmIHNjaGVtYS5wYXJhbWV0ZXJzICE9IG51bGwpIHtcblx0XHRcdFx0b3BlbkFJRnVuY3Rpb25EZWZpbml0aW9uID0gc2NoZW1hO1xuXHRcdFx0XHRmdW5jdGlvbk5hbWUgPSBzY2hlbWEubmFtZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZ1bmN0aW9uTmFtZSA9IHNjaGVtYS50aXRsZSA/PyBmdW5jdGlvbk5hbWU7XG5cdFx0XHRcdG9wZW5BSUZ1bmN0aW9uRGVmaW5pdGlvbiA9IHtcblx0XHRcdFx0XHRuYW1lOiBmdW5jdGlvbk5hbWUsXG5cdFx0XHRcdFx0ZGVzY3JpcHRpb246IHNjaGVtYS5kZXNjcmlwdGlvbiA/PyBcIlwiLFxuXHRcdFx0XHRcdHBhcmFtZXRlcnM6IHNjaGVtYVxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdFx0bGxtID0gdGhpcy5iaW5kVG9vbHMoW3tcblx0XHRcdFx0dHlwZTogXCJmdW5jdGlvblwiLFxuXHRcdFx0XHRmdW5jdGlvbjogb3BlbkFJRnVuY3Rpb25EZWZpbml0aW9uXG5cdFx0XHR9XSkud2l0aENvbmZpZyh7XG5cdFx0XHRcdHRvb2xfY2hvaWNlOiB7XG5cdFx0XHRcdFx0dHlwZTogXCJmdW5jdGlvblwiLFxuXHRcdFx0XHRcdGZ1bmN0aW9uOiB7IG5hbWU6IGZ1bmN0aW9uTmFtZSB9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGxzX3N0cnVjdHVyZWRfb3V0cHV0X2Zvcm1hdDoge1xuXHRcdFx0XHRcdGt3YXJnczogeyBtZXRob2Q6IFwiZnVuY3Rpb25DYWxsaW5nXCIgfSxcblx0XHRcdFx0XHRzY2hlbWFcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRvdXRwdXRQYXJzZXIgPSBuZXcgSnNvbk91dHB1dEtleVRvb2xzUGFyc2VyKHtcblx0XHRcdFx0cmV0dXJuU2luZ2xlOiB0cnVlLFxuXHRcdFx0XHRrZXlOYW1lOiBmdW5jdGlvbk5hbWVcblx0XHRcdH0pO1xuXHRcdH1cblx0XHRpZiAoIWluY2x1ZGVSYXcpIHJldHVybiBsbG0ucGlwZShvdXRwdXRQYXJzZXIpLndpdGhDb25maWcoeyBydW5OYW1lOiBcIkNoYXRHcm9xU3RydWN0dXJlZE91dHB1dFwiIH0pO1xuXHRcdGNvbnN0IHBhcnNlckFzc2lnbiA9IFJ1bm5hYmxlUGFzc3Rocm91Z2guYXNzaWduKHsgcGFyc2VkOiAoaW5wdXQsIGNvbmZpZyQxKSA9PiBvdXRwdXRQYXJzZXIuaW52b2tlKGlucHV0LnJhdywgY29uZmlnJDEpIH0pO1xuXHRcdGNvbnN0IHBhcnNlck5vbmUgPSBSdW5uYWJsZVBhc3N0aHJvdWdoLmFzc2lnbih7IHBhcnNlZDogKCkgPT4gbnVsbCB9KTtcblx0XHRjb25zdCBwYXJzZWRXaXRoRmFsbGJhY2sgPSBwYXJzZXJBc3NpZ24ud2l0aEZhbGxiYWNrcyh7IGZhbGxiYWNrczogW3BhcnNlck5vbmVdIH0pO1xuXHRcdHJldHVybiBSdW5uYWJsZVNlcXVlbmNlLmZyb20oW3sgcmF3OiBsbG0gfSwgcGFyc2VkV2l0aEZhbGxiYWNrXSkud2l0aENvbmZpZyh7IHJ1bk5hbWU6IFwiQ2hhdEdyb3FTdHJ1Y3R1cmVkT3V0cHV0XCIgfSk7XG5cdH1cbn07XG5mdW5jdGlvbiBfZm9ybWF0VG9Hcm9xVG9vbENob2ljZSh0b29sQ2hvaWNlKSB7XG5cdGlmICghdG9vbENob2ljZSkgcmV0dXJuIHZvaWQgMDtcblx0ZWxzZSBpZiAodG9vbENob2ljZSA9PT0gXCJhbnlcIiB8fCB0b29sQ2hvaWNlID09PSBcInJlcXVpcmVkXCIpIHJldHVybiBcInJlcXVpcmVkXCI7XG5cdGVsc2UgaWYgKHRvb2xDaG9pY2UgPT09IFwiYXV0b1wiKSByZXR1cm4gXCJhdXRvXCI7XG5cdGVsc2UgaWYgKHRvb2xDaG9pY2UgPT09IFwibm9uZVwiKSByZXR1cm4gXCJub25lXCI7XG5cdGVsc2UgaWYgKHR5cGVvZiB0b29sQ2hvaWNlID09PSBcInN0cmluZ1wiKSByZXR1cm4ge1xuXHRcdHR5cGU6IFwiZnVuY3Rpb25cIixcblx0XHRmdW5jdGlvbjogeyBuYW1lOiB0b29sQ2hvaWNlIH1cblx0fTtcblx0ZWxzZSByZXR1cm4gdG9vbENob2ljZTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBDaGF0R3JvcSwgbWVzc2FnZVRvR3JvcVJvbGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoYXRfbW9kZWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+groq@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76__/node_modules/@langchain/groq/dist/chat_models.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+groq@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76__/node_modules/@langchain/groq/dist/index.js":
/*!********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+groq@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76__/node_modules/@langchain/groq/dist/index.js ***!
  \********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatGroq: () => (/* reexport safe */ _chat_models_js__WEBPACK_IMPORTED_MODULE_0__.ChatGroq),\n/* harmony export */   messageToGroqRole: () => (/* reexport safe */ _chat_models_js__WEBPACK_IMPORTED_MODULE_0__.messageToGroqRole)\n/* harmony export */ });\n/* harmony import */ var _chat_models_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chat_models.js */ \"(rsc)/./node_modules/.pnpm/@langchain+groq@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76__/node_modules/@langchain/groq/dist/chat_models.js\");\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitncm9xQDEuMC4wX0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2X18vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vZ3JvcS9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUErRCIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rZ3JvcUAxLjAuMF9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl9fL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2dyb3EvZGlzdC9pbmRleC5qcz80NmEwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENoYXRHcm9xLCBtZXNzYWdlVG9Hcm9xUm9sZSB9IGZyb20gXCIuL2NoYXRfbW9kZWxzLmpzXCI7XG5cbmV4cG9ydCB7IENoYXRHcm9xLCBtZXNzYWdlVG9Hcm9xUm9sZSB9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+groq@1.0.0_@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76__/node_modules/@langchain/groq/dist/index.js\n");

/***/ })

};
;