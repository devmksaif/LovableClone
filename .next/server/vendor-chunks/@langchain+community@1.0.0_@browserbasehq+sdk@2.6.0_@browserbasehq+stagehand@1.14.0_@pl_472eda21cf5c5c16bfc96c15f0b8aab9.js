"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@langchain+community@1.0.0_@browserbasehq+sdk@2.6.0_@browserbasehq+stagehand@1.14.0_@pl_472eda21cf5c5c16bfc96c15f0b8aab9";
exports.ids = ["vendor-chunks/@langchain+community@1.0.0_@browserbasehq+sdk@2.6.0_@browserbasehq+stagehand@1.14.0_@pl_472eda21cf5c5c16bfc96c15f0b8aab9"];
exports.modules = {

/***/ "(rsc)/./node_modules/.pnpm/@langchain+community@1.0.0_@browserbasehq+sdk@2.6.0_@browserbasehq+stagehand@1.14.0_@pl_472eda21cf5c5c16bfc96c15f0b8aab9/node_modules/@langchain/community/dist/_virtual/rolldown_runtime.js":
/*!*************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+community@1.0.0_@browserbasehq+sdk@2.6.0_@browserbasehq+stagehand@1.14.0_@pl_472eda21cf5c5c16bfc96c15f0b8aab9/node_modules/@langchain/community/dist/_virtual/rolldown_runtime.js ***!
  \*************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   __commonJS: () => (/* binding */ __commonJS),\n/* harmony export */   __export: () => (/* binding */ __export),\n/* harmony export */   __reExport: () => (/* binding */ __reExport),\n/* harmony export */   __require: () => (/* binding */ __require),\n/* harmony export */   __toESM: () => (/* binding */ __toESM)\n/* harmony export */ });\n/* harmony import */ var node_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! node:module */ \"node:module\");\n\n\n//#region rolldown:runtime\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __commonJS = (cb, mod) => function() {\n\treturn mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __export = (target, all) => {\n\tfor (var name in all) __defProp(target, name, {\n\t\tget: all[name],\n\t\tenumerable: true\n\t});\n};\nvar __copyProps = (to, from, except, desc) => {\n\tif (from && typeof from === \"object\" || typeof from === \"function\") for (var keys = __getOwnPropNames(from), i = 0, n = keys.length, key; i < n; i++) {\n\t\tkey = keys[i];\n\t\tif (!__hasOwnProp.call(to, key) && key !== except) __defProp(to, key, {\n\t\t\tget: ((k) => from[k]).bind(null, key),\n\t\t\tenumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable\n\t\t});\n\t}\n\treturn to;\n};\nvar __reExport = (target, mod, secondTarget) => (__copyProps(target, mod, \"default\"), secondTarget && __copyProps(secondTarget, mod, \"default\"));\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", {\n\tvalue: mod,\n\tenumerable: true\n}) : target, mod));\nvar __require = /* @__PURE__ */ (0,node_module__WEBPACK_IMPORTED_MODULE_0__.createRequire)(\"file:///Users/Apple/Desktop/NextLovable/node_modules/.pnpm/@langchain+community@1.0.0_@browserbasehq+sdk@2.6.0_@browserbasehq+stagehand@1.14.0_@pl_472eda21cf5c5c16bfc96c15f0b8aab9/node_modules/@langchain/community/dist/_virtual/rolldown_runtime.js\");\n\n//#endregion\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb21tdW5pdHlAMS4wLjBfQGJyb3dzZXJiYXNlaHErc2RrQDIuNi4wX0Bicm93c2VyYmFzZWhxK3N0YWdlaGFuZEAxLjE0LjBfQHBsXzQ3MmVkYTIxY2Y1YzVjMTZiZmM5NmMxNWYwYjhhYWI5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvbW11bml0eS9kaXN0L192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTRDOztBQUU1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELGFBQWE7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsMklBQTJJLE9BQU87QUFDbEo7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtR0FBbUc7QUFDbkc7QUFDQTtBQUNBLENBQUM7QUFDRCxnQ0FBZ0MsMERBQWEsQ0FBQyx5UEFBZTs7QUFFN0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvbW11bml0eUAxLjAuMF9AYnJvd3NlcmJhc2VocStzZGtAMi42LjBfQGJyb3dzZXJiYXNlaHErc3RhZ2VoYW5kQDEuMTQuMF9AcGxfNDcyZWRhMjFjZjVjNWMxNmJmYzk2YzE1ZjBiOGFhYjkvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29tbXVuaXR5L2Rpc3QvX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5qcz8xNDIzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZVJlcXVpcmUgfSBmcm9tIFwibm9kZTptb2R1bGVcIjtcblxuLy8jcmVnaW9uIHJvbGxkb3duOnJ1bnRpbWVcbnZhciBfX2NyZWF0ZSA9IE9iamVjdC5jcmVhdGU7XG52YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZ2V0T3duUHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM7XG52YXIgX19nZXRQcm90b09mID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xudmFyIF9faGFzT3duUHJvcCA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19jb21tb25KUyA9IChjYiwgbW9kKSA9PiBmdW5jdGlvbigpIHtcblx0cmV0dXJuIG1vZCB8fCAoMCwgY2JbX19nZXRPd25Qcm9wTmFtZXMoY2IpWzBdXSkoKG1vZCA9IHsgZXhwb3J0czoge30gfSkuZXhwb3J0cywgbW9kKSwgbW9kLmV4cG9ydHM7XG59O1xudmFyIF9fZXhwb3J0ID0gKHRhcmdldCwgYWxsKSA9PiB7XG5cdGZvciAodmFyIG5hbWUgaW4gYWxsKSBfX2RlZlByb3AodGFyZ2V0LCBuYW1lLCB7XG5cdFx0Z2V0OiBhbGxbbmFtZV0sXG5cdFx0ZW51bWVyYWJsZTogdHJ1ZVxuXHR9KTtcbn07XG52YXIgX19jb3B5UHJvcHMgPSAodG8sIGZyb20sIGV4Y2VwdCwgZGVzYykgPT4ge1xuXHRpZiAoZnJvbSAmJiB0eXBlb2YgZnJvbSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgZnJvbSA9PT0gXCJmdW5jdGlvblwiKSBmb3IgKHZhciBrZXlzID0gX19nZXRPd25Qcm9wTmFtZXMoZnJvbSksIGkgPSAwLCBuID0ga2V5cy5sZW5ndGgsIGtleTsgaSA8IG47IGkrKykge1xuXHRcdGtleSA9IGtleXNbaV07XG5cdFx0aWYgKCFfX2hhc093blByb3AuY2FsbCh0bywga2V5KSAmJiBrZXkgIT09IGV4Y2VwdCkgX19kZWZQcm9wKHRvLCBrZXksIHtcblx0XHRcdGdldDogKChrKSA9PiBmcm9tW2tdKS5iaW5kKG51bGwsIGtleSksXG5cdFx0XHRlbnVtZXJhYmxlOiAhKGRlc2MgPSBfX2dldE93blByb3BEZXNjKGZyb20sIGtleSkpIHx8IGRlc2MuZW51bWVyYWJsZVxuXHRcdH0pO1xuXHR9XG5cdHJldHVybiB0bztcbn07XG52YXIgX19yZUV4cG9ydCA9ICh0YXJnZXQsIG1vZCwgc2Vjb25kVGFyZ2V0KSA9PiAoX19jb3B5UHJvcHModGFyZ2V0LCBtb2QsIFwiZGVmYXVsdFwiKSwgc2Vjb25kVGFyZ2V0ICYmIF9fY29weVByb3BzKHNlY29uZFRhcmdldCwgbW9kLCBcImRlZmF1bHRcIikpO1xudmFyIF9fdG9FU00gPSAobW9kLCBpc05vZGVNb2RlLCB0YXJnZXQpID0+ICh0YXJnZXQgPSBtb2QgIT0gbnVsbCA/IF9fY3JlYXRlKF9fZ2V0UHJvdG9PZihtb2QpKSA6IHt9LCBfX2NvcHlQcm9wcyhpc05vZGVNb2RlIHx8ICFtb2QgfHwgIW1vZC5fX2VzTW9kdWxlID8gX19kZWZQcm9wKHRhcmdldCwgXCJkZWZhdWx0XCIsIHtcblx0dmFsdWU6IG1vZCxcblx0ZW51bWVyYWJsZTogdHJ1ZVxufSkgOiB0YXJnZXQsIG1vZCkpO1xudmFyIF9fcmVxdWlyZSA9IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVSZXF1aXJlKGltcG9ydC5tZXRhLnVybCk7XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgX19jb21tb25KUywgX19leHBvcnQsIF9fcmVFeHBvcnQsIF9fcmVxdWlyZSwgX190b0VTTSB9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+community@1.0.0_@browserbasehq+sdk@2.6.0_@browserbasehq+stagehand@1.14.0_@pl_472eda21cf5c5c16bfc96c15f0b8aab9/node_modules/@langchain/community/dist/_virtual/rolldown_runtime.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+community@1.0.0_@browserbasehq+sdk@2.6.0_@browserbasehq+stagehand@1.14.0_@pl_472eda21cf5c5c16bfc96c15f0b8aab9/node_modules/@langchain/community/dist/vectorstores/chroma.js":
/*!*******************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+community@1.0.0_@browserbasehq+sdk@2.6.0_@browserbasehq+stagehand@1.14.0_@pl_472eda21cf5c5c16bfc96c15f0b8aab9/node_modules/@langchain/community/dist/vectorstores/chroma.js ***!
  \*******************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Chroma: () => (/* binding */ Chroma),\n/* harmony export */   chroma_exports: () => (/* binding */ chroma_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+community@1.0.0_@browserbasehq+sdk@2.6.0_@browserbasehq+stagehand@1.14.0_@pl_472eda21cf5c5c16bfc96c15f0b8aab9/node_modules/@langchain/community/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _langchain_core_documents__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @langchain/core/documents */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/documents/index.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/.pnpm/uuid@10.0.0/node_modules/uuid/dist/esm-node/v1.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/.pnpm/uuid@10.0.0/node_modules/uuid/dist/esm-node/v4.js\");\n/* harmony import */ var _langchain_core_vectorstores__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @langchain/core/vectorstores */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/vectorstores.js\");\n\n\n\n\n\n//#region src/vectorstores/chroma.ts\nvar chroma_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(chroma_exports, { Chroma: () => Chroma });\n/**\n* Chroma vector store integration.\n*\n* Setup:\n* Install `@langchain/community` and `chromadb`.\n*\n* ```bash\n* npm install @langchain/community chromadb\n* ```\n*\n* ## [Constructor args](https://api.js.langchain.com/classes/langchain_community_vectorstores_chroma.Chroma.html#constructor)\n*\n* <details open>\n* <summary><strong>Instantiate</strong></summary>\n*\n* ```typescript\n* import { Chroma } from '@langchain/community/vectorstores/chroma';\n* // Or other embeddings\n* import { OpenAIEmbeddings } from '@langchain/openai';\n*\n* const embeddings = new OpenAIEmbeddings({\n*   model: \"text-embedding-3-small\",\n* })\n*\n* const vectorStore = new Chroma(\n*   embeddings,\n*   {\n*     collectionName: \"foo\",\n*     host: \"localhost\",\n*   }\n* );\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Add documents</strong></summary>\n*\n* ```typescript\n* import type { Document } from '@langchain/core/documents';\n*\n* const document1 = { pageContent: \"foo\", metadata: { baz: \"bar\" } };\n* const document2 = { pageContent: \"thud\", metadata: { bar: \"baz\" } };\n* const document3 = { pageContent: \"I will be deleted :(\", metadata: {} };\n*\n* const documents: Document[] = [document1, document2, document3];\n* const ids = [\"1\", \"2\", \"3\"];\n* await vectorStore.addDocuments(documents, { ids });\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Delete documents</strong></summary>\n*\n* ```typescript\n* await vectorStore.delete({ ids: [\"3\"] });\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Similarity search</strong></summary>\n*\n* ```typescript\n* const results = await vectorStore.similaritySearch(\"thud\", 1);\n* for (const doc of results) {\n*   console.log(`* ${doc.pageContent} [${JSON.stringify(doc.metadata, null)}]`);\n* }\n* // Output: * thud [{\"baz\":\"bar\"}]\n* ```\n* </details>\n*\n* <br />\n*\n*\n* <details>\n* <summary><strong>Similarity search with filter</strong></summary>\n*\n* ```typescript\n* const resultsWithFilter = await vectorStore.similaritySearch(\"thud\", 1, { baz: \"bar\" });\n*\n* for (const doc of resultsWithFilter) {\n*   console.log(`* ${doc.pageContent} [${JSON.stringify(doc.metadata, null)}]`);\n* }\n* // Output: * foo [{\"baz\":\"bar\"}]\n* ```\n* </details>\n*\n* <br />\n*\n*\n* <details>\n* <summary><strong>Similarity search with score</strong></summary>\n*\n* ```typescript\n* const resultsWithScore = await vectorStore.similaritySearchWithScore(\"qux\", 1);\n* for (const [doc, score] of resultsWithScore) {\n*   console.log(`* [SIM=${score.toFixed(6)}] ${doc.pageContent} [${JSON.stringify(doc.metadata, null)}]`);\n* }\n* // Output: * [SIM=0.000000] qux [{\"bar\":\"baz\",\"baz\":\"bar\"}]\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>As a retriever</strong></summary>\n*\n* ```typescript\n* const retriever = vectorStore.asRetriever({\n*   searchType: \"mmr\", // Leave blank for standard similarity search\n*   k: 1,\n* });\n* const resultAsRetriever = await retriever.invoke(\"thud\");\n* console.log(resultAsRetriever);\n*\n* // Output: [Document({ metadata: { \"baz\":\"bar\" }, pageContent: \"thud\" })]\n* ```\n* </details>\n*\n* <br />\n*/\nvar Chroma = class Chroma extends _langchain_core_vectorstores__WEBPACK_IMPORTED_MODULE_2__.VectorStore {\n\tindex;\n\tcollection;\n\tcollectionName;\n\tcollectionMetadata;\n\tnumDimensions;\n\tclientParams;\n\turl;\n\tfilter;\n\t_vectorstoreType() {\n\t\treturn \"chroma\";\n\t}\n\tconstructor(embeddings, args) {\n\t\tsuper(embeddings, args);\n\t\tthis.numDimensions = args.numDimensions;\n\t\tthis.embeddings = embeddings;\n\t\tthis.collectionName = ensureCollectionName(args.collectionName);\n\t\tthis.collectionMetadata = args.collectionMetadata;\n\t\tthis.clientParams = args.clientParams || {};\n\t\tif (\"index\" in args) this.index = args.index;\n\t\telse if (\"url\" in args) this.url = args.url || \"http://localhost:8000\";\n\t\tif (args.chromaCloudAPIKey) this.clientParams.headers = {\n\t\t\t...this.clientParams?.headers || {},\n\t\t\t\"x-chroma-token\": args.chromaCloudAPIKey\n\t\t};\n\t\tthis.filter = args.filter;\n\t}\n\t/**\n\t* Adds documents to the Chroma database. The documents are first\n\t* converted to vectors using the `embeddings` instance, and then added to\n\t* the database.\n\t* @param documents An array of `Document` instances to be added to the database.\n\t* @param options Optional. An object containing an array of `ids` for the documents.\n\t* @returns A promise that resolves when the documents have been added to the database.\n\t*/\n\tasync addDocuments(documents, options) {\n\t\tconst texts = documents.map(({ pageContent }) => pageContent);\n\t\treturn this.addVectors(await this.embeddings.embedDocuments(texts), documents, options);\n\t}\n\t/**\n\t* Ensures that a collection exists in the Chroma database. If the\n\t* collection does not exist, it is created.\n\t* @returns A promise that resolves with the `Collection` instance.\n\t*/\n\tasync ensureCollection() {\n\t\tif (!this.collection) {\n\t\t\tif (!this.index) this.index = new (await (Chroma.imports())).ChromaClient({\n\t\t\t\tpath: this.url,\n\t\t\t\t...this.clientParams ?? {}\n\t\t\t});\n\t\t\ttry {\n\t\t\t\tthis.collection = await this.index.getOrCreateCollection({\n\t\t\t\t\tname: this.collectionName,\n\t\t\t\t\tembeddingFunction: null,\n\t\t\t\t\t...this.collectionMetadata && { metadata: this.collectionMetadata }\n\t\t\t\t});\n\t\t\t} catch (err) {\n\t\t\t\tthrow new Error(`Chroma getOrCreateCollection error: ${err}`);\n\t\t\t}\n\t\t}\n\t\treturn this.collection;\n\t}\n\t/**\n\t* Adds vectors to the Chroma database. The vectors are associated with\n\t* the provided documents.\n\t* @param vectors An array of vectors to be added to the database.\n\t* @param documents An array of `Document` instances associated with the vectors.\n\t* @param options Optional. An object containing an array of `ids` for the vectors.\n\t* @returns A promise that resolves with an array of document IDs when the vectors have been added to the database.\n\t*/\n\tasync addVectors(vectors, documents, options) {\n\t\tif (vectors.length === 0) return [];\n\t\tif (this.numDimensions === void 0) this.numDimensions = vectors[0].length;\n\t\tif (vectors.length !== documents.length) throw new Error(`Vectors and metadatas must have the same length`);\n\t\tif (vectors[0].length !== this.numDimensions) throw new Error(`Vectors must have the same length as the number of dimensions (${this.numDimensions})`);\n\t\tconst documentIds = options?.ids ?? Array.from({ length: vectors.length }, () => uuid__WEBPACK_IMPORTED_MODULE_3__[\"default\"]());\n\t\tconst collection = await this.ensureCollection();\n\t\tconst mappedMetadatas = documents.map(({ metadata }) => {\n\t\t\tlet locFrom;\n\t\t\tlet locTo;\n\t\t\tif (metadata?.loc) {\n\t\t\t\tif (metadata.loc.lines?.from !== void 0) locFrom = metadata.loc.lines.from;\n\t\t\t\tif (metadata.loc.lines?.to !== void 0) locTo = metadata.loc.lines.to;\n\t\t\t}\n\t\t\tconst newMetadata = {\n\t\t\t\t...metadata,\n\t\t\t\t...locFrom !== void 0 && { locFrom },\n\t\t\t\t...locTo !== void 0 && { locTo }\n\t\t\t};\n\t\t\tif (newMetadata.loc) delete newMetadata.loc;\n\t\t\treturn newMetadata;\n\t\t});\n\t\tawait collection.upsert({\n\t\t\tids: documentIds,\n\t\t\tembeddings: vectors,\n\t\t\tmetadatas: mappedMetadatas,\n\t\t\tdocuments: documents.map(({ pageContent }) => pageContent)\n\t\t});\n\t\treturn documentIds;\n\t}\n\t/**\n\t* Deletes documents from the Chroma database. The documents to be deleted\n\t* can be specified by providing an array of `ids` or a `filter` object.\n\t* @param params An object containing either an array of `ids` of the documents to be deleted or a `filter` object to specify the documents to be deleted.\n\t* @returns A promise that resolves when the specified documents have been deleted from the database.\n\t*/\n\tasync delete(params) {\n\t\tconst collection = await this.ensureCollection();\n\t\tif (Array.isArray(params.ids)) await collection.delete({ ids: params.ids });\n\t\telse if (params.filter) await collection.delete({ where: { ...params.filter } });\n\t\telse throw new Error(`You must provide one of \"ids or \"filter\".`);\n\t}\n\t/**\n\t* Searches for vectors in the Chroma database that are similar to the\n\t* provided query vector. The search can be filtered using the provided\n\t* `filter` object or the `filter` property of the `Chroma` instance.\n\t* @param query The query vector.\n\t* @param k The number of similar vectors to return.\n\t* @param filter Optional. A `filter` object to filter the search results.\n\t* @returns A promise that resolves with an array of tuples, each containing a `Document` instance and a similarity score.\n\t*/\n\tasync similaritySearchVectorWithScore(query, k, filter) {\n\t\tif (filter && this.filter) throw new Error(\"cannot provide both `filter` and `this.filter`\");\n\t\tconst _filter = filter ?? this.filter;\n\t\tconst where = _filter === void 0 ? void 0 : { ..._filter };\n\t\tconst collection = await this.ensureCollection();\n\t\tconst result = await collection.query({\n\t\t\tqueryEmbeddings: [query],\n\t\t\tnResults: k,\n\t\t\twhere\n\t\t});\n\t\tconst { ids, distances, documents, metadatas } = result;\n\t\tif (!ids || !distances || !documents || !metadatas) return [];\n\t\tconst [firstIds] = ids;\n\t\tconst [firstDistances] = distances;\n\t\tconst [firstDocuments] = documents;\n\t\tconst [firstMetadatas] = metadatas;\n\t\tif (firstDistances.some((item) => item === null)) return [];\n\t\tconst cleanDistances = firstDistances.filter((item) => item !== null);\n\t\tconst results = [];\n\t\tfor (let i = 0; i < firstIds.length; i += 1) {\n\t\t\tlet metadata = firstMetadatas?.[i] ?? {};\n\t\t\tif (metadata.locFrom && metadata.locTo) {\n\t\t\t\tmetadata = {\n\t\t\t\t\t...metadata,\n\t\t\t\t\tloc: { lines: {\n\t\t\t\t\t\tfrom: metadata.locFrom,\n\t\t\t\t\t\tto: metadata.locTo\n\t\t\t\t\t} }\n\t\t\t\t};\n\t\t\t\tdelete metadata.locFrom;\n\t\t\t\tdelete metadata.locTo;\n\t\t\t}\n\t\t\tresults.push([new _langchain_core_documents__WEBPACK_IMPORTED_MODULE_1__.Document({\n\t\t\t\tpageContent: firstDocuments?.[i] ?? \"\",\n\t\t\t\tmetadata,\n\t\t\t\tid: firstIds[i]\n\t\t\t}), cleanDistances[i]]);\n\t\t}\n\t\treturn results;\n\t}\n\t/**\n\t* Creates a new `Chroma` instance from an array of text strings. The text\n\t* strings are converted to `Document` instances and added to the Chroma\n\t* database.\n\t* @param texts An array of text strings.\n\t* @param metadatas An array of metadata objects or a single metadata object. If an array is provided, it must have the same length as the `texts` array.\n\t* @param embeddings An `Embeddings` instance used to generate embeddings for the documents.\n\t* @param dbConfig A `ChromaLibArgs` object containing the configuration for the Chroma database.\n\t* @returns A promise that resolves with a new `Chroma` instance.\n\t*/\n\tstatic async fromTexts(texts, metadatas, embeddings, dbConfig) {\n\t\tconst docs = [];\n\t\tfor (let i = 0; i < texts.length; i += 1) {\n\t\t\tconst metadata = Array.isArray(metadatas) ? metadatas[i] : metadatas;\n\t\t\tconst newDoc = new _langchain_core_documents__WEBPACK_IMPORTED_MODULE_1__.Document({\n\t\t\t\tpageContent: texts[i],\n\t\t\t\tmetadata\n\t\t\t});\n\t\t\tdocs.push(newDoc);\n\t\t}\n\t\treturn this.fromDocuments(docs, embeddings, dbConfig);\n\t}\n\t/**\n\t* Creates a new `Chroma` instance from an array of `Document` instances.\n\t* The documents are added to the Chroma database.\n\t* @param docs An array of `Document` instances.\n\t* @param embeddings An `Embeddings` instance used to generate embeddings for the documents.\n\t* @param dbConfig A `ChromaLibArgs` object containing the configuration for the Chroma database.\n\t* @returns A promise that resolves with a new `Chroma` instance.\n\t*/\n\tstatic async fromDocuments(docs, embeddings, dbConfig) {\n\t\tconst instance = new this(embeddings, dbConfig);\n\t\tawait instance.addDocuments(docs);\n\t\treturn instance;\n\t}\n\t/**\n\t* Creates a new `Chroma` instance from an existing collection in the\n\t* Chroma database.\n\t* @param embeddings An `Embeddings` instance used to generate embeddings for the documents.\n\t* @param dbConfig A `ChromaLibArgs` object containing the configuration for the Chroma database.\n\t* @returns A promise that resolves with a new `Chroma` instance.\n\t*/\n\tstatic async fromExistingCollection(embeddings, dbConfig) {\n\t\tconst instance = new this(embeddings, dbConfig);\n\t\tawait instance.ensureCollection();\n\t\treturn instance;\n\t}\n\t/** @ignore */\n\tstatic async imports() {\n\t\ttry {\n\t\t\tconst { ChromaClient } = await __webpack_require__.e(/*! import() */ \"vendor-chunks/chromadb@3.0.17\").then(__webpack_require__.bind(__webpack_require__, /*! chromadb */ \"(rsc)/./node_modules/.pnpm/chromadb@3.0.17/node_modules/chromadb/dist/chromadb.mjs\"));\n\t\t\treturn { ChromaClient };\n\t\t} catch {\n\t\t\tthrow new Error(\"Please install chromadb as a dependency with, e.g. `npm install -S chromadb`\");\n\t\t}\n\t}\n};\n/**\n* Generates a unique collection name if none is provided.\n*/\nfunction ensureCollectionName(collectionName) {\n\tif (!collectionName) return `langchain-${uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"]()}`;\n\treturn collectionName;\n}\n\n//#endregion\n\n//# sourceMappingURL=chroma.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb21tdW5pdHlAMS4wLjBfQGJyb3dzZXJiYXNlaHErc2RrQDIuNi4wX0Bicm93c2VyYmFzZWhxK3N0YWdlaGFuZEAxLjE0LjBfQHBsXzQ3MmVkYTIxY2Y1YzVjMTZiZmM5NmMxNWYwYjhhYWI5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvbW11bml0eS9kaXN0L3ZlY3RvcnN0b3Jlcy9jaHJvbWEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUEyRDtBQUNOO0FBQ3hCO0FBQzhCOztBQUUzRDtBQUNBO0FBQ0Esc0VBQVEsbUJBQW1CLHNCQUFzQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQjtBQUNBLFdBQVcsbUJBQW1CO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFdBQVc7QUFDM0I7QUFDQSxzQkFBc0IsZ0NBQWdDO0FBQ3RELHNCQUFzQixpQ0FBaUM7QUFDdkQsc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxLQUFLO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixZQUFZO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsaUJBQWlCLEdBQUcsbUNBQW1DO0FBQzVFO0FBQ0Esc0JBQXNCLFlBQVk7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RUFBNEUsWUFBWTtBQUN4RjtB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cEQ7QUFDQTs7QUFFQTtBQUNrQztBQUNsQyIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29tbXVuaXR5QDEuMC4wX0Bicm93c2VyYmFzZWhxK3Nka0AyLjYuMF9AYnJvd3NlcmJhc2VocStzdGFnZWhhbmRAMS4xNC4wX0BwbF80NzJlZGEyMWNmNWM1YzE2YmZjOTZjMTVmMGI4YWFiOS9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb21tdW5pdHkvZGlzdC92ZWN0b3JzdG9yZXMvY2hyb21hLmpzP2ZhZTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19leHBvcnQgfSBmcm9tIFwiLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5qc1wiO1xuaW1wb3J0IHsgRG9jdW1lbnQgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL2RvY3VtZW50c1wiO1xuaW1wb3J0ICogYXMgdXVpZCBmcm9tIFwidXVpZFwiO1xuaW1wb3J0IHsgVmVjdG9yU3RvcmUgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3ZlY3RvcnN0b3Jlc1wiO1xuXG4vLyNyZWdpb24gc3JjL3ZlY3RvcnN0b3Jlcy9jaHJvbWEudHNcbnZhciBjaHJvbWFfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQoY2hyb21hX2V4cG9ydHMsIHsgQ2hyb21hOiAoKSA9PiBDaHJvbWEgfSk7XG4vKipcbiogQ2hyb21hIHZlY3RvciBzdG9yZSBpbnRlZ3JhdGlvbi5cbipcbiogU2V0dXA6XG4qIEluc3RhbGwgYEBsYW5nY2hhaW4vY29tbXVuaXR5YCBhbmQgYGNocm9tYWRiYC5cbipcbiogYGBgYmFzaFxuKiBucG0gaW5zdGFsbCBAbGFuZ2NoYWluL2NvbW11bml0eSBjaHJvbWFkYlxuKiBgYGBcbipcbiogIyMgW0NvbnN0cnVjdG9yIGFyZ3NdKGh0dHBzOi8vYXBpLmpzLmxhbmdjaGFpbi5jb20vY2xhc3Nlcy9sYW5nY2hhaW5fY29tbXVuaXR5X3ZlY3RvcnN0b3Jlc19jaHJvbWEuQ2hyb21hLmh0bWwjY29uc3RydWN0b3IpXG4qXG4qIDxkZXRhaWxzIG9wZW4+XG4qIDxzdW1tYXJ5PjxzdHJvbmc+SW5zdGFudGlhdGU8L3N0cm9uZz48L3N1bW1hcnk+XG4qXG4qIGBgYHR5cGVzY3JpcHRcbiogaW1wb3J0IHsgQ2hyb21hIH0gZnJvbSAnQGxhbmdjaGFpbi9jb21tdW5pdHkvdmVjdG9yc3RvcmVzL2Nocm9tYSc7XG4qIC8vIE9yIG90aGVyIGVtYmVkZGluZ3NcbiogaW1wb3J0IHsgT3BlbkFJRW1iZWRkaW5ncyB9IGZyb20gJ0BsYW5nY2hhaW4vb3BlbmFpJztcbipcbiogY29uc3QgZW1iZWRkaW5ncyA9IG5ldyBPcGVuQUlFbWJlZGRpbmdzKHtcbiogICBtb2RlbDogXCJ0ZXh0LWVtYmVkZGluZy0zLXNtYWxsXCIsXG4qIH0pXG4qXG4qIGNvbnN0IHZlY3RvclN0b3JlID0gbmV3IENocm9tYShcbiogICBlbWJlZGRpbmdzLFxuKiAgIHtcbiogICAgIGNvbGxlY3Rpb25OYW1lOiBcImZvb1wiLFxuKiAgICAgaG9zdDogXCJsb2NhbGhvc3RcIixcbiogICB9XG4qICk7XG4qIGBgYFxuKiA8L2RldGFpbHM+XG4qXG4qIDxiciAvPlxuKlxuKiA8ZGV0YWlscz5cbiogPHN1bW1hcnk+PHN0cm9uZz5BZGQgZG9jdW1lbnRzPC9zdHJvbmc+PC9zdW1tYXJ5PlxuKlxuKiBgYGB0eXBlc2NyaXB0XG4qIGltcG9ydCB0eXBlIHsgRG9jdW1lbnQgfSBmcm9tICdAbGFuZ2NoYWluL2NvcmUvZG9jdW1lbnRzJztcbipcbiogY29uc3QgZG9jdW1lbnQxID0geyBwYWdlQ29udGVudDogXCJmb29cIiwgbWV0YWRhdGE6IHsgYmF6OiBcImJhclwiIH0gfTtcbiogY29uc3QgZG9jdW1lbnQyID0geyBwYWdlQ29udGVudDogXCJ0aHVkXCIsIG1ldGFkYXRhOiB7IGJhcjogXCJiYXpcIiB9IH07XG4qIGNvbnN0IGRvY3VtZW50MyA9IHsgcGFnZUNvbnRlbnQ6IFwiSSB3aWxsIGJlIGRlbGV0ZWQgOihcIiwgbWV0YWRhdGE6IHt9IH07XG4qXG4qIGNvbnN0IGRvY3VtZW50czogRG9jdW1lbnRbXSA9IFtkb2N1bWVudDEsIGRvY3VtZW50MiwgZG9jdW1lbnQzXTtcbiogY29uc3QgaWRzID0gW1wiMVwiLCBcIjJcIiwgXCIzXCJdO1xuKiBhd2FpdCB2ZWN0b3JTdG9yZS5hZGREb2N1bWVudHMoZG9jdW1lbnRzLCB7IGlkcyB9KTtcbiogYGBgXG4qIDwvZGV0YWlscz5cbipcbiogPGJyIC8+XG4qXG4qIDxkZXRhaWxzPlxuKiA8c3VtbWFyeT48c3Ryb25nPkRlbGV0ZSBkb2N1bWVudHM8L3N0cm9uZz48L3N1bW1hcnk+XG4qXG4qIGBgYHR5cGVzY3JpcHRcbiogYXdhaXQgdmVjdG9yU3RvcmUuZGVsZXRlKHsgaWRzOiBbXCIzXCJdIH0pO1xuKiBgYGBcbiogPC9kZXRhaWxzPlxuKlxuKiA8YnIgLz5cbipcbiogPGRldGFpbHM+XG4qIDxzdW1tYXJ5PjxzdHJvbmc+U2ltaWxhcml0eSBzZWFyY2g8L3N0cm9uZz48L3N1bW1hcnk+XG4qXG4qIGBgYHR5cGVzY3JpcHRcbiogY29uc3QgcmVzdWx0cyA9IGF3YWl0IHZlY3RvclN0b3JlLnNpbWlsYXJpdHlTZWFyY2goXCJ0aHVkXCIsIDEpO1xuKiBmb3IgKGNvbnN0IGRvYyBvZiByZXN1bHRzKSB7XG4qICAgY29uc29sZS5sb2coYCogJHtkb2MucGFnZUNvbnRlbnR9IFske0pTT04uc3RyaW5naWZ5KGRvYy5tZXRhZGF0YSwgbnVsbCl9XWApO1xuKiB9XG4qIC8vIE91dHB1dDogKiB0aHVkIFt7XCJiYXpcIjpcImJhclwifV1cbiogYGBgXG4qIDwvZGV0YWlscz5cbipcbiogPGJyIC8+XG4qXG4qXG4qIDxkZXRhaWxzPlxuKiA8c3VtbWFyeT48c3Ryb25nPlNpbWlsYXJpdHkgc2VhcmNoIHdpdGggZmlsdGVyPC9zdHJvbmc+PC9zdW1tYXJ5PlxuKlxuKiBgYGB0eXBlc2NyaXB0XG4qIGNvbnN0IHJlc3VsdHNXaXRoRmlsdGVyID0gYXdhaXQgdmVjdG9yU3RvcmUuc2ltaWxhcml0eVNlYXJjaChcInRodWRcIiwgMSwgeyBiYXo6IFwiYmFyXCIgfSk7XG4qXG4qIGZvciAoY29uc3QgZG9jIG9mIHJlc3VsdHNXaXRoRmlsdGVyKSB7XG4qICAgY29uc29sZS5sb2coYCogJHtkb2MucGFnZUNvbnRlbnR9IFske0pTT04uc3RyaW5naWZ5KGRvYy5tZXRhZGF0YSwgbnVsbCl9XWApO1xuKiB9XG4qIC8vIE91dHB1dDogKiBmb28gW3tcImJhelwiOlwiYmFyXCJ9XVxuKiBgYGBcbiogPC9kZXRhaWxzPlxuKlxuKiA8YnIgLz5cbipcbipcbiogPGRldGFpbHM+XG4qIDxzdW1tYXJ5PjxzdHJvbmc+U2ltaWxhcml0eSBzZWFyY2ggd2l0aCBzY29yZTwvc3Ryb25nPjwvc3VtbWFyeT5cbipcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCByZXN1bHRzV2l0aFNjb3JlID0gYXdhaXQgdmVjdG9yU3RvcmUuc2ltaWxhcml0eVNlYXJjaFdpdGhTY29yZShcInF1eFwiLCAxKTtcbiogZm9yIChjb25zdCBbZG9jLCBzY29yZV0gb2YgcmVzdWx0c1dpdGhTY29yZSkge1xuKiAgIGNvbnNvbGUubG9nKGAqIFtTSU09JHtzY29yZS50b0ZpeGVkKDYpfV0gJHtkb2MucGFnZUNvbnRlbnR9IFske0pTT04uc3RyaW5naWZ5KGRvYy5tZXRhZGF0YSwgbnVsbCl9XWApO1xuKiB9XG4qIC8vIE91dHB1dDogKiBbU0lNPTAuMDAwMDAwXSBxdXggW3tcImJhclwiOlwiYmF6XCIsXCJiYXpcIjpcImJhclwifV1cbiogYGBgXG4qIDwvZGV0YWlscz5cbipcbiogPGJyIC8+XG4qXG4qIDxkZXRhaWxzPlxuKiA8c3VtbWFyeT48c3Ryb25nPkFzIGEgcmV0cmlldmVyPC9zdHJvbmc+PC9zdW1tYXJ5PlxuKlxuKiBgYGB0eXBlc2NyaXB0XG4qIGNvbnN0IHJldHJpZXZlciA9IHZlY3RvclN0b3JlLmFzUmV0cmlldmVyKHtcbiogICBzZWFyY2hUeXBlOiBcIm1tclwiLCAvLyBMZWF2ZSBibGFuayBmb3Igc3RhbmRhcmQgc2ltaWxhcml0eSBzZWFyY2hcbiogICBrOiAxLFxuKiB9KTtcbiogY29uc3QgcmVzdWx0QXNSZXRyaWV2ZXIgPSBhd2FpdCByZXRyaWV2ZXIuaW52b2tlKFwidGh1ZFwiKTtcbiogY29uc29sZS5sb2cocmVzdWx0QXNSZXRyaWV2ZXIpO1xuKlxuKiAvLyBPdXRwdXQ6IFtEb2N1bWVudCh7IG1ldGFkYXRhOiB7IFwiYmF6XCI6XCJiYXJcIiB9LCBwYWdlQ29udGVudDogXCJ0aHVkXCIgfSldXG4qIGBgYFxuKiA8L2RldGFpbHM+XG4qXG4qIDxiciAvPlxuKi9cbnZhciBDaHJvbWEgPSBjbGFzcyBDaHJvbWEgZXh0ZW5kcyBWZWN0b3JTdG9yZSB7XG5cdGluZGV4O1xuXHRjb2xsZWN0aW9uO1xuXHRjb2xsZWN0aW9uTmFtZTtcblx0Y29sbGVjdGlvbk1ldGFkYXRhO1xuXHRudW1EaW1lbnNpb25zO1xuXHRjbGllbnRQYXJhbXM7XG5cdHVybDtcblx0ZmlsdGVyO1xuXHRfdmVjdG9yc3RvcmVUeXBlKCkge1xuXHRcdHJldHVybiBcImNocm9tYVwiO1xuXHR9XG5cdGNvbnN0cnVjdG9yKGVtYmVkZGluZ3MsIGFyZ3MpIHtcblx0XHRzdXBlcihlbWJlZGRpbmdzLCBhcmdzKTtcblx0XHR0aGlzLm51bURpbWVuc2lvbnMgPSBhcmdzLm51bURpbWVuc2lvbnM7XG5cdFx0dGhpcy5lbWJlZGRpbmdzID0gZW1iZWRkaW5ncztcblx0XHR0aGlzLmNvbGxlY3Rpb25OYW1lID0gZW5zdXJlQ29sbGVjdGlvbk5hbWUoYXJncy5jb2xsZWN0aW9uTmFtZSk7XG5cdFx0dGhpcy5jb2xsZWN0aW9uTWV0YWRhdGEgPSBhcmdzLmNvbGxlY3Rpb25NZXRhZGF0YTtcblx0XHR0aGlzLmNsaWVudFBhcmFtcyA9IGFyZ3MuY2xpZW50UGFyYW1zIHx8IHt9O1xuXHRcdGlmIChcImluZGV4XCIgaW4gYXJncykgdGhpcy5pbmRleCA9IGFyZ3MuaW5kZXg7XG5cdFx0ZWxzZSBpZiAoXCJ1cmxcIiBpbiBhcmdzKSB0aGlzLnVybCA9IGFyZ3MudXJsIHx8IFwiaHR0cDovL2xvY2FsaG9zdDo4MDAwXCI7XG5cdFx0aWYgKGFyZ3MuY2hyb21hQ2xvdWRBUElLZXkpIHRoaXMuY2xpZW50UGFyYW1zLmhlYWRlcnMgPSB7XG5cdFx0XHQuLi50aGlzLmNsaWVudFBhcmFtcz8uaGVhZGVycyB8fCB7fSxcblx0XHRcdFwieC1jaHJvbWEtdG9rZW5cIjogYXJncy5jaHJvbWFDbG91ZEFQSUtleVxuXHRcdH07XG5cdFx0dGhpcy5maWx0ZXIgPSBhcmdzLmZpbHRlcjtcblx0fVxuXHQvKipcblx0KiBBZGRzIGRvY3VtZW50cyB0byB0aGUgQ2hyb21hIGRhdGFiYXNlLiBUaGUgZG9jdW1lbnRzIGFyZSBmaXJzdFxuXHQqIGNvbnZlcnRlZCB0byB2ZWN0b3JzIHVzaW5nIHRoZSBgZW1iZWRkaW5nc2AgaW5zdGFuY2UsIGFuZCB0aGVuIGFkZGVkIHRvXG5cdCogdGhlIGRhdGFiYXNlLlxuXHQqIEBwYXJhbSBkb2N1bWVudHMgQW4gYXJyYXkgb2YgYERvY3VtZW50YCBpbnN0YW5jZXMgdG8gYmUgYWRkZWQgdG8gdGhlIGRhdGFiYXNlLlxuXHQqIEBwYXJhbSBvcHRpb25zIE9wdGlvbmFsLiBBbiBvYmplY3QgY29udGFpbmluZyBhbiBhcnJheSBvZiBgaWRzYCBmb3IgdGhlIGRvY3VtZW50cy5cblx0KiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBkb2N1bWVudHMgaGF2ZSBiZWVuIGFkZGVkIHRvIHRoZSBkYXRhYmFzZS5cblx0Ki9cblx0YXN5bmMgYWRkRG9jdW1lbnRzKGRvY3VtZW50cywgb3B0aW9ucykge1xuXHRcdGNvbnN0IHRleHRzID0gZG9jdW1lbnRzLm1hcCgoeyBwYWdlQ29udGVudCB9KSA9PiBwYWdlQ29udGVudCk7XG5cdFx0cmV0dXJuIHRoaXMuYWRkVmVjdG9ycyhhd2FpdCB0aGlzLmVtYmVkZGluZ3MuZW1iZWREb2N1bWVudHModGV4dHMpLCBkb2N1bWVudHMsIG9wdGlvbnMpO1xuXHR9XG5cdC8qKlxuXHQqIEVuc3VyZXMgdGhhdCBhIGNvbGxlY3Rpb24gZXhpc3RzIGluIHRoZSBDaHJvbWEgZGF0YWJhc2UuIElmIHRoZVxuXHQqIGNvbGxlY3Rpb24gZG9lcyBub3QgZXhpc3QsIGl0IGlzIGNyZWF0ZWQuXG5cdCogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgYENvbGxlY3Rpb25gIGluc3RhbmNlLlxuXHQqL1xuXHRhc3luYyBlbnN1cmVDb2xsZWN0aW9uKCkge1xuXHRcdGlmICghdGhpcy5jb2xsZWN0aW9uKSB7XG5cdFx0XHRpZiAoIXRoaXMuaW5kZXgpIHRoaXMuaW5kZXggPSBuZXcgKGF3YWl0IChDaHJvbWEuaW1wb3J0cygpKSkuQ2hyb21hQ2xpZW50KHtcblx0XHRcdFx0cGF0aDogdGhpcy51cmwsXG5cdFx0XHRcdC4uLnRoaXMuY2xpZW50UGFyYW1zID8/IHt9XG5cdFx0XHR9KTtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHRoaXMuY29sbGVjdGlvbiA9IGF3YWl0IHRoaXMuaW5kZXguZ2V0T3JDcmVhdGVDb2xsZWN0aW9uKHtcblx0XHRcdFx0XHRuYW1lOiB0aGlzLmNvbGxlY3Rpb25OYW1lLFxuXHRcdFx0XHRcdGVtYmVkZGluZ0Z1bmN0aW9uOiBudWxsLFxuXHRcdFx0XHRcdC4uLnRoaXMuY29sbGVjdGlvbk1ldGFkYXRhICYmIHsgbWV0YWRhdGE6IHRoaXMuY29sbGVjdGlvbk1ldGFkYXRhIH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBDaHJvbWEgZ2V0T3JDcmVhdGVDb2xsZWN0aW9uIGVycm9yOiAke2Vycn1gKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuY29sbGVjdGlvbjtcblx0fVxuXHQvKipcblx0KiBBZGRzIHZlY3RvcnMgdG8gdGhlIENocm9tYSBkYXRhYmFzZS4gVGhlIHZlY3RvcnMgYXJlIGFzc29jaWF0ZWQgd2l0aFxuXHQqIHRoZSBwcm92aWRlZCBkb2N1bWVudHMuXG5cdCogQHBhcmFtIHZlY3RvcnMgQW4gYXJyYXkgb2YgdmVjdG9ycyB0byBiZSBhZGRlZCB0byB0aGUgZGF0YWJhc2UuXG5cdCogQHBhcmFtIGRvY3VtZW50cyBBbiBhcnJheSBvZiBgRG9jdW1lbnRgIGluc3RhbmNlcyBhc3NvY2lhdGVkIHdpdGggdGhlIHZlY3RvcnMuXG5cdCogQHBhcmFtIG9wdGlvbnMgT3B0aW9uYWwuIEFuIG9iamVjdCBjb250YWluaW5nIGFuIGFycmF5IG9mIGBpZHNgIGZvciB0aGUgdmVjdG9ycy5cblx0KiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIGFuIGFycmF5IG9mIGRvY3VtZW50IElEcyB3aGVuIHRoZSB2ZWN0b3JzIGhhdmUgYmVlbiBhZGRlZCB0byB0aGUgZGF0YWJhc2UuXG5cdCovXG5cdGFzeW5jIGFkZFZlY3RvcnModmVjdG9ycywgZG9jdW1lbnRzLCBvcHRpb25zKSB7XG5cdFx0aWYgKHZlY3RvcnMubGVuZ3RoID09PSAwKSByZXR1cm4gW107XG5cdFx0aWYgKHRoaXMubnVtRGltZW5zaW9ucyA9PT0gdm9pZCAwKSB0aGlzLm51bURpbWVuc2lvbnMgPSB2ZWN0b3JzWzBdLmxlbmd0aDtcblx0XHRpZiAodmVjdG9ycy5sZW5ndGggIT09IGRvY3VtZW50cy5sZW5ndGgpIHRocm93IG5ldyBFcnJvcihgVmVjdG9ycyBhbmQgbWV0YWRhdGFzIG11c3QgaGF2ZSB0aGUgc2FtZSBsZW5ndGhgKTtcblx0XHRpZiAodmVjdG9yc1swXS5sZW5ndGggIT09IHRoaXMubnVtRGltZW5zaW9ucykgdGhyb3cgbmV3IEVycm9yKGBWZWN0b3JzIG11c3QgaGF2ZSB0aGUgc2FtZSBsZW5ndGggYXMgdGhlIG51bWJlciBvZiBkaW1lbnNpb25zICgke3RoaXMubnVtRGltZW5zaW9uc30pYCk7XG5cdFx0Y29uc3QgZG9jdW1lbnRJZHMgPSBvcHRpb25zPy5pZHMgPz8gQXJyYXkuZnJvbSh7IGxlbmd0aDogdmVjdG9ycy5sZW5ndGggfSwgKCkgPT4gdXVpZC52MSgpKTtcblx0XHRjb25zdCBjb2xsZWN0aW9uID0gYXdhaXQgdGhpcy5lbnN1cmVDb2xsZWN0aW9uKCk7XG5cdFx0Y29uc3QgbWFwcGVkTWV0YWRhdGFzID0gZG9jdW1lbnRzLm1hcCgoeyBtZXRhZGF0YSB9KSA9PiB7XG5cdFx0XHRsZXQgbG9jRnJvbTtcblx0XHRcdGxldCBsb2NUbztcblx0XHRcdGlmIChtZXRhZGF0YT8ubG9jKSB7XG5cdFx0XHRcdGlmIChtZXRhZGF0YS5sb2MubGluZXM/LmZyb20gIT09IHZvaWQgMCkgbG9jRnJvbSA9IG1ldGFkYXRhLmxvYy5saW5lcy5mcm9tO1xuXHRcdFx0XHRpZiAobWV0YWRhdGEubG9jLmxpbmVzPy50byAhPT0gdm9pZCAwKSBsb2NUbyA9IG1ldGFkYXRhLmxvYy5saW5lcy50bztcblx0XHRcdH1cblx0XHRcdGNvbnN0IG5ld01ldGFkYXRhID0ge1xuXHRcdFx0XHQuLi5tZXRhZGF0YSxcblx0XHRcdFx0Li4ubG9jRnJvbSAhPT0gdm9pZCAwICYmIHsgbG9jRnJvbSB9LFxuXHRcdFx0XHQuLi5sb2NUbyAhPT0gdm9pZCAwICYmIHsgbG9jVG8gfVxuXHRcdFx0fTtcblx0XHRcdGlmIChuZXdNZXRhZGF0YS5sb2MpIGRlbGV0ZSBuZXdNZXRhZGF0YS5sb2M7XG5cdFx0XHRyZXR1cm4gbmV3TWV0YWRhdGE7XG5cdFx0fSk7XG5cdFx0YXdhaXQgY29sbGVjdGlvbi51cHNlcnQoe1xuXHRcdFx0aWRzOiBkb2N1bWVudElkcyxcblx0XHRcdGVtYmVkZGluZ3M6IHZlY3RvcnMsXG5cdFx0XHRtZXRhZGF0YXM6IG1hcHBlZE1ldGFkYXRhcyxcblx0XHRcdGRvY3VtZW50czogZG9jdW1lbnRzLm1hcCgoeyBwYWdlQ29udGVudCB9KSA9PiBwYWdlQ29udGVudClcblx0XHR9KTtcblx0XHRyZXR1cm4gZG9jdW1lbnRJZHM7XG5cdH1cblx0LyoqXG5cdCogRGVsZXRlcyBkb2N1bWVudHMgZnJvbSB0aGUgQ2hyb21hIGRhdGFiYXNlLiBUaGUgZG9jdW1lbnRzIHRvIGJlIGRlbGV0ZWRcblx0KiBjYW4gYmUgc3BlY2lmaWVkIGJ5IHByb3ZpZGluZyBhbiBhcnJheSBvZiBgaWRzYCBvciBhIGBmaWx0ZXJgIG9iamVjdC5cblx0KiBAcGFyYW0gcGFyYW1zIEFuIG9iamVjdCBjb250YWluaW5nIGVpdGhlciBhbiBhcnJheSBvZiBgaWRzYCBvZiB0aGUgZG9jdW1lbnRzIHRvIGJlIGRlbGV0ZWQgb3IgYSBgZmlsdGVyYCBvYmplY3QgdG8gc3BlY2lmeSB0aGUgZG9jdW1lbnRzIHRvIGJlIGRlbGV0ZWQuXG5cdCogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgc3BlY2lmaWVkIGRvY3VtZW50cyBoYXZlIGJlZW4gZGVsZXRlZCBmcm9tIHRoZSBkYXRhYmFzZS5cblx0Ki9cblx0YXN5bmMgZGVsZXRlKHBhcmFtcykge1xuXHRcdGNvbnN0IGNvbGxlY3Rpb24gPSBhd2FpdCB0aGlzLmVuc3VyZUNvbGxlY3Rpb24oKTtcblx0XHRpZiAoQXJyYXkuaXNBcnJheShwYXJhbXMuaWRzKSkgYXdhaXQgY29sbGVjdGlvbi5kZWxldGUoeyBpZHM6IHBhcmFtcy5pZHMgfSk7XG5cdFx0ZWxzZSBpZiAocGFyYW1zLmZpbHRlcikgYXdhaXQgY29sbGVjdGlvbi5kZWxldGUoeyB3aGVyZTogeyAuLi5wYXJhbXMuZmlsdGVyIH0gfSk7XG5cdFx0ZWxzZSB0aHJvdyBuZXcgRXJyb3IoYFlvdSBtdXN0IHByb3ZpZGUgb25lIG9mIFwiaWRzIG9yIFwiZmlsdGVyXCIuYCk7XG5cdH1cblx0LyoqXG5cdCogU2VhcmNoZXMgZm9yIHZlY3RvcnMgaW4gdGhlIENocm9tYSBkYXRhYmFzZSB0aGF0IGFyZSBzaW1pbGFyIHRvIHRoZVxuXHQqIHByb3ZpZGVkIHF1ZXJ5IHZlY3Rvci4gVGhlIHNlYXJjaCBjYW4gYmUgZmlsdGVyZWQgdXNpbmcgdGhlIHByb3ZpZGVkXG5cdCogYGZpbHRlcmAgb2JqZWN0IG9yIHRoZSBgZmlsdGVyYCBwcm9wZXJ0eSBvZiB0aGUgYENocm9tYWAgaW5zdGFuY2UuXG5cdCogQHBhcmFtIHF1ZXJ5IFRoZSBxdWVyeSB2ZWN0b3IuXG5cdCogQHBhcmFtIGsgVGhlIG51bWJlciBvZiBzaW1pbGFyIHZlY3RvcnMgdG8gcmV0dXJuLlxuXHQqIEBwYXJhbSBmaWx0ZXIgT3B0aW9uYWwuIEEgYGZpbHRlcmAgb2JqZWN0IHRvIGZpbHRlciB0aGUgc2VhcmNoIHJlc3VsdHMuXG5cdCogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCBhbiBhcnJheSBvZiB0dXBsZXMsIGVhY2ggY29udGFpbmluZyBhIGBEb2N1bWVudGAgaW5zdGFuY2UgYW5kIGEgc2ltaWxhcml0eSBzY29yZS5cblx0Ki9cblx0YXN5bmMgc2ltaWxhcml0eVNlYXJjaFZlY3RvcldpdGhTY29yZShxdWVyeSwgaywgZmlsdGVyKSB7XG5cdFx0aWYgKGZpbHRlciAmJiB0aGlzLmZpbHRlcikgdGhyb3cgbmV3IEVycm9yKFwiY2Fubm90IHByb3ZpZGUgYm90aCBgZmlsdGVyYCBhbmQgYHRoaXMuZmlsdGVyYFwiKTtcblx0XHRjb25zdCBfZmlsdGVyID0gZmlsdGVyID8/IHRoaXMuZmlsdGVyO1xuXHRcdGNvbnN0IHdoZXJlID0gX2ZpbHRlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogeyAuLi5fZmlsdGVyIH07XG5cdFx0Y29uc3QgY29sbGVjdGlvbiA9IGF3YWl0IHRoaXMuZW5zdXJlQ29sbGVjdGlvbigpO1xuXHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbGxlY3Rpb24ucXVlcnkoe1xuXHRcdFx0cXVlcnlFbWJlZGRpbmdzOiBbcXVlcnldLFxuXHRcdFx0blJlc3VsdHM6IGssXG5cdFx0XHR3aGVyZVxuXHRcdH0pO1xuXHRcdGNvbnN0IHsgaWRzLCBkaXN0YW5jZXMsIGRvY3VtZW50cywgbWV0YWRhdGFzIH0gPSByZXN1bHQ7XG5cdFx0aWYgKCFpZHMgfHwgIWRpc3RhbmNlcyB8fCAhZG9jdW1lbnRzIHx8ICFtZXRhZGF0YXMpIHJldHVybiBbXTtcblx0XHRjb25zdCBbZmlyc3RJZHNdID0gaWRzO1xuXHRcdGNvbnN0IFtmaXJzdERpc3RhbmNlc10gPSBkaXN0YW5jZXM7XG5cdFx0Y29uc3QgW2ZpcnN0RG9jdW1lbnRzXSA9IGRvY3VtZW50cztcblx0XHRjb25zdCBbZmlyc3RNZXRhZGF0YXNdID0gbWV0YWRhdGFzO1xuXHRcdGlmIChmaXJzdERpc3RhbmNlcy5zb21lKChpdGVtKSA9PiBpdGVtID09PSBudWxsKSkgcmV0dXJuIFtdO1xuXHRcdGNvbnN0IGNsZWFuRGlzdGFuY2VzID0gZmlyc3REaXN0YW5jZXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtICE9PSBudWxsKTtcblx0XHRjb25zdCByZXN1bHRzID0gW107XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBmaXJzdElkcy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0bGV0IG1ldGFkYXRhID0gZmlyc3RNZXRhZGF0YXM/LltpXSA/PyB7fTtcblx0XHRcdGlmIChtZXRhZGF0YS5sb2NGcm9tICYmIG1ldGFkYXRhLmxvY1RvKSB7XG5cdFx0XHRcdG1ldGFkYXRhID0ge1xuXHRcdFx0XHRcdC4uLm1ldGFkYXRhLFxuXHRcdFx0XHRcdGxvYzogeyBsaW5lczoge1xuXHRcdFx0XHRcdFx0ZnJvbTogbWV0YWRhdGEubG9jRnJvbSxcblx0XHRcdFx0XHRcdHRvOiBtZXRhZGF0YS5sb2NUb1xuXHRcdFx0XHRcdH0gfVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRkZWxldGUgbWV0YWRhdGEubG9jRnJvbTtcblx0XHRcdFx0ZGVsZXRlIG1ldGFkYXRhLmxvY1RvO1xuXHRcdFx0fVxuXHRcdFx0cmVzdWx0cy5wdXNoKFtuZXcgRG9jdW1lbnQoe1xuXHRcdFx0XHRwYWdlQ29udGVudDogZmlyc3REb2N1bWVudHM/LltpXSA/PyBcIlwiLFxuXHRcdFx0XHRtZXRhZGF0YSxcblx0XHRcdFx0aWQ6IGZpcnN0SWRzW2ldXG5cdFx0XHR9KSwgY2xlYW5EaXN0YW5jZXNbaV1dKTtcblx0XHR9XG5cdFx0cmV0dXJuIHJlc3VsdHM7XG5cdH1cblx0LyoqXG5cdCogQ3JlYXRlcyBhIG5ldyBgQ2hyb21hYCBpbnN0YW5jZSBmcm9tIGFuIGFycmF5IG9mIHRleHQgc3RyaW5ncy4gVGhlIHRleHRcblx0KiBzdHJpbmdzIGFyZSBjb252ZXJ0ZWQgdG8gYERvY3VtZW50YCBpbnN0YW5jZXMgYW5kIGFkZGVkIHRvIHRoZSBDaHJvbWFcblx0KiBkYXRhYmFzZS5cblx0KiBAcGFyYW0gdGV4dHMgQW4gYXJyYXkgb2YgdGV4dCBzdHJpbmdzLlxuXHQqIEBwYXJhbSBtZXRhZGF0YXMgQW4gYXJyYXkgb2YgbWV0YWRhdGEgb2JqZWN0cyBvciBhIHNpbmdsZSBtZXRhZGF0YSBvYmplY3QuIElmIGFuIGFycmF5IGlzIHByb3ZpZGVkLCBpdCBtdXN0IGhhdmUgdGhlIHNhbWUgbGVuZ3RoIGFzIHRoZSBgdGV4dHNgIGFycmF5LlxuXHQqIEBwYXJhbSBlbWJlZGRpbmdzIEFuIGBFbWJlZGRpbmdzYCBpbnN0YW5jZSB1c2VkIHRvIGdlbmVyYXRlIGVtYmVkZGluZ3MgZm9yIHRoZSBkb2N1bWVudHMuXG5cdCogQHBhcmFtIGRiQ29uZmlnIEEgYENocm9tYUxpYkFyZ3NgIG9iamVjdCBjb250YWluaW5nIHRoZSBjb25maWd1cmF0aW9uIGZvciB0aGUgQ2hyb21hIGRhdGFiYXNlLlxuXHQqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggYSBuZXcgYENocm9tYWAgaW5zdGFuY2UuXG5cdCovXG5cdHN0YXRpYyBhc3luYyBmcm9tVGV4dHModGV4dHMsIG1ldGFkYXRhcywgZW1iZWRkaW5ncywgZGJDb25maWcpIHtcblx0XHRjb25zdCBkb2NzID0gW107XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0ZXh0cy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0Y29uc3QgbWV0YWRhdGEgPSBBcnJheS5pc0FycmF5KG1ldGFkYXRhcykgPyBtZXRhZGF0YXNbaV0gOiBtZXRhZGF0YXM7XG5cdFx0XHRjb25zdCBuZXdEb2MgPSBuZXcgRG9jdW1lbnQoe1xuXHRcdFx0XHRwYWdlQ29udGVudDogdGV4dHNbaV0sXG5cdFx0XHRcdG1ldGFkYXRhXG5cdFx0XHR9KTtcblx0XHRcdGRvY3MucHVzaChuZXdEb2MpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5mcm9tRG9jdW1lbnRzKGRvY3MsIGVtYmVkZGluZ3MsIGRiQ29uZmlnKTtcblx0fVxuXHQvKipcblx0KiBDcmVhdGVzIGEgbmV3IGBDaHJvbWFgIGluc3RhbmNlIGZyb20gYW4gYXJyYXkgb2YgYERvY3VtZW50YCBpbnN0YW5jZXMuXG5cdCogVGhlIGRvY3VtZW50cyBhcmUgYWRkZWQgdG8gdGhlIENocm9tYSBkYXRhYmFzZS5cblx0KiBAcGFyYW0gZG9jcyBBbiBhcnJheSBvZiBgRG9jdW1lbnRgIGluc3RhbmNlcy5cblx0KiBAcGFyYW0gZW1iZWRkaW5ncyBBbiBgRW1iZWRkaW5nc2AgaW5zdGFuY2UgdXNlZCB0byBnZW5lcmF0ZSBlbWJlZGRpbmdzIGZvciB0aGUgZG9jdW1lbnRzLlxuXHQqIEBwYXJhbSBkYkNvbmZpZyBBIGBDaHJvbWFMaWJBcmdzYCBvYmplY3QgY29udGFpbmluZyB0aGUgY29uZmlndXJhdGlvbiBmb3IgdGhlIENocm9tYSBkYXRhYmFzZS5cblx0KiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIGEgbmV3IGBDaHJvbWFgIGluc3RhbmNlLlxuXHQqL1xuXHRzdGF0aWMgYXN5bmMgZnJvbURvY3VtZW50cyhkb2NzLCBlbWJlZGRpbmdzLCBkYkNvbmZpZykge1xuXHRcdGNvbnN0IGluc3RhbmNlID0gbmV3IHRoaXMoZW1iZWRkaW5ncywgZGJDb25maWcpO1xuXHRcdGF3YWl0IGluc3RhbmNlLmFkZERvY3VtZW50cyhkb2NzKTtcblx0XHRyZXR1cm4gaW5zdGFuY2U7XG5cdH1cblx0LyoqXG5cdCogQ3JlYXRlcyBhIG5ldyBgQ2hyb21hYCBpbnN0YW5jZSBmcm9tIGFuIGV4aXN0aW5nIGNvbGxlY3Rpb24gaW4gdGhlXG5cdCogQ2hyb21hIGRhdGFiYXNlLlxuXHQqIEBwYXJhbSBlbWJlZGRpbmdzIEFuIGBFbWJlZGRpbmdzYCBpbnN0YW5jZSB1c2VkIHRvIGdlbmVyYXRlIGVtYmVkZGluZ3MgZm9yIHRoZSBkb2N1bWVudHMuXG5cdCogQHBhcmFtIGRiQ29uZmlnIEEgYENocm9tYUxpYkFyZ3NgIG9iamVjdCBjb250YWluaW5nIHRoZSBjb25maWd1cmF0aW9uIGZvciB0aGUgQ2hyb21hIGRhdGFiYXNlLlxuXHQqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggYSBuZXcgYENocm9tYWAgaW5zdGFuY2UuXG5cdCovXG5cdHN0YXRpYyBhc3luYyBmcm9tRXhpc3RpbmdDb2xsZWN0aW9uKGVtYmVkZGluZ3MsIGRiQ29uZmlnKSB7XG5cdFx0Y29uc3QgaW5zdGFuY2UgPSBuZXcgdGhpcyhlbWJlZGRpbmdzLCBkYkNvbmZpZyk7XG5cdFx0YXdhaXQgaW5zdGFuY2UuZW5zdXJlQ29sbGVjdGlvbigpO1xuXHRcdHJldHVybiBpbnN0YW5jZTtcblx0fVxuXHQvKiogQGlnbm9yZSAqL1xuXHRzdGF0aWMgYXN5bmMgaW1wb3J0cygpIHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgeyBDaHJvbWFDbGllbnQgfSA9IGF3YWl0IGltcG9ydChcImNocm9tYWRiXCIpO1xuXHRcdFx0cmV0dXJuIHsgQ2hyb21hQ2xpZW50IH07XG5cdFx0fSBjYXRjaCB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJQbGVhc2UgaW5zdGFsbCBjaHJvbWFkYiBhcyBhIGRlcGVuZGVuY3kgd2l0aCwgZS5nLiBgbnBtIGluc3RhbGwgLVMgY2hyb21hZGJgXCIpO1xuXHRcdH1cblx0fVxufTtcbi8qKlxuKiBHZW5lcmF0ZXMgYSB1bmlxdWUgY29sbGVjdGlvbiBuYW1lIGlmIG5vbmUgaXMgcHJvdmlkZWQuXG4qL1xuZnVuY3Rpb24gZW5zdXJlQ29sbGVjdGlvbk5hbWUoY29sbGVjdGlvbk5hbWUpIHtcblx0aWYgKCFjb2xsZWN0aW9uTmFtZSkgcmV0dXJuIGBsYW5nY2hhaW4tJHt1dWlkLnY0KCl9YDtcblx0cmV0dXJuIGNvbGxlY3Rpb25OYW1lO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IENocm9tYSwgY2hyb21hX2V4cG9ydHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNocm9tYS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+community@1.0.0_@browserbasehq+sdk@2.6.0_@browserbasehq+stagehand@1.14.0_@pl_472eda21cf5c5c16bfc96c15f0b8aab9/node_modules/@langchain/community/dist/vectorstores/chroma.js\n");

/***/ })

};
;