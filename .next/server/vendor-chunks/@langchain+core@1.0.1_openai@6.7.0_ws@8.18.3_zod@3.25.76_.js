"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_";
exports.ids = ["vendor-chunks/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_"];
exports.modules = {

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js":
/*!*****************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js ***!
  \*****************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   __export: () => (/* binding */ __export)\n/* harmony export */ });\n//#region rolldown:runtime\nvar __defProp = Object.defineProperty;\nvar __export = (target, all) => {\n\tfor (var name in all) __defProp(target, name, {\n\t\tget: all[name],\n\t\tenumerable: true\n\t});\n};\n\n//#endregion\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuanM/NWYyMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyNyZWdpb24gcm9sbGRvd246cnVudGltZVxudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2V4cG9ydCA9ICh0YXJnZXQsIGFsbCkgPT4ge1xuXHRmb3IgKHZhciBuYW1lIGluIGFsbCkgX19kZWZQcm9wKHRhcmdldCwgbmFtZSwge1xuXHRcdGdldDogYWxsW25hbWVdLFxuXHRcdGVudW1lcmFibGU6IHRydWVcblx0fSk7XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IF9fZXhwb3J0IH07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/agents.js":
/*!**********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/agents.js ***!
  \**********************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   agents_exports: () => (/* binding */ agents_exports)\n/* harmony export */ });\n//#region src/agents.ts\nvar agents_exports = {};\n\n//#endregion\n\n//# sourceMappingURL=agents.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9hZ2VudHMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7O0FBRUE7QUFDMEI7QUFDMUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L2FnZW50cy5qcz8zNzE1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vI3JlZ2lvbiBzcmMvYWdlbnRzLnRzXG52YXIgYWdlbnRzX2V4cG9ydHMgPSB7fTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBhZ2VudHNfZXhwb3J0cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWdlbnRzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/agents.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/caches/base.js":
/*!***************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/caches/base.js ***!
  \***************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseCache: () => (/* binding */ BaseCache),\n/* harmony export */   InMemoryCache: () => (/* binding */ InMemoryCache),\n/* harmony export */   base_exports: () => (/* binding */ base_exports),\n/* harmony export */   defaultHashKeyEncoder: () => (/* binding */ defaultHashKeyEncoder),\n/* harmony export */   deserializeStoredGeneration: () => (/* binding */ deserializeStoredGeneration),\n/* harmony export */   serializeGeneration: () => (/* binding */ serializeGeneration)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _messages_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../messages/utils.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/utils.js\");\n/* harmony import */ var _utils_js_sha256_hash_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/js-sha256/hash.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/js-sha256/hash.js\");\n/* harmony import */ var _utils_hash_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/hash.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/hash.js\");\n\n\n\n\n\n//#region src/caches/base.ts\nvar base_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(base_exports, {\n\tBaseCache: () => BaseCache,\n\tInMemoryCache: () => InMemoryCache,\n\tdefaultHashKeyEncoder: () => defaultHashKeyEncoder,\n\tdeserializeStoredGeneration: () => deserializeStoredGeneration,\n\tserializeGeneration: () => serializeGeneration\n});\nconst defaultHashKeyEncoder = (...strings) => (0,_utils_js_sha256_hash_js__WEBPACK_IMPORTED_MODULE_2__.sha256)(strings.join(\"_\"));\nfunction deserializeStoredGeneration(storedGeneration) {\n\tif (storedGeneration.message !== void 0) return {\n\t\ttext: storedGeneration.text,\n\t\tmessage: (0,_messages_utils_js__WEBPACK_IMPORTED_MODULE_1__.mapStoredMessageToChatMessage)(storedGeneration.message)\n\t};\n\telse return { text: storedGeneration.text };\n}\nfunction serializeGeneration(generation) {\n\tconst serializedValue = { text: generation.text };\n\tif (generation.message !== void 0) serializedValue.message = generation.message.toDict();\n\treturn serializedValue;\n}\n/**\n* Base class for all caches. All caches should extend this class.\n*/\nvar BaseCache = class {\n\tkeyEncoder = defaultHashKeyEncoder;\n\t/**\n\t* Sets a custom key encoder function for the cache.\n\t* This function should take a prompt and an LLM key and return a string\n\t* that will be used as the cache key.\n\t* @param keyEncoderFn The custom key encoder function.\n\t*/\n\tmakeDefaultKeyEncoder(keyEncoderFn) {\n\t\tthis.keyEncoder = keyEncoderFn;\n\t}\n};\nconst GLOBAL_MAP = /* @__PURE__ */ new Map();\n/**\n* A cache for storing LLM generations that stores data in memory.\n*/\nvar InMemoryCache = class InMemoryCache extends BaseCache {\n\tcache;\n\tconstructor(map) {\n\t\tsuper();\n\t\tthis.cache = map ?? /* @__PURE__ */ new Map();\n\t}\n\t/**\n\t* Retrieves data from the cache using a prompt and an LLM key. If the\n\t* data is not found, it returns null.\n\t* @param prompt The prompt used to find the data.\n\t* @param llmKey The LLM key used to find the data.\n\t* @returns The data corresponding to the prompt and LLM key, or null if not found.\n\t*/\n\tlookup(prompt, llmKey) {\n\t\treturn Promise.resolve(this.cache.get(this.keyEncoder(prompt, llmKey)) ?? null);\n\t}\n\t/**\n\t* Updates the cache with new data using a prompt and an LLM key.\n\t* @param prompt The prompt used to store the data.\n\t* @param llmKey The LLM key used to store the data.\n\t* @param value The data to be stored.\n\t*/\n\tasync update(prompt, llmKey, value) {\n\t\tthis.cache.set(this.keyEncoder(prompt, llmKey), value);\n\t}\n\t/**\n\t* Returns a global instance of InMemoryCache using a predefined global\n\t* map as the initial cache.\n\t* @returns A global instance of InMemoryCache.\n\t*/\n\tstatic global() {\n\t\treturn new InMemoryCache(GLOBAL_MAP);\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=base.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9jYWNoZXMvYmFzZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQTJEO0FBQ1U7QUFDakI7QUFDMUI7O0FBRTFCO0FBQ0E7QUFDQSxzRUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGdFQUFNO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUZBQTZCO0FBQ3hDO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUMySDtBQUMzSCIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvY2FjaGVzL2Jhc2UuanM/Yzg1MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2V4cG9ydCB9IGZyb20gXCIuLi9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmpzXCI7XG5pbXBvcnQgeyBtYXBTdG9yZWRNZXNzYWdlVG9DaGF0TWVzc2FnZSB9IGZyb20gXCIuLi9tZXNzYWdlcy91dGlscy5qc1wiO1xuaW1wb3J0IHsgc2hhMjU2IH0gZnJvbSBcIi4uL3V0aWxzL2pzLXNoYTI1Ni9oYXNoLmpzXCI7XG5pbXBvcnQgXCIuLi91dGlscy9oYXNoLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvY2FjaGVzL2Jhc2UudHNcbnZhciBiYXNlX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KGJhc2VfZXhwb3J0cywge1xuXHRCYXNlQ2FjaGU6ICgpID0+IEJhc2VDYWNoZSxcblx0SW5NZW1vcnlDYWNoZTogKCkgPT4gSW5NZW1vcnlDYWNoZSxcblx0ZGVmYXVsdEhhc2hLZXlFbmNvZGVyOiAoKSA9PiBkZWZhdWx0SGFzaEtleUVuY29kZXIsXG5cdGRlc2VyaWFsaXplU3RvcmVkR2VuZXJhdGlvbjogKCkgPT4gZGVzZXJpYWxpemVTdG9yZWRHZW5lcmF0aW9uLFxuXHRzZXJpYWxpemVHZW5lcmF0aW9uOiAoKSA9PiBzZXJpYWxpemVHZW5lcmF0aW9uXG59KTtcbmNvbnN0IGRlZmF1bHRIYXNoS2V5RW5jb2RlciA9ICguLi5zdHJpbmdzKSA9PiBzaGEyNTYoc3RyaW5ncy5qb2luKFwiX1wiKSk7XG5mdW5jdGlvbiBkZXNlcmlhbGl6ZVN0b3JlZEdlbmVyYXRpb24oc3RvcmVkR2VuZXJhdGlvbikge1xuXHRpZiAoc3RvcmVkR2VuZXJhdGlvbi5tZXNzYWdlICE9PSB2b2lkIDApIHJldHVybiB7XG5cdFx0dGV4dDogc3RvcmVkR2VuZXJhdGlvbi50ZXh0LFxuXHRcdG1lc3NhZ2U6IG1hcFN0b3JlZE1lc3NhZ2VUb0NoYXRNZXNzYWdlKHN0b3JlZEdlbmVyYXRpb24ubWVzc2FnZSlcblx0fTtcblx0ZWxzZSByZXR1cm4geyB0ZXh0OiBzdG9yZWRHZW5lcmF0aW9uLnRleHQgfTtcbn1cbmZ1bmN0aW9uIHNlcmlhbGl6ZUdlbmVyYXRpb24oZ2VuZXJhdGlvbikge1xuXHRjb25zdCBzZXJpYWxpemVkVmFsdWUgPSB7IHRleHQ6IGdlbmVyYXRpb24udGV4dCB9O1xuXHRpZiAoZ2VuZXJhdGlvbi5tZXNzYWdlICE9PSB2b2lkIDApIHNlcmlhbGl6ZWRWYWx1ZS5tZXNzYWdlID0gZ2VuZXJhdGlvbi5tZXNzYWdlLnRvRGljdCgpO1xuXHRyZXR1cm4gc2VyaWFsaXplZFZhbHVlO1xufVxuLyoqXG4qIEJhc2UgY2xhc3MgZm9yIGFsbCBjYWNoZXMuIEFsbCBjYWNoZXMgc2hvdWxkIGV4dGVuZCB0aGlzIGNsYXNzLlxuKi9cbnZhciBCYXNlQ2FjaGUgPSBjbGFzcyB7XG5cdGtleUVuY29kZXIgPSBkZWZhdWx0SGFzaEtleUVuY29kZXI7XG5cdC8qKlxuXHQqIFNldHMgYSBjdXN0b20ga2V5IGVuY29kZXIgZnVuY3Rpb24gZm9yIHRoZSBjYWNoZS5cblx0KiBUaGlzIGZ1bmN0aW9uIHNob3VsZCB0YWtlIGEgcHJvbXB0IGFuZCBhbiBMTE0ga2V5IGFuZCByZXR1cm4gYSBzdHJpbmdcblx0KiB0aGF0IHdpbGwgYmUgdXNlZCBhcyB0aGUgY2FjaGUga2V5LlxuXHQqIEBwYXJhbSBrZXlFbmNvZGVyRm4gVGhlIGN1c3RvbSBrZXkgZW5jb2RlciBmdW5jdGlvbi5cblx0Ki9cblx0bWFrZURlZmF1bHRLZXlFbmNvZGVyKGtleUVuY29kZXJGbikge1xuXHRcdHRoaXMua2V5RW5jb2RlciA9IGtleUVuY29kZXJGbjtcblx0fVxufTtcbmNvbnN0IEdMT0JBTF9NQVAgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuLyoqXG4qIEEgY2FjaGUgZm9yIHN0b3JpbmcgTExNIGdlbmVyYXRpb25zIHRoYXQgc3RvcmVzIGRhdGEgaW4gbWVtb3J5LlxuKi9cbnZhciBJbk1lbW9yeUNhY2hlID0gY2xhc3MgSW5NZW1vcnlDYWNoZSBleHRlbmRzIEJhc2VDYWNoZSB7XG5cdGNhY2hlO1xuXHRjb25zdHJ1Y3RvcihtYXApIHtcblx0XHRzdXBlcigpO1xuXHRcdHRoaXMuY2FjaGUgPSBtYXAgPz8gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcblx0fVxuXHQvKipcblx0KiBSZXRyaWV2ZXMgZGF0YSBmcm9tIHRoZSBjYWNoZSB1c2luZyBhIHByb21wdCBhbmQgYW4gTExNIGtleS4gSWYgdGhlXG5cdCogZGF0YSBpcyBub3QgZm91bmQsIGl0IHJldHVybnMgbnVsbC5cblx0KiBAcGFyYW0gcHJvbXB0IFRoZSBwcm9tcHQgdXNlZCB0byBmaW5kIHRoZSBkYXRhLlxuXHQqIEBwYXJhbSBsbG1LZXkgVGhlIExMTSBrZXkgdXNlZCB0byBmaW5kIHRoZSBkYXRhLlxuXHQqIEByZXR1cm5zIFRoZSBkYXRhIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHByb21wdCBhbmQgTExNIGtleSwgb3IgbnVsbCBpZiBub3QgZm91bmQuXG5cdCovXG5cdGxvb2t1cChwcm9tcHQsIGxsbUtleSkge1xuXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5jYWNoZS5nZXQodGhpcy5rZXlFbmNvZGVyKHByb21wdCwgbGxtS2V5KSkgPz8gbnVsbCk7XG5cdH1cblx0LyoqXG5cdCogVXBkYXRlcyB0aGUgY2FjaGUgd2l0aCBuZXcgZGF0YSB1c2luZyBhIHByb21wdCBhbmQgYW4gTExNIGtleS5cblx0KiBAcGFyYW0gcHJvbXB0IFRoZSBwcm9tcHQgdXNlZCB0byBzdG9yZSB0aGUgZGF0YS5cblx0KiBAcGFyYW0gbGxtS2V5IFRoZSBMTE0ga2V5IHVzZWQgdG8gc3RvcmUgdGhlIGRhdGEuXG5cdCogQHBhcmFtIHZhbHVlIFRoZSBkYXRhIHRvIGJlIHN0b3JlZC5cblx0Ki9cblx0YXN5bmMgdXBkYXRlKHByb21wdCwgbGxtS2V5LCB2YWx1ZSkge1xuXHRcdHRoaXMuY2FjaGUuc2V0KHRoaXMua2V5RW5jb2Rlcihwcm9tcHQsIGxsbUtleSksIHZhbHVlKTtcblx0fVxuXHQvKipcblx0KiBSZXR1cm5zIGEgZ2xvYmFsIGluc3RhbmNlIG9mIEluTWVtb3J5Q2FjaGUgdXNpbmcgYSBwcmVkZWZpbmVkIGdsb2JhbFxuXHQqIG1hcCBhcyB0aGUgaW5pdGlhbCBjYWNoZS5cblx0KiBAcmV0dXJucyBBIGdsb2JhbCBpbnN0YW5jZSBvZiBJbk1lbW9yeUNhY2hlLlxuXHQqL1xuXHRzdGF0aWMgZ2xvYmFsKCkge1xuXHRcdHJldHVybiBuZXcgSW5NZW1vcnlDYWNoZShHTE9CQUxfTUFQKTtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBCYXNlQ2FjaGUsIEluTWVtb3J5Q2FjaGUsIGJhc2VfZXhwb3J0cywgZGVmYXVsdEhhc2hLZXlFbmNvZGVyLCBkZXNlcmlhbGl6ZVN0b3JlZEdlbmVyYXRpb24sIHNlcmlhbGl6ZUdlbmVyYXRpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhc2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/caches/base.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/callbacks/base.js":
/*!******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/callbacks/base.js ***!
  \******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseCallbackHandler: () => (/* binding */ BaseCallbackHandler),\n/* harmony export */   base_exports: () => (/* binding */ base_exports),\n/* harmony export */   callbackHandlerPrefersStreaming: () => (/* binding */ callbackHandlerPrefersStreaming),\n/* harmony export */   isBaseCallbackHandler: () => (/* binding */ isBaseCallbackHandler)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _load_serializable_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../load/serializable.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/load/serializable.js\");\n/* harmony import */ var _utils_env_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/env.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/env.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/.pnpm/uuid@10.0.0/node_modules/uuid/dist/esm-node/v4.js\");\n\n\n\n\n\n//#region src/callbacks/base.ts\nvar base_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(base_exports, {\n\tBaseCallbackHandler: () => BaseCallbackHandler,\n\tcallbackHandlerPrefersStreaming: () => callbackHandlerPrefersStreaming,\n\tisBaseCallbackHandler: () => isBaseCallbackHandler\n});\n/**\n* Abstract class that provides a set of optional methods that can be\n* overridden in derived classes to handle various events during the\n* execution of a LangChain application.\n*/\nvar BaseCallbackHandlerMethodsClass = class {};\nfunction callbackHandlerPrefersStreaming(x) {\n\treturn \"lc_prefer_streaming\" in x && x.lc_prefer_streaming;\n}\n/**\n* Abstract base class for creating callback handlers in the LangChain\n* framework. It provides a set of optional methods that can be overridden\n* in derived classes to handle various events during the execution of a\n* LangChain application.\n*/\nvar BaseCallbackHandler = class extends BaseCallbackHandlerMethodsClass {\n\tlc_serializable = false;\n\tget lc_namespace() {\n\t\treturn [\n\t\t\t\"langchain_core\",\n\t\t\t\"callbacks\",\n\t\t\tthis.name\n\t\t];\n\t}\n\tget lc_secrets() {\n\t\treturn void 0;\n\t}\n\tget lc_attributes() {\n\t\treturn void 0;\n\t}\n\tget lc_aliases() {\n\t\treturn void 0;\n\t}\n\tget lc_serializable_keys() {\n\t\treturn void 0;\n\t}\n\t/**\n\t* The name of the serializable. Override to provide an alias or\n\t* to preserve the serialized module name in minified environments.\n\t*\n\t* Implemented as a static method to support loading logic.\n\t*/\n\tstatic lc_name() {\n\t\treturn this.name;\n\t}\n\t/**\n\t* The final serialized identifier for the module.\n\t*/\n\tget lc_id() {\n\t\treturn [...this.lc_namespace, (0,_load_serializable_js__WEBPACK_IMPORTED_MODULE_1__.get_lc_unique_name)(this.constructor)];\n\t}\n\tlc_kwargs;\n\tignoreLLM = false;\n\tignoreChain = false;\n\tignoreAgent = false;\n\tignoreRetriever = false;\n\tignoreCustomEvent = false;\n\traiseError = false;\n\tawaitHandlers = (0,_utils_env_js__WEBPACK_IMPORTED_MODULE_2__.getEnvironmentVariable)(\"LANGCHAIN_CALLBACKS_BACKGROUND\") === \"false\";\n\tconstructor(input) {\n\t\tsuper();\n\t\tthis.lc_kwargs = input || {};\n\t\tif (input) {\n\t\t\tthis.ignoreLLM = input.ignoreLLM ?? this.ignoreLLM;\n\t\t\tthis.ignoreChain = input.ignoreChain ?? this.ignoreChain;\n\t\t\tthis.ignoreAgent = input.ignoreAgent ?? this.ignoreAgent;\n\t\t\tthis.ignoreRetriever = input.ignoreRetriever ?? this.ignoreRetriever;\n\t\t\tthis.ignoreCustomEvent = input.ignoreCustomEvent ?? this.ignoreCustomEvent;\n\t\t\tthis.raiseError = input.raiseError ?? this.raiseError;\n\t\t\tthis.awaitHandlers = this.raiseError || (input._awaitHandler ?? this.awaitHandlers);\n\t\t}\n\t}\n\tcopy() {\n\t\treturn new this.constructor(this);\n\t}\n\ttoJSON() {\n\t\treturn _load_serializable_js__WEBPACK_IMPORTED_MODULE_1__.Serializable.prototype.toJSON.call(this);\n\t}\n\ttoJSONNotImplemented() {\n\t\treturn _load_serializable_js__WEBPACK_IMPORTED_MODULE_1__.Serializable.prototype.toJSONNotImplemented.call(this);\n\t}\n\tstatic fromMethods(methods) {\n\t\tclass Handler extends BaseCallbackHandler {\n\t\t\tname = uuid__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\t\t\tconstructor() {\n\t\t\t\tsuper();\n\t\t\t\tObject.assign(this, methods);\n\t\t\t}\n\t\t}\n\t\treturn new Handler();\n\t}\n};\nconst isBaseCallbackHandler = (x) => {\n\tconst callbackHandler = x;\n\treturn callbackHandler !== void 0 && typeof callbackHandler.copy === \"function\" && typeof callbackHandler.name === \"string\" && typeof callbackHandler.awaitHandlers === \"boolean\";\n};\n\n//#endregion\n\n//# sourceMappingURL=base.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9jYWxsYmFja3MvYmFzZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUEyRDtBQUNnQjtBQUNsQjtBQUM1Qjs7QUFFN0I7QUFDQTtBQUNBLHNFQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHlFQUFrQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHFFQUFzQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUywrREFBWTtBQUNyQjtBQUNBO0FBQ0EsU0FBUywrREFBWTtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxVQUFVLDRDQUFPO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNxRztBQUNyRyIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvY2FsbGJhY2tzL2Jhc2UuanM/NTEyZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2V4cG9ydCB9IGZyb20gXCIuLi9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmpzXCI7XG5pbXBvcnQgeyBTZXJpYWxpemFibGUsIGdldF9sY191bmlxdWVfbmFtZSB9IGZyb20gXCIuLi9sb2FkL3NlcmlhbGl6YWJsZS5qc1wiO1xuaW1wb3J0IHsgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZSB9IGZyb20gXCIuLi91dGlscy9lbnYuanNcIjtcbmltcG9ydCAqIGFzIHV1aWQgZnJvbSBcInV1aWRcIjtcblxuLy8jcmVnaW9uIHNyYy9jYWxsYmFja3MvYmFzZS50c1xudmFyIGJhc2VfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQoYmFzZV9leHBvcnRzLCB7XG5cdEJhc2VDYWxsYmFja0hhbmRsZXI6ICgpID0+IEJhc2VDYWxsYmFja0hhbmRsZXIsXG5cdGNhbGxiYWNrSGFuZGxlclByZWZlcnNTdHJlYW1pbmc6ICgpID0+IGNhbGxiYWNrSGFuZGxlclByZWZlcnNTdHJlYW1pbmcsXG5cdGlzQmFzZUNhbGxiYWNrSGFuZGxlcjogKCkgPT4gaXNCYXNlQ2FsbGJhY2tIYW5kbGVyXG59KTtcbi8qKlxuKiBBYnN0cmFjdCBjbGFzcyB0aGF0IHByb3ZpZGVzIGEgc2V0IG9mIG9wdGlvbmFsIG1ldGhvZHMgdGhhdCBjYW4gYmVcbiogb3ZlcnJpZGRlbiBpbiBkZXJpdmVkIGNsYXNzZXMgdG8gaGFuZGxlIHZhcmlvdXMgZXZlbnRzIGR1cmluZyB0aGVcbiogZXhlY3V0aW9uIG9mIGEgTGFuZ0NoYWluIGFwcGxpY2F0aW9uLlxuKi9cbnZhciBCYXNlQ2FsbGJhY2tIYW5kbGVyTWV0aG9kc0NsYXNzID0gY2xhc3Mge307XG5mdW5jdGlvbiBjYWxsYmFja0hhbmRsZXJQcmVmZXJzU3RyZWFtaW5nKHgpIHtcblx0cmV0dXJuIFwibGNfcHJlZmVyX3N0cmVhbWluZ1wiIGluIHggJiYgeC5sY19wcmVmZXJfc3RyZWFtaW5nO1xufVxuLyoqXG4qIEFic3RyYWN0IGJhc2UgY2xhc3MgZm9yIGNyZWF0aW5nIGNhbGxiYWNrIGhhbmRsZXJzIGluIHRoZSBMYW5nQ2hhaW5cbiogZnJhbWV3b3JrLiBJdCBwcm92aWRlcyBhIHNldCBvZiBvcHRpb25hbCBtZXRob2RzIHRoYXQgY2FuIGJlIG92ZXJyaWRkZW5cbiogaW4gZGVyaXZlZCBjbGFzc2VzIHRvIGhhbmRsZSB2YXJpb3VzIGV2ZW50cyBkdXJpbmcgdGhlIGV4ZWN1dGlvbiBvZiBhXG4qIExhbmdDaGFpbiBhcHBsaWNhdGlvbi5cbiovXG52YXIgQmFzZUNhbGxiYWNrSGFuZGxlciA9IGNsYXNzIGV4dGVuZHMgQmFzZUNhbGxiYWNrSGFuZGxlck1ldGhvZHNDbGFzcyB7XG5cdGxjX3NlcmlhbGl6YWJsZSA9IGZhbHNlO1xuXHRnZXQgbGNfbmFtZXNwYWNlKCkge1xuXHRcdHJldHVybiBbXG5cdFx0XHRcImxhbmdjaGFpbl9jb3JlXCIsXG5cdFx0XHRcImNhbGxiYWNrc1wiLFxuXHRcdFx0dGhpcy5uYW1lXG5cdFx0XTtcblx0fVxuXHRnZXQgbGNfc2VjcmV0cygpIHtcblx0XHRyZXR1cm4gdm9pZCAwO1xuXHR9XG5cdGdldCBsY19hdHRyaWJ1dGVzKCkge1xuXHRcdHJldHVybiB2b2lkIDA7XG5cdH1cblx0Z2V0IGxjX2FsaWFzZXMoKSB7XG5cdFx0cmV0dXJuIHZvaWQgMDtcblx0fVxuXHRnZXQgbGNfc2VyaWFsaXphYmxlX2tleXMoKSB7XG5cdFx0cmV0dXJuIHZvaWQgMDtcblx0fVxuXHQvKipcblx0KiBUaGUgbmFtZSBvZiB0aGUgc2VyaWFsaXphYmxlLiBPdmVycmlkZSB0byBwcm92aWRlIGFuIGFsaWFzIG9yXG5cdCogdG8gcHJlc2VydmUgdGhlIHNlcmlhbGl6ZWQgbW9kdWxlIG5hbWUgaW4gbWluaWZpZWQgZW52aXJvbm1lbnRzLlxuXHQqXG5cdCogSW1wbGVtZW50ZWQgYXMgYSBzdGF0aWMgbWV0aG9kIHRvIHN1cHBvcnQgbG9hZGluZyBsb2dpYy5cblx0Ki9cblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIHRoaXMubmFtZTtcblx0fVxuXHQvKipcblx0KiBUaGUgZmluYWwgc2VyaWFsaXplZCBpZGVudGlmaWVyIGZvciB0aGUgbW9kdWxlLlxuXHQqL1xuXHRnZXQgbGNfaWQoKSB7XG5cdFx0cmV0dXJuIFsuLi50aGlzLmxjX25hbWVzcGFjZSwgZ2V0X2xjX3VuaXF1ZV9uYW1lKHRoaXMuY29uc3RydWN0b3IpXTtcblx0fVxuXHRsY19rd2FyZ3M7XG5cdGlnbm9yZUxMTSA9IGZhbHNlO1xuXHRpZ25vcmVDaGFpbiA9IGZhbHNlO1xuXHRpZ25vcmVBZ2VudCA9IGZhbHNlO1xuXHRpZ25vcmVSZXRyaWV2ZXIgPSBmYWxzZTtcblx0aWdub3JlQ3VzdG9tRXZlbnQgPSBmYWxzZTtcblx0cmFpc2VFcnJvciA9IGZhbHNlO1xuXHRhd2FpdEhhbmRsZXJzID0gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkxBTkdDSEFJTl9DQUxMQkFDS1NfQkFDS0dST1VORFwiKSA9PT0gXCJmYWxzZVwiO1xuXHRjb25zdHJ1Y3RvcihpbnB1dCkge1xuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy5sY19rd2FyZ3MgPSBpbnB1dCB8fCB7fTtcblx0XHRpZiAoaW5wdXQpIHtcblx0XHRcdHRoaXMuaWdub3JlTExNID0gaW5wdXQuaWdub3JlTExNID8/IHRoaXMuaWdub3JlTExNO1xuXHRcdFx0dGhpcy5pZ25vcmVDaGFpbiA9IGlucHV0Lmlnbm9yZUNoYWluID8/IHRoaXMuaWdub3JlQ2hhaW47XG5cdFx0XHR0aGlzLmlnbm9yZUFnZW50ID0gaW5wdXQuaWdub3JlQWdlbnQgPz8gdGhpcy5pZ25vcmVBZ2VudDtcblx0XHRcdHRoaXMuaWdub3JlUmV0cmlldmVyID0gaW5wdXQuaWdub3JlUmV0cmlldmVyID8/IHRoaXMuaWdub3JlUmV0cmlldmVyO1xuXHRcdFx0dGhpcy5pZ25vcmVDdXN0b21FdmVudCA9IGlucHV0Lmlnbm9yZUN1c3RvbUV2ZW50ID8/IHRoaXMuaWdub3JlQ3VzdG9tRXZlbnQ7XG5cdFx0XHR0aGlzLnJhaXNlRXJyb3IgPSBpbnB1dC5yYWlzZUVycm9yID8/IHRoaXMucmFpc2VFcnJvcjtcblx0XHRcdHRoaXMuYXdhaXRIYW5kbGVycyA9IHRoaXMucmFpc2VFcnJvciB8fCAoaW5wdXQuX2F3YWl0SGFuZGxlciA/PyB0aGlzLmF3YWl0SGFuZGxlcnMpO1xuXHRcdH1cblx0fVxuXHRjb3B5KCkge1xuXHRcdHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzKTtcblx0fVxuXHR0b0pTT04oKSB7XG5cdFx0cmV0dXJuIFNlcmlhbGl6YWJsZS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyk7XG5cdH1cblx0dG9KU09OTm90SW1wbGVtZW50ZWQoKSB7XG5cdFx0cmV0dXJuIFNlcmlhbGl6YWJsZS5wcm90b3R5cGUudG9KU09OTm90SW1wbGVtZW50ZWQuY2FsbCh0aGlzKTtcblx0fVxuXHRzdGF0aWMgZnJvbU1ldGhvZHMobWV0aG9kcykge1xuXHRcdGNsYXNzIEhhbmRsZXIgZXh0ZW5kcyBCYXNlQ2FsbGJhY2tIYW5kbGVyIHtcblx0XHRcdG5hbWUgPSB1dWlkLnY0KCk7XG5cdFx0XHRjb25zdHJ1Y3RvcigpIHtcblx0XHRcdFx0c3VwZXIoKTtcblx0XHRcdFx0T2JqZWN0LmFzc2lnbih0aGlzLCBtZXRob2RzKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG5ldyBIYW5kbGVyKCk7XG5cdH1cbn07XG5jb25zdCBpc0Jhc2VDYWxsYmFja0hhbmRsZXIgPSAoeCkgPT4ge1xuXHRjb25zdCBjYWxsYmFja0hhbmRsZXIgPSB4O1xuXHRyZXR1cm4gY2FsbGJhY2tIYW5kbGVyICE9PSB2b2lkIDAgJiYgdHlwZW9mIGNhbGxiYWNrSGFuZGxlci5jb3B5ID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIGNhbGxiYWNrSGFuZGxlci5uYW1lID09PSBcInN0cmluZ1wiICYmIHR5cGVvZiBjYWxsYmFja0hhbmRsZXIuYXdhaXRIYW5kbGVycyA9PT0gXCJib29sZWFuXCI7XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEJhc2VDYWxsYmFja0hhbmRsZXIsIGJhc2VfZXhwb3J0cywgY2FsbGJhY2tIYW5kbGVyUHJlZmVyc1N0cmVhbWluZywgaXNCYXNlQ2FsbGJhY2tIYW5kbGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iYXNlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/callbacks/base.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/callbacks/manager.js":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/callbacks/manager.js ***!
  \*********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseCallbackManager: () => (/* binding */ BaseCallbackManager),\n/* harmony export */   BaseRunManager: () => (/* binding */ BaseRunManager),\n/* harmony export */   CallbackManager: () => (/* binding */ CallbackManager),\n/* harmony export */   CallbackManagerForChainRun: () => (/* binding */ CallbackManagerForChainRun),\n/* harmony export */   CallbackManagerForLLMRun: () => (/* binding */ CallbackManagerForLLMRun),\n/* harmony export */   CallbackManagerForRetrieverRun: () => (/* binding */ CallbackManagerForRetrieverRun),\n/* harmony export */   CallbackManagerForToolRun: () => (/* binding */ CallbackManagerForToolRun),\n/* harmony export */   ensureHandler: () => (/* binding */ ensureHandler),\n/* harmony export */   manager_exports: () => (/* binding */ manager_exports),\n/* harmony export */   parseCallbackConfigArg: () => (/* binding */ parseCallbackConfigArg)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _messages_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../messages/utils.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/utils.js\");\n/* harmony import */ var _utils_env_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/env.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/env.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/callbacks/base.js\");\n/* harmony import */ var _tracers_base_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tracers/base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/base.js\");\n/* harmony import */ var _tracers_console_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../tracers/console.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/console.js\");\n/* harmony import */ var _tracers_tracer_langchain_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../tracers/tracer_langchain.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/tracer_langchain.js\");\n/* harmony import */ var _singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../singletons/callbacks.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/callbacks.js\");\n/* harmony import */ var _promises_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./promises.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/callbacks/promises.js\");\n/* harmony import */ var _utils_callbacks_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/callbacks.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/callbacks.js\");\n/* harmony import */ var _singletons_async_local_storage_context_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../singletons/async_local_storage/context.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/async_local_storage/context.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/.pnpm/uuid@10.0.0/node_modules/uuid/dist/esm-node/v4.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n//#region src/callbacks/manager.ts\nvar manager_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(manager_exports, {\n\tBaseCallbackManager: () => BaseCallbackManager,\n\tBaseRunManager: () => BaseRunManager,\n\tCallbackManager: () => CallbackManager,\n\tCallbackManagerForChainRun: () => CallbackManagerForChainRun,\n\tCallbackManagerForLLMRun: () => CallbackManagerForLLMRun,\n\tCallbackManagerForRetrieverRun: () => CallbackManagerForRetrieverRun,\n\tCallbackManagerForToolRun: () => CallbackManagerForToolRun,\n\tensureHandler: () => ensureHandler,\n\tparseCallbackConfigArg: () => parseCallbackConfigArg\n});\nfunction parseCallbackConfigArg(arg) {\n\tif (!arg) return {};\n\telse if (Array.isArray(arg) || \"name\" in arg) return { callbacks: arg };\n\telse return arg;\n}\n/**\n* Manage callbacks from different components of LangChain.\n*/\nvar BaseCallbackManager = class {\n\tsetHandler(handler) {\n\t\treturn this.setHandlers([handler]);\n\t}\n};\n/**\n* Base class for run manager in LangChain.\n*/\nvar BaseRunManager = class {\n\tconstructor(runId, handlers, inheritableHandlers, tags, inheritableTags, metadata, inheritableMetadata, _parentRunId) {\n\t\tthis.runId = runId;\n\t\tthis.handlers = handlers;\n\t\tthis.inheritableHandlers = inheritableHandlers;\n\t\tthis.tags = tags;\n\t\tthis.inheritableTags = inheritableTags;\n\t\tthis.metadata = metadata;\n\t\tthis.inheritableMetadata = inheritableMetadata;\n\t\tthis._parentRunId = _parentRunId;\n\t}\n\tget parentRunId() {\n\t\treturn this._parentRunId;\n\t}\n\tasync handleText(text) {\n\t\tawait Promise.all(this.handlers.map((handler) => (0,_singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__.consumeCallback)(async () => {\n\t\t\ttry {\n\t\t\t\tawait handler.handleText?.(text, this.runId, this._parentRunId, this.tags);\n\t\t\t} catch (err) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleText: ${err}`);\n\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n\tasync handleCustomEvent(eventName, data, _runId, _tags, _metadata) {\n\t\tawait Promise.all(this.handlers.map((handler) => (0,_singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__.consumeCallback)(async () => {\n\t\t\ttry {\n\t\t\t\tawait handler.handleCustomEvent?.(eventName, data, this.runId, this.tags, this.metadata);\n\t\t\t} catch (err) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleCustomEvent: ${err}`);\n\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n};\n/**\n* Manages callbacks for retriever runs.\n*/\nvar CallbackManagerForRetrieverRun = class extends BaseRunManager {\n\tgetChild(tag) {\n\t\tconst manager = new CallbackManager(this.runId);\n\t\tmanager.setHandlers(this.inheritableHandlers);\n\t\tmanager.addTags(this.inheritableTags);\n\t\tmanager.addMetadata(this.inheritableMetadata);\n\t\tif (tag) manager.addTags([tag], false);\n\t\treturn manager;\n\t}\n\tasync handleRetrieverEnd(documents) {\n\t\tawait Promise.all(this.handlers.map((handler) => (0,_singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__.consumeCallback)(async () => {\n\t\t\tif (!handler.ignoreRetriever) try {\n\t\t\t\tawait handler.handleRetrieverEnd?.(documents, this.runId, this._parentRunId, this.tags);\n\t\t\t} catch (err) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleRetriever`);\n\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n\tasync handleRetrieverError(err) {\n\t\tawait Promise.all(this.handlers.map((handler) => (0,_singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__.consumeCallback)(async () => {\n\t\t\tif (!handler.ignoreRetriever) try {\n\t\t\t\tawait handler.handleRetrieverError?.(err, this.runId, this._parentRunId, this.tags);\n\t\t\t} catch (error) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleRetrieverError: ${error}`);\n\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n};\nvar CallbackManagerForLLMRun = class extends BaseRunManager {\n\tasync handleLLMNewToken(token, idx, _runId, _parentRunId, _tags, fields) {\n\t\tawait Promise.all(this.handlers.map((handler) => (0,_singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__.consumeCallback)(async () => {\n\t\t\tif (!handler.ignoreLLM) try {\n\t\t\t\tawait handler.handleLLMNewToken?.(token, idx ?? {\n\t\t\t\t\tprompt: 0,\n\t\t\t\t\tcompletion: 0\n\t\t\t\t}, this.runId, this._parentRunId, this.tags, fields);\n\t\t\t} catch (err) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleLLMNewToken: ${err}`);\n\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n\tasync handleLLMError(err, _runId, _parentRunId, _tags, extraParams) {\n\t\tawait Promise.all(this.handlers.map((handler) => (0,_singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__.consumeCallback)(async () => {\n\t\t\tif (!handler.ignoreLLM) try {\n\t\t\t\tawait handler.handleLLMError?.(err, this.runId, this._parentRunId, this.tags, extraParams);\n\t\t\t} catch (err$1) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleLLMError: ${err$1}`);\n\t\t\t\tif (handler.raiseError) throw err$1;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n\tasync handleLLMEnd(output, _runId, _parentRunId, _tags, extraParams) {\n\t\tawait Promise.all(this.handlers.map((handler) => (0,_singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__.consumeCallback)(async () => {\n\t\t\tif (!handler.ignoreLLM) try {\n\t\t\t\tawait handler.handleLLMEnd?.(output, this.runId, this._parentRunId, this.tags, extraParams);\n\t\t\t} catch (err) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleLLMEnd: ${err}`);\n\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n};\nvar CallbackManagerForChainRun = class extends BaseRunManager {\n\tgetChild(tag) {\n\t\tconst manager = new CallbackManager(this.runId);\n\t\tmanager.setHandlers(this.inheritableHandlers);\n\t\tmanager.addTags(this.inheritableTags);\n\t\tmanager.addMetadata(this.inheritableMetadata);\n\t\tif (tag) manager.addTags([tag], false);\n\t\treturn manager;\n\t}\n\tasync handleChainError(err, _runId, _parentRunId, _tags, kwargs) {\n\t\tawait Promise.all(this.handlers.map((handler) => (0,_singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__.consumeCallback)(async () => {\n\t\t\tif (!handler.ignoreChain) try {\n\t\t\t\tawait handler.handleChainError?.(err, this.runId, this._parentRunId, this.tags, kwargs);\n\t\t\t} catch (err$1) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleChainError: ${err$1}`);\n\t\t\t\tif (handler.raiseError) throw err$1;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n\tasync handleChainEnd(output, _runId, _parentRunId, _tags, kwargs) {\n\t\tawait Promise.all(this.handlers.map((handler) => (0,_singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__.consumeCallback)(async () => {\n\t\t\tif (!handler.ignoreChain) try {\n\t\t\t\tawait handler.handleChainEnd?.(output, this.runId, this._parentRunId, this.tags, kwargs);\n\t\t\t} catch (err) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleChainEnd: ${err}`);\n\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n\tasync handleAgentAction(action) {\n\t\tawait Promise.all(this.handlers.map((handler) => (0,_singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__.consumeCallback)(async () => {\n\t\t\tif (!handler.ignoreAgent) try {\n\t\t\t\tawait handler.handleAgentAction?.(action, this.runId, this._parentRunId, this.tags);\n\t\t\t} catch (err) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleAgentAction: ${err}`);\n\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n\tasync handleAgentEnd(action) {\n\t\tawait Promise.all(this.handlers.map((handler) => (0,_singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__.consumeCallback)(async () => {\n\t\t\tif (!handler.ignoreAgent) try {\n\t\t\t\tawait handler.handleAgentEnd?.(action, this.runId, this._parentRunId, this.tags);\n\t\t\t} catch (err) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleAgentEnd: ${err}`);\n\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n};\nvar CallbackManagerForToolRun = class extends BaseRunManager {\n\tgetChild(tag) {\n\t\tconst manager = new CallbackManager(this.runId);\n\t\tmanager.setHandlers(this.inheritableHandlers);\n\t\tmanager.addTags(this.inheritableTags);\n\t\tmanager.addMetadata(this.inheritableMetadata);\n\t\tif (tag) manager.addTags([tag], false);\n\t\treturn manager;\n\t}\n\tasync handleToolError(err) {\n\t\tawait Promise.all(this.handlers.map((handler) => (0,_singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__.consumeCallback)(async () => {\n\t\t\tif (!handler.ignoreAgent) try {\n\t\t\t\tawait handler.handleToolError?.(err, this.runId, this._parentRunId, this.tags);\n\t\t\t} catch (err$1) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleToolError: ${err$1}`);\n\t\t\t\tif (handler.raiseError) throw err$1;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n\tasync handleToolEnd(output) {\n\t\tawait Promise.all(this.handlers.map((handler) => (0,_singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__.consumeCallback)(async () => {\n\t\t\tif (!handler.ignoreAgent) try {\n\t\t\t\tawait handler.handleToolEnd?.(output, this.runId, this._parentRunId, this.tags);\n\t\t\t} catch (err) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleToolEnd: ${err}`);\n\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n};\n/**\n* @example\n* ```typescript\n* const prompt = PromptTemplate.fromTemplate(\"What is the answer to {question}?\");\n*\n* // Example of using LLMChain with OpenAI and a simple prompt\n* const chain = new LLMChain({\n*   llm: new ChatOpenAI({ model: \"gpt-4o-mini\", temperature: 0.9 }),\n*   prompt,\n* });\n*\n* // Running the chain with a single question\n* const result = await chain.call({\n*   question: \"What is the airspeed velocity of an unladen swallow?\",\n* });\n* console.log(\"The answer is:\", result);\n* ```\n*/\nvar CallbackManager = class CallbackManager extends BaseCallbackManager {\n\thandlers = [];\n\tinheritableHandlers = [];\n\ttags = [];\n\tinheritableTags = [];\n\tmetadata = {};\n\tinheritableMetadata = {};\n\tname = \"callback_manager\";\n\t_parentRunId;\n\tconstructor(parentRunId, options) {\n\t\tsuper();\n\t\tthis.handlers = options?.handlers ?? this.handlers;\n\t\tthis.inheritableHandlers = options?.inheritableHandlers ?? this.inheritableHandlers;\n\t\tthis.tags = options?.tags ?? this.tags;\n\t\tthis.inheritableTags = options?.inheritableTags ?? this.inheritableTags;\n\t\tthis.metadata = options?.metadata ?? this.metadata;\n\t\tthis.inheritableMetadata = options?.inheritableMetadata ?? this.inheritableMetadata;\n\t\tthis._parentRunId = parentRunId;\n\t}\n\t/**\n\t* Gets the parent run ID, if any.\n\t*\n\t* @returns The parent run ID.\n\t*/\n\tgetParentRunId() {\n\t\treturn this._parentRunId;\n\t}\n\tasync handleLLMStart(llm, prompts, runId = void 0, _parentRunId = void 0, extraParams = void 0, _tags = void 0, _metadata = void 0, runName = void 0) {\n\t\treturn Promise.all(prompts.map(async (prompt, idx) => {\n\t\t\tconst runId_ = idx === 0 && runId ? runId : (0,uuid__WEBPACK_IMPORTED_MODULE_11__[\"default\"])();\n\t\t\tawait Promise.all(this.handlers.map((handler) => {\n\t\t\t\tif (handler.ignoreLLM) return;\n\t\t\t\tif ((0,_tracers_base_js__WEBPACK_IMPORTED_MODULE_4__.isBaseTracer)(handler)) handler._createRunForLLMStart(llm, [prompt], runId_, this._parentRunId, extraParams, this.tags, this.metadata, runName);\n\t\t\t\treturn (0,_singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__.consumeCallback)(async () => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tawait handler.handleLLMStart?.(llm, [prompt], runId_, this._parentRunId, extraParams, this.tags, this.metadata, runName);\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleLLMStart: ${err}`);\n\t\t\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t\t\t}\n\t\t\t\t}, handler.awaitHandlers);\n\t\t\t}));\n\t\t\treturn new CallbackManagerForLLMRun(runId_, this.handlers, this.inheritableHandlers, this.tags, this.inheritableTags, this.metadata, this.inheritableMetadata, this._parentRunId);\n\t\t}));\n\t}\n\tasync handleChatModelStart(llm, messages, runId = void 0, _parentRunId = void 0, extraParams = void 0, _tags = void 0, _metadata = void 0, runName = void 0) {\n\t\treturn Promise.all(messages.map(async (messageGroup, idx) => {\n\t\t\tconst runId_ = idx === 0 && runId ? runId : (0,uuid__WEBPACK_IMPORTED_MODULE_11__[\"default\"])();\n\t\t\tawait Promise.all(this.handlers.map((handler) => {\n\t\t\t\tif (handler.ignoreLLM) return;\n\t\t\t\tif ((0,_tracers_base_js__WEBPACK_IMPORTED_MODULE_4__.isBaseTracer)(handler)) handler._createRunForChatModelStart(llm, [messageGroup], runId_, this._parentRunId, extraParams, this.tags, this.metadata, runName);\n\t\t\t\treturn (0,_singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__.consumeCallback)(async () => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (handler.handleChatModelStart) await handler.handleChatModelStart?.(llm, [messageGroup], runId_, this._parentRunId, extraParams, this.tags, this.metadata, runName);\n\t\t\t\t\t\telse if (handler.handleLLMStart) {\n\t\t\t\t\t\t\tconst messageString = (0,_messages_utils_js__WEBPACK_IMPORTED_MODULE_1__.getBufferString)(messageGroup);\n\t\t\t\t\t\t\tawait handler.handleLLMStart?.(llm, [messageString], runId_, this._parentRunId, extraParams, this.tags, this.metadata, runName);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleLLMStart: ${err}`);\n\t\t\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t\t\t}\n\t\t\t\t}, handler.awaitHandlers);\n\t\t\t}));\n\t\t\treturn new CallbackManagerForLLMRun(runId_, this.handlers, this.inheritableHandlers, this.tags, this.inheritableTags, this.metadata, this.inheritableMetadata, this._parentRunId);\n\t\t}));\n\t}\n\tasync handleChainStart(chain, inputs, runId = (0,uuid__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(), runType = void 0, _tags = void 0, _metadata = void 0, runName = void 0) {\n\t\tawait Promise.all(this.handlers.map((handler) => {\n\t\t\tif (handler.ignoreChain) return;\n\t\t\tif ((0,_tracers_base_js__WEBPACK_IMPORTED_MODULE_4__.isBaseTracer)(handler)) handler._createRunForChainStart(chain, inputs, runId, this._parentRunId, this.tags, this.metadata, runType, runName);\n\t\t\treturn (0,_singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__.consumeCallback)(async () => {\n\t\t\t\ttry {\n\t\t\t\t\tawait handler.handleChainStart?.(chain, inputs, runId, this._parentRunId, this.tags, this.metadata, runType, runName);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleChainStart: ${err}`);\n\t\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t\t}\n\t\t\t}, handler.awaitHandlers);\n\t\t}));\n\t\treturn new CallbackManagerForChainRun(runId, this.handlers, this.inheritableHandlers, this.tags, this.inheritableTags, this.metadata, this.inheritableMetadata, this._parentRunId);\n\t}\n\tasync handleToolStart(tool, input, runId = (0,uuid__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(), _parentRunId = void 0, _tags = void 0, _metadata = void 0, runName = void 0) {\n\t\tawait Promise.all(this.handlers.map((handler) => {\n\t\t\tif (handler.ignoreAgent) return;\n\t\t\tif ((0,_tracers_base_js__WEBPACK_IMPORTED_MODULE_4__.isBaseTracer)(handler)) handler._createRunForToolStart(tool, input, runId, this._parentRunId, this.tags, this.metadata, runName);\n\t\t\treturn (0,_singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__.consumeCallback)(async () => {\n\t\t\t\ttry {\n\t\t\t\t\tawait handler.handleToolStart?.(tool, input, runId, this._parentRunId, this.tags, this.metadata, runName);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleToolStart: ${err}`);\n\t\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t\t}\n\t\t\t}, handler.awaitHandlers);\n\t\t}));\n\t\treturn new CallbackManagerForToolRun(runId, this.handlers, this.inheritableHandlers, this.tags, this.inheritableTags, this.metadata, this.inheritableMetadata, this._parentRunId);\n\t}\n\tasync handleRetrieverStart(retriever, query, runId = (0,uuid__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(), _parentRunId = void 0, _tags = void 0, _metadata = void 0, runName = void 0) {\n\t\tawait Promise.all(this.handlers.map((handler) => {\n\t\t\tif (handler.ignoreRetriever) return;\n\t\t\tif ((0,_tracers_base_js__WEBPACK_IMPORTED_MODULE_4__.isBaseTracer)(handler)) handler._createRunForRetrieverStart(retriever, query, runId, this._parentRunId, this.tags, this.metadata, runName);\n\t\t\treturn (0,_singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__.consumeCallback)(async () => {\n\t\t\t\ttry {\n\t\t\t\t\tawait handler.handleRetrieverStart?.(retriever, query, runId, this._parentRunId, this.tags, this.metadata, runName);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleRetrieverStart: ${err}`);\n\t\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t\t}\n\t\t\t}, handler.awaitHandlers);\n\t\t}));\n\t\treturn new CallbackManagerForRetrieverRun(runId, this.handlers, this.inheritableHandlers, this.tags, this.inheritableTags, this.metadata, this.inheritableMetadata, this._parentRunId);\n\t}\n\tasync handleCustomEvent(eventName, data, runId, _tags, _metadata) {\n\t\tawait Promise.all(this.handlers.map((handler) => (0,_singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__.consumeCallback)(async () => {\n\t\t\tif (!handler.ignoreCustomEvent) try {\n\t\t\t\tawait handler.handleCustomEvent?.(eventName, data, runId, this.tags, this.metadata);\n\t\t\t} catch (err) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleCustomEvent: ${err}`);\n\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n\taddHandler(handler, inherit = true) {\n\t\tthis.handlers.push(handler);\n\t\tif (inherit) this.inheritableHandlers.push(handler);\n\t}\n\tremoveHandler(handler) {\n\t\tthis.handlers = this.handlers.filter((_handler) => _handler !== handler);\n\t\tthis.inheritableHandlers = this.inheritableHandlers.filter((_handler) => _handler !== handler);\n\t}\n\tsetHandlers(handlers, inherit = true) {\n\t\tthis.handlers = [];\n\t\tthis.inheritableHandlers = [];\n\t\tfor (const handler of handlers) this.addHandler(handler, inherit);\n\t}\n\taddTags(tags, inherit = true) {\n\t\tthis.removeTags(tags);\n\t\tthis.tags.push(...tags);\n\t\tif (inherit) this.inheritableTags.push(...tags);\n\t}\n\tremoveTags(tags) {\n\t\tthis.tags = this.tags.filter((tag) => !tags.includes(tag));\n\t\tthis.inheritableTags = this.inheritableTags.filter((tag) => !tags.includes(tag));\n\t}\n\taddMetadata(metadata, inherit = true) {\n\t\tthis.metadata = {\n\t\t\t...this.metadata,\n\t\t\t...metadata\n\t\t};\n\t\tif (inherit) this.inheritableMetadata = {\n\t\t\t...this.inheritableMetadata,\n\t\t\t...metadata\n\t\t};\n\t}\n\tremoveMetadata(metadata) {\n\t\tfor (const key of Object.keys(metadata)) {\n\t\t\tdelete this.metadata[key];\n\t\t\tdelete this.inheritableMetadata[key];\n\t\t}\n\t}\n\tcopy(additionalHandlers = [], inherit = true) {\n\t\tconst manager = new CallbackManager(this._parentRunId);\n\t\tfor (const handler of this.handlers) {\n\t\t\tconst inheritable = this.inheritableHandlers.includes(handler);\n\t\t\tmanager.addHandler(handler, inheritable);\n\t\t}\n\t\tfor (const tag of this.tags) {\n\t\t\tconst inheritable = this.inheritableTags.includes(tag);\n\t\t\tmanager.addTags([tag], inheritable);\n\t\t}\n\t\tfor (const key of Object.keys(this.metadata)) {\n\t\t\tconst inheritable = Object.keys(this.inheritableMetadata).includes(key);\n\t\t\tmanager.addMetadata({ [key]: this.metadata[key] }, inheritable);\n\t\t}\n\t\tfor (const handler of additionalHandlers) {\n\t\t\tif (manager.handlers.filter((h) => h.name === \"console_callback_handler\").some((h) => h.name === handler.name)) continue;\n\t\t\tmanager.addHandler(handler, inherit);\n\t\t}\n\t\treturn manager;\n\t}\n\tstatic fromHandlers(handlers) {\n\t\tclass Handler extends _base_js__WEBPACK_IMPORTED_MODULE_3__.BaseCallbackHandler {\n\t\t\tname = (0,uuid__WEBPACK_IMPORTED_MODULE_11__[\"default\"])();\n\t\t\tconstructor() {\n\t\t\t\tsuper();\n\t\t\t\tObject.assign(this, handlers);\n\t\t\t}\n\t\t}\n\t\tconst manager = new this();\n\t\tmanager.addHandler(new Handler());\n\t\treturn manager;\n\t}\n\tstatic configure(inheritableHandlers, localHandlers, inheritableTags, localTags, inheritableMetadata, localMetadata, options) {\n\t\treturn this._configureSync(inheritableHandlers, localHandlers, inheritableTags, localTags, inheritableMetadata, localMetadata, options);\n\t}\n\tstatic _configureSync(inheritableHandlers, localHandlers, inheritableTags, localTags, inheritableMetadata, localMetadata, options) {\n\t\tlet callbackManager;\n\t\tif (inheritableHandlers || localHandlers) {\n\t\t\tif (Array.isArray(inheritableHandlers) || !inheritableHandlers) {\n\t\t\t\tcallbackManager = new CallbackManager();\n\t\t\t\tcallbackManager.setHandlers(inheritableHandlers?.map(ensureHandler) ?? [], true);\n\t\t\t} else callbackManager = inheritableHandlers;\n\t\t\tcallbackManager = callbackManager.copy(Array.isArray(localHandlers) ? localHandlers.map(ensureHandler) : localHandlers?.handlers, false);\n\t\t}\n\t\tconst verboseEnabled = (0,_utils_env_js__WEBPACK_IMPORTED_MODULE_2__.getEnvironmentVariable)(\"LANGCHAIN_VERBOSE\") === \"true\" || options?.verbose;\n\t\tconst tracingV2Enabled = _tracers_tracer_langchain_js__WEBPACK_IMPORTED_MODULE_6__.LangChainTracer.getTraceableRunTree()?.tracingEnabled || (0,_utils_callbacks_js__WEBPACK_IMPORTED_MODULE_9__.isTracingEnabled)();\n\t\tconst tracingEnabled = tracingV2Enabled || ((0,_utils_env_js__WEBPACK_IMPORTED_MODULE_2__.getEnvironmentVariable)(\"LANGCHAIN_TRACING\") ?? false);\n\t\tif (verboseEnabled || tracingEnabled) {\n\t\t\tif (!callbackManager) callbackManager = new CallbackManager();\n\t\t\tif (verboseEnabled && !callbackManager.handlers.some((handler) => handler.name === _tracers_console_js__WEBPACK_IMPORTED_MODULE_5__.ConsoleCallbackHandler.prototype.name)) {\n\t\t\t\tconst consoleHandler = new _tracers_console_js__WEBPACK_IMPORTED_MODULE_5__.ConsoleCallbackHandler();\n\t\t\t\tcallbackManager.addHandler(consoleHandler, true);\n\t\t\t}\n\t\t\tif (tracingEnabled && !callbackManager.handlers.some((handler) => handler.name === \"langchain_tracer\")) {\n\t\t\t\tif (tracingV2Enabled) {\n\t\t\t\t\tconst tracerV2 = new _tracers_tracer_langchain_js__WEBPACK_IMPORTED_MODULE_6__.LangChainTracer();\n\t\t\t\t\tcallbackManager.addHandler(tracerV2, true);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (tracingV2Enabled) {\n\t\t\t\tconst implicitRunTree = _tracers_tracer_langchain_js__WEBPACK_IMPORTED_MODULE_6__.LangChainTracer.getTraceableRunTree();\n\t\t\t\tif (implicitRunTree && callbackManager._parentRunId === void 0) {\n\t\t\t\t\tcallbackManager._parentRunId = implicitRunTree.id;\n\t\t\t\t\tconst tracerV2 = callbackManager.handlers.find((handler) => handler.name === \"langchain_tracer\");\n\t\t\t\t\ttracerV2?.updateFromRunTree(implicitRunTree);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (const { contextVar, inheritable = true, handlerClass, envVar } of (0,_singletons_async_local_storage_context_js__WEBPACK_IMPORTED_MODULE_10__._getConfigureHooks)()) {\n\t\t\tconst createIfNotInContext = envVar && (0,_utils_env_js__WEBPACK_IMPORTED_MODULE_2__.getEnvironmentVariable)(envVar) === \"true\" && handlerClass;\n\t\t\tlet handler;\n\t\t\tconst contextVarValue = contextVar !== void 0 ? (0,_singletons_async_local_storage_context_js__WEBPACK_IMPORTED_MODULE_10__.getContextVariable)(contextVar) : void 0;\n\t\t\tif (contextVarValue && (0,_base_js__WEBPACK_IMPORTED_MODULE_3__.isBaseCallbackHandler)(contextVarValue)) handler = contextVarValue;\n\t\t\telse if (createIfNotInContext) handler = new handlerClass({});\n\t\t\tif (handler !== void 0) {\n\t\t\t\tif (!callbackManager) callbackManager = new CallbackManager();\n\t\t\t\tif (!callbackManager.handlers.some((h) => h.name === handler.name)) callbackManager.addHandler(handler, inheritable);\n\t\t\t}\n\t\t}\n\t\tif (inheritableTags || localTags) {\n\t\t\tif (callbackManager) {\n\t\t\t\tcallbackManager.addTags(inheritableTags ?? []);\n\t\t\t\tcallbackManager.addTags(localTags ?? [], false);\n\t\t\t}\n\t\t}\n\t\tif (inheritableMetadata || localMetadata) {\n\t\t\tif (callbackManager) {\n\t\t\t\tcallbackManager.addMetadata(inheritableMetadata ?? {});\n\t\t\t\tcallbackManager.addMetadata(localMetadata ?? {}, false);\n\t\t\t}\n\t\t}\n\t\treturn callbackManager;\n\t}\n};\nfunction ensureHandler(handler) {\n\tif (\"name\" in handler) return handler;\n\treturn _base_js__WEBPACK_IMPORTED_MODULE_3__.BaseCallbackHandler.fromMethods(handler);\n}\n\n//#endregion\n\n//# sourceMappingURL=manager.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9jYWxsYmFja3MvbWFuYWdlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTJEO0FBQ0o7QUFDRTtBQUNjO0FBQ3JCO0FBQ2E7QUFDRTtBQUNKO0FBQ3RDO0FBQ2tDO0FBQzZDO0FBQzVFOztBQUUxQjtBQUNBO0FBQ0Esc0VBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLHdEQUF3RDtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCx5RUFBZTtBQUNsRTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esb0NBQW9DLHlCQUF5QixnQkFBZ0IsSUFBSTtBQUNqRjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxtREFBbUQseUVBQWU7QUFDbEU7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLG9DQUFvQyx5QkFBeUIsdUJBQXVCLElBQUk7QUFDeEY7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQseUVBQWU7QUFDbEU7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLG9DQUFvQyx5QkFBeUI7QUFDN0Q7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsbURBQW1ELHlFQUFlO0FBQ2xFO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxvQ0FBb0MseUJBQXlCLDBCQUEwQixNQUFNO0FBQzdGO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQseUVBQWU7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsS0FBSztBQUNMO0FBQ0Esb0NBQW9DLHlCQUF5Qix1QkFBdUIsSUFBSTtBQUN4RjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxtREFBbUQseUVBQWU7QUFDbEU7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLG9DQUFvQyx5QkFBeUIsb0JBQW9CLE1BQU07QUFDdkY7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsbURBQW1ELHlFQUFlO0FBQ2xFO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxvQ0FBb0MseUJBQXlCLGtCQUFrQixJQUFJO0FBQ25GO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELHlFQUFlO0FBQ2xFO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxvQ0FBb0MseUJBQXlCLHNCQUFzQixNQUFNO0FBQ3pGO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLG1EQUFtRCx5RUFBZTtBQUNsRTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esb0NBQW9DLHlCQUF5QixvQkFBb0IsSUFBSTtBQUNyRjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxtREFBbUQseUVBQWU7QUFDbEU7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLG9DQUFvQyx5QkFBeUIsdUJBQXVCLElBQUk7QUFDeEY7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsbURBQW1ELHlFQUFlO0FBQ2xFO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxvQ0FBb0MseUJBQXlCLG9CQUFvQixJQUFJO0FBQ3JGO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELHlFQUFlO0FBQ2xFO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxvQ0FBb0MseUJBQXlCLHFCQUFxQixNQUFNO0FBQ3hGO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLG1EQUFtRCx5RUFBZTtBQUNsRTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esb0NBQW9DLHlCQUF5QixtQkFBbUIsSUFBSTtBQUNwRjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBcUUsU0FBUztBQUM5RTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsd0NBQXdDO0FBQ2xFO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsaURBQUU7QUFDakQ7QUFDQTtBQUNBLFFBQVEsOERBQVk7QUFDcEIsV0FBVyx5RUFBZTtBQUMxQjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0Esc0NBQXNDLHlCQUF5QixvQkFBb0IsSUFBSTtBQUN2RjtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsaURBQUU7QUFDakQ7QUFDQTtBQUNBLFFBQVEsOERBQVk7QUFDcEIsV0FBVyx5RUFBZTtBQUMxQjtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsbUVBQWU7QUFDNUM7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLHNDQUFzQyx5QkFBeUIsb0JBQW9CLElBQUk7QUFDdkY7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQSxHQUFHO0FBQ0g7QUFDQSwrQ0FBK0MsaURBQUU7QUFDakQ7QUFDQTtBQUNBLE9BQU8sOERBQVk7QUFDbkIsVUFBVSx5RUFBZTtBQUN6QjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EscUNBQXFDLHlCQUF5QixzQkFBc0IsSUFBSTtBQUN4RjtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7QUFDSDtBQUNBO0FBQ0EsNENBQTRDLGlEQUFFO0FBQzlDO0FBQ0E7QUFDQSxPQUFPLDhEQUFZO0FBQ25CLFVBQVUseUVBQWU7QUFDekI7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLHFDQUFxQyx5QkFBeUIscUJBQXFCLElBQUk7QUFDdkY7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHO0FBQ0g7QUFDQTtBQUNBLHNEQUFzRCxpREFBRTtBQUN4RDtBQUNBO0FBQ0EsT0FBTyw4REFBWTtBQUNuQixVQUFVLHlFQUFlO0FBQ3pCO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxxQ0FBcUMseUJBQXlCLDBCQUEwQixJQUFJO0FBQzVGO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCx5RUFBZTtBQUNsRTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esb0NBQW9DLHlCQUF5Qix1QkFBdUIsSUFBSTtBQUN4RjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QiwyQkFBMkI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5REFBbUI7QUFDM0MsVUFBVSxpREFBRTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EseUJBQXlCLHFFQUFzQjtBQUMvQywyQkFBMkIseUVBQWUsMENBQTBDLHFFQUFnQjtBQUNwRyw4Q0FBOEMscUVBQXNCO0FBQ3BFO0FBQ0E7QUFDQSxzRkFBc0YsdUVBQXNCO0FBQzVHLCtCQUErQix1RUFBc0I7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIseUVBQWU7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIseUVBQWU7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHVEQUF1RCxHQUFHLCtGQUFrQjtBQUMzRiwwQ0FBMEMscUVBQXNCO0FBQ2hFO0FBQ0EsbURBQW1ELCtGQUFrQjtBQUNyRSwwQkFBMEIsK0RBQXFCO0FBQy9DLCtEQUErRDtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RDtBQUN6RCxtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHlEQUFtQjtBQUMzQjs7QUFFQTtBQUN5TztBQUN6TyIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvY2FsbGJhY2tzL21hbmFnZXIuanM/M2JjYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2V4cG9ydCB9IGZyb20gXCIuLi9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmpzXCI7XG5pbXBvcnQgeyBnZXRCdWZmZXJTdHJpbmcgfSBmcm9tIFwiLi4vbWVzc2FnZXMvdXRpbHMuanNcIjtcbmltcG9ydCB7IGdldEVudmlyb25tZW50VmFyaWFibGUgfSBmcm9tIFwiLi4vdXRpbHMvZW52LmpzXCI7XG5pbXBvcnQgeyBCYXNlQ2FsbGJhY2tIYW5kbGVyLCBpc0Jhc2VDYWxsYmFja0hhbmRsZXIgfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5pbXBvcnQgeyBpc0Jhc2VUcmFjZXIgfSBmcm9tIFwiLi4vdHJhY2Vycy9iYXNlLmpzXCI7XG5pbXBvcnQgeyBDb25zb2xlQ2FsbGJhY2tIYW5kbGVyIH0gZnJvbSBcIi4uL3RyYWNlcnMvY29uc29sZS5qc1wiO1xuaW1wb3J0IHsgTGFuZ0NoYWluVHJhY2VyIH0gZnJvbSBcIi4uL3RyYWNlcnMvdHJhY2VyX2xhbmdjaGFpbi5qc1wiO1xuaW1wb3J0IHsgY29uc3VtZUNhbGxiYWNrIH0gZnJvbSBcIi4uL3NpbmdsZXRvbnMvY2FsbGJhY2tzLmpzXCI7XG5pbXBvcnQgXCIuL3Byb21pc2VzLmpzXCI7XG5pbXBvcnQgeyBpc1RyYWNpbmdFbmFibGVkIH0gZnJvbSBcIi4uL3V0aWxzL2NhbGxiYWNrcy5qc1wiO1xuaW1wb3J0IHsgX2dldENvbmZpZ3VyZUhvb2tzLCBnZXRDb250ZXh0VmFyaWFibGUgfSBmcm9tIFwiLi4vc2luZ2xldG9ucy9hc3luY19sb2NhbF9zdG9yYWdlL2NvbnRleHQuanNcIjtcbmltcG9ydCB7IHY0IH0gZnJvbSBcInV1aWRcIjtcblxuLy8jcmVnaW9uIHNyYy9jYWxsYmFja3MvbWFuYWdlci50c1xudmFyIG1hbmFnZXJfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQobWFuYWdlcl9leHBvcnRzLCB7XG5cdEJhc2VDYWxsYmFja01hbmFnZXI6ICgpID0+IEJhc2VDYWxsYmFja01hbmFnZXIsXG5cdEJhc2VSdW5NYW5hZ2VyOiAoKSA9PiBCYXNlUnVuTWFuYWdlcixcblx0Q2FsbGJhY2tNYW5hZ2VyOiAoKSA9PiBDYWxsYmFja01hbmFnZXIsXG5cdENhbGxiYWNrTWFuYWdlckZvckNoYWluUnVuOiAoKSA9PiBDYWxsYmFja01hbmFnZXJGb3JDaGFpblJ1bixcblx0Q2FsbGJhY2tNYW5hZ2VyRm9yTExNUnVuOiAoKSA9PiBDYWxsYmFja01hbmFnZXJGb3JMTE1SdW4sXG5cdENhbGxiYWNrTWFuYWdlckZvclJldHJpZXZlclJ1bjogKCkgPT4gQ2FsbGJhY2tNYW5hZ2VyRm9yUmV0cmlldmVyUnVuLFxuXHRDYWxsYmFja01hbmFnZXJGb3JUb29sUnVuOiAoKSA9PiBDYWxsYmFja01hbmFnZXJGb3JUb29sUnVuLFxuXHRlbnN1cmVIYW5kbGVyOiAoKSA9PiBlbnN1cmVIYW5kbGVyLFxuXHRwYXJzZUNhbGxiYWNrQ29uZmlnQXJnOiAoKSA9PiBwYXJzZUNhbGxiYWNrQ29uZmlnQXJnXG59KTtcbmZ1bmN0aW9uIHBhcnNlQ2FsbGJhY2tDb25maWdBcmcoYXJnKSB7XG5cdGlmICghYXJnKSByZXR1cm4ge307XG5cdGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYXJnKSB8fCBcIm5hbWVcIiBpbiBhcmcpIHJldHVybiB7IGNhbGxiYWNrczogYXJnIH07XG5cdGVsc2UgcmV0dXJuIGFyZztcbn1cbi8qKlxuKiBNYW5hZ2UgY2FsbGJhY2tzIGZyb20gZGlmZmVyZW50IGNvbXBvbmVudHMgb2YgTGFuZ0NoYWluLlxuKi9cbnZhciBCYXNlQ2FsbGJhY2tNYW5hZ2VyID0gY2xhc3Mge1xuXHRzZXRIYW5kbGVyKGhhbmRsZXIpIHtcblx0XHRyZXR1cm4gdGhpcy5zZXRIYW5kbGVycyhbaGFuZGxlcl0pO1xuXHR9XG59O1xuLyoqXG4qIEJhc2UgY2xhc3MgZm9yIHJ1biBtYW5hZ2VyIGluIExhbmdDaGFpbi5cbiovXG52YXIgQmFzZVJ1bk1hbmFnZXIgPSBjbGFzcyB7XG5cdGNvbnN0cnVjdG9yKHJ1bklkLCBoYW5kbGVycywgaW5oZXJpdGFibGVIYW5kbGVycywgdGFncywgaW5oZXJpdGFibGVUYWdzLCBtZXRhZGF0YSwgaW5oZXJpdGFibGVNZXRhZGF0YSwgX3BhcmVudFJ1bklkKSB7XG5cdFx0dGhpcy5ydW5JZCA9IHJ1bklkO1xuXHRcdHRoaXMuaGFuZGxlcnMgPSBoYW5kbGVycztcblx0XHR0aGlzLmluaGVyaXRhYmxlSGFuZGxlcnMgPSBpbmhlcml0YWJsZUhhbmRsZXJzO1xuXHRcdHRoaXMudGFncyA9IHRhZ3M7XG5cdFx0dGhpcy5pbmhlcml0YWJsZVRhZ3MgPSBpbmhlcml0YWJsZVRhZ3M7XG5cdFx0dGhpcy5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuXHRcdHRoaXMuaW5oZXJpdGFibGVNZXRhZGF0YSA9IGluaGVyaXRhYmxlTWV0YWRhdGE7XG5cdFx0dGhpcy5fcGFyZW50UnVuSWQgPSBfcGFyZW50UnVuSWQ7XG5cdH1cblx0Z2V0IHBhcmVudFJ1bklkKCkge1xuXHRcdHJldHVybiB0aGlzLl9wYXJlbnRSdW5JZDtcblx0fVxuXHRhc3luYyBoYW5kbGVUZXh0KHRleHQpIHtcblx0XHRhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4gY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGF3YWl0IGhhbmRsZXIuaGFuZGxlVGV4dD8uKHRleHQsIHRoaXMucnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCB0aGlzLnRhZ3MpO1xuXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdGNvbnN0IGxvZ0Z1bmN0aW9uID0gaGFuZGxlci5yYWlzZUVycm9yID8gY29uc29sZS5lcnJvciA6IGNvbnNvbGUud2Fybjtcblx0XHRcdFx0bG9nRnVuY3Rpb24oYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVUZXh0OiAke2Vycn1gKTtcblx0XHRcdFx0aWYgKGhhbmRsZXIucmFpc2VFcnJvcikgdGhyb3cgZXJyO1xuXHRcdFx0fVxuXHRcdH0sIGhhbmRsZXIuYXdhaXRIYW5kbGVycykpKTtcblx0fVxuXHRhc3luYyBoYW5kbGVDdXN0b21FdmVudChldmVudE5hbWUsIGRhdGEsIF9ydW5JZCwgX3RhZ3MsIF9tZXRhZGF0YSkge1xuXHRcdGF3YWl0IFByb21pc2UuYWxsKHRoaXMuaGFuZGxlcnMubWFwKChoYW5kbGVyKSA9PiBjb25zdW1lQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0YXdhaXQgaGFuZGxlci5oYW5kbGVDdXN0b21FdmVudD8uKGV2ZW50TmFtZSwgZGF0YSwgdGhpcy5ydW5JZCwgdGhpcy50YWdzLCB0aGlzLm1ldGFkYXRhKTtcblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRjb25zdCBsb2dGdW5jdGlvbiA9IGhhbmRsZXIucmFpc2VFcnJvciA/IGNvbnNvbGUuZXJyb3IgOiBjb25zb2xlLndhcm47XG5cdFx0XHRcdGxvZ0Z1bmN0aW9uKGBFcnJvciBpbiBoYW5kbGVyICR7aGFuZGxlci5jb25zdHJ1Y3Rvci5uYW1lfSwgaGFuZGxlQ3VzdG9tRXZlbnQ6ICR7ZXJyfWApO1xuXHRcdFx0XHRpZiAoaGFuZGxlci5yYWlzZUVycm9yKSB0aHJvdyBlcnI7XG5cdFx0XHR9XG5cdFx0fSwgaGFuZGxlci5hd2FpdEhhbmRsZXJzKSkpO1xuXHR9XG59O1xuLyoqXG4qIE1hbmFnZXMgY2FsbGJhY2tzIGZvciByZXRyaWV2ZXIgcnVucy5cbiovXG52YXIgQ2FsbGJhY2tNYW5hZ2VyRm9yUmV0cmlldmVyUnVuID0gY2xhc3MgZXh0ZW5kcyBCYXNlUnVuTWFuYWdlciB7XG5cdGdldENoaWxkKHRhZykge1xuXHRcdGNvbnN0IG1hbmFnZXIgPSBuZXcgQ2FsbGJhY2tNYW5hZ2VyKHRoaXMucnVuSWQpO1xuXHRcdG1hbmFnZXIuc2V0SGFuZGxlcnModGhpcy5pbmhlcml0YWJsZUhhbmRsZXJzKTtcblx0XHRtYW5hZ2VyLmFkZFRhZ3ModGhpcy5pbmhlcml0YWJsZVRhZ3MpO1xuXHRcdG1hbmFnZXIuYWRkTWV0YWRhdGEodGhpcy5pbmhlcml0YWJsZU1ldGFkYXRhKTtcblx0XHRpZiAodGFnKSBtYW5hZ2VyLmFkZFRhZ3MoW3RhZ10sIGZhbHNlKTtcblx0XHRyZXR1cm4gbWFuYWdlcjtcblx0fVxuXHRhc3luYyBoYW5kbGVSZXRyaWV2ZXJFbmQoZG9jdW1lbnRzKSB7XG5cdFx0YXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IGNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG5cdFx0XHRpZiAoIWhhbmRsZXIuaWdub3JlUmV0cmlldmVyKSB0cnkge1xuXHRcdFx0XHRhd2FpdCBoYW5kbGVyLmhhbmRsZVJldHJpZXZlckVuZD8uKGRvY3VtZW50cywgdGhpcy5ydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIHRoaXMudGFncyk7XG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0Y29uc3QgbG9nRnVuY3Rpb24gPSBoYW5kbGVyLnJhaXNlRXJyb3IgPyBjb25zb2xlLmVycm9yIDogY29uc29sZS53YXJuO1xuXHRcdFx0XHRsb2dGdW5jdGlvbihgRXJyb3IgaW4gaGFuZGxlciAke2hhbmRsZXIuY29uc3RydWN0b3IubmFtZX0sIGhhbmRsZVJldHJpZXZlcmApO1xuXHRcdFx0XHRpZiAoaGFuZGxlci5yYWlzZUVycm9yKSB0aHJvdyBlcnI7XG5cdFx0XHR9XG5cdFx0fSwgaGFuZGxlci5hd2FpdEhhbmRsZXJzKSkpO1xuXHR9XG5cdGFzeW5jIGhhbmRsZVJldHJpZXZlckVycm9yKGVycikge1xuXHRcdGF3YWl0IFByb21pc2UuYWxsKHRoaXMuaGFuZGxlcnMubWFwKChoYW5kbGVyKSA9PiBjb25zdW1lQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuXHRcdFx0aWYgKCFoYW5kbGVyLmlnbm9yZVJldHJpZXZlcikgdHJ5IHtcblx0XHRcdFx0YXdhaXQgaGFuZGxlci5oYW5kbGVSZXRyaWV2ZXJFcnJvcj8uKGVyciwgdGhpcy5ydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIHRoaXMudGFncyk7XG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRjb25zdCBsb2dGdW5jdGlvbiA9IGhhbmRsZXIucmFpc2VFcnJvciA/IGNvbnNvbGUuZXJyb3IgOiBjb25zb2xlLndhcm47XG5cdFx0XHRcdGxvZ0Z1bmN0aW9uKGBFcnJvciBpbiBoYW5kbGVyICR7aGFuZGxlci5jb25zdHJ1Y3Rvci5uYW1lfSwgaGFuZGxlUmV0cmlldmVyRXJyb3I6ICR7ZXJyb3J9YCk7XG5cdFx0XHRcdGlmIChoYW5kbGVyLnJhaXNlRXJyb3IpIHRocm93IGVycjtcblx0XHRcdH1cblx0XHR9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpKSk7XG5cdH1cbn07XG52YXIgQ2FsbGJhY2tNYW5hZ2VyRm9yTExNUnVuID0gY2xhc3MgZXh0ZW5kcyBCYXNlUnVuTWFuYWdlciB7XG5cdGFzeW5jIGhhbmRsZUxMTU5ld1Rva2VuKHRva2VuLCBpZHgsIF9ydW5JZCwgX3BhcmVudFJ1bklkLCBfdGFncywgZmllbGRzKSB7XG5cdFx0YXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IGNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG5cdFx0XHRpZiAoIWhhbmRsZXIuaWdub3JlTExNKSB0cnkge1xuXHRcdFx0XHRhd2FpdCBoYW5kbGVyLmhhbmRsZUxMTU5ld1Rva2VuPy4odG9rZW4sIGlkeCA/PyB7XG5cdFx0XHRcdFx0cHJvbXB0OiAwLFxuXHRcdFx0XHRcdGNvbXBsZXRpb246IDBcblx0XHRcdFx0fSwgdGhpcy5ydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIHRoaXMudGFncywgZmllbGRzKTtcblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRjb25zdCBsb2dGdW5jdGlvbiA9IGhhbmRsZXIucmFpc2VFcnJvciA/IGNvbnNvbGUuZXJyb3IgOiBjb25zb2xlLndhcm47XG5cdFx0XHRcdGxvZ0Z1bmN0aW9uKGBFcnJvciBpbiBoYW5kbGVyICR7aGFuZGxlci5jb25zdHJ1Y3Rvci5uYW1lfSwgaGFuZGxlTExNTmV3VG9rZW46ICR7ZXJyfWApO1xuXHRcdFx0XHRpZiAoaGFuZGxlci5yYWlzZUVycm9yKSB0aHJvdyBlcnI7XG5cdFx0XHR9XG5cdFx0fSwgaGFuZGxlci5hd2FpdEhhbmRsZXJzKSkpO1xuXHR9XG5cdGFzeW5jIGhhbmRsZUxMTUVycm9yKGVyciwgX3J1bklkLCBfcGFyZW50UnVuSWQsIF90YWdzLCBleHRyYVBhcmFtcykge1xuXHRcdGF3YWl0IFByb21pc2UuYWxsKHRoaXMuaGFuZGxlcnMubWFwKChoYW5kbGVyKSA9PiBjb25zdW1lQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuXHRcdFx0aWYgKCFoYW5kbGVyLmlnbm9yZUxMTSkgdHJ5IHtcblx0XHRcdFx0YXdhaXQgaGFuZGxlci5oYW5kbGVMTE1FcnJvcj8uKGVyciwgdGhpcy5ydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIHRoaXMudGFncywgZXh0cmFQYXJhbXMpO1xuXHRcdFx0fSBjYXRjaCAoZXJyJDEpIHtcblx0XHRcdFx0Y29uc3QgbG9nRnVuY3Rpb24gPSBoYW5kbGVyLnJhaXNlRXJyb3IgPyBjb25zb2xlLmVycm9yIDogY29uc29sZS53YXJuO1xuXHRcdFx0XHRsb2dGdW5jdGlvbihgRXJyb3IgaW4gaGFuZGxlciAke2hhbmRsZXIuY29uc3RydWN0b3IubmFtZX0sIGhhbmRsZUxMTUVycm9yOiAke2VyciQxfWApO1xuXHRcdFx0XHRpZiAoaGFuZGxlci5yYWlzZUVycm9yKSB0aHJvdyBlcnIkMTtcblx0XHRcdH1cblx0XHR9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpKSk7XG5cdH1cblx0YXN5bmMgaGFuZGxlTExNRW5kKG91dHB1dCwgX3J1bklkLCBfcGFyZW50UnVuSWQsIF90YWdzLCBleHRyYVBhcmFtcykge1xuXHRcdGF3YWl0IFByb21pc2UuYWxsKHRoaXMuaGFuZGxlcnMubWFwKChoYW5kbGVyKSA9PiBjb25zdW1lQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuXHRcdFx0aWYgKCFoYW5kbGVyLmlnbm9yZUxMTSkgdHJ5IHtcblx0XHRcdFx0YXdhaXQgaGFuZGxlci5oYW5kbGVMTE1FbmQ/LihvdXRwdXQsIHRoaXMucnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCB0aGlzLnRhZ3MsIGV4dHJhUGFyYW1zKTtcblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRjb25zdCBsb2dGdW5jdGlvbiA9IGhhbmRsZXIucmFpc2VFcnJvciA/IGNvbnNvbGUuZXJyb3IgOiBjb25zb2xlLndhcm47XG5cdFx0XHRcdGxvZ0Z1bmN0aW9uKGBFcnJvciBpbiBoYW5kbGVyICR7aGFuZGxlci5jb25zdHJ1Y3Rvci5uYW1lfSwgaGFuZGxlTExNRW5kOiAke2Vycn1gKTtcblx0XHRcdFx0aWYgKGhhbmRsZXIucmFpc2VFcnJvcikgdGhyb3cgZXJyO1xuXHRcdFx0fVxuXHRcdH0sIGhhbmRsZXIuYXdhaXRIYW5kbGVycykpKTtcblx0fVxufTtcbnZhciBDYWxsYmFja01hbmFnZXJGb3JDaGFpblJ1biA9IGNsYXNzIGV4dGVuZHMgQmFzZVJ1bk1hbmFnZXIge1xuXHRnZXRDaGlsZCh0YWcpIHtcblx0XHRjb25zdCBtYW5hZ2VyID0gbmV3IENhbGxiYWNrTWFuYWdlcih0aGlzLnJ1bklkKTtcblx0XHRtYW5hZ2VyLnNldEhhbmRsZXJzKHRoaXMuaW5oZXJpdGFibGVIYW5kbGVycyk7XG5cdFx0bWFuYWdlci5hZGRUYWdzKHRoaXMuaW5oZXJpdGFibGVUYWdzKTtcblx0XHRtYW5hZ2VyLmFkZE1ldGFkYXRhKHRoaXMuaW5oZXJpdGFibGVNZXRhZGF0YSk7XG5cdFx0aWYgKHRhZykgbWFuYWdlci5hZGRUYWdzKFt0YWddLCBmYWxzZSk7XG5cdFx0cmV0dXJuIG1hbmFnZXI7XG5cdH1cblx0YXN5bmMgaGFuZGxlQ2hhaW5FcnJvcihlcnIsIF9ydW5JZCwgX3BhcmVudFJ1bklkLCBfdGFncywga3dhcmdzKSB7XG5cdFx0YXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IGNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG5cdFx0XHRpZiAoIWhhbmRsZXIuaWdub3JlQ2hhaW4pIHRyeSB7XG5cdFx0XHRcdGF3YWl0IGhhbmRsZXIuaGFuZGxlQ2hhaW5FcnJvcj8uKGVyciwgdGhpcy5ydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIHRoaXMudGFncywga3dhcmdzKTtcblx0XHRcdH0gY2F0Y2ggKGVyciQxKSB7XG5cdFx0XHRcdGNvbnN0IGxvZ0Z1bmN0aW9uID0gaGFuZGxlci5yYWlzZUVycm9yID8gY29uc29sZS5lcnJvciA6IGNvbnNvbGUud2Fybjtcblx0XHRcdFx0bG9nRnVuY3Rpb24oYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVDaGFpbkVycm9yOiAke2VyciQxfWApO1xuXHRcdFx0XHRpZiAoaGFuZGxlci5yYWlzZUVycm9yKSB0aHJvdyBlcnIkMTtcblx0XHRcdH1cblx0XHR9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpKSk7XG5cdH1cblx0YXN5bmMgaGFuZGxlQ2hhaW5FbmQob3V0cHV0LCBfcnVuSWQsIF9wYXJlbnRSdW5JZCwgX3RhZ3MsIGt3YXJncykge1xuXHRcdGF3YWl0IFByb21pc2UuYWxsKHRoaXMuaGFuZGxlcnMubWFwKChoYW5kbGVyKSA9PiBjb25zdW1lQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuXHRcdFx0aWYgKCFoYW5kbGVyLmlnbm9yZUNoYWluKSB0cnkge1xuXHRcdFx0XHRhd2FpdCBoYW5kbGVyLmhhbmRsZUNoYWluRW5kPy4ob3V0cHV0LCB0aGlzLnJ1bklkLCB0aGlzLl9wYXJlbnRSdW5JZCwgdGhpcy50YWdzLCBrd2FyZ3MpO1xuXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdGNvbnN0IGxvZ0Z1bmN0aW9uID0gaGFuZGxlci5yYWlzZUVycm9yID8gY29uc29sZS5lcnJvciA6IGNvbnNvbGUud2Fybjtcblx0XHRcdFx0bG9nRnVuY3Rpb24oYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVDaGFpbkVuZDogJHtlcnJ9YCk7XG5cdFx0XHRcdGlmIChoYW5kbGVyLnJhaXNlRXJyb3IpIHRocm93IGVycjtcblx0XHRcdH1cblx0XHR9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpKSk7XG5cdH1cblx0YXN5bmMgaGFuZGxlQWdlbnRBY3Rpb24oYWN0aW9uKSB7XG5cdFx0YXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IGNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG5cdFx0XHRpZiAoIWhhbmRsZXIuaWdub3JlQWdlbnQpIHRyeSB7XG5cdFx0XHRcdGF3YWl0IGhhbmRsZXIuaGFuZGxlQWdlbnRBY3Rpb24/LihhY3Rpb24sIHRoaXMucnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCB0aGlzLnRhZ3MpO1xuXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdGNvbnN0IGxvZ0Z1bmN0aW9uID0gaGFuZGxlci5yYWlzZUVycm9yID8gY29uc29sZS5lcnJvciA6IGNvbnNvbGUud2Fybjtcblx0XHRcdFx0bG9nRnVuY3Rpb24oYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVBZ2VudEFjdGlvbjogJHtlcnJ9YCk7XG5cdFx0XHRcdGlmIChoYW5kbGVyLnJhaXNlRXJyb3IpIHRocm93IGVycjtcblx0XHRcdH1cblx0XHR9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpKSk7XG5cdH1cblx0YXN5bmMgaGFuZGxlQWdlbnRFbmQoYWN0aW9uKSB7XG5cdFx0YXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IGNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG5cdFx0XHRpZiAoIWhhbmRsZXIuaWdub3JlQWdlbnQpIHRyeSB7XG5cdFx0XHRcdGF3YWl0IGhhbmRsZXIuaGFuZGxlQWdlbnRFbmQ/LihhY3Rpb24sIHRoaXMucnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCB0aGlzLnRhZ3MpO1xuXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdGNvbnN0IGxvZ0Z1bmN0aW9uID0gaGFuZGxlci5yYWlzZUVycm9yID8gY29uc29sZS5lcnJvciA6IGNvbnNvbGUud2Fybjtcblx0XHRcdFx0bG9nRnVuY3Rpb24oYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVBZ2VudEVuZDogJHtlcnJ9YCk7XG5cdFx0XHRcdGlmIChoYW5kbGVyLnJhaXNlRXJyb3IpIHRocm93IGVycjtcblx0XHRcdH1cblx0XHR9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpKSk7XG5cdH1cbn07XG52YXIgQ2FsbGJhY2tNYW5hZ2VyRm9yVG9vbFJ1biA9IGNsYXNzIGV4dGVuZHMgQmFzZVJ1bk1hbmFnZXIge1xuXHRnZXRDaGlsZCh0YWcpIHtcblx0XHRjb25zdCBtYW5hZ2VyID0gbmV3IENhbGxiYWNrTWFuYWdlcih0aGlzLnJ1bklkKTtcblx0XHRtYW5hZ2VyLnNldEhhbmRsZXJzKHRoaXMuaW5oZXJpdGFibGVIYW5kbGVycyk7XG5cdFx0bWFuYWdlci5hZGRUYWdzKHRoaXMuaW5oZXJpdGFibGVUYWdzKTtcblx0XHRtYW5hZ2VyLmFkZE1ldGFkYXRhKHRoaXMuaW5oZXJpdGFibGVNZXRhZGF0YSk7XG5cdFx0aWYgKHRhZykgbWFuYWdlci5hZGRUYWdzKFt0YWddLCBmYWxzZSk7XG5cdFx0cmV0dXJuIG1hbmFnZXI7XG5cdH1cblx0YXN5bmMgaGFuZGxlVG9vbEVycm9yKGVycikge1xuXHRcdGF3YWl0IFByb21pc2UuYWxsKHRoaXMuaGFuZGxlcnMubWFwKChoYW5kbGVyKSA9PiBjb25zdW1lQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuXHRcdFx0aWYgKCFoYW5kbGVyLmlnbm9yZUFnZW50KSB0cnkge1xuXHRcdFx0XHRhd2FpdCBoYW5kbGVyLmhhbmRsZVRvb2xFcnJvcj8uKGVyciwgdGhpcy5ydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIHRoaXMudGFncyk7XG5cdFx0XHR9IGNhdGNoIChlcnIkMSkge1xuXHRcdFx0XHRjb25zdCBsb2dGdW5jdGlvbiA9IGhhbmRsZXIucmFpc2VFcnJvciA/IGNvbnNvbGUuZXJyb3IgOiBjb25zb2xlLndhcm47XG5cdFx0XHRcdGxvZ0Z1bmN0aW9uKGBFcnJvciBpbiBoYW5kbGVyICR7aGFuZGxlci5jb25zdHJ1Y3Rvci5uYW1lfSwgaGFuZGxlVG9vbEVycm9yOiAke2VyciQxfWApO1xuXHRcdFx0XHRpZiAoaGFuZGxlci5yYWlzZUVycm9yKSB0aHJvdyBlcnIkMTtcblx0XHRcdH1cblx0XHR9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpKSk7XG5cdH1cblx0YXN5bmMgaGFuZGxlVG9vbEVuZChvdXRwdXQpIHtcblx0XHRhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4gY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcblx0XHRcdGlmICghaGFuZGxlci5pZ25vcmVBZ2VudCkgdHJ5IHtcblx0XHRcdFx0YXdhaXQgaGFuZGxlci5oYW5kbGVUb29sRW5kPy4ob3V0cHV0LCB0aGlzLnJ1bklkLCB0aGlzLl9wYXJlbnRSdW5JZCwgdGhpcy50YWdzKTtcblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRjb25zdCBsb2dGdW5jdGlvbiA9IGhhbmRsZXIucmFpc2VFcnJvciA/IGNvbnNvbGUuZXJyb3IgOiBjb25zb2xlLndhcm47XG5cdFx0XHRcdGxvZ0Z1bmN0aW9uKGBFcnJvciBpbiBoYW5kbGVyICR7aGFuZGxlci5jb25zdHJ1Y3Rvci5uYW1lfSwgaGFuZGxlVG9vbEVuZDogJHtlcnJ9YCk7XG5cdFx0XHRcdGlmIChoYW5kbGVyLnJhaXNlRXJyb3IpIHRocm93IGVycjtcblx0XHRcdH1cblx0XHR9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpKSk7XG5cdH1cbn07XG4vKipcbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBwcm9tcHQgPSBQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUoXCJXaGF0IGlzIHRoZSBhbnN3ZXIgdG8ge3F1ZXN0aW9ufT9cIik7XG4qXG4qIC8vIEV4YW1wbGUgb2YgdXNpbmcgTExNQ2hhaW4gd2l0aCBPcGVuQUkgYW5kIGEgc2ltcGxlIHByb21wdFxuKiBjb25zdCBjaGFpbiA9IG5ldyBMTE1DaGFpbih7XG4qICAgbGxtOiBuZXcgQ2hhdE9wZW5BSSh7IG1vZGVsOiBcImdwdC00by1taW5pXCIsIHRlbXBlcmF0dXJlOiAwLjkgfSksXG4qICAgcHJvbXB0LFxuKiB9KTtcbipcbiogLy8gUnVubmluZyB0aGUgY2hhaW4gd2l0aCBhIHNpbmdsZSBxdWVzdGlvblxuKiBjb25zdCByZXN1bHQgPSBhd2FpdCBjaGFpbi5jYWxsKHtcbiogICBxdWVzdGlvbjogXCJXaGF0IGlzIHRoZSBhaXJzcGVlZCB2ZWxvY2l0eSBvZiBhbiB1bmxhZGVuIHN3YWxsb3c/XCIsXG4qIH0pO1xuKiBjb25zb2xlLmxvZyhcIlRoZSBhbnN3ZXIgaXM6XCIsIHJlc3VsdCk7XG4qIGBgYFxuKi9cbnZhciBDYWxsYmFja01hbmFnZXIgPSBjbGFzcyBDYWxsYmFja01hbmFnZXIgZXh0ZW5kcyBCYXNlQ2FsbGJhY2tNYW5hZ2VyIHtcblx0aGFuZGxlcnMgPSBbXTtcblx0aW5oZXJpdGFibGVIYW5kbGVycyA9IFtdO1xuXHR0YWdzID0gW107XG5cdGluaGVyaXRhYmxlVGFncyA9IFtdO1xuXHRtZXRhZGF0YSA9IHt9O1xuXHRpbmhlcml0YWJsZU1ldGFkYXRhID0ge307XG5cdG5hbWUgPSBcImNhbGxiYWNrX21hbmFnZXJcIjtcblx0X3BhcmVudFJ1bklkO1xuXHRjb25zdHJ1Y3RvcihwYXJlbnRSdW5JZCwgb3B0aW9ucykge1xuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy5oYW5kbGVycyA9IG9wdGlvbnM/LmhhbmRsZXJzID8/IHRoaXMuaGFuZGxlcnM7XG5cdFx0dGhpcy5pbmhlcml0YWJsZUhhbmRsZXJzID0gb3B0aW9ucz8uaW5oZXJpdGFibGVIYW5kbGVycyA/PyB0aGlzLmluaGVyaXRhYmxlSGFuZGxlcnM7XG5cdFx0dGhpcy50YWdzID0gb3B0aW9ucz8udGFncyA/PyB0aGlzLnRhZ3M7XG5cdFx0dGhpcy5pbmhlcml0YWJsZVRhZ3MgPSBvcHRpb25zPy5pbmhlcml0YWJsZVRhZ3MgPz8gdGhpcy5pbmhlcml0YWJsZVRhZ3M7XG5cdFx0dGhpcy5tZXRhZGF0YSA9IG9wdGlvbnM/Lm1ldGFkYXRhID8/IHRoaXMubWV0YWRhdGE7XG5cdFx0dGhpcy5pbmhlcml0YWJsZU1ldGFkYXRhID0gb3B0aW9ucz8uaW5oZXJpdGFibGVNZXRhZGF0YSA/PyB0aGlzLmluaGVyaXRhYmxlTWV0YWRhdGE7XG5cdFx0dGhpcy5fcGFyZW50UnVuSWQgPSBwYXJlbnRSdW5JZDtcblx0fVxuXHQvKipcblx0KiBHZXRzIHRoZSBwYXJlbnQgcnVuIElELCBpZiBhbnkuXG5cdCpcblx0KiBAcmV0dXJucyBUaGUgcGFyZW50IHJ1biBJRC5cblx0Ki9cblx0Z2V0UGFyZW50UnVuSWQoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3BhcmVudFJ1bklkO1xuXHR9XG5cdGFzeW5jIGhhbmRsZUxMTVN0YXJ0KGxsbSwgcHJvbXB0cywgcnVuSWQgPSB2b2lkIDAsIF9wYXJlbnRSdW5JZCA9IHZvaWQgMCwgZXh0cmFQYXJhbXMgPSB2b2lkIDAsIF90YWdzID0gdm9pZCAwLCBfbWV0YWRhdGEgPSB2b2lkIDAsIHJ1bk5hbWUgPSB2b2lkIDApIHtcblx0XHRyZXR1cm4gUHJvbWlzZS5hbGwocHJvbXB0cy5tYXAoYXN5bmMgKHByb21wdCwgaWR4KSA9PiB7XG5cdFx0XHRjb25zdCBydW5JZF8gPSBpZHggPT09IDAgJiYgcnVuSWQgPyBydW5JZCA6IHY0KCk7XG5cdFx0XHRhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4ge1xuXHRcdFx0XHRpZiAoaGFuZGxlci5pZ25vcmVMTE0pIHJldHVybjtcblx0XHRcdFx0aWYgKGlzQmFzZVRyYWNlcihoYW5kbGVyKSkgaGFuZGxlci5fY3JlYXRlUnVuRm9yTExNU3RhcnQobGxtLCBbcHJvbXB0XSwgcnVuSWRfLCB0aGlzLl9wYXJlbnRSdW5JZCwgZXh0cmFQYXJhbXMsIHRoaXMudGFncywgdGhpcy5tZXRhZGF0YSwgcnVuTmFtZSk7XG5cdFx0XHRcdHJldHVybiBjb25zdW1lQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRhd2FpdCBoYW5kbGVyLmhhbmRsZUxMTVN0YXJ0Py4obGxtLCBbcHJvbXB0XSwgcnVuSWRfLCB0aGlzLl9wYXJlbnRSdW5JZCwgZXh0cmFQYXJhbXMsIHRoaXMudGFncywgdGhpcy5tZXRhZGF0YSwgcnVuTmFtZSk7XG5cdFx0XHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBsb2dGdW5jdGlvbiA9IGhhbmRsZXIucmFpc2VFcnJvciA/IGNvbnNvbGUuZXJyb3IgOiBjb25zb2xlLndhcm47XG5cdFx0XHRcdFx0XHRsb2dGdW5jdGlvbihgRXJyb3IgaW4gaGFuZGxlciAke2hhbmRsZXIuY29uc3RydWN0b3IubmFtZX0sIGhhbmRsZUxMTVN0YXJ0OiAke2Vycn1gKTtcblx0XHRcdFx0XHRcdGlmIChoYW5kbGVyLnJhaXNlRXJyb3IpIHRocm93IGVycjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sIGhhbmRsZXIuYXdhaXRIYW5kbGVycyk7XG5cdFx0XHR9KSk7XG5cdFx0XHRyZXR1cm4gbmV3IENhbGxiYWNrTWFuYWdlckZvckxMTVJ1bihydW5JZF8sIHRoaXMuaGFuZGxlcnMsIHRoaXMuaW5oZXJpdGFibGVIYW5kbGVycywgdGhpcy50YWdzLCB0aGlzLmluaGVyaXRhYmxlVGFncywgdGhpcy5tZXRhZGF0YSwgdGhpcy5pbmhlcml0YWJsZU1ldGFkYXRhLCB0aGlzLl9wYXJlbnRSdW5JZCk7XG5cdFx0fSkpO1xuXHR9XG5cdGFzeW5jIGhhbmRsZUNoYXRNb2RlbFN0YXJ0KGxsbSwgbWVzc2FnZXMsIHJ1bklkID0gdm9pZCAwLCBfcGFyZW50UnVuSWQgPSB2b2lkIDAsIGV4dHJhUGFyYW1zID0gdm9pZCAwLCBfdGFncyA9IHZvaWQgMCwgX21ldGFkYXRhID0gdm9pZCAwLCBydW5OYW1lID0gdm9pZCAwKSB7XG5cdFx0cmV0dXJuIFByb21pc2UuYWxsKG1lc3NhZ2VzLm1hcChhc3luYyAobWVzc2FnZUdyb3VwLCBpZHgpID0+IHtcblx0XHRcdGNvbnN0IHJ1bklkXyA9IGlkeCA9PT0gMCAmJiBydW5JZCA/IHJ1bklkIDogdjQoKTtcblx0XHRcdGF3YWl0IFByb21pc2UuYWxsKHRoaXMuaGFuZGxlcnMubWFwKChoYW5kbGVyKSA9PiB7XG5cdFx0XHRcdGlmIChoYW5kbGVyLmlnbm9yZUxMTSkgcmV0dXJuO1xuXHRcdFx0XHRpZiAoaXNCYXNlVHJhY2VyKGhhbmRsZXIpKSBoYW5kbGVyLl9jcmVhdGVSdW5Gb3JDaGF0TW9kZWxTdGFydChsbG0sIFttZXNzYWdlR3JvdXBdLCBydW5JZF8sIHRoaXMuX3BhcmVudFJ1bklkLCBleHRyYVBhcmFtcywgdGhpcy50YWdzLCB0aGlzLm1ldGFkYXRhLCBydW5OYW1lKTtcblx0XHRcdFx0cmV0dXJuIGNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdGlmIChoYW5kbGVyLmhhbmRsZUNoYXRNb2RlbFN0YXJ0KSBhd2FpdCBoYW5kbGVyLmhhbmRsZUNoYXRNb2RlbFN0YXJ0Py4obGxtLCBbbWVzc2FnZUdyb3VwXSwgcnVuSWRfLCB0aGlzLl9wYXJlbnRSdW5JZCwgZXh0cmFQYXJhbXMsIHRoaXMudGFncywgdGhpcy5tZXRhZGF0YSwgcnVuTmFtZSk7XG5cdFx0XHRcdFx0XHRlbHNlIGlmIChoYW5kbGVyLmhhbmRsZUxMTVN0YXJ0KSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IG1lc3NhZ2VTdHJpbmcgPSBnZXRCdWZmZXJTdHJpbmcobWVzc2FnZUdyb3VwKTtcblx0XHRcdFx0XHRcdFx0YXdhaXQgaGFuZGxlci5oYW5kbGVMTE1TdGFydD8uKGxsbSwgW21lc3NhZ2VTdHJpbmddLCBydW5JZF8sIHRoaXMuX3BhcmVudFJ1bklkLCBleHRyYVBhcmFtcywgdGhpcy50YWdzLCB0aGlzLm1ldGFkYXRhLCBydW5OYW1lKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0XHRcdGNvbnN0IGxvZ0Z1bmN0aW9uID0gaGFuZGxlci5yYWlzZUVycm9yID8gY29uc29sZS5lcnJvciA6IGNvbnNvbGUud2Fybjtcblx0XHRcdFx0XHRcdGxvZ0Z1bmN0aW9uKGBFcnJvciBpbiBoYW5kbGVyICR7aGFuZGxlci5jb25zdHJ1Y3Rvci5uYW1lfSwgaGFuZGxlTExNU3RhcnQ6ICR7ZXJyfWApO1xuXHRcdFx0XHRcdFx0aWYgKGhhbmRsZXIucmFpc2VFcnJvcikgdGhyb3cgZXJyO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSwgaGFuZGxlci5hd2FpdEhhbmRsZXJzKTtcblx0XHRcdH0pKTtcblx0XHRcdHJldHVybiBuZXcgQ2FsbGJhY2tNYW5hZ2VyRm9yTExNUnVuKHJ1bklkXywgdGhpcy5oYW5kbGVycywgdGhpcy5pbmhlcml0YWJsZUhhbmRsZXJzLCB0aGlzLnRhZ3MsIHRoaXMuaW5oZXJpdGFibGVUYWdzLCB0aGlzLm1ldGFkYXRhLCB0aGlzLmluaGVyaXRhYmxlTWV0YWRhdGEsIHRoaXMuX3BhcmVudFJ1bklkKTtcblx0XHR9KSk7XG5cdH1cblx0YXN5bmMgaGFuZGxlQ2hhaW5TdGFydChjaGFpbiwgaW5wdXRzLCBydW5JZCA9IHY0KCksIHJ1blR5cGUgPSB2b2lkIDAsIF90YWdzID0gdm9pZCAwLCBfbWV0YWRhdGEgPSB2b2lkIDAsIHJ1bk5hbWUgPSB2b2lkIDApIHtcblx0XHRhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4ge1xuXHRcdFx0aWYgKGhhbmRsZXIuaWdub3JlQ2hhaW4pIHJldHVybjtcblx0XHRcdGlmIChpc0Jhc2VUcmFjZXIoaGFuZGxlcikpIGhhbmRsZXIuX2NyZWF0ZVJ1bkZvckNoYWluU3RhcnQoY2hhaW4sIGlucHV0cywgcnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCB0aGlzLnRhZ3MsIHRoaXMubWV0YWRhdGEsIHJ1blR5cGUsIHJ1bk5hbWUpO1xuXHRcdFx0cmV0dXJuIGNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0YXdhaXQgaGFuZGxlci5oYW5kbGVDaGFpblN0YXJ0Py4oY2hhaW4sIGlucHV0cywgcnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCB0aGlzLnRhZ3MsIHRoaXMubWV0YWRhdGEsIHJ1blR5cGUsIHJ1bk5hbWUpO1xuXHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0XHRjb25zdCBsb2dGdW5jdGlvbiA9IGhhbmRsZXIucmFpc2VFcnJvciA/IGNvbnNvbGUuZXJyb3IgOiBjb25zb2xlLndhcm47XG5cdFx0XHRcdFx0bG9nRnVuY3Rpb24oYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVDaGFpblN0YXJ0OiAke2Vycn1gKTtcblx0XHRcdFx0XHRpZiAoaGFuZGxlci5yYWlzZUVycm9yKSB0aHJvdyBlcnI7XG5cdFx0XHRcdH1cblx0XHRcdH0sIGhhbmRsZXIuYXdhaXRIYW5kbGVycyk7XG5cdFx0fSkpO1xuXHRcdHJldHVybiBuZXcgQ2FsbGJhY2tNYW5hZ2VyRm9yQ2hhaW5SdW4ocnVuSWQsIHRoaXMuaGFuZGxlcnMsIHRoaXMuaW5oZXJpdGFibGVIYW5kbGVycywgdGhpcy50YWdzLCB0aGlzLmluaGVyaXRhYmxlVGFncywgdGhpcy5tZXRhZGF0YSwgdGhpcy5pbmhlcml0YWJsZU1ldGFkYXRhLCB0aGlzLl9wYXJlbnRSdW5JZCk7XG5cdH1cblx0YXN5bmMgaGFuZGxlVG9vbFN0YXJ0KHRvb2wsIGlucHV0LCBydW5JZCA9IHY0KCksIF9wYXJlbnRSdW5JZCA9IHZvaWQgMCwgX3RhZ3MgPSB2b2lkIDAsIF9tZXRhZGF0YSA9IHZvaWQgMCwgcnVuTmFtZSA9IHZvaWQgMCkge1xuXHRcdGF3YWl0IFByb21pc2UuYWxsKHRoaXMuaGFuZGxlcnMubWFwKChoYW5kbGVyKSA9PiB7XG5cdFx0XHRpZiAoaGFuZGxlci5pZ25vcmVBZ2VudCkgcmV0dXJuO1xuXHRcdFx0aWYgKGlzQmFzZVRyYWNlcihoYW5kbGVyKSkgaGFuZGxlci5fY3JlYXRlUnVuRm9yVG9vbFN0YXJ0KHRvb2wsIGlucHV0LCBydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIHRoaXMudGFncywgdGhpcy5tZXRhZGF0YSwgcnVuTmFtZSk7XG5cdFx0XHRyZXR1cm4gY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRhd2FpdCBoYW5kbGVyLmhhbmRsZVRvb2xTdGFydD8uKHRvb2wsIGlucHV0LCBydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIHRoaXMudGFncywgdGhpcy5tZXRhZGF0YSwgcnVuTmFtZSk7XG5cdFx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRcdGNvbnN0IGxvZ0Z1bmN0aW9uID0gaGFuZGxlci5yYWlzZUVycm9yID8gY29uc29sZS5lcnJvciA6IGNvbnNvbGUud2Fybjtcblx0XHRcdFx0XHRsb2dGdW5jdGlvbihgRXJyb3IgaW4gaGFuZGxlciAke2hhbmRsZXIuY29uc3RydWN0b3IubmFtZX0sIGhhbmRsZVRvb2xTdGFydDogJHtlcnJ9YCk7XG5cdFx0XHRcdFx0aWYgKGhhbmRsZXIucmFpc2VFcnJvcikgdGhyb3cgZXJyO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpO1xuXHRcdH0pKTtcblx0XHRyZXR1cm4gbmV3IENhbGxiYWNrTWFuYWdlckZvclRvb2xSdW4ocnVuSWQsIHRoaXMuaGFuZGxlcnMsIHRoaXMuaW5oZXJpdGFibGVIYW5kbGVycywgdGhpcy50YWdzLCB0aGlzLmluaGVyaXRhYmxlVGFncywgdGhpcy5tZXRhZGF0YSwgdGhpcy5pbmhlcml0YWJsZU1ldGFkYXRhLCB0aGlzLl9wYXJlbnRSdW5JZCk7XG5cdH1cblx0YXN5bmMgaGFuZGxlUmV0cmlldmVyU3RhcnQocmV0cmlldmVyLCBxdWVyeSwgcnVuSWQgPSB2NCgpLCBfcGFyZW50UnVuSWQgPSB2b2lkIDAsIF90YWdzID0gdm9pZCAwLCBfbWV0YWRhdGEgPSB2b2lkIDAsIHJ1bk5hbWUgPSB2b2lkIDApIHtcblx0XHRhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4ge1xuXHRcdFx0aWYgKGhhbmRsZXIuaWdub3JlUmV0cmlldmVyKSByZXR1cm47XG5cdFx0XHRpZiAoaXNCYXNlVHJhY2VyKGhhbmRsZXIpKSBoYW5kbGVyLl9jcmVhdGVSdW5Gb3JSZXRyaWV2ZXJTdGFydChyZXRyaWV2ZXIsIHF1ZXJ5LCBydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIHRoaXMudGFncywgdGhpcy5tZXRhZGF0YSwgcnVuTmFtZSk7XG5cdFx0XHRyZXR1cm4gY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRhd2FpdCBoYW5kbGVyLmhhbmRsZVJldHJpZXZlclN0YXJ0Py4ocmV0cmlldmVyLCBxdWVyeSwgcnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCB0aGlzLnRhZ3MsIHRoaXMubWV0YWRhdGEsIHJ1bk5hbWUpO1xuXHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0XHRjb25zdCBsb2dGdW5jdGlvbiA9IGhhbmRsZXIucmFpc2VFcnJvciA/IGNvbnNvbGUuZXJyb3IgOiBjb25zb2xlLndhcm47XG5cdFx0XHRcdFx0bG9nRnVuY3Rpb24oYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVSZXRyaWV2ZXJTdGFydDogJHtlcnJ9YCk7XG5cdFx0XHRcdFx0aWYgKGhhbmRsZXIucmFpc2VFcnJvcikgdGhyb3cgZXJyO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpO1xuXHRcdH0pKTtcblx0XHRyZXR1cm4gbmV3IENhbGxiYWNrTWFuYWdlckZvclJldHJpZXZlclJ1bihydW5JZCwgdGhpcy5oYW5kbGVycywgdGhpcy5pbmhlcml0YWJsZUhhbmRsZXJzLCB0aGlzLnRhZ3MsIHRoaXMuaW5oZXJpdGFibGVUYWdzLCB0aGlzLm1ldGFkYXRhLCB0aGlzLmluaGVyaXRhYmxlTWV0YWRhdGEsIHRoaXMuX3BhcmVudFJ1bklkKTtcblx0fVxuXHRhc3luYyBoYW5kbGVDdXN0b21FdmVudChldmVudE5hbWUsIGRhdGEsIHJ1bklkLCBfdGFncywgX21ldGFkYXRhKSB7XG5cdFx0YXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IGNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG5cdFx0XHRpZiAoIWhhbmRsZXIuaWdub3JlQ3VzdG9tRXZlbnQpIHRyeSB7XG5cdFx0XHRcdGF3YWl0IGhhbmRsZXIuaGFuZGxlQ3VzdG9tRXZlbnQ/LihldmVudE5hbWUsIGRhdGEsIHJ1bklkLCB0aGlzLnRhZ3MsIHRoaXMubWV0YWRhdGEpO1xuXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdGNvbnN0IGxvZ0Z1bmN0aW9uID0gaGFuZGxlci5yYWlzZUVycm9yID8gY29uc29sZS5lcnJvciA6IGNvbnNvbGUud2Fybjtcblx0XHRcdFx0bG9nRnVuY3Rpb24oYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVDdXN0b21FdmVudDogJHtlcnJ9YCk7XG5cdFx0XHRcdGlmIChoYW5kbGVyLnJhaXNlRXJyb3IpIHRocm93IGVycjtcblx0XHRcdH1cblx0XHR9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpKSk7XG5cdH1cblx0YWRkSGFuZGxlcihoYW5kbGVyLCBpbmhlcml0ID0gdHJ1ZSkge1xuXHRcdHRoaXMuaGFuZGxlcnMucHVzaChoYW5kbGVyKTtcblx0XHRpZiAoaW5oZXJpdCkgdGhpcy5pbmhlcml0YWJsZUhhbmRsZXJzLnB1c2goaGFuZGxlcik7XG5cdH1cblx0cmVtb3ZlSGFuZGxlcihoYW5kbGVyKSB7XG5cdFx0dGhpcy5oYW5kbGVycyA9IHRoaXMuaGFuZGxlcnMuZmlsdGVyKChfaGFuZGxlcikgPT4gX2hhbmRsZXIgIT09IGhhbmRsZXIpO1xuXHRcdHRoaXMuaW5oZXJpdGFibGVIYW5kbGVycyA9IHRoaXMuaW5oZXJpdGFibGVIYW5kbGVycy5maWx0ZXIoKF9oYW5kbGVyKSA9PiBfaGFuZGxlciAhPT0gaGFuZGxlcik7XG5cdH1cblx0c2V0SGFuZGxlcnMoaGFuZGxlcnMsIGluaGVyaXQgPSB0cnVlKSB7XG5cdFx0dGhpcy5oYW5kbGVycyA9IFtdO1xuXHRcdHRoaXMuaW5oZXJpdGFibGVIYW5kbGVycyA9IFtdO1xuXHRcdGZvciAoY29uc3QgaGFuZGxlciBvZiBoYW5kbGVycykgdGhpcy5hZGRIYW5kbGVyKGhhbmRsZXIsIGluaGVyaXQpO1xuXHR9XG5cdGFkZFRhZ3ModGFncywgaW5oZXJpdCA9IHRydWUpIHtcblx0XHR0aGlzLnJlbW92ZVRhZ3ModGFncyk7XG5cdFx0dGhpcy50YWdzLnB1c2goLi4udGFncyk7XG5cdFx0aWYgKGluaGVyaXQpIHRoaXMuaW5oZXJpdGFibGVUYWdzLnB1c2goLi4udGFncyk7XG5cdH1cblx0cmVtb3ZlVGFncyh0YWdzKSB7XG5cdFx0dGhpcy50YWdzID0gdGhpcy50YWdzLmZpbHRlcigodGFnKSA9PiAhdGFncy5pbmNsdWRlcyh0YWcpKTtcblx0XHR0aGlzLmluaGVyaXRhYmxlVGFncyA9IHRoaXMuaW5oZXJpdGFibGVUYWdzLmZpbHRlcigodGFnKSA9PiAhdGFncy5pbmNsdWRlcyh0YWcpKTtcblx0fVxuXHRhZGRNZXRhZGF0YShtZXRhZGF0YSwgaW5oZXJpdCA9IHRydWUpIHtcblx0XHR0aGlzLm1ldGFkYXRhID0ge1xuXHRcdFx0Li4udGhpcy5tZXRhZGF0YSxcblx0XHRcdC4uLm1ldGFkYXRhXG5cdFx0fTtcblx0XHRpZiAoaW5oZXJpdCkgdGhpcy5pbmhlcml0YWJsZU1ldGFkYXRhID0ge1xuXHRcdFx0Li4udGhpcy5pbmhlcml0YWJsZU1ldGFkYXRhLFxuXHRcdFx0Li4ubWV0YWRhdGFcblx0XHR9O1xuXHR9XG5cdHJlbW92ZU1ldGFkYXRhKG1ldGFkYXRhKSB7XG5cdFx0Zm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMobWV0YWRhdGEpKSB7XG5cdFx0XHRkZWxldGUgdGhpcy5tZXRhZGF0YVtrZXldO1xuXHRcdFx0ZGVsZXRlIHRoaXMuaW5oZXJpdGFibGVNZXRhZGF0YVtrZXldO1xuXHRcdH1cblx0fVxuXHRjb3B5KGFkZGl0aW9uYWxIYW5kbGVycyA9IFtdLCBpbmhlcml0ID0gdHJ1ZSkge1xuXHRcdGNvbnN0IG1hbmFnZXIgPSBuZXcgQ2FsbGJhY2tNYW5hZ2VyKHRoaXMuX3BhcmVudFJ1bklkKTtcblx0XHRmb3IgKGNvbnN0IGhhbmRsZXIgb2YgdGhpcy5oYW5kbGVycykge1xuXHRcdFx0Y29uc3QgaW5oZXJpdGFibGUgPSB0aGlzLmluaGVyaXRhYmxlSGFuZGxlcnMuaW5jbHVkZXMoaGFuZGxlcik7XG5cdFx0XHRtYW5hZ2VyLmFkZEhhbmRsZXIoaGFuZGxlciwgaW5oZXJpdGFibGUpO1xuXHRcdH1cblx0XHRmb3IgKGNvbnN0IHRhZyBvZiB0aGlzLnRhZ3MpIHtcblx0XHRcdGNvbnN0IGluaGVyaXRhYmxlID0gdGhpcy5pbmhlcml0YWJsZVRhZ3MuaW5jbHVkZXModGFnKTtcblx0XHRcdG1hbmFnZXIuYWRkVGFncyhbdGFnXSwgaW5oZXJpdGFibGUpO1xuXHRcdH1cblx0XHRmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyh0aGlzLm1ldGFkYXRhKSkge1xuXHRcdFx0Y29uc3QgaW5oZXJpdGFibGUgPSBPYmplY3Qua2V5cyh0aGlzLmluaGVyaXRhYmxlTWV0YWRhdGEpLmluY2x1ZGVzKGtleSk7XG5cdFx0XHRtYW5hZ2VyLmFkZE1ldGFkYXRhKHsgW2tleV06IHRoaXMubWV0YWRhdGFba2V5XSB9LCBpbmhlcml0YWJsZSk7XG5cdFx0fVxuXHRcdGZvciAoY29uc3QgaGFuZGxlciBvZiBhZGRpdGlvbmFsSGFuZGxlcnMpIHtcblx0XHRcdGlmIChtYW5hZ2VyLmhhbmRsZXJzLmZpbHRlcigoaCkgPT4gaC5uYW1lID09PSBcImNvbnNvbGVfY2FsbGJhY2tfaGFuZGxlclwiKS5zb21lKChoKSA9PiBoLm5hbWUgPT09IGhhbmRsZXIubmFtZSkpIGNvbnRpbnVlO1xuXHRcdFx0bWFuYWdlci5hZGRIYW5kbGVyKGhhbmRsZXIsIGluaGVyaXQpO1xuXHRcdH1cblx0XHRyZXR1cm4gbWFuYWdlcjtcblx0fVxuXHRzdGF0aWMgZnJvbUhhbmRsZXJzKGhhbmRsZXJzKSB7XG5cdFx0Y2xhc3MgSGFuZGxlciBleHRlbmRzIEJhc2VDYWxsYmFja0hhbmRsZXIge1xuXHRcdFx0bmFtZSA9IHY0KCk7XG5cdFx0XHRjb25zdHJ1Y3RvcigpIHtcblx0XHRcdFx0c3VwZXIoKTtcblx0XHRcdFx0T2JqZWN0LmFzc2lnbih0aGlzLCBoYW5kbGVycyk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGNvbnN0IG1hbmFnZXIgPSBuZXcgdGhpcygpO1xuXHRcdG1hbmFnZXIuYWRkSGFuZGxlcihuZXcgSGFuZGxlcigpKTtcblx0XHRyZXR1cm4gbWFuYWdlcjtcblx0fVxuXHRzdGF0aWMgY29uZmlndXJlKGluaGVyaXRhYmxlSGFuZGxlcnMsIGxvY2FsSGFuZGxlcnMsIGluaGVyaXRhYmxlVGFncywgbG9jYWxUYWdzLCBpbmhlcml0YWJsZU1ldGFkYXRhLCBsb2NhbE1ldGFkYXRhLCBvcHRpb25zKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2NvbmZpZ3VyZVN5bmMoaW5oZXJpdGFibGVIYW5kbGVycywgbG9jYWxIYW5kbGVycywgaW5oZXJpdGFibGVUYWdzLCBsb2NhbFRhZ3MsIGluaGVyaXRhYmxlTWV0YWRhdGEsIGxvY2FsTWV0YWRhdGEsIG9wdGlvbnMpO1xuXHR9XG5cdHN0YXRpYyBfY29uZmlndXJlU3luYyhpbmhlcml0YWJsZUhhbmRsZXJzLCBsb2NhbEhhbmRsZXJzLCBpbmhlcml0YWJsZVRhZ3MsIGxvY2FsVGFncywgaW5oZXJpdGFibGVNZXRhZGF0YSwgbG9jYWxNZXRhZGF0YSwgb3B0aW9ucykge1xuXHRcdGxldCBjYWxsYmFja01hbmFnZXI7XG5cdFx0aWYgKGluaGVyaXRhYmxlSGFuZGxlcnMgfHwgbG9jYWxIYW5kbGVycykge1xuXHRcdFx0aWYgKEFycmF5LmlzQXJyYXkoaW5oZXJpdGFibGVIYW5kbGVycykgfHwgIWluaGVyaXRhYmxlSGFuZGxlcnMpIHtcblx0XHRcdFx0Y2FsbGJhY2tNYW5hZ2VyID0gbmV3IENhbGxiYWNrTWFuYWdlcigpO1xuXHRcdFx0XHRjYWxsYmFja01hbmFnZXIuc2V0SGFuZGxlcnMoaW5oZXJpdGFibGVIYW5kbGVycz8ubWFwKGVuc3VyZUhhbmRsZXIpID8/IFtdLCB0cnVlKTtcblx0XHRcdH0gZWxzZSBjYWxsYmFja01hbmFnZXIgPSBpbmhlcml0YWJsZUhhbmRsZXJzO1xuXHRcdFx0Y2FsbGJhY2tNYW5hZ2VyID0gY2FsbGJhY2tNYW5hZ2VyLmNvcHkoQXJyYXkuaXNBcnJheShsb2NhbEhhbmRsZXJzKSA/IGxvY2FsSGFuZGxlcnMubWFwKGVuc3VyZUhhbmRsZXIpIDogbG9jYWxIYW5kbGVycz8uaGFuZGxlcnMsIGZhbHNlKTtcblx0XHR9XG5cdFx0Y29uc3QgdmVyYm9zZUVuYWJsZWQgPSBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiTEFOR0NIQUlOX1ZFUkJPU0VcIikgPT09IFwidHJ1ZVwiIHx8IG9wdGlvbnM/LnZlcmJvc2U7XG5cdFx0Y29uc3QgdHJhY2luZ1YyRW5hYmxlZCA9IExhbmdDaGFpblRyYWNlci5nZXRUcmFjZWFibGVSdW5UcmVlKCk/LnRyYWNpbmdFbmFibGVkIHx8IGlzVHJhY2luZ0VuYWJsZWQoKTtcblx0XHRjb25zdCB0cmFjaW5nRW5hYmxlZCA9IHRyYWNpbmdWMkVuYWJsZWQgfHwgKGdldEVudmlyb25tZW50VmFyaWFibGUoXCJMQU5HQ0hBSU5fVFJBQ0lOR1wiKSA/PyBmYWxzZSk7XG5cdFx0aWYgKHZlcmJvc2VFbmFibGVkIHx8IHRyYWNpbmdFbmFibGVkKSB7XG5cdFx0XHRpZiAoIWNhbGxiYWNrTWFuYWdlcikgY2FsbGJhY2tNYW5hZ2VyID0gbmV3IENhbGxiYWNrTWFuYWdlcigpO1xuXHRcdFx0aWYgKHZlcmJvc2VFbmFibGVkICYmICFjYWxsYmFja01hbmFnZXIuaGFuZGxlcnMuc29tZSgoaGFuZGxlcikgPT4gaGFuZGxlci5uYW1lID09PSBDb25zb2xlQ2FsbGJhY2tIYW5kbGVyLnByb3RvdHlwZS5uYW1lKSkge1xuXHRcdFx0XHRjb25zdCBjb25zb2xlSGFuZGxlciA9IG5ldyBDb25zb2xlQ2FsbGJhY2tIYW5kbGVyKCk7XG5cdFx0XHRcdGNhbGxiYWNrTWFuYWdlci5hZGRIYW5kbGVyKGNvbnNvbGVIYW5kbGVyLCB0cnVlKTtcblx0XHRcdH1cblx0XHRcdGlmICh0cmFjaW5nRW5hYmxlZCAmJiAhY2FsbGJhY2tNYW5hZ2VyLmhhbmRsZXJzLnNvbWUoKGhhbmRsZXIpID0+IGhhbmRsZXIubmFtZSA9PT0gXCJsYW5nY2hhaW5fdHJhY2VyXCIpKSB7XG5cdFx0XHRcdGlmICh0cmFjaW5nVjJFbmFibGVkKSB7XG5cdFx0XHRcdFx0Y29uc3QgdHJhY2VyVjIgPSBuZXcgTGFuZ0NoYWluVHJhY2VyKCk7XG5cdFx0XHRcdFx0Y2FsbGJhY2tNYW5hZ2VyLmFkZEhhbmRsZXIodHJhY2VyVjIsIHRydWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAodHJhY2luZ1YyRW5hYmxlZCkge1xuXHRcdFx0XHRjb25zdCBpbXBsaWNpdFJ1blRyZWUgPSBMYW5nQ2hhaW5UcmFjZXIuZ2V0VHJhY2VhYmxlUnVuVHJlZSgpO1xuXHRcdFx0XHRpZiAoaW1wbGljaXRSdW5UcmVlICYmIGNhbGxiYWNrTWFuYWdlci5fcGFyZW50UnVuSWQgPT09IHZvaWQgMCkge1xuXHRcdFx0XHRcdGNhbGxiYWNrTWFuYWdlci5fcGFyZW50UnVuSWQgPSBpbXBsaWNpdFJ1blRyZWUuaWQ7XG5cdFx0XHRcdFx0Y29uc3QgdHJhY2VyVjIgPSBjYWxsYmFja01hbmFnZXIuaGFuZGxlcnMuZmluZCgoaGFuZGxlcikgPT4gaGFuZGxlci5uYW1lID09PSBcImxhbmdjaGFpbl90cmFjZXJcIik7XG5cdFx0XHRcdFx0dHJhY2VyVjI/LnVwZGF0ZUZyb21SdW5UcmVlKGltcGxpY2l0UnVuVHJlZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0Zm9yIChjb25zdCB7IGNvbnRleHRWYXIsIGluaGVyaXRhYmxlID0gdHJ1ZSwgaGFuZGxlckNsYXNzLCBlbnZWYXIgfSBvZiBfZ2V0Q29uZmlndXJlSG9va3MoKSkge1xuXHRcdFx0Y29uc3QgY3JlYXRlSWZOb3RJbkNvbnRleHQgPSBlbnZWYXIgJiYgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShlbnZWYXIpID09PSBcInRydWVcIiAmJiBoYW5kbGVyQ2xhc3M7XG5cdFx0XHRsZXQgaGFuZGxlcjtcblx0XHRcdGNvbnN0IGNvbnRleHRWYXJWYWx1ZSA9IGNvbnRleHRWYXIgIT09IHZvaWQgMCA/IGdldENvbnRleHRWYXJpYWJsZShjb250ZXh0VmFyKSA6IHZvaWQgMDtcblx0XHRcdGlmIChjb250ZXh0VmFyVmFsdWUgJiYgaXNCYXNlQ2FsbGJhY2tIYW5kbGVyKGNvbnRleHRWYXJWYWx1ZSkpIGhhbmRsZXIgPSBjb250ZXh0VmFyVmFsdWU7XG5cdFx0XHRlbHNlIGlmIChjcmVhdGVJZk5vdEluQ29udGV4dCkgaGFuZGxlciA9IG5ldyBoYW5kbGVyQ2xhc3Moe30pO1xuXHRcdFx0aWYgKGhhbmRsZXIgIT09IHZvaWQgMCkge1xuXHRcdFx0XHRpZiAoIWNhbGxiYWNrTWFuYWdlcikgY2FsbGJhY2tNYW5hZ2VyID0gbmV3IENhbGxiYWNrTWFuYWdlcigpO1xuXHRcdFx0XHRpZiAoIWNhbGxiYWNrTWFuYWdlci5oYW5kbGVycy5zb21lKChoKSA9PiBoLm5hbWUgPT09IGhhbmRsZXIubmFtZSkpIGNhbGxiYWNrTWFuYWdlci5hZGRIYW5kbGVyKGhhbmRsZXIsIGluaGVyaXRhYmxlKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKGluaGVyaXRhYmxlVGFncyB8fCBsb2NhbFRhZ3MpIHtcblx0XHRcdGlmIChjYWxsYmFja01hbmFnZXIpIHtcblx0XHRcdFx0Y2FsbGJhY2tNYW5hZ2VyLmFkZFRhZ3MoaW5oZXJpdGFibGVUYWdzID8/IFtdKTtcblx0XHRcdFx0Y2FsbGJhY2tNYW5hZ2VyLmFkZFRhZ3MobG9jYWxUYWdzID8/IFtdLCBmYWxzZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChpbmhlcml0YWJsZU1ldGFkYXRhIHx8IGxvY2FsTWV0YWRhdGEpIHtcblx0XHRcdGlmIChjYWxsYmFja01hbmFnZXIpIHtcblx0XHRcdFx0Y2FsbGJhY2tNYW5hZ2VyLmFkZE1ldGFkYXRhKGluaGVyaXRhYmxlTWV0YWRhdGEgPz8ge30pO1xuXHRcdFx0XHRjYWxsYmFja01hbmFnZXIuYWRkTWV0YWRhdGEobG9jYWxNZXRhZGF0YSA/PyB7fSwgZmFsc2UpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gY2FsbGJhY2tNYW5hZ2VyO1xuXHR9XG59O1xuZnVuY3Rpb24gZW5zdXJlSGFuZGxlcihoYW5kbGVyKSB7XG5cdGlmIChcIm5hbWVcIiBpbiBoYW5kbGVyKSByZXR1cm4gaGFuZGxlcjtcblx0cmV0dXJuIEJhc2VDYWxsYmFja0hhbmRsZXIuZnJvbU1ldGhvZHMoaGFuZGxlcik7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQmFzZUNhbGxiYWNrTWFuYWdlciwgQmFzZVJ1bk1hbmFnZXIsIENhbGxiYWNrTWFuYWdlciwgQ2FsbGJhY2tNYW5hZ2VyRm9yQ2hhaW5SdW4sIENhbGxiYWNrTWFuYWdlckZvckxMTVJ1biwgQ2FsbGJhY2tNYW5hZ2VyRm9yUmV0cmlldmVyUnVuLCBDYWxsYmFja01hbmFnZXJGb3JUb29sUnVuLCBlbnN1cmVIYW5kbGVyLCBtYW5hZ2VyX2V4cG9ydHMsIHBhcnNlQ2FsbGJhY2tDb25maWdBcmcgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hbmFnZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/callbacks/manager.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/callbacks/promises.js":
/*!**********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/callbacks/promises.js ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   awaitAllCallbacks: () => (/* reexport safe */ _singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_1__.awaitAllCallbacks),\n/* harmony export */   consumeCallback: () => (/* reexport safe */ _singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_1__.consumeCallback),\n/* harmony export */   promises_exports: () => (/* binding */ promises_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../singletons/callbacks.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/callbacks.js\");\n\n\n\n//#region src/callbacks/promises.ts\nvar promises_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(promises_exports, {\n\tawaitAllCallbacks: () => _singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_1__.awaitAllCallbacks,\n\tconsumeCallback: () => _singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_1__.consumeCallback\n});\n\n//#endregion\n\n//# sourceMappingURL=promises.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9jYWxsYmFja3MvcHJvbWlzZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBMkQ7QUFDcUI7O0FBRWhGO0FBQ0E7QUFDQSxzRUFBUTtBQUNSLDBCQUEwQix1RUFBaUI7QUFDM0Msd0JBQXdCLHFFQUFlO0FBQ3ZDLENBQUM7O0FBRUQ7QUFDZ0U7QUFDaEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L2NhbGxiYWNrcy9wcm9taXNlcy5qcz9lZTFhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fZXhwb3J0IH0gZnJvbSBcIi4uL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuanNcIjtcbmltcG9ydCB7IGF3YWl0QWxsQ2FsbGJhY2tzLCBjb25zdW1lQ2FsbGJhY2sgfSBmcm9tIFwiLi4vc2luZ2xldG9ucy9jYWxsYmFja3MuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9jYWxsYmFja3MvcHJvbWlzZXMudHNcbnZhciBwcm9taXNlc19leHBvcnRzID0ge307XG5fX2V4cG9ydChwcm9taXNlc19leHBvcnRzLCB7XG5cdGF3YWl0QWxsQ2FsbGJhY2tzOiAoKSA9PiBhd2FpdEFsbENhbGxiYWNrcyxcblx0Y29uc3VtZUNhbGxiYWNrOiAoKSA9PiBjb25zdW1lQ2FsbGJhY2tcbn0pO1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IGF3YWl0QWxsQ2FsbGJhY2tzLCBjb25zdW1lQ2FsbGJhY2ssIHByb21pc2VzX2V4cG9ydHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb21pc2VzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/callbacks/promises.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/chat_history.js":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/chat_history.js ***!
  \****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseChatMessageHistory: () => (/* binding */ BaseChatMessageHistory),\n/* harmony export */   BaseListChatMessageHistory: () => (/* binding */ BaseListChatMessageHistory),\n/* harmony export */   InMemoryChatMessageHistory: () => (/* binding */ InMemoryChatMessageHistory),\n/* harmony export */   chat_history_exports: () => (/* binding */ chat_history_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _load_serializable_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./load/serializable.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/load/serializable.js\");\n/* harmony import */ var _messages_ai_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./messages/ai.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/ai.js\");\n/* harmony import */ var _messages_human_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./messages/human.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/human.js\");\n/* harmony import */ var _messages_index_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./messages/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/index.js\");\n\n\n\n\n\n\n//#region src/chat_history.ts\nvar chat_history_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(chat_history_exports, {\n\tBaseChatMessageHistory: () => BaseChatMessageHistory,\n\tBaseListChatMessageHistory: () => BaseListChatMessageHistory,\n\tInMemoryChatMessageHistory: () => InMemoryChatMessageHistory\n});\n/**\n* Base class for all chat message histories. All chat message histories\n* should extend this class.\n*/\nvar BaseChatMessageHistory = class extends _load_serializable_js__WEBPACK_IMPORTED_MODULE_1__.Serializable {\n\t/**\n\t* Add a list of messages.\n\t*\n\t* Implementations should override this method to handle bulk addition of messages\n\t* in an efficient manner to avoid unnecessary round-trips to the underlying store.\n\t*\n\t* @param messages - A list of BaseMessage objects to store.\n\t*/\n\tasync addMessages(messages) {\n\t\tfor (const message of messages) await this.addMessage(message);\n\t}\n};\n/**\n* Base class for all list chat message histories. All list chat message\n* histories should extend this class.\n*/\nvar BaseListChatMessageHistory = class extends _load_serializable_js__WEBPACK_IMPORTED_MODULE_1__.Serializable {\n\t/**\n\t* This is a convenience method for adding a human message string to the store.\n\t* Please note that this is a convenience method. Code should favor the\n\t* bulk addMessages interface instead to save on round-trips to the underlying\n\t* persistence layer.\n\t* This method may be deprecated in a future release.\n\t*/\n\taddUserMessage(message) {\n\t\treturn this.addMessage(new _messages_human_js__WEBPACK_IMPORTED_MODULE_3__.HumanMessage(message));\n\t}\n\t/**\n\t* This is a convenience method for adding an AI message string to the store.\n\t* Please note that this is a convenience method. Code should favor the bulk\n\t* addMessages interface instead to save on round-trips to the underlying\n\t* persistence layer.\n\t* This method may be deprecated in a future release.\n\t*/\n\taddAIMessage(message) {\n\t\treturn this.addMessage(new _messages_ai_js__WEBPACK_IMPORTED_MODULE_2__.AIMessage(message));\n\t}\n\t/**\n\t* Add a list of messages.\n\t*\n\t* Implementations should override this method to handle bulk addition of messages\n\t* in an efficient manner to avoid unnecessary round-trips to the underlying store.\n\t*\n\t* @param messages - A list of BaseMessage objects to store.\n\t*/\n\tasync addMessages(messages) {\n\t\tfor (const message of messages) await this.addMessage(message);\n\t}\n\t/**\n\t* Remove all messages from the store.\n\t*/\n\tclear() {\n\t\tthrow new Error(\"Not implemented.\");\n\t}\n};\n/**\n* Class for storing chat message history in-memory. It extends the\n* BaseListChatMessageHistory class and provides methods to get, add, and\n* clear messages.\n*/\nvar InMemoryChatMessageHistory = class extends BaseListChatMessageHistory {\n\tlc_namespace = [\n\t\t\"langchain\",\n\t\t\"stores\",\n\t\t\"message\",\n\t\t\"in_memory\"\n\t];\n\tmessages = [];\n\tconstructor(messages) {\n\t\tsuper(...arguments);\n\t\tthis.messages = messages ?? [];\n\t}\n\t/**\n\t* Method to get all the messages stored in the ChatMessageHistory\n\t* instance.\n\t* @returns Array of stored BaseMessage instances.\n\t*/\n\tasync getMessages() {\n\t\treturn this.messages;\n\t}\n\t/**\n\t* Method to add a new message to the ChatMessageHistory instance.\n\t* @param message The BaseMessage instance to add.\n\t* @returns A promise that resolves when the message has been added.\n\t*/\n\tasync addMessage(message) {\n\t\tthis.messages.push(message);\n\t}\n\t/**\n\t* Method to clear all the messages from the ChatMessageHistory instance.\n\t* @returns A promise that resolves when all messages have been cleared.\n\t*/\n\tasync clear() {\n\t\tthis.messages = [];\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=chat_history.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9jaGF0X2hpc3RvcnkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQTBEO0FBQ0o7QUFDVDtBQUNNO0FBQ3RCOztBQUU3QjtBQUNBO0FBQ0Esc0VBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsK0RBQVk7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsK0RBQVk7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qiw0REFBWTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsc0RBQVM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ2dIO0FBQ2hIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9jaGF0X2hpc3RvcnkuanM/YjA4YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2V4cG9ydCB9IGZyb20gXCIuL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuanNcIjtcbmltcG9ydCB7IFNlcmlhbGl6YWJsZSB9IGZyb20gXCIuL2xvYWQvc2VyaWFsaXphYmxlLmpzXCI7XG5pbXBvcnQgeyBBSU1lc3NhZ2UgfSBmcm9tIFwiLi9tZXNzYWdlcy9haS5qc1wiO1xuaW1wb3J0IHsgSHVtYW5NZXNzYWdlIH0gZnJvbSBcIi4vbWVzc2FnZXMvaHVtYW4uanNcIjtcbmltcG9ydCBcIi4vbWVzc2FnZXMvaW5kZXguanNcIjtcblxuLy8jcmVnaW9uIHNyYy9jaGF0X2hpc3RvcnkudHNcbnZhciBjaGF0X2hpc3RvcnlfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQoY2hhdF9oaXN0b3J5X2V4cG9ydHMsIHtcblx0QmFzZUNoYXRNZXNzYWdlSGlzdG9yeTogKCkgPT4gQmFzZUNoYXRNZXNzYWdlSGlzdG9yeSxcblx0QmFzZUxpc3RDaGF0TWVzc2FnZUhpc3Rvcnk6ICgpID0+IEJhc2VMaXN0Q2hhdE1lc3NhZ2VIaXN0b3J5LFxuXHRJbk1lbW9yeUNoYXRNZXNzYWdlSGlzdG9yeTogKCkgPT4gSW5NZW1vcnlDaGF0TWVzc2FnZUhpc3Rvcnlcbn0pO1xuLyoqXG4qIEJhc2UgY2xhc3MgZm9yIGFsbCBjaGF0IG1lc3NhZ2UgaGlzdG9yaWVzLiBBbGwgY2hhdCBtZXNzYWdlIGhpc3Rvcmllc1xuKiBzaG91bGQgZXh0ZW5kIHRoaXMgY2xhc3MuXG4qL1xudmFyIEJhc2VDaGF0TWVzc2FnZUhpc3RvcnkgPSBjbGFzcyBleHRlbmRzIFNlcmlhbGl6YWJsZSB7XG5cdC8qKlxuXHQqIEFkZCBhIGxpc3Qgb2YgbWVzc2FnZXMuXG5cdCpcblx0KiBJbXBsZW1lbnRhdGlvbnMgc2hvdWxkIG92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIGhhbmRsZSBidWxrIGFkZGl0aW9uIG9mIG1lc3NhZ2VzXG5cdCogaW4gYW4gZWZmaWNpZW50IG1hbm5lciB0byBhdm9pZCB1bm5lY2Vzc2FyeSByb3VuZC10cmlwcyB0byB0aGUgdW5kZXJseWluZyBzdG9yZS5cblx0KlxuXHQqIEBwYXJhbSBtZXNzYWdlcyAtIEEgbGlzdCBvZiBCYXNlTWVzc2FnZSBvYmplY3RzIHRvIHN0b3JlLlxuXHQqL1xuXHRhc3luYyBhZGRNZXNzYWdlcyhtZXNzYWdlcykge1xuXHRcdGZvciAoY29uc3QgbWVzc2FnZSBvZiBtZXNzYWdlcykgYXdhaXQgdGhpcy5hZGRNZXNzYWdlKG1lc3NhZ2UpO1xuXHR9XG59O1xuLyoqXG4qIEJhc2UgY2xhc3MgZm9yIGFsbCBsaXN0IGNoYXQgbWVzc2FnZSBoaXN0b3JpZXMuIEFsbCBsaXN0IGNoYXQgbWVzc2FnZVxuKiBoaXN0b3JpZXMgc2hvdWxkIGV4dGVuZCB0aGlzIGNsYXNzLlxuKi9cbnZhciBCYXNlTGlzdENoYXRNZXNzYWdlSGlzdG9yeSA9IGNsYXNzIGV4dGVuZHMgU2VyaWFsaXphYmxlIHtcblx0LyoqXG5cdCogVGhpcyBpcyBhIGNvbnZlbmllbmNlIG1ldGhvZCBmb3IgYWRkaW5nIGEgaHVtYW4gbWVzc2FnZSBzdHJpbmcgdG8gdGhlIHN0b3JlLlxuXHQqIFBsZWFzZSBub3RlIHRoYXQgdGhpcyBpcyBhIGNvbnZlbmllbmNlIG1ldGhvZC4gQ29kZSBzaG91bGQgZmF2b3IgdGhlXG5cdCogYnVsayBhZGRNZXNzYWdlcyBpbnRlcmZhY2UgaW5zdGVhZCB0byBzYXZlIG9uIHJvdW5kLXRyaXBzIHRvIHRoZSB1bmRlcmx5aW5nXG5cdCogcGVyc2lzdGVuY2UgbGF5ZXIuXG5cdCogVGhpcyBtZXRob2QgbWF5IGJlIGRlcHJlY2F0ZWQgaW4gYSBmdXR1cmUgcmVsZWFzZS5cblx0Ki9cblx0YWRkVXNlck1lc3NhZ2UobWVzc2FnZSkge1xuXHRcdHJldHVybiB0aGlzLmFkZE1lc3NhZ2UobmV3IEh1bWFuTWVzc2FnZShtZXNzYWdlKSk7XG5cdH1cblx0LyoqXG5cdCogVGhpcyBpcyBhIGNvbnZlbmllbmNlIG1ldGhvZCBmb3IgYWRkaW5nIGFuIEFJIG1lc3NhZ2Ugc3RyaW5nIHRvIHRoZSBzdG9yZS5cblx0KiBQbGVhc2Ugbm90ZSB0aGF0IHRoaXMgaXMgYSBjb252ZW5pZW5jZSBtZXRob2QuIENvZGUgc2hvdWxkIGZhdm9yIHRoZSBidWxrXG5cdCogYWRkTWVzc2FnZXMgaW50ZXJmYWNlIGluc3RlYWQgdG8gc2F2ZSBvbiByb3VuZC10cmlwcyB0byB0aGUgdW5kZXJseWluZ1xuXHQqIHBlcnNpc3RlbmNlIGxheWVyLlxuXHQqIFRoaXMgbWV0aG9kIG1heSBiZSBkZXByZWNhdGVkIGluIGEgZnV0dXJlIHJlbGVhc2UuXG5cdCovXG5cdGFkZEFJTWVzc2FnZShtZXNzYWdlKSB7XG5cdFx0cmV0dXJuIHRoaXMuYWRkTWVzc2FnZShuZXcgQUlNZXNzYWdlKG1lc3NhZ2UpKTtcblx0fVxuXHQvKipcblx0KiBBZGQgYSBsaXN0IG9mIG1lc3NhZ2VzLlxuXHQqXG5cdCogSW1wbGVtZW50YXRpb25zIHNob3VsZCBvdmVycmlkZSB0aGlzIG1ldGhvZCB0byBoYW5kbGUgYnVsayBhZGRpdGlvbiBvZiBtZXNzYWdlc1xuXHQqIGluIGFuIGVmZmljaWVudCBtYW5uZXIgdG8gYXZvaWQgdW5uZWNlc3Nhcnkgcm91bmQtdHJpcHMgdG8gdGhlIHVuZGVybHlpbmcgc3RvcmUuXG5cdCpcblx0KiBAcGFyYW0gbWVzc2FnZXMgLSBBIGxpc3Qgb2YgQmFzZU1lc3NhZ2Ugb2JqZWN0cyB0byBzdG9yZS5cblx0Ki9cblx0YXN5bmMgYWRkTWVzc2FnZXMobWVzc2FnZXMpIHtcblx0XHRmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgbWVzc2FnZXMpIGF3YWl0IHRoaXMuYWRkTWVzc2FnZShtZXNzYWdlKTtcblx0fVxuXHQvKipcblx0KiBSZW1vdmUgYWxsIG1lc3NhZ2VzIGZyb20gdGhlIHN0b3JlLlxuXHQqL1xuXHRjbGVhcigpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWQuXCIpO1xuXHR9XG59O1xuLyoqXG4qIENsYXNzIGZvciBzdG9yaW5nIGNoYXQgbWVzc2FnZSBoaXN0b3J5IGluLW1lbW9yeS4gSXQgZXh0ZW5kcyB0aGVcbiogQmFzZUxpc3RDaGF0TWVzc2FnZUhpc3RvcnkgY2xhc3MgYW5kIHByb3ZpZGVzIG1ldGhvZHMgdG8gZ2V0LCBhZGQsIGFuZFxuKiBjbGVhciBtZXNzYWdlcy5cbiovXG52YXIgSW5NZW1vcnlDaGF0TWVzc2FnZUhpc3RvcnkgPSBjbGFzcyBleHRlbmRzIEJhc2VMaXN0Q2hhdE1lc3NhZ2VIaXN0b3J5IHtcblx0bGNfbmFtZXNwYWNlID0gW1xuXHRcdFwibGFuZ2NoYWluXCIsXG5cdFx0XCJzdG9yZXNcIixcblx0XHRcIm1lc3NhZ2VcIixcblx0XHRcImluX21lbW9yeVwiXG5cdF07XG5cdG1lc3NhZ2VzID0gW107XG5cdGNvbnN0cnVjdG9yKG1lc3NhZ2VzKSB7XG5cdFx0c3VwZXIoLi4uYXJndW1lbnRzKTtcblx0XHR0aGlzLm1lc3NhZ2VzID0gbWVzc2FnZXMgPz8gW107XG5cdH1cblx0LyoqXG5cdCogTWV0aG9kIHRvIGdldCBhbGwgdGhlIG1lc3NhZ2VzIHN0b3JlZCBpbiB0aGUgQ2hhdE1lc3NhZ2VIaXN0b3J5XG5cdCogaW5zdGFuY2UuXG5cdCogQHJldHVybnMgQXJyYXkgb2Ygc3RvcmVkIEJhc2VNZXNzYWdlIGluc3RhbmNlcy5cblx0Ki9cblx0YXN5bmMgZ2V0TWVzc2FnZXMoKSB7XG5cdFx0cmV0dXJuIHRoaXMubWVzc2FnZXM7XG5cdH1cblx0LyoqXG5cdCogTWV0aG9kIHRvIGFkZCBhIG5ldyBtZXNzYWdlIHRvIHRoZSBDaGF0TWVzc2FnZUhpc3RvcnkgaW5zdGFuY2UuXG5cdCogQHBhcmFtIG1lc3NhZ2UgVGhlIEJhc2VNZXNzYWdlIGluc3RhbmNlIHRvIGFkZC5cblx0KiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBtZXNzYWdlIGhhcyBiZWVuIGFkZGVkLlxuXHQqL1xuXHRhc3luYyBhZGRNZXNzYWdlKG1lc3NhZ2UpIHtcblx0XHR0aGlzLm1lc3NhZ2VzLnB1c2gobWVzc2FnZSk7XG5cdH1cblx0LyoqXG5cdCogTWV0aG9kIHRvIGNsZWFyIGFsbCB0aGUgbWVzc2FnZXMgZnJvbSB0aGUgQ2hhdE1lc3NhZ2VIaXN0b3J5IGluc3RhbmNlLlxuXHQqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gYWxsIG1lc3NhZ2VzIGhhdmUgYmVlbiBjbGVhcmVkLlxuXHQqL1xuXHRhc3luYyBjbGVhcigpIHtcblx0XHR0aGlzLm1lc3NhZ2VzID0gW107XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQmFzZUNoYXRNZXNzYWdlSGlzdG9yeSwgQmFzZUxpc3RDaGF0TWVzc2FnZUhpc3RvcnksIEluTWVtb3J5Q2hhdE1lc3NhZ2VIaXN0b3J5LCBjaGF0X2hpc3RvcnlfZXhwb3J0cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hhdF9oaXN0b3J5LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/chat_history.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/document_loaders/base.js":
/*!*************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/document_loaders/base.js ***!
  \*************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseDocumentLoader: () => (/* binding */ BaseDocumentLoader),\n/* harmony export */   base_exports: () => (/* binding */ base_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n\n\n//#region src/document_loaders/base.ts\nvar base_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(base_exports, { BaseDocumentLoader: () => BaseDocumentLoader });\n/**\n* Abstract class that provides a default implementation for the\n* loadAndSplit() method from the DocumentLoader interface. The load()\n* method is left abstract and needs to be implemented by subclasses.\n*/\nvar BaseDocumentLoader = class {};\n\n//#endregion\n\n//# sourceMappingURL=base.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9kb2N1bWVudF9sb2FkZXJzL2Jhc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJEOztBQUUzRDtBQUNBO0FBQ0Esc0VBQVEsaUJBQWlCLDhDQUE4QztBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDNEM7QUFDNUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L2RvY3VtZW50X2xvYWRlcnMvYmFzZS5qcz8yNmU1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fZXhwb3J0IH0gZnJvbSBcIi4uL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9kb2N1bWVudF9sb2FkZXJzL2Jhc2UudHNcbnZhciBiYXNlX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KGJhc2VfZXhwb3J0cywgeyBCYXNlRG9jdW1lbnRMb2FkZXI6ICgpID0+IEJhc2VEb2N1bWVudExvYWRlciB9KTtcbi8qKlxuKiBBYnN0cmFjdCBjbGFzcyB0aGF0IHByb3ZpZGVzIGEgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBmb3IgdGhlXG4qIGxvYWRBbmRTcGxpdCgpIG1ldGhvZCBmcm9tIHRoZSBEb2N1bWVudExvYWRlciBpbnRlcmZhY2UuIFRoZSBsb2FkKClcbiogbWV0aG9kIGlzIGxlZnQgYWJzdHJhY3QgYW5kIG5lZWRzIHRvIGJlIGltcGxlbWVudGVkIGJ5IHN1YmNsYXNzZXMuXG4qL1xudmFyIEJhc2VEb2N1bWVudExvYWRlciA9IGNsYXNzIHt9O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEJhc2VEb2N1bWVudExvYWRlciwgYmFzZV9leHBvcnRzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iYXNlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/document_loaders/base.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/document_loaders/langsmith.js":
/*!******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/document_loaders/langsmith.js ***!
  \******************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LangSmithLoader: () => (/* binding */ LangSmithLoader),\n/* harmony export */   langsmith_exports: () => (/* binding */ langsmith_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/document_loaders/base.js\");\n/* harmony import */ var langsmith__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! langsmith */ \"(rsc)/./node_modules/.pnpm/langsmith@0.3.74_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/langsmith/index.js\");\n\n\n\n\n//#region src/document_loaders/langsmith.ts\nvar langsmith_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(langsmith_exports, { LangSmithLoader: () => LangSmithLoader });\n/**\n* Document loader integration with LangSmith.\n*\n* ## [Constructor args](https://api.js.langchain.com/interfaces/_langchain_core.document_loaders_langsmith.LangSmithLoaderFields.html)\n*\n* <details open>\n* <summary><strong>Load</strong></summary>\n*\n* ```typescript\n* import { LangSmithLoader } from '@langchain/core/document_loaders/langsmith';\n* import { Client } from 'langsmith';\n*\n* const langSmithClient = new Client({\n*   apiKey: process.env.LANGSMITH_API_KEY,\n* })\n*\n* const loader = new LangSmithLoader({\n*   datasetId: \"9a3b36f7-b308-40a5-9b46-6613853b6330\",\n*   limit: 1,\n* });\n*\n* const docs = await loader.load();\n* ```\n*\n* ```txt\n* [\n*   {\n*     pageContent: '{\\n  \"input_key_str\": \"string\",\\n  \"input_key_bool\": true\\n}',\n*     metadata: {\n*       id: '8523d9e9-c123-4b23-9b46-21021nds289e',\n*       created_at: '2024-08-19T17:09:14.806441+00:00',\n*       modified_at: '2024-08-19T17:09:14.806441+00:00',\n*       name: '#8517 @ brace-test-dataset',\n*       dataset_id: '9a3b36f7-b308-40a5-9b46-6613853b6330',\n*       source_run_id: null,\n*       metadata: [Object],\n*       inputs: [Object],\n*       outputs: [Object]\n*     }\n*   }\n* ]\n* ```\n* </details>\n*/\nvar LangSmithLoader = class extends _base_js__WEBPACK_IMPORTED_MODULE_1__.BaseDocumentLoader {\n\tdatasetId;\n\tdatasetName;\n\texampleIds;\n\tasOf;\n\tsplits;\n\tinlineS3Urls;\n\toffset;\n\tlimit;\n\tmetadata;\n\tfilter;\n\tcontentKey;\n\tformatContent;\n\tclient;\n\tconstructor(fields) {\n\t\tsuper();\n\t\tif (fields.client && fields.clientConfig) throw new Error(\"client and clientConfig cannot both be provided.\");\n\t\tthis.client = fields.client ?? new langsmith__WEBPACK_IMPORTED_MODULE_2__.Client(fields?.clientConfig);\n\t\tthis.contentKey = fields.contentKey ? fields.contentKey.split(\".\") : [];\n\t\tthis.formatContent = fields.formatContent ?? _stringify;\n\t\tthis.datasetId = fields.datasetId;\n\t\tthis.datasetName = fields.datasetName;\n\t\tthis.exampleIds = fields.exampleIds;\n\t\tthis.asOf = fields.asOf;\n\t\tthis.splits = fields.splits;\n\t\tthis.inlineS3Urls = fields.inlineS3Urls;\n\t\tthis.offset = fields.offset;\n\t\tthis.limit = fields.limit;\n\t\tthis.metadata = fields.metadata;\n\t\tthis.filter = fields.filter;\n\t}\n\tasync load() {\n\t\tconst documents = [];\n\t\tfor await (const example of this.client.listExamples({\n\t\t\tdatasetId: this.datasetId,\n\t\t\tdatasetName: this.datasetName,\n\t\t\texampleIds: this.exampleIds,\n\t\t\tasOf: this.asOf,\n\t\t\tsplits: this.splits,\n\t\t\tinlineS3Urls: this.inlineS3Urls,\n\t\t\toffset: this.offset,\n\t\t\tlimit: this.limit,\n\t\t\tmetadata: this.metadata,\n\t\t\tfilter: this.filter\n\t\t})) {\n\t\t\tlet content = example.inputs;\n\t\t\tfor (const key of this.contentKey) content = content[key];\n\t\t\tconst contentStr = this.formatContent(content);\n\t\t\tconst metadata = example;\n\t\t\t[\"created_at\", \"modified_at\"].forEach((k) => {\n\t\t\t\tif (k in metadata) {\n\t\t\t\t\tif (typeof metadata[k] === \"object\") metadata[k] = metadata[k].toString();\n\t\t\t\t}\n\t\t\t});\n\t\t\tdocuments.push({\n\t\t\t\tpageContent: contentStr,\n\t\t\t\tmetadata\n\t\t\t});\n\t\t}\n\t\treturn documents;\n\t}\n};\nfunction _stringify(x) {\n\tif (typeof x === \"string\") return x;\n\telse try {\n\t\treturn JSON.stringify(x, null, 2);\n\t} catch {\n\t\treturn String(x);\n\t}\n}\n\n//#endregion\n\n//# sourceMappingURL=langsmith.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9kb2N1bWVudF9sb2FkZXJzL2xhbmdzbWl0aC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUEyRDtBQUNaO0FBQ1o7O0FBRW5DO0FBQ0E7QUFDQSxzRUFBUSxzQkFBc0Isd0NBQXdDO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsa0JBQWtCO0FBQzdCLFdBQVcsU0FBUztBQUNwQjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsMkRBQTJEO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLHdEQUFrQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyw2Q0FBTTtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQzhDO0FBQzlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9kb2N1bWVudF9sb2FkZXJzL2xhbmdzbWl0aC5qcz84MTA0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fZXhwb3J0IH0gZnJvbSBcIi4uL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuanNcIjtcbmltcG9ydCB7IEJhc2VEb2N1bWVudExvYWRlciB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCB7IENsaWVudCB9IGZyb20gXCJsYW5nc21pdGhcIjtcblxuLy8jcmVnaW9uIHNyYy9kb2N1bWVudF9sb2FkZXJzL2xhbmdzbWl0aC50c1xudmFyIGxhbmdzbWl0aF9leHBvcnRzID0ge307XG5fX2V4cG9ydChsYW5nc21pdGhfZXhwb3J0cywgeyBMYW5nU21pdGhMb2FkZXI6ICgpID0+IExhbmdTbWl0aExvYWRlciB9KTtcbi8qKlxuKiBEb2N1bWVudCBsb2FkZXIgaW50ZWdyYXRpb24gd2l0aCBMYW5nU21pdGguXG4qXG4qICMjIFtDb25zdHJ1Y3RvciBhcmdzXShodHRwczovL2FwaS5qcy5sYW5nY2hhaW4uY29tL2ludGVyZmFjZXMvX2xhbmdjaGFpbl9jb3JlLmRvY3VtZW50X2xvYWRlcnNfbGFuZ3NtaXRoLkxhbmdTbWl0aExvYWRlckZpZWxkcy5odG1sKVxuKlxuKiA8ZGV0YWlscyBvcGVuPlxuKiA8c3VtbWFyeT48c3Ryb25nPkxvYWQ8L3N0cm9uZz48L3N1bW1hcnk+XG4qXG4qIGBgYHR5cGVzY3JpcHRcbiogaW1wb3J0IHsgTGFuZ1NtaXRoTG9hZGVyIH0gZnJvbSAnQGxhbmdjaGFpbi9jb3JlL2RvY3VtZW50X2xvYWRlcnMvbGFuZ3NtaXRoJztcbiogaW1wb3J0IHsgQ2xpZW50IH0gZnJvbSAnbGFuZ3NtaXRoJztcbipcbiogY29uc3QgbGFuZ1NtaXRoQ2xpZW50ID0gbmV3IENsaWVudCh7XG4qICAgYXBpS2V5OiBwcm9jZXNzLmVudi5MQU5HU01JVEhfQVBJX0tFWSxcbiogfSlcbipcbiogY29uc3QgbG9hZGVyID0gbmV3IExhbmdTbWl0aExvYWRlcih7XG4qICAgZGF0YXNldElkOiBcIjlhM2IzNmY3LWIzMDgtNDBhNS05YjQ2LTY2MTM4NTNiNjMzMFwiLFxuKiAgIGxpbWl0OiAxLFxuKiB9KTtcbipcbiogY29uc3QgZG9jcyA9IGF3YWl0IGxvYWRlci5sb2FkKCk7XG4qIGBgYFxuKlxuKiBgYGB0eHRcbiogW1xuKiAgIHtcbiogICAgIHBhZ2VDb250ZW50OiAne1xcbiAgXCJpbnB1dF9rZXlfc3RyXCI6IFwic3RyaW5nXCIsXFxuICBcImlucHV0X2tleV9ib29sXCI6IHRydWVcXG59JyxcbiogICAgIG1ldGFkYXRhOiB7XG4qICAgICAgIGlkOiAnODUyM2Q5ZTktYzEyMy00YjIzLTliNDYtMjEwMjFuZHMyODllJyxcbiogICAgICAgY3JlYXRlZF9hdDogJzIwMjQtMDgtMTlUMTc6MDk6MTQuODA2NDQxKzAwOjAwJyxcbiogICAgICAgbW9kaWZpZWRfYXQ6ICcyMDI0LTA4LTE5VDE3OjA5OjE0LjgwNjQ0MSswMDowMCcsXG4qICAgICAgIG5hbWU6ICcjODUxNyBAIGJyYWNlLXRlc3QtZGF0YXNldCcsXG4qICAgICAgIGRhdGFzZXRfaWQ6ICc5YTNiMzZmNy1iMzA4LTQwYTUtOWI0Ni02NjEzODUzYjYzMzAnLFxuKiAgICAgICBzb3VyY2VfcnVuX2lkOiBudWxsLFxuKiAgICAgICBtZXRhZGF0YTogW09iamVjdF0sXG4qICAgICAgIGlucHV0czogW09iamVjdF0sXG4qICAgICAgIG91dHB1dHM6IFtPYmplY3RdXG4qICAgICB9XG4qICAgfVxuKiBdXG4qIGBgYFxuKiA8L2RldGFpbHM+XG4qL1xudmFyIExhbmdTbWl0aExvYWRlciA9IGNsYXNzIGV4dGVuZHMgQmFzZURvY3VtZW50TG9hZGVyIHtcblx0ZGF0YXNldElkO1xuXHRkYXRhc2V0TmFtZTtcblx0ZXhhbXBsZUlkcztcblx0YXNPZjtcblx0c3BsaXRzO1xuXHRpbmxpbmVTM1VybHM7XG5cdG9mZnNldDtcblx0bGltaXQ7XG5cdG1ldGFkYXRhO1xuXHRmaWx0ZXI7XG5cdGNvbnRlbnRLZXk7XG5cdGZvcm1hdENvbnRlbnQ7XG5cdGNsaWVudDtcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoKTtcblx0XHRpZiAoZmllbGRzLmNsaWVudCAmJiBmaWVsZHMuY2xpZW50Q29uZmlnKSB0aHJvdyBuZXcgRXJyb3IoXCJjbGllbnQgYW5kIGNsaWVudENvbmZpZyBjYW5ub3QgYm90aCBiZSBwcm92aWRlZC5cIik7XG5cdFx0dGhpcy5jbGllbnQgPSBmaWVsZHMuY2xpZW50ID8/IG5ldyBDbGllbnQoZmllbGRzPy5jbGllbnRDb25maWcpO1xuXHRcdHRoaXMuY29udGVudEtleSA9IGZpZWxkcy5jb250ZW50S2V5ID8gZmllbGRzLmNvbnRlbnRLZXkuc3BsaXQoXCIuXCIpIDogW107XG5cdFx0dGhpcy5mb3JtYXRDb250ZW50ID0gZmllbGRzLmZvcm1hdENvbnRlbnQgPz8gX3N0cmluZ2lmeTtcblx0XHR0aGlzLmRhdGFzZXRJZCA9IGZpZWxkcy5kYXRhc2V0SWQ7XG5cdFx0dGhpcy5kYXRhc2V0TmFtZSA9IGZpZWxkcy5kYXRhc2V0TmFtZTtcblx0XHR0aGlzLmV4YW1wbGVJZHMgPSBmaWVsZHMuZXhhbXBsZUlkcztcblx0XHR0aGlzLmFzT2YgPSBmaWVsZHMuYXNPZjtcblx0XHR0aGlzLnNwbGl0cyA9IGZpZWxkcy5zcGxpdHM7XG5cdFx0dGhpcy5pbmxpbmVTM1VybHMgPSBmaWVsZHMuaW5saW5lUzNVcmxzO1xuXHRcdHRoaXMub2Zmc2V0ID0gZmllbGRzLm9mZnNldDtcblx0XHR0aGlzLmxpbWl0ID0gZmllbGRzLmxpbWl0O1xuXHRcdHRoaXMubWV0YWRhdGEgPSBmaWVsZHMubWV0YWRhdGE7XG5cdFx0dGhpcy5maWx0ZXIgPSBmaWVsZHMuZmlsdGVyO1xuXHR9XG5cdGFzeW5jIGxvYWQoKSB7XG5cdFx0Y29uc3QgZG9jdW1lbnRzID0gW107XG5cdFx0Zm9yIGF3YWl0IChjb25zdCBleGFtcGxlIG9mIHRoaXMuY2xpZW50Lmxpc3RFeGFtcGxlcyh7XG5cdFx0XHRkYXRhc2V0SWQ6IHRoaXMuZGF0YXNldElkLFxuXHRcdFx0ZGF0YXNldE5hbWU6IHRoaXMuZGF0YXNldE5hbWUsXG5cdFx0XHRleGFtcGxlSWRzOiB0aGlzLmV4YW1wbGVJZHMsXG5cdFx0XHRhc09mOiB0aGlzLmFzT2YsXG5cdFx0XHRzcGxpdHM6IHRoaXMuc3BsaXRzLFxuXHRcdFx0aW5saW5lUzNVcmxzOiB0aGlzLmlubGluZVMzVXJscyxcblx0XHRcdG9mZnNldDogdGhpcy5vZmZzZXQsXG5cdFx0XHRsaW1pdDogdGhpcy5saW1pdCxcblx0XHRcdG1ldGFkYXRhOiB0aGlzLm1ldGFkYXRhLFxuXHRcdFx0ZmlsdGVyOiB0aGlzLmZpbHRlclxuXHRcdH0pKSB7XG5cdFx0XHRsZXQgY29udGVudCA9IGV4YW1wbGUuaW5wdXRzO1xuXHRcdFx0Zm9yIChjb25zdCBrZXkgb2YgdGhpcy5jb250ZW50S2V5KSBjb250ZW50ID0gY29udGVudFtrZXldO1xuXHRcdFx0Y29uc3QgY29udGVudFN0ciA9IHRoaXMuZm9ybWF0Q29udGVudChjb250ZW50KTtcblx0XHRcdGNvbnN0IG1ldGFkYXRhID0gZXhhbXBsZTtcblx0XHRcdFtcImNyZWF0ZWRfYXRcIiwgXCJtb2RpZmllZF9hdFwiXS5mb3JFYWNoKChrKSA9PiB7XG5cdFx0XHRcdGlmIChrIGluIG1ldGFkYXRhKSB7XG5cdFx0XHRcdFx0aWYgKHR5cGVvZiBtZXRhZGF0YVtrXSA9PT0gXCJvYmplY3RcIikgbWV0YWRhdGFba10gPSBtZXRhZGF0YVtrXS50b1N0cmluZygpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdGRvY3VtZW50cy5wdXNoKHtcblx0XHRcdFx0cGFnZUNvbnRlbnQ6IGNvbnRlbnRTdHIsXG5cdFx0XHRcdG1ldGFkYXRhXG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0cmV0dXJuIGRvY3VtZW50cztcblx0fVxufTtcbmZ1bmN0aW9uIF9zdHJpbmdpZnkoeCkge1xuXHRpZiAodHlwZW9mIHggPT09IFwic3RyaW5nXCIpIHJldHVybiB4O1xuXHRlbHNlIHRyeSB7XG5cdFx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KHgsIG51bGwsIDIpO1xuXHR9IGNhdGNoIHtcblx0XHRyZXR1cm4gU3RyaW5nKHgpO1xuXHR9XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgTGFuZ1NtaXRoTG9hZGVyLCBsYW5nc21pdGhfZXhwb3J0cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGFuZ3NtaXRoLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/document_loaders/langsmith.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/documents/document.js":
/*!**********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/documents/document.js ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Document: () => (/* binding */ Document)\n/* harmony export */ });\n//#region src/documents/document.ts\n/**\n* Interface for interacting with a document.\n*/\nvar Document = class {\n\tpageContent;\n\tmetadata;\n\t/**\n\t* An optional identifier for the document.\n\t*\n\t* Ideally this should be unique across the document collection and formatted\n\t* as a UUID, but this will not be enforced.\n\t*/\n\tid;\n\tconstructor(fields) {\n\t\tthis.pageContent = fields.pageContent !== void 0 ? fields.pageContent.toString() : \"\";\n\t\tthis.metadata = fields.metadata ?? {};\n\t\tthis.id = fields.id;\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=document.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9kb2N1bWVudHMvZG9jdW1lbnQuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDb0I7QUFDcEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L2RvY3VtZW50cy9kb2N1bWVudC5qcz80YWJlIl0sInNvdXJjZXNDb250ZW50IjpbIi8vI3JlZ2lvbiBzcmMvZG9jdW1lbnRzL2RvY3VtZW50LnRzXG4vKipcbiogSW50ZXJmYWNlIGZvciBpbnRlcmFjdGluZyB3aXRoIGEgZG9jdW1lbnQuXG4qL1xudmFyIERvY3VtZW50ID0gY2xhc3Mge1xuXHRwYWdlQ29udGVudDtcblx0bWV0YWRhdGE7XG5cdC8qKlxuXHQqIEFuIG9wdGlvbmFsIGlkZW50aWZpZXIgZm9yIHRoZSBkb2N1bWVudC5cblx0KlxuXHQqIElkZWFsbHkgdGhpcyBzaG91bGQgYmUgdW5pcXVlIGFjcm9zcyB0aGUgZG9jdW1lbnQgY29sbGVjdGlvbiBhbmQgZm9ybWF0dGVkXG5cdCogYXMgYSBVVUlELCBidXQgdGhpcyB3aWxsIG5vdCBiZSBlbmZvcmNlZC5cblx0Ki9cblx0aWQ7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdHRoaXMucGFnZUNvbnRlbnQgPSBmaWVsZHMucGFnZUNvbnRlbnQgIT09IHZvaWQgMCA/IGZpZWxkcy5wYWdlQ29udGVudC50b1N0cmluZygpIDogXCJcIjtcblx0XHR0aGlzLm1ldGFkYXRhID0gZmllbGRzLm1ldGFkYXRhID8/IHt9O1xuXHRcdHRoaXMuaWQgPSBmaWVsZHMuaWQ7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgRG9jdW1lbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRvY3VtZW50LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/documents/document.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/documents/index.js":
/*!*******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/documents/index.js ***!
  \*******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseDocumentTransformer: () => (/* reexport safe */ _transformers_js__WEBPACK_IMPORTED_MODULE_2__.BaseDocumentTransformer),\n/* harmony export */   Document: () => (/* reexport safe */ _document_js__WEBPACK_IMPORTED_MODULE_1__.Document),\n/* harmony export */   MappingDocumentTransformer: () => (/* reexport safe */ _transformers_js__WEBPACK_IMPORTED_MODULE_2__.MappingDocumentTransformer),\n/* harmony export */   documents_exports: () => (/* binding */ documents_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _document_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./document.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/documents/document.js\");\n/* harmony import */ var _transformers_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./transformers.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/documents/transformers.js\");\n\n\n\n\n//#region src/documents/index.ts\nvar documents_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(documents_exports, {\n\tBaseDocumentTransformer: () => _transformers_js__WEBPACK_IMPORTED_MODULE_2__.BaseDocumentTransformer,\n\tDocument: () => _document_js__WEBPACK_IMPORTED_MODULE_1__.Document,\n\tMappingDocumentTransformer: () => _transformers_js__WEBPACK_IMPORTED_MODULE_2__.MappingDocumentTransformer\n});\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9kb2N1bWVudHMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUEyRDtBQUNsQjtBQUMrQzs7QUFFeEY7QUFDQTtBQUNBLHNFQUFRO0FBQ1IsZ0NBQWdDLHFFQUF1QjtBQUN2RCxpQkFBaUIsa0RBQVE7QUFDekIsbUNBQW1DLHdFQUEwQjtBQUM3RCxDQUFDOztBQUVEO0FBQzRGO0FBQzVGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9kb2N1bWVudHMvaW5kZXguanM/ZGZjMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2V4cG9ydCB9IGZyb20gXCIuLi9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmpzXCI7XG5pbXBvcnQgeyBEb2N1bWVudCB9IGZyb20gXCIuL2RvY3VtZW50LmpzXCI7XG5pbXBvcnQgeyBCYXNlRG9jdW1lbnRUcmFuc2Zvcm1lciwgTWFwcGluZ0RvY3VtZW50VHJhbnNmb3JtZXIgfSBmcm9tIFwiLi90cmFuc2Zvcm1lcnMuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9kb2N1bWVudHMvaW5kZXgudHNcbnZhciBkb2N1bWVudHNfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQoZG9jdW1lbnRzX2V4cG9ydHMsIHtcblx0QmFzZURvY3VtZW50VHJhbnNmb3JtZXI6ICgpID0+IEJhc2VEb2N1bWVudFRyYW5zZm9ybWVyLFxuXHREb2N1bWVudDogKCkgPT4gRG9jdW1lbnQsXG5cdE1hcHBpbmdEb2N1bWVudFRyYW5zZm9ybWVyOiAoKSA9PiBNYXBwaW5nRG9jdW1lbnRUcmFuc2Zvcm1lclxufSk7XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQmFzZURvY3VtZW50VHJhbnNmb3JtZXIsIERvY3VtZW50LCBNYXBwaW5nRG9jdW1lbnRUcmFuc2Zvcm1lciwgZG9jdW1lbnRzX2V4cG9ydHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/documents/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/documents/transformers.js":
/*!**************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/documents/transformers.js ***!
  \**************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseDocumentTransformer: () => (/* binding */ BaseDocumentTransformer),\n/* harmony export */   MappingDocumentTransformer: () => (/* binding */ MappingDocumentTransformer)\n/* harmony export */ });\n/* harmony import */ var _runnables_base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../runnables/base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/base.js\");\n\n\n//#region src/documents/transformers.ts\n/**\n* Abstract base class for document transformation systems.\n*\n* A document transformation system takes an array of Documents and returns an\n* array of transformed Documents. These arrays do not necessarily have to have\n* the same length.\n*\n* One example of this is a text splitter that splits a large document into\n* many smaller documents.\n*/\nvar BaseDocumentTransformer = class extends _runnables_base_js__WEBPACK_IMPORTED_MODULE_0__.Runnable {\n\tlc_namespace = [\n\t\t\"langchain_core\",\n\t\t\"documents\",\n\t\t\"transformers\"\n\t];\n\t/**\n\t* Method to invoke the document transformation. This method calls the\n\t* transformDocuments method with the provided input.\n\t* @param input The input documents to be transformed.\n\t* @param _options Optional configuration object to customize the behavior of callbacks.\n\t* @returns A Promise that resolves to the transformed documents.\n\t*/\n\tinvoke(input, _options) {\n\t\treturn this.transformDocuments(input);\n\t}\n};\n/**\n* Class for document transformers that return exactly one transformed document\n* for each input document.\n*/\nvar MappingDocumentTransformer = class extends BaseDocumentTransformer {\n\tasync transformDocuments(documents) {\n\t\tconst newDocuments = [];\n\t\tfor (const document of documents) {\n\t\t\tconst transformedDocument = await this._transformDocument(document);\n\t\t\tnewDocuments.push(transformedDocument);\n\t\t}\n\t\treturn newDocuments;\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=transformers.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9kb2N1bWVudHMvdHJhbnNmb3JtZXJzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFnRDs7QUFFaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0Qyx3REFBUTtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDK0Q7QUFDL0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L2RvY3VtZW50cy90cmFuc2Zvcm1lcnMuanM/ZmVjMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSdW5uYWJsZSB9IGZyb20gXCIuLi9ydW5uYWJsZXMvYmFzZS5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL2RvY3VtZW50cy90cmFuc2Zvcm1lcnMudHNcbi8qKlxuKiBBYnN0cmFjdCBiYXNlIGNsYXNzIGZvciBkb2N1bWVudCB0cmFuc2Zvcm1hdGlvbiBzeXN0ZW1zLlxuKlxuKiBBIGRvY3VtZW50IHRyYW5zZm9ybWF0aW9uIHN5c3RlbSB0YWtlcyBhbiBhcnJheSBvZiBEb2N1bWVudHMgYW5kIHJldHVybnMgYW5cbiogYXJyYXkgb2YgdHJhbnNmb3JtZWQgRG9jdW1lbnRzLiBUaGVzZSBhcnJheXMgZG8gbm90IG5lY2Vzc2FyaWx5IGhhdmUgdG8gaGF2ZVxuKiB0aGUgc2FtZSBsZW5ndGguXG4qXG4qIE9uZSBleGFtcGxlIG9mIHRoaXMgaXMgYSB0ZXh0IHNwbGl0dGVyIHRoYXQgc3BsaXRzIGEgbGFyZ2UgZG9jdW1lbnQgaW50b1xuKiBtYW55IHNtYWxsZXIgZG9jdW1lbnRzLlxuKi9cbnZhciBCYXNlRG9jdW1lbnRUcmFuc2Zvcm1lciA9IGNsYXNzIGV4dGVuZHMgUnVubmFibGUge1xuXHRsY19uYW1lc3BhY2UgPSBbXG5cdFx0XCJsYW5nY2hhaW5fY29yZVwiLFxuXHRcdFwiZG9jdW1lbnRzXCIsXG5cdFx0XCJ0cmFuc2Zvcm1lcnNcIlxuXHRdO1xuXHQvKipcblx0KiBNZXRob2QgdG8gaW52b2tlIHRoZSBkb2N1bWVudCB0cmFuc2Zvcm1hdGlvbi4gVGhpcyBtZXRob2QgY2FsbHMgdGhlXG5cdCogdHJhbnNmb3JtRG9jdW1lbnRzIG1ldGhvZCB3aXRoIHRoZSBwcm92aWRlZCBpbnB1dC5cblx0KiBAcGFyYW0gaW5wdXQgVGhlIGlucHV0IGRvY3VtZW50cyB0byBiZSB0cmFuc2Zvcm1lZC5cblx0KiBAcGFyYW0gX29wdGlvbnMgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3QgdG8gY3VzdG9taXplIHRoZSBiZWhhdmlvciBvZiBjYWxsYmFja3MuXG5cdCogQHJldHVybnMgQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIHRyYW5zZm9ybWVkIGRvY3VtZW50cy5cblx0Ki9cblx0aW52b2tlKGlucHV0LCBfb3B0aW9ucykge1xuXHRcdHJldHVybiB0aGlzLnRyYW5zZm9ybURvY3VtZW50cyhpbnB1dCk7XG5cdH1cbn07XG4vKipcbiogQ2xhc3MgZm9yIGRvY3VtZW50IHRyYW5zZm9ybWVycyB0aGF0IHJldHVybiBleGFjdGx5IG9uZSB0cmFuc2Zvcm1lZCBkb2N1bWVudFxuKiBmb3IgZWFjaCBpbnB1dCBkb2N1bWVudC5cbiovXG52YXIgTWFwcGluZ0RvY3VtZW50VHJhbnNmb3JtZXIgPSBjbGFzcyBleHRlbmRzIEJhc2VEb2N1bWVudFRyYW5zZm9ybWVyIHtcblx0YXN5bmMgdHJhbnNmb3JtRG9jdW1lbnRzKGRvY3VtZW50cykge1xuXHRcdGNvbnN0IG5ld0RvY3VtZW50cyA9IFtdO1xuXHRcdGZvciAoY29uc3QgZG9jdW1lbnQgb2YgZG9jdW1lbnRzKSB7XG5cdFx0XHRjb25zdCB0cmFuc2Zvcm1lZERvY3VtZW50ID0gYXdhaXQgdGhpcy5fdHJhbnNmb3JtRG9jdW1lbnQoZG9jdW1lbnQpO1xuXHRcdFx0bmV3RG9jdW1lbnRzLnB1c2godHJhbnNmb3JtZWREb2N1bWVudCk7XG5cdFx0fVxuXHRcdHJldHVybiBuZXdEb2N1bWVudHM7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQmFzZURvY3VtZW50VHJhbnNmb3JtZXIsIE1hcHBpbmdEb2N1bWVudFRyYW5zZm9ybWVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFuc2Zvcm1lcnMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/documents/transformers.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/embeddings.js":
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/embeddings.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Embeddings: () => (/* binding */ Embeddings),\n/* harmony export */   embeddings_exports: () => (/* binding */ embeddings_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _utils_async_caller_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/async_caller.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/async_caller.js\");\n\n\n\n//#region src/embeddings.ts\nvar embeddings_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(embeddings_exports, { Embeddings: () => Embeddings });\n/**\n* An abstract class that provides methods for embedding documents and\n* queries using LangChain.\n*/\nvar Embeddings = class {\n\t/**\n\t* The async caller should be used by subclasses to make any async calls,\n\t* which will thus benefit from the concurrency and retry logic.\n\t*/\n\tcaller;\n\tconstructor(params) {\n\t\tthis.caller = new _utils_async_caller_js__WEBPACK_IMPORTED_MODULE_1__.AsyncCaller(params ?? {});\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=embeddings.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9lbWJlZGRpbmdzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBMEQ7QUFDSjs7QUFFdEQ7QUFDQTtBQUNBLHNFQUFRLHVCQUF1Qiw4QkFBOEI7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwrREFBVyxhQUFhO0FBQzVDO0FBQ0E7O0FBRUE7QUFDMEM7QUFDMUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L2VtYmVkZGluZ3MuanM/MDE1ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2V4cG9ydCB9IGZyb20gXCIuL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuanNcIjtcbmltcG9ydCB7IEFzeW5jQ2FsbGVyIH0gZnJvbSBcIi4vdXRpbHMvYXN5bmNfY2FsbGVyLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvZW1iZWRkaW5ncy50c1xudmFyIGVtYmVkZGluZ3NfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQoZW1iZWRkaW5nc19leHBvcnRzLCB7IEVtYmVkZGluZ3M6ICgpID0+IEVtYmVkZGluZ3MgfSk7XG4vKipcbiogQW4gYWJzdHJhY3QgY2xhc3MgdGhhdCBwcm92aWRlcyBtZXRob2RzIGZvciBlbWJlZGRpbmcgZG9jdW1lbnRzIGFuZFxuKiBxdWVyaWVzIHVzaW5nIExhbmdDaGFpbi5cbiovXG52YXIgRW1iZWRkaW5ncyA9IGNsYXNzIHtcblx0LyoqXG5cdCogVGhlIGFzeW5jIGNhbGxlciBzaG91bGQgYmUgdXNlZCBieSBzdWJjbGFzc2VzIHRvIG1ha2UgYW55IGFzeW5jIGNhbGxzLFxuXHQqIHdoaWNoIHdpbGwgdGh1cyBiZW5lZml0IGZyb20gdGhlIGNvbmN1cnJlbmN5IGFuZCByZXRyeSBsb2dpYy5cblx0Ki9cblx0Y2FsbGVyO1xuXHRjb25zdHJ1Y3RvcihwYXJhbXMpIHtcblx0XHR0aGlzLmNhbGxlciA9IG5ldyBBc3luY0NhbGxlcihwYXJhbXMgPz8ge30pO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEVtYmVkZGluZ3MsIGVtYmVkZGluZ3NfZXhwb3J0cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW1iZWRkaW5ncy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/embeddings.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/errors/index.js":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/errors/index.js ***!
  \****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addLangChainErrorFields: () => (/* binding */ addLangChainErrorFields)\n/* harmony export */ });\n//#region src/errors/index.ts\nfunction addLangChainErrorFields(error, lc_error_code) {\n\terror.lc_error_code = lc_error_code;\n\terror.message = `${error.message}\\n\\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/${lc_error_code}/\\n`;\n\treturn error;\n}\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9lcnJvcnMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixjQUFjLGdGQUFnRixjQUFjO0FBQ2hJO0FBQ0E7O0FBRUE7QUFDbUM7QUFDbkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L2Vycm9ycy9pbmRleC5qcz9hODczIl0sInNvdXJjZXNDb250ZW50IjpbIi8vI3JlZ2lvbiBzcmMvZXJyb3JzL2luZGV4LnRzXG5mdW5jdGlvbiBhZGRMYW5nQ2hhaW5FcnJvckZpZWxkcyhlcnJvciwgbGNfZXJyb3JfY29kZSkge1xuXHRlcnJvci5sY19lcnJvcl9jb2RlID0gbGNfZXJyb3JfY29kZTtcblx0ZXJyb3IubWVzc2FnZSA9IGAke2Vycm9yLm1lc3NhZ2V9XFxuXFxuVHJvdWJsZXNob290aW5nIFVSTDogaHR0cHM6Ly9qcy5sYW5nY2hhaW4uY29tL2RvY3MvdHJvdWJsZXNob290aW5nL2Vycm9ycy8ke2xjX2Vycm9yX2NvZGV9L1xcbmA7XG5cdHJldHVybiBlcnJvcjtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBhZGRMYW5nQ2hhaW5FcnJvckZpZWxkcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/errors/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/example_selectors/base.js":
/*!**************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/example_selectors/base.js ***!
  \**************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseExampleSelector: () => (/* binding */ BaseExampleSelector)\n/* harmony export */ });\n/* harmony import */ var _load_serializable_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../load/serializable.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/load/serializable.js\");\n\n\n//#region src/example_selectors/base.ts\n/**\n* Base class for example selectors.\n*/\nvar BaseExampleSelector = class extends _load_serializable_js__WEBPACK_IMPORTED_MODULE_0__.Serializable {\n\tlc_namespace = [\n\t\t\"langchain_core\",\n\t\t\"example_selectors\",\n\t\t\"base\"\n\t];\n};\n\n//#endregion\n\n//# sourceMappingURL=base.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9leGFtcGxlX3NlbGVjdG9ycy9iYXNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXVEOztBQUV2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QywrREFBWTtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDK0I7QUFDL0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L2V4YW1wbGVfc2VsZWN0b3JzL2Jhc2UuanM/MjZiOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTZXJpYWxpemFibGUgfSBmcm9tIFwiLi4vbG9hZC9zZXJpYWxpemFibGUuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9leGFtcGxlX3NlbGVjdG9ycy9iYXNlLnRzXG4vKipcbiogQmFzZSBjbGFzcyBmb3IgZXhhbXBsZSBzZWxlY3RvcnMuXG4qL1xudmFyIEJhc2VFeGFtcGxlU2VsZWN0b3IgPSBjbGFzcyBleHRlbmRzIFNlcmlhbGl6YWJsZSB7XG5cdGxjX25hbWVzcGFjZSA9IFtcblx0XHRcImxhbmdjaGFpbl9jb3JlXCIsXG5cdFx0XCJleGFtcGxlX3NlbGVjdG9yc1wiLFxuXHRcdFwiYmFzZVwiXG5cdF07XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEJhc2VFeGFtcGxlU2VsZWN0b3IgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhc2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/example_selectors/base.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/example_selectors/conditional.js":
/*!*********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/example_selectors/conditional.js ***!
  \*********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BasePromptSelector: () => (/* binding */ BasePromptSelector),\n/* harmony export */   ConditionalPromptSelector: () => (/* binding */ ConditionalPromptSelector),\n/* harmony export */   isChatModel: () => (/* binding */ isChatModel),\n/* harmony export */   isLLM: () => (/* binding */ isLLM)\n/* harmony export */ });\n//#region src/example_selectors/conditional.ts\n/**\n* Abstract class that defines the interface for selecting a prompt for a\n* given language model.\n*/\nvar BasePromptSelector = class {\n\t/**\n\t* Asynchronous version of `getPrompt` that also accepts an options object\n\t* for partial variables.\n\t* @param llm The language model for which to get a prompt.\n\t* @param options Optional object for partial variables.\n\t* @returns A Promise that resolves to a prompt template.\n\t*/\n\tasync getPromptAsync(llm, options) {\n\t\tconst prompt = this.getPrompt(llm);\n\t\treturn prompt.partial(options?.partialVariables ?? {});\n\t}\n};\n/**\n* Concrete implementation of `BasePromptSelector` that selects a prompt\n* based on a set of conditions. It has a default prompt that it returns\n* if none of the conditions are met.\n*/\nvar ConditionalPromptSelector = class extends BasePromptSelector {\n\tdefaultPrompt;\n\tconditionals;\n\tconstructor(default_prompt, conditionals = []) {\n\t\tsuper();\n\t\tthis.defaultPrompt = default_prompt;\n\t\tthis.conditionals = conditionals;\n\t}\n\t/**\n\t* Method that selects a prompt based on a set of conditions. If none of\n\t* the conditions are met, it returns the default prompt.\n\t* @param llm The language model for which to get a prompt.\n\t* @returns A prompt template.\n\t*/\n\tgetPrompt(llm) {\n\t\tfor (const [condition, prompt] of this.conditionals) if (condition(llm)) return prompt;\n\t\treturn this.defaultPrompt;\n\t}\n};\n/**\n* Type guard function that checks if a given language model is of type\n* `BaseLLM`.\n*/\nfunction isLLM(llm) {\n\treturn llm._modelType() === \"base_llm\";\n}\n/**\n* Type guard function that checks if a given language model is of type\n* `BaseChatModel`.\n*/\nfunction isChatModel(llm) {\n\treturn llm._modelType() === \"base_chat_model\";\n}\n\n//#endregion\n\n//# sourceMappingURL=conditional.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9leGFtcGxlX3NlbGVjdG9ycy9jb25kaXRpb25hbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVEO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQzZFO0FBQzdFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9leGFtcGxlX3NlbGVjdG9ycy9jb25kaXRpb25hbC5qcz9kM2RlIl0sInNvdXJjZXNDb250ZW50IjpbIi8vI3JlZ2lvbiBzcmMvZXhhbXBsZV9zZWxlY3RvcnMvY29uZGl0aW9uYWwudHNcbi8qKlxuKiBBYnN0cmFjdCBjbGFzcyB0aGF0IGRlZmluZXMgdGhlIGludGVyZmFjZSBmb3Igc2VsZWN0aW5nIGEgcHJvbXB0IGZvciBhXG4qIGdpdmVuIGxhbmd1YWdlIG1vZGVsLlxuKi9cbnZhciBCYXNlUHJvbXB0U2VsZWN0b3IgPSBjbGFzcyB7XG5cdC8qKlxuXHQqIEFzeW5jaHJvbm91cyB2ZXJzaW9uIG9mIGBnZXRQcm9tcHRgIHRoYXQgYWxzbyBhY2NlcHRzIGFuIG9wdGlvbnMgb2JqZWN0XG5cdCogZm9yIHBhcnRpYWwgdmFyaWFibGVzLlxuXHQqIEBwYXJhbSBsbG0gVGhlIGxhbmd1YWdlIG1vZGVsIGZvciB3aGljaCB0byBnZXQgYSBwcm9tcHQuXG5cdCogQHBhcmFtIG9wdGlvbnMgT3B0aW9uYWwgb2JqZWN0IGZvciBwYXJ0aWFsIHZhcmlhYmxlcy5cblx0KiBAcmV0dXJucyBBIFByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIHByb21wdCB0ZW1wbGF0ZS5cblx0Ki9cblx0YXN5bmMgZ2V0UHJvbXB0QXN5bmMobGxtLCBvcHRpb25zKSB7XG5cdFx0Y29uc3QgcHJvbXB0ID0gdGhpcy5nZXRQcm9tcHQobGxtKTtcblx0XHRyZXR1cm4gcHJvbXB0LnBhcnRpYWwob3B0aW9ucz8ucGFydGlhbFZhcmlhYmxlcyA/PyB7fSk7XG5cdH1cbn07XG4vKipcbiogQ29uY3JldGUgaW1wbGVtZW50YXRpb24gb2YgYEJhc2VQcm9tcHRTZWxlY3RvcmAgdGhhdCBzZWxlY3RzIGEgcHJvbXB0XG4qIGJhc2VkIG9uIGEgc2V0IG9mIGNvbmRpdGlvbnMuIEl0IGhhcyBhIGRlZmF1bHQgcHJvbXB0IHRoYXQgaXQgcmV0dXJuc1xuKiBpZiBub25lIG9mIHRoZSBjb25kaXRpb25zIGFyZSBtZXQuXG4qL1xudmFyIENvbmRpdGlvbmFsUHJvbXB0U2VsZWN0b3IgPSBjbGFzcyBleHRlbmRzIEJhc2VQcm9tcHRTZWxlY3RvciB7XG5cdGRlZmF1bHRQcm9tcHQ7XG5cdGNvbmRpdGlvbmFscztcblx0Y29uc3RydWN0b3IoZGVmYXVsdF9wcm9tcHQsIGNvbmRpdGlvbmFscyA9IFtdKSB7XG5cdFx0c3VwZXIoKTtcblx0XHR0aGlzLmRlZmF1bHRQcm9tcHQgPSBkZWZhdWx0X3Byb21wdDtcblx0XHR0aGlzLmNvbmRpdGlvbmFscyA9IGNvbmRpdGlvbmFscztcblx0fVxuXHQvKipcblx0KiBNZXRob2QgdGhhdCBzZWxlY3RzIGEgcHJvbXB0IGJhc2VkIG9uIGEgc2V0IG9mIGNvbmRpdGlvbnMuIElmIG5vbmUgb2Zcblx0KiB0aGUgY29uZGl0aW9ucyBhcmUgbWV0LCBpdCByZXR1cm5zIHRoZSBkZWZhdWx0IHByb21wdC5cblx0KiBAcGFyYW0gbGxtIFRoZSBsYW5ndWFnZSBtb2RlbCBmb3Igd2hpY2ggdG8gZ2V0IGEgcHJvbXB0LlxuXHQqIEByZXR1cm5zIEEgcHJvbXB0IHRlbXBsYXRlLlxuXHQqL1xuXHRnZXRQcm9tcHQobGxtKSB7XG5cdFx0Zm9yIChjb25zdCBbY29uZGl0aW9uLCBwcm9tcHRdIG9mIHRoaXMuY29uZGl0aW9uYWxzKSBpZiAoY29uZGl0aW9uKGxsbSkpIHJldHVybiBwcm9tcHQ7XG5cdFx0cmV0dXJuIHRoaXMuZGVmYXVsdFByb21wdDtcblx0fVxufTtcbi8qKlxuKiBUeXBlIGd1YXJkIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmIGEgZ2l2ZW4gbGFuZ3VhZ2UgbW9kZWwgaXMgb2YgdHlwZVxuKiBgQmFzZUxMTWAuXG4qL1xuZnVuY3Rpb24gaXNMTE0obGxtKSB7XG5cdHJldHVybiBsbG0uX21vZGVsVHlwZSgpID09PSBcImJhc2VfbGxtXCI7XG59XG4vKipcbiogVHlwZSBndWFyZCBmdW5jdGlvbiB0aGF0IGNoZWNrcyBpZiBhIGdpdmVuIGxhbmd1YWdlIG1vZGVsIGlzIG9mIHR5cGVcbiogYEJhc2VDaGF0TW9kZWxgLlxuKi9cbmZ1bmN0aW9uIGlzQ2hhdE1vZGVsKGxsbSkge1xuXHRyZXR1cm4gbGxtLl9tb2RlbFR5cGUoKSA9PT0gXCJiYXNlX2NoYXRfbW9kZWxcIjtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBCYXNlUHJvbXB0U2VsZWN0b3IsIENvbmRpdGlvbmFsUHJvbXB0U2VsZWN0b3IsIGlzQ2hhdE1vZGVsLCBpc0xMTSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uZGl0aW9uYWwuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/example_selectors/conditional.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/example_selectors/index.js":
/*!***************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/example_selectors/index.js ***!
  \***************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseExampleSelector: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_1__.BaseExampleSelector),\n/* harmony export */   BasePromptSelector: () => (/* reexport safe */ _conditional_js__WEBPACK_IMPORTED_MODULE_2__.BasePromptSelector),\n/* harmony export */   ConditionalPromptSelector: () => (/* reexport safe */ _conditional_js__WEBPACK_IMPORTED_MODULE_2__.ConditionalPromptSelector),\n/* harmony export */   LengthBasedExampleSelector: () => (/* reexport safe */ _length_based_js__WEBPACK_IMPORTED_MODULE_3__.LengthBasedExampleSelector),\n/* harmony export */   SemanticSimilarityExampleSelector: () => (/* reexport safe */ _semantic_similarity_js__WEBPACK_IMPORTED_MODULE_4__.SemanticSimilarityExampleSelector),\n/* harmony export */   example_selectors_exports: () => (/* binding */ example_selectors_exports),\n/* harmony export */   isChatModel: () => (/* reexport safe */ _conditional_js__WEBPACK_IMPORTED_MODULE_2__.isChatModel),\n/* harmony export */   isLLM: () => (/* reexport safe */ _conditional_js__WEBPACK_IMPORTED_MODULE_2__.isLLM)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/example_selectors/base.js\");\n/* harmony import */ var _conditional_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./conditional.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/example_selectors/conditional.js\");\n/* harmony import */ var _length_based_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./length_based.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/example_selectors/length_based.js\");\n/* harmony import */ var _semantic_similarity_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./semantic_similarity.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/example_selectors/semantic_similarity.js\");\n\n\n\n\n\n\n//#region src/example_selectors/index.ts\nvar example_selectors_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(example_selectors_exports, {\n\tBaseExampleSelector: () => _base_js__WEBPACK_IMPORTED_MODULE_1__.BaseExampleSelector,\n\tBasePromptSelector: () => _conditional_js__WEBPACK_IMPORTED_MODULE_2__.BasePromptSelector,\n\tConditionalPromptSelector: () => _conditional_js__WEBPACK_IMPORTED_MODULE_2__.ConditionalPromptSelector,\n\tLengthBasedExampleSelector: () => _length_based_js__WEBPACK_IMPORTED_MODULE_3__.LengthBasedExampleSelector,\n\tSemanticSimilarityExampleSelector: () => _semantic_similarity_js__WEBPACK_IMPORTED_MODULE_4__.SemanticSimilarityExampleSelector,\n\tisChatModel: () => _conditional_js__WEBPACK_IMPORTED_MODULE_2__.isChatModel,\n\tisLLM: () => _conditional_js__WEBPACK_IMPORTED_MODULE_2__.isLLM\n});\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9leGFtcGxlX3NlbGVjdG9ycy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQTJEO0FBQ1g7QUFDcUQ7QUFDdEM7QUFDYzs7QUFFN0U7QUFDQTtBQUNBLHNFQUFRO0FBQ1IsNEJBQTRCLHlEQUFtQjtBQUMvQywyQkFBMkIsK0RBQWtCO0FBQzdDLGtDQUFrQyxzRUFBeUI7QUFDM0QsbUNBQW1DLHdFQUEwQjtBQUM3RCwwQ0FBMEMsc0ZBQWlDO0FBQzNFLG9CQUFvQix3REFBVztBQUMvQixjQUFjLGtEQUFLO0FBQ25CLENBQUM7O0FBRUQ7QUFDNEw7QUFDNUwiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L2V4YW1wbGVfc2VsZWN0b3JzL2luZGV4LmpzPzhkZTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19leHBvcnQgfSBmcm9tIFwiLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5qc1wiO1xuaW1wb3J0IHsgQmFzZUV4YW1wbGVTZWxlY3RvciB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCB7IEJhc2VQcm9tcHRTZWxlY3RvciwgQ29uZGl0aW9uYWxQcm9tcHRTZWxlY3RvciwgaXNDaGF0TW9kZWwsIGlzTExNIH0gZnJvbSBcIi4vY29uZGl0aW9uYWwuanNcIjtcbmltcG9ydCB7IExlbmd0aEJhc2VkRXhhbXBsZVNlbGVjdG9yIH0gZnJvbSBcIi4vbGVuZ3RoX2Jhc2VkLmpzXCI7XG5pbXBvcnQgeyBTZW1hbnRpY1NpbWlsYXJpdHlFeGFtcGxlU2VsZWN0b3IgfSBmcm9tIFwiLi9zZW1hbnRpY19zaW1pbGFyaXR5LmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvZXhhbXBsZV9zZWxlY3RvcnMvaW5kZXgudHNcbnZhciBleGFtcGxlX3NlbGVjdG9yc19leHBvcnRzID0ge307XG5fX2V4cG9ydChleGFtcGxlX3NlbGVjdG9yc19leHBvcnRzLCB7XG5cdEJhc2VFeGFtcGxlU2VsZWN0b3I6ICgpID0+IEJhc2VFeGFtcGxlU2VsZWN0b3IsXG5cdEJhc2VQcm9tcHRTZWxlY3RvcjogKCkgPT4gQmFzZVByb21wdFNlbGVjdG9yLFxuXHRDb25kaXRpb25hbFByb21wdFNlbGVjdG9yOiAoKSA9PiBDb25kaXRpb25hbFByb21wdFNlbGVjdG9yLFxuXHRMZW5ndGhCYXNlZEV4YW1wbGVTZWxlY3RvcjogKCkgPT4gTGVuZ3RoQmFzZWRFeGFtcGxlU2VsZWN0b3IsXG5cdFNlbWFudGljU2ltaWxhcml0eUV4YW1wbGVTZWxlY3RvcjogKCkgPT4gU2VtYW50aWNTaW1pbGFyaXR5RXhhbXBsZVNlbGVjdG9yLFxuXHRpc0NoYXRNb2RlbDogKCkgPT4gaXNDaGF0TW9kZWwsXG5cdGlzTExNOiAoKSA9PiBpc0xMTVxufSk7XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQmFzZUV4YW1wbGVTZWxlY3RvciwgQmFzZVByb21wdFNlbGVjdG9yLCBDb25kaXRpb25hbFByb21wdFNlbGVjdG9yLCBMZW5ndGhCYXNlZEV4YW1wbGVTZWxlY3RvciwgU2VtYW50aWNTaW1pbGFyaXR5RXhhbXBsZVNlbGVjdG9yLCBleGFtcGxlX3NlbGVjdG9yc19leHBvcnRzLCBpc0NoYXRNb2RlbCwgaXNMTE0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/example_selectors/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/example_selectors/length_based.js":
/*!**********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/example_selectors/length_based.js ***!
  \**********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LengthBasedExampleSelector: () => (/* binding */ LengthBasedExampleSelector)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/example_selectors/base.js\");\n\n\n//#region src/example_selectors/length_based.ts\n/**\n* Calculates the length of a text based on the number of words and lines.\n*/\nfunction getLengthBased(text) {\n\treturn text.split(/\\n| /).length;\n}\n/**\n* A specialized example selector that selects examples based on their\n* length, ensuring that the total length of the selected examples does\n* not exceed a specified maximum length.\n* @example\n* ```typescript\n* const exampleSelector = new LengthBasedExampleSelector(\n*   [\n*     { input: \"happy\", output: \"sad\" },\n*     { input: \"tall\", output: \"short\" },\n*     { input: \"energetic\", output: \"lethargic\" },\n*     { input: \"sunny\", output: \"gloomy\" },\n*     { input: \"windy\", output: \"calm\" },\n*   ],\n*   {\n*     examplePrompt: new PromptTemplate({\n*       inputVariables: [\"input\", \"output\"],\n*       template: \"Input: {input}\\nOutput: {output}\",\n*     }),\n*     maxLength: 25,\n*   },\n* );\n* const dynamicPrompt = new FewShotPromptTemplate({\n*   exampleSelector,\n*   examplePrompt: new PromptTemplate({\n*     inputVariables: [\"input\", \"output\"],\n*     template: \"Input: {input}\\nOutput: {output}\",\n*   }),\n*   prefix: \"Give the antonym of every input\",\n*   suffix: \"Input: {adjective}\\nOutput:\",\n*   inputVariables: [\"adjective\"],\n* });\n* console.log(dynamicPrompt.format({ adjective: \"big\" }));\n* console.log(\n*   dynamicPrompt.format({\n*     adjective:\n*       \"big and huge and massive and large and gigantic and tall and much much much much much bigger than everything else\",\n*   }),\n* );\n* ```\n*/\nvar LengthBasedExampleSelector = class LengthBasedExampleSelector extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseExampleSelector {\n\texamples = [];\n\texamplePrompt;\n\tgetTextLength = getLengthBased;\n\tmaxLength = 2048;\n\texampleTextLengths = [];\n\tconstructor(data) {\n\t\tsuper(data);\n\t\tthis.examplePrompt = data.examplePrompt;\n\t\tthis.maxLength = data.maxLength ?? 2048;\n\t\tthis.getTextLength = data.getTextLength ?? getLengthBased;\n\t}\n\t/**\n\t* Adds an example to the list of examples and calculates its length.\n\t* @param example The example to be added.\n\t* @returns Promise that resolves when the example has been added and its length calculated.\n\t*/\n\tasync addExample(example) {\n\t\tthis.examples.push(example);\n\t\tconst stringExample = await this.examplePrompt.format(example);\n\t\tthis.exampleTextLengths.push(this.getTextLength(stringExample));\n\t}\n\t/**\n\t* Calculates the lengths of the examples.\n\t* @param v Array of lengths of the examples.\n\t* @param values Instance of LengthBasedExampleSelector.\n\t* @returns Promise that resolves with an array of lengths of the examples.\n\t*/\n\tasync calculateExampleTextLengths(v, values) {\n\t\tif (v.length > 0) return v;\n\t\tconst { examples, examplePrompt } = values;\n\t\tconst stringExamples = await Promise.all(examples.map((eg) => examplePrompt.format(eg)));\n\t\treturn stringExamples.map((eg) => this.getTextLength(eg));\n\t}\n\t/**\n\t* Selects examples until the total length of the selected examples\n\t* reaches the maxLength.\n\t* @param inputVariables The input variables for the examples.\n\t* @returns Promise that resolves with an array of selected examples.\n\t*/\n\tasync selectExamples(inputVariables) {\n\t\tconst inputs = Object.values(inputVariables).join(\" \");\n\t\tlet remainingLength = this.maxLength - this.getTextLength(inputs);\n\t\tlet i = 0;\n\t\tconst examples = [];\n\t\twhile (remainingLength > 0 && i < this.examples.length) {\n\t\t\tconst newLength = remainingLength - this.exampleTextLengths[i];\n\t\t\tif (newLength < 0) break;\n\t\t\telse {\n\t\t\t\texamples.push(this.examples[i]);\n\t\t\t\tremainingLength = newLength;\n\t\t\t}\n\t\t\ti += 1;\n\t\t}\n\t\treturn examples;\n\t}\n\t/**\n\t* Creates a new instance of LengthBasedExampleSelector and adds a list of\n\t* examples to it.\n\t* @param examples Array of examples to be added.\n\t* @param args Input parameters for the LengthBasedExampleSelector.\n\t* @returns Promise that resolves with a new instance of LengthBasedExampleSelector with the examples added.\n\t*/\n\tstatic async fromExamples(examples, args) {\n\t\tconst selector = new LengthBasedExampleSelector(args);\n\t\tawait Promise.all(examples.map((eg) => selector.addExample(eg)));\n\t\treturn selector;\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=length_based.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9leGFtcGxlX3NlbGVjdG9ycy9sZW5ndGhfYmFzZWQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBZ0Q7O0FBRWhEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsK0JBQStCO0FBQ3ZDLFFBQVEsZ0NBQWdDO0FBQ3hDLFFBQVEseUNBQXlDO0FBQ2pELFFBQVEsa0NBQWtDO0FBQzFDLFFBQVEsZ0NBQWdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLE1BQU0sV0FBVyxPQUFPO0FBQ25ELE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLE1BQU0sV0FBVyxPQUFPO0FBQ2pELEtBQUs7QUFDTDtBQUNBLHFCQUFxQixVQUFVO0FBQy9CO0FBQ0EsR0FBRztBQUNILHFDQUFxQyxrQkFBa0I7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsMEVBQTBFLHlEQUFtQjtBQUM3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSwwQkFBMEI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNzQztBQUN0QyIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvZXhhbXBsZV9zZWxlY3RvcnMvbGVuZ3RoX2Jhc2VkLmpzPzUxYWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzZUV4YW1wbGVTZWxlY3RvciB9IGZyb20gXCIuL2Jhc2UuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9leGFtcGxlX3NlbGVjdG9ycy9sZW5ndGhfYmFzZWQudHNcbi8qKlxuKiBDYWxjdWxhdGVzIHRoZSBsZW5ndGggb2YgYSB0ZXh0IGJhc2VkIG9uIHRoZSBudW1iZXIgb2Ygd29yZHMgYW5kIGxpbmVzLlxuKi9cbmZ1bmN0aW9uIGdldExlbmd0aEJhc2VkKHRleHQpIHtcblx0cmV0dXJuIHRleHQuc3BsaXQoL1xcbnwgLykubGVuZ3RoO1xufVxuLyoqXG4qIEEgc3BlY2lhbGl6ZWQgZXhhbXBsZSBzZWxlY3RvciB0aGF0IHNlbGVjdHMgZXhhbXBsZXMgYmFzZWQgb24gdGhlaXJcbiogbGVuZ3RoLCBlbnN1cmluZyB0aGF0IHRoZSB0b3RhbCBsZW5ndGggb2YgdGhlIHNlbGVjdGVkIGV4YW1wbGVzIGRvZXNcbiogbm90IGV4Y2VlZCBhIHNwZWNpZmllZCBtYXhpbXVtIGxlbmd0aC5cbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBleGFtcGxlU2VsZWN0b3IgPSBuZXcgTGVuZ3RoQmFzZWRFeGFtcGxlU2VsZWN0b3IoXG4qICAgW1xuKiAgICAgeyBpbnB1dDogXCJoYXBweVwiLCBvdXRwdXQ6IFwic2FkXCIgfSxcbiogICAgIHsgaW5wdXQ6IFwidGFsbFwiLCBvdXRwdXQ6IFwic2hvcnRcIiB9LFxuKiAgICAgeyBpbnB1dDogXCJlbmVyZ2V0aWNcIiwgb3V0cHV0OiBcImxldGhhcmdpY1wiIH0sXG4qICAgICB7IGlucHV0OiBcInN1bm55XCIsIG91dHB1dDogXCJnbG9vbXlcIiB9LFxuKiAgICAgeyBpbnB1dDogXCJ3aW5keVwiLCBvdXRwdXQ6IFwiY2FsbVwiIH0sXG4qICAgXSxcbiogICB7XG4qICAgICBleGFtcGxlUHJvbXB0OiBuZXcgUHJvbXB0VGVtcGxhdGUoe1xuKiAgICAgICBpbnB1dFZhcmlhYmxlczogW1wiaW5wdXRcIiwgXCJvdXRwdXRcIl0sXG4qICAgICAgIHRlbXBsYXRlOiBcIklucHV0OiB7aW5wdXR9XFxuT3V0cHV0OiB7b3V0cHV0fVwiLFxuKiAgICAgfSksXG4qICAgICBtYXhMZW5ndGg6IDI1LFxuKiAgIH0sXG4qICk7XG4qIGNvbnN0IGR5bmFtaWNQcm9tcHQgPSBuZXcgRmV3U2hvdFByb21wdFRlbXBsYXRlKHtcbiogICBleGFtcGxlU2VsZWN0b3IsXG4qICAgZXhhbXBsZVByb21wdDogbmV3IFByb21wdFRlbXBsYXRlKHtcbiogICAgIGlucHV0VmFyaWFibGVzOiBbXCJpbnB1dFwiLCBcIm91dHB1dFwiXSxcbiogICAgIHRlbXBsYXRlOiBcIklucHV0OiB7aW5wdXR9XFxuT3V0cHV0OiB7b3V0cHV0fVwiLFxuKiAgIH0pLFxuKiAgIHByZWZpeDogXCJHaXZlIHRoZSBhbnRvbnltIG9mIGV2ZXJ5IGlucHV0XCIsXG4qICAgc3VmZml4OiBcIklucHV0OiB7YWRqZWN0aXZlfVxcbk91dHB1dDpcIixcbiogICBpbnB1dFZhcmlhYmxlczogW1wiYWRqZWN0aXZlXCJdLFxuKiB9KTtcbiogY29uc29sZS5sb2coZHluYW1pY1Byb21wdC5mb3JtYXQoeyBhZGplY3RpdmU6IFwiYmlnXCIgfSkpO1xuKiBjb25zb2xlLmxvZyhcbiogICBkeW5hbWljUHJvbXB0LmZvcm1hdCh7XG4qICAgICBhZGplY3RpdmU6XG4qICAgICAgIFwiYmlnIGFuZCBodWdlIGFuZCBtYXNzaXZlIGFuZCBsYXJnZSBhbmQgZ2lnYW50aWMgYW5kIHRhbGwgYW5kIG11Y2ggbXVjaCBtdWNoIG11Y2ggbXVjaCBiaWdnZXIgdGhhbiBldmVyeXRoaW5nIGVsc2VcIixcbiogICB9KSxcbiogKTtcbiogYGBgXG4qL1xudmFyIExlbmd0aEJhc2VkRXhhbXBsZVNlbGVjdG9yID0gY2xhc3MgTGVuZ3RoQmFzZWRFeGFtcGxlU2VsZWN0b3IgZXh0ZW5kcyBCYXNlRXhhbXBsZVNlbGVjdG9yIHtcblx0ZXhhbXBsZXMgPSBbXTtcblx0ZXhhbXBsZVByb21wdDtcblx0Z2V0VGV4dExlbmd0aCA9IGdldExlbmd0aEJhc2VkO1xuXHRtYXhMZW5ndGggPSAyMDQ4O1xuXHRleGFtcGxlVGV4dExlbmd0aHMgPSBbXTtcblx0Y29uc3RydWN0b3IoZGF0YSkge1xuXHRcdHN1cGVyKGRhdGEpO1xuXHRcdHRoaXMuZXhhbXBsZVByb21wdCA9IGRhdGEuZXhhbXBsZVByb21wdDtcblx0XHR0aGlzLm1heExlbmd0aCA9IGRhdGEubWF4TGVuZ3RoID8/IDIwNDg7XG5cdFx0dGhpcy5nZXRUZXh0TGVuZ3RoID0gZGF0YS5nZXRUZXh0TGVuZ3RoID8/IGdldExlbmd0aEJhc2VkO1xuXHR9XG5cdC8qKlxuXHQqIEFkZHMgYW4gZXhhbXBsZSB0byB0aGUgbGlzdCBvZiBleGFtcGxlcyBhbmQgY2FsY3VsYXRlcyBpdHMgbGVuZ3RoLlxuXHQqIEBwYXJhbSBleGFtcGxlIFRoZSBleGFtcGxlIHRvIGJlIGFkZGVkLlxuXHQqIEByZXR1cm5zIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBleGFtcGxlIGhhcyBiZWVuIGFkZGVkIGFuZCBpdHMgbGVuZ3RoIGNhbGN1bGF0ZWQuXG5cdCovXG5cdGFzeW5jIGFkZEV4YW1wbGUoZXhhbXBsZSkge1xuXHRcdHRoaXMuZXhhbXBsZXMucHVzaChleGFtcGxlKTtcblx0XHRjb25zdCBzdHJpbmdFeGFtcGxlID0gYXdhaXQgdGhpcy5leGFtcGxlUHJvbXB0LmZvcm1hdChleGFtcGxlKTtcblx0XHR0aGlzLmV4YW1wbGVUZXh0TGVuZ3Rocy5wdXNoKHRoaXMuZ2V0VGV4dExlbmd0aChzdHJpbmdFeGFtcGxlKSk7XG5cdH1cblx0LyoqXG5cdCogQ2FsY3VsYXRlcyB0aGUgbGVuZ3RocyBvZiB0aGUgZXhhbXBsZXMuXG5cdCogQHBhcmFtIHYgQXJyYXkgb2YgbGVuZ3RocyBvZiB0aGUgZXhhbXBsZXMuXG5cdCogQHBhcmFtIHZhbHVlcyBJbnN0YW5jZSBvZiBMZW5ndGhCYXNlZEV4YW1wbGVTZWxlY3Rvci5cblx0KiBAcmV0dXJucyBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCBhbiBhcnJheSBvZiBsZW5ndGhzIG9mIHRoZSBleGFtcGxlcy5cblx0Ki9cblx0YXN5bmMgY2FsY3VsYXRlRXhhbXBsZVRleHRMZW5ndGhzKHYsIHZhbHVlcykge1xuXHRcdGlmICh2Lmxlbmd0aCA+IDApIHJldHVybiB2O1xuXHRcdGNvbnN0IHsgZXhhbXBsZXMsIGV4YW1wbGVQcm9tcHQgfSA9IHZhbHVlcztcblx0XHRjb25zdCBzdHJpbmdFeGFtcGxlcyA9IGF3YWl0IFByb21pc2UuYWxsKGV4YW1wbGVzLm1hcCgoZWcpID0+IGV4YW1wbGVQcm9tcHQuZm9ybWF0KGVnKSkpO1xuXHRcdHJldHVybiBzdHJpbmdFeGFtcGxlcy5tYXAoKGVnKSA9PiB0aGlzLmdldFRleHRMZW5ndGgoZWcpKTtcblx0fVxuXHQvKipcblx0KiBTZWxlY3RzIGV4YW1wbGVzIHVudGlsIHRoZSB0b3RhbCBsZW5ndGggb2YgdGhlIHNlbGVjdGVkIGV4YW1wbGVzXG5cdCogcmVhY2hlcyB0aGUgbWF4TGVuZ3RoLlxuXHQqIEBwYXJhbSBpbnB1dFZhcmlhYmxlcyBUaGUgaW5wdXQgdmFyaWFibGVzIGZvciB0aGUgZXhhbXBsZXMuXG5cdCogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggYW4gYXJyYXkgb2Ygc2VsZWN0ZWQgZXhhbXBsZXMuXG5cdCovXG5cdGFzeW5jIHNlbGVjdEV4YW1wbGVzKGlucHV0VmFyaWFibGVzKSB7XG5cdFx0Y29uc3QgaW5wdXRzID0gT2JqZWN0LnZhbHVlcyhpbnB1dFZhcmlhYmxlcykuam9pbihcIiBcIik7XG5cdFx0bGV0IHJlbWFpbmluZ0xlbmd0aCA9IHRoaXMubWF4TGVuZ3RoIC0gdGhpcy5nZXRUZXh0TGVuZ3RoKGlucHV0cyk7XG5cdFx0bGV0IGkgPSAwO1xuXHRcdGNvbnN0IGV4YW1wbGVzID0gW107XG5cdFx0d2hpbGUgKHJlbWFpbmluZ0xlbmd0aCA+IDAgJiYgaSA8IHRoaXMuZXhhbXBsZXMubGVuZ3RoKSB7XG5cdFx0XHRjb25zdCBuZXdMZW5ndGggPSByZW1haW5pbmdMZW5ndGggLSB0aGlzLmV4YW1wbGVUZXh0TGVuZ3Roc1tpXTtcblx0XHRcdGlmIChuZXdMZW5ndGggPCAwKSBicmVhaztcblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRleGFtcGxlcy5wdXNoKHRoaXMuZXhhbXBsZXNbaV0pO1xuXHRcdFx0XHRyZW1haW5pbmdMZW5ndGggPSBuZXdMZW5ndGg7XG5cdFx0XHR9XG5cdFx0XHRpICs9IDE7XG5cdFx0fVxuXHRcdHJldHVybiBleGFtcGxlcztcblx0fVxuXHQvKipcblx0KiBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIExlbmd0aEJhc2VkRXhhbXBsZVNlbGVjdG9yIGFuZCBhZGRzIGEgbGlzdCBvZlxuXHQqIGV4YW1wbGVzIHRvIGl0LlxuXHQqIEBwYXJhbSBleGFtcGxlcyBBcnJheSBvZiBleGFtcGxlcyB0byBiZSBhZGRlZC5cblx0KiBAcGFyYW0gYXJncyBJbnB1dCBwYXJhbWV0ZXJzIGZvciB0aGUgTGVuZ3RoQmFzZWRFeGFtcGxlU2VsZWN0b3IuXG5cdCogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggYSBuZXcgaW5zdGFuY2Ugb2YgTGVuZ3RoQmFzZWRFeGFtcGxlU2VsZWN0b3Igd2l0aCB0aGUgZXhhbXBsZXMgYWRkZWQuXG5cdCovXG5cdHN0YXRpYyBhc3luYyBmcm9tRXhhbXBsZXMoZXhhbXBsZXMsIGFyZ3MpIHtcblx0XHRjb25zdCBzZWxlY3RvciA9IG5ldyBMZW5ndGhCYXNlZEV4YW1wbGVTZWxlY3RvcihhcmdzKTtcblx0XHRhd2FpdCBQcm9taXNlLmFsbChleGFtcGxlcy5tYXAoKGVnKSA9PiBzZWxlY3Rvci5hZGRFeGFtcGxlKGVnKSkpO1xuXHRcdHJldHVybiBzZWxlY3Rvcjtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBMZW5ndGhCYXNlZEV4YW1wbGVTZWxlY3RvciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGVuZ3RoX2Jhc2VkLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/example_selectors/length_based.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/example_selectors/semantic_similarity.js":
/*!*****************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/example_selectors/semantic_similarity.js ***!
  \*****************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SemanticSimilarityExampleSelector: () => (/* binding */ SemanticSimilarityExampleSelector)\n/* harmony export */ });\n/* harmony import */ var _documents_document_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../documents/document.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/documents/document.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/example_selectors/base.js\");\n\n\n\n//#region src/example_selectors/semantic_similarity.ts\nfunction sortedValues(values) {\n\treturn Object.keys(values).sort().map((key) => values[key]);\n}\n/**\n* Class that selects examples based on semantic similarity. It extends\n* the BaseExampleSelector class.\n* @example\n* ```typescript\n* const exampleSelector = await SemanticSimilarityExampleSelector.fromExamples(\n*   [\n*     { input: \"happy\", output: \"sad\" },\n*     { input: \"tall\", output: \"short\" },\n*     { input: \"energetic\", output: \"lethargic\" },\n*     { input: \"sunny\", output: \"gloomy\" },\n*     { input: \"windy\", output: \"calm\" },\n*   ],\n*   new OpenAIEmbeddings(),\n*   HNSWLib,\n*   { k: 1 },\n* );\n* const dynamicPrompt = new FewShotPromptTemplate({\n*   exampleSelector,\n*   examplePrompt: PromptTemplate.fromTemplate(\n*     \"Input: {input}\\nOutput: {output}\",\n*   ),\n*   prefix: \"Give the antonym of every input\",\n*   suffix: \"Input: {adjective}\\nOutput:\",\n*   inputVariables: [\"adjective\"],\n* });\n* console.log(await dynamicPrompt.format({ adjective: \"rainy\" }));\n* ```\n*/\nvar SemanticSimilarityExampleSelector = class SemanticSimilarityExampleSelector extends _base_js__WEBPACK_IMPORTED_MODULE_1__.BaseExampleSelector {\n\tvectorStoreRetriever;\n\texampleKeys;\n\tinputKeys;\n\tconstructor(data) {\n\t\tsuper(data);\n\t\tthis.exampleKeys = data.exampleKeys;\n\t\tthis.inputKeys = data.inputKeys;\n\t\tif (data.vectorStore !== void 0) this.vectorStoreRetriever = data.vectorStore.asRetriever({\n\t\t\tk: data.k ?? 4,\n\t\t\tfilter: data.filter\n\t\t});\n\t\telse if (data.vectorStoreRetriever) this.vectorStoreRetriever = data.vectorStoreRetriever;\n\t\telse throw new Error(`You must specify one of \"vectorStore\" and \"vectorStoreRetriever\".`);\n\t}\n\t/**\n\t* Method that adds a new example to the vectorStore. The example is\n\t* converted to a string and added to the vectorStore as a document.\n\t* @param example The example to be added to the vectorStore.\n\t* @returns Promise that resolves when the example has been added to the vectorStore.\n\t*/\n\tasync addExample(example) {\n\t\tconst inputKeys = this.inputKeys ?? Object.keys(example);\n\t\tconst stringExample = sortedValues(inputKeys.reduce((acc, key) => ({\n\t\t\t...acc,\n\t\t\t[key]: example[key]\n\t\t}), {})).join(\" \");\n\t\tawait this.vectorStoreRetriever.addDocuments([new _documents_document_js__WEBPACK_IMPORTED_MODULE_0__.Document({\n\t\t\tpageContent: stringExample,\n\t\t\tmetadata: example\n\t\t})]);\n\t}\n\t/**\n\t* Method that selects which examples to use based on semantic similarity.\n\t* It performs a similarity search in the vectorStore using the input\n\t* variables and returns the examples with the highest similarity.\n\t* @param inputVariables The input variables used for the similarity search.\n\t* @returns Promise that resolves with an array of the selected examples.\n\t*/\n\tasync selectExamples(inputVariables) {\n\t\tconst inputKeys = this.inputKeys ?? Object.keys(inputVariables);\n\t\tconst query = sortedValues(inputKeys.reduce((acc, key) => ({\n\t\t\t...acc,\n\t\t\t[key]: inputVariables[key]\n\t\t}), {})).join(\" \");\n\t\tconst exampleDocs = await this.vectorStoreRetriever.invoke(query);\n\t\tconst examples = exampleDocs.map((doc) => doc.metadata);\n\t\tif (this.exampleKeys) return examples.map((example) => this.exampleKeys.reduce((acc, key) => ({\n\t\t\t...acc,\n\t\t\t[key]: example[key]\n\t\t}), {}));\n\t\treturn examples;\n\t}\n\t/**\n\t* Static method that creates a new instance of\n\t* SemanticSimilarityExampleSelector. It takes a list of examples, an\n\t* instance of Embeddings, a VectorStore class, and an options object as\n\t* parameters. It converts the examples to strings, creates a VectorStore\n\t* from the strings and the embeddings, and returns a new\n\t* SemanticSimilarityExampleSelector with the created VectorStore and the\n\t* options provided.\n\t* @param examples The list of examples to be used.\n\t* @param embeddings The instance of Embeddings to be used.\n\t* @param vectorStoreCls The VectorStore class to be used.\n\t* @param options The options object for the SemanticSimilarityExampleSelector.\n\t* @returns Promise that resolves with a new instance of SemanticSimilarityExampleSelector.\n\t*/\n\tstatic async fromExamples(examples, embeddings, vectorStoreCls, options = {}) {\n\t\tconst inputKeys = options.inputKeys ?? null;\n\t\tconst stringExamples = examples.map((example) => sortedValues(inputKeys ? inputKeys.reduce((acc, key) => ({\n\t\t\t...acc,\n\t\t\t[key]: example[key]\n\t\t}), {}) : example).join(\" \"));\n\t\tconst vectorStore = await vectorStoreCls.fromTexts(stringExamples, examples, embeddings, options);\n\t\treturn new SemanticSimilarityExampleSelector({\n\t\t\tvectorStore,\n\t\t\tk: options.k ?? 4,\n\t\t\texampleKeys: options.exampleKeys,\n\t\t\tinputKeys: options.inputKeys\n\t\t});\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=semantic_similarity.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9leGFtcGxlX3NlbGVjdG9ycy9zZW1hbnRpY19zaW1pbGFyaXR5LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFvRDtBQUNKOztBQUVoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwrQkFBK0I7QUFDdkMsUUFBUSxnQ0FBZ0M7QUFDeEMsUUFBUSx5Q0FBeUM7QUFDakQsUUFBUSxrQ0FBa0M7QUFDMUMsUUFBUSxnQ0FBZ0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsTUFBTSxNQUFNO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE1BQU0sV0FBVyxPQUFPO0FBQ3ZDO0FBQ0E7QUFDQSxxQkFBcUIsVUFBVTtBQUMvQjtBQUNBLEdBQUc7QUFDSCwyQ0FBMkMsb0JBQW9CO0FBQy9EO0FBQ0E7QUFDQSx3RkFBd0YseURBQW1CO0FBQzNHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLEtBQUs7QUFDUixvREFBb0QsNERBQVE7QUFDNUQ7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsS0FBSztBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLEtBQUs7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZFQUE2RTtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsS0FBSztBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQzZDO0FBQzdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9leGFtcGxlX3NlbGVjdG9ycy9zZW1hbnRpY19zaW1pbGFyaXR5LmpzPzQ3NWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRG9jdW1lbnQgfSBmcm9tIFwiLi4vZG9jdW1lbnRzL2RvY3VtZW50LmpzXCI7XG5pbXBvcnQgeyBCYXNlRXhhbXBsZVNlbGVjdG9yIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL2V4YW1wbGVfc2VsZWN0b3JzL3NlbWFudGljX3NpbWlsYXJpdHkudHNcbmZ1bmN0aW9uIHNvcnRlZFZhbHVlcyh2YWx1ZXMpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKHZhbHVlcykuc29ydCgpLm1hcCgoa2V5KSA9PiB2YWx1ZXNba2V5XSk7XG59XG4vKipcbiogQ2xhc3MgdGhhdCBzZWxlY3RzIGV4YW1wbGVzIGJhc2VkIG9uIHNlbWFudGljIHNpbWlsYXJpdHkuIEl0IGV4dGVuZHNcbiogdGhlIEJhc2VFeGFtcGxlU2VsZWN0b3IgY2xhc3MuXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogY29uc3QgZXhhbXBsZVNlbGVjdG9yID0gYXdhaXQgU2VtYW50aWNTaW1pbGFyaXR5RXhhbXBsZVNlbGVjdG9yLmZyb21FeGFtcGxlcyhcbiogICBbXG4qICAgICB7IGlucHV0OiBcImhhcHB5XCIsIG91dHB1dDogXCJzYWRcIiB9LFxuKiAgICAgeyBpbnB1dDogXCJ0YWxsXCIsIG91dHB1dDogXCJzaG9ydFwiIH0sXG4qICAgICB7IGlucHV0OiBcImVuZXJnZXRpY1wiLCBvdXRwdXQ6IFwibGV0aGFyZ2ljXCIgfSxcbiogICAgIHsgaW5wdXQ6IFwic3VubnlcIiwgb3V0cHV0OiBcImdsb29teVwiIH0sXG4qICAgICB7IGlucHV0OiBcIndpbmR5XCIsIG91dHB1dDogXCJjYWxtXCIgfSxcbiogICBdLFxuKiAgIG5ldyBPcGVuQUlFbWJlZGRpbmdzKCksXG4qICAgSE5TV0xpYixcbiogICB7IGs6IDEgfSxcbiogKTtcbiogY29uc3QgZHluYW1pY1Byb21wdCA9IG5ldyBGZXdTaG90UHJvbXB0VGVtcGxhdGUoe1xuKiAgIGV4YW1wbGVTZWxlY3RvcixcbiogICBleGFtcGxlUHJvbXB0OiBQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUoXG4qICAgICBcIklucHV0OiB7aW5wdXR9XFxuT3V0cHV0OiB7b3V0cHV0fVwiLFxuKiAgICksXG4qICAgcHJlZml4OiBcIkdpdmUgdGhlIGFudG9ueW0gb2YgZXZlcnkgaW5wdXRcIixcbiogICBzdWZmaXg6IFwiSW5wdXQ6IHthZGplY3RpdmV9XFxuT3V0cHV0OlwiLFxuKiAgIGlucHV0VmFyaWFibGVzOiBbXCJhZGplY3RpdmVcIl0sXG4qIH0pO1xuKiBjb25zb2xlLmxvZyhhd2FpdCBkeW5hbWljUHJvbXB0LmZvcm1hdCh7IGFkamVjdGl2ZTogXCJyYWlueVwiIH0pKTtcbiogYGBgXG4qL1xudmFyIFNlbWFudGljU2ltaWxhcml0eUV4YW1wbGVTZWxlY3RvciA9IGNsYXNzIFNlbWFudGljU2ltaWxhcml0eUV4YW1wbGVTZWxlY3RvciBleHRlbmRzIEJhc2VFeGFtcGxlU2VsZWN0b3Ige1xuXHR2ZWN0b3JTdG9yZVJldHJpZXZlcjtcblx0ZXhhbXBsZUtleXM7XG5cdGlucHV0S2V5cztcblx0Y29uc3RydWN0b3IoZGF0YSkge1xuXHRcdHN1cGVyKGRhdGEpO1xuXHRcdHRoaXMuZXhhbXBsZUtleXMgPSBkYXRhLmV4YW1wbGVLZXlzO1xuXHRcdHRoaXMuaW5wdXRLZXlzID0gZGF0YS5pbnB1dEtleXM7XG5cdFx0aWYgKGRhdGEudmVjdG9yU3RvcmUgIT09IHZvaWQgMCkgdGhpcy52ZWN0b3JTdG9yZVJldHJpZXZlciA9IGRhdGEudmVjdG9yU3RvcmUuYXNSZXRyaWV2ZXIoe1xuXHRcdFx0azogZGF0YS5rID8/IDQsXG5cdFx0XHRmaWx0ZXI6IGRhdGEuZmlsdGVyXG5cdFx0fSk7XG5cdFx0ZWxzZSBpZiAoZGF0YS52ZWN0b3JTdG9yZVJldHJpZXZlcikgdGhpcy52ZWN0b3JTdG9yZVJldHJpZXZlciA9IGRhdGEudmVjdG9yU3RvcmVSZXRyaWV2ZXI7XG5cdFx0ZWxzZSB0aHJvdyBuZXcgRXJyb3IoYFlvdSBtdXN0IHNwZWNpZnkgb25lIG9mIFwidmVjdG9yU3RvcmVcIiBhbmQgXCJ2ZWN0b3JTdG9yZVJldHJpZXZlclwiLmApO1xuXHR9XG5cdC8qKlxuXHQqIE1ldGhvZCB0aGF0IGFkZHMgYSBuZXcgZXhhbXBsZSB0byB0aGUgdmVjdG9yU3RvcmUuIFRoZSBleGFtcGxlIGlzXG5cdCogY29udmVydGVkIHRvIGEgc3RyaW5nIGFuZCBhZGRlZCB0byB0aGUgdmVjdG9yU3RvcmUgYXMgYSBkb2N1bWVudC5cblx0KiBAcGFyYW0gZXhhbXBsZSBUaGUgZXhhbXBsZSB0byBiZSBhZGRlZCB0byB0aGUgdmVjdG9yU3RvcmUuXG5cdCogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIGV4YW1wbGUgaGFzIGJlZW4gYWRkZWQgdG8gdGhlIHZlY3RvclN0b3JlLlxuXHQqL1xuXHRhc3luYyBhZGRFeGFtcGxlKGV4YW1wbGUpIHtcblx0XHRjb25zdCBpbnB1dEtleXMgPSB0aGlzLmlucHV0S2V5cyA/PyBPYmplY3Qua2V5cyhleGFtcGxlKTtcblx0XHRjb25zdCBzdHJpbmdFeGFtcGxlID0gc29ydGVkVmFsdWVzKGlucHV0S2V5cy5yZWR1Y2UoKGFjYywga2V5KSA9PiAoe1xuXHRcdFx0Li4uYWNjLFxuXHRcdFx0W2tleV06IGV4YW1wbGVba2V5XVxuXHRcdH0pLCB7fSkpLmpvaW4oXCIgXCIpO1xuXHRcdGF3YWl0IHRoaXMudmVjdG9yU3RvcmVSZXRyaWV2ZXIuYWRkRG9jdW1lbnRzKFtuZXcgRG9jdW1lbnQoe1xuXHRcdFx0cGFnZUNvbnRlbnQ6IHN0cmluZ0V4YW1wbGUsXG5cdFx0XHRtZXRhZGF0YTogZXhhbXBsZVxuXHRcdH0pXSk7XG5cdH1cblx0LyoqXG5cdCogTWV0aG9kIHRoYXQgc2VsZWN0cyB3aGljaCBleGFtcGxlcyB0byB1c2UgYmFzZWQgb24gc2VtYW50aWMgc2ltaWxhcml0eS5cblx0KiBJdCBwZXJmb3JtcyBhIHNpbWlsYXJpdHkgc2VhcmNoIGluIHRoZSB2ZWN0b3JTdG9yZSB1c2luZyB0aGUgaW5wdXRcblx0KiB2YXJpYWJsZXMgYW5kIHJldHVybnMgdGhlIGV4YW1wbGVzIHdpdGggdGhlIGhpZ2hlc3Qgc2ltaWxhcml0eS5cblx0KiBAcGFyYW0gaW5wdXRWYXJpYWJsZXMgVGhlIGlucHV0IHZhcmlhYmxlcyB1c2VkIGZvciB0aGUgc2ltaWxhcml0eSBzZWFyY2guXG5cdCogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggYW4gYXJyYXkgb2YgdGhlIHNlbGVjdGVkIGV4YW1wbGVzLlxuXHQqL1xuXHRhc3luYyBzZWxlY3RFeGFtcGxlcyhpbnB1dFZhcmlhYmxlcykge1xuXHRcdGNvbnN0IGlucHV0S2V5cyA9IHRoaXMuaW5wdXRLZXlzID8/IE9iamVjdC5rZXlzKGlucHV0VmFyaWFibGVzKTtcblx0XHRjb25zdCBxdWVyeSA9IHNvcnRlZFZhbHVlcyhpbnB1dEtleXMucmVkdWNlKChhY2MsIGtleSkgPT4gKHtcblx0XHRcdC4uLmFjYyxcblx0XHRcdFtrZXldOiBpbnB1dFZhcmlhYmxlc1trZXldXG5cdFx0fSksIHt9KSkuam9pbihcIiBcIik7XG5cdFx0Y29uc3QgZXhhbXBsZURvY3MgPSBhd2FpdCB0aGlzLnZlY3RvclN0b3JlUmV0cmlldmVyLmludm9rZShxdWVyeSk7XG5cdFx0Y29uc3QgZXhhbXBsZXMgPSBleGFtcGxlRG9jcy5tYXAoKGRvYykgPT4gZG9jLm1ldGFkYXRhKTtcblx0XHRpZiAodGhpcy5leGFtcGxlS2V5cykgcmV0dXJuIGV4YW1wbGVzLm1hcCgoZXhhbXBsZSkgPT4gdGhpcy5leGFtcGxlS2V5cy5yZWR1Y2UoKGFjYywga2V5KSA9PiAoe1xuXHRcdFx0Li4uYWNjLFxuXHRcdFx0W2tleV06IGV4YW1wbGVba2V5XVxuXHRcdH0pLCB7fSkpO1xuXHRcdHJldHVybiBleGFtcGxlcztcblx0fVxuXHQvKipcblx0KiBTdGF0aWMgbWV0aG9kIHRoYXQgY3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZlxuXHQqIFNlbWFudGljU2ltaWxhcml0eUV4YW1wbGVTZWxlY3Rvci4gSXQgdGFrZXMgYSBsaXN0IG9mIGV4YW1wbGVzLCBhblxuXHQqIGluc3RhbmNlIG9mIEVtYmVkZGluZ3MsIGEgVmVjdG9yU3RvcmUgY2xhc3MsIGFuZCBhbiBvcHRpb25zIG9iamVjdCBhc1xuXHQqIHBhcmFtZXRlcnMuIEl0IGNvbnZlcnRzIHRoZSBleGFtcGxlcyB0byBzdHJpbmdzLCBjcmVhdGVzIGEgVmVjdG9yU3RvcmVcblx0KiBmcm9tIHRoZSBzdHJpbmdzIGFuZCB0aGUgZW1iZWRkaW5ncywgYW5kIHJldHVybnMgYSBuZXdcblx0KiBTZW1hbnRpY1NpbWlsYXJpdHlFeGFtcGxlU2VsZWN0b3Igd2l0aCB0aGUgY3JlYXRlZCBWZWN0b3JTdG9yZSBhbmQgdGhlXG5cdCogb3B0aW9ucyBwcm92aWRlZC5cblx0KiBAcGFyYW0gZXhhbXBsZXMgVGhlIGxpc3Qgb2YgZXhhbXBsZXMgdG8gYmUgdXNlZC5cblx0KiBAcGFyYW0gZW1iZWRkaW5ncyBUaGUgaW5zdGFuY2Ugb2YgRW1iZWRkaW5ncyB0byBiZSB1c2VkLlxuXHQqIEBwYXJhbSB2ZWN0b3JTdG9yZUNscyBUaGUgVmVjdG9yU3RvcmUgY2xhc3MgdG8gYmUgdXNlZC5cblx0KiBAcGFyYW0gb3B0aW9ucyBUaGUgb3B0aW9ucyBvYmplY3QgZm9yIHRoZSBTZW1hbnRpY1NpbWlsYXJpdHlFeGFtcGxlU2VsZWN0b3IuXG5cdCogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggYSBuZXcgaW5zdGFuY2Ugb2YgU2VtYW50aWNTaW1pbGFyaXR5RXhhbXBsZVNlbGVjdG9yLlxuXHQqL1xuXHRzdGF0aWMgYXN5bmMgZnJvbUV4YW1wbGVzKGV4YW1wbGVzLCBlbWJlZGRpbmdzLCB2ZWN0b3JTdG9yZUNscywgb3B0aW9ucyA9IHt9KSB7XG5cdFx0Y29uc3QgaW5wdXRLZXlzID0gb3B0aW9ucy5pbnB1dEtleXMgPz8gbnVsbDtcblx0XHRjb25zdCBzdHJpbmdFeGFtcGxlcyA9IGV4YW1wbGVzLm1hcCgoZXhhbXBsZSkgPT4gc29ydGVkVmFsdWVzKGlucHV0S2V5cyA/IGlucHV0S2V5cy5yZWR1Y2UoKGFjYywga2V5KSA9PiAoe1xuXHRcdFx0Li4uYWNjLFxuXHRcdFx0W2tleV06IGV4YW1wbGVba2V5XVxuXHRcdH0pLCB7fSkgOiBleGFtcGxlKS5qb2luKFwiIFwiKSk7XG5cdFx0Y29uc3QgdmVjdG9yU3RvcmUgPSBhd2FpdCB2ZWN0b3JTdG9yZUNscy5mcm9tVGV4dHMoc3RyaW5nRXhhbXBsZXMsIGV4YW1wbGVzLCBlbWJlZGRpbmdzLCBvcHRpb25zKTtcblx0XHRyZXR1cm4gbmV3IFNlbWFudGljU2ltaWxhcml0eUV4YW1wbGVTZWxlY3Rvcih7XG5cdFx0XHR2ZWN0b3JTdG9yZSxcblx0XHRcdGs6IG9wdGlvbnMuayA/PyA0LFxuXHRcdFx0ZXhhbXBsZUtleXM6IG9wdGlvbnMuZXhhbXBsZUtleXMsXG5cdFx0XHRpbnB1dEtleXM6IG9wdGlvbnMuaW5wdXRLZXlzXG5cdFx0fSk7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgU2VtYW50aWNTaW1pbGFyaXR5RXhhbXBsZVNlbGVjdG9yIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZW1hbnRpY19zaW1pbGFyaXR5LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/example_selectors/semantic_similarity.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/index.js":
/*!*********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/index.js ***!
  \*********************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   src_exports: () => (/* binding */ src_exports)\n/* harmony export */ });\n//#region src/index.ts\nvar src_exports = {};\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTs7QUFFQTtBQUN1QjtBQUN2QiIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvaW5kZXguanM/OGRmOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyNyZWdpb24gc3JjL2luZGV4LnRzXG52YXIgc3JjX2V4cG9ydHMgPSB7fTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBzcmNfZXhwb3J0cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/indexing/base.js":
/*!*****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/indexing/base.js ***!
  \*****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _HashedDocument: () => (/* binding */ _HashedDocument),\n/* harmony export */   _batch: () => (/* binding */ _batch),\n/* harmony export */   _deduplicateInOrder: () => (/* binding */ _deduplicateInOrder),\n/* harmony export */   _getSourceIdAssigner: () => (/* binding */ _getSourceIdAssigner),\n/* harmony export */   _isBaseDocumentLoader: () => (/* binding */ _isBaseDocumentLoader),\n/* harmony export */   index: () => (/* binding */ index)\n/* harmony export */ });\n/* harmony import */ var _utils_js_sha256_hash_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/js-sha256/hash.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/js-sha256/hash.js\");\n/* harmony import */ var _utils_hash_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/hash.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/hash.js\");\n/* harmony import */ var _documents_document_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../documents/document.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/documents/document.js\");\n/* harmony import */ var _record_manager_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./record_manager.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/indexing/record_manager.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/.pnpm/uuid@10.0.0/node_modules/uuid/dist/esm-node/v5.js\");\n\n\n\n\n\n\n//#region src/indexing/base.ts\n/**\n* HashedDocument is a Document with hashes calculated.\n* Hashes are calculated based on page content and metadata.\n* It is used for indexing.\n*/\nvar _HashedDocument = class {\n\tuid;\n\thash_;\n\tcontentHash;\n\tmetadataHash;\n\tpageContent;\n\tmetadata;\n\tkeyEncoder = _utils_js_sha256_hash_js__WEBPACK_IMPORTED_MODULE_0__.sha256;\n\tconstructor(fields) {\n\t\tthis.uid = fields.uid;\n\t\tthis.pageContent = fields.pageContent;\n\t\tthis.metadata = fields.metadata;\n\t}\n\tmakeDefaultKeyEncoder(keyEncoderFn) {\n\t\tthis.keyEncoder = keyEncoderFn;\n\t}\n\tcalculateHashes() {\n\t\tconst forbiddenKeys = [\n\t\t\t\"hash_\",\n\t\t\t\"content_hash\",\n\t\t\t\"metadata_hash\"\n\t\t];\n\t\tfor (const key of forbiddenKeys) if (key in this.metadata) throw new Error(`Metadata cannot contain key ${key} as it is reserved for internal use. Restricted keys: [${forbiddenKeys.join(\", \")}]`);\n\t\tconst contentHash = this._hashStringToUUID(this.pageContent);\n\t\ttry {\n\t\t\tconst metadataHash = this._hashNestedDictToUUID(this.metadata);\n\t\t\tthis.contentHash = contentHash;\n\t\t\tthis.metadataHash = metadataHash;\n\t\t} catch (e) {\n\t\t\tthrow new Error(`Failed to hash metadata: ${e}. Please use a dict that can be serialized using json.`);\n\t\t}\n\t\tthis.hash_ = this._hashStringToUUID(this.contentHash + this.metadataHash);\n\t\tif (!this.uid) this.uid = this.hash_;\n\t}\n\ttoDocument() {\n\t\treturn new _documents_document_js__WEBPACK_IMPORTED_MODULE_2__.Document({\n\t\t\tpageContent: this.pageContent,\n\t\t\tmetadata: this.metadata\n\t\t});\n\t}\n\tstatic fromDocument(document, uid) {\n\t\tconst doc = new this({\n\t\t\tpageContent: document.pageContent,\n\t\t\tmetadata: document.metadata,\n\t\t\tuid: uid || document.uid\n\t\t});\n\t\tdoc.calculateHashes();\n\t\treturn doc;\n\t}\n\t_hashStringToUUID(inputString) {\n\t\tconst hash_value = this.keyEncoder(inputString);\n\t\treturn (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(hash_value, _record_manager_js__WEBPACK_IMPORTED_MODULE_3__.UUIDV5_NAMESPACE);\n\t}\n\t_hashNestedDictToUUID(data) {\n\t\tconst serialized_data = JSON.stringify(data, Object.keys(data).sort());\n\t\tconst hash_value = this.keyEncoder(serialized_data);\n\t\treturn (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(hash_value, _record_manager_js__WEBPACK_IMPORTED_MODULE_3__.UUIDV5_NAMESPACE);\n\t}\n};\nfunction _batch(size, iterable) {\n\tconst batches = [];\n\tlet currentBatch = [];\n\titerable.forEach((item) => {\n\t\tcurrentBatch.push(item);\n\t\tif (currentBatch.length >= size) {\n\t\t\tbatches.push(currentBatch);\n\t\t\tcurrentBatch = [];\n\t\t}\n\t});\n\tif (currentBatch.length > 0) batches.push(currentBatch);\n\treturn batches;\n}\nfunction _deduplicateInOrder(hashedDocuments) {\n\tconst seen = /* @__PURE__ */ new Set();\n\tconst deduplicated = [];\n\tfor (const hashedDoc of hashedDocuments) {\n\t\tif (!hashedDoc.hash_) throw new Error(\"Hashed document does not have a hash\");\n\t\tif (!seen.has(hashedDoc.hash_)) {\n\t\t\tseen.add(hashedDoc.hash_);\n\t\t\tdeduplicated.push(hashedDoc);\n\t\t}\n\t}\n\treturn deduplicated;\n}\nfunction _getSourceIdAssigner(sourceIdKey) {\n\tif (sourceIdKey === null) return (_doc) => null;\n\telse if (typeof sourceIdKey === \"string\") return (doc) => doc.metadata[sourceIdKey];\n\telse if (typeof sourceIdKey === \"function\") return sourceIdKey;\n\telse throw new Error(`sourceIdKey should be null, a string or a function, got ${typeof sourceIdKey}`);\n}\nconst _isBaseDocumentLoader = (arg) => {\n\tif (\"load\" in arg && typeof arg.load === \"function\" && \"loadAndSplit\" in arg && typeof arg.loadAndSplit === \"function\") return true;\n\treturn false;\n};\n/**\n* Index data from the doc source into the vector store.\n*\n* Indexing functionality uses a manager to keep track of which documents\n* are in the vector store.\n*\n* This allows us to keep track of which documents were updated, and which\n* documents were deleted, which documents should be skipped.\n*\n* For the time being, documents are indexed using their hashes, and users\n*  are not able to specify the uid of the document.\n*\n* @param {IndexArgs} args\n* @param {BaseDocumentLoader | DocumentInterface[]} args.docsSource The source of documents to index. Can be a DocumentLoader or a list of Documents.\n* @param {RecordManagerInterface} args.recordManager The record manager to use for keeping track of indexed documents.\n* @param {VectorStore} args.vectorStore The vector store to use for storing the documents.\n* @param {IndexOptions | undefined} args.options Options for indexing.\n* @returns {Promise<IndexingResult>}\n*/\nasync function index(args) {\n\tconst { docsSource, recordManager, vectorStore, options } = args;\n\tconst { batchSize = 100, cleanup, sourceIdKey, cleanupBatchSize = 1e3, forceUpdate = false } = options ?? {};\n\tif (cleanup === \"incremental\" && !sourceIdKey) throw new Error(\"sourceIdKey is required when cleanup mode is incremental. Please provide through 'options.sourceIdKey'.\");\n\tconst docs = _isBaseDocumentLoader(docsSource) ? await docsSource.load() : docsSource;\n\tconst sourceIdAssigner = _getSourceIdAssigner(sourceIdKey ?? null);\n\tconst indexStartDt = await recordManager.getTime();\n\tlet numAdded = 0;\n\tlet numDeleted = 0;\n\tlet numUpdated = 0;\n\tlet numSkipped = 0;\n\tconst batches = _batch(batchSize ?? 100, docs);\n\tfor (const batch of batches) {\n\t\tconst hashedDocs = _deduplicateInOrder(batch.map((doc) => _HashedDocument.fromDocument(doc)));\n\t\tconst sourceIds = hashedDocs.map((doc) => sourceIdAssigner(doc));\n\t\tif (cleanup === \"incremental\") hashedDocs.forEach((_hashedDoc, index$1) => {\n\t\t\tconst source = sourceIds[index$1];\n\t\t\tif (source === null) throw new Error(\"sourceIdKey must be provided when cleanup is incremental\");\n\t\t});\n\t\tconst batchExists = await recordManager.exists(hashedDocs.map((doc) => doc.uid));\n\t\tconst uids = [];\n\t\tconst docsToIndex = [];\n\t\tconst docsToUpdate = [];\n\t\tconst seenDocs = /* @__PURE__ */ new Set();\n\t\thashedDocs.forEach((hashedDoc, i) => {\n\t\t\tconst docExists = batchExists[i];\n\t\t\tif (docExists) if (forceUpdate) seenDocs.add(hashedDoc.uid);\n\t\t\telse {\n\t\t\t\tdocsToUpdate.push(hashedDoc.uid);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tuids.push(hashedDoc.uid);\n\t\t\tdocsToIndex.push(hashedDoc.toDocument());\n\t\t});\n\t\tif (docsToUpdate.length > 0) {\n\t\t\tawait recordManager.update(docsToUpdate, { timeAtLeast: indexStartDt });\n\t\t\tnumSkipped += docsToUpdate.length;\n\t\t}\n\t\tif (docsToIndex.length > 0) {\n\t\t\tawait vectorStore.addDocuments(docsToIndex, { ids: uids });\n\t\t\tnumAdded += docsToIndex.length - seenDocs.size;\n\t\t\tnumUpdated += seenDocs.size;\n\t\t}\n\t\tawait recordManager.update(hashedDocs.map((doc) => doc.uid), {\n\t\t\ttimeAtLeast: indexStartDt,\n\t\t\tgroupIds: sourceIds\n\t\t});\n\t\tif (cleanup === \"incremental\") {\n\t\t\tsourceIds.forEach((sourceId) => {\n\t\t\t\tif (!sourceId) throw new Error(\"Source id cannot be null\");\n\t\t\t});\n\t\t\tconst uidsToDelete = await recordManager.listKeys({\n\t\t\t\tbefore: indexStartDt,\n\t\t\t\tgroupIds: sourceIds\n\t\t\t});\n\t\t\tif (uidsToDelete.length > 0) {\n\t\t\t\tawait vectorStore.delete({ ids: uidsToDelete });\n\t\t\t\tawait recordManager.deleteKeys(uidsToDelete);\n\t\t\t\tnumDeleted += uidsToDelete.length;\n\t\t\t}\n\t\t}\n\t}\n\tif (cleanup === \"full\") {\n\t\tlet uidsToDelete = await recordManager.listKeys({\n\t\t\tbefore: indexStartDt,\n\t\t\tlimit: cleanupBatchSize\n\t\t});\n\t\twhile (uidsToDelete.length > 0) {\n\t\t\tawait vectorStore.delete({ ids: uidsToDelete });\n\t\t\tawait recordManager.deleteKeys(uidsToDelete);\n\t\t\tnumDeleted += uidsToDelete.length;\n\t\t\tuidsToDelete = await recordManager.listKeys({\n\t\t\t\tbefore: indexStartDt,\n\t\t\t\tlimit: cleanupBatchSize\n\t\t\t});\n\t\t}\n\t}\n\treturn {\n\t\tnumAdded,\n\t\tnumDeleted,\n\t\tnumUpdated,\n\t\tnumSkipped\n\t};\n}\n\n//#endregion\n\n//# sourceMappingURL=base.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9pbmRleGluZy9iYXNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQW9EO0FBQzFCO0FBQzBCO0FBQ0c7QUFDN0I7O0FBRTFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyw0REFBTTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEdBQTRHLEtBQUssd0RBQXdELHlCQUF5QjtBQUNsTTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLCtDQUErQyxFQUFFO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDREQUFRO0FBQ3JCO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLGdEQUFFLGFBQWEsZ0VBQWdCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxnREFBRSxhQUFhLGdFQUFnQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUZBQWlGLG1CQUFtQjtBQUNwRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxXQUFXO0FBQ3JCLFVBQVUsMENBQTBDO0FBQ3BELFVBQVUsd0JBQXdCO0FBQ2xDLFVBQVUsYUFBYTtBQUN2QixVQUFVLDBCQUEwQjtBQUNwQyxZQUFZO0FBQ1o7QUFDQTtBQUNBLFNBQVMsa0RBQWtEO0FBQzNELFNBQVMscUZBQXFGO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsOENBQThDLDJCQUEyQjtBQUN6RTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsV0FBVztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLCtCQUErQixtQkFBbUI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsOEJBQThCLG1CQUFtQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUM0RztBQUM1RyIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvaW5kZXhpbmcvYmFzZS5qcz80MDQ4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNoYTI1NiB9IGZyb20gXCIuLi91dGlscy9qcy1zaGEyNTYvaGFzaC5qc1wiO1xuaW1wb3J0IFwiLi4vdXRpbHMvaGFzaC5qc1wiO1xuaW1wb3J0IHsgRG9jdW1lbnQgfSBmcm9tIFwiLi4vZG9jdW1lbnRzL2RvY3VtZW50LmpzXCI7XG5pbXBvcnQgeyBVVUlEVjVfTkFNRVNQQUNFIH0gZnJvbSBcIi4vcmVjb3JkX21hbmFnZXIuanNcIjtcbmltcG9ydCB7IHY1IH0gZnJvbSBcInV1aWRcIjtcblxuLy8jcmVnaW9uIHNyYy9pbmRleGluZy9iYXNlLnRzXG4vKipcbiogSGFzaGVkRG9jdW1lbnQgaXMgYSBEb2N1bWVudCB3aXRoIGhhc2hlcyBjYWxjdWxhdGVkLlxuKiBIYXNoZXMgYXJlIGNhbGN1bGF0ZWQgYmFzZWQgb24gcGFnZSBjb250ZW50IGFuZCBtZXRhZGF0YS5cbiogSXQgaXMgdXNlZCBmb3IgaW5kZXhpbmcuXG4qL1xudmFyIF9IYXNoZWREb2N1bWVudCA9IGNsYXNzIHtcblx0dWlkO1xuXHRoYXNoXztcblx0Y29udGVudEhhc2g7XG5cdG1ldGFkYXRhSGFzaDtcblx0cGFnZUNvbnRlbnQ7XG5cdG1ldGFkYXRhO1xuXHRrZXlFbmNvZGVyID0gc2hhMjU2O1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHR0aGlzLnVpZCA9IGZpZWxkcy51aWQ7XG5cdFx0dGhpcy5wYWdlQ29udGVudCA9IGZpZWxkcy5wYWdlQ29udGVudDtcblx0XHR0aGlzLm1ldGFkYXRhID0gZmllbGRzLm1ldGFkYXRhO1xuXHR9XG5cdG1ha2VEZWZhdWx0S2V5RW5jb2RlcihrZXlFbmNvZGVyRm4pIHtcblx0XHR0aGlzLmtleUVuY29kZXIgPSBrZXlFbmNvZGVyRm47XG5cdH1cblx0Y2FsY3VsYXRlSGFzaGVzKCkge1xuXHRcdGNvbnN0IGZvcmJpZGRlbktleXMgPSBbXG5cdFx0XHRcImhhc2hfXCIsXG5cdFx0XHRcImNvbnRlbnRfaGFzaFwiLFxuXHRcdFx0XCJtZXRhZGF0YV9oYXNoXCJcblx0XHRdO1xuXHRcdGZvciAoY29uc3Qga2V5IG9mIGZvcmJpZGRlbktleXMpIGlmIChrZXkgaW4gdGhpcy5tZXRhZGF0YSkgdGhyb3cgbmV3IEVycm9yKGBNZXRhZGF0YSBjYW5ub3QgY29udGFpbiBrZXkgJHtrZXl9IGFzIGl0IGlzIHJlc2VydmVkIGZvciBpbnRlcm5hbCB1c2UuIFJlc3RyaWN0ZWQga2V5czogWyR7Zm9yYmlkZGVuS2V5cy5qb2luKFwiLCBcIil9XWApO1xuXHRcdGNvbnN0IGNvbnRlbnRIYXNoID0gdGhpcy5faGFzaFN0cmluZ1RvVVVJRCh0aGlzLnBhZ2VDb250ZW50KTtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgbWV0YWRhdGFIYXNoID0gdGhpcy5faGFzaE5lc3RlZERpY3RUb1VVSUQodGhpcy5tZXRhZGF0YSk7XG5cdFx0XHR0aGlzLmNvbnRlbnRIYXNoID0gY29udGVudEhhc2g7XG5cdFx0XHR0aGlzLm1ldGFkYXRhSGFzaCA9IG1ldGFkYXRhSGFzaDtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBoYXNoIG1ldGFkYXRhOiAke2V9LiBQbGVhc2UgdXNlIGEgZGljdCB0aGF0IGNhbiBiZSBzZXJpYWxpemVkIHVzaW5nIGpzb24uYCk7XG5cdFx0fVxuXHRcdHRoaXMuaGFzaF8gPSB0aGlzLl9oYXNoU3RyaW5nVG9VVUlEKHRoaXMuY29udGVudEhhc2ggKyB0aGlzLm1ldGFkYXRhSGFzaCk7XG5cdFx0aWYgKCF0aGlzLnVpZCkgdGhpcy51aWQgPSB0aGlzLmhhc2hfO1xuXHR9XG5cdHRvRG9jdW1lbnQoKSB7XG5cdFx0cmV0dXJuIG5ldyBEb2N1bWVudCh7XG5cdFx0XHRwYWdlQ29udGVudDogdGhpcy5wYWdlQ29udGVudCxcblx0XHRcdG1ldGFkYXRhOiB0aGlzLm1ldGFkYXRhXG5cdFx0fSk7XG5cdH1cblx0c3RhdGljIGZyb21Eb2N1bWVudChkb2N1bWVudCwgdWlkKSB7XG5cdFx0Y29uc3QgZG9jID0gbmV3IHRoaXMoe1xuXHRcdFx0cGFnZUNvbnRlbnQ6IGRvY3VtZW50LnBhZ2VDb250ZW50LFxuXHRcdFx0bWV0YWRhdGE6IGRvY3VtZW50Lm1ldGFkYXRhLFxuXHRcdFx0dWlkOiB1aWQgfHwgZG9jdW1lbnQudWlkXG5cdFx0fSk7XG5cdFx0ZG9jLmNhbGN1bGF0ZUhhc2hlcygpO1xuXHRcdHJldHVybiBkb2M7XG5cdH1cblx0X2hhc2hTdHJpbmdUb1VVSUQoaW5wdXRTdHJpbmcpIHtcblx0XHRjb25zdCBoYXNoX3ZhbHVlID0gdGhpcy5rZXlFbmNvZGVyKGlucHV0U3RyaW5nKTtcblx0XHRyZXR1cm4gdjUoaGFzaF92YWx1ZSwgVVVJRFY1X05BTUVTUEFDRSk7XG5cdH1cblx0X2hhc2hOZXN0ZWREaWN0VG9VVUlEKGRhdGEpIHtcblx0XHRjb25zdCBzZXJpYWxpemVkX2RhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhLCBPYmplY3Qua2V5cyhkYXRhKS5zb3J0KCkpO1xuXHRcdGNvbnN0IGhhc2hfdmFsdWUgPSB0aGlzLmtleUVuY29kZXIoc2VyaWFsaXplZF9kYXRhKTtcblx0XHRyZXR1cm4gdjUoaGFzaF92YWx1ZSwgVVVJRFY1X05BTUVTUEFDRSk7XG5cdH1cbn07XG5mdW5jdGlvbiBfYmF0Y2goc2l6ZSwgaXRlcmFibGUpIHtcblx0Y29uc3QgYmF0Y2hlcyA9IFtdO1xuXHRsZXQgY3VycmVudEJhdGNoID0gW107XG5cdGl0ZXJhYmxlLmZvckVhY2goKGl0ZW0pID0+IHtcblx0XHRjdXJyZW50QmF0Y2gucHVzaChpdGVtKTtcblx0XHRpZiAoY3VycmVudEJhdGNoLmxlbmd0aCA+PSBzaXplKSB7XG5cdFx0XHRiYXRjaGVzLnB1c2goY3VycmVudEJhdGNoKTtcblx0XHRcdGN1cnJlbnRCYXRjaCA9IFtdO1xuXHRcdH1cblx0fSk7XG5cdGlmIChjdXJyZW50QmF0Y2gubGVuZ3RoID4gMCkgYmF0Y2hlcy5wdXNoKGN1cnJlbnRCYXRjaCk7XG5cdHJldHVybiBiYXRjaGVzO1xufVxuZnVuY3Rpb24gX2RlZHVwbGljYXRlSW5PcmRlcihoYXNoZWREb2N1bWVudHMpIHtcblx0Y29uc3Qgc2VlbiA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG5cdGNvbnN0IGRlZHVwbGljYXRlZCA9IFtdO1xuXHRmb3IgKGNvbnN0IGhhc2hlZERvYyBvZiBoYXNoZWREb2N1bWVudHMpIHtcblx0XHRpZiAoIWhhc2hlZERvYy5oYXNoXykgdGhyb3cgbmV3IEVycm9yKFwiSGFzaGVkIGRvY3VtZW50IGRvZXMgbm90IGhhdmUgYSBoYXNoXCIpO1xuXHRcdGlmICghc2Vlbi5oYXMoaGFzaGVkRG9jLmhhc2hfKSkge1xuXHRcdFx0c2Vlbi5hZGQoaGFzaGVkRG9jLmhhc2hfKTtcblx0XHRcdGRlZHVwbGljYXRlZC5wdXNoKGhhc2hlZERvYyk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBkZWR1cGxpY2F0ZWQ7XG59XG5mdW5jdGlvbiBfZ2V0U291cmNlSWRBc3NpZ25lcihzb3VyY2VJZEtleSkge1xuXHRpZiAoc291cmNlSWRLZXkgPT09IG51bGwpIHJldHVybiAoX2RvYykgPT4gbnVsbDtcblx0ZWxzZSBpZiAodHlwZW9mIHNvdXJjZUlkS2V5ID09PSBcInN0cmluZ1wiKSByZXR1cm4gKGRvYykgPT4gZG9jLm1ldGFkYXRhW3NvdXJjZUlkS2V5XTtcblx0ZWxzZSBpZiAodHlwZW9mIHNvdXJjZUlkS2V5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBzb3VyY2VJZEtleTtcblx0ZWxzZSB0aHJvdyBuZXcgRXJyb3IoYHNvdXJjZUlkS2V5IHNob3VsZCBiZSBudWxsLCBhIHN0cmluZyBvciBhIGZ1bmN0aW9uLCBnb3QgJHt0eXBlb2Ygc291cmNlSWRLZXl9YCk7XG59XG5jb25zdCBfaXNCYXNlRG9jdW1lbnRMb2FkZXIgPSAoYXJnKSA9PiB7XG5cdGlmIChcImxvYWRcIiBpbiBhcmcgJiYgdHlwZW9mIGFyZy5sb2FkID09PSBcImZ1bmN0aW9uXCIgJiYgXCJsb2FkQW5kU3BsaXRcIiBpbiBhcmcgJiYgdHlwZW9mIGFyZy5sb2FkQW5kU3BsaXQgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7XG5cdHJldHVybiBmYWxzZTtcbn07XG4vKipcbiogSW5kZXggZGF0YSBmcm9tIHRoZSBkb2Mgc291cmNlIGludG8gdGhlIHZlY3RvciBzdG9yZS5cbipcbiogSW5kZXhpbmcgZnVuY3Rpb25hbGl0eSB1c2VzIGEgbWFuYWdlciB0byBrZWVwIHRyYWNrIG9mIHdoaWNoIGRvY3VtZW50c1xuKiBhcmUgaW4gdGhlIHZlY3RvciBzdG9yZS5cbipcbiogVGhpcyBhbGxvd3MgdXMgdG8ga2VlcCB0cmFjayBvZiB3aGljaCBkb2N1bWVudHMgd2VyZSB1cGRhdGVkLCBhbmQgd2hpY2hcbiogZG9jdW1lbnRzIHdlcmUgZGVsZXRlZCwgd2hpY2ggZG9jdW1lbnRzIHNob3VsZCBiZSBza2lwcGVkLlxuKlxuKiBGb3IgdGhlIHRpbWUgYmVpbmcsIGRvY3VtZW50cyBhcmUgaW5kZXhlZCB1c2luZyB0aGVpciBoYXNoZXMsIGFuZCB1c2Vyc1xuKiAgYXJlIG5vdCBhYmxlIHRvIHNwZWNpZnkgdGhlIHVpZCBvZiB0aGUgZG9jdW1lbnQuXG4qXG4qIEBwYXJhbSB7SW5kZXhBcmdzfSBhcmdzXG4qIEBwYXJhbSB7QmFzZURvY3VtZW50TG9hZGVyIHwgRG9jdW1lbnRJbnRlcmZhY2VbXX0gYXJncy5kb2NzU291cmNlIFRoZSBzb3VyY2Ugb2YgZG9jdW1lbnRzIHRvIGluZGV4LiBDYW4gYmUgYSBEb2N1bWVudExvYWRlciBvciBhIGxpc3Qgb2YgRG9jdW1lbnRzLlxuKiBAcGFyYW0ge1JlY29yZE1hbmFnZXJJbnRlcmZhY2V9IGFyZ3MucmVjb3JkTWFuYWdlciBUaGUgcmVjb3JkIG1hbmFnZXIgdG8gdXNlIGZvciBrZWVwaW5nIHRyYWNrIG9mIGluZGV4ZWQgZG9jdW1lbnRzLlxuKiBAcGFyYW0ge1ZlY3RvclN0b3JlfSBhcmdzLnZlY3RvclN0b3JlIFRoZSB2ZWN0b3Igc3RvcmUgdG8gdXNlIGZvciBzdG9yaW5nIHRoZSBkb2N1bWVudHMuXG4qIEBwYXJhbSB7SW5kZXhPcHRpb25zIHwgdW5kZWZpbmVkfSBhcmdzLm9wdGlvbnMgT3B0aW9ucyBmb3IgaW5kZXhpbmcuXG4qIEByZXR1cm5zIHtQcm9taXNlPEluZGV4aW5nUmVzdWx0Pn1cbiovXG5hc3luYyBmdW5jdGlvbiBpbmRleChhcmdzKSB7XG5cdGNvbnN0IHsgZG9jc1NvdXJjZSwgcmVjb3JkTWFuYWdlciwgdmVjdG9yU3RvcmUsIG9wdGlvbnMgfSA9IGFyZ3M7XG5cdGNvbnN0IHsgYmF0Y2hTaXplID0gMTAwLCBjbGVhbnVwLCBzb3VyY2VJZEtleSwgY2xlYW51cEJhdGNoU2l6ZSA9IDFlMywgZm9yY2VVcGRhdGUgPSBmYWxzZSB9ID0gb3B0aW9ucyA/PyB7fTtcblx0aWYgKGNsZWFudXAgPT09IFwiaW5jcmVtZW50YWxcIiAmJiAhc291cmNlSWRLZXkpIHRocm93IG5ldyBFcnJvcihcInNvdXJjZUlkS2V5IGlzIHJlcXVpcmVkIHdoZW4gY2xlYW51cCBtb2RlIGlzIGluY3JlbWVudGFsLiBQbGVhc2UgcHJvdmlkZSB0aHJvdWdoICdvcHRpb25zLnNvdXJjZUlkS2V5Jy5cIik7XG5cdGNvbnN0IGRvY3MgPSBfaXNCYXNlRG9jdW1lbnRMb2FkZXIoZG9jc1NvdXJjZSkgPyBhd2FpdCBkb2NzU291cmNlLmxvYWQoKSA6IGRvY3NTb3VyY2U7XG5cdGNvbnN0IHNvdXJjZUlkQXNzaWduZXIgPSBfZ2V0U291cmNlSWRBc3NpZ25lcihzb3VyY2VJZEtleSA/PyBudWxsKTtcblx0Y29uc3QgaW5kZXhTdGFydER0ID0gYXdhaXQgcmVjb3JkTWFuYWdlci5nZXRUaW1lKCk7XG5cdGxldCBudW1BZGRlZCA9IDA7XG5cdGxldCBudW1EZWxldGVkID0gMDtcblx0bGV0IG51bVVwZGF0ZWQgPSAwO1xuXHRsZXQgbnVtU2tpcHBlZCA9IDA7XG5cdGNvbnN0IGJhdGNoZXMgPSBfYmF0Y2goYmF0Y2hTaXplID8/IDEwMCwgZG9jcyk7XG5cdGZvciAoY29uc3QgYmF0Y2ggb2YgYmF0Y2hlcykge1xuXHRcdGNvbnN0IGhhc2hlZERvY3MgPSBfZGVkdXBsaWNhdGVJbk9yZGVyKGJhdGNoLm1hcCgoZG9jKSA9PiBfSGFzaGVkRG9jdW1lbnQuZnJvbURvY3VtZW50KGRvYykpKTtcblx0XHRjb25zdCBzb3VyY2VJZHMgPSBoYXNoZWREb2NzLm1hcCgoZG9jKSA9PiBzb3VyY2VJZEFzc2lnbmVyKGRvYykpO1xuXHRcdGlmIChjbGVhbnVwID09PSBcImluY3JlbWVudGFsXCIpIGhhc2hlZERvY3MuZm9yRWFjaCgoX2hhc2hlZERvYywgaW5kZXgkMSkgPT4ge1xuXHRcdFx0Y29uc3Qgc291cmNlID0gc291cmNlSWRzW2luZGV4JDFdO1xuXHRcdFx0aWYgKHNvdXJjZSA9PT0gbnVsbCkgdGhyb3cgbmV3IEVycm9yKFwic291cmNlSWRLZXkgbXVzdCBiZSBwcm92aWRlZCB3aGVuIGNsZWFudXAgaXMgaW5jcmVtZW50YWxcIik7XG5cdFx0fSk7XG5cdFx0Y29uc3QgYmF0Y2hFeGlzdHMgPSBhd2FpdCByZWNvcmRNYW5hZ2VyLmV4aXN0cyhoYXNoZWREb2NzLm1hcCgoZG9jKSA9PiBkb2MudWlkKSk7XG5cdFx0Y29uc3QgdWlkcyA9IFtdO1xuXHRcdGNvbnN0IGRvY3NUb0luZGV4ID0gW107XG5cdFx0Y29uc3QgZG9jc1RvVXBkYXRlID0gW107XG5cdFx0Y29uc3Qgc2VlbkRvY3MgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuXHRcdGhhc2hlZERvY3MuZm9yRWFjaCgoaGFzaGVkRG9jLCBpKSA9PiB7XG5cdFx0XHRjb25zdCBkb2NFeGlzdHMgPSBiYXRjaEV4aXN0c1tpXTtcblx0XHRcdGlmIChkb2NFeGlzdHMpIGlmIChmb3JjZVVwZGF0ZSkgc2VlbkRvY3MuYWRkKGhhc2hlZERvYy51aWQpO1xuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGRvY3NUb1VwZGF0ZS5wdXNoKGhhc2hlZERvYy51aWQpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHR1aWRzLnB1c2goaGFzaGVkRG9jLnVpZCk7XG5cdFx0XHRkb2NzVG9JbmRleC5wdXNoKGhhc2hlZERvYy50b0RvY3VtZW50KCkpO1xuXHRcdH0pO1xuXHRcdGlmIChkb2NzVG9VcGRhdGUubGVuZ3RoID4gMCkge1xuXHRcdFx0YXdhaXQgcmVjb3JkTWFuYWdlci51cGRhdGUoZG9jc1RvVXBkYXRlLCB7IHRpbWVBdExlYXN0OiBpbmRleFN0YXJ0RHQgfSk7XG5cdFx0XHRudW1Ta2lwcGVkICs9IGRvY3NUb1VwZGF0ZS5sZW5ndGg7XG5cdFx0fVxuXHRcdGlmIChkb2NzVG9JbmRleC5sZW5ndGggPiAwKSB7XG5cdFx0XHRhd2FpdCB2ZWN0b3JTdG9yZS5hZGREb2N1bWVudHMoZG9jc1RvSW5kZXgsIHsgaWRzOiB1aWRzIH0pO1xuXHRcdFx0bnVtQWRkZWQgKz0gZG9jc1RvSW5kZXgubGVuZ3RoIC0gc2VlbkRvY3Muc2l6ZTtcblx0XHRcdG51bVVwZGF0ZWQgKz0gc2VlbkRvY3Muc2l6ZTtcblx0XHR9XG5cdFx0YXdhaXQgcmVjb3JkTWFuYWdlci51cGRhdGUoaGFzaGVkRG9jcy5tYXAoKGRvYykgPT4gZG9jLnVpZCksIHtcblx0XHRcdHRpbWVBdExlYXN0OiBpbmRleFN0YXJ0RHQsXG5cdFx0XHRncm91cElkczogc291cmNlSWRzXG5cdFx0fSk7XG5cdFx0aWYgKGNsZWFudXAgPT09IFwiaW5jcmVtZW50YWxcIikge1xuXHRcdFx0c291cmNlSWRzLmZvckVhY2goKHNvdXJjZUlkKSA9PiB7XG5cdFx0XHRcdGlmICghc291cmNlSWQpIHRocm93IG5ldyBFcnJvcihcIlNvdXJjZSBpZCBjYW5ub3QgYmUgbnVsbFwiKTtcblx0XHRcdH0pO1xuXHRcdFx0Y29uc3QgdWlkc1RvRGVsZXRlID0gYXdhaXQgcmVjb3JkTWFuYWdlci5saXN0S2V5cyh7XG5cdFx0XHRcdGJlZm9yZTogaW5kZXhTdGFydER0LFxuXHRcdFx0XHRncm91cElkczogc291cmNlSWRzXG5cdFx0XHR9KTtcblx0XHRcdGlmICh1aWRzVG9EZWxldGUubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRhd2FpdCB2ZWN0b3JTdG9yZS5kZWxldGUoeyBpZHM6IHVpZHNUb0RlbGV0ZSB9KTtcblx0XHRcdFx0YXdhaXQgcmVjb3JkTWFuYWdlci5kZWxldGVLZXlzKHVpZHNUb0RlbGV0ZSk7XG5cdFx0XHRcdG51bURlbGV0ZWQgKz0gdWlkc1RvRGVsZXRlLmxlbmd0aDtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0aWYgKGNsZWFudXAgPT09IFwiZnVsbFwiKSB7XG5cdFx0bGV0IHVpZHNUb0RlbGV0ZSA9IGF3YWl0IHJlY29yZE1hbmFnZXIubGlzdEtleXMoe1xuXHRcdFx0YmVmb3JlOiBpbmRleFN0YXJ0RHQsXG5cdFx0XHRsaW1pdDogY2xlYW51cEJhdGNoU2l6ZVxuXHRcdH0pO1xuXHRcdHdoaWxlICh1aWRzVG9EZWxldGUubGVuZ3RoID4gMCkge1xuXHRcdFx0YXdhaXQgdmVjdG9yU3RvcmUuZGVsZXRlKHsgaWRzOiB1aWRzVG9EZWxldGUgfSk7XG5cdFx0XHRhd2FpdCByZWNvcmRNYW5hZ2VyLmRlbGV0ZUtleXModWlkc1RvRGVsZXRlKTtcblx0XHRcdG51bURlbGV0ZWQgKz0gdWlkc1RvRGVsZXRlLmxlbmd0aDtcblx0XHRcdHVpZHNUb0RlbGV0ZSA9IGF3YWl0IHJlY29yZE1hbmFnZXIubGlzdEtleXMoe1xuXHRcdFx0XHRiZWZvcmU6IGluZGV4U3RhcnREdCxcblx0XHRcdFx0bGltaXQ6IGNsZWFudXBCYXRjaFNpemVcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4ge1xuXHRcdG51bUFkZGVkLFxuXHRcdG51bURlbGV0ZWQsXG5cdFx0bnVtVXBkYXRlZCxcblx0XHRudW1Ta2lwcGVkXG5cdH07XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgX0hhc2hlZERvY3VtZW50LCBfYmF0Y2gsIF9kZWR1cGxpY2F0ZUluT3JkZXIsIF9nZXRTb3VyY2VJZEFzc2lnbmVyLCBfaXNCYXNlRG9jdW1lbnRMb2FkZXIsIGluZGV4IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iYXNlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/indexing/base.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/indexing/index.js":
/*!******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/indexing/index.js ***!
  \******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RecordManager: () => (/* reexport safe */ _record_manager_js__WEBPACK_IMPORTED_MODULE_1__.RecordManager),\n/* harmony export */   UUIDV5_NAMESPACE: () => (/* reexport safe */ _record_manager_js__WEBPACK_IMPORTED_MODULE_1__.UUIDV5_NAMESPACE),\n/* harmony export */   _HashedDocument: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_2__._HashedDocument),\n/* harmony export */   _batch: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_2__._batch),\n/* harmony export */   _deduplicateInOrder: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_2__._deduplicateInOrder),\n/* harmony export */   _getSourceIdAssigner: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_2__._getSourceIdAssigner),\n/* harmony export */   _isBaseDocumentLoader: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_2__._isBaseDocumentLoader),\n/* harmony export */   index: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_2__.index),\n/* harmony export */   indexing_exports: () => (/* binding */ indexing_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _record_manager_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./record_manager.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/indexing/record_manager.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/indexing/base.js\");\n\n\n\n\n//#region src/indexing/index.ts\nvar indexing_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(indexing_exports, {\n\tRecordManager: () => _record_manager_js__WEBPACK_IMPORTED_MODULE_1__.RecordManager,\n\tUUIDV5_NAMESPACE: () => _record_manager_js__WEBPACK_IMPORTED_MODULE_1__.UUIDV5_NAMESPACE,\n\t_HashedDocument: () => _base_js__WEBPACK_IMPORTED_MODULE_2__._HashedDocument,\n\t_batch: () => _base_js__WEBPACK_IMPORTED_MODULE_2__._batch,\n\t_deduplicateInOrder: () => _base_js__WEBPACK_IMPORTED_MODULE_2__._deduplicateInOrder,\n\t_getSourceIdAssigner: () => _base_js__WEBPACK_IMPORTED_MODULE_2__._getSourceIdAssigner,\n\t_isBaseDocumentLoader: () => _base_js__WEBPACK_IMPORTED_MODULE_2__._isBaseDocumentLoader,\n\tindex: () => _base_js__WEBPACK_IMPORTED_MODULE_2__.index\n});\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9pbmRleGluZy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBMkQ7QUFDVztBQUN1RDs7QUFFN0g7QUFDQTtBQUNBLHNFQUFRO0FBQ1Isc0JBQXNCLDZEQUFhO0FBQ25DLHlCQUF5QixnRUFBZ0I7QUFDekMsd0JBQXdCLHFEQUFlO0FBQ3ZDLGVBQWUsNENBQU07QUFDckIsNEJBQTRCLHlEQUFtQjtBQUMvQyw2QkFBNkIsMERBQW9CO0FBQ2pELDhCQUE4QiwyREFBcUI7QUFDbkQsY0FBYywyQ0FBSztBQUNuQixDQUFDOztBQUVEO0FBQytKO0FBQy9KIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9pbmRleGluZy9pbmRleC5qcz8wZjgxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fZXhwb3J0IH0gZnJvbSBcIi4uL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuanNcIjtcbmltcG9ydCB7IFJlY29yZE1hbmFnZXIsIFVVSURWNV9OQU1FU1BBQ0UgfSBmcm9tIFwiLi9yZWNvcmRfbWFuYWdlci5qc1wiO1xuaW1wb3J0IHsgX0hhc2hlZERvY3VtZW50LCBfYmF0Y2gsIF9kZWR1cGxpY2F0ZUluT3JkZXIsIF9nZXRTb3VyY2VJZEFzc2lnbmVyLCBfaXNCYXNlRG9jdW1lbnRMb2FkZXIsIGluZGV4IH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL2luZGV4aW5nL2luZGV4LnRzXG52YXIgaW5kZXhpbmdfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQoaW5kZXhpbmdfZXhwb3J0cywge1xuXHRSZWNvcmRNYW5hZ2VyOiAoKSA9PiBSZWNvcmRNYW5hZ2VyLFxuXHRVVUlEVjVfTkFNRVNQQUNFOiAoKSA9PiBVVUlEVjVfTkFNRVNQQUNFLFxuXHRfSGFzaGVkRG9jdW1lbnQ6ICgpID0+IF9IYXNoZWREb2N1bWVudCxcblx0X2JhdGNoOiAoKSA9PiBfYmF0Y2gsXG5cdF9kZWR1cGxpY2F0ZUluT3JkZXI6ICgpID0+IF9kZWR1cGxpY2F0ZUluT3JkZXIsXG5cdF9nZXRTb3VyY2VJZEFzc2lnbmVyOiAoKSA9PiBfZ2V0U291cmNlSWRBc3NpZ25lcixcblx0X2lzQmFzZURvY3VtZW50TG9hZGVyOiAoKSA9PiBfaXNCYXNlRG9jdW1lbnRMb2FkZXIsXG5cdGluZGV4OiAoKSA9PiBpbmRleFxufSk7XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgUmVjb3JkTWFuYWdlciwgVVVJRFY1X05BTUVTUEFDRSwgX0hhc2hlZERvY3VtZW50LCBfYmF0Y2gsIF9kZWR1cGxpY2F0ZUluT3JkZXIsIF9nZXRTb3VyY2VJZEFzc2lnbmVyLCBfaXNCYXNlRG9jdW1lbnRMb2FkZXIsIGluZGV4LCBpbmRleGluZ19leHBvcnRzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/indexing/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/indexing/record_manager.js":
/*!***************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/indexing/record_manager.js ***!
  \***************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RecordManager: () => (/* binding */ RecordManager),\n/* harmony export */   UUIDV5_NAMESPACE: () => (/* binding */ UUIDV5_NAMESPACE)\n/* harmony export */ });\n/* harmony import */ var _load_serializable_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../load/serializable.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/load/serializable.js\");\n\n\n//#region src/indexing/record_manager.ts\nconst UUIDV5_NAMESPACE = \"10f90ea3-90a4-4962-bf75-83a0f3c1c62a\";\nvar RecordManager = class extends _load_serializable_js__WEBPACK_IMPORTED_MODULE_0__.Serializable {\n\tlc_namespace = [\"langchain\", \"recordmanagers\"];\n};\n\n//#endregion\n\n//# sourceMappingURL=record_manager.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9pbmRleGluZy9yZWNvcmRfbWFuYWdlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBdUQ7O0FBRXZEO0FBQ0E7QUFDQSxrQ0FBa0MsK0RBQVk7QUFDOUM7QUFDQTs7QUFFQTtBQUMyQztBQUMzQyIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvaW5kZXhpbmcvcmVjb3JkX21hbmFnZXIuanM/ZWM3MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTZXJpYWxpemFibGUgfSBmcm9tIFwiLi4vbG9hZC9zZXJpYWxpemFibGUuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9pbmRleGluZy9yZWNvcmRfbWFuYWdlci50c1xuY29uc3QgVVVJRFY1X05BTUVTUEFDRSA9IFwiMTBmOTBlYTMtOTBhNC00OTYyLWJmNzUtODNhMGYzYzFjNjJhXCI7XG52YXIgUmVjb3JkTWFuYWdlciA9IGNsYXNzIGV4dGVuZHMgU2VyaWFsaXphYmxlIHtcblx0bGNfbmFtZXNwYWNlID0gW1wibGFuZ2NoYWluXCIsIFwicmVjb3JkbWFuYWdlcnNcIl07XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IFJlY29yZE1hbmFnZXIsIFVVSURWNV9OQU1FU1BBQ0UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlY29yZF9tYW5hZ2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/indexing/record_manager.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/language_models/base.js":
/*!************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/language_models/base.js ***!
  \************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseLangChain: () => (/* binding */ BaseLangChain),\n/* harmony export */   BaseLanguageModel: () => (/* binding */ BaseLanguageModel),\n/* harmony export */   base_exports: () => (/* binding */ base_exports),\n/* harmony export */   calculateMaxTokens: () => (/* binding */ calculateMaxTokens),\n/* harmony export */   getEmbeddingContextSize: () => (/* binding */ getEmbeddingContextSize),\n/* harmony export */   getModelContextSize: () => (/* binding */ getModelContextSize),\n/* harmony export */   getModelNameForTiktoken: () => (/* binding */ getModelNameForTiktoken),\n/* harmony export */   isOpenAITool: () => (/* binding */ isOpenAITool)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _messages_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../messages/utils.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/utils.js\");\n/* harmony import */ var _utils_async_caller_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/async_caller.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/async_caller.js\");\n/* harmony import */ var _runnables_base_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../runnables/base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/base.js\");\n/* harmony import */ var _prompt_values_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../prompt_values.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompt_values.js\");\n/* harmony import */ var _caches_base_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../caches/base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/caches/base.js\");\n/* harmony import */ var _utils_tiktoken_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/tiktoken.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/tiktoken.js\");\n\n\n\n\n\n\n\n\n//#region src/language_models/base.ts\nvar base_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(base_exports, {\n\tBaseLangChain: () => BaseLangChain,\n\tBaseLanguageModel: () => BaseLanguageModel,\n\tcalculateMaxTokens: () => calculateMaxTokens,\n\tgetEmbeddingContextSize: () => getEmbeddingContextSize,\n\tgetModelContextSize: () => getModelContextSize,\n\tgetModelNameForTiktoken: () => getModelNameForTiktoken,\n\tisOpenAITool: () => isOpenAITool\n});\nconst getModelNameForTiktoken = (modelName) => {\n\tif (modelName.startsWith(\"gpt-3.5-turbo-16k\")) return \"gpt-3.5-turbo-16k\";\n\tif (modelName.startsWith(\"gpt-3.5-turbo-\")) return \"gpt-3.5-turbo\";\n\tif (modelName.startsWith(\"gpt-4-32k\")) return \"gpt-4-32k\";\n\tif (modelName.startsWith(\"gpt-4-\")) return \"gpt-4\";\n\tif (modelName.startsWith(\"gpt-4o\")) return \"gpt-4o\";\n\treturn modelName;\n};\nconst getEmbeddingContextSize = (modelName) => {\n\tswitch (modelName) {\n\t\tcase \"text-embedding-ada-002\": return 8191;\n\t\tdefault: return 2046;\n\t}\n};\nconst getModelContextSize = (modelName) => {\n\tswitch (getModelNameForTiktoken(modelName)) {\n\t\tcase \"gpt-3.5-turbo-16k\": return 16384;\n\t\tcase \"gpt-3.5-turbo\": return 4096;\n\t\tcase \"gpt-4-32k\": return 32768;\n\t\tcase \"gpt-4\": return 8192;\n\t\tcase \"text-davinci-003\": return 4097;\n\t\tcase \"text-curie-001\": return 2048;\n\t\tcase \"text-babbage-001\": return 2048;\n\t\tcase \"text-ada-001\": return 2048;\n\t\tcase \"code-davinci-002\": return 8e3;\n\t\tcase \"code-cushman-001\": return 2048;\n\t\tdefault: return 4097;\n\t}\n};\n/**\n* Whether or not the input matches the OpenAI tool definition.\n* @param {unknown} tool The input to check.\n* @returns {boolean} Whether the input is an OpenAI tool definition.\n*/\nfunction isOpenAITool(tool) {\n\tif (typeof tool !== \"object\" || !tool) return false;\n\tif (\"type\" in tool && tool.type === \"function\" && \"function\" in tool && typeof tool.function === \"object\" && tool.function && \"name\" in tool.function && \"parameters\" in tool.function) return true;\n\treturn false;\n}\nconst calculateMaxTokens = async ({ prompt, modelName }) => {\n\tlet numTokens;\n\ttry {\n\t\tnumTokens = (await (0,_utils_tiktoken_js__WEBPACK_IMPORTED_MODULE_6__.encodingForModel)(getModelNameForTiktoken(modelName))).encode(prompt).length;\n\t} catch {\n\t\tconsole.warn(\"Failed to calculate number of tokens, falling back to approximate count\");\n\t\tnumTokens = Math.ceil(prompt.length / 4);\n\t}\n\tconst maxTokens = getModelContextSize(modelName);\n\treturn maxTokens - numTokens;\n};\nconst getVerbosity = () => false;\n/**\n* Base class for language models, chains, tools.\n*/\nvar BaseLangChain = class extends _runnables_base_js__WEBPACK_IMPORTED_MODULE_3__.Runnable {\n\t/**\n\t* Whether to print out response text.\n\t*/\n\tverbose;\n\tcallbacks;\n\ttags;\n\tmetadata;\n\tget lc_attributes() {\n\t\treturn {\n\t\t\tcallbacks: void 0,\n\t\t\tverbose: void 0\n\t\t};\n\t}\n\tconstructor(params) {\n\t\tsuper(params);\n\t\tthis.verbose = params.verbose ?? getVerbosity();\n\t\tthis.callbacks = params.callbacks;\n\t\tthis.tags = params.tags ?? [];\n\t\tthis.metadata = params.metadata ?? {};\n\t}\n};\n/**\n* Base class for language models.\n*/\nvar BaseLanguageModel = class extends BaseLangChain {\n\t/**\n\t* Keys that the language model accepts as call options.\n\t*/\n\tget callKeys() {\n\t\treturn [\n\t\t\t\"stop\",\n\t\t\t\"timeout\",\n\t\t\t\"signal\",\n\t\t\t\"tags\",\n\t\t\t\"metadata\",\n\t\t\t\"callbacks\"\n\t\t];\n\t}\n\t/**\n\t* The async caller should be used by subclasses to make any async calls,\n\t* which will thus benefit from the concurrency and retry logic.\n\t*/\n\tcaller;\n\tcache;\n\tconstructor({ callbacks, callbackManager,...params }) {\n\t\tconst { cache,...rest } = params;\n\t\tsuper({\n\t\t\tcallbacks: callbacks ?? callbackManager,\n\t\t\t...rest\n\t\t});\n\t\tif (typeof cache === \"object\") this.cache = cache;\n\t\telse if (cache) this.cache = _caches_base_js__WEBPACK_IMPORTED_MODULE_5__.InMemoryCache.global();\n\t\telse this.cache = void 0;\n\t\tthis.caller = new _utils_async_caller_js__WEBPACK_IMPORTED_MODULE_2__.AsyncCaller(params ?? {});\n\t}\n\t_encoding;\n\t/**\n\t* Get the number of tokens in the content.\n\t* @param content The content to get the number of tokens for.\n\t* @returns The number of tokens in the content.\n\t*/\n\tasync getNumTokens(content) {\n\t\tlet textContent;\n\t\tif (typeof content === \"string\") textContent = content;\n\t\telse\n /**\n\t\t* Content is an array of ContentBlock\n\t\t*\n\t\t* ToDo(@christian-bromann): This is a temporary fix to get the number of tokens for the content.\n\t\t* We need to find a better way to do this.\n\t\t* @see https://github.com/langchain-ai/langchainjs/pull/8341#pullrequestreview-2933713116\n\t\t*/\n\t\ttextContent = content.map((item) => {\n\t\t\tif (typeof item === \"string\") return item;\n\t\t\tif (item.type === \"text\" && \"text\" in item) return item.text;\n\t\t\treturn \"\";\n\t\t}).join(\"\");\n\t\tlet numTokens = Math.ceil(textContent.length / 4);\n\t\tif (!this._encoding) try {\n\t\t\tthis._encoding = await (0,_utils_tiktoken_js__WEBPACK_IMPORTED_MODULE_6__.encodingForModel)(\"modelName\" in this ? getModelNameForTiktoken(this.modelName) : \"gpt2\");\n\t\t} catch (error) {\n\t\t\tconsole.warn(\"Failed to calculate number of tokens, falling back to approximate count\", error);\n\t\t}\n\t\tif (this._encoding) try {\n\t\t\tnumTokens = this._encoding.encode(textContent).length;\n\t\t} catch (error) {\n\t\t\tconsole.warn(\"Failed to calculate number of tokens, falling back to approximate count\", error);\n\t\t}\n\t\treturn numTokens;\n\t}\n\tstatic _convertInputToPromptValue(input) {\n\t\tif (typeof input === \"string\") return new _prompt_values_js__WEBPACK_IMPORTED_MODULE_4__.StringPromptValue(input);\n\t\telse if (Array.isArray(input)) return new _prompt_values_js__WEBPACK_IMPORTED_MODULE_4__.ChatPromptValue(input.map(_messages_utils_js__WEBPACK_IMPORTED_MODULE_1__.coerceMessageLikeToMessage));\n\t\telse return input;\n\t}\n\t/**\n\t* Get the identifying parameters of the LLM.\n\t*/\n\t_identifyingParams() {\n\t\treturn {};\n\t}\n\t/**\n\t* Create a unique cache key for a specific call to a specific language model.\n\t* @param callOptions Call options for the model\n\t* @returns A unique cache key.\n\t*/\n\t_getSerializedCacheKeyParametersForCall({ config,...callOptions }) {\n\t\tconst params = {\n\t\t\t...this._identifyingParams(),\n\t\t\t...callOptions,\n\t\t\t_type: this._llmType(),\n\t\t\t_model: this._modelType()\n\t\t};\n\t\tconst filteredEntries = Object.entries(params).filter(([_, value]) => value !== void 0);\n\t\tconst serializedEntries = filteredEntries.map(([key, value]) => `${key}:${JSON.stringify(value)}`).sort().join(\",\");\n\t\treturn serializedEntries;\n\t}\n\t/**\n\t* @deprecated\n\t* Return a json-like object representing this LLM.\n\t*/\n\tserialize() {\n\t\treturn {\n\t\t\t...this._identifyingParams(),\n\t\t\t_type: this._llmType(),\n\t\t\t_model: this._modelType()\n\t\t};\n\t}\n\t/**\n\t* @deprecated\n\t* Load an LLM from a json-like object describing it.\n\t*/\n\tstatic async deserialize(_data) {\n\t\tthrow new Error(\"Use .toJSON() instead\");\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=base.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9sYW5ndWFnZV9tb2RlbHMvYmFzZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMkQ7QUFDTztBQUNYO0FBQ1A7QUFDeUI7QUFDdkI7QUFDTTs7QUFFeEQ7QUFDQTtBQUNBLHNFQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLFNBQVM7QUFDbkIsWUFBWSxTQUFTO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxtQkFBbUI7QUFDdkQ7QUFDQTtBQUNBLHFCQUFxQixvRUFBZ0I7QUFDckMsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLHdEQUFRO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHNDQUFzQztBQUNyRCxVQUFVLGdCQUFnQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSwrQkFBK0IsMERBQWE7QUFDNUM7QUFDQSxvQkFBb0IsK0RBQVcsYUFBYTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsMEJBQTBCLG9FQUFnQjtBQUMxQyxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxnRUFBaUI7QUFDN0QsNENBQTRDLDhEQUFlLFdBQVcsMEVBQTBCO0FBQ2hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLHVCQUF1QjtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSxJQUFJLEdBQUcsc0JBQXNCO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNtSztBQUNuSyIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvbGFuZ3VhZ2VfbW9kZWxzL2Jhc2UuanM/YjY5OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2V4cG9ydCB9IGZyb20gXCIuLi9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmpzXCI7XG5pbXBvcnQgeyBjb2VyY2VNZXNzYWdlTGlrZVRvTWVzc2FnZSB9IGZyb20gXCIuLi9tZXNzYWdlcy91dGlscy5qc1wiO1xuaW1wb3J0IHsgQXN5bmNDYWxsZXIgfSBmcm9tIFwiLi4vdXRpbHMvYXN5bmNfY2FsbGVyLmpzXCI7XG5pbXBvcnQgeyBSdW5uYWJsZSB9IGZyb20gXCIuLi9ydW5uYWJsZXMvYmFzZS5qc1wiO1xuaW1wb3J0IHsgQ2hhdFByb21wdFZhbHVlLCBTdHJpbmdQcm9tcHRWYWx1ZSB9IGZyb20gXCIuLi9wcm9tcHRfdmFsdWVzLmpzXCI7XG5pbXBvcnQgeyBJbk1lbW9yeUNhY2hlIH0gZnJvbSBcIi4uL2NhY2hlcy9iYXNlLmpzXCI7XG5pbXBvcnQgeyBlbmNvZGluZ0Zvck1vZGVsIH0gZnJvbSBcIi4uL3V0aWxzL3Rpa3Rva2VuLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvbGFuZ3VhZ2VfbW9kZWxzL2Jhc2UudHNcbnZhciBiYXNlX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KGJhc2VfZXhwb3J0cywge1xuXHRCYXNlTGFuZ0NoYWluOiAoKSA9PiBCYXNlTGFuZ0NoYWluLFxuXHRCYXNlTGFuZ3VhZ2VNb2RlbDogKCkgPT4gQmFzZUxhbmd1YWdlTW9kZWwsXG5cdGNhbGN1bGF0ZU1heFRva2VuczogKCkgPT4gY2FsY3VsYXRlTWF4VG9rZW5zLFxuXHRnZXRFbWJlZGRpbmdDb250ZXh0U2l6ZTogKCkgPT4gZ2V0RW1iZWRkaW5nQ29udGV4dFNpemUsXG5cdGdldE1vZGVsQ29udGV4dFNpemU6ICgpID0+IGdldE1vZGVsQ29udGV4dFNpemUsXG5cdGdldE1vZGVsTmFtZUZvclRpa3Rva2VuOiAoKSA9PiBnZXRNb2RlbE5hbWVGb3JUaWt0b2tlbixcblx0aXNPcGVuQUlUb29sOiAoKSA9PiBpc09wZW5BSVRvb2xcbn0pO1xuY29uc3QgZ2V0TW9kZWxOYW1lRm9yVGlrdG9rZW4gPSAobW9kZWxOYW1lKSA9PiB7XG5cdGlmIChtb2RlbE5hbWUuc3RhcnRzV2l0aChcImdwdC0zLjUtdHVyYm8tMTZrXCIpKSByZXR1cm4gXCJncHQtMy41LXR1cmJvLTE2a1wiO1xuXHRpZiAobW9kZWxOYW1lLnN0YXJ0c1dpdGgoXCJncHQtMy41LXR1cmJvLVwiKSkgcmV0dXJuIFwiZ3B0LTMuNS10dXJib1wiO1xuXHRpZiAobW9kZWxOYW1lLnN0YXJ0c1dpdGgoXCJncHQtNC0zMmtcIikpIHJldHVybiBcImdwdC00LTMya1wiO1xuXHRpZiAobW9kZWxOYW1lLnN0YXJ0c1dpdGgoXCJncHQtNC1cIikpIHJldHVybiBcImdwdC00XCI7XG5cdGlmIChtb2RlbE5hbWUuc3RhcnRzV2l0aChcImdwdC00b1wiKSkgcmV0dXJuIFwiZ3B0LTRvXCI7XG5cdHJldHVybiBtb2RlbE5hbWU7XG59O1xuY29uc3QgZ2V0RW1iZWRkaW5nQ29udGV4dFNpemUgPSAobW9kZWxOYW1lKSA9PiB7XG5cdHN3aXRjaCAobW9kZWxOYW1lKSB7XG5cdFx0Y2FzZSBcInRleHQtZW1iZWRkaW5nLWFkYS0wMDJcIjogcmV0dXJuIDgxOTE7XG5cdFx0ZGVmYXVsdDogcmV0dXJuIDIwNDY7XG5cdH1cbn07XG5jb25zdCBnZXRNb2RlbENvbnRleHRTaXplID0gKG1vZGVsTmFtZSkgPT4ge1xuXHRzd2l0Y2ggKGdldE1vZGVsTmFtZUZvclRpa3Rva2VuKG1vZGVsTmFtZSkpIHtcblx0XHRjYXNlIFwiZ3B0LTMuNS10dXJiby0xNmtcIjogcmV0dXJuIDE2Mzg0O1xuXHRcdGNhc2UgXCJncHQtMy41LXR1cmJvXCI6IHJldHVybiA0MDk2O1xuXHRcdGNhc2UgXCJncHQtNC0zMmtcIjogcmV0dXJuIDMyNzY4O1xuXHRcdGNhc2UgXCJncHQtNFwiOiByZXR1cm4gODE5Mjtcblx0XHRjYXNlIFwidGV4dC1kYXZpbmNpLTAwM1wiOiByZXR1cm4gNDA5Nztcblx0XHRjYXNlIFwidGV4dC1jdXJpZS0wMDFcIjogcmV0dXJuIDIwNDg7XG5cdFx0Y2FzZSBcInRleHQtYmFiYmFnZS0wMDFcIjogcmV0dXJuIDIwNDg7XG5cdFx0Y2FzZSBcInRleHQtYWRhLTAwMVwiOiByZXR1cm4gMjA0ODtcblx0XHRjYXNlIFwiY29kZS1kYXZpbmNpLTAwMlwiOiByZXR1cm4gOGUzO1xuXHRcdGNhc2UgXCJjb2RlLWN1c2htYW4tMDAxXCI6IHJldHVybiAyMDQ4O1xuXHRcdGRlZmF1bHQ6IHJldHVybiA0MDk3O1xuXHR9XG59O1xuLyoqXG4qIFdoZXRoZXIgb3Igbm90IHRoZSBpbnB1dCBtYXRjaGVzIHRoZSBPcGVuQUkgdG9vbCBkZWZpbml0aW9uLlxuKiBAcGFyYW0ge3Vua25vd259IHRvb2wgVGhlIGlucHV0IHRvIGNoZWNrLlxuKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciB0aGUgaW5wdXQgaXMgYW4gT3BlbkFJIHRvb2wgZGVmaW5pdGlvbi5cbiovXG5mdW5jdGlvbiBpc09wZW5BSVRvb2wodG9vbCkge1xuXHRpZiAodHlwZW9mIHRvb2wgIT09IFwib2JqZWN0XCIgfHwgIXRvb2wpIHJldHVybiBmYWxzZTtcblx0aWYgKFwidHlwZVwiIGluIHRvb2wgJiYgdG9vbC50eXBlID09PSBcImZ1bmN0aW9uXCIgJiYgXCJmdW5jdGlvblwiIGluIHRvb2wgJiYgdHlwZW9mIHRvb2wuZnVuY3Rpb24gPT09IFwib2JqZWN0XCIgJiYgdG9vbC5mdW5jdGlvbiAmJiBcIm5hbWVcIiBpbiB0b29sLmZ1bmN0aW9uICYmIFwicGFyYW1ldGVyc1wiIGluIHRvb2wuZnVuY3Rpb24pIHJldHVybiB0cnVlO1xuXHRyZXR1cm4gZmFsc2U7XG59XG5jb25zdCBjYWxjdWxhdGVNYXhUb2tlbnMgPSBhc3luYyAoeyBwcm9tcHQsIG1vZGVsTmFtZSB9KSA9PiB7XG5cdGxldCBudW1Ub2tlbnM7XG5cdHRyeSB7XG5cdFx0bnVtVG9rZW5zID0gKGF3YWl0IGVuY29kaW5nRm9yTW9kZWwoZ2V0TW9kZWxOYW1lRm9yVGlrdG9rZW4obW9kZWxOYW1lKSkpLmVuY29kZShwcm9tcHQpLmxlbmd0aDtcblx0fSBjYXRjaCB7XG5cdFx0Y29uc29sZS53YXJuKFwiRmFpbGVkIHRvIGNhbGN1bGF0ZSBudW1iZXIgb2YgdG9rZW5zLCBmYWxsaW5nIGJhY2sgdG8gYXBwcm94aW1hdGUgY291bnRcIik7XG5cdFx0bnVtVG9rZW5zID0gTWF0aC5jZWlsKHByb21wdC5sZW5ndGggLyA0KTtcblx0fVxuXHRjb25zdCBtYXhUb2tlbnMgPSBnZXRNb2RlbENvbnRleHRTaXplKG1vZGVsTmFtZSk7XG5cdHJldHVybiBtYXhUb2tlbnMgLSBudW1Ub2tlbnM7XG59O1xuY29uc3QgZ2V0VmVyYm9zaXR5ID0gKCkgPT4gZmFsc2U7XG4vKipcbiogQmFzZSBjbGFzcyBmb3IgbGFuZ3VhZ2UgbW9kZWxzLCBjaGFpbnMsIHRvb2xzLlxuKi9cbnZhciBCYXNlTGFuZ0NoYWluID0gY2xhc3MgZXh0ZW5kcyBSdW5uYWJsZSB7XG5cdC8qKlxuXHQqIFdoZXRoZXIgdG8gcHJpbnQgb3V0IHJlc3BvbnNlIHRleHQuXG5cdCovXG5cdHZlcmJvc2U7XG5cdGNhbGxiYWNrcztcblx0dGFncztcblx0bWV0YWRhdGE7XG5cdGdldCBsY19hdHRyaWJ1dGVzKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRjYWxsYmFja3M6IHZvaWQgMCxcblx0XHRcdHZlcmJvc2U6IHZvaWQgMFxuXHRcdH07XG5cdH1cblx0Y29uc3RydWN0b3IocGFyYW1zKSB7XG5cdFx0c3VwZXIocGFyYW1zKTtcblx0XHR0aGlzLnZlcmJvc2UgPSBwYXJhbXMudmVyYm9zZSA/PyBnZXRWZXJib3NpdHkoKTtcblx0XHR0aGlzLmNhbGxiYWNrcyA9IHBhcmFtcy5jYWxsYmFja3M7XG5cdFx0dGhpcy50YWdzID0gcGFyYW1zLnRhZ3MgPz8gW107XG5cdFx0dGhpcy5tZXRhZGF0YSA9IHBhcmFtcy5tZXRhZGF0YSA/PyB7fTtcblx0fVxufTtcbi8qKlxuKiBCYXNlIGNsYXNzIGZvciBsYW5ndWFnZSBtb2RlbHMuXG4qL1xudmFyIEJhc2VMYW5ndWFnZU1vZGVsID0gY2xhc3MgZXh0ZW5kcyBCYXNlTGFuZ0NoYWluIHtcblx0LyoqXG5cdCogS2V5cyB0aGF0IHRoZSBsYW5ndWFnZSBtb2RlbCBhY2NlcHRzIGFzIGNhbGwgb3B0aW9ucy5cblx0Ki9cblx0Z2V0IGNhbGxLZXlzKCkge1xuXHRcdHJldHVybiBbXG5cdFx0XHRcInN0b3BcIixcblx0XHRcdFwidGltZW91dFwiLFxuXHRcdFx0XCJzaWduYWxcIixcblx0XHRcdFwidGFnc1wiLFxuXHRcdFx0XCJtZXRhZGF0YVwiLFxuXHRcdFx0XCJjYWxsYmFja3NcIlxuXHRcdF07XG5cdH1cblx0LyoqXG5cdCogVGhlIGFzeW5jIGNhbGxlciBzaG91bGQgYmUgdXNlZCBieSBzdWJjbGFzc2VzIHRvIG1ha2UgYW55IGFzeW5jIGNhbGxzLFxuXHQqIHdoaWNoIHdpbGwgdGh1cyBiZW5lZml0IGZyb20gdGhlIGNvbmN1cnJlbmN5IGFuZCByZXRyeSBsb2dpYy5cblx0Ki9cblx0Y2FsbGVyO1xuXHRjYWNoZTtcblx0Y29uc3RydWN0b3IoeyBjYWxsYmFja3MsIGNhbGxiYWNrTWFuYWdlciwuLi5wYXJhbXMgfSkge1xuXHRcdGNvbnN0IHsgY2FjaGUsLi4ucmVzdCB9ID0gcGFyYW1zO1xuXHRcdHN1cGVyKHtcblx0XHRcdGNhbGxiYWNrczogY2FsbGJhY2tzID8/IGNhbGxiYWNrTWFuYWdlcixcblx0XHRcdC4uLnJlc3Rcblx0XHR9KTtcblx0XHRpZiAodHlwZW9mIGNhY2hlID09PSBcIm9iamVjdFwiKSB0aGlzLmNhY2hlID0gY2FjaGU7XG5cdFx0ZWxzZSBpZiAoY2FjaGUpIHRoaXMuY2FjaGUgPSBJbk1lbW9yeUNhY2hlLmdsb2JhbCgpO1xuXHRcdGVsc2UgdGhpcy5jYWNoZSA9IHZvaWQgMDtcblx0XHR0aGlzLmNhbGxlciA9IG5ldyBBc3luY0NhbGxlcihwYXJhbXMgPz8ge30pO1xuXHR9XG5cdF9lbmNvZGluZztcblx0LyoqXG5cdCogR2V0IHRoZSBudW1iZXIgb2YgdG9rZW5zIGluIHRoZSBjb250ZW50LlxuXHQqIEBwYXJhbSBjb250ZW50IFRoZSBjb250ZW50IHRvIGdldCB0aGUgbnVtYmVyIG9mIHRva2VucyBmb3IuXG5cdCogQHJldHVybnMgVGhlIG51bWJlciBvZiB0b2tlbnMgaW4gdGhlIGNvbnRlbnQuXG5cdCovXG5cdGFzeW5jIGdldE51bVRva2Vucyhjb250ZW50KSB7XG5cdFx0bGV0IHRleHRDb250ZW50O1xuXHRcdGlmICh0eXBlb2YgY29udGVudCA9PT0gXCJzdHJpbmdcIikgdGV4dENvbnRlbnQgPSBjb250ZW50O1xuXHRcdGVsc2VcbiAvKipcblx0XHQqIENvbnRlbnQgaXMgYW4gYXJyYXkgb2YgQ29udGVudEJsb2NrXG5cdFx0KlxuXHRcdCogVG9EbyhAY2hyaXN0aWFuLWJyb21hbm4pOiBUaGlzIGlzIGEgdGVtcG9yYXJ5IGZpeCB0byBnZXQgdGhlIG51bWJlciBvZiB0b2tlbnMgZm9yIHRoZSBjb250ZW50LlxuXHRcdCogV2UgbmVlZCB0byBmaW5kIGEgYmV0dGVyIHdheSB0byBkbyB0aGlzLlxuXHRcdCogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vbGFuZ2NoYWluLWFpL2xhbmdjaGFpbmpzL3B1bGwvODM0MSNwdWxscmVxdWVzdHJldmlldy0yOTMzNzEzMTE2XG5cdFx0Ki9cblx0XHR0ZXh0Q29udGVudCA9IGNvbnRlbnQubWFwKChpdGVtKSA9PiB7XG5cdFx0XHRpZiAodHlwZW9mIGl0ZW0gPT09IFwic3RyaW5nXCIpIHJldHVybiBpdGVtO1xuXHRcdFx0aWYgKGl0ZW0udHlwZSA9PT0gXCJ0ZXh0XCIgJiYgXCJ0ZXh0XCIgaW4gaXRlbSkgcmV0dXJuIGl0ZW0udGV4dDtcblx0XHRcdHJldHVybiBcIlwiO1xuXHRcdH0pLmpvaW4oXCJcIik7XG5cdFx0bGV0IG51bVRva2VucyA9IE1hdGguY2VpbCh0ZXh0Q29udGVudC5sZW5ndGggLyA0KTtcblx0XHRpZiAoIXRoaXMuX2VuY29kaW5nKSB0cnkge1xuXHRcdFx0dGhpcy5fZW5jb2RpbmcgPSBhd2FpdCBlbmNvZGluZ0Zvck1vZGVsKFwibW9kZWxOYW1lXCIgaW4gdGhpcyA/IGdldE1vZGVsTmFtZUZvclRpa3Rva2VuKHRoaXMubW9kZWxOYW1lKSA6IFwiZ3B0MlwiKTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0Y29uc29sZS53YXJuKFwiRmFpbGVkIHRvIGNhbGN1bGF0ZSBudW1iZXIgb2YgdG9rZW5zLCBmYWxsaW5nIGJhY2sgdG8gYXBwcm94aW1hdGUgY291bnRcIiwgZXJyb3IpO1xuXHRcdH1cblx0XHRpZiAodGhpcy5fZW5jb2RpbmcpIHRyeSB7XG5cdFx0XHRudW1Ub2tlbnMgPSB0aGlzLl9lbmNvZGluZy5lbmNvZGUodGV4dENvbnRlbnQpLmxlbmd0aDtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0Y29uc29sZS53YXJuKFwiRmFpbGVkIHRvIGNhbGN1bGF0ZSBudW1iZXIgb2YgdG9rZW5zLCBmYWxsaW5nIGJhY2sgdG8gYXBwcm94aW1hdGUgY291bnRcIiwgZXJyb3IpO1xuXHRcdH1cblx0XHRyZXR1cm4gbnVtVG9rZW5zO1xuXHR9XG5cdHN0YXRpYyBfY29udmVydElucHV0VG9Qcm9tcHRWYWx1ZShpbnB1dCkge1xuXHRcdGlmICh0eXBlb2YgaW5wdXQgPT09IFwic3RyaW5nXCIpIHJldHVybiBuZXcgU3RyaW5nUHJvbXB0VmFsdWUoaW5wdXQpO1xuXHRcdGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoaW5wdXQpKSByZXR1cm4gbmV3IENoYXRQcm9tcHRWYWx1ZShpbnB1dC5tYXAoY29lcmNlTWVzc2FnZUxpa2VUb01lc3NhZ2UpKTtcblx0XHRlbHNlIHJldHVybiBpbnB1dDtcblx0fVxuXHQvKipcblx0KiBHZXQgdGhlIGlkZW50aWZ5aW5nIHBhcmFtZXRlcnMgb2YgdGhlIExMTS5cblx0Ki9cblx0X2lkZW50aWZ5aW5nUGFyYW1zKCkge1xuXHRcdHJldHVybiB7fTtcblx0fVxuXHQvKipcblx0KiBDcmVhdGUgYSB1bmlxdWUgY2FjaGUga2V5IGZvciBhIHNwZWNpZmljIGNhbGwgdG8gYSBzcGVjaWZpYyBsYW5ndWFnZSBtb2RlbC5cblx0KiBAcGFyYW0gY2FsbE9wdGlvbnMgQ2FsbCBvcHRpb25zIGZvciB0aGUgbW9kZWxcblx0KiBAcmV0dXJucyBBIHVuaXF1ZSBjYWNoZSBrZXkuXG5cdCovXG5cdF9nZXRTZXJpYWxpemVkQ2FjaGVLZXlQYXJhbWV0ZXJzRm9yQ2FsbCh7IGNvbmZpZywuLi5jYWxsT3B0aW9ucyB9KSB7XG5cdFx0Y29uc3QgcGFyYW1zID0ge1xuXHRcdFx0Li4udGhpcy5faWRlbnRpZnlpbmdQYXJhbXMoKSxcblx0XHRcdC4uLmNhbGxPcHRpb25zLFxuXHRcdFx0X3R5cGU6IHRoaXMuX2xsbVR5cGUoKSxcblx0XHRcdF9tb2RlbDogdGhpcy5fbW9kZWxUeXBlKClcblx0XHR9O1xuXHRcdGNvbnN0IGZpbHRlcmVkRW50cmllcyA9IE9iamVjdC5lbnRyaWVzKHBhcmFtcykuZmlsdGVyKChbXywgdmFsdWVdKSA9PiB2YWx1ZSAhPT0gdm9pZCAwKTtcblx0XHRjb25zdCBzZXJpYWxpemVkRW50cmllcyA9IGZpbHRlcmVkRW50cmllcy5tYXAoKFtrZXksIHZhbHVlXSkgPT4gYCR7a2V5fToke0pTT04uc3RyaW5naWZ5KHZhbHVlKX1gKS5zb3J0KCkuam9pbihcIixcIik7XG5cdFx0cmV0dXJuIHNlcmlhbGl6ZWRFbnRyaWVzO1xuXHR9XG5cdC8qKlxuXHQqIEBkZXByZWNhdGVkXG5cdCogUmV0dXJuIGEganNvbi1saWtlIG9iamVjdCByZXByZXNlbnRpbmcgdGhpcyBMTE0uXG5cdCovXG5cdHNlcmlhbGl6ZSgpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Li4udGhpcy5faWRlbnRpZnlpbmdQYXJhbXMoKSxcblx0XHRcdF90eXBlOiB0aGlzLl9sbG1UeXBlKCksXG5cdFx0XHRfbW9kZWw6IHRoaXMuX21vZGVsVHlwZSgpXG5cdFx0fTtcblx0fVxuXHQvKipcblx0KiBAZGVwcmVjYXRlZFxuXHQqIExvYWQgYW4gTExNIGZyb20gYSBqc29uLWxpa2Ugb2JqZWN0IGRlc2NyaWJpbmcgaXQuXG5cdCovXG5cdHN0YXRpYyBhc3luYyBkZXNlcmlhbGl6ZShfZGF0YSkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIlVzZSAudG9KU09OKCkgaW5zdGVhZFwiKTtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBCYXNlTGFuZ0NoYWluLCBCYXNlTGFuZ3VhZ2VNb2RlbCwgYmFzZV9leHBvcnRzLCBjYWxjdWxhdGVNYXhUb2tlbnMsIGdldEVtYmVkZGluZ0NvbnRleHRTaXplLCBnZXRNb2RlbENvbnRleHRTaXplLCBnZXRNb2RlbE5hbWVGb3JUaWt0b2tlbiwgaXNPcGVuQUlUb29sIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iYXNlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/language_models/base.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/language_models/chat_models.js":
/*!*******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/language_models/chat_models.js ***!
  \*******************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseChatModel: () => (/* binding */ BaseChatModel),\n/* harmony export */   SimpleChatModel: () => (/* binding */ SimpleChatModel),\n/* harmony export */   chat_models_exports: () => (/* binding */ chat_models_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _messages_content_data_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../messages/content/data.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/content/data.js\");\n/* harmony import */ var _messages_base_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../messages/base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/base.js\");\n/* harmony import */ var _messages_ai_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../messages/ai.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/ai.js\");\n/* harmony import */ var _messages_utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../messages/utils.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/utils.js\");\n/* harmony import */ var _utils_env_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/env.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/env.js\");\n/* harmony import */ var _callbacks_base_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../callbacks/base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/callbacks/base.js\");\n/* harmony import */ var _callbacks_manager_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../callbacks/manager.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/callbacks/manager.js\");\n/* harmony import */ var _utils_stream_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/stream.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/stream.js\");\n/* harmony import */ var _outputs_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../outputs.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/outputs.js\");\n/* harmony import */ var _utils_types_zod_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../utils/types/zod.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/types/zod.js\");\n/* harmony import */ var _utils_json_schema_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utils/json_schema.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/json_schema.js\");\n/* harmony import */ var _runnables_base_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../runnables/base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/base.js\");\n/* harmony import */ var _messages_index_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../messages/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/index.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/language_models/base.js\");\n/* harmony import */ var _runnables_passthrough_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../runnables/passthrough.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/passthrough.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/language_models/utils.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//#region src/language_models/chat_models.ts\nvar chat_models_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(chat_models_exports, {\n\tBaseChatModel: () => BaseChatModel,\n\tSimpleChatModel: () => SimpleChatModel\n});\nfunction _formatForTracing(messages) {\n\tconst messagesToTrace = [];\n\tfor (const message of messages) {\n\t\tlet messageToTrace = message;\n\t\tif (Array.isArray(message.content)) for (let idx = 0; idx < message.content.length; idx++) {\n\t\t\tconst block = message.content[idx];\n\t\t\tif ((0,_messages_content_data_js__WEBPACK_IMPORTED_MODULE_1__.isURLContentBlock)(block) || (0,_messages_content_data_js__WEBPACK_IMPORTED_MODULE_1__.isBase64ContentBlock)(block)) {\n\t\t\t\tif (messageToTrace === message) messageToTrace = new message.constructor({\n\t\t\t\t\t...messageToTrace,\n\t\t\t\t\tcontent: [\n\t\t\t\t\t\t...message.content.slice(0, idx),\n\t\t\t\t\t\t(0,_messages_content_data_js__WEBPACK_IMPORTED_MODULE_1__.convertToOpenAIImageBlock)(block),\n\t\t\t\t\t\t...message.content.slice(idx + 1)\n\t\t\t\t\t]\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tmessagesToTrace.push(messageToTrace);\n\t}\n\treturn messagesToTrace;\n}\n/**\n* Base class for chat models. It extends the BaseLanguageModel class and\n* provides methods for generating chat based on input messages.\n*/\nvar BaseChatModel = class BaseChatModel extends _base_js__WEBPACK_IMPORTED_MODULE_14__.BaseLanguageModel {\n\tlc_namespace = [\n\t\t\"langchain\",\n\t\t\"chat_models\",\n\t\tthis._llmType()\n\t];\n\tdisableStreaming = false;\n\toutputVersion;\n\tget callKeys() {\n\t\treturn [...super.callKeys, \"outputVersion\"];\n\t}\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.outputVersion = (0,_utils_js__WEBPACK_IMPORTED_MODULE_16__.iife)(() => {\n\t\t\tconst outputVersion = fields.outputVersion ?? (0,_utils_env_js__WEBPACK_IMPORTED_MODULE_5__.getEnvironmentVariable)(\"LC_OUTPUT_VERSION\");\n\t\t\tif (outputVersion && [\"v0\", \"v1\"].includes(outputVersion)) return outputVersion;\n\t\t\treturn \"v0\";\n\t\t});\n\t}\n\t_separateRunnableConfigFromCallOptionsCompat(options) {\n\t\tconst [runnableConfig, callOptions] = super._separateRunnableConfigFromCallOptions(options);\n\t\tcallOptions.signal = runnableConfig.signal;\n\t\treturn [runnableConfig, callOptions];\n\t}\n\t/**\n\t* Invokes the chat model with a single input.\n\t* @param input The input for the language model.\n\t* @param options The call options.\n\t* @returns A Promise that resolves to a BaseMessageChunk.\n\t*/\n\tasync invoke(input, options) {\n\t\tconst promptValue = BaseChatModel._convertInputToPromptValue(input);\n\t\tconst result = await this.generatePrompt([promptValue], options, options?.callbacks);\n\t\tconst chatGeneration = result.generations[0][0];\n\t\treturn chatGeneration.message;\n\t}\n\tasync *_streamResponseChunks(_messages, _options, _runManager) {\n\t\tthrow new Error(\"Not implemented.\");\n\t}\n\tasync *_streamIterator(input, options) {\n\t\tif (this._streamResponseChunks === BaseChatModel.prototype._streamResponseChunks || this.disableStreaming) yield this.invoke(input, options);\n\t\telse {\n\t\t\tconst prompt = BaseChatModel._convertInputToPromptValue(input);\n\t\t\tconst messages = prompt.toChatMessages();\n\t\t\tconst [runnableConfig, callOptions] = this._separateRunnableConfigFromCallOptionsCompat(options);\n\t\t\tconst inheritableMetadata = {\n\t\t\t\t...runnableConfig.metadata,\n\t\t\t\t...this.getLsParams(callOptions)\n\t\t\t};\n\t\t\tconst callbackManager_ = await _callbacks_manager_js__WEBPACK_IMPORTED_MODULE_7__.CallbackManager.configure(runnableConfig.callbacks, this.callbacks, runnableConfig.tags, this.tags, inheritableMetadata, this.metadata, { verbose: this.verbose });\n\t\t\tconst extra = {\n\t\t\t\toptions: callOptions,\n\t\t\t\tinvocation_params: this?.invocationParams(callOptions),\n\t\t\t\tbatch_size: 1\n\t\t\t};\n\t\t\tconst outputVersion = callOptions.outputVersion ?? this.outputVersion;\n\t\t\tconst runManagers = await callbackManager_?.handleChatModelStart(this.toJSON(), [_formatForTracing(messages)], runnableConfig.runId, void 0, extra, void 0, void 0, runnableConfig.runName);\n\t\t\tlet generationChunk;\n\t\t\tlet llmOutput;\n\t\t\ttry {\n\t\t\t\tfor await (const chunk of this._streamResponseChunks(messages, callOptions, runManagers?.[0])) {\n\t\t\t\t\tif (chunk.message.id == null) {\n\t\t\t\t\t\tconst runId = runManagers?.at(0)?.runId;\n\t\t\t\t\t\tif (runId != null) chunk.message._updateId(`run-${runId}`);\n\t\t\t\t\t}\n\t\t\t\t\tchunk.message.response_metadata = {\n\t\t\t\t\t\t...chunk.generationInfo,\n\t\t\t\t\t\t...chunk.message.response_metadata\n\t\t\t\t\t};\n\t\t\t\t\tif (outputVersion === \"v1\") yield (0,_utils_js__WEBPACK_IMPORTED_MODULE_16__.castStandardMessageContent)(chunk.message);\n\t\t\t\t\telse yield chunk.message;\n\t\t\t\t\tif (!generationChunk) generationChunk = chunk;\n\t\t\t\t\telse generationChunk = generationChunk.concat(chunk);\n\t\t\t\t\tif ((0,_messages_ai_js__WEBPACK_IMPORTED_MODULE_3__.isAIMessageChunk)(chunk.message) && chunk.message.usage_metadata !== void 0) llmOutput = { tokenUsage: {\n\t\t\t\t\t\tpromptTokens: chunk.message.usage_metadata.input_tokens,\n\t\t\t\t\t\tcompletionTokens: chunk.message.usage_metadata.output_tokens,\n\t\t\t\t\t\ttotalTokens: chunk.message.usage_metadata.total_tokens\n\t\t\t\t\t} };\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tawait Promise.all((runManagers ?? []).map((runManager) => runManager?.handleLLMError(err)));\n\t\t\t\tthrow err;\n\t\t\t}\n\t\t\tawait Promise.all((runManagers ?? []).map((runManager) => runManager?.handleLLMEnd({\n\t\t\t\tgenerations: [[generationChunk]],\n\t\t\t\tllmOutput\n\t\t\t})));\n\t\t}\n\t}\n\tgetLsParams(options) {\n\t\tconst providerName = this.getName().startsWith(\"Chat\") ? this.getName().replace(\"Chat\", \"\") : this.getName();\n\t\treturn {\n\t\t\tls_model_type: \"chat\",\n\t\t\tls_stop: options.stop,\n\t\t\tls_provider: providerName\n\t\t};\n\t}\n\t/** @ignore */\n\tasync _generateUncached(messages, parsedOptions, handledOptions, startedRunManagers) {\n\t\tconst baseMessages = messages.map((messageList) => messageList.map(_messages_utils_js__WEBPACK_IMPORTED_MODULE_4__.coerceMessageLikeToMessage));\n\t\tlet runManagers;\n\t\tif (startedRunManagers !== void 0 && startedRunManagers.length === baseMessages.length) runManagers = startedRunManagers;\n\t\telse {\n\t\t\tconst inheritableMetadata = {\n\t\t\t\t...handledOptions.metadata,\n\t\t\t\t...this.getLsParams(parsedOptions)\n\t\t\t};\n\t\t\tconst callbackManager_ = await _callbacks_manager_js__WEBPACK_IMPORTED_MODULE_7__.CallbackManager.configure(handledOptions.callbacks, this.callbacks, handledOptions.tags, this.tags, inheritableMetadata, this.metadata, { verbose: this.verbose });\n\t\t\tconst extra = {\n\t\t\t\toptions: parsedOptions,\n\t\t\t\tinvocation_params: this?.invocationParams(parsedOptions),\n\t\t\t\tbatch_size: 1\n\t\t\t};\n\t\t\trunManagers = await callbackManager_?.handleChatModelStart(this.toJSON(), baseMessages.map(_formatForTracing), handledOptions.runId, void 0, extra, void 0, void 0, handledOptions.runName);\n\t\t}\n\t\tconst outputVersion = parsedOptions.outputVersion ?? this.outputVersion;\n\t\tconst generations = [];\n\t\tconst llmOutputs = [];\n\t\tconst hasStreamingHandler = !!runManagers?.[0].handlers.find(_callbacks_base_js__WEBPACK_IMPORTED_MODULE_6__.callbackHandlerPrefersStreaming);\n\t\tif (hasStreamingHandler && !this.disableStreaming && baseMessages.length === 1 && this._streamResponseChunks !== BaseChatModel.prototype._streamResponseChunks) try {\n\t\t\tconst stream = await this._streamResponseChunks(baseMessages[0], parsedOptions, runManagers?.[0]);\n\t\t\tlet aggregated;\n\t\t\tlet llmOutput;\n\t\t\tfor await (const chunk of stream) {\n\t\t\t\tif (chunk.message.id == null) {\n\t\t\t\t\tconst runId = runManagers?.at(0)?.runId;\n\t\t\t\t\tif (runId != null) chunk.message._updateId(`run-${runId}`);\n\t\t\t\t}\n\t\t\t\tif (aggregated === void 0) aggregated = chunk;\n\t\t\t\telse aggregated = (0,_utils_stream_js__WEBPACK_IMPORTED_MODULE_8__.concat)(aggregated, chunk);\n\t\t\t\tif ((0,_messages_ai_js__WEBPACK_IMPORTED_MODULE_3__.isAIMessageChunk)(chunk.message) && chunk.message.usage_metadata !== void 0) llmOutput = { tokenUsage: {\n\t\t\t\t\tpromptTokens: chunk.message.usage_metadata.input_tokens,\n\t\t\t\t\tcompletionTokens: chunk.message.usage_metadata.output_tokens,\n\t\t\t\t\ttotalTokens: chunk.message.usage_metadata.total_tokens\n\t\t\t\t} };\n\t\t\t}\n\t\t\tif (aggregated === void 0) throw new Error(\"Received empty response from chat model call.\");\n\t\t\tgenerations.push([aggregated]);\n\t\t\tawait runManagers?.[0].handleLLMEnd({\n\t\t\t\tgenerations,\n\t\t\t\tllmOutput\n\t\t\t});\n\t\t} catch (e) {\n\t\t\tawait runManagers?.[0].handleLLMError(e);\n\t\t\tthrow e;\n\t\t}\n\t\telse {\n\t\t\tconst results = await Promise.allSettled(baseMessages.map(async (messageList, i) => {\n\t\t\t\tconst generateResults = await this._generate(messageList, {\n\t\t\t\t\t...parsedOptions,\n\t\t\t\t\tpromptIndex: i\n\t\t\t\t}, runManagers?.[i]);\n\t\t\t\tif (outputVersion === \"v1\") for (const generation of generateResults.generations) generation.message = (0,_utils_js__WEBPACK_IMPORTED_MODULE_16__.castStandardMessageContent)(generation.message);\n\t\t\t\treturn generateResults;\n\t\t\t}));\n\t\t\tawait Promise.all(results.map(async (pResult, i) => {\n\t\t\t\tif (pResult.status === \"fulfilled\") {\n\t\t\t\t\tconst result = pResult.value;\n\t\t\t\t\tfor (const generation of result.generations) {\n\t\t\t\t\t\tif (generation.message.id == null) {\n\t\t\t\t\t\t\tconst runId = runManagers?.at(0)?.runId;\n\t\t\t\t\t\t\tif (runId != null) generation.message._updateId(`run-${runId}`);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tgeneration.message.response_metadata = {\n\t\t\t\t\t\t\t...generation.generationInfo,\n\t\t\t\t\t\t\t...generation.message.response_metadata\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\tif (result.generations.length === 1) result.generations[0].message.response_metadata = {\n\t\t\t\t\t\t...result.llmOutput,\n\t\t\t\t\t\t...result.generations[0].message.response_metadata\n\t\t\t\t\t};\n\t\t\t\t\tgenerations[i] = result.generations;\n\t\t\t\t\tllmOutputs[i] = result.llmOutput;\n\t\t\t\t\treturn runManagers?.[i]?.handleLLMEnd({\n\t\t\t\t\t\tgenerations: [result.generations],\n\t\t\t\t\t\tllmOutput: result.llmOutput\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tawait runManagers?.[i]?.handleLLMError(pResult.reason);\n\t\t\t\t\treturn Promise.reject(pResult.reason);\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\t\tconst output = {\n\t\t\tgenerations,\n\t\t\tllmOutput: llmOutputs.length ? this._combineLLMOutput?.(...llmOutputs) : void 0\n\t\t};\n\t\tObject.defineProperty(output, _outputs_js__WEBPACK_IMPORTED_MODULE_9__.RUN_KEY, {\n\t\t\tvalue: runManagers ? { runIds: runManagers?.map((manager) => manager.runId) } : void 0,\n\t\t\tconfigurable: true\n\t\t});\n\t\treturn output;\n\t}\n\tasync _generateCached({ messages, cache, llmStringKey, parsedOptions, handledOptions }) {\n\t\tconst baseMessages = messages.map((messageList) => messageList.map(_messages_utils_js__WEBPACK_IMPORTED_MODULE_4__.coerceMessageLikeToMessage));\n\t\tconst inheritableMetadata = {\n\t\t\t...handledOptions.metadata,\n\t\t\t...this.getLsParams(parsedOptions)\n\t\t};\n\t\tconst callbackManager_ = await _callbacks_manager_js__WEBPACK_IMPORTED_MODULE_7__.CallbackManager.configure(handledOptions.callbacks, this.callbacks, handledOptions.tags, this.tags, inheritableMetadata, this.metadata, { verbose: this.verbose });\n\t\tconst extra = {\n\t\t\toptions: parsedOptions,\n\t\t\tinvocation_params: this?.invocationParams(parsedOptions),\n\t\t\tbatch_size: 1\n\t\t};\n\t\tconst runManagers = await callbackManager_?.handleChatModelStart(this.toJSON(), baseMessages.map(_formatForTracing), handledOptions.runId, void 0, extra, void 0, void 0, handledOptions.runName);\n\t\tconst missingPromptIndices = [];\n\t\tconst results = await Promise.allSettled(baseMessages.map(async (baseMessage, index) => {\n\t\t\tconst prompt = BaseChatModel._convertInputToPromptValue(baseMessage).toString();\n\t\t\tconst result = await cache.lookup(prompt, llmStringKey);\n\t\t\tif (result == null) missingPromptIndices.push(index);\n\t\t\treturn result;\n\t\t}));\n\t\tconst cachedResults = results.map((result, index) => ({\n\t\t\tresult,\n\t\t\trunManager: runManagers?.[index]\n\t\t})).filter(({ result }) => result.status === \"fulfilled\" && result.value != null || result.status === \"rejected\");\n\t\tconst outputVersion = parsedOptions.outputVersion ?? this.outputVersion;\n\t\tconst generations = [];\n\t\tawait Promise.all(cachedResults.map(async ({ result: promiseResult, runManager }, i) => {\n\t\t\tif (promiseResult.status === \"fulfilled\") {\n\t\t\t\tconst result = promiseResult.value;\n\t\t\t\tgenerations[i] = result.map((result$1) => {\n\t\t\t\t\tif (\"message\" in result$1 && (0,_messages_base_js__WEBPACK_IMPORTED_MODULE_2__.isBaseMessage)(result$1.message) && (0,_messages_ai_js__WEBPACK_IMPORTED_MODULE_3__.isAIMessage)(result$1.message)) {\n\t\t\t\t\t\tresult$1.message.usage_metadata = {\n\t\t\t\t\t\t\tinput_tokens: 0,\n\t\t\t\t\t\t\toutput_tokens: 0,\n\t\t\t\t\t\t\ttotal_tokens: 0\n\t\t\t\t\t\t};\n\t\t\t\t\t\tif (outputVersion === \"v1\") result$1.message = (0,_utils_js__WEBPACK_IMPORTED_MODULE_16__.castStandardMessageContent)(result$1.message);\n\t\t\t\t\t}\n\t\t\t\t\tresult$1.generationInfo = {\n\t\t\t\t\t\t...result$1.generationInfo,\n\t\t\t\t\t\ttokenUsage: {}\n\t\t\t\t\t};\n\t\t\t\t\treturn result$1;\n\t\t\t\t});\n\t\t\t\tif (result.length) await runManager?.handleLLMNewToken(result[0].text);\n\t\t\t\treturn runManager?.handleLLMEnd({ generations: [result] }, void 0, void 0, void 0, { cached: true });\n\t\t\t} else {\n\t\t\t\tawait runManager?.handleLLMError(promiseResult.reason, void 0, void 0, void 0, { cached: true });\n\t\t\t\treturn Promise.reject(promiseResult.reason);\n\t\t\t}\n\t\t}));\n\t\tconst output = {\n\t\t\tgenerations,\n\t\t\tmissingPromptIndices,\n\t\t\tstartedRunManagers: runManagers\n\t\t};\n\t\tObject.defineProperty(output, _outputs_js__WEBPACK_IMPORTED_MODULE_9__.RUN_KEY, {\n\t\t\tvalue: runManagers ? { runIds: runManagers?.map((manager) => manager.runId) } : void 0,\n\t\t\tconfigurable: true\n\t\t});\n\t\treturn output;\n\t}\n\t/**\n\t* Generates chat based on the input messages.\n\t* @param messages An array of arrays of BaseMessage instances.\n\t* @param options The call options or an array of stop sequences.\n\t* @param callbacks The callbacks for the language model.\n\t* @returns A Promise that resolves to an LLMResult.\n\t*/\n\tasync generate(messages, options, callbacks) {\n\t\tlet parsedOptions;\n\t\tif (Array.isArray(options)) parsedOptions = { stop: options };\n\t\telse parsedOptions = options;\n\t\tconst baseMessages = messages.map((messageList) => messageList.map(_messages_utils_js__WEBPACK_IMPORTED_MODULE_4__.coerceMessageLikeToMessage));\n\t\tconst [runnableConfig, callOptions] = this._separateRunnableConfigFromCallOptionsCompat(parsedOptions);\n\t\trunnableConfig.callbacks = runnableConfig.callbacks ?? callbacks;\n\t\tif (!this.cache) return this._generateUncached(baseMessages, callOptions, runnableConfig);\n\t\tconst { cache } = this;\n\t\tconst llmStringKey = this._getSerializedCacheKeyParametersForCall(callOptions);\n\t\tconst { generations, missingPromptIndices, startedRunManagers } = await this._generateCached({\n\t\t\tmessages: baseMessages,\n\t\t\tcache,\n\t\t\tllmStringKey,\n\t\t\tparsedOptions: callOptions,\n\t\t\thandledOptions: runnableConfig\n\t\t});\n\t\tlet llmOutput = {};\n\t\tif (missingPromptIndices.length > 0) {\n\t\t\tconst results = await this._generateUncached(missingPromptIndices.map((i) => baseMessages[i]), callOptions, runnableConfig, startedRunManagers !== void 0 ? missingPromptIndices.map((i) => startedRunManagers?.[i]) : void 0);\n\t\t\tawait Promise.all(results.generations.map(async (generation, index) => {\n\t\t\t\tconst promptIndex = missingPromptIndices[index];\n\t\t\t\tgenerations[promptIndex] = generation;\n\t\t\t\tconst prompt = BaseChatModel._convertInputToPromptValue(baseMessages[promptIndex]).toString();\n\t\t\t\treturn cache.update(prompt, llmStringKey, generation);\n\t\t\t}));\n\t\t\tllmOutput = results.llmOutput ?? {};\n\t\t}\n\t\treturn {\n\t\t\tgenerations,\n\t\t\tllmOutput\n\t\t};\n\t}\n\t/**\n\t* Get the parameters used to invoke the model\n\t*/\n\tinvocationParams(_options) {\n\t\treturn {};\n\t}\n\t_modelType() {\n\t\treturn \"base_chat_model\";\n\t}\n\t/**\n\t* Generates a prompt based on the input prompt values.\n\t* @param promptValues An array of BasePromptValue instances.\n\t* @param options The call options or an array of stop sequences.\n\t* @param callbacks The callbacks for the language model.\n\t* @returns A Promise that resolves to an LLMResult.\n\t*/\n\tasync generatePrompt(promptValues, options, callbacks) {\n\t\tconst promptMessages = promptValues.map((promptValue) => promptValue.toChatMessages());\n\t\treturn this.generate(promptMessages, options, callbacks);\n\t}\n\twithStructuredOutput(outputSchema, config) {\n\t\tif (typeof this.bindTools !== \"function\") throw new Error(`Chat model must implement \".bindTools()\" to use withStructuredOutput.`);\n\t\tif (config?.strict) throw new Error(`\"strict\" mode is not supported for this model by default.`);\n\t\tconst schema = outputSchema;\n\t\tconst name = config?.name;\n\t\tconst description = (0,_utils_types_zod_js__WEBPACK_IMPORTED_MODULE_10__.getSchemaDescription)(schema) ?? \"A function available to call.\";\n\t\tconst method = config?.method;\n\t\tconst includeRaw = config?.includeRaw;\n\t\tif (method === \"jsonMode\") throw new Error(`Base withStructuredOutput implementation only supports \"functionCalling\" as a method.`);\n\t\tlet functionName = name ?? \"extract\";\n\t\tlet tools;\n\t\tif ((0,_utils_types_zod_js__WEBPACK_IMPORTED_MODULE_10__.isInteropZodSchema)(schema)) tools = [{\n\t\t\ttype: \"function\",\n\t\t\tfunction: {\n\t\t\t\tname: functionName,\n\t\t\t\tdescription,\n\t\t\t\tparameters: (0,_utils_json_schema_js__WEBPACK_IMPORTED_MODULE_11__.toJsonSchema)(schema)\n\t\t\t}\n\t\t}];\n\t\telse {\n\t\t\tif (\"name\" in schema) functionName = schema.name;\n\t\t\ttools = [{\n\t\t\t\ttype: \"function\",\n\t\t\t\tfunction: {\n\t\t\t\t\tname: functionName,\n\t\t\t\t\tdescription,\n\t\t\t\t\tparameters: schema\n\t\t\t\t}\n\t\t\t}];\n\t\t}\n\t\tconst llm = this.bindTools(tools);\n\t\tconst outputParser = _runnables_base_js__WEBPACK_IMPORTED_MODULE_12__.RunnableLambda.from((input) => {\n\t\t\tif (!_messages_ai_js__WEBPACK_IMPORTED_MODULE_3__.AIMessageChunk.isInstance(input)) throw new Error(\"Input is not an AIMessageChunk.\");\n\t\t\tif (!input.tool_calls || input.tool_calls.length === 0) throw new Error(\"No tool calls found in the response.\");\n\t\t\tconst toolCall = input.tool_calls.find((tc) => tc.name === functionName);\n\t\t\tif (!toolCall) throw new Error(`No tool call found with name ${functionName}.`);\n\t\t\treturn toolCall.args;\n\t\t});\n\t\tif (!includeRaw) return llm.pipe(outputParser).withConfig({ runName: \"StructuredOutput\" });\n\t\tconst parserAssign = _runnables_passthrough_js__WEBPACK_IMPORTED_MODULE_15__.RunnablePassthrough.assign({ parsed: (input, config$1) => outputParser.invoke(input.raw, config$1) });\n\t\tconst parserNone = _runnables_passthrough_js__WEBPACK_IMPORTED_MODULE_15__.RunnablePassthrough.assign({ parsed: () => null });\n\t\tconst parsedWithFallback = parserAssign.withFallbacks({ fallbacks: [parserNone] });\n\t\treturn _runnables_base_js__WEBPACK_IMPORTED_MODULE_12__.RunnableSequence.from([{ raw: llm }, parsedWithFallback]).withConfig({ runName: \"StructuredOutputRunnable\" });\n\t}\n};\n/**\n* An abstract class that extends BaseChatModel and provides a simple\n* implementation of _generate.\n*/\nvar SimpleChatModel = class extends BaseChatModel {\n\tasync _generate(messages, options, runManager) {\n\t\tconst text = await this._call(messages, options, runManager);\n\t\tconst message = new _messages_ai_js__WEBPACK_IMPORTED_MODULE_3__.AIMessage(text);\n\t\tif (typeof message.content !== \"string\") throw new Error(\"Cannot generate with a simple chat model when output is not a string.\");\n\t\treturn { generations: [{\n\t\t\ttext: message.content,\n\t\t\tmessage\n\t\t}] };\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=chat_models.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9sYW5ndWFnZV9tb2RlbHMvY2hhdF9tb2RlbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMkQ7QUFDc0Q7QUFDN0Q7QUFDeUM7QUFDM0I7QUFDVDtBQUNjO0FBQ2I7QUFDZDtBQUNKO0FBQ3lDO0FBQzFCO0FBQ2lCO0FBQzFDO0FBQ2dCO0FBQ29CO0FBQ0o7O0FBRTlEO0FBQ0E7QUFDQSxzRUFBUTtBQUNSO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsOEJBQThCO0FBQ3RGO0FBQ0EsT0FBTyw0RUFBaUIsV0FBVywrRUFBb0I7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLG9GQUF5QjtBQUMvQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELHdEQUFpQjtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsZ0RBQUk7QUFDM0IsaURBQWlELHFFQUFzQjtBQUN2RTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGtFQUFlLDJIQUEySCx1QkFBdUI7QUFDbk07QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsTUFBTTtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLHNFQUEwQjtBQUNqRTtBQUNBO0FBQ0E7QUFDQSxTQUFTLGlFQUFnQiwwRUFBMEU7QUFDbkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFLDBFQUEwQjtBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxrRUFBZSwySEFBMkgsdUJBQXVCO0FBQ25NO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStELCtFQUErQjtBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCxNQUFNO0FBQzdEO0FBQ0E7QUFDQSxzQkFBc0Isd0RBQU07QUFDNUIsUUFBUSxpRUFBZ0IsMEVBQTBFO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLDJHQUEyRyxzRUFBMEI7QUFDckk7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThELE1BQU07QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxnREFBTztBQUN2QywwQkFBMEIsdURBQXVEO0FBQ2pGO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSx5QkFBeUIsOERBQThEO0FBQ3ZGLHFFQUFxRSwwRUFBMEI7QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsa0VBQWUsMkhBQTJILHVCQUF1QjtBQUNsTTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRyxhQUFhLFFBQVE7QUFDeEI7QUFDQTtBQUNBLCtDQUErQyxtQ0FBbUM7QUFDbEY7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGdFQUFhLHNCQUFzQiw0REFBVztBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELHNFQUEwQjtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxzQ0FBc0MsdUJBQXVCLDRCQUE0QixjQUFjO0FBQ3ZHLEtBQUs7QUFDTCxxRkFBcUYsY0FBYztBQUNuRztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsZ0RBQU87QUFDdkMsMEJBQTBCLHVEQUF1RDtBQUNqRjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdEO0FBQ2hEO0FBQ0EscUVBQXFFLDBFQUEwQjtBQUMvRjtBQUNBO0FBQ0E7QUFDQSxVQUFVLFFBQVE7QUFDbEI7QUFDQSxVQUFVLHdEQUF3RDtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiwwRUFBb0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sd0VBQWtCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLG9FQUFZO0FBQzVCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsdUJBQXVCLCtEQUFjO0FBQ3JDLFFBQVEsMkRBQWM7QUFDdEI7QUFDQTtBQUNBLGtFQUFrRSxhQUFhO0FBQy9FO0FBQ0EsR0FBRztBQUNILDhEQUE4RCw2QkFBNkI7QUFDM0YsdUJBQXVCLDJFQUFtQixVQUFVLHVFQUF1RTtBQUMzSCxxQkFBcUIsMkVBQW1CLFVBQVUsb0JBQW9CO0FBQ3RFLDBEQUEwRCx5QkFBeUI7QUFDbkYsU0FBUyxpRUFBZ0IsU0FBUyxVQUFVLG9DQUFvQyxxQ0FBcUM7QUFDckg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHNEQUFTO0FBQy9CO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUMrRDtBQUMvRCIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvbGFuZ3VhZ2VfbW9kZWxzL2NoYXRfbW9kZWxzLmpzPzYxNmMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19leHBvcnQgfSBmcm9tIFwiLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5qc1wiO1xuaW1wb3J0IHsgY29udmVydFRvT3BlbkFJSW1hZ2VCbG9jaywgaXNCYXNlNjRDb250ZW50QmxvY2ssIGlzVVJMQ29udGVudEJsb2NrIH0gZnJvbSBcIi4uL21lc3NhZ2VzL2NvbnRlbnQvZGF0YS5qc1wiO1xuaW1wb3J0IHsgaXNCYXNlTWVzc2FnZSB9IGZyb20gXCIuLi9tZXNzYWdlcy9iYXNlLmpzXCI7XG5pbXBvcnQgeyBBSU1lc3NhZ2UsIEFJTWVzc2FnZUNodW5rLCBpc0FJTWVzc2FnZSwgaXNBSU1lc3NhZ2VDaHVuayB9IGZyb20gXCIuLi9tZXNzYWdlcy9haS5qc1wiO1xuaW1wb3J0IHsgY29lcmNlTWVzc2FnZUxpa2VUb01lc3NhZ2UgfSBmcm9tIFwiLi4vbWVzc2FnZXMvdXRpbHMuanNcIjtcbmltcG9ydCB7IGdldEVudmlyb25tZW50VmFyaWFibGUgfSBmcm9tIFwiLi4vdXRpbHMvZW52LmpzXCI7XG5pbXBvcnQgeyBjYWxsYmFja0hhbmRsZXJQcmVmZXJzU3RyZWFtaW5nIH0gZnJvbSBcIi4uL2NhbGxiYWNrcy9iYXNlLmpzXCI7XG5pbXBvcnQgeyBDYWxsYmFja01hbmFnZXIgfSBmcm9tIFwiLi4vY2FsbGJhY2tzL21hbmFnZXIuanNcIjtcbmltcG9ydCB7IGNvbmNhdCB9IGZyb20gXCIuLi91dGlscy9zdHJlYW0uanNcIjtcbmltcG9ydCB7IFJVTl9LRVkgfSBmcm9tIFwiLi4vb3V0cHV0cy5qc1wiO1xuaW1wb3J0IHsgZ2V0U2NoZW1hRGVzY3JpcHRpb24sIGlzSW50ZXJvcFpvZFNjaGVtYSB9IGZyb20gXCIuLi91dGlscy90eXBlcy96b2QuanNcIjtcbmltcG9ydCB7IHRvSnNvblNjaGVtYSB9IGZyb20gXCIuLi91dGlscy9qc29uX3NjaGVtYS5qc1wiO1xuaW1wb3J0IHsgUnVubmFibGVMYW1iZGEsIFJ1bm5hYmxlU2VxdWVuY2UgfSBmcm9tIFwiLi4vcnVubmFibGVzL2Jhc2UuanNcIjtcbmltcG9ydCBcIi4uL21lc3NhZ2VzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBCYXNlTGFuZ3VhZ2VNb2RlbCB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCB7IFJ1bm5hYmxlUGFzc3Rocm91Z2ggfSBmcm9tIFwiLi4vcnVubmFibGVzL3Bhc3N0aHJvdWdoLmpzXCI7XG5pbXBvcnQgeyBjYXN0U3RhbmRhcmRNZXNzYWdlQ29udGVudCwgaWlmZSB9IGZyb20gXCIuL3V0aWxzLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvbGFuZ3VhZ2VfbW9kZWxzL2NoYXRfbW9kZWxzLnRzXG52YXIgY2hhdF9tb2RlbHNfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQoY2hhdF9tb2RlbHNfZXhwb3J0cywge1xuXHRCYXNlQ2hhdE1vZGVsOiAoKSA9PiBCYXNlQ2hhdE1vZGVsLFxuXHRTaW1wbGVDaGF0TW9kZWw6ICgpID0+IFNpbXBsZUNoYXRNb2RlbFxufSk7XG5mdW5jdGlvbiBfZm9ybWF0Rm9yVHJhY2luZyhtZXNzYWdlcykge1xuXHRjb25zdCBtZXNzYWdlc1RvVHJhY2UgPSBbXTtcblx0Zm9yIChjb25zdCBtZXNzYWdlIG9mIG1lc3NhZ2VzKSB7XG5cdFx0bGV0IG1lc3NhZ2VUb1RyYWNlID0gbWVzc2FnZTtcblx0XHRpZiAoQXJyYXkuaXNBcnJheShtZXNzYWdlLmNvbnRlbnQpKSBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBtZXNzYWdlLmNvbnRlbnQubGVuZ3RoOyBpZHgrKykge1xuXHRcdFx0Y29uc3QgYmxvY2sgPSBtZXNzYWdlLmNvbnRlbnRbaWR4XTtcblx0XHRcdGlmIChpc1VSTENvbnRlbnRCbG9jayhibG9jaykgfHwgaXNCYXNlNjRDb250ZW50QmxvY2soYmxvY2spKSB7XG5cdFx0XHRcdGlmIChtZXNzYWdlVG9UcmFjZSA9PT0gbWVzc2FnZSkgbWVzc2FnZVRvVHJhY2UgPSBuZXcgbWVzc2FnZS5jb25zdHJ1Y3Rvcih7XG5cdFx0XHRcdFx0Li4ubWVzc2FnZVRvVHJhY2UsXG5cdFx0XHRcdFx0Y29udGVudDogW1xuXHRcdFx0XHRcdFx0Li4ubWVzc2FnZS5jb250ZW50LnNsaWNlKDAsIGlkeCksXG5cdFx0XHRcdFx0XHRjb252ZXJ0VG9PcGVuQUlJbWFnZUJsb2NrKGJsb2NrKSxcblx0XHRcdFx0XHRcdC4uLm1lc3NhZ2UuY29udGVudC5zbGljZShpZHggKyAxKVxuXHRcdFx0XHRcdF1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdG1lc3NhZ2VzVG9UcmFjZS5wdXNoKG1lc3NhZ2VUb1RyYWNlKTtcblx0fVxuXHRyZXR1cm4gbWVzc2FnZXNUb1RyYWNlO1xufVxuLyoqXG4qIEJhc2UgY2xhc3MgZm9yIGNoYXQgbW9kZWxzLiBJdCBleHRlbmRzIHRoZSBCYXNlTGFuZ3VhZ2VNb2RlbCBjbGFzcyBhbmRcbiogcHJvdmlkZXMgbWV0aG9kcyBmb3IgZ2VuZXJhdGluZyBjaGF0IGJhc2VkIG9uIGlucHV0IG1lc3NhZ2VzLlxuKi9cbnZhciBCYXNlQ2hhdE1vZGVsID0gY2xhc3MgQmFzZUNoYXRNb2RlbCBleHRlbmRzIEJhc2VMYW5ndWFnZU1vZGVsIHtcblx0bGNfbmFtZXNwYWNlID0gW1xuXHRcdFwibGFuZ2NoYWluXCIsXG5cdFx0XCJjaGF0X21vZGVsc1wiLFxuXHRcdHRoaXMuX2xsbVR5cGUoKVxuXHRdO1xuXHRkaXNhYmxlU3RyZWFtaW5nID0gZmFsc2U7XG5cdG91dHB1dFZlcnNpb247XG5cdGdldCBjYWxsS2V5cygpIHtcblx0XHRyZXR1cm4gWy4uLnN1cGVyLmNhbGxLZXlzLCBcIm91dHB1dFZlcnNpb25cIl07XG5cdH1cblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLm91dHB1dFZlcnNpb24gPSBpaWZlKCgpID0+IHtcblx0XHRcdGNvbnN0IG91dHB1dFZlcnNpb24gPSBmaWVsZHMub3V0cHV0VmVyc2lvbiA/PyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiTENfT1VUUFVUX1ZFUlNJT05cIik7XG5cdFx0XHRpZiAob3V0cHV0VmVyc2lvbiAmJiBbXCJ2MFwiLCBcInYxXCJdLmluY2x1ZGVzKG91dHB1dFZlcnNpb24pKSByZXR1cm4gb3V0cHV0VmVyc2lvbjtcblx0XHRcdHJldHVybiBcInYwXCI7XG5cdFx0fSk7XG5cdH1cblx0X3NlcGFyYXRlUnVubmFibGVDb25maWdGcm9tQ2FsbE9wdGlvbnNDb21wYXQob3B0aW9ucykge1xuXHRcdGNvbnN0IFtydW5uYWJsZUNvbmZpZywgY2FsbE9wdGlvbnNdID0gc3VwZXIuX3NlcGFyYXRlUnVubmFibGVDb25maWdGcm9tQ2FsbE9wdGlvbnMob3B0aW9ucyk7XG5cdFx0Y2FsbE9wdGlvbnMuc2lnbmFsID0gcnVubmFibGVDb25maWcuc2lnbmFsO1xuXHRcdHJldHVybiBbcnVubmFibGVDb25maWcsIGNhbGxPcHRpb25zXTtcblx0fVxuXHQvKipcblx0KiBJbnZva2VzIHRoZSBjaGF0IG1vZGVsIHdpdGggYSBzaW5nbGUgaW5wdXQuXG5cdCogQHBhcmFtIGlucHV0IFRoZSBpbnB1dCBmb3IgdGhlIGxhbmd1YWdlIG1vZGVsLlxuXHQqIEBwYXJhbSBvcHRpb25zIFRoZSBjYWxsIG9wdGlvbnMuXG5cdCogQHJldHVybnMgQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYSBCYXNlTWVzc2FnZUNodW5rLlxuXHQqL1xuXHRhc3luYyBpbnZva2UoaW5wdXQsIG9wdGlvbnMpIHtcblx0XHRjb25zdCBwcm9tcHRWYWx1ZSA9IEJhc2VDaGF0TW9kZWwuX2NvbnZlcnRJbnB1dFRvUHJvbXB0VmFsdWUoaW5wdXQpO1xuXHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVQcm9tcHQoW3Byb21wdFZhbHVlXSwgb3B0aW9ucywgb3B0aW9ucz8uY2FsbGJhY2tzKTtcblx0XHRjb25zdCBjaGF0R2VuZXJhdGlvbiA9IHJlc3VsdC5nZW5lcmF0aW9uc1swXVswXTtcblx0XHRyZXR1cm4gY2hhdEdlbmVyYXRpb24ubWVzc2FnZTtcblx0fVxuXHRhc3luYyAqX3N0cmVhbVJlc3BvbnNlQ2h1bmtzKF9tZXNzYWdlcywgX29wdGlvbnMsIF9ydW5NYW5hZ2VyKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkLlwiKTtcblx0fVxuXHRhc3luYyAqX3N0cmVhbUl0ZXJhdG9yKGlucHV0LCBvcHRpb25zKSB7XG5cdFx0aWYgKHRoaXMuX3N0cmVhbVJlc3BvbnNlQ2h1bmtzID09PSBCYXNlQ2hhdE1vZGVsLnByb3RvdHlwZS5fc3RyZWFtUmVzcG9uc2VDaHVua3MgfHwgdGhpcy5kaXNhYmxlU3RyZWFtaW5nKSB5aWVsZCB0aGlzLmludm9rZShpbnB1dCwgb3B0aW9ucyk7XG5cdFx0ZWxzZSB7XG5cdFx0XHRjb25zdCBwcm9tcHQgPSBCYXNlQ2hhdE1vZGVsLl9jb252ZXJ0SW5wdXRUb1Byb21wdFZhbHVlKGlucHV0KTtcblx0XHRcdGNvbnN0IG1lc3NhZ2VzID0gcHJvbXB0LnRvQ2hhdE1lc3NhZ2VzKCk7XG5cdFx0XHRjb25zdCBbcnVubmFibGVDb25maWcsIGNhbGxPcHRpb25zXSA9IHRoaXMuX3NlcGFyYXRlUnVubmFibGVDb25maWdGcm9tQ2FsbE9wdGlvbnNDb21wYXQob3B0aW9ucyk7XG5cdFx0XHRjb25zdCBpbmhlcml0YWJsZU1ldGFkYXRhID0ge1xuXHRcdFx0XHQuLi5ydW5uYWJsZUNvbmZpZy5tZXRhZGF0YSxcblx0XHRcdFx0Li4udGhpcy5nZXRMc1BhcmFtcyhjYWxsT3B0aW9ucylcblx0XHRcdH07XG5cdFx0XHRjb25zdCBjYWxsYmFja01hbmFnZXJfID0gYXdhaXQgQ2FsbGJhY2tNYW5hZ2VyLmNvbmZpZ3VyZShydW5uYWJsZUNvbmZpZy5jYWxsYmFja3MsIHRoaXMuY2FsbGJhY2tzLCBydW5uYWJsZUNvbmZpZy50YWdzLCB0aGlzLnRhZ3MsIGluaGVyaXRhYmxlTWV0YWRhdGEsIHRoaXMubWV0YWRhdGEsIHsgdmVyYm9zZTogdGhpcy52ZXJib3NlIH0pO1xuXHRcdFx0Y29uc3QgZXh0cmEgPSB7XG5cdFx0XHRcdG9wdGlvbnM6IGNhbGxPcHRpb25zLFxuXHRcdFx0XHRpbnZvY2F0aW9uX3BhcmFtczogdGhpcz8uaW52b2NhdGlvblBhcmFtcyhjYWxsT3B0aW9ucyksXG5cdFx0XHRcdGJhdGNoX3NpemU6IDFcblx0XHRcdH07XG5cdFx0XHRjb25zdCBvdXRwdXRWZXJzaW9uID0gY2FsbE9wdGlvbnMub3V0cHV0VmVyc2lvbiA/PyB0aGlzLm91dHB1dFZlcnNpb247XG5cdFx0XHRjb25zdCBydW5NYW5hZ2VycyA9IGF3YWl0IGNhbGxiYWNrTWFuYWdlcl8/LmhhbmRsZUNoYXRNb2RlbFN0YXJ0KHRoaXMudG9KU09OKCksIFtfZm9ybWF0Rm9yVHJhY2luZyhtZXNzYWdlcyldLCBydW5uYWJsZUNvbmZpZy5ydW5JZCwgdm9pZCAwLCBleHRyYSwgdm9pZCAwLCB2b2lkIDAsIHJ1bm5hYmxlQ29uZmlnLnJ1bk5hbWUpO1xuXHRcdFx0bGV0IGdlbmVyYXRpb25DaHVuaztcblx0XHRcdGxldCBsbG1PdXRwdXQ7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHRoaXMuX3N0cmVhbVJlc3BvbnNlQ2h1bmtzKG1lc3NhZ2VzLCBjYWxsT3B0aW9ucywgcnVuTWFuYWdlcnM/LlswXSkpIHtcblx0XHRcdFx0XHRpZiAoY2h1bmsubWVzc2FnZS5pZCA9PSBudWxsKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBydW5JZCA9IHJ1bk1hbmFnZXJzPy5hdCgwKT8ucnVuSWQ7XG5cdFx0XHRcdFx0XHRpZiAocnVuSWQgIT0gbnVsbCkgY2h1bmsubWVzc2FnZS5fdXBkYXRlSWQoYHJ1bi0ke3J1bklkfWApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjaHVuay5tZXNzYWdlLnJlc3BvbnNlX21ldGFkYXRhID0ge1xuXHRcdFx0XHRcdFx0Li4uY2h1bmsuZ2VuZXJhdGlvbkluZm8sXG5cdFx0XHRcdFx0XHQuLi5jaHVuay5tZXNzYWdlLnJlc3BvbnNlX21ldGFkYXRhXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRpZiAob3V0cHV0VmVyc2lvbiA9PT0gXCJ2MVwiKSB5aWVsZCBjYXN0U3RhbmRhcmRNZXNzYWdlQ29udGVudChjaHVuay5tZXNzYWdlKTtcblx0XHRcdFx0XHRlbHNlIHlpZWxkIGNodW5rLm1lc3NhZ2U7XG5cdFx0XHRcdFx0aWYgKCFnZW5lcmF0aW9uQ2h1bmspIGdlbmVyYXRpb25DaHVuayA9IGNodW5rO1xuXHRcdFx0XHRcdGVsc2UgZ2VuZXJhdGlvbkNodW5rID0gZ2VuZXJhdGlvbkNodW5rLmNvbmNhdChjaHVuayk7XG5cdFx0XHRcdFx0aWYgKGlzQUlNZXNzYWdlQ2h1bmsoY2h1bmsubWVzc2FnZSkgJiYgY2h1bmsubWVzc2FnZS51c2FnZV9tZXRhZGF0YSAhPT0gdm9pZCAwKSBsbG1PdXRwdXQgPSB7IHRva2VuVXNhZ2U6IHtcblx0XHRcdFx0XHRcdHByb21wdFRva2VuczogY2h1bmsubWVzc2FnZS51c2FnZV9tZXRhZGF0YS5pbnB1dF90b2tlbnMsXG5cdFx0XHRcdFx0XHRjb21wbGV0aW9uVG9rZW5zOiBjaHVuay5tZXNzYWdlLnVzYWdlX21ldGFkYXRhLm91dHB1dF90b2tlbnMsXG5cdFx0XHRcdFx0XHR0b3RhbFRva2VuczogY2h1bmsubWVzc2FnZS51c2FnZV9tZXRhZGF0YS50b3RhbF90b2tlbnNcblx0XHRcdFx0XHR9IH07XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRhd2FpdCBQcm9taXNlLmFsbCgocnVuTWFuYWdlcnMgPz8gW10pLm1hcCgocnVuTWFuYWdlcikgPT4gcnVuTWFuYWdlcj8uaGFuZGxlTExNRXJyb3IoZXJyKSkpO1xuXHRcdFx0XHR0aHJvdyBlcnI7XG5cdFx0XHR9XG5cdFx0XHRhd2FpdCBQcm9taXNlLmFsbCgocnVuTWFuYWdlcnMgPz8gW10pLm1hcCgocnVuTWFuYWdlcikgPT4gcnVuTWFuYWdlcj8uaGFuZGxlTExNRW5kKHtcblx0XHRcdFx0Z2VuZXJhdGlvbnM6IFtbZ2VuZXJhdGlvbkNodW5rXV0sXG5cdFx0XHRcdGxsbU91dHB1dFxuXHRcdFx0fSkpKTtcblx0XHR9XG5cdH1cblx0Z2V0THNQYXJhbXMob3B0aW9ucykge1xuXHRcdGNvbnN0IHByb3ZpZGVyTmFtZSA9IHRoaXMuZ2V0TmFtZSgpLnN0YXJ0c1dpdGgoXCJDaGF0XCIpID8gdGhpcy5nZXROYW1lKCkucmVwbGFjZShcIkNoYXRcIiwgXCJcIikgOiB0aGlzLmdldE5hbWUoKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0bHNfbW9kZWxfdHlwZTogXCJjaGF0XCIsXG5cdFx0XHRsc19zdG9wOiBvcHRpb25zLnN0b3AsXG5cdFx0XHRsc19wcm92aWRlcjogcHJvdmlkZXJOYW1lXG5cdFx0fTtcblx0fVxuXHQvKiogQGlnbm9yZSAqL1xuXHRhc3luYyBfZ2VuZXJhdGVVbmNhY2hlZChtZXNzYWdlcywgcGFyc2VkT3B0aW9ucywgaGFuZGxlZE9wdGlvbnMsIHN0YXJ0ZWRSdW5NYW5hZ2Vycykge1xuXHRcdGNvbnN0IGJhc2VNZXNzYWdlcyA9IG1lc3NhZ2VzLm1hcCgobWVzc2FnZUxpc3QpID0+IG1lc3NhZ2VMaXN0Lm1hcChjb2VyY2VNZXNzYWdlTGlrZVRvTWVzc2FnZSkpO1xuXHRcdGxldCBydW5NYW5hZ2Vycztcblx0XHRpZiAoc3RhcnRlZFJ1bk1hbmFnZXJzICE9PSB2b2lkIDAgJiYgc3RhcnRlZFJ1bk1hbmFnZXJzLmxlbmd0aCA9PT0gYmFzZU1lc3NhZ2VzLmxlbmd0aCkgcnVuTWFuYWdlcnMgPSBzdGFydGVkUnVuTWFuYWdlcnM7XG5cdFx0ZWxzZSB7XG5cdFx0XHRjb25zdCBpbmhlcml0YWJsZU1ldGFkYXRhID0ge1xuXHRcdFx0XHQuLi5oYW5kbGVkT3B0aW9ucy5tZXRhZGF0YSxcblx0XHRcdFx0Li4udGhpcy5nZXRMc1BhcmFtcyhwYXJzZWRPcHRpb25zKVxuXHRcdFx0fTtcblx0XHRcdGNvbnN0IGNhbGxiYWNrTWFuYWdlcl8gPSBhd2FpdCBDYWxsYmFja01hbmFnZXIuY29uZmlndXJlKGhhbmRsZWRPcHRpb25zLmNhbGxiYWNrcywgdGhpcy5jYWxsYmFja3MsIGhhbmRsZWRPcHRpb25zLnRhZ3MsIHRoaXMudGFncywgaW5oZXJpdGFibGVNZXRhZGF0YSwgdGhpcy5tZXRhZGF0YSwgeyB2ZXJib3NlOiB0aGlzLnZlcmJvc2UgfSk7XG5cdFx0XHRjb25zdCBleHRyYSA9IHtcblx0XHRcdFx0b3B0aW9uczogcGFyc2VkT3B0aW9ucyxcblx0XHRcdFx0aW52b2NhdGlvbl9wYXJhbXM6IHRoaXM/Lmludm9jYXRpb25QYXJhbXMocGFyc2VkT3B0aW9ucyksXG5cdFx0XHRcdGJhdGNoX3NpemU6IDFcblx0XHRcdH07XG5cdFx0XHRydW5NYW5hZ2VycyA9IGF3YWl0IGNhbGxiYWNrTWFuYWdlcl8/LmhhbmRsZUNoYXRNb2RlbFN0YXJ0KHRoaXMudG9KU09OKCksIGJhc2VNZXNzYWdlcy5tYXAoX2Zvcm1hdEZvclRyYWNpbmcpLCBoYW5kbGVkT3B0aW9ucy5ydW5JZCwgdm9pZCAwLCBleHRyYSwgdm9pZCAwLCB2b2lkIDAsIGhhbmRsZWRPcHRpb25zLnJ1bk5hbWUpO1xuXHRcdH1cblx0XHRjb25zdCBvdXRwdXRWZXJzaW9uID0gcGFyc2VkT3B0aW9ucy5vdXRwdXRWZXJzaW9uID8/IHRoaXMub3V0cHV0VmVyc2lvbjtcblx0XHRjb25zdCBnZW5lcmF0aW9ucyA9IFtdO1xuXHRcdGNvbnN0IGxsbU91dHB1dHMgPSBbXTtcblx0XHRjb25zdCBoYXNTdHJlYW1pbmdIYW5kbGVyID0gISFydW5NYW5hZ2Vycz8uWzBdLmhhbmRsZXJzLmZpbmQoY2FsbGJhY2tIYW5kbGVyUHJlZmVyc1N0cmVhbWluZyk7XG5cdFx0aWYgKGhhc1N0cmVhbWluZ0hhbmRsZXIgJiYgIXRoaXMuZGlzYWJsZVN0cmVhbWluZyAmJiBiYXNlTWVzc2FnZXMubGVuZ3RoID09PSAxICYmIHRoaXMuX3N0cmVhbVJlc3BvbnNlQ2h1bmtzICE9PSBCYXNlQ2hhdE1vZGVsLnByb3RvdHlwZS5fc3RyZWFtUmVzcG9uc2VDaHVua3MpIHRyeSB7XG5cdFx0XHRjb25zdCBzdHJlYW0gPSBhd2FpdCB0aGlzLl9zdHJlYW1SZXNwb25zZUNodW5rcyhiYXNlTWVzc2FnZXNbMF0sIHBhcnNlZE9wdGlvbnMsIHJ1bk1hbmFnZXJzPy5bMF0pO1xuXHRcdFx0bGV0IGFnZ3JlZ2F0ZWQ7XG5cdFx0XHRsZXQgbGxtT3V0cHV0O1xuXHRcdFx0Zm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBzdHJlYW0pIHtcblx0XHRcdFx0aWYgKGNodW5rLm1lc3NhZ2UuaWQgPT0gbnVsbCkge1xuXHRcdFx0XHRcdGNvbnN0IHJ1bklkID0gcnVuTWFuYWdlcnM/LmF0KDApPy5ydW5JZDtcblx0XHRcdFx0XHRpZiAocnVuSWQgIT0gbnVsbCkgY2h1bmsubWVzc2FnZS5fdXBkYXRlSWQoYHJ1bi0ke3J1bklkfWApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChhZ2dyZWdhdGVkID09PSB2b2lkIDApIGFnZ3JlZ2F0ZWQgPSBjaHVuaztcblx0XHRcdFx0ZWxzZSBhZ2dyZWdhdGVkID0gY29uY2F0KGFnZ3JlZ2F0ZWQsIGNodW5rKTtcblx0XHRcdFx0aWYgKGlzQUlNZXNzYWdlQ2h1bmsoY2h1bmsubWVzc2FnZSkgJiYgY2h1bmsubWVzc2FnZS51c2FnZV9tZXRhZGF0YSAhPT0gdm9pZCAwKSBsbG1PdXRwdXQgPSB7IHRva2VuVXNhZ2U6IHtcblx0XHRcdFx0XHRwcm9tcHRUb2tlbnM6IGNodW5rLm1lc3NhZ2UudXNhZ2VfbWV0YWRhdGEuaW5wdXRfdG9rZW5zLFxuXHRcdFx0XHRcdGNvbXBsZXRpb25Ub2tlbnM6IGNodW5rLm1lc3NhZ2UudXNhZ2VfbWV0YWRhdGEub3V0cHV0X3Rva2Vucyxcblx0XHRcdFx0XHR0b3RhbFRva2VuczogY2h1bmsubWVzc2FnZS51c2FnZV9tZXRhZGF0YS50b3RhbF90b2tlbnNcblx0XHRcdFx0fSB9O1xuXHRcdFx0fVxuXHRcdFx0aWYgKGFnZ3JlZ2F0ZWQgPT09IHZvaWQgMCkgdGhyb3cgbmV3IEVycm9yKFwiUmVjZWl2ZWQgZW1wdHkgcmVzcG9uc2UgZnJvbSBjaGF0IG1vZGVsIGNhbGwuXCIpO1xuXHRcdFx0Z2VuZXJhdGlvbnMucHVzaChbYWdncmVnYXRlZF0pO1xuXHRcdFx0YXdhaXQgcnVuTWFuYWdlcnM/LlswXS5oYW5kbGVMTE1FbmQoe1xuXHRcdFx0XHRnZW5lcmF0aW9ucyxcblx0XHRcdFx0bGxtT3V0cHV0XG5cdFx0XHR9KTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRhd2FpdCBydW5NYW5hZ2Vycz8uWzBdLmhhbmRsZUxMTUVycm9yKGUpO1xuXHRcdFx0dGhyb3cgZTtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKGJhc2VNZXNzYWdlcy5tYXAoYXN5bmMgKG1lc3NhZ2VMaXN0LCBpKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGdlbmVyYXRlUmVzdWx0cyA9IGF3YWl0IHRoaXMuX2dlbmVyYXRlKG1lc3NhZ2VMaXN0LCB7XG5cdFx0XHRcdFx0Li4ucGFyc2VkT3B0aW9ucyxcblx0XHRcdFx0XHRwcm9tcHRJbmRleDogaVxuXHRcdFx0XHR9LCBydW5NYW5hZ2Vycz8uW2ldKTtcblx0XHRcdFx0aWYgKG91dHB1dFZlcnNpb24gPT09IFwidjFcIikgZm9yIChjb25zdCBnZW5lcmF0aW9uIG9mIGdlbmVyYXRlUmVzdWx0cy5nZW5lcmF0aW9ucykgZ2VuZXJhdGlvbi5tZXNzYWdlID0gY2FzdFN0YW5kYXJkTWVzc2FnZUNvbnRlbnQoZ2VuZXJhdGlvbi5tZXNzYWdlKTtcblx0XHRcdFx0cmV0dXJuIGdlbmVyYXRlUmVzdWx0cztcblx0XHRcdH0pKTtcblx0XHRcdGF3YWl0IFByb21pc2UuYWxsKHJlc3VsdHMubWFwKGFzeW5jIChwUmVzdWx0LCBpKSA9PiB7XG5cdFx0XHRcdGlmIChwUmVzdWx0LnN0YXR1cyA9PT0gXCJmdWxmaWxsZWRcIikge1xuXHRcdFx0XHRcdGNvbnN0IHJlc3VsdCA9IHBSZXN1bHQudmFsdWU7XG5cdFx0XHRcdFx0Zm9yIChjb25zdCBnZW5lcmF0aW9uIG9mIHJlc3VsdC5nZW5lcmF0aW9ucykge1xuXHRcdFx0XHRcdFx0aWYgKGdlbmVyYXRpb24ubWVzc2FnZS5pZCA9PSBudWxsKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IHJ1bklkID0gcnVuTWFuYWdlcnM/LmF0KDApPy5ydW5JZDtcblx0XHRcdFx0XHRcdFx0aWYgKHJ1bklkICE9IG51bGwpIGdlbmVyYXRpb24ubWVzc2FnZS5fdXBkYXRlSWQoYHJ1bi0ke3J1bklkfWApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0Z2VuZXJhdGlvbi5tZXNzYWdlLnJlc3BvbnNlX21ldGFkYXRhID0ge1xuXHRcdFx0XHRcdFx0XHQuLi5nZW5lcmF0aW9uLmdlbmVyYXRpb25JbmZvLFxuXHRcdFx0XHRcdFx0XHQuLi5nZW5lcmF0aW9uLm1lc3NhZ2UucmVzcG9uc2VfbWV0YWRhdGFcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChyZXN1bHQuZ2VuZXJhdGlvbnMubGVuZ3RoID09PSAxKSByZXN1bHQuZ2VuZXJhdGlvbnNbMF0ubWVzc2FnZS5yZXNwb25zZV9tZXRhZGF0YSA9IHtcblx0XHRcdFx0XHRcdC4uLnJlc3VsdC5sbG1PdXRwdXQsXG5cdFx0XHRcdFx0XHQuLi5yZXN1bHQuZ2VuZXJhdGlvbnNbMF0ubWVzc2FnZS5yZXNwb25zZV9tZXRhZGF0YVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0Z2VuZXJhdGlvbnNbaV0gPSByZXN1bHQuZ2VuZXJhdGlvbnM7XG5cdFx0XHRcdFx0bGxtT3V0cHV0c1tpXSA9IHJlc3VsdC5sbG1PdXRwdXQ7XG5cdFx0XHRcdFx0cmV0dXJuIHJ1bk1hbmFnZXJzPy5baV0/LmhhbmRsZUxMTUVuZCh7XG5cdFx0XHRcdFx0XHRnZW5lcmF0aW9uczogW3Jlc3VsdC5nZW5lcmF0aW9uc10sXG5cdFx0XHRcdFx0XHRsbG1PdXRwdXQ6IHJlc3VsdC5sbG1PdXRwdXRcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRhd2FpdCBydW5NYW5hZ2Vycz8uW2ldPy5oYW5kbGVMTE1FcnJvcihwUmVzdWx0LnJlYXNvbik7XG5cdFx0XHRcdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KHBSZXN1bHQucmVhc29uKTtcblx0XHRcdFx0fVxuXHRcdFx0fSkpO1xuXHRcdH1cblx0XHRjb25zdCBvdXRwdXQgPSB7XG5cdFx0XHRnZW5lcmF0aW9ucyxcblx0XHRcdGxsbU91dHB1dDogbGxtT3V0cHV0cy5sZW5ndGggPyB0aGlzLl9jb21iaW5lTExNT3V0cHV0Py4oLi4ubGxtT3V0cHV0cykgOiB2b2lkIDBcblx0XHR9O1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvdXRwdXQsIFJVTl9LRVksIHtcblx0XHRcdHZhbHVlOiBydW5NYW5hZ2VycyA/IHsgcnVuSWRzOiBydW5NYW5hZ2Vycz8ubWFwKChtYW5hZ2VyKSA9PiBtYW5hZ2VyLnJ1bklkKSB9IDogdm9pZCAwLFxuXHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlXG5cdFx0fSk7XG5cdFx0cmV0dXJuIG91dHB1dDtcblx0fVxuXHRhc3luYyBfZ2VuZXJhdGVDYWNoZWQoeyBtZXNzYWdlcywgY2FjaGUsIGxsbVN0cmluZ0tleSwgcGFyc2VkT3B0aW9ucywgaGFuZGxlZE9wdGlvbnMgfSkge1xuXHRcdGNvbnN0IGJhc2VNZXNzYWdlcyA9IG1lc3NhZ2VzLm1hcCgobWVzc2FnZUxpc3QpID0+IG1lc3NhZ2VMaXN0Lm1hcChjb2VyY2VNZXNzYWdlTGlrZVRvTWVzc2FnZSkpO1xuXHRcdGNvbnN0IGluaGVyaXRhYmxlTWV0YWRhdGEgPSB7XG5cdFx0XHQuLi5oYW5kbGVkT3B0aW9ucy5tZXRhZGF0YSxcblx0XHRcdC4uLnRoaXMuZ2V0THNQYXJhbXMocGFyc2VkT3B0aW9ucylcblx0XHR9O1xuXHRcdGNvbnN0IGNhbGxiYWNrTWFuYWdlcl8gPSBhd2FpdCBDYWxsYmFja01hbmFnZXIuY29uZmlndXJlKGhhbmRsZWRPcHRpb25zLmNhbGxiYWNrcywgdGhpcy5jYWxsYmFja3MsIGhhbmRsZWRPcHRpb25zLnRhZ3MsIHRoaXMudGFncywgaW5oZXJpdGFibGVNZXRhZGF0YSwgdGhpcy5tZXRhZGF0YSwgeyB2ZXJib3NlOiB0aGlzLnZlcmJvc2UgfSk7XG5cdFx0Y29uc3QgZXh0cmEgPSB7XG5cdFx0XHRvcHRpb25zOiBwYXJzZWRPcHRpb25zLFxuXHRcdFx0aW52b2NhdGlvbl9wYXJhbXM6IHRoaXM/Lmludm9jYXRpb25QYXJhbXMocGFyc2VkT3B0aW9ucyksXG5cdFx0XHRiYXRjaF9zaXplOiAxXG5cdFx0fTtcblx0XHRjb25zdCBydW5NYW5hZ2VycyA9IGF3YWl0IGNhbGxiYWNrTWFuYWdlcl8/LmhhbmRsZUNoYXRNb2RlbFN0YXJ0KHRoaXMudG9KU09OKCksIGJhc2VNZXNzYWdlcy5tYXAoX2Zvcm1hdEZvclRyYWNpbmcpLCBoYW5kbGVkT3B0aW9ucy5ydW5JZCwgdm9pZCAwLCBleHRyYSwgdm9pZCAwLCB2b2lkIDAsIGhhbmRsZWRPcHRpb25zLnJ1bk5hbWUpO1xuXHRcdGNvbnN0IG1pc3NpbmdQcm9tcHRJbmRpY2VzID0gW107XG5cdFx0Y29uc3QgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChiYXNlTWVzc2FnZXMubWFwKGFzeW5jIChiYXNlTWVzc2FnZSwgaW5kZXgpID0+IHtcblx0XHRcdGNvbnN0IHByb21wdCA9IEJhc2VDaGF0TW9kZWwuX2NvbnZlcnRJbnB1dFRvUHJvbXB0VmFsdWUoYmFzZU1lc3NhZ2UpLnRvU3RyaW5nKCk7XG5cdFx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBjYWNoZS5sb29rdXAocHJvbXB0LCBsbG1TdHJpbmdLZXkpO1xuXHRcdFx0aWYgKHJlc3VsdCA9PSBudWxsKSBtaXNzaW5nUHJvbXB0SW5kaWNlcy5wdXNoKGluZGV4KTtcblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fSkpO1xuXHRcdGNvbnN0IGNhY2hlZFJlc3VsdHMgPSByZXN1bHRzLm1hcCgocmVzdWx0LCBpbmRleCkgPT4gKHtcblx0XHRcdHJlc3VsdCxcblx0XHRcdHJ1bk1hbmFnZXI6IHJ1bk1hbmFnZXJzPy5baW5kZXhdXG5cdFx0fSkpLmZpbHRlcigoeyByZXN1bHQgfSkgPT4gcmVzdWx0LnN0YXR1cyA9PT0gXCJmdWxmaWxsZWRcIiAmJiByZXN1bHQudmFsdWUgIT0gbnVsbCB8fCByZXN1bHQuc3RhdHVzID09PSBcInJlamVjdGVkXCIpO1xuXHRcdGNvbnN0IG91dHB1dFZlcnNpb24gPSBwYXJzZWRPcHRpb25zLm91dHB1dFZlcnNpb24gPz8gdGhpcy5vdXRwdXRWZXJzaW9uO1xuXHRcdGNvbnN0IGdlbmVyYXRpb25zID0gW107XG5cdFx0YXdhaXQgUHJvbWlzZS5hbGwoY2FjaGVkUmVzdWx0cy5tYXAoYXN5bmMgKHsgcmVzdWx0OiBwcm9taXNlUmVzdWx0LCBydW5NYW5hZ2VyIH0sIGkpID0+IHtcblx0XHRcdGlmIChwcm9taXNlUmVzdWx0LnN0YXR1cyA9PT0gXCJmdWxmaWxsZWRcIikge1xuXHRcdFx0XHRjb25zdCByZXN1bHQgPSBwcm9taXNlUmVzdWx0LnZhbHVlO1xuXHRcdFx0XHRnZW5lcmF0aW9uc1tpXSA9IHJlc3VsdC5tYXAoKHJlc3VsdCQxKSA9PiB7XG5cdFx0XHRcdFx0aWYgKFwibWVzc2FnZVwiIGluIHJlc3VsdCQxICYmIGlzQmFzZU1lc3NhZ2UocmVzdWx0JDEubWVzc2FnZSkgJiYgaXNBSU1lc3NhZ2UocmVzdWx0JDEubWVzc2FnZSkpIHtcblx0XHRcdFx0XHRcdHJlc3VsdCQxLm1lc3NhZ2UudXNhZ2VfbWV0YWRhdGEgPSB7XG5cdFx0XHRcdFx0XHRcdGlucHV0X3Rva2VuczogMCxcblx0XHRcdFx0XHRcdFx0b3V0cHV0X3Rva2VuczogMCxcblx0XHRcdFx0XHRcdFx0dG90YWxfdG9rZW5zOiAwXG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0aWYgKG91dHB1dFZlcnNpb24gPT09IFwidjFcIikgcmVzdWx0JDEubWVzc2FnZSA9IGNhc3RTdGFuZGFyZE1lc3NhZ2VDb250ZW50KHJlc3VsdCQxLm1lc3NhZ2UpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXN1bHQkMS5nZW5lcmF0aW9uSW5mbyA9IHtcblx0XHRcdFx0XHRcdC4uLnJlc3VsdCQxLmdlbmVyYXRpb25JbmZvLFxuXHRcdFx0XHRcdFx0dG9rZW5Vc2FnZToge31cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdHJldHVybiByZXN1bHQkMTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGlmIChyZXN1bHQubGVuZ3RoKSBhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVMTE1OZXdUb2tlbihyZXN1bHRbMF0udGV4dCk7XG5cdFx0XHRcdHJldHVybiBydW5NYW5hZ2VyPy5oYW5kbGVMTE1FbmQoeyBnZW5lcmF0aW9uczogW3Jlc3VsdF0gfSwgdm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgeyBjYWNoZWQ6IHRydWUgfSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVMTE1FcnJvcihwcm9taXNlUmVzdWx0LnJlYXNvbiwgdm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgeyBjYWNoZWQ6IHRydWUgfSk7XG5cdFx0XHRcdHJldHVybiBQcm9taXNlLnJlamVjdChwcm9taXNlUmVzdWx0LnJlYXNvbik7XG5cdFx0XHR9XG5cdFx0fSkpO1xuXHRcdGNvbnN0IG91dHB1dCA9IHtcblx0XHRcdGdlbmVyYXRpb25zLFxuXHRcdFx0bWlzc2luZ1Byb21wdEluZGljZXMsXG5cdFx0XHRzdGFydGVkUnVuTWFuYWdlcnM6IHJ1bk1hbmFnZXJzXG5cdFx0fTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkob3V0cHV0LCBSVU5fS0VZLCB7XG5cdFx0XHR2YWx1ZTogcnVuTWFuYWdlcnMgPyB7IHJ1bklkczogcnVuTWFuYWdlcnM/Lm1hcCgobWFuYWdlcikgPT4gbWFuYWdlci5ydW5JZCkgfSA6IHZvaWQgMCxcblx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHRcdH0pO1xuXHRcdHJldHVybiBvdXRwdXQ7XG5cdH1cblx0LyoqXG5cdCogR2VuZXJhdGVzIGNoYXQgYmFzZWQgb24gdGhlIGlucHV0IG1lc3NhZ2VzLlxuXHQqIEBwYXJhbSBtZXNzYWdlcyBBbiBhcnJheSBvZiBhcnJheXMgb2YgQmFzZU1lc3NhZ2UgaW5zdGFuY2VzLlxuXHQqIEBwYXJhbSBvcHRpb25zIFRoZSBjYWxsIG9wdGlvbnMgb3IgYW4gYXJyYXkgb2Ygc3RvcCBzZXF1ZW5jZXMuXG5cdCogQHBhcmFtIGNhbGxiYWNrcyBUaGUgY2FsbGJhY2tzIGZvciB0aGUgbGFuZ3VhZ2UgbW9kZWwuXG5cdCogQHJldHVybnMgQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYW4gTExNUmVzdWx0LlxuXHQqL1xuXHRhc3luYyBnZW5lcmF0ZShtZXNzYWdlcywgb3B0aW9ucywgY2FsbGJhY2tzKSB7XG5cdFx0bGV0IHBhcnNlZE9wdGlvbnM7XG5cdFx0aWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucykpIHBhcnNlZE9wdGlvbnMgPSB7IHN0b3A6IG9wdGlvbnMgfTtcblx0XHRlbHNlIHBhcnNlZE9wdGlvbnMgPSBvcHRpb25zO1xuXHRcdGNvbnN0IGJhc2VNZXNzYWdlcyA9IG1lc3NhZ2VzLm1hcCgobWVzc2FnZUxpc3QpID0+IG1lc3NhZ2VMaXN0Lm1hcChjb2VyY2VNZXNzYWdlTGlrZVRvTWVzc2FnZSkpO1xuXHRcdGNvbnN0IFtydW5uYWJsZUNvbmZpZywgY2FsbE9wdGlvbnNdID0gdGhpcy5fc2VwYXJhdGVSdW5uYWJsZUNvbmZpZ0Zyb21DYWxsT3B0aW9uc0NvbXBhdChwYXJzZWRPcHRpb25zKTtcblx0XHRydW5uYWJsZUNvbmZpZy5jYWxsYmFja3MgPSBydW5uYWJsZUNvbmZpZy5jYWxsYmFja3MgPz8gY2FsbGJhY2tzO1xuXHRcdGlmICghdGhpcy5jYWNoZSkgcmV0dXJuIHRoaXMuX2dlbmVyYXRlVW5jYWNoZWQoYmFzZU1lc3NhZ2VzLCBjYWxsT3B0aW9ucywgcnVubmFibGVDb25maWcpO1xuXHRcdGNvbnN0IHsgY2FjaGUgfSA9IHRoaXM7XG5cdFx0Y29uc3QgbGxtU3RyaW5nS2V5ID0gdGhpcy5fZ2V0U2VyaWFsaXplZENhY2hlS2V5UGFyYW1ldGVyc0ZvckNhbGwoY2FsbE9wdGlvbnMpO1xuXHRcdGNvbnN0IHsgZ2VuZXJhdGlvbnMsIG1pc3NpbmdQcm9tcHRJbmRpY2VzLCBzdGFydGVkUnVuTWFuYWdlcnMgfSA9IGF3YWl0IHRoaXMuX2dlbmVyYXRlQ2FjaGVkKHtcblx0XHRcdG1lc3NhZ2VzOiBiYXNlTWVzc2FnZXMsXG5cdFx0XHRjYWNoZSxcblx0XHRcdGxsbVN0cmluZ0tleSxcblx0XHRcdHBhcnNlZE9wdGlvbnM6IGNhbGxPcHRpb25zLFxuXHRcdFx0aGFuZGxlZE9wdGlvbnM6IHJ1bm5hYmxlQ29uZmlnXG5cdFx0fSk7XG5cdFx0bGV0IGxsbU91dHB1dCA9IHt9O1xuXHRcdGlmIChtaXNzaW5nUHJvbXB0SW5kaWNlcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRjb25zdCByZXN1bHRzID0gYXdhaXQgdGhpcy5fZ2VuZXJhdGVVbmNhY2hlZChtaXNzaW5nUHJvbXB0SW5kaWNlcy5tYXAoKGkpID0+IGJhc2VNZXNzYWdlc1tpXSksIGNhbGxPcHRpb25zLCBydW5uYWJsZUNvbmZpZywgc3RhcnRlZFJ1bk1hbmFnZXJzICE9PSB2b2lkIDAgPyBtaXNzaW5nUHJvbXB0SW5kaWNlcy5tYXAoKGkpID0+IHN0YXJ0ZWRSdW5NYW5hZ2Vycz8uW2ldKSA6IHZvaWQgMCk7XG5cdFx0XHRhd2FpdCBQcm9taXNlLmFsbChyZXN1bHRzLmdlbmVyYXRpb25zLm1hcChhc3luYyAoZ2VuZXJhdGlvbiwgaW5kZXgpID0+IHtcblx0XHRcdFx0Y29uc3QgcHJvbXB0SW5kZXggPSBtaXNzaW5nUHJvbXB0SW5kaWNlc1tpbmRleF07XG5cdFx0XHRcdGdlbmVyYXRpb25zW3Byb21wdEluZGV4XSA9IGdlbmVyYXRpb247XG5cdFx0XHRcdGNvbnN0IHByb21wdCA9IEJhc2VDaGF0TW9kZWwuX2NvbnZlcnRJbnB1dFRvUHJvbXB0VmFsdWUoYmFzZU1lc3NhZ2VzW3Byb21wdEluZGV4XSkudG9TdHJpbmcoKTtcblx0XHRcdFx0cmV0dXJuIGNhY2hlLnVwZGF0ZShwcm9tcHQsIGxsbVN0cmluZ0tleSwgZ2VuZXJhdGlvbik7XG5cdFx0XHR9KSk7XG5cdFx0XHRsbG1PdXRwdXQgPSByZXN1bHRzLmxsbU91dHB1dCA/PyB7fTtcblx0XHR9XG5cdFx0cmV0dXJuIHtcblx0XHRcdGdlbmVyYXRpb25zLFxuXHRcdFx0bGxtT3V0cHV0XG5cdFx0fTtcblx0fVxuXHQvKipcblx0KiBHZXQgdGhlIHBhcmFtZXRlcnMgdXNlZCB0byBpbnZva2UgdGhlIG1vZGVsXG5cdCovXG5cdGludm9jYXRpb25QYXJhbXMoX29wdGlvbnMpIHtcblx0XHRyZXR1cm4ge307XG5cdH1cblx0X21vZGVsVHlwZSgpIHtcblx0XHRyZXR1cm4gXCJiYXNlX2NoYXRfbW9kZWxcIjtcblx0fVxuXHQvKipcblx0KiBHZW5lcmF0ZXMgYSBwcm9tcHQgYmFzZWQgb24gdGhlIGlucHV0IHByb21wdCB2YWx1ZXMuXG5cdCogQHBhcmFtIHByb21wdFZhbHVlcyBBbiBhcnJheSBvZiBCYXNlUHJvbXB0VmFsdWUgaW5zdGFuY2VzLlxuXHQqIEBwYXJhbSBvcHRpb25zIFRoZSBjYWxsIG9wdGlvbnMgb3IgYW4gYXJyYXkgb2Ygc3RvcCBzZXF1ZW5jZXMuXG5cdCogQHBhcmFtIGNhbGxiYWNrcyBUaGUgY2FsbGJhY2tzIGZvciB0aGUgbGFuZ3VhZ2UgbW9kZWwuXG5cdCogQHJldHVybnMgQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYW4gTExNUmVzdWx0LlxuXHQqL1xuXHRhc3luYyBnZW5lcmF0ZVByb21wdChwcm9tcHRWYWx1ZXMsIG9wdGlvbnMsIGNhbGxiYWNrcykge1xuXHRcdGNvbnN0IHByb21wdE1lc3NhZ2VzID0gcHJvbXB0VmFsdWVzLm1hcCgocHJvbXB0VmFsdWUpID0+IHByb21wdFZhbHVlLnRvQ2hhdE1lc3NhZ2VzKCkpO1xuXHRcdHJldHVybiB0aGlzLmdlbmVyYXRlKHByb21wdE1lc3NhZ2VzLCBvcHRpb25zLCBjYWxsYmFja3MpO1xuXHR9XG5cdHdpdGhTdHJ1Y3R1cmVkT3V0cHV0KG91dHB1dFNjaGVtYSwgY29uZmlnKSB7XG5cdFx0aWYgKHR5cGVvZiB0aGlzLmJpbmRUb29scyAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgRXJyb3IoYENoYXQgbW9kZWwgbXVzdCBpbXBsZW1lbnQgXCIuYmluZFRvb2xzKClcIiB0byB1c2Ugd2l0aFN0cnVjdHVyZWRPdXRwdXQuYCk7XG5cdFx0aWYgKGNvbmZpZz8uc3RyaWN0KSB0aHJvdyBuZXcgRXJyb3IoYFwic3RyaWN0XCIgbW9kZSBpcyBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIG1vZGVsIGJ5IGRlZmF1bHQuYCk7XG5cdFx0Y29uc3Qgc2NoZW1hID0gb3V0cHV0U2NoZW1hO1xuXHRcdGNvbnN0IG5hbWUgPSBjb25maWc/Lm5hbWU7XG5cdFx0Y29uc3QgZGVzY3JpcHRpb24gPSBnZXRTY2hlbWFEZXNjcmlwdGlvbihzY2hlbWEpID8/IFwiQSBmdW5jdGlvbiBhdmFpbGFibGUgdG8gY2FsbC5cIjtcblx0XHRjb25zdCBtZXRob2QgPSBjb25maWc/Lm1ldGhvZDtcblx0XHRjb25zdCBpbmNsdWRlUmF3ID0gY29uZmlnPy5pbmNsdWRlUmF3O1xuXHRcdGlmIChtZXRob2QgPT09IFwianNvbk1vZGVcIikgdGhyb3cgbmV3IEVycm9yKGBCYXNlIHdpdGhTdHJ1Y3R1cmVkT3V0cHV0IGltcGxlbWVudGF0aW9uIG9ubHkgc3VwcG9ydHMgXCJmdW5jdGlvbkNhbGxpbmdcIiBhcyBhIG1ldGhvZC5gKTtcblx0XHRsZXQgZnVuY3Rpb25OYW1lID0gbmFtZSA/PyBcImV4dHJhY3RcIjtcblx0XHRsZXQgdG9vbHM7XG5cdFx0aWYgKGlzSW50ZXJvcFpvZFNjaGVtYShzY2hlbWEpKSB0b29scyA9IFt7XG5cdFx0XHR0eXBlOiBcImZ1bmN0aW9uXCIsXG5cdFx0XHRmdW5jdGlvbjoge1xuXHRcdFx0XHRuYW1lOiBmdW5jdGlvbk5hbWUsXG5cdFx0XHRcdGRlc2NyaXB0aW9uLFxuXHRcdFx0XHRwYXJhbWV0ZXJzOiB0b0pzb25TY2hlbWEoc2NoZW1hKVxuXHRcdFx0fVxuXHRcdH1dO1xuXHRcdGVsc2Uge1xuXHRcdFx0aWYgKFwibmFtZVwiIGluIHNjaGVtYSkgZnVuY3Rpb25OYW1lID0gc2NoZW1hLm5hbWU7XG5cdFx0XHR0b29scyA9IFt7XG5cdFx0XHRcdHR5cGU6IFwiZnVuY3Rpb25cIixcblx0XHRcdFx0ZnVuY3Rpb246IHtcblx0XHRcdFx0XHRuYW1lOiBmdW5jdGlvbk5hbWUsXG5cdFx0XHRcdFx0ZGVzY3JpcHRpb24sXG5cdFx0XHRcdFx0cGFyYW1ldGVyczogc2NoZW1hXG5cdFx0XHRcdH1cblx0XHRcdH1dO1xuXHRcdH1cblx0XHRjb25zdCBsbG0gPSB0aGlzLmJpbmRUb29scyh0b29scyk7XG5cdFx0Y29uc3Qgb3V0cHV0UGFyc2VyID0gUnVubmFibGVMYW1iZGEuZnJvbSgoaW5wdXQpID0+IHtcblx0XHRcdGlmICghQUlNZXNzYWdlQ2h1bmsuaXNJbnN0YW5jZShpbnB1dCkpIHRocm93IG5ldyBFcnJvcihcIklucHV0IGlzIG5vdCBhbiBBSU1lc3NhZ2VDaHVuay5cIik7XG5cdFx0XHRpZiAoIWlucHV0LnRvb2xfY2FsbHMgfHwgaW5wdXQudG9vbF9jYWxscy5sZW5ndGggPT09IDApIHRocm93IG5ldyBFcnJvcihcIk5vIHRvb2wgY2FsbHMgZm91bmQgaW4gdGhlIHJlc3BvbnNlLlwiKTtcblx0XHRcdGNvbnN0IHRvb2xDYWxsID0gaW5wdXQudG9vbF9jYWxscy5maW5kKCh0YykgPT4gdGMubmFtZSA9PT0gZnVuY3Rpb25OYW1lKTtcblx0XHRcdGlmICghdG9vbENhbGwpIHRocm93IG5ldyBFcnJvcihgTm8gdG9vbCBjYWxsIGZvdW5kIHdpdGggbmFtZSAke2Z1bmN0aW9uTmFtZX0uYCk7XG5cdFx0XHRyZXR1cm4gdG9vbENhbGwuYXJncztcblx0XHR9KTtcblx0XHRpZiAoIWluY2x1ZGVSYXcpIHJldHVybiBsbG0ucGlwZShvdXRwdXRQYXJzZXIpLndpdGhDb25maWcoeyBydW5OYW1lOiBcIlN0cnVjdHVyZWRPdXRwdXRcIiB9KTtcblx0XHRjb25zdCBwYXJzZXJBc3NpZ24gPSBSdW5uYWJsZVBhc3N0aHJvdWdoLmFzc2lnbih7IHBhcnNlZDogKGlucHV0LCBjb25maWckMSkgPT4gb3V0cHV0UGFyc2VyLmludm9rZShpbnB1dC5yYXcsIGNvbmZpZyQxKSB9KTtcblx0XHRjb25zdCBwYXJzZXJOb25lID0gUnVubmFibGVQYXNzdGhyb3VnaC5hc3NpZ24oeyBwYXJzZWQ6ICgpID0+IG51bGwgfSk7XG5cdFx0Y29uc3QgcGFyc2VkV2l0aEZhbGxiYWNrID0gcGFyc2VyQXNzaWduLndpdGhGYWxsYmFja3MoeyBmYWxsYmFja3M6IFtwYXJzZXJOb25lXSB9KTtcblx0XHRyZXR1cm4gUnVubmFibGVTZXF1ZW5jZS5mcm9tKFt7IHJhdzogbGxtIH0sIHBhcnNlZFdpdGhGYWxsYmFja10pLndpdGhDb25maWcoeyBydW5OYW1lOiBcIlN0cnVjdHVyZWRPdXRwdXRSdW5uYWJsZVwiIH0pO1xuXHR9XG59O1xuLyoqXG4qIEFuIGFic3RyYWN0IGNsYXNzIHRoYXQgZXh0ZW5kcyBCYXNlQ2hhdE1vZGVsIGFuZCBwcm92aWRlcyBhIHNpbXBsZVxuKiBpbXBsZW1lbnRhdGlvbiBvZiBfZ2VuZXJhdGUuXG4qL1xudmFyIFNpbXBsZUNoYXRNb2RlbCA9IGNsYXNzIGV4dGVuZHMgQmFzZUNoYXRNb2RlbCB7XG5cdGFzeW5jIF9nZW5lcmF0ZShtZXNzYWdlcywgb3B0aW9ucywgcnVuTWFuYWdlcikge1xuXHRcdGNvbnN0IHRleHQgPSBhd2FpdCB0aGlzLl9jYWxsKG1lc3NhZ2VzLCBvcHRpb25zLCBydW5NYW5hZ2VyKTtcblx0XHRjb25zdCBtZXNzYWdlID0gbmV3IEFJTWVzc2FnZSh0ZXh0KTtcblx0XHRpZiAodHlwZW9mIG1lc3NhZ2UuY29udGVudCAhPT0gXCJzdHJpbmdcIikgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdlbmVyYXRlIHdpdGggYSBzaW1wbGUgY2hhdCBtb2RlbCB3aGVuIG91dHB1dCBpcyBub3QgYSBzdHJpbmcuXCIpO1xuXHRcdHJldHVybiB7IGdlbmVyYXRpb25zOiBbe1xuXHRcdFx0dGV4dDogbWVzc2FnZS5jb250ZW50LFxuXHRcdFx0bWVzc2FnZVxuXHRcdH1dIH07XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQmFzZUNoYXRNb2RlbCwgU2ltcGxlQ2hhdE1vZGVsLCBjaGF0X21vZGVsc19leHBvcnRzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaGF0X21vZGVscy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/language_models/chat_models.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/language_models/llms.js":
/*!************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/language_models/llms.js ***!
  \************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseLLM: () => (/* binding */ BaseLLM),\n/* harmony export */   LLM: () => (/* binding */ LLM),\n/* harmony export */   llms_exports: () => (/* binding */ llms_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _callbacks_base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../callbacks/base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/callbacks/base.js\");\n/* harmony import */ var _callbacks_manager_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../callbacks/manager.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/callbacks/manager.js\");\n/* harmony import */ var _utils_stream_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/stream.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/stream.js\");\n/* harmony import */ var _outputs_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../outputs.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/outputs.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/language_models/base.js\");\n\n\n\n\n\n\n\n//#region src/language_models/llms.ts\nvar llms_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(llms_exports, {\n\tBaseLLM: () => BaseLLM,\n\tLLM: () => LLM\n});\n/**\n* LLM Wrapper. Takes in a prompt (or prompts) and returns a string.\n*/\nvar BaseLLM = class BaseLLM extends _base_js__WEBPACK_IMPORTED_MODULE_5__.BaseLanguageModel {\n\tlc_namespace = [\n\t\t\"langchain\",\n\t\t\"llms\",\n\t\tthis._llmType()\n\t];\n\t/**\n\t* This method takes an input and options, and returns a string. It\n\t* converts the input to a prompt value and generates a result based on\n\t* the prompt.\n\t* @param input Input for the LLM.\n\t* @param options Options for the LLM call.\n\t* @returns A string result based on the prompt.\n\t*/\n\tasync invoke(input, options) {\n\t\tconst promptValue = BaseLLM._convertInputToPromptValue(input);\n\t\tconst result = await this.generatePrompt([promptValue], options, options?.callbacks);\n\t\treturn result.generations[0][0].text;\n\t}\n\tasync *_streamResponseChunks(_input, _options, _runManager) {\n\t\tthrow new Error(\"Not implemented.\");\n\t}\n\t_separateRunnableConfigFromCallOptionsCompat(options) {\n\t\tconst [runnableConfig, callOptions] = super._separateRunnableConfigFromCallOptions(options);\n\t\tcallOptions.signal = runnableConfig.signal;\n\t\treturn [runnableConfig, callOptions];\n\t}\n\tasync *_streamIterator(input, options) {\n\t\tif (this._streamResponseChunks === BaseLLM.prototype._streamResponseChunks) yield this.invoke(input, options);\n\t\telse {\n\t\t\tconst prompt = BaseLLM._convertInputToPromptValue(input);\n\t\t\tconst [runnableConfig, callOptions] = this._separateRunnableConfigFromCallOptionsCompat(options);\n\t\t\tconst callbackManager_ = await _callbacks_manager_js__WEBPACK_IMPORTED_MODULE_2__.CallbackManager.configure(runnableConfig.callbacks, this.callbacks, runnableConfig.tags, this.tags, runnableConfig.metadata, this.metadata, { verbose: this.verbose });\n\t\t\tconst extra = {\n\t\t\t\toptions: callOptions,\n\t\t\t\tinvocation_params: this?.invocationParams(callOptions),\n\t\t\t\tbatch_size: 1\n\t\t\t};\n\t\t\tconst runManagers = await callbackManager_?.handleLLMStart(this.toJSON(), [prompt.toString()], runnableConfig.runId, void 0, extra, void 0, void 0, runnableConfig.runName);\n\t\t\tlet generation = new _outputs_js__WEBPACK_IMPORTED_MODULE_4__.GenerationChunk({ text: \"\" });\n\t\t\ttry {\n\t\t\t\tfor await (const chunk of this._streamResponseChunks(prompt.toString(), callOptions, runManagers?.[0])) {\n\t\t\t\t\tif (!generation) generation = chunk;\n\t\t\t\t\telse generation = generation.concat(chunk);\n\t\t\t\t\tif (typeof chunk.text === \"string\") yield chunk.text;\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tawait Promise.all((runManagers ?? []).map((runManager) => runManager?.handleLLMError(err)));\n\t\t\t\tthrow err;\n\t\t\t}\n\t\t\tawait Promise.all((runManagers ?? []).map((runManager) => runManager?.handleLLMEnd({ generations: [[generation]] })));\n\t\t}\n\t}\n\t/**\n\t* This method takes prompt values, options, and callbacks, and generates\n\t* a result based on the prompts.\n\t* @param promptValues Prompt values for the LLM.\n\t* @param options Options for the LLM call.\n\t* @param callbacks Callbacks for the LLM call.\n\t* @returns An LLMResult based on the prompts.\n\t*/\n\tasync generatePrompt(promptValues, options, callbacks) {\n\t\tconst prompts = promptValues.map((promptValue) => promptValue.toString());\n\t\treturn this.generate(prompts, options, callbacks);\n\t}\n\t/**\n\t* Get the parameters used to invoke the model\n\t*/\n\tinvocationParams(_options) {\n\t\treturn {};\n\t}\n\t_flattenLLMResult(llmResult) {\n\t\tconst llmResults = [];\n\t\tfor (let i = 0; i < llmResult.generations.length; i += 1) {\n\t\t\tconst genList = llmResult.generations[i];\n\t\t\tif (i === 0) llmResults.push({\n\t\t\t\tgenerations: [genList],\n\t\t\t\tllmOutput: llmResult.llmOutput\n\t\t\t});\n\t\t\telse {\n\t\t\t\tconst llmOutput = llmResult.llmOutput ? {\n\t\t\t\t\t...llmResult.llmOutput,\n\t\t\t\t\ttokenUsage: {}\n\t\t\t\t} : void 0;\n\t\t\t\tllmResults.push({\n\t\t\t\t\tgenerations: [genList],\n\t\t\t\t\tllmOutput\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn llmResults;\n\t}\n\t/** @ignore */\n\tasync _generateUncached(prompts, parsedOptions, handledOptions, startedRunManagers) {\n\t\tlet runManagers;\n\t\tif (startedRunManagers !== void 0 && startedRunManagers.length === prompts.length) runManagers = startedRunManagers;\n\t\telse {\n\t\t\tconst callbackManager_ = await _callbacks_manager_js__WEBPACK_IMPORTED_MODULE_2__.CallbackManager.configure(handledOptions.callbacks, this.callbacks, handledOptions.tags, this.tags, handledOptions.metadata, this.metadata, { verbose: this.verbose });\n\t\t\tconst extra = {\n\t\t\t\toptions: parsedOptions,\n\t\t\t\tinvocation_params: this?.invocationParams(parsedOptions),\n\t\t\t\tbatch_size: prompts.length\n\t\t\t};\n\t\t\trunManagers = await callbackManager_?.handleLLMStart(this.toJSON(), prompts, handledOptions.runId, void 0, extra, void 0, void 0, handledOptions?.runName);\n\t\t}\n\t\tconst hasStreamingHandler = !!runManagers?.[0].handlers.find(_callbacks_base_js__WEBPACK_IMPORTED_MODULE_1__.callbackHandlerPrefersStreaming);\n\t\tlet output;\n\t\tif (hasStreamingHandler && prompts.length === 1 && this._streamResponseChunks !== BaseLLM.prototype._streamResponseChunks) try {\n\t\t\tconst stream = await this._streamResponseChunks(prompts[0], parsedOptions, runManagers?.[0]);\n\t\t\tlet aggregated;\n\t\t\tfor await (const chunk of stream) if (aggregated === void 0) aggregated = chunk;\n\t\t\telse aggregated = (0,_utils_stream_js__WEBPACK_IMPORTED_MODULE_3__.concat)(aggregated, chunk);\n\t\t\tif (aggregated === void 0) throw new Error(\"Received empty response from chat model call.\");\n\t\t\toutput = {\n\t\t\t\tgenerations: [[aggregated]],\n\t\t\t\tllmOutput: {}\n\t\t\t};\n\t\t\tawait runManagers?.[0].handleLLMEnd(output);\n\t\t} catch (e) {\n\t\t\tawait runManagers?.[0].handleLLMError(e);\n\t\t\tthrow e;\n\t\t}\n\t\telse {\n\t\t\ttry {\n\t\t\t\toutput = await this._generate(prompts, parsedOptions, runManagers?.[0]);\n\t\t\t} catch (err) {\n\t\t\t\tawait Promise.all((runManagers ?? []).map((runManager) => runManager?.handleLLMError(err)));\n\t\t\t\tthrow err;\n\t\t\t}\n\t\t\tconst flattenedOutputs = this._flattenLLMResult(output);\n\t\t\tawait Promise.all((runManagers ?? []).map((runManager, i) => runManager?.handleLLMEnd(flattenedOutputs[i])));\n\t\t}\n\t\tconst runIds = runManagers?.map((manager) => manager.runId) || void 0;\n\t\tObject.defineProperty(output, _outputs_js__WEBPACK_IMPORTED_MODULE_4__.RUN_KEY, {\n\t\t\tvalue: runIds ? { runIds } : void 0,\n\t\t\tconfigurable: true\n\t\t});\n\t\treturn output;\n\t}\n\tasync _generateCached({ prompts, cache, llmStringKey, parsedOptions, handledOptions, runId }) {\n\t\tconst callbackManager_ = await _callbacks_manager_js__WEBPACK_IMPORTED_MODULE_2__.CallbackManager.configure(handledOptions.callbacks, this.callbacks, handledOptions.tags, this.tags, handledOptions.metadata, this.metadata, { verbose: this.verbose });\n\t\tconst extra = {\n\t\t\toptions: parsedOptions,\n\t\t\tinvocation_params: this?.invocationParams(parsedOptions),\n\t\t\tbatch_size: prompts.length\n\t\t};\n\t\tconst runManagers = await callbackManager_?.handleLLMStart(this.toJSON(), prompts, runId, void 0, extra, void 0, void 0, handledOptions?.runName);\n\t\tconst missingPromptIndices = [];\n\t\tconst results = await Promise.allSettled(prompts.map(async (prompt, index) => {\n\t\t\tconst result = await cache.lookup(prompt, llmStringKey);\n\t\t\tif (result == null) missingPromptIndices.push(index);\n\t\t\treturn result;\n\t\t}));\n\t\tconst cachedResults = results.map((result, index) => ({\n\t\t\tresult,\n\t\t\trunManager: runManagers?.[index]\n\t\t})).filter(({ result }) => result.status === \"fulfilled\" && result.value != null || result.status === \"rejected\");\n\t\tconst generations = [];\n\t\tawait Promise.all(cachedResults.map(async ({ result: promiseResult, runManager }, i) => {\n\t\t\tif (promiseResult.status === \"fulfilled\") {\n\t\t\t\tconst result = promiseResult.value;\n\t\t\t\tgenerations[i] = result.map((result$1) => {\n\t\t\t\t\tresult$1.generationInfo = {\n\t\t\t\t\t\t...result$1.generationInfo,\n\t\t\t\t\t\ttokenUsage: {}\n\t\t\t\t\t};\n\t\t\t\t\treturn result$1;\n\t\t\t\t});\n\t\t\t\tif (result.length) await runManager?.handleLLMNewToken(result[0].text);\n\t\t\t\treturn runManager?.handleLLMEnd({ generations: [result] }, void 0, void 0, void 0, { cached: true });\n\t\t\t} else {\n\t\t\t\tawait runManager?.handleLLMError(promiseResult.reason, void 0, void 0, void 0, { cached: true });\n\t\t\t\treturn Promise.reject(promiseResult.reason);\n\t\t\t}\n\t\t}));\n\t\tconst output = {\n\t\t\tgenerations,\n\t\t\tmissingPromptIndices,\n\t\t\tstartedRunManagers: runManagers\n\t\t};\n\t\tObject.defineProperty(output, _outputs_js__WEBPACK_IMPORTED_MODULE_4__.RUN_KEY, {\n\t\t\tvalue: runManagers ? { runIds: runManagers?.map((manager) => manager.runId) } : void 0,\n\t\t\tconfigurable: true\n\t\t});\n\t\treturn output;\n\t}\n\t/**\n\t* Run the LLM on the given prompts and input, handling caching.\n\t*/\n\tasync generate(prompts, options, callbacks) {\n\t\tif (!Array.isArray(prompts)) throw new Error(\"Argument 'prompts' is expected to be a string[]\");\n\t\tlet parsedOptions;\n\t\tif (Array.isArray(options)) parsedOptions = { stop: options };\n\t\telse parsedOptions = options;\n\t\tconst [runnableConfig, callOptions] = this._separateRunnableConfigFromCallOptionsCompat(parsedOptions);\n\t\trunnableConfig.callbacks = runnableConfig.callbacks ?? callbacks;\n\t\tif (!this.cache) return this._generateUncached(prompts, callOptions, runnableConfig);\n\t\tconst { cache } = this;\n\t\tconst llmStringKey = this._getSerializedCacheKeyParametersForCall(callOptions);\n\t\tconst { generations, missingPromptIndices, startedRunManagers } = await this._generateCached({\n\t\t\tprompts,\n\t\t\tcache,\n\t\t\tllmStringKey,\n\t\t\tparsedOptions: callOptions,\n\t\t\thandledOptions: runnableConfig,\n\t\t\trunId: runnableConfig.runId\n\t\t});\n\t\tlet llmOutput = {};\n\t\tif (missingPromptIndices.length > 0) {\n\t\t\tconst results = await this._generateUncached(missingPromptIndices.map((i) => prompts[i]), callOptions, runnableConfig, startedRunManagers !== void 0 ? missingPromptIndices.map((i) => startedRunManagers?.[i]) : void 0);\n\t\t\tawait Promise.all(results.generations.map(async (generation, index) => {\n\t\t\t\tconst promptIndex = missingPromptIndices[index];\n\t\t\t\tgenerations[promptIndex] = generation;\n\t\t\t\treturn cache.update(prompts[promptIndex], llmStringKey, generation);\n\t\t\t}));\n\t\t\tllmOutput = results.llmOutput ?? {};\n\t\t}\n\t\treturn {\n\t\t\tgenerations,\n\t\t\tllmOutput\n\t\t};\n\t}\n\t/**\n\t* Get the identifying parameters of the LLM.\n\t*/\n\t_identifyingParams() {\n\t\treturn {};\n\t}\n\t_modelType() {\n\t\treturn \"base_llm\";\n\t}\n};\n/**\n* LLM class that provides a simpler interface to subclass than {@link BaseLLM}.\n*\n* Requires only implementing a simpler {@link _call} method instead of {@link _generate}.\n*\n* @augments BaseLLM\n*/\nvar LLM = class extends BaseLLM {\n\tasync _generate(prompts, options, runManager) {\n\t\tconst generations = await Promise.all(prompts.map((prompt, promptIndex) => this._call(prompt, {\n\t\t\t...options,\n\t\t\tpromptIndex\n\t\t}, runManager).then((text) => [{ text }])));\n\t\treturn { generations };\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=llms.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9sYW5ndWFnZV9tb2RlbHMvbGxtcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBMkQ7QUFDWTtBQUNiO0FBQ2Q7QUFDYTtBQUNYOztBQUU5QztBQUNBO0FBQ0Esc0VBQVE7QUFDUjtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyx1REFBaUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0Msa0VBQWUsK0hBQStILHVCQUF1QjtBQUN2TTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isd0RBQWUsR0FBRyxVQUFVO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSx3RkFBd0YsNkJBQTZCO0FBQ3JIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGtDQUFrQztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGtFQUFlLCtIQUErSCx1QkFBdUI7QUFDdk07QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0QsK0VBQStCO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsd0RBQU07QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxnREFBTztBQUN2QyxxQkFBcUIsU0FBUztBQUM5QjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EseUJBQXlCLG9FQUFvRTtBQUM3RixpQ0FBaUMsa0VBQWUsK0hBQStILHVCQUF1QjtBQUN0TTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUcsYUFBYSxRQUFRO0FBQ3hCO0FBQ0EsK0NBQStDLG1DQUFtQztBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esc0NBQXNDLHVCQUF1Qiw0QkFBNEIsY0FBYztBQUN2RyxLQUFLO0FBQ0wscUZBQXFGLGNBQWM7QUFDbkc7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGdEQUFPO0FBQ3ZDLDBCQUEwQix1REFBdUQ7QUFDakY7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRDtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsUUFBUTtBQUNsQjtBQUNBLFVBQVUsd0RBQXdEO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0UsY0FBYztBQUM5RTtBQUNBLHdDQUF3QyxhQUFhLG1CQUFtQixnQkFBZ0I7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsZ0NBQWdDLE1BQU07QUFDekMsV0FBVztBQUNYO0FBQ0E7O0FBRUE7QUFDc0M7QUFDdEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L2xhbmd1YWdlX21vZGVscy9sbG1zLmpzPzI3MTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19leHBvcnQgfSBmcm9tIFwiLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5qc1wiO1xuaW1wb3J0IHsgY2FsbGJhY2tIYW5kbGVyUHJlZmVyc1N0cmVhbWluZyB9IGZyb20gXCIuLi9jYWxsYmFja3MvYmFzZS5qc1wiO1xuaW1wb3J0IHsgQ2FsbGJhY2tNYW5hZ2VyIH0gZnJvbSBcIi4uL2NhbGxiYWNrcy9tYW5hZ2VyLmpzXCI7XG5pbXBvcnQgeyBjb25jYXQgfSBmcm9tIFwiLi4vdXRpbHMvc3RyZWFtLmpzXCI7XG5pbXBvcnQgeyBHZW5lcmF0aW9uQ2h1bmssIFJVTl9LRVkgfSBmcm9tIFwiLi4vb3V0cHV0cy5qc1wiO1xuaW1wb3J0IHsgQmFzZUxhbmd1YWdlTW9kZWwgfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvbGFuZ3VhZ2VfbW9kZWxzL2xsbXMudHNcbnZhciBsbG1zX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KGxsbXNfZXhwb3J0cywge1xuXHRCYXNlTExNOiAoKSA9PiBCYXNlTExNLFxuXHRMTE06ICgpID0+IExMTVxufSk7XG4vKipcbiogTExNIFdyYXBwZXIuIFRha2VzIGluIGEgcHJvbXB0IChvciBwcm9tcHRzKSBhbmQgcmV0dXJucyBhIHN0cmluZy5cbiovXG52YXIgQmFzZUxMTSA9IGNsYXNzIEJhc2VMTE0gZXh0ZW5kcyBCYXNlTGFuZ3VhZ2VNb2RlbCB7XG5cdGxjX25hbWVzcGFjZSA9IFtcblx0XHRcImxhbmdjaGFpblwiLFxuXHRcdFwibGxtc1wiLFxuXHRcdHRoaXMuX2xsbVR5cGUoKVxuXHRdO1xuXHQvKipcblx0KiBUaGlzIG1ldGhvZCB0YWtlcyBhbiBpbnB1dCBhbmQgb3B0aW9ucywgYW5kIHJldHVybnMgYSBzdHJpbmcuIEl0XG5cdCogY29udmVydHMgdGhlIGlucHV0IHRvIGEgcHJvbXB0IHZhbHVlIGFuZCBnZW5lcmF0ZXMgYSByZXN1bHQgYmFzZWQgb25cblx0KiB0aGUgcHJvbXB0LlxuXHQqIEBwYXJhbSBpbnB1dCBJbnB1dCBmb3IgdGhlIExMTS5cblx0KiBAcGFyYW0gb3B0aW9ucyBPcHRpb25zIGZvciB0aGUgTExNIGNhbGwuXG5cdCogQHJldHVybnMgQSBzdHJpbmcgcmVzdWx0IGJhc2VkIG9uIHRoZSBwcm9tcHQuXG5cdCovXG5cdGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuXHRcdGNvbnN0IHByb21wdFZhbHVlID0gQmFzZUxMTS5fY29udmVydElucHV0VG9Qcm9tcHRWYWx1ZShpbnB1dCk7XG5cdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5nZW5lcmF0ZVByb21wdChbcHJvbXB0VmFsdWVdLCBvcHRpb25zLCBvcHRpb25zPy5jYWxsYmFja3MpO1xuXHRcdHJldHVybiByZXN1bHQuZ2VuZXJhdGlvbnNbMF1bMF0udGV4dDtcblx0fVxuXHRhc3luYyAqX3N0cmVhbVJlc3BvbnNlQ2h1bmtzKF9pbnB1dCwgX29wdGlvbnMsIF9ydW5NYW5hZ2VyKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkLlwiKTtcblx0fVxuXHRfc2VwYXJhdGVSdW5uYWJsZUNvbmZpZ0Zyb21DYWxsT3B0aW9uc0NvbXBhdChvcHRpb25zKSB7XG5cdFx0Y29uc3QgW3J1bm5hYmxlQ29uZmlnLCBjYWxsT3B0aW9uc10gPSBzdXBlci5fc2VwYXJhdGVSdW5uYWJsZUNvbmZpZ0Zyb21DYWxsT3B0aW9ucyhvcHRpb25zKTtcblx0XHRjYWxsT3B0aW9ucy5zaWduYWwgPSBydW5uYWJsZUNvbmZpZy5zaWduYWw7XG5cdFx0cmV0dXJuIFtydW5uYWJsZUNvbmZpZywgY2FsbE9wdGlvbnNdO1xuXHR9XG5cdGFzeW5jICpfc3RyZWFtSXRlcmF0b3IoaW5wdXQsIG9wdGlvbnMpIHtcblx0XHRpZiAodGhpcy5fc3RyZWFtUmVzcG9uc2VDaHVua3MgPT09IEJhc2VMTE0ucHJvdG90eXBlLl9zdHJlYW1SZXNwb25zZUNodW5rcykgeWllbGQgdGhpcy5pbnZva2UoaW5wdXQsIG9wdGlvbnMpO1xuXHRcdGVsc2Uge1xuXHRcdFx0Y29uc3QgcHJvbXB0ID0gQmFzZUxMTS5fY29udmVydElucHV0VG9Qcm9tcHRWYWx1ZShpbnB1dCk7XG5cdFx0XHRjb25zdCBbcnVubmFibGVDb25maWcsIGNhbGxPcHRpb25zXSA9IHRoaXMuX3NlcGFyYXRlUnVubmFibGVDb25maWdGcm9tQ2FsbE9wdGlvbnNDb21wYXQob3B0aW9ucyk7XG5cdFx0XHRjb25zdCBjYWxsYmFja01hbmFnZXJfID0gYXdhaXQgQ2FsbGJhY2tNYW5hZ2VyLmNvbmZpZ3VyZShydW5uYWJsZUNvbmZpZy5jYWxsYmFja3MsIHRoaXMuY2FsbGJhY2tzLCBydW5uYWJsZUNvbmZpZy50YWdzLCB0aGlzLnRhZ3MsIHJ1bm5hYmxlQ29uZmlnLm1ldGFkYXRhLCB0aGlzLm1ldGFkYXRhLCB7IHZlcmJvc2U6IHRoaXMudmVyYm9zZSB9KTtcblx0XHRcdGNvbnN0IGV4dHJhID0ge1xuXHRcdFx0XHRvcHRpb25zOiBjYWxsT3B0aW9ucyxcblx0XHRcdFx0aW52b2NhdGlvbl9wYXJhbXM6IHRoaXM/Lmludm9jYXRpb25QYXJhbXMoY2FsbE9wdGlvbnMpLFxuXHRcdFx0XHRiYXRjaF9zaXplOiAxXG5cdFx0XHR9O1xuXHRcdFx0Y29uc3QgcnVuTWFuYWdlcnMgPSBhd2FpdCBjYWxsYmFja01hbmFnZXJfPy5oYW5kbGVMTE1TdGFydCh0aGlzLnRvSlNPTigpLCBbcHJvbXB0LnRvU3RyaW5nKCldLCBydW5uYWJsZUNvbmZpZy5ydW5JZCwgdm9pZCAwLCBleHRyYSwgdm9pZCAwLCB2b2lkIDAsIHJ1bm5hYmxlQ29uZmlnLnJ1bk5hbWUpO1xuXHRcdFx0bGV0IGdlbmVyYXRpb24gPSBuZXcgR2VuZXJhdGlvbkNodW5rKHsgdGV4dDogXCJcIiB9KTtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgdGhpcy5fc3RyZWFtUmVzcG9uc2VDaHVua3MocHJvbXB0LnRvU3RyaW5nKCksIGNhbGxPcHRpb25zLCBydW5NYW5hZ2Vycz8uWzBdKSkge1xuXHRcdFx0XHRcdGlmICghZ2VuZXJhdGlvbikgZ2VuZXJhdGlvbiA9IGNodW5rO1xuXHRcdFx0XHRcdGVsc2UgZ2VuZXJhdGlvbiA9IGdlbmVyYXRpb24uY29uY2F0KGNodW5rKTtcblx0XHRcdFx0XHRpZiAodHlwZW9mIGNodW5rLnRleHQgPT09IFwic3RyaW5nXCIpIHlpZWxkIGNodW5rLnRleHQ7XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRhd2FpdCBQcm9taXNlLmFsbCgocnVuTWFuYWdlcnMgPz8gW10pLm1hcCgocnVuTWFuYWdlcikgPT4gcnVuTWFuYWdlcj8uaGFuZGxlTExNRXJyb3IoZXJyKSkpO1xuXHRcdFx0XHR0aHJvdyBlcnI7XG5cdFx0XHR9XG5cdFx0XHRhd2FpdCBQcm9taXNlLmFsbCgocnVuTWFuYWdlcnMgPz8gW10pLm1hcCgocnVuTWFuYWdlcikgPT4gcnVuTWFuYWdlcj8uaGFuZGxlTExNRW5kKHsgZ2VuZXJhdGlvbnM6IFtbZ2VuZXJhdGlvbl1dIH0pKSk7XG5cdFx0fVxuXHR9XG5cdC8qKlxuXHQqIFRoaXMgbWV0aG9kIHRha2VzIHByb21wdCB2YWx1ZXMsIG9wdGlvbnMsIGFuZCBjYWxsYmFja3MsIGFuZCBnZW5lcmF0ZXNcblx0KiBhIHJlc3VsdCBiYXNlZCBvbiB0aGUgcHJvbXB0cy5cblx0KiBAcGFyYW0gcHJvbXB0VmFsdWVzIFByb21wdCB2YWx1ZXMgZm9yIHRoZSBMTE0uXG5cdCogQHBhcmFtIG9wdGlvbnMgT3B0aW9ucyBmb3IgdGhlIExMTSBjYWxsLlxuXHQqIEBwYXJhbSBjYWxsYmFja3MgQ2FsbGJhY2tzIGZvciB0aGUgTExNIGNhbGwuXG5cdCogQHJldHVybnMgQW4gTExNUmVzdWx0IGJhc2VkIG9uIHRoZSBwcm9tcHRzLlxuXHQqL1xuXHRhc3luYyBnZW5lcmF0ZVByb21wdChwcm9tcHRWYWx1ZXMsIG9wdGlvbnMsIGNhbGxiYWNrcykge1xuXHRcdGNvbnN0IHByb21wdHMgPSBwcm9tcHRWYWx1ZXMubWFwKChwcm9tcHRWYWx1ZSkgPT4gcHJvbXB0VmFsdWUudG9TdHJpbmcoKSk7XG5cdFx0cmV0dXJuIHRoaXMuZ2VuZXJhdGUocHJvbXB0cywgb3B0aW9ucywgY2FsbGJhY2tzKTtcblx0fVxuXHQvKipcblx0KiBHZXQgdGhlIHBhcmFtZXRlcnMgdXNlZCB0byBpbnZva2UgdGhlIG1vZGVsXG5cdCovXG5cdGludm9jYXRpb25QYXJhbXMoX29wdGlvbnMpIHtcblx0XHRyZXR1cm4ge307XG5cdH1cblx0X2ZsYXR0ZW5MTE1SZXN1bHQobGxtUmVzdWx0KSB7XG5cdFx0Y29uc3QgbGxtUmVzdWx0cyA9IFtdO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbGxtUmVzdWx0LmdlbmVyYXRpb25zLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRjb25zdCBnZW5MaXN0ID0gbGxtUmVzdWx0LmdlbmVyYXRpb25zW2ldO1xuXHRcdFx0aWYgKGkgPT09IDApIGxsbVJlc3VsdHMucHVzaCh7XG5cdFx0XHRcdGdlbmVyYXRpb25zOiBbZ2VuTGlzdF0sXG5cdFx0XHRcdGxsbU91dHB1dDogbGxtUmVzdWx0LmxsbU91dHB1dFxuXHRcdFx0fSk7XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0Y29uc3QgbGxtT3V0cHV0ID0gbGxtUmVzdWx0LmxsbU91dHB1dCA/IHtcblx0XHRcdFx0XHQuLi5sbG1SZXN1bHQubGxtT3V0cHV0LFxuXHRcdFx0XHRcdHRva2VuVXNhZ2U6IHt9XG5cdFx0XHRcdH0gOiB2b2lkIDA7XG5cdFx0XHRcdGxsbVJlc3VsdHMucHVzaCh7XG5cdFx0XHRcdFx0Z2VuZXJhdGlvbnM6IFtnZW5MaXN0XSxcblx0XHRcdFx0XHRsbG1PdXRwdXRcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBsbG1SZXN1bHRzO1xuXHR9XG5cdC8qKiBAaWdub3JlICovXG5cdGFzeW5jIF9nZW5lcmF0ZVVuY2FjaGVkKHByb21wdHMsIHBhcnNlZE9wdGlvbnMsIGhhbmRsZWRPcHRpb25zLCBzdGFydGVkUnVuTWFuYWdlcnMpIHtcblx0XHRsZXQgcnVuTWFuYWdlcnM7XG5cdFx0aWYgKHN0YXJ0ZWRSdW5NYW5hZ2VycyAhPT0gdm9pZCAwICYmIHN0YXJ0ZWRSdW5NYW5hZ2Vycy5sZW5ndGggPT09IHByb21wdHMubGVuZ3RoKSBydW5NYW5hZ2VycyA9IHN0YXJ0ZWRSdW5NYW5hZ2Vycztcblx0XHRlbHNlIHtcblx0XHRcdGNvbnN0IGNhbGxiYWNrTWFuYWdlcl8gPSBhd2FpdCBDYWxsYmFja01hbmFnZXIuY29uZmlndXJlKGhhbmRsZWRPcHRpb25zLmNhbGxiYWNrcywgdGhpcy5jYWxsYmFja3MsIGhhbmRsZWRPcHRpb25zLnRhZ3MsIHRoaXMudGFncywgaGFuZGxlZE9wdGlvbnMubWV0YWRhdGEsIHRoaXMubWV0YWRhdGEsIHsgdmVyYm9zZTogdGhpcy52ZXJib3NlIH0pO1xuXHRcdFx0Y29uc3QgZXh0cmEgPSB7XG5cdFx0XHRcdG9wdGlvbnM6IHBhcnNlZE9wdGlvbnMsXG5cdFx0XHRcdGludm9jYXRpb25fcGFyYW1zOiB0aGlzPy5pbnZvY2F0aW9uUGFyYW1zKHBhcnNlZE9wdGlvbnMpLFxuXHRcdFx0XHRiYXRjaF9zaXplOiBwcm9tcHRzLmxlbmd0aFxuXHRcdFx0fTtcblx0XHRcdHJ1bk1hbmFnZXJzID0gYXdhaXQgY2FsbGJhY2tNYW5hZ2VyXz8uaGFuZGxlTExNU3RhcnQodGhpcy50b0pTT04oKSwgcHJvbXB0cywgaGFuZGxlZE9wdGlvbnMucnVuSWQsIHZvaWQgMCwgZXh0cmEsIHZvaWQgMCwgdm9pZCAwLCBoYW5kbGVkT3B0aW9ucz8ucnVuTmFtZSk7XG5cdFx0fVxuXHRcdGNvbnN0IGhhc1N0cmVhbWluZ0hhbmRsZXIgPSAhIXJ1bk1hbmFnZXJzPy5bMF0uaGFuZGxlcnMuZmluZChjYWxsYmFja0hhbmRsZXJQcmVmZXJzU3RyZWFtaW5nKTtcblx0XHRsZXQgb3V0cHV0O1xuXHRcdGlmIChoYXNTdHJlYW1pbmdIYW5kbGVyICYmIHByb21wdHMubGVuZ3RoID09PSAxICYmIHRoaXMuX3N0cmVhbVJlc3BvbnNlQ2h1bmtzICE9PSBCYXNlTExNLnByb3RvdHlwZS5fc3RyZWFtUmVzcG9uc2VDaHVua3MpIHRyeSB7XG5cdFx0XHRjb25zdCBzdHJlYW0gPSBhd2FpdCB0aGlzLl9zdHJlYW1SZXNwb25zZUNodW5rcyhwcm9tcHRzWzBdLCBwYXJzZWRPcHRpb25zLCBydW5NYW5hZ2Vycz8uWzBdKTtcblx0XHRcdGxldCBhZ2dyZWdhdGVkO1xuXHRcdFx0Zm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBzdHJlYW0pIGlmIChhZ2dyZWdhdGVkID09PSB2b2lkIDApIGFnZ3JlZ2F0ZWQgPSBjaHVuaztcblx0XHRcdGVsc2UgYWdncmVnYXRlZCA9IGNvbmNhdChhZ2dyZWdhdGVkLCBjaHVuayk7XG5cdFx0XHRpZiAoYWdncmVnYXRlZCA9PT0gdm9pZCAwKSB0aHJvdyBuZXcgRXJyb3IoXCJSZWNlaXZlZCBlbXB0eSByZXNwb25zZSBmcm9tIGNoYXQgbW9kZWwgY2FsbC5cIik7XG5cdFx0XHRvdXRwdXQgPSB7XG5cdFx0XHRcdGdlbmVyYXRpb25zOiBbW2FnZ3JlZ2F0ZWRdXSxcblx0XHRcdFx0bGxtT3V0cHV0OiB7fVxuXHRcdFx0fTtcblx0XHRcdGF3YWl0IHJ1bk1hbmFnZXJzPy5bMF0uaGFuZGxlTExNRW5kKG91dHB1dCk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0YXdhaXQgcnVuTWFuYWdlcnM/LlswXS5oYW5kbGVMTE1FcnJvcihlKTtcblx0XHRcdHRocm93IGU7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0b3V0cHV0ID0gYXdhaXQgdGhpcy5fZ2VuZXJhdGUocHJvbXB0cywgcGFyc2VkT3B0aW9ucywgcnVuTWFuYWdlcnM/LlswXSk7XG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0YXdhaXQgUHJvbWlzZS5hbGwoKHJ1bk1hbmFnZXJzID8/IFtdKS5tYXAoKHJ1bk1hbmFnZXIpID0+IHJ1bk1hbmFnZXI/LmhhbmRsZUxMTUVycm9yKGVycikpKTtcblx0XHRcdFx0dGhyb3cgZXJyO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3QgZmxhdHRlbmVkT3V0cHV0cyA9IHRoaXMuX2ZsYXR0ZW5MTE1SZXN1bHQob3V0cHV0KTtcblx0XHRcdGF3YWl0IFByb21pc2UuYWxsKChydW5NYW5hZ2VycyA/PyBbXSkubWFwKChydW5NYW5hZ2VyLCBpKSA9PiBydW5NYW5hZ2VyPy5oYW5kbGVMTE1FbmQoZmxhdHRlbmVkT3V0cHV0c1tpXSkpKTtcblx0XHR9XG5cdFx0Y29uc3QgcnVuSWRzID0gcnVuTWFuYWdlcnM/Lm1hcCgobWFuYWdlcikgPT4gbWFuYWdlci5ydW5JZCkgfHwgdm9pZCAwO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvdXRwdXQsIFJVTl9LRVksIHtcblx0XHRcdHZhbHVlOiBydW5JZHMgPyB7IHJ1bklkcyB9IDogdm9pZCAwLFxuXHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlXG5cdFx0fSk7XG5cdFx0cmV0dXJuIG91dHB1dDtcblx0fVxuXHRhc3luYyBfZ2VuZXJhdGVDYWNoZWQoeyBwcm9tcHRzLCBjYWNoZSwgbGxtU3RyaW5nS2V5LCBwYXJzZWRPcHRpb25zLCBoYW5kbGVkT3B0aW9ucywgcnVuSWQgfSkge1xuXHRcdGNvbnN0IGNhbGxiYWNrTWFuYWdlcl8gPSBhd2FpdCBDYWxsYmFja01hbmFnZXIuY29uZmlndXJlKGhhbmRsZWRPcHRpb25zLmNhbGxiYWNrcywgdGhpcy5jYWxsYmFja3MsIGhhbmRsZWRPcHRpb25zLnRhZ3MsIHRoaXMudGFncywgaGFuZGxlZE9wdGlvbnMubWV0YWRhdGEsIHRoaXMubWV0YWRhdGEsIHsgdmVyYm9zZTogdGhpcy52ZXJib3NlIH0pO1xuXHRcdGNvbnN0IGV4dHJhID0ge1xuXHRcdFx0b3B0aW9uczogcGFyc2VkT3B0aW9ucyxcblx0XHRcdGludm9jYXRpb25fcGFyYW1zOiB0aGlzPy5pbnZvY2F0aW9uUGFyYW1zKHBhcnNlZE9wdGlvbnMpLFxuXHRcdFx0YmF0Y2hfc2l6ZTogcHJvbXB0cy5sZW5ndGhcblx0XHR9O1xuXHRcdGNvbnN0IHJ1bk1hbmFnZXJzID0gYXdhaXQgY2FsbGJhY2tNYW5hZ2VyXz8uaGFuZGxlTExNU3RhcnQodGhpcy50b0pTT04oKSwgcHJvbXB0cywgcnVuSWQsIHZvaWQgMCwgZXh0cmEsIHZvaWQgMCwgdm9pZCAwLCBoYW5kbGVkT3B0aW9ucz8ucnVuTmFtZSk7XG5cdFx0Y29uc3QgbWlzc2luZ1Byb21wdEluZGljZXMgPSBbXTtcblx0XHRjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKHByb21wdHMubWFwKGFzeW5jIChwcm9tcHQsIGluZGV4KSA9PiB7XG5cdFx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBjYWNoZS5sb29rdXAocHJvbXB0LCBsbG1TdHJpbmdLZXkpO1xuXHRcdFx0aWYgKHJlc3VsdCA9PSBudWxsKSBtaXNzaW5nUHJvbXB0SW5kaWNlcy5wdXNoKGluZGV4KTtcblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fSkpO1xuXHRcdGNvbnN0IGNhY2hlZFJlc3VsdHMgPSByZXN1bHRzLm1hcCgocmVzdWx0LCBpbmRleCkgPT4gKHtcblx0XHRcdHJlc3VsdCxcblx0XHRcdHJ1bk1hbmFnZXI6IHJ1bk1hbmFnZXJzPy5baW5kZXhdXG5cdFx0fSkpLmZpbHRlcigoeyByZXN1bHQgfSkgPT4gcmVzdWx0LnN0YXR1cyA9PT0gXCJmdWxmaWxsZWRcIiAmJiByZXN1bHQudmFsdWUgIT0gbnVsbCB8fCByZXN1bHQuc3RhdHVzID09PSBcInJlamVjdGVkXCIpO1xuXHRcdGNvbnN0IGdlbmVyYXRpb25zID0gW107XG5cdFx0YXdhaXQgUHJvbWlzZS5hbGwoY2FjaGVkUmVzdWx0cy5tYXAoYXN5bmMgKHsgcmVzdWx0OiBwcm9taXNlUmVzdWx0LCBydW5NYW5hZ2VyIH0sIGkpID0+IHtcblx0XHRcdGlmIChwcm9taXNlUmVzdWx0LnN0YXR1cyA9PT0gXCJmdWxmaWxsZWRcIikge1xuXHRcdFx0XHRjb25zdCByZXN1bHQgPSBwcm9taXNlUmVzdWx0LnZhbHVlO1xuXHRcdFx0XHRnZW5lcmF0aW9uc1tpXSA9IHJlc3VsdC5tYXAoKHJlc3VsdCQxKSA9PiB7XG5cdFx0XHRcdFx0cmVzdWx0JDEuZ2VuZXJhdGlvbkluZm8gPSB7XG5cdFx0XHRcdFx0XHQuLi5yZXN1bHQkMS5nZW5lcmF0aW9uSW5mbyxcblx0XHRcdFx0XHRcdHRva2VuVXNhZ2U6IHt9XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0JDE7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRpZiAocmVzdWx0Lmxlbmd0aCkgYXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlTExNTmV3VG9rZW4ocmVzdWx0WzBdLnRleHQpO1xuXHRcdFx0XHRyZXR1cm4gcnVuTWFuYWdlcj8uaGFuZGxlTExNRW5kKHsgZ2VuZXJhdGlvbnM6IFtyZXN1bHRdIH0sIHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIHsgY2FjaGVkOiB0cnVlIH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlTExNRXJyb3IocHJvbWlzZVJlc3VsdC5yZWFzb24sIHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIHsgY2FjaGVkOiB0cnVlIH0pO1xuXHRcdFx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QocHJvbWlzZVJlc3VsdC5yZWFzb24pO1xuXHRcdFx0fVxuXHRcdH0pKTtcblx0XHRjb25zdCBvdXRwdXQgPSB7XG5cdFx0XHRnZW5lcmF0aW9ucyxcblx0XHRcdG1pc3NpbmdQcm9tcHRJbmRpY2VzLFxuXHRcdFx0c3RhcnRlZFJ1bk1hbmFnZXJzOiBydW5NYW5hZ2Vyc1xuXHRcdH07XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG91dHB1dCwgUlVOX0tFWSwge1xuXHRcdFx0dmFsdWU6IHJ1bk1hbmFnZXJzID8geyBydW5JZHM6IHJ1bk1hbmFnZXJzPy5tYXAoKG1hbmFnZXIpID0+IG1hbmFnZXIucnVuSWQpIH0gOiB2b2lkIDAsXG5cdFx0XHRjb25maWd1cmFibGU6IHRydWVcblx0XHR9KTtcblx0XHRyZXR1cm4gb3V0cHV0O1xuXHR9XG5cdC8qKlxuXHQqIFJ1biB0aGUgTExNIG9uIHRoZSBnaXZlbiBwcm9tcHRzIGFuZCBpbnB1dCwgaGFuZGxpbmcgY2FjaGluZy5cblx0Ki9cblx0YXN5bmMgZ2VuZXJhdGUocHJvbXB0cywgb3B0aW9ucywgY2FsbGJhY2tzKSB7XG5cdFx0aWYgKCFBcnJheS5pc0FycmF5KHByb21wdHMpKSB0aHJvdyBuZXcgRXJyb3IoXCJBcmd1bWVudCAncHJvbXB0cycgaXMgZXhwZWN0ZWQgdG8gYmUgYSBzdHJpbmdbXVwiKTtcblx0XHRsZXQgcGFyc2VkT3B0aW9ucztcblx0XHRpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zKSkgcGFyc2VkT3B0aW9ucyA9IHsgc3RvcDogb3B0aW9ucyB9O1xuXHRcdGVsc2UgcGFyc2VkT3B0aW9ucyA9IG9wdGlvbnM7XG5cdFx0Y29uc3QgW3J1bm5hYmxlQ29uZmlnLCBjYWxsT3B0aW9uc10gPSB0aGlzLl9zZXBhcmF0ZVJ1bm5hYmxlQ29uZmlnRnJvbUNhbGxPcHRpb25zQ29tcGF0KHBhcnNlZE9wdGlvbnMpO1xuXHRcdHJ1bm5hYmxlQ29uZmlnLmNhbGxiYWNrcyA9IHJ1bm5hYmxlQ29uZmlnLmNhbGxiYWNrcyA/PyBjYWxsYmFja3M7XG5cdFx0aWYgKCF0aGlzLmNhY2hlKSByZXR1cm4gdGhpcy5fZ2VuZXJhdGVVbmNhY2hlZChwcm9tcHRzLCBjYWxsT3B0aW9ucywgcnVubmFibGVDb25maWcpO1xuXHRcdGNvbnN0IHsgY2FjaGUgfSA9IHRoaXM7XG5cdFx0Y29uc3QgbGxtU3RyaW5nS2V5ID0gdGhpcy5fZ2V0U2VyaWFsaXplZENhY2hlS2V5UGFyYW1ldGVyc0ZvckNhbGwoY2FsbE9wdGlvbnMpO1xuXHRcdGNvbnN0IHsgZ2VuZXJhdGlvbnMsIG1pc3NpbmdQcm9tcHRJbmRpY2VzLCBzdGFydGVkUnVuTWFuYWdlcnMgfSA9IGF3YWl0IHRoaXMuX2dlbmVyYXRlQ2FjaGVkKHtcblx0XHRcdHByb21wdHMsXG5cdFx0XHRjYWNoZSxcblx0XHRcdGxsbVN0cmluZ0tleSxcblx0XHRcdHBhcnNlZE9wdGlvbnM6IGNhbGxPcHRpb25zLFxuXHRcdFx0aGFuZGxlZE9wdGlvbnM6IHJ1bm5hYmxlQ29uZmlnLFxuXHRcdFx0cnVuSWQ6IHJ1bm5hYmxlQ29uZmlnLnJ1bklkXG5cdFx0fSk7XG5cdFx0bGV0IGxsbU91dHB1dCA9IHt9O1xuXHRcdGlmIChtaXNzaW5nUHJvbXB0SW5kaWNlcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRjb25zdCByZXN1bHRzID0gYXdhaXQgdGhpcy5fZ2VuZXJhdGVVbmNhY2hlZChtaXNzaW5nUHJvbXB0SW5kaWNlcy5tYXAoKGkpID0+IHByb21wdHNbaV0pLCBjYWxsT3B0aW9ucywgcnVubmFibGVDb25maWcsIHN0YXJ0ZWRSdW5NYW5hZ2VycyAhPT0gdm9pZCAwID8gbWlzc2luZ1Byb21wdEluZGljZXMubWFwKChpKSA9PiBzdGFydGVkUnVuTWFuYWdlcnM/LltpXSkgOiB2b2lkIDApO1xuXHRcdFx0YXdhaXQgUHJvbWlzZS5hbGwocmVzdWx0cy5nZW5lcmF0aW9ucy5tYXAoYXN5bmMgKGdlbmVyYXRpb24sIGluZGV4KSA9PiB7XG5cdFx0XHRcdGNvbnN0IHByb21wdEluZGV4ID0gbWlzc2luZ1Byb21wdEluZGljZXNbaW5kZXhdO1xuXHRcdFx0XHRnZW5lcmF0aW9uc1twcm9tcHRJbmRleF0gPSBnZW5lcmF0aW9uO1xuXHRcdFx0XHRyZXR1cm4gY2FjaGUudXBkYXRlKHByb21wdHNbcHJvbXB0SW5kZXhdLCBsbG1TdHJpbmdLZXksIGdlbmVyYXRpb24pO1xuXHRcdFx0fSkpO1xuXHRcdFx0bGxtT3V0cHV0ID0gcmVzdWx0cy5sbG1PdXRwdXQgPz8ge307XG5cdFx0fVxuXHRcdHJldHVybiB7XG5cdFx0XHRnZW5lcmF0aW9ucyxcblx0XHRcdGxsbU91dHB1dFxuXHRcdH07XG5cdH1cblx0LyoqXG5cdCogR2V0IHRoZSBpZGVudGlmeWluZyBwYXJhbWV0ZXJzIG9mIHRoZSBMTE0uXG5cdCovXG5cdF9pZGVudGlmeWluZ1BhcmFtcygpIHtcblx0XHRyZXR1cm4ge307XG5cdH1cblx0X21vZGVsVHlwZSgpIHtcblx0XHRyZXR1cm4gXCJiYXNlX2xsbVwiO1xuXHR9XG59O1xuLyoqXG4qIExMTSBjbGFzcyB0aGF0IHByb3ZpZGVzIGEgc2ltcGxlciBpbnRlcmZhY2UgdG8gc3ViY2xhc3MgdGhhbiB7QGxpbmsgQmFzZUxMTX0uXG4qXG4qIFJlcXVpcmVzIG9ubHkgaW1wbGVtZW50aW5nIGEgc2ltcGxlciB7QGxpbmsgX2NhbGx9IG1ldGhvZCBpbnN0ZWFkIG9mIHtAbGluayBfZ2VuZXJhdGV9LlxuKlxuKiBAYXVnbWVudHMgQmFzZUxMTVxuKi9cbnZhciBMTE0gPSBjbGFzcyBleHRlbmRzIEJhc2VMTE0ge1xuXHRhc3luYyBfZ2VuZXJhdGUocHJvbXB0cywgb3B0aW9ucywgcnVuTWFuYWdlcikge1xuXHRcdGNvbnN0IGdlbmVyYXRpb25zID0gYXdhaXQgUHJvbWlzZS5hbGwocHJvbXB0cy5tYXAoKHByb21wdCwgcHJvbXB0SW5kZXgpID0+IHRoaXMuX2NhbGwocHJvbXB0LCB7XG5cdFx0XHQuLi5vcHRpb25zLFxuXHRcdFx0cHJvbXB0SW5kZXhcblx0XHR9LCBydW5NYW5hZ2VyKS50aGVuKCh0ZXh0KSA9PiBbeyB0ZXh0IH1dKSkpO1xuXHRcdHJldHVybiB7IGdlbmVyYXRpb25zIH07XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQmFzZUxMTSwgTExNLCBsbG1zX2V4cG9ydHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxsbXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/language_models/llms.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/language_models/utils.js":
/*!*************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/language_models/utils.js ***!
  \*************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   castStandardMessageContent: () => (/* binding */ castStandardMessageContent),\n/* harmony export */   iife: () => (/* binding */ iife)\n/* harmony export */ });\n//#region src/language_models/utils.ts\nconst iife = (fn) => fn();\nfunction castStandardMessageContent(message) {\n\tconst Cls = message.constructor;\n\treturn new Cls({\n\t\t...message,\n\t\tcontent: message.contentBlocks,\n\t\tresponse_metadata: {\n\t\t\t...message.response_metadata,\n\t\t\toutput_version: \"v1\"\n\t\t}\n\t});\n}\n\n//#endregion\n\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9sYW5ndWFnZV9tb2RlbHMvdXRpbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQzRDO0FBQzVDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9sYW5ndWFnZV9tb2RlbHMvdXRpbHMuanM/ZmQ3MCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyNyZWdpb24gc3JjL2xhbmd1YWdlX21vZGVscy91dGlscy50c1xuY29uc3QgaWlmZSA9IChmbikgPT4gZm4oKTtcbmZ1bmN0aW9uIGNhc3RTdGFuZGFyZE1lc3NhZ2VDb250ZW50KG1lc3NhZ2UpIHtcblx0Y29uc3QgQ2xzID0gbWVzc2FnZS5jb25zdHJ1Y3Rvcjtcblx0cmV0dXJuIG5ldyBDbHMoe1xuXHRcdC4uLm1lc3NhZ2UsXG5cdFx0Y29udGVudDogbWVzc2FnZS5jb250ZW50QmxvY2tzLFxuXHRcdHJlc3BvbnNlX21ldGFkYXRhOiB7XG5cdFx0XHQuLi5tZXNzYWdlLnJlc3BvbnNlX21ldGFkYXRhLFxuXHRcdFx0b3V0cHV0X3ZlcnNpb246IFwidjFcIlxuXHRcdH1cblx0fSk7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgY2FzdFN0YW5kYXJkTWVzc2FnZUNvbnRlbnQsIGlpZmUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/language_models/utils.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/load/import_constants.js":
/*!*************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/load/import_constants.js ***!
  \*************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   optionalImportEntrypoints: () => (/* binding */ optionalImportEntrypoints)\n/* harmony export */ });\n//#region src/load/import_constants.ts\nconst optionalImportEntrypoints = [];\n\n//#endregion\n\n//# sourceMappingURL=import_constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9sb2FkL2ltcG9ydF9jb25zdGFudHMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7O0FBRUE7QUFDcUM7QUFDckMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L2xvYWQvaW1wb3J0X2NvbnN0YW50cy5qcz9hMmE5Il0sInNvdXJjZXNDb250ZW50IjpbIi8vI3JlZ2lvbiBzcmMvbG9hZC9pbXBvcnRfY29uc3RhbnRzLnRzXG5jb25zdCBvcHRpb25hbEltcG9ydEVudHJ5cG9pbnRzID0gW107XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgb3B0aW9uYWxJbXBvcnRFbnRyeXBvaW50cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW1wb3J0X2NvbnN0YW50cy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/load/import_constants.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/load/import_map.js":
/*!*******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/load/import_map.js ***!
  \*******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   import_map_exports: () => (/* binding */ import_map_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _agents_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../agents.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/agents.js\");\n/* harmony import */ var _serializable_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./serializable.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/load/serializable.js\");\n/* harmony import */ var _messages_tool_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../messages/tool.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/tool.js\");\n/* harmony import */ var _utils_env_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/env.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/env.js\");\n/* harmony import */ var _callbacks_base_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../callbacks/base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/callbacks/base.js\");\n/* harmony import */ var _tracers_base_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../tracers/base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/base.js\");\n/* harmony import */ var _tracers_console_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../tracers/console.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/console.js\");\n/* harmony import */ var _tracers_tracer_langchain_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../tracers/tracer_langchain.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/tracer_langchain.js\");\n/* harmony import */ var _callbacks_promises_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../callbacks/promises.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/callbacks/promises.js\");\n/* harmony import */ var _callbacks_manager_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../callbacks/manager.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/callbacks/manager.js\");\n/* harmony import */ var _singletons_index_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../singletons/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/index.js\");\n/* harmony import */ var _utils_stream_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../utils/stream.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/stream.js\");\n/* harmony import */ var _tracers_log_stream_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../tracers/log_stream.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/log_stream.js\");\n/* harmony import */ var _outputs_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../outputs.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/outputs.js\");\n/* harmony import */ var _utils_async_caller_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../utils/async_caller.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/async_caller.js\");\n/* harmony import */ var _utils_json_schema_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../utils/json_schema.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/json_schema.js\");\n/* harmony import */ var _runnables_graph_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../runnables/graph.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/graph.js\");\n/* harmony import */ var _messages_index_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../messages/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/index.js\");\n/* harmony import */ var _chat_history_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../chat_history.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/chat_history.js\");\n/* harmony import */ var _embeddings_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../embeddings.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/embeddings.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/index.js\");\n/* harmony import */ var _memory_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../memory.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/memory.js\");\n/* harmony import */ var _prompt_values_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../prompt_values.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompt_values.js\");\n/* harmony import */ var _stores_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../stores.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/stores.js\");\n/* harmony import */ var _retrievers_index_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../retrievers/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/retrievers/index.js\");\n/* harmony import */ var _vectorstores_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../vectorstores.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/vectorstores.js\");\n/* harmony import */ var _utils_hash_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../utils/hash.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/hash.js\");\n/* harmony import */ var _caches_base_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../caches/base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/caches/base.js\");\n/* harmony import */ var _document_loaders_base_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../document_loaders/base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/document_loaders/base.js\");\n/* harmony import */ var _document_loaders_langsmith_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../document_loaders/langsmith.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/document_loaders/langsmith.js\");\n/* harmony import */ var _documents_index_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../documents/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/documents/index.js\");\n/* harmony import */ var _example_selectors_index_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../example_selectors/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/example_selectors/index.js\");\n/* harmony import */ var _indexing_index_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../indexing/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/indexing/index.js\");\n/* harmony import */ var _utils_tiktoken_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../utils/tiktoken.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/tiktoken.js\");\n/* harmony import */ var _language_models_base_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../language_models/base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/language_models/base.js\");\n/* harmony import */ var _language_models_chat_models_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../language_models/chat_models.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/language_models/chat_models.js\");\n/* harmony import */ var _language_models_llms_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../language_models/llms.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/language_models/llms.js\");\n/* harmony import */ var _runnables_index_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../runnables/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/index.js\");\n/* harmony import */ var _utils_json_patch_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../utils/json_patch.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/json_patch.js\");\n/* harmony import */ var _output_parsers_index_js__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../output_parsers/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/index.js\");\n/* harmony import */ var _output_parsers_openai_tools_index_js__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../output_parsers/openai_tools/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/openai_tools/index.js\");\n/* harmony import */ var _output_parsers_openai_functions_index_js__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../output_parsers/openai_functions/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/openai_functions/index.js\");\n/* harmony import */ var _prompts_index_js__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ../prompts/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/index.js\");\n/* harmony import */ var _retrievers_document_compressors_base_js__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ../retrievers/document_compressors/base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/retrievers/document_compressors/base.js\");\n/* harmony import */ var _structured_query_index_js__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ../structured_query/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/structured_query/index.js\");\n/* harmony import */ var _tools_index_js__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ../tools/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tools/index.js\");\n/* harmony import */ var _tracers_run_collector_js__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ../tracers/run_collector.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/run_collector.js\");\n/* harmony import */ var _types_stream_js__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ../types/stream.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/types/stream.js\");\n/* harmony import */ var _utils_chunk_array_js__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ../utils/chunk_array.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/chunk_array.js\");\n/* harmony import */ var _utils_event_source_parse_js__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ../utils/event_source_parse.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/event_source_parse.js\");\n/* harmony import */ var _utils_function_calling_js__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ../utils/function_calling.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/function_calling.js\");\n/* harmony import */ var _utils_math_js__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ../utils/math.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/math.js\");\n/* harmony import */ var _utils_testing_index_js__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ../utils/testing/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/index.js\");\n/* harmony import */ var _utils_types_index_js__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ../utils/types/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/types/index.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//#region src/load/import_map.ts\nvar import_map_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(import_map_exports, {\n\tagents: () => _agents_js__WEBPACK_IMPORTED_MODULE_1__.agents_exports,\n\tcaches: () => _caches_base_js__WEBPACK_IMPORTED_MODULE_28__.base_exports,\n\tcallbacks__base: () => _callbacks_base_js__WEBPACK_IMPORTED_MODULE_5__.base_exports,\n\tcallbacks__manager: () => _callbacks_manager_js__WEBPACK_IMPORTED_MODULE_10__.manager_exports,\n\tcallbacks__promises: () => _callbacks_promises_js__WEBPACK_IMPORTED_MODULE_9__.promises_exports,\n\tchat_history: () => _chat_history_js__WEBPACK_IMPORTED_MODULE_19__.chat_history_exports,\n\tdocument_loaders__base: () => _document_loaders_base_js__WEBPACK_IMPORTED_MODULE_29__.base_exports,\n\tdocument_loaders__langsmith: () => _document_loaders_langsmith_js__WEBPACK_IMPORTED_MODULE_30__.langsmith_exports,\n\tdocuments: () => _documents_index_js__WEBPACK_IMPORTED_MODULE_31__.documents_exports,\n\tembeddings: () => _embeddings_js__WEBPACK_IMPORTED_MODULE_20__.embeddings_exports,\n\texample_selectors: () => _example_selectors_index_js__WEBPACK_IMPORTED_MODULE_32__.example_selectors_exports,\n\tindex: () => _index_js__WEBPACK_IMPORTED_MODULE_21__.src_exports,\n\tindexing: () => _indexing_index_js__WEBPACK_IMPORTED_MODULE_33__.indexing_exports,\n\tlanguage_models__base: () => _language_models_base_js__WEBPACK_IMPORTED_MODULE_35__.base_exports,\n\tlanguage_models__chat_models: () => _language_models_chat_models_js__WEBPACK_IMPORTED_MODULE_36__.chat_models_exports,\n\tlanguage_models__llms: () => _language_models_llms_js__WEBPACK_IMPORTED_MODULE_37__.llms_exports,\n\tload__serializable: () => _serializable_js__WEBPACK_IMPORTED_MODULE_2__.serializable_exports,\n\tmemory: () => _memory_js__WEBPACK_IMPORTED_MODULE_22__.memory_exports,\n\tmessages: () => _messages_index_js__WEBPACK_IMPORTED_MODULE_18__.messages_exports,\n\tmessages__tool: () => _messages_tool_js__WEBPACK_IMPORTED_MODULE_3__.tool_exports,\n\toutput_parsers: () => _output_parsers_index_js__WEBPACK_IMPORTED_MODULE_40__.output_parsers_exports,\n\toutput_parsers__openai_functions: () => _output_parsers_openai_functions_index_js__WEBPACK_IMPORTED_MODULE_42__.openai_functions_exports,\n\toutput_parsers__openai_tools: () => _output_parsers_openai_tools_index_js__WEBPACK_IMPORTED_MODULE_41__.openai_tools_exports,\n\toutputs: () => _outputs_js__WEBPACK_IMPORTED_MODULE_14__.outputs_exports,\n\tprompt_values: () => _prompt_values_js__WEBPACK_IMPORTED_MODULE_23__.prompt_values_exports,\n\tprompts: () => _prompts_index_js__WEBPACK_IMPORTED_MODULE_43__.prompts_exports,\n\tretrievers: () => _retrievers_index_js__WEBPACK_IMPORTED_MODULE_25__.retrievers_exports,\n\tretrievers__document_compressors: () => _retrievers_document_compressors_base_js__WEBPACK_IMPORTED_MODULE_44__.base_exports,\n\trunnables: () => _runnables_index_js__WEBPACK_IMPORTED_MODULE_38__.runnables_exports,\n\trunnables__graph: () => _runnables_graph_js__WEBPACK_IMPORTED_MODULE_17__.graph_exports,\n\tsingletons: () => _singletons_index_js__WEBPACK_IMPORTED_MODULE_11__.singletons_exports,\n\tstores: () => _stores_js__WEBPACK_IMPORTED_MODULE_24__.stores_exports,\n\tstructured_query: () => _structured_query_index_js__WEBPACK_IMPORTED_MODULE_45__.structured_query_exports,\n\ttools: () => _tools_index_js__WEBPACK_IMPORTED_MODULE_46__.tools_exports,\n\ttracers__base: () => _tracers_base_js__WEBPACK_IMPORTED_MODULE_6__.base_exports,\n\ttracers__console: () => _tracers_console_js__WEBPACK_IMPORTED_MODULE_7__.console_exports,\n\ttracers__log_stream: () => _tracers_log_stream_js__WEBPACK_IMPORTED_MODULE_13__.log_stream_exports,\n\ttracers__run_collector: () => _tracers_run_collector_js__WEBPACK_IMPORTED_MODULE_47__.run_collector_exports,\n\ttracers__tracer_langchain: () => _tracers_tracer_langchain_js__WEBPACK_IMPORTED_MODULE_8__.tracer_langchain_exports,\n\ttypes__stream: () => _types_stream_js__WEBPACK_IMPORTED_MODULE_48__.stream_exports,\n\tutils__async_caller: () => _utils_async_caller_js__WEBPACK_IMPORTED_MODULE_15__.async_caller_exports,\n\tutils__chunk_array: () => _utils_chunk_array_js__WEBPACK_IMPORTED_MODULE_49__.chunk_array_exports,\n\tutils__env: () => _utils_env_js__WEBPACK_IMPORTED_MODULE_4__.env_exports,\n\tutils__event_source_parse: () => _utils_event_source_parse_js__WEBPACK_IMPORTED_MODULE_50__.event_source_parse_exports,\n\tutils__function_calling: () => _utils_function_calling_js__WEBPACK_IMPORTED_MODULE_51__.function_calling_exports,\n\tutils__hash: () => _utils_hash_js__WEBPACK_IMPORTED_MODULE_27__.hash_exports,\n\tutils__json_patch: () => _utils_json_patch_js__WEBPACK_IMPORTED_MODULE_39__.json_patch_exports,\n\tutils__json_schema: () => _utils_json_schema_js__WEBPACK_IMPORTED_MODULE_16__.json_schema_exports,\n\tutils__math: () => _utils_math_js__WEBPACK_IMPORTED_MODULE_52__.math_exports,\n\tutils__stream: () => _utils_stream_js__WEBPACK_IMPORTED_MODULE_12__.stream_exports,\n\tutils__testing: () => _utils_testing_index_js__WEBPACK_IMPORTED_MODULE_53__.testing_exports,\n\tutils__tiktoken: () => _utils_tiktoken_js__WEBPACK_IMPORTED_MODULE_34__.tiktoken_exports,\n\tutils__types: () => _utils_types_index_js__WEBPACK_IMPORTED_MODULE_54__.types_exports,\n\tvectorstores: () => _vectorstores_js__WEBPACK_IMPORTED_MODULE_26__.vectorstores_exports\n});\n\n//#endregion\n\n//# sourceMappingURL=import_map.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9sb2FkL2ltcG9ydF9tYXAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMkQ7QUFDYjtBQUNXO0FBQ047QUFDTDtBQUNNO0FBQ2dCO0FBQ1o7QUFDa0I7QUFDZDtBQUNGO0FBQ0U7QUFDUjtBQUNVO0FBQ2Q7QUFDZ0I7QUFDRjtBQUNSO0FBQ0U7QUFDRTtBQUNKO0FBQ1o7QUFDSTtBQUNjO0FBQ2Q7QUFDYztBQUNGO0FBQ1Y7QUFDbUI7QUFDVTtBQUNSO0FBQ1g7QUFDZ0I7QUFDbEI7QUFDQTtBQUNvQjtBQUNKO0FBQ2Q7QUFDQTtBQUNFO0FBQ1E7QUFDVztBQUNRO0FBQ2pDO0FBQ3NDO0FBQ3BCO0FBQ3RCO0FBQ2tCO0FBQ0k7QUFDVjtBQUNjO0FBQ0o7QUFDeEI7QUFDWTtBQUNKOztBQUV4RDtBQUNBO0FBQ0Esc0VBQVE7QUFDUixlQUFlLHNEQUFjO0FBQzdCLGVBQWUsMERBQWM7QUFDN0Isd0JBQXdCLDREQUFZO0FBQ3BDLDJCQUEyQixtRUFBZTtBQUMxQyw0QkFBNEIsb0VBQWdCO0FBQzVDLHFCQUFxQixtRUFBb0I7QUFDekMsK0JBQStCLG9FQUFjO0FBQzdDLG9DQUFvQyw4RUFBaUI7QUFDckQsa0JBQWtCLG1FQUFpQjtBQUNuQyxtQkFBbUIsK0RBQWtCO0FBQ3JDLDBCQUEwQixtRkFBeUI7QUFDbkQsY0FBYyxtREFBVztBQUN6QixpQkFBaUIsaUVBQWdCO0FBQ2pDLDhCQUE4QixtRUFBYztBQUM1QyxxQ0FBcUMsaUZBQW1CO0FBQ3hELDhCQUE4QixtRUFBWTtBQUMxQywyQkFBMkIsa0VBQW9CO0FBQy9DLGVBQWUsdURBQWM7QUFDN0IsaUJBQWlCLGlFQUFnQjtBQUNqQyx1QkFBdUIsMkRBQVk7QUFDbkMsdUJBQXVCLDZFQUFzQjtBQUM3Qyx5Q0FBeUMsZ0dBQXdCO0FBQ2pFLHFDQUFxQyx3RkFBb0I7QUFDekQsZ0JBQWdCLHlEQUFlO0FBQy9CLHNCQUFzQixxRUFBcUI7QUFDM0MsZ0JBQWdCLCtEQUFlO0FBQy9CLG1CQUFtQixxRUFBa0I7QUFDckMseUNBQXlDLG1GQUFjO0FBQ3ZELGtCQUFrQixtRUFBaUI7QUFDbkMseUJBQXlCLCtEQUFhO0FBQ3RDLG1CQUFtQixxRUFBa0I7QUFDckMsZUFBZSx1REFBYztBQUM3Qix5QkFBeUIsaUZBQXdCO0FBQ2pELGNBQWMsMkRBQWE7QUFDM0Isc0JBQXNCLDBEQUFjO0FBQ3BDLHlCQUF5QixnRUFBZTtBQUN4Qyw0QkFBNEIsdUVBQWtCO0FBQzlDLCtCQUErQiw2RUFBcUI7QUFDcEQsa0NBQWtDLGtGQUF3QjtBQUMxRCxzQkFBc0IsNkRBQWdCO0FBQ3RDLDRCQUE0Qix5RUFBb0I7QUFDaEQsMkJBQTJCLHVFQUFtQjtBQUM5QyxtQkFBbUIsc0RBQVc7QUFDOUIsa0NBQWtDLHFGQUEwQjtBQUM1RCxnQ0FBZ0MsaUZBQXdCO0FBQ3hELG9CQUFvQix5REFBWTtBQUNoQywwQkFBMEIscUVBQWtCO0FBQzVDLDJCQUEyQix1RUFBbUI7QUFDOUMsb0JBQW9CLHlEQUFZO0FBQ2hDLHNCQUFzQiw2REFBYztBQUNwQyx1QkFBdUIscUVBQWU7QUFDdEMsd0JBQXdCLGlFQUFnQjtBQUN4QyxxQkFBcUIsaUVBQWE7QUFDbEMscUJBQXFCLG1FQUFvQjtBQUN6QyxDQUFDOztBQUVEO0FBQzhCO0FBQzlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9sb2FkL2ltcG9ydF9tYXAuanM/MTgwNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2V4cG9ydCB9IGZyb20gXCIuLi9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmpzXCI7XG5pbXBvcnQgeyBhZ2VudHNfZXhwb3J0cyB9IGZyb20gXCIuLi9hZ2VudHMuanNcIjtcbmltcG9ydCB7IHNlcmlhbGl6YWJsZV9leHBvcnRzIH0gZnJvbSBcIi4vc2VyaWFsaXphYmxlLmpzXCI7XG5pbXBvcnQgeyB0b29sX2V4cG9ydHMgfSBmcm9tIFwiLi4vbWVzc2FnZXMvdG9vbC5qc1wiO1xuaW1wb3J0IHsgZW52X2V4cG9ydHMgfSBmcm9tIFwiLi4vdXRpbHMvZW52LmpzXCI7XG5pbXBvcnQgeyBiYXNlX2V4cG9ydHMgfSBmcm9tIFwiLi4vY2FsbGJhY2tzL2Jhc2UuanNcIjtcbmltcG9ydCB7IGJhc2VfZXhwb3J0cyBhcyBiYXNlX2V4cG9ydHMkMSB9IGZyb20gXCIuLi90cmFjZXJzL2Jhc2UuanNcIjtcbmltcG9ydCB7IGNvbnNvbGVfZXhwb3J0cyB9IGZyb20gXCIuLi90cmFjZXJzL2NvbnNvbGUuanNcIjtcbmltcG9ydCB7IHRyYWNlcl9sYW5nY2hhaW5fZXhwb3J0cyB9IGZyb20gXCIuLi90cmFjZXJzL3RyYWNlcl9sYW5nY2hhaW4uanNcIjtcbmltcG9ydCB7IHByb21pc2VzX2V4cG9ydHMgfSBmcm9tIFwiLi4vY2FsbGJhY2tzL3Byb21pc2VzLmpzXCI7XG5pbXBvcnQgeyBtYW5hZ2VyX2V4cG9ydHMgfSBmcm9tIFwiLi4vY2FsbGJhY2tzL21hbmFnZXIuanNcIjtcbmltcG9ydCB7IHNpbmdsZXRvbnNfZXhwb3J0cyB9IGZyb20gXCIuLi9zaW5nbGV0b25zL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBzdHJlYW1fZXhwb3J0cyB9IGZyb20gXCIuLi91dGlscy9zdHJlYW0uanNcIjtcbmltcG9ydCB7IGxvZ19zdHJlYW1fZXhwb3J0cyB9IGZyb20gXCIuLi90cmFjZXJzL2xvZ19zdHJlYW0uanNcIjtcbmltcG9ydCB7IG91dHB1dHNfZXhwb3J0cyB9IGZyb20gXCIuLi9vdXRwdXRzLmpzXCI7XG5pbXBvcnQgeyBhc3luY19jYWxsZXJfZXhwb3J0cyB9IGZyb20gXCIuLi91dGlscy9hc3luY19jYWxsZXIuanNcIjtcbmltcG9ydCB7IGpzb25fc2NoZW1hX2V4cG9ydHMgfSBmcm9tIFwiLi4vdXRpbHMvanNvbl9zY2hlbWEuanNcIjtcbmltcG9ydCB7IGdyYXBoX2V4cG9ydHMgfSBmcm9tIFwiLi4vcnVubmFibGVzL2dyYXBoLmpzXCI7XG5pbXBvcnQgeyBtZXNzYWdlc19leHBvcnRzIH0gZnJvbSBcIi4uL21lc3NhZ2VzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBjaGF0X2hpc3RvcnlfZXhwb3J0cyB9IGZyb20gXCIuLi9jaGF0X2hpc3RvcnkuanNcIjtcbmltcG9ydCB7IGVtYmVkZGluZ3NfZXhwb3J0cyB9IGZyb20gXCIuLi9lbWJlZGRpbmdzLmpzXCI7XG5pbXBvcnQgeyBzcmNfZXhwb3J0cyB9IGZyb20gXCIuLi9pbmRleC5qc1wiO1xuaW1wb3J0IHsgbWVtb3J5X2V4cG9ydHMgfSBmcm9tIFwiLi4vbWVtb3J5LmpzXCI7XG5pbXBvcnQgeyBwcm9tcHRfdmFsdWVzX2V4cG9ydHMgfSBmcm9tIFwiLi4vcHJvbXB0X3ZhbHVlcy5qc1wiO1xuaW1wb3J0IHsgc3RvcmVzX2V4cG9ydHMgfSBmcm9tIFwiLi4vc3RvcmVzLmpzXCI7XG5pbXBvcnQgeyByZXRyaWV2ZXJzX2V4cG9ydHMgfSBmcm9tIFwiLi4vcmV0cmlldmVycy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgdmVjdG9yc3RvcmVzX2V4cG9ydHMgfSBmcm9tIFwiLi4vdmVjdG9yc3RvcmVzLmpzXCI7XG5pbXBvcnQgeyBoYXNoX2V4cG9ydHMgfSBmcm9tIFwiLi4vdXRpbHMvaGFzaC5qc1wiO1xuaW1wb3J0IHsgYmFzZV9leHBvcnRzIGFzIGJhc2VfZXhwb3J0cyQyIH0gZnJvbSBcIi4uL2NhY2hlcy9iYXNlLmpzXCI7XG5pbXBvcnQgeyBiYXNlX2V4cG9ydHMgYXMgYmFzZV9leHBvcnRzJDMgfSBmcm9tIFwiLi4vZG9jdW1lbnRfbG9hZGVycy9iYXNlLmpzXCI7XG5pbXBvcnQgeyBsYW5nc21pdGhfZXhwb3J0cyB9IGZyb20gXCIuLi9kb2N1bWVudF9sb2FkZXJzL2xhbmdzbWl0aC5qc1wiO1xuaW1wb3J0IHsgZG9jdW1lbnRzX2V4cG9ydHMgfSBmcm9tIFwiLi4vZG9jdW1lbnRzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBleGFtcGxlX3NlbGVjdG9yc19leHBvcnRzIH0gZnJvbSBcIi4uL2V4YW1wbGVfc2VsZWN0b3JzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBpbmRleGluZ19leHBvcnRzIH0gZnJvbSBcIi4uL2luZGV4aW5nL2luZGV4LmpzXCI7XG5pbXBvcnQgeyB0aWt0b2tlbl9leHBvcnRzIH0gZnJvbSBcIi4uL3V0aWxzL3Rpa3Rva2VuLmpzXCI7XG5pbXBvcnQgeyBiYXNlX2V4cG9ydHMgYXMgYmFzZV9leHBvcnRzJDQgfSBmcm9tIFwiLi4vbGFuZ3VhZ2VfbW9kZWxzL2Jhc2UuanNcIjtcbmltcG9ydCB7IGNoYXRfbW9kZWxzX2V4cG9ydHMgfSBmcm9tIFwiLi4vbGFuZ3VhZ2VfbW9kZWxzL2NoYXRfbW9kZWxzLmpzXCI7XG5pbXBvcnQgeyBsbG1zX2V4cG9ydHMgfSBmcm9tIFwiLi4vbGFuZ3VhZ2VfbW9kZWxzL2xsbXMuanNcIjtcbmltcG9ydCB7IHJ1bm5hYmxlc19leHBvcnRzIH0gZnJvbSBcIi4uL3J1bm5hYmxlcy9pbmRleC5qc1wiO1xuaW1wb3J0IHsganNvbl9wYXRjaF9leHBvcnRzIH0gZnJvbSBcIi4uL3V0aWxzL2pzb25fcGF0Y2guanNcIjtcbmltcG9ydCB7IG91dHB1dF9wYXJzZXJzX2V4cG9ydHMgfSBmcm9tIFwiLi4vb3V0cHV0X3BhcnNlcnMvaW5kZXguanNcIjtcbmltcG9ydCB7IG9wZW5haV90b29sc19leHBvcnRzIH0gZnJvbSBcIi4uL291dHB1dF9wYXJzZXJzL29wZW5haV90b29scy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgb3BlbmFpX2Z1bmN0aW9uc19leHBvcnRzIH0gZnJvbSBcIi4uL291dHB1dF9wYXJzZXJzL29wZW5haV9mdW5jdGlvbnMvaW5kZXguanNcIjtcbmltcG9ydCB7IHByb21wdHNfZXhwb3J0cyB9IGZyb20gXCIuLi9wcm9tcHRzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBiYXNlX2V4cG9ydHMgYXMgYmFzZV9leHBvcnRzJDUgfSBmcm9tIFwiLi4vcmV0cmlldmVycy9kb2N1bWVudF9jb21wcmVzc29ycy9iYXNlLmpzXCI7XG5pbXBvcnQgeyBzdHJ1Y3R1cmVkX3F1ZXJ5X2V4cG9ydHMgfSBmcm9tIFwiLi4vc3RydWN0dXJlZF9xdWVyeS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgdG9vbHNfZXhwb3J0cyB9IGZyb20gXCIuLi90b29scy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgcnVuX2NvbGxlY3Rvcl9leHBvcnRzIH0gZnJvbSBcIi4uL3RyYWNlcnMvcnVuX2NvbGxlY3Rvci5qc1wiO1xuaW1wb3J0IHsgc3RyZWFtX2V4cG9ydHMgYXMgc3RyZWFtX2V4cG9ydHMkMSB9IGZyb20gXCIuLi90eXBlcy9zdHJlYW0uanNcIjtcbmltcG9ydCB7IGNodW5rX2FycmF5X2V4cG9ydHMgfSBmcm9tIFwiLi4vdXRpbHMvY2h1bmtfYXJyYXkuanNcIjtcbmltcG9ydCB7IGV2ZW50X3NvdXJjZV9wYXJzZV9leHBvcnRzIH0gZnJvbSBcIi4uL3V0aWxzL2V2ZW50X3NvdXJjZV9wYXJzZS5qc1wiO1xuaW1wb3J0IHsgZnVuY3Rpb25fY2FsbGluZ19leHBvcnRzIH0gZnJvbSBcIi4uL3V0aWxzL2Z1bmN0aW9uX2NhbGxpbmcuanNcIjtcbmltcG9ydCB7IG1hdGhfZXhwb3J0cyB9IGZyb20gXCIuLi91dGlscy9tYXRoLmpzXCI7XG5pbXBvcnQgeyB0ZXN0aW5nX2V4cG9ydHMgfSBmcm9tIFwiLi4vdXRpbHMvdGVzdGluZy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgdHlwZXNfZXhwb3J0cyB9IGZyb20gXCIuLi91dGlscy90eXBlcy9pbmRleC5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL2xvYWQvaW1wb3J0X21hcC50c1xudmFyIGltcG9ydF9tYXBfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQoaW1wb3J0X21hcF9leHBvcnRzLCB7XG5cdGFnZW50czogKCkgPT4gYWdlbnRzX2V4cG9ydHMsXG5cdGNhY2hlczogKCkgPT4gYmFzZV9leHBvcnRzJDIsXG5cdGNhbGxiYWNrc19fYmFzZTogKCkgPT4gYmFzZV9leHBvcnRzLFxuXHRjYWxsYmFja3NfX21hbmFnZXI6ICgpID0+IG1hbmFnZXJfZXhwb3J0cyxcblx0Y2FsbGJhY2tzX19wcm9taXNlczogKCkgPT4gcHJvbWlzZXNfZXhwb3J0cyxcblx0Y2hhdF9oaXN0b3J5OiAoKSA9PiBjaGF0X2hpc3RvcnlfZXhwb3J0cyxcblx0ZG9jdW1lbnRfbG9hZGVyc19fYmFzZTogKCkgPT4gYmFzZV9leHBvcnRzJDMsXG5cdGRvY3VtZW50X2xvYWRlcnNfX2xhbmdzbWl0aDogKCkgPT4gbGFuZ3NtaXRoX2V4cG9ydHMsXG5cdGRvY3VtZW50czogKCkgPT4gZG9jdW1lbnRzX2V4cG9ydHMsXG5cdGVtYmVkZGluZ3M6ICgpID0+IGVtYmVkZGluZ3NfZXhwb3J0cyxcblx0ZXhhbXBsZV9zZWxlY3RvcnM6ICgpID0+IGV4YW1wbGVfc2VsZWN0b3JzX2V4cG9ydHMsXG5cdGluZGV4OiAoKSA9PiBzcmNfZXhwb3J0cyxcblx0aW5kZXhpbmc6ICgpID0+IGluZGV4aW5nX2V4cG9ydHMsXG5cdGxhbmd1YWdlX21vZGVsc19fYmFzZTogKCkgPT4gYmFzZV9leHBvcnRzJDQsXG5cdGxhbmd1YWdlX21vZGVsc19fY2hhdF9tb2RlbHM6ICgpID0+IGNoYXRfbW9kZWxzX2V4cG9ydHMsXG5cdGxhbmd1YWdlX21vZGVsc19fbGxtczogKCkgPT4gbGxtc19leHBvcnRzLFxuXHRsb2FkX19zZXJpYWxpemFibGU6ICgpID0+IHNlcmlhbGl6YWJsZV9leHBvcnRzLFxuXHRtZW1vcnk6ICgpID0+IG1lbW9yeV9leHBvcnRzLFxuXHRtZXNzYWdlczogKCkgPT4gbWVzc2FnZXNfZXhwb3J0cyxcblx0bWVzc2FnZXNfX3Rvb2w6ICgpID0+IHRvb2xfZXhwb3J0cyxcblx0b3V0cHV0X3BhcnNlcnM6ICgpID0+IG91dHB1dF9wYXJzZXJzX2V4cG9ydHMsXG5cdG91dHB1dF9wYXJzZXJzX19vcGVuYWlfZnVuY3Rpb25zOiAoKSA9PiBvcGVuYWlfZnVuY3Rpb25zX2V4cG9ydHMsXG5cdG91dHB1dF9wYXJzZXJzX19vcGVuYWlfdG9vbHM6ICgpID0+IG9wZW5haV90b29sc19leHBvcnRzLFxuXHRvdXRwdXRzOiAoKSA9PiBvdXRwdXRzX2V4cG9ydHMsXG5cdHByb21wdF92YWx1ZXM6ICgpID0+IHByb21wdF92YWx1ZXNfZXhwb3J0cyxcblx0cHJvbXB0czogKCkgPT4gcHJvbXB0c19leHBvcnRzLFxuXHRyZXRyaWV2ZXJzOiAoKSA9PiByZXRyaWV2ZXJzX2V4cG9ydHMsXG5cdHJldHJpZXZlcnNfX2RvY3VtZW50X2NvbXByZXNzb3JzOiAoKSA9PiBiYXNlX2V4cG9ydHMkNSxcblx0cnVubmFibGVzOiAoKSA9PiBydW5uYWJsZXNfZXhwb3J0cyxcblx0cnVubmFibGVzX19ncmFwaDogKCkgPT4gZ3JhcGhfZXhwb3J0cyxcblx0c2luZ2xldG9uczogKCkgPT4gc2luZ2xldG9uc19leHBvcnRzLFxuXHRzdG9yZXM6ICgpID0+IHN0b3Jlc19leHBvcnRzLFxuXHRzdHJ1Y3R1cmVkX3F1ZXJ5OiAoKSA9PiBzdHJ1Y3R1cmVkX3F1ZXJ5X2V4cG9ydHMsXG5cdHRvb2xzOiAoKSA9PiB0b29sc19leHBvcnRzLFxuXHR0cmFjZXJzX19iYXNlOiAoKSA9PiBiYXNlX2V4cG9ydHMkMSxcblx0dHJhY2Vyc19fY29uc29sZTogKCkgPT4gY29uc29sZV9leHBvcnRzLFxuXHR0cmFjZXJzX19sb2dfc3RyZWFtOiAoKSA9PiBsb2dfc3RyZWFtX2V4cG9ydHMsXG5cdHRyYWNlcnNfX3J1bl9jb2xsZWN0b3I6ICgpID0+IHJ1bl9jb2xsZWN0b3JfZXhwb3J0cyxcblx0dHJhY2Vyc19fdHJhY2VyX2xhbmdjaGFpbjogKCkgPT4gdHJhY2VyX2xhbmdjaGFpbl9leHBvcnRzLFxuXHR0eXBlc19fc3RyZWFtOiAoKSA9PiBzdHJlYW1fZXhwb3J0cyQxLFxuXHR1dGlsc19fYXN5bmNfY2FsbGVyOiAoKSA9PiBhc3luY19jYWxsZXJfZXhwb3J0cyxcblx0dXRpbHNfX2NodW5rX2FycmF5OiAoKSA9PiBjaHVua19hcnJheV9leHBvcnRzLFxuXHR1dGlsc19fZW52OiAoKSA9PiBlbnZfZXhwb3J0cyxcblx0dXRpbHNfX2V2ZW50X3NvdXJjZV9wYXJzZTogKCkgPT4gZXZlbnRfc291cmNlX3BhcnNlX2V4cG9ydHMsXG5cdHV0aWxzX19mdW5jdGlvbl9jYWxsaW5nOiAoKSA9PiBmdW5jdGlvbl9jYWxsaW5nX2V4cG9ydHMsXG5cdHV0aWxzX19oYXNoOiAoKSA9PiBoYXNoX2V4cG9ydHMsXG5cdHV0aWxzX19qc29uX3BhdGNoOiAoKSA9PiBqc29uX3BhdGNoX2V4cG9ydHMsXG5cdHV0aWxzX19qc29uX3NjaGVtYTogKCkgPT4ganNvbl9zY2hlbWFfZXhwb3J0cyxcblx0dXRpbHNfX21hdGg6ICgpID0+IG1hdGhfZXhwb3J0cyxcblx0dXRpbHNfX3N0cmVhbTogKCkgPT4gc3RyZWFtX2V4cG9ydHMsXG5cdHV0aWxzX190ZXN0aW5nOiAoKSA9PiB0ZXN0aW5nX2V4cG9ydHMsXG5cdHV0aWxzX190aWt0b2tlbjogKCkgPT4gdGlrdG9rZW5fZXhwb3J0cyxcblx0dXRpbHNfX3R5cGVzOiAoKSA9PiB0eXBlc19leHBvcnRzLFxuXHR2ZWN0b3JzdG9yZXM6ICgpID0+IHZlY3RvcnN0b3Jlc19leHBvcnRzXG59KTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBpbXBvcnRfbWFwX2V4cG9ydHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWltcG9ydF9tYXAuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/load/import_map.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/load/index.js":
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/load/index.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   load: () => (/* binding */ load)\n/* harmony export */ });\n/* harmony import */ var _map_keys_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./map_keys.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/load/map_keys.js\");\n/* harmony import */ var _serializable_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./serializable.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/load/serializable.js\");\n/* harmony import */ var _utils_env_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/env.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/env.js\");\n/* harmony import */ var _import_constants_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./import_constants.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/load/import_constants.js\");\n/* harmony import */ var _import_map_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./import_map.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/load/import_map.js\");\n\n\n\n\n\n\n//#region src/load/index.ts\nfunction combineAliasesAndInvert(constructor) {\n\tconst aliases = {};\n\tfor (let current = constructor; current && current.prototype; current = Object.getPrototypeOf(current)) Object.assign(aliases, Reflect.get(current.prototype, \"lc_aliases\"));\n\treturn Object.entries(aliases).reduce((acc, [key, value]) => {\n\t\tacc[value] = key;\n\t\treturn acc;\n\t}, {});\n}\nasync function reviver(value) {\n\tconst { optionalImportsMap = {}, optionalImportEntrypoints: optionalImportEntrypoints$1 = [], importMap = {}, secretsMap = {}, path = [\"$\"] } = this;\n\tconst pathStr = path.join(\".\");\n\tif (typeof value === \"object\" && value !== null && !Array.isArray(value) && \"lc\" in value && \"type\" in value && \"id\" in value && value.lc === 1 && value.type === \"secret\") {\n\t\tconst serialized = value;\n\t\tconst [key] = serialized.id;\n\t\tif (key in secretsMap) return secretsMap[key];\n\t\telse {\n\t\t\tconst secretValueInEnv = (0,_utils_env_js__WEBPACK_IMPORTED_MODULE_2__.getEnvironmentVariable)(key);\n\t\t\tif (secretValueInEnv) return secretValueInEnv;\n\t\t\telse throw new Error(`Missing key \"${key}\" for ${pathStr} in load(secretsMap={})`);\n\t\t}\n\t} else if (typeof value === \"object\" && value !== null && !Array.isArray(value) && \"lc\" in value && \"type\" in value && \"id\" in value && value.lc === 1 && value.type === \"not_implemented\") {\n\t\tconst serialized = value;\n\t\tconst str = JSON.stringify(serialized);\n\t\tthrow new Error(`Trying to load an object that doesn't implement serialization: ${pathStr} -> ${str}`);\n\t} else if (typeof value === \"object\" && value !== null && !Array.isArray(value) && \"lc\" in value && \"type\" in value && \"id\" in value && \"kwargs\" in value && value.lc === 1) {\n\t\tconst serialized = value;\n\t\tconst str = JSON.stringify(serialized);\n\t\tconst [name, ...namespaceReverse] = serialized.id.slice().reverse();\n\t\tconst namespace = namespaceReverse.reverse();\n\t\tconst importMaps = {\n\t\t\tlangchain_core: _import_map_js__WEBPACK_IMPORTED_MODULE_4__.import_map_exports,\n\t\t\tlangchain: importMap\n\t\t};\n\t\tlet module = null;\n\t\tconst optionalImportNamespaceAliases = [namespace.join(\"/\")];\n\t\tif (namespace[0] === \"langchain_community\") optionalImportNamespaceAliases.push([\"langchain\", ...namespace.slice(1)].join(\"/\"));\n\t\tconst matchingNamespaceAlias = optionalImportNamespaceAliases.find((alias) => alias in optionalImportsMap);\n\t\tif (_import_constants_js__WEBPACK_IMPORTED_MODULE_3__.optionalImportEntrypoints.concat(optionalImportEntrypoints$1).includes(namespace.join(\"/\")) || matchingNamespaceAlias) if (matchingNamespaceAlias !== void 0) module = await optionalImportsMap[matchingNamespaceAlias];\n\t\telse throw new Error(`Missing key \"${namespace.join(\"/\")}\" for ${pathStr} in load(optionalImportsMap={})`);\n\t\telse {\n\t\t\tlet finalImportMap;\n\t\t\tif (namespace[0] === \"langchain\" || namespace[0] === \"langchain_core\") {\n\t\t\t\tfinalImportMap = importMaps[namespace[0]];\n\t\t\t\tnamespace.shift();\n\t\t\t} else throw new Error(`Invalid namespace: ${pathStr} -> ${str}`);\n\t\t\tif (namespace.length === 0) throw new Error(`Invalid namespace: ${pathStr} -> ${str}`);\n\t\t\tlet importMapKey;\n\t\t\tdo {\n\t\t\t\timportMapKey = namespace.join(\"__\");\n\t\t\t\tif (importMapKey in finalImportMap) break;\n\t\t\t\telse namespace.pop();\n\t\t\t} while (namespace.length > 0);\n\t\t\tif (importMapKey in finalImportMap) module = finalImportMap[importMapKey];\n\t\t}\n\t\tif (typeof module !== \"object\" || module === null) throw new Error(`Invalid namespace: ${pathStr} -> ${str}`);\n\t\tconst builder = module[name] ?? Object.values(module).find((v) => typeof v === \"function\" && (0,_serializable_js__WEBPACK_IMPORTED_MODULE_1__.get_lc_unique_name)(v) === name);\n\t\tif (typeof builder !== \"function\") throw new Error(`Invalid identifer: ${pathStr} -> ${str}`);\n\t\tconst kwargs = await reviver.call({\n\t\t\t...this,\n\t\t\tpath: [...path, \"kwargs\"]\n\t\t}, serialized.kwargs);\n\t\tif (serialized.type === \"constructor\") {\n\t\t\tconst instance = new builder((0,_map_keys_js__WEBPACK_IMPORTED_MODULE_0__.mapKeys)(kwargs, _map_keys_js__WEBPACK_IMPORTED_MODULE_0__.keyFromJson, combineAliasesAndInvert(builder)));\n\t\t\tObject.defineProperty(instance.constructor, \"name\", { value: name });\n\t\t\treturn instance;\n\t\t} else throw new Error(`Invalid type: ${pathStr} -> ${str}`);\n\t} else if (typeof value === \"object\" && value !== null) if (Array.isArray(value)) return Promise.all(value.map((v, i) => reviver.call({\n\t\t...this,\n\t\tpath: [...path, `${i}`]\n\t}, v)));\n\telse return Object.fromEntries(await Promise.all(Object.entries(value).map(async ([key, value$1]) => [key, await reviver.call({\n\t\t...this,\n\t\tpath: [...path, key]\n\t}, value$1)])));\n\treturn value;\n}\nasync function load(text, mappings) {\n\tconst json = JSON.parse(text);\n\treturn reviver.call({ ...mappings }, json);\n}\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9sb2FkL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFxRDtBQUNFO0FBQ0U7QUFDUztBQUNiOztBQUVyRDtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsOEJBQThCO0FBQy9EO0FBQ0E7QUFDQTtBQUNBLEVBQUUsSUFBSTtBQUNOO0FBQ0E7QUFDQSxTQUFTLHVCQUF1Qiw2RUFBNkUsaUJBQWlCLGlCQUFpQjtBQUMvSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIscUVBQXNCO0FBQ2xEO0FBQ0Esd0NBQXdDLElBQUksUUFBUSxTQUFTLHFCQUFxQjtBQUNsRjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0Esb0ZBQW9GLFNBQVMsS0FBSyxJQUFJO0FBQ3RHLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDhEQUFrQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLDJFQUF5QjtBQUMvQix1Q0FBdUMsb0JBQW9CLFFBQVEsU0FBUyw2QkFBNkI7QUFDekc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssMkNBQTJDLFNBQVMsS0FBSyxJQUFJO0FBQ2xFLHFFQUFxRSxTQUFTLEtBQUssSUFBSTtBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSwyRkFBMkYsU0FBUyxLQUFLLElBQUk7QUFDN0csK0ZBQStGLG9FQUFrQjtBQUNqSCwyRUFBMkUsU0FBUyxLQUFLLElBQUk7QUFDN0Y7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsZ0NBQWdDLHFEQUFPLFNBQVMscURBQVc7QUFDM0QseURBQXlELGFBQWE7QUFDdEU7QUFDQSxJQUFJLHNDQUFzQyxTQUFTLEtBQUssSUFBSTtBQUM1RCxHQUFHO0FBQ0g7QUFDQSxxQkFBcUIsRUFBRTtBQUN2QixFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGFBQWE7QUFDcEM7O0FBRUE7QUFDZ0I7QUFDaEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L2xvYWQvaW5kZXguanM/OWY1YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBrZXlGcm9tSnNvbiwgbWFwS2V5cyB9IGZyb20gXCIuL21hcF9rZXlzLmpzXCI7XG5pbXBvcnQgeyBnZXRfbGNfdW5pcXVlX25hbWUgfSBmcm9tIFwiLi9zZXJpYWxpemFibGUuanNcIjtcbmltcG9ydCB7IGdldEVudmlyb25tZW50VmFyaWFibGUgfSBmcm9tIFwiLi4vdXRpbHMvZW52LmpzXCI7XG5pbXBvcnQgeyBvcHRpb25hbEltcG9ydEVudHJ5cG9pbnRzIH0gZnJvbSBcIi4vaW1wb3J0X2NvbnN0YW50cy5qc1wiO1xuaW1wb3J0IHsgaW1wb3J0X21hcF9leHBvcnRzIH0gZnJvbSBcIi4vaW1wb3J0X21hcC5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL2xvYWQvaW5kZXgudHNcbmZ1bmN0aW9uIGNvbWJpbmVBbGlhc2VzQW5kSW52ZXJ0KGNvbnN0cnVjdG9yKSB7XG5cdGNvbnN0IGFsaWFzZXMgPSB7fTtcblx0Zm9yIChsZXQgY3VycmVudCA9IGNvbnN0cnVjdG9yOyBjdXJyZW50ICYmIGN1cnJlbnQucHJvdG90eXBlOyBjdXJyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGN1cnJlbnQpKSBPYmplY3QuYXNzaWduKGFsaWFzZXMsIFJlZmxlY3QuZ2V0KGN1cnJlbnQucHJvdG90eXBlLCBcImxjX2FsaWFzZXNcIikpO1xuXHRyZXR1cm4gT2JqZWN0LmVudHJpZXMoYWxpYXNlcykucmVkdWNlKChhY2MsIFtrZXksIHZhbHVlXSkgPT4ge1xuXHRcdGFjY1t2YWx1ZV0gPSBrZXk7XG5cdFx0cmV0dXJuIGFjYztcblx0fSwge30pO1xufVxuYXN5bmMgZnVuY3Rpb24gcmV2aXZlcih2YWx1ZSkge1xuXHRjb25zdCB7IG9wdGlvbmFsSW1wb3J0c01hcCA9IHt9LCBvcHRpb25hbEltcG9ydEVudHJ5cG9pbnRzOiBvcHRpb25hbEltcG9ydEVudHJ5cG9pbnRzJDEgPSBbXSwgaW1wb3J0TWFwID0ge30sIHNlY3JldHNNYXAgPSB7fSwgcGF0aCA9IFtcIiRcIl0gfSA9IHRoaXM7XG5cdGNvbnN0IHBhdGhTdHIgPSBwYXRoLmpvaW4oXCIuXCIpO1xuXHRpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlICE9PSBudWxsICYmICFBcnJheS5pc0FycmF5KHZhbHVlKSAmJiBcImxjXCIgaW4gdmFsdWUgJiYgXCJ0eXBlXCIgaW4gdmFsdWUgJiYgXCJpZFwiIGluIHZhbHVlICYmIHZhbHVlLmxjID09PSAxICYmIHZhbHVlLnR5cGUgPT09IFwic2VjcmV0XCIpIHtcblx0XHRjb25zdCBzZXJpYWxpemVkID0gdmFsdWU7XG5cdFx0Y29uc3QgW2tleV0gPSBzZXJpYWxpemVkLmlkO1xuXHRcdGlmIChrZXkgaW4gc2VjcmV0c01hcCkgcmV0dXJuIHNlY3JldHNNYXBba2V5XTtcblx0XHRlbHNlIHtcblx0XHRcdGNvbnN0IHNlY3JldFZhbHVlSW5FbnYgPSBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKGtleSk7XG5cdFx0XHRpZiAoc2VjcmV0VmFsdWVJbkVudikgcmV0dXJuIHNlY3JldFZhbHVlSW5FbnY7XG5cdFx0XHRlbHNlIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyBrZXkgXCIke2tleX1cIiBmb3IgJHtwYXRoU3RyfSBpbiBsb2FkKHNlY3JldHNNYXA9e30pYCk7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbCAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgXCJsY1wiIGluIHZhbHVlICYmIFwidHlwZVwiIGluIHZhbHVlICYmIFwiaWRcIiBpbiB2YWx1ZSAmJiB2YWx1ZS5sYyA9PT0gMSAmJiB2YWx1ZS50eXBlID09PSBcIm5vdF9pbXBsZW1lbnRlZFwiKSB7XG5cdFx0Y29uc3Qgc2VyaWFsaXplZCA9IHZhbHVlO1xuXHRcdGNvbnN0IHN0ciA9IEpTT04uc3RyaW5naWZ5KHNlcmlhbGl6ZWQpO1xuXHRcdHRocm93IG5ldyBFcnJvcihgVHJ5aW5nIHRvIGxvYWQgYW4gb2JqZWN0IHRoYXQgZG9lc24ndCBpbXBsZW1lbnQgc2VyaWFsaXphdGlvbjogJHtwYXRoU3RyfSAtPiAke3N0cn1gKTtcblx0fSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUgIT09IG51bGwgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpICYmIFwibGNcIiBpbiB2YWx1ZSAmJiBcInR5cGVcIiBpbiB2YWx1ZSAmJiBcImlkXCIgaW4gdmFsdWUgJiYgXCJrd2FyZ3NcIiBpbiB2YWx1ZSAmJiB2YWx1ZS5sYyA9PT0gMSkge1xuXHRcdGNvbnN0IHNlcmlhbGl6ZWQgPSB2YWx1ZTtcblx0XHRjb25zdCBzdHIgPSBKU09OLnN0cmluZ2lmeShzZXJpYWxpemVkKTtcblx0XHRjb25zdCBbbmFtZSwgLi4ubmFtZXNwYWNlUmV2ZXJzZV0gPSBzZXJpYWxpemVkLmlkLnNsaWNlKCkucmV2ZXJzZSgpO1xuXHRcdGNvbnN0IG5hbWVzcGFjZSA9IG5hbWVzcGFjZVJldmVyc2UucmV2ZXJzZSgpO1xuXHRcdGNvbnN0IGltcG9ydE1hcHMgPSB7XG5cdFx0XHRsYW5nY2hhaW5fY29yZTogaW1wb3J0X21hcF9leHBvcnRzLFxuXHRcdFx0bGFuZ2NoYWluOiBpbXBvcnRNYXBcblx0XHR9O1xuXHRcdGxldCBtb2R1bGUgPSBudWxsO1xuXHRcdGNvbnN0IG9wdGlvbmFsSW1wb3J0TmFtZXNwYWNlQWxpYXNlcyA9IFtuYW1lc3BhY2Uuam9pbihcIi9cIildO1xuXHRcdGlmIChuYW1lc3BhY2VbMF0gPT09IFwibGFuZ2NoYWluX2NvbW11bml0eVwiKSBvcHRpb25hbEltcG9ydE5hbWVzcGFjZUFsaWFzZXMucHVzaChbXCJsYW5nY2hhaW5cIiwgLi4ubmFtZXNwYWNlLnNsaWNlKDEpXS5qb2luKFwiL1wiKSk7XG5cdFx0Y29uc3QgbWF0Y2hpbmdOYW1lc3BhY2VBbGlhcyA9IG9wdGlvbmFsSW1wb3J0TmFtZXNwYWNlQWxpYXNlcy5maW5kKChhbGlhcykgPT4gYWxpYXMgaW4gb3B0aW9uYWxJbXBvcnRzTWFwKTtcblx0XHRpZiAob3B0aW9uYWxJbXBvcnRFbnRyeXBvaW50cy5jb25jYXQob3B0aW9uYWxJbXBvcnRFbnRyeXBvaW50cyQxKS5pbmNsdWRlcyhuYW1lc3BhY2Uuam9pbihcIi9cIikpIHx8IG1hdGNoaW5nTmFtZXNwYWNlQWxpYXMpIGlmIChtYXRjaGluZ05hbWVzcGFjZUFsaWFzICE9PSB2b2lkIDApIG1vZHVsZSA9IGF3YWl0IG9wdGlvbmFsSW1wb3J0c01hcFttYXRjaGluZ05hbWVzcGFjZUFsaWFzXTtcblx0XHRlbHNlIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyBrZXkgXCIke25hbWVzcGFjZS5qb2luKFwiL1wiKX1cIiBmb3IgJHtwYXRoU3RyfSBpbiBsb2FkKG9wdGlvbmFsSW1wb3J0c01hcD17fSlgKTtcblx0XHRlbHNlIHtcblx0XHRcdGxldCBmaW5hbEltcG9ydE1hcDtcblx0XHRcdGlmIChuYW1lc3BhY2VbMF0gPT09IFwibGFuZ2NoYWluXCIgfHwgbmFtZXNwYWNlWzBdID09PSBcImxhbmdjaGFpbl9jb3JlXCIpIHtcblx0XHRcdFx0ZmluYWxJbXBvcnRNYXAgPSBpbXBvcnRNYXBzW25hbWVzcGFjZVswXV07XG5cdFx0XHRcdG5hbWVzcGFjZS5zaGlmdCgpO1xuXHRcdFx0fSBlbHNlIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBuYW1lc3BhY2U6ICR7cGF0aFN0cn0gLT4gJHtzdHJ9YCk7XG5cdFx0XHRpZiAobmFtZXNwYWNlLmxlbmd0aCA9PT0gMCkgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIG5hbWVzcGFjZTogJHtwYXRoU3RyfSAtPiAke3N0cn1gKTtcblx0XHRcdGxldCBpbXBvcnRNYXBLZXk7XG5cdFx0XHRkbyB7XG5cdFx0XHRcdGltcG9ydE1hcEtleSA9IG5hbWVzcGFjZS5qb2luKFwiX19cIik7XG5cdFx0XHRcdGlmIChpbXBvcnRNYXBLZXkgaW4gZmluYWxJbXBvcnRNYXApIGJyZWFrO1xuXHRcdFx0XHRlbHNlIG5hbWVzcGFjZS5wb3AoKTtcblx0XHRcdH0gd2hpbGUgKG5hbWVzcGFjZS5sZW5ndGggPiAwKTtcblx0XHRcdGlmIChpbXBvcnRNYXBLZXkgaW4gZmluYWxJbXBvcnRNYXApIG1vZHVsZSA9IGZpbmFsSW1wb3J0TWFwW2ltcG9ydE1hcEtleV07XG5cdFx0fVxuXHRcdGlmICh0eXBlb2YgbW9kdWxlICE9PSBcIm9iamVjdFwiIHx8IG1vZHVsZSA9PT0gbnVsbCkgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIG5hbWVzcGFjZTogJHtwYXRoU3RyfSAtPiAke3N0cn1gKTtcblx0XHRjb25zdCBidWlsZGVyID0gbW9kdWxlW25hbWVdID8/IE9iamVjdC52YWx1ZXMobW9kdWxlKS5maW5kKCh2KSA9PiB0eXBlb2YgdiA9PT0gXCJmdW5jdGlvblwiICYmIGdldF9sY191bmlxdWVfbmFtZSh2KSA9PT0gbmFtZSk7XG5cdFx0aWYgKHR5cGVvZiBidWlsZGVyICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBpZGVudGlmZXI6ICR7cGF0aFN0cn0gLT4gJHtzdHJ9YCk7XG5cdFx0Y29uc3Qga3dhcmdzID0gYXdhaXQgcmV2aXZlci5jYWxsKHtcblx0XHRcdC4uLnRoaXMsXG5cdFx0XHRwYXRoOiBbLi4ucGF0aCwgXCJrd2FyZ3NcIl1cblx0XHR9LCBzZXJpYWxpemVkLmt3YXJncyk7XG5cdFx0aWYgKHNlcmlhbGl6ZWQudHlwZSA9PT0gXCJjb25zdHJ1Y3RvclwiKSB7XG5cdFx0XHRjb25zdCBpbnN0YW5jZSA9IG5ldyBidWlsZGVyKG1hcEtleXMoa3dhcmdzLCBrZXlGcm9tSnNvbiwgY29tYmluZUFsaWFzZXNBbmRJbnZlcnQoYnVpbGRlcikpKTtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpbnN0YW5jZS5jb25zdHJ1Y3RvciwgXCJuYW1lXCIsIHsgdmFsdWU6IG5hbWUgfSk7XG5cdFx0XHRyZXR1cm4gaW5zdGFuY2U7XG5cdFx0fSBlbHNlIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCB0eXBlOiAke3BhdGhTdHJ9IC0+ICR7c3RyfWApO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbCkgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSByZXR1cm4gUHJvbWlzZS5hbGwodmFsdWUubWFwKCh2LCBpKSA9PiByZXZpdmVyLmNhbGwoe1xuXHRcdC4uLnRoaXMsXG5cdFx0cGF0aDogWy4uLnBhdGgsIGAke2l9YF1cblx0fSwgdikpKTtcblx0ZWxzZSByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGF3YWl0IFByb21pc2UuYWxsKE9iamVjdC5lbnRyaWVzKHZhbHVlKS5tYXAoYXN5bmMgKFtrZXksIHZhbHVlJDFdKSA9PiBba2V5LCBhd2FpdCByZXZpdmVyLmNhbGwoe1xuXHRcdC4uLnRoaXMsXG5cdFx0cGF0aDogWy4uLnBhdGgsIGtleV1cblx0fSwgdmFsdWUkMSldKSkpO1xuXHRyZXR1cm4gdmFsdWU7XG59XG5hc3luYyBmdW5jdGlvbiBsb2FkKHRleHQsIG1hcHBpbmdzKSB7XG5cdGNvbnN0IGpzb24gPSBKU09OLnBhcnNlKHRleHQpO1xuXHRyZXR1cm4gcmV2aXZlci5jYWxsKHsgLi4ubWFwcGluZ3MgfSwganNvbik7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgbG9hZCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/load/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/load/map_keys.js":
/*!*****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/load/map_keys.js ***!
  \*****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   keyFromJson: () => (/* binding */ keyFromJson),\n/* harmony export */   keyToJson: () => (/* binding */ keyToJson),\n/* harmony export */   mapKeys: () => (/* binding */ mapKeys)\n/* harmony export */ });\n/* harmony import */ var decamelize__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! decamelize */ \"(rsc)/./node_modules/.pnpm/decamelize@1.2.0/node_modules/decamelize/index.js\");\n/* harmony import */ var camelcase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! camelcase */ \"(rsc)/./node_modules/.pnpm/camelcase@6.3.0/node_modules/camelcase/index.js\");\n\n\n\n//#region src/load/map_keys.ts\nfunction keyToJson(key, map) {\n\treturn map?.[key] || decamelize__WEBPACK_IMPORTED_MODULE_0__(key);\n}\nfunction keyFromJson(key, map) {\n\treturn map?.[key] || camelcase__WEBPACK_IMPORTED_MODULE_1__(key);\n}\nfunction mapKeys(fields, mapper, map) {\n\tconst mapped = {};\n\tfor (const key in fields) if (Object.hasOwn(fields, key)) mapped[mapper(key, map)] = fields[key];\n\treturn mapped;\n}\n\n//#endregion\n\n//# sourceMappingURL=map_keys.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9sb2FkL21hcF9rZXlzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQW1DO0FBQ0Q7O0FBRWxDO0FBQ0E7QUFDQSxzQkFBc0IsdUNBQVM7QUFDL0I7QUFDQTtBQUNBLHNCQUFzQixzQ0FBUztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDMkM7QUFDM0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L2xvYWQvbWFwX2tleXMuanM/Mzc0MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgc25ha2VDYXNlIGZyb20gXCJkZWNhbWVsaXplXCI7XG5pbXBvcnQgY2FtZWxDYXNlIGZyb20gXCJjYW1lbGNhc2VcIjtcblxuLy8jcmVnaW9uIHNyYy9sb2FkL21hcF9rZXlzLnRzXG5mdW5jdGlvbiBrZXlUb0pzb24oa2V5LCBtYXApIHtcblx0cmV0dXJuIG1hcD8uW2tleV0gfHwgc25ha2VDYXNlKGtleSk7XG59XG5mdW5jdGlvbiBrZXlGcm9tSnNvbihrZXksIG1hcCkge1xuXHRyZXR1cm4gbWFwPy5ba2V5XSB8fCBjYW1lbENhc2Uoa2V5KTtcbn1cbmZ1bmN0aW9uIG1hcEtleXMoZmllbGRzLCBtYXBwZXIsIG1hcCkge1xuXHRjb25zdCBtYXBwZWQgPSB7fTtcblx0Zm9yIChjb25zdCBrZXkgaW4gZmllbGRzKSBpZiAoT2JqZWN0Lmhhc093bihmaWVsZHMsIGtleSkpIG1hcHBlZFttYXBwZXIoa2V5LCBtYXApXSA9IGZpZWxkc1trZXldO1xuXHRyZXR1cm4gbWFwcGVkO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IGtleUZyb21Kc29uLCBrZXlUb0pzb24sIG1hcEtleXMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcF9rZXlzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/load/map_keys.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/load/serializable.js":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/load/serializable.js ***!
  \*********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Serializable: () => (/* binding */ Serializable),\n/* harmony export */   get_lc_unique_name: () => (/* binding */ get_lc_unique_name),\n/* harmony export */   serializable_exports: () => (/* binding */ serializable_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _map_keys_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./map_keys.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/load/map_keys.js\");\n\n\n\n//#region src/load/serializable.ts\nvar serializable_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(serializable_exports, {\n\tSerializable: () => Serializable,\n\tget_lc_unique_name: () => get_lc_unique_name\n});\nfunction shallowCopy(obj) {\n\treturn Array.isArray(obj) ? [...obj] : { ...obj };\n}\nfunction replaceSecrets(root, secretsMap) {\n\tconst result = shallowCopy(root);\n\tfor (const [path, secretId] of Object.entries(secretsMap)) {\n\t\tconst [last, ...partsReverse] = path.split(\".\").reverse();\n\t\tlet current = result;\n\t\tfor (const part of partsReverse.reverse()) {\n\t\t\tif (current[part] === void 0) break;\n\t\t\tcurrent[part] = shallowCopy(current[part]);\n\t\t\tcurrent = current[part];\n\t\t}\n\t\tif (current[last] !== void 0) current[last] = {\n\t\t\tlc: 1,\n\t\t\ttype: \"secret\",\n\t\t\tid: [secretId]\n\t\t};\n\t}\n\treturn result;\n}\n/**\n* Get a unique name for the module, rather than parent class implementations.\n* Should not be subclassed, subclass lc_name above instead.\n*/\nfunction get_lc_unique_name(serializableClass) {\n\tconst parentClass = Object.getPrototypeOf(serializableClass);\n\tconst lcNameIsSubclassed = typeof serializableClass.lc_name === \"function\" && (typeof parentClass.lc_name !== \"function\" || serializableClass.lc_name() !== parentClass.lc_name());\n\tif (lcNameIsSubclassed) return serializableClass.lc_name();\n\telse return serializableClass.name;\n}\nvar Serializable = class Serializable {\n\tlc_serializable = false;\n\tlc_kwargs;\n\t/**\n\t* The name of the serializable. Override to provide an alias or\n\t* to preserve the serialized module name in minified environments.\n\t*\n\t* Implemented as a static method to support loading logic.\n\t*/\n\tstatic lc_name() {\n\t\treturn this.name;\n\t}\n\t/**\n\t* The final serialized identifier for the module.\n\t*/\n\tget lc_id() {\n\t\treturn [...this.lc_namespace, get_lc_unique_name(this.constructor)];\n\t}\n\t/**\n\t* A map of secrets, which will be omitted from serialization.\n\t* Keys are paths to the secret in constructor args, e.g. \"foo.bar.baz\".\n\t* Values are the secret ids, which will be used when deserializing.\n\t*/\n\tget lc_secrets() {\n\t\treturn void 0;\n\t}\n\t/**\n\t* A map of additional attributes to merge with constructor args.\n\t* Keys are the attribute names, e.g. \"foo\".\n\t* Values are the attribute values, which will be serialized.\n\t* These attributes need to be accepted by the constructor as arguments.\n\t*/\n\tget lc_attributes() {\n\t\treturn void 0;\n\t}\n\t/**\n\t* A map of aliases for constructor args.\n\t* Keys are the attribute names, e.g. \"foo\".\n\t* Values are the alias that will replace the key in serialization.\n\t* This is used to eg. make argument names match Python.\n\t*/\n\tget lc_aliases() {\n\t\treturn void 0;\n\t}\n\t/**\n\t* A manual list of keys that should be serialized.\n\t* If not overridden, all fields passed into the constructor will be serialized.\n\t*/\n\tget lc_serializable_keys() {\n\t\treturn void 0;\n\t}\n\tconstructor(kwargs, ..._args) {\n\t\tif (this.lc_serializable_keys !== void 0) this.lc_kwargs = Object.fromEntries(Object.entries(kwargs || {}).filter(([key]) => this.lc_serializable_keys?.includes(key)));\n\t\telse this.lc_kwargs = kwargs ?? {};\n\t}\n\ttoJSON() {\n\t\tif (!this.lc_serializable) return this.toJSONNotImplemented();\n\t\tif (this.lc_kwargs instanceof Serializable || typeof this.lc_kwargs !== \"object\" || Array.isArray(this.lc_kwargs)) return this.toJSONNotImplemented();\n\t\tconst aliases = {};\n\t\tconst secrets = {};\n\t\tconst kwargs = Object.keys(this.lc_kwargs).reduce((acc, key) => {\n\t\t\tacc[key] = key in this ? this[key] : this.lc_kwargs[key];\n\t\t\treturn acc;\n\t\t}, {});\n\t\tfor (let current = Object.getPrototypeOf(this); current; current = Object.getPrototypeOf(current)) {\n\t\t\tObject.assign(aliases, Reflect.get(current, \"lc_aliases\", this));\n\t\t\tObject.assign(secrets, Reflect.get(current, \"lc_secrets\", this));\n\t\t\tObject.assign(kwargs, Reflect.get(current, \"lc_attributes\", this));\n\t\t}\n\t\tObject.keys(secrets).forEach((keyPath) => {\n\t\t\tlet read = this;\n\t\t\tlet write = kwargs;\n\t\t\tconst [last, ...partsReverse] = keyPath.split(\".\").reverse();\n\t\t\tfor (const key of partsReverse.reverse()) {\n\t\t\t\tif (!(key in read) || read[key] === void 0) return;\n\t\t\t\tif (!(key in write) || write[key] === void 0) {\n\t\t\t\t\tif (typeof read[key] === \"object\" && read[key] != null) write[key] = {};\n\t\t\t\t\telse if (Array.isArray(read[key])) write[key] = [];\n\t\t\t\t}\n\t\t\t\tread = read[key];\n\t\t\t\twrite = write[key];\n\t\t\t}\n\t\t\tif (last in read && read[last] !== void 0) write[last] = write[last] || read[last];\n\t\t});\n\t\treturn {\n\t\t\tlc: 1,\n\t\t\ttype: \"constructor\",\n\t\t\tid: this.lc_id,\n\t\t\tkwargs: (0,_map_keys_js__WEBPACK_IMPORTED_MODULE_1__.mapKeys)(Object.keys(secrets).length ? replaceSecrets(kwargs, secrets) : kwargs, _map_keys_js__WEBPACK_IMPORTED_MODULE_1__.keyToJson, aliases)\n\t\t};\n\t}\n\ttoJSONNotImplemented() {\n\t\treturn {\n\t\t\tlc: 1,\n\t\t\ttype: \"not_implemented\",\n\t\t\tid: this.lc_id\n\t\t};\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=serializable.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9sb2FkL3NlcmlhbGl6YWJsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUEyRDtBQUNSOztBQUVuRDtBQUNBO0FBQ0Esc0VBQVE7QUFDUjtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJHQUEyRztBQUMzRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsSUFBSTtBQUNQLGtEQUFrRCxTQUFTO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcscURBQU8seUVBQXlFLG1EQUFTO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ2tFO0FBQ2xFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9sb2FkL3NlcmlhbGl6YWJsZS5qcz9kMGZkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fZXhwb3J0IH0gZnJvbSBcIi4uL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuanNcIjtcbmltcG9ydCB7IGtleVRvSnNvbiwgbWFwS2V5cyB9IGZyb20gXCIuL21hcF9rZXlzLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvbG9hZC9zZXJpYWxpemFibGUudHNcbnZhciBzZXJpYWxpemFibGVfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQoc2VyaWFsaXphYmxlX2V4cG9ydHMsIHtcblx0U2VyaWFsaXphYmxlOiAoKSA9PiBTZXJpYWxpemFibGUsXG5cdGdldF9sY191bmlxdWVfbmFtZTogKCkgPT4gZ2V0X2xjX3VuaXF1ZV9uYW1lXG59KTtcbmZ1bmN0aW9uIHNoYWxsb3dDb3B5KG9iaikge1xuXHRyZXR1cm4gQXJyYXkuaXNBcnJheShvYmopID8gWy4uLm9ial0gOiB7IC4uLm9iaiB9O1xufVxuZnVuY3Rpb24gcmVwbGFjZVNlY3JldHMocm9vdCwgc2VjcmV0c01hcCkge1xuXHRjb25zdCByZXN1bHQgPSBzaGFsbG93Q29weShyb290KTtcblx0Zm9yIChjb25zdCBbcGF0aCwgc2VjcmV0SWRdIG9mIE9iamVjdC5lbnRyaWVzKHNlY3JldHNNYXApKSB7XG5cdFx0Y29uc3QgW2xhc3QsIC4uLnBhcnRzUmV2ZXJzZV0gPSBwYXRoLnNwbGl0KFwiLlwiKS5yZXZlcnNlKCk7XG5cdFx0bGV0IGN1cnJlbnQgPSByZXN1bHQ7XG5cdFx0Zm9yIChjb25zdCBwYXJ0IG9mIHBhcnRzUmV2ZXJzZS5yZXZlcnNlKCkpIHtcblx0XHRcdGlmIChjdXJyZW50W3BhcnRdID09PSB2b2lkIDApIGJyZWFrO1xuXHRcdFx0Y3VycmVudFtwYXJ0XSA9IHNoYWxsb3dDb3B5KGN1cnJlbnRbcGFydF0pO1xuXHRcdFx0Y3VycmVudCA9IGN1cnJlbnRbcGFydF07XG5cdFx0fVxuXHRcdGlmIChjdXJyZW50W2xhc3RdICE9PSB2b2lkIDApIGN1cnJlbnRbbGFzdF0gPSB7XG5cdFx0XHRsYzogMSxcblx0XHRcdHR5cGU6IFwic2VjcmV0XCIsXG5cdFx0XHRpZDogW3NlY3JldElkXVxuXHRcdH07XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuKiBHZXQgYSB1bmlxdWUgbmFtZSBmb3IgdGhlIG1vZHVsZSwgcmF0aGVyIHRoYW4gcGFyZW50IGNsYXNzIGltcGxlbWVudGF0aW9ucy5cbiogU2hvdWxkIG5vdCBiZSBzdWJjbGFzc2VkLCBzdWJjbGFzcyBsY19uYW1lIGFib3ZlIGluc3RlYWQuXG4qL1xuZnVuY3Rpb24gZ2V0X2xjX3VuaXF1ZV9uYW1lKHNlcmlhbGl6YWJsZUNsYXNzKSB7XG5cdGNvbnN0IHBhcmVudENsYXNzID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHNlcmlhbGl6YWJsZUNsYXNzKTtcblx0Y29uc3QgbGNOYW1lSXNTdWJjbGFzc2VkID0gdHlwZW9mIHNlcmlhbGl6YWJsZUNsYXNzLmxjX25hbWUgPT09IFwiZnVuY3Rpb25cIiAmJiAodHlwZW9mIHBhcmVudENsYXNzLmxjX25hbWUgIT09IFwiZnVuY3Rpb25cIiB8fCBzZXJpYWxpemFibGVDbGFzcy5sY19uYW1lKCkgIT09IHBhcmVudENsYXNzLmxjX25hbWUoKSk7XG5cdGlmIChsY05hbWVJc1N1YmNsYXNzZWQpIHJldHVybiBzZXJpYWxpemFibGVDbGFzcy5sY19uYW1lKCk7XG5cdGVsc2UgcmV0dXJuIHNlcmlhbGl6YWJsZUNsYXNzLm5hbWU7XG59XG52YXIgU2VyaWFsaXphYmxlID0gY2xhc3MgU2VyaWFsaXphYmxlIHtcblx0bGNfc2VyaWFsaXphYmxlID0gZmFsc2U7XG5cdGxjX2t3YXJncztcblx0LyoqXG5cdCogVGhlIG5hbWUgb2YgdGhlIHNlcmlhbGl6YWJsZS4gT3ZlcnJpZGUgdG8gcHJvdmlkZSBhbiBhbGlhcyBvclxuXHQqIHRvIHByZXNlcnZlIHRoZSBzZXJpYWxpemVkIG1vZHVsZSBuYW1lIGluIG1pbmlmaWVkIGVudmlyb25tZW50cy5cblx0KlxuXHQqIEltcGxlbWVudGVkIGFzIGEgc3RhdGljIG1ldGhvZCB0byBzdXBwb3J0IGxvYWRpbmcgbG9naWMuXG5cdCovXG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiB0aGlzLm5hbWU7XG5cdH1cblx0LyoqXG5cdCogVGhlIGZpbmFsIHNlcmlhbGl6ZWQgaWRlbnRpZmllciBmb3IgdGhlIG1vZHVsZS5cblx0Ki9cblx0Z2V0IGxjX2lkKCkge1xuXHRcdHJldHVybiBbLi4udGhpcy5sY19uYW1lc3BhY2UsIGdldF9sY191bmlxdWVfbmFtZSh0aGlzLmNvbnN0cnVjdG9yKV07XG5cdH1cblx0LyoqXG5cdCogQSBtYXAgb2Ygc2VjcmV0cywgd2hpY2ggd2lsbCBiZSBvbWl0dGVkIGZyb20gc2VyaWFsaXphdGlvbi5cblx0KiBLZXlzIGFyZSBwYXRocyB0byB0aGUgc2VjcmV0IGluIGNvbnN0cnVjdG9yIGFyZ3MsIGUuZy4gXCJmb28uYmFyLmJhelwiLlxuXHQqIFZhbHVlcyBhcmUgdGhlIHNlY3JldCBpZHMsIHdoaWNoIHdpbGwgYmUgdXNlZCB3aGVuIGRlc2VyaWFsaXppbmcuXG5cdCovXG5cdGdldCBsY19zZWNyZXRzKCkge1xuXHRcdHJldHVybiB2b2lkIDA7XG5cdH1cblx0LyoqXG5cdCogQSBtYXAgb2YgYWRkaXRpb25hbCBhdHRyaWJ1dGVzIHRvIG1lcmdlIHdpdGggY29uc3RydWN0b3IgYXJncy5cblx0KiBLZXlzIGFyZSB0aGUgYXR0cmlidXRlIG5hbWVzLCBlLmcuIFwiZm9vXCIuXG5cdCogVmFsdWVzIGFyZSB0aGUgYXR0cmlidXRlIHZhbHVlcywgd2hpY2ggd2lsbCBiZSBzZXJpYWxpemVkLlxuXHQqIFRoZXNlIGF0dHJpYnV0ZXMgbmVlZCB0byBiZSBhY2NlcHRlZCBieSB0aGUgY29uc3RydWN0b3IgYXMgYXJndW1lbnRzLlxuXHQqL1xuXHRnZXQgbGNfYXR0cmlidXRlcygpIHtcblx0XHRyZXR1cm4gdm9pZCAwO1xuXHR9XG5cdC8qKlxuXHQqIEEgbWFwIG9mIGFsaWFzZXMgZm9yIGNvbnN0cnVjdG9yIGFyZ3MuXG5cdCogS2V5cyBhcmUgdGhlIGF0dHJpYnV0ZSBuYW1lcywgZS5nLiBcImZvb1wiLlxuXHQqIFZhbHVlcyBhcmUgdGhlIGFsaWFzIHRoYXQgd2lsbCByZXBsYWNlIHRoZSBrZXkgaW4gc2VyaWFsaXphdGlvbi5cblx0KiBUaGlzIGlzIHVzZWQgdG8gZWcuIG1ha2UgYXJndW1lbnQgbmFtZXMgbWF0Y2ggUHl0aG9uLlxuXHQqL1xuXHRnZXQgbGNfYWxpYXNlcygpIHtcblx0XHRyZXR1cm4gdm9pZCAwO1xuXHR9XG5cdC8qKlxuXHQqIEEgbWFudWFsIGxpc3Qgb2Yga2V5cyB0aGF0IHNob3VsZCBiZSBzZXJpYWxpemVkLlxuXHQqIElmIG5vdCBvdmVycmlkZGVuLCBhbGwgZmllbGRzIHBhc3NlZCBpbnRvIHRoZSBjb25zdHJ1Y3RvciB3aWxsIGJlIHNlcmlhbGl6ZWQuXG5cdCovXG5cdGdldCBsY19zZXJpYWxpemFibGVfa2V5cygpIHtcblx0XHRyZXR1cm4gdm9pZCAwO1xuXHR9XG5cdGNvbnN0cnVjdG9yKGt3YXJncywgLi4uX2FyZ3MpIHtcblx0XHRpZiAodGhpcy5sY19zZXJpYWxpemFibGVfa2V5cyAhPT0gdm9pZCAwKSB0aGlzLmxjX2t3YXJncyA9IE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyhrd2FyZ3MgfHwge30pLmZpbHRlcigoW2tleV0pID0+IHRoaXMubGNfc2VyaWFsaXphYmxlX2tleXM/LmluY2x1ZGVzKGtleSkpKTtcblx0XHRlbHNlIHRoaXMubGNfa3dhcmdzID0ga3dhcmdzID8/IHt9O1xuXHR9XG5cdHRvSlNPTigpIHtcblx0XHRpZiAoIXRoaXMubGNfc2VyaWFsaXphYmxlKSByZXR1cm4gdGhpcy50b0pTT05Ob3RJbXBsZW1lbnRlZCgpO1xuXHRcdGlmICh0aGlzLmxjX2t3YXJncyBpbnN0YW5jZW9mIFNlcmlhbGl6YWJsZSB8fCB0eXBlb2YgdGhpcy5sY19rd2FyZ3MgIT09IFwib2JqZWN0XCIgfHwgQXJyYXkuaXNBcnJheSh0aGlzLmxjX2t3YXJncykpIHJldHVybiB0aGlzLnRvSlNPTk5vdEltcGxlbWVudGVkKCk7XG5cdFx0Y29uc3QgYWxpYXNlcyA9IHt9O1xuXHRcdGNvbnN0IHNlY3JldHMgPSB7fTtcblx0XHRjb25zdCBrd2FyZ3MgPSBPYmplY3Qua2V5cyh0aGlzLmxjX2t3YXJncykucmVkdWNlKChhY2MsIGtleSkgPT4ge1xuXHRcdFx0YWNjW2tleV0gPSBrZXkgaW4gdGhpcyA/IHRoaXNba2V5XSA6IHRoaXMubGNfa3dhcmdzW2tleV07XG5cdFx0XHRyZXR1cm4gYWNjO1xuXHRcdH0sIHt9KTtcblx0XHRmb3IgKGxldCBjdXJyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpOyBjdXJyZW50OyBjdXJyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGN1cnJlbnQpKSB7XG5cdFx0XHRPYmplY3QuYXNzaWduKGFsaWFzZXMsIFJlZmxlY3QuZ2V0KGN1cnJlbnQsIFwibGNfYWxpYXNlc1wiLCB0aGlzKSk7XG5cdFx0XHRPYmplY3QuYXNzaWduKHNlY3JldHMsIFJlZmxlY3QuZ2V0KGN1cnJlbnQsIFwibGNfc2VjcmV0c1wiLCB0aGlzKSk7XG5cdFx0XHRPYmplY3QuYXNzaWduKGt3YXJncywgUmVmbGVjdC5nZXQoY3VycmVudCwgXCJsY19hdHRyaWJ1dGVzXCIsIHRoaXMpKTtcblx0XHR9XG5cdFx0T2JqZWN0LmtleXMoc2VjcmV0cykuZm9yRWFjaCgoa2V5UGF0aCkgPT4ge1xuXHRcdFx0bGV0IHJlYWQgPSB0aGlzO1xuXHRcdFx0bGV0IHdyaXRlID0ga3dhcmdzO1xuXHRcdFx0Y29uc3QgW2xhc3QsIC4uLnBhcnRzUmV2ZXJzZV0gPSBrZXlQYXRoLnNwbGl0KFwiLlwiKS5yZXZlcnNlKCk7XG5cdFx0XHRmb3IgKGNvbnN0IGtleSBvZiBwYXJ0c1JldmVyc2UucmV2ZXJzZSgpKSB7XG5cdFx0XHRcdGlmICghKGtleSBpbiByZWFkKSB8fCByZWFkW2tleV0gPT09IHZvaWQgMCkgcmV0dXJuO1xuXHRcdFx0XHRpZiAoIShrZXkgaW4gd3JpdGUpIHx8IHdyaXRlW2tleV0gPT09IHZvaWQgMCkge1xuXHRcdFx0XHRcdGlmICh0eXBlb2YgcmVhZFtrZXldID09PSBcIm9iamVjdFwiICYmIHJlYWRba2V5XSAhPSBudWxsKSB3cml0ZVtrZXldID0ge307XG5cdFx0XHRcdFx0ZWxzZSBpZiAoQXJyYXkuaXNBcnJheShyZWFkW2tleV0pKSB3cml0ZVtrZXldID0gW107XG5cdFx0XHRcdH1cblx0XHRcdFx0cmVhZCA9IHJlYWRba2V5XTtcblx0XHRcdFx0d3JpdGUgPSB3cml0ZVtrZXldO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGxhc3QgaW4gcmVhZCAmJiByZWFkW2xhc3RdICE9PSB2b2lkIDApIHdyaXRlW2xhc3RdID0gd3JpdGVbbGFzdF0gfHwgcmVhZFtsYXN0XTtcblx0XHR9KTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0bGM6IDEsXG5cdFx0XHR0eXBlOiBcImNvbnN0cnVjdG9yXCIsXG5cdFx0XHRpZDogdGhpcy5sY19pZCxcblx0XHRcdGt3YXJnczogbWFwS2V5cyhPYmplY3Qua2V5cyhzZWNyZXRzKS5sZW5ndGggPyByZXBsYWNlU2VjcmV0cyhrd2FyZ3MsIHNlY3JldHMpIDoga3dhcmdzLCBrZXlUb0pzb24sIGFsaWFzZXMpXG5cdFx0fTtcblx0fVxuXHR0b0pTT05Ob3RJbXBsZW1lbnRlZCgpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0bGM6IDEsXG5cdFx0XHR0eXBlOiBcIm5vdF9pbXBsZW1lbnRlZFwiLFxuXHRcdFx0aWQ6IHRoaXMubGNfaWRcblx0XHR9O1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IFNlcmlhbGl6YWJsZSwgZ2V0X2xjX3VuaXF1ZV9uYW1lLCBzZXJpYWxpemFibGVfZXhwb3J0cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VyaWFsaXphYmxlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/load/serializable.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/memory.js":
/*!**********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/memory.js ***!
  \**********************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseMemory: () => (/* binding */ BaseMemory),\n/* harmony export */   getInputValue: () => (/* binding */ getInputValue),\n/* harmony export */   getOutputValue: () => (/* binding */ getOutputValue),\n/* harmony export */   getPromptInputKey: () => (/* binding */ getPromptInputKey),\n/* harmony export */   memory_exports: () => (/* binding */ memory_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n\n\n//#region src/memory.ts\nvar memory_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(memory_exports, {\n\tBaseMemory: () => BaseMemory,\n\tgetInputValue: () => getInputValue,\n\tgetOutputValue: () => getOutputValue,\n\tgetPromptInputKey: () => getPromptInputKey\n});\n/**\n* Abstract base class for memory in LangChain's Chains. Memory refers to\n* the state in Chains. It can be used to store information about past\n* executions of a Chain and inject that information into the inputs of\n* future executions of the Chain.\n*/\nvar BaseMemory = class {};\nconst getValue = (values, key) => {\n\tif (key !== void 0) return values[key];\n\tconst keys = Object.keys(values);\n\tif (keys.length === 1) return values[keys[0]];\n};\n/**\n* This function is used by memory classes to select the input value\n* to use for the memory. If there is only one input value, it is used.\n* If there are multiple input values, the inputKey must be specified.\n*/\nconst getInputValue = (inputValues, inputKey) => {\n\tconst value = getValue(inputValues, inputKey);\n\tif (!value) {\n\t\tconst keys = Object.keys(inputValues);\n\t\tthrow new Error(`input values have ${keys.length} keys, you must specify an input key or pass only 1 key as input`);\n\t}\n\treturn value;\n};\n/**\n* This function is used by memory classes to select the output value\n* to use for the memory. If there is only one output value, it is used.\n* If there are multiple output values, the outputKey must be specified.\n* If no outputKey is specified, an error is thrown.\n*/\nconst getOutputValue = (outputValues, outputKey) => {\n\tconst value = getValue(outputValues, outputKey);\n\tif (!value && value !== \"\") {\n\t\tconst keys = Object.keys(outputValues);\n\t\tthrow new Error(`output values have ${keys.length} keys, you must specify an output key or pass only 1 key as output`);\n\t}\n\treturn value;\n};\n/**\n* Function used by memory classes to get the key of the prompt input,\n* excluding any keys that are memory variables or the \"stop\" key. If\n* there is not exactly one prompt input key, an error is thrown.\n*/\nfunction getPromptInputKey(inputs, memoryVariables) {\n\tconst promptInputKeys = Object.keys(inputs).filter((key) => !memoryVariables.includes(key) && key !== \"stop\");\n\tif (promptInputKeys.length !== 1) throw new Error(`One input key expected, but got ${promptInputKeys.length}`);\n\treturn promptInputKeys[0];\n}\n\n//#endregion\n\n//# sourceMappingURL=memory.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZW1vcnkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTBEOztBQUUxRDtBQUNBO0FBQ0Esc0VBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsYUFBYTtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxhQUFhO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0ZBQXNGLHVCQUF1QjtBQUM3RztBQUNBOztBQUVBO0FBQ3dGO0FBQ3hGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZW1vcnkuanM/YzRkNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2V4cG9ydCB9IGZyb20gXCIuL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9tZW1vcnkudHNcbnZhciBtZW1vcnlfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQobWVtb3J5X2V4cG9ydHMsIHtcblx0QmFzZU1lbW9yeTogKCkgPT4gQmFzZU1lbW9yeSxcblx0Z2V0SW5wdXRWYWx1ZTogKCkgPT4gZ2V0SW5wdXRWYWx1ZSxcblx0Z2V0T3V0cHV0VmFsdWU6ICgpID0+IGdldE91dHB1dFZhbHVlLFxuXHRnZXRQcm9tcHRJbnB1dEtleTogKCkgPT4gZ2V0UHJvbXB0SW5wdXRLZXlcbn0pO1xuLyoqXG4qIEFic3RyYWN0IGJhc2UgY2xhc3MgZm9yIG1lbW9yeSBpbiBMYW5nQ2hhaW4ncyBDaGFpbnMuIE1lbW9yeSByZWZlcnMgdG9cbiogdGhlIHN0YXRlIGluIENoYWlucy4gSXQgY2FuIGJlIHVzZWQgdG8gc3RvcmUgaW5mb3JtYXRpb24gYWJvdXQgcGFzdFxuKiBleGVjdXRpb25zIG9mIGEgQ2hhaW4gYW5kIGluamVjdCB0aGF0IGluZm9ybWF0aW9uIGludG8gdGhlIGlucHV0cyBvZlxuKiBmdXR1cmUgZXhlY3V0aW9ucyBvZiB0aGUgQ2hhaW4uXG4qL1xudmFyIEJhc2VNZW1vcnkgPSBjbGFzcyB7fTtcbmNvbnN0IGdldFZhbHVlID0gKHZhbHVlcywga2V5KSA9PiB7XG5cdGlmIChrZXkgIT09IHZvaWQgMCkgcmV0dXJuIHZhbHVlc1trZXldO1xuXHRjb25zdCBrZXlzID0gT2JqZWN0LmtleXModmFsdWVzKTtcblx0aWYgKGtleXMubGVuZ3RoID09PSAxKSByZXR1cm4gdmFsdWVzW2tleXNbMF1dO1xufTtcbi8qKlxuKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgYnkgbWVtb3J5IGNsYXNzZXMgdG8gc2VsZWN0IHRoZSBpbnB1dCB2YWx1ZVxuKiB0byB1c2UgZm9yIHRoZSBtZW1vcnkuIElmIHRoZXJlIGlzIG9ubHkgb25lIGlucHV0IHZhbHVlLCBpdCBpcyB1c2VkLlxuKiBJZiB0aGVyZSBhcmUgbXVsdGlwbGUgaW5wdXQgdmFsdWVzLCB0aGUgaW5wdXRLZXkgbXVzdCBiZSBzcGVjaWZpZWQuXG4qL1xuY29uc3QgZ2V0SW5wdXRWYWx1ZSA9IChpbnB1dFZhbHVlcywgaW5wdXRLZXkpID0+IHtcblx0Y29uc3QgdmFsdWUgPSBnZXRWYWx1ZShpbnB1dFZhbHVlcywgaW5wdXRLZXkpO1xuXHRpZiAoIXZhbHVlKSB7XG5cdFx0Y29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGlucHV0VmFsdWVzKTtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGlucHV0IHZhbHVlcyBoYXZlICR7a2V5cy5sZW5ndGh9IGtleXMsIHlvdSBtdXN0IHNwZWNpZnkgYW4gaW5wdXQga2V5IG9yIHBhc3Mgb25seSAxIGtleSBhcyBpbnB1dGApO1xuXHR9XG5cdHJldHVybiB2YWx1ZTtcbn07XG4vKipcbiogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIGJ5IG1lbW9yeSBjbGFzc2VzIHRvIHNlbGVjdCB0aGUgb3V0cHV0IHZhbHVlXG4qIHRvIHVzZSBmb3IgdGhlIG1lbW9yeS4gSWYgdGhlcmUgaXMgb25seSBvbmUgb3V0cHV0IHZhbHVlLCBpdCBpcyB1c2VkLlxuKiBJZiB0aGVyZSBhcmUgbXVsdGlwbGUgb3V0cHV0IHZhbHVlcywgdGhlIG91dHB1dEtleSBtdXN0IGJlIHNwZWNpZmllZC5cbiogSWYgbm8gb3V0cHV0S2V5IGlzIHNwZWNpZmllZCwgYW4gZXJyb3IgaXMgdGhyb3duLlxuKi9cbmNvbnN0IGdldE91dHB1dFZhbHVlID0gKG91dHB1dFZhbHVlcywgb3V0cHV0S2V5KSA9PiB7XG5cdGNvbnN0IHZhbHVlID0gZ2V0VmFsdWUob3V0cHV0VmFsdWVzLCBvdXRwdXRLZXkpO1xuXHRpZiAoIXZhbHVlICYmIHZhbHVlICE9PSBcIlwiKSB7XG5cdFx0Y29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG91dHB1dFZhbHVlcyk7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBvdXRwdXQgdmFsdWVzIGhhdmUgJHtrZXlzLmxlbmd0aH0ga2V5cywgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQga2V5IG9yIHBhc3Mgb25seSAxIGtleSBhcyBvdXRwdXRgKTtcblx0fVxuXHRyZXR1cm4gdmFsdWU7XG59O1xuLyoqXG4qIEZ1bmN0aW9uIHVzZWQgYnkgbWVtb3J5IGNsYXNzZXMgdG8gZ2V0IHRoZSBrZXkgb2YgdGhlIHByb21wdCBpbnB1dCxcbiogZXhjbHVkaW5nIGFueSBrZXlzIHRoYXQgYXJlIG1lbW9yeSB2YXJpYWJsZXMgb3IgdGhlIFwic3RvcFwiIGtleS4gSWZcbiogdGhlcmUgaXMgbm90IGV4YWN0bHkgb25lIHByb21wdCBpbnB1dCBrZXksIGFuIGVycm9yIGlzIHRocm93bi5cbiovXG5mdW5jdGlvbiBnZXRQcm9tcHRJbnB1dEtleShpbnB1dHMsIG1lbW9yeVZhcmlhYmxlcykge1xuXHRjb25zdCBwcm9tcHRJbnB1dEtleXMgPSBPYmplY3Qua2V5cyhpbnB1dHMpLmZpbHRlcigoa2V5KSA9PiAhbWVtb3J5VmFyaWFibGVzLmluY2x1ZGVzKGtleSkgJiYga2V5ICE9PSBcInN0b3BcIik7XG5cdGlmIChwcm9tcHRJbnB1dEtleXMubGVuZ3RoICE9PSAxKSB0aHJvdyBuZXcgRXJyb3IoYE9uZSBpbnB1dCBrZXkgZXhwZWN0ZWQsIGJ1dCBnb3QgJHtwcm9tcHRJbnB1dEtleXMubGVuZ3RofWApO1xuXHRyZXR1cm4gcHJvbXB0SW5wdXRLZXlzWzBdO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEJhc2VNZW1vcnksIGdldElucHV0VmFsdWUsIGdldE91dHB1dFZhbHVlLCBnZXRQcm9tcHRJbnB1dEtleSwgbWVtb3J5X2V4cG9ydHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lbW9yeS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/memory.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/ai.js":
/*!***************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/ai.js ***!
  \***************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AIMessage: () => (/* binding */ AIMessage),\n/* harmony export */   AIMessageChunk: () => (/* binding */ AIMessageChunk),\n/* harmony export */   isAIMessage: () => (/* binding */ isAIMessage),\n/* harmony export */   isAIMessageChunk: () => (/* binding */ isAIMessageChunk)\n/* harmony export */ });\n/* harmony import */ var _utils_json_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/json.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/json.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/base.js\");\n/* harmony import */ var _block_translators_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./block_translators/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/index.js\");\n/* harmony import */ var _metadata_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./metadata.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/metadata.js\");\n/* harmony import */ var _tool_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./tool.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/tool.js\");\n\n\n\n\n\n\n//#region src/messages/ai.ts\nvar AIMessage = class extends _base_js__WEBPACK_IMPORTED_MODULE_1__.BaseMessage {\n\ttype = \"ai\";\n\ttool_calls = [];\n\tinvalid_tool_calls = [];\n\tusage_metadata;\n\tget lc_aliases() {\n\t\treturn {\n\t\t\t...super.lc_aliases,\n\t\t\ttool_calls: \"tool_calls\",\n\t\t\tinvalid_tool_calls: \"invalid_tool_calls\"\n\t\t};\n\t}\n\tconstructor(fields) {\n\t\tlet initParams;\n\t\tif (typeof fields === \"string\" || Array.isArray(fields)) initParams = {\n\t\t\tcontent: fields,\n\t\t\ttool_calls: [],\n\t\t\tinvalid_tool_calls: [],\n\t\t\tadditional_kwargs: {}\n\t\t};\n\t\telse {\n\t\t\tinitParams = fields;\n\t\t\tconst rawToolCalls = initParams.additional_kwargs?.tool_calls;\n\t\t\tconst toolCalls = initParams.tool_calls;\n\t\t\tif (!(rawToolCalls == null) && rawToolCalls.length > 0 && (toolCalls === void 0 || toolCalls.length === 0)) console.warn([\n\t\t\t\t\"New LangChain packages are available that more efficiently handle\",\n\t\t\t\t\"tool calling.\\n\\nPlease upgrade your packages to versions that set\",\n\t\t\t\t\"message tool calls. e.g., `pnpm install @langchain/anthropic`,\",\n\t\t\t\t\"pnpm install @langchain/openai`, etc.\"\n\t\t\t].join(\" \"));\n\t\t\ttry {\n\t\t\t\tif (!(rawToolCalls == null) && toolCalls === void 0) {\n\t\t\t\t\tconst [toolCalls$1, invalidToolCalls] = (0,_tool_js__WEBPACK_IMPORTED_MODULE_4__.defaultToolCallParser)(rawToolCalls);\n\t\t\t\t\tinitParams.tool_calls = toolCalls$1 ?? [];\n\t\t\t\t\tinitParams.invalid_tool_calls = invalidToolCalls ?? [];\n\t\t\t\t} else {\n\t\t\t\t\tinitParams.tool_calls = initParams.tool_calls ?? [];\n\t\t\t\t\tinitParams.invalid_tool_calls = initParams.invalid_tool_calls ?? [];\n\t\t\t\t}\n\t\t\t} catch {\n\t\t\t\tinitParams.tool_calls = [];\n\t\t\t\tinitParams.invalid_tool_calls = [];\n\t\t\t}\n\t\t\tif (initParams.response_metadata !== void 0 && \"output_version\" in initParams.response_metadata && initParams.response_metadata.output_version === \"v1\") {\n\t\t\t\tinitParams.contentBlocks = initParams.content;\n\t\t\t\tinitParams.content = void 0;\n\t\t\t}\n\t\t\tif (initParams.contentBlocks !== void 0) {\n\t\t\t\tinitParams.contentBlocks.push(...initParams.tool_calls.map((toolCall) => ({\n\t\t\t\t\ttype: \"tool_call\",\n\t\t\t\t\tid: toolCall.id,\n\t\t\t\t\tname: toolCall.name,\n\t\t\t\t\targs: toolCall.args\n\t\t\t\t})));\n\t\t\t\tconst missingToolCalls = initParams.contentBlocks.filter((block) => block.type === \"tool_call\").filter((block) => !initParams.tool_calls?.some((toolCall) => toolCall.id === block.id && toolCall.name === block.name));\n\t\t\t\tif (missingToolCalls.length > 0) initParams.tool_calls = missingToolCalls.map((block) => ({\n\t\t\t\t\ttype: \"tool_call\",\n\t\t\t\t\tid: block.id,\n\t\t\t\t\tname: block.name,\n\t\t\t\t\targs: block.args\n\t\t\t\t}));\n\t\t\t}\n\t\t}\n\t\tsuper(initParams);\n\t\tif (typeof initParams !== \"string\") {\n\t\t\tthis.tool_calls = initParams.tool_calls ?? this.tool_calls;\n\t\t\tthis.invalid_tool_calls = initParams.invalid_tool_calls ?? this.invalid_tool_calls;\n\t\t}\n\t\tthis.usage_metadata = initParams.usage_metadata;\n\t}\n\tstatic lc_name() {\n\t\treturn \"AIMessage\";\n\t}\n\tget contentBlocks() {\n\t\tif (this.response_metadata && \"output_version\" in this.response_metadata && this.response_metadata.output_version === \"v1\") return this.content;\n\t\tif (this.response_metadata && \"model_provider\" in this.response_metadata && typeof this.response_metadata.model_provider === \"string\") {\n\t\t\tconst translator = (0,_block_translators_index_js__WEBPACK_IMPORTED_MODULE_2__.getTranslator)(this.response_metadata.model_provider);\n\t\t\tif (translator) return translator.translateContent(this);\n\t\t}\n\t\tconst blocks = super.contentBlocks;\n\t\tif (this.tool_calls) {\n\t\t\tconst missingToolCalls = this.tool_calls.filter((block) => !blocks.some((b) => b.id === block.id && b.name === block.name));\n\t\t\tblocks.push(...missingToolCalls.map((block) => ({\n\t\t\t\t...block,\n\t\t\t\ttype: \"tool_call\",\n\t\t\t\tid: block.id,\n\t\t\t\tname: block.name,\n\t\t\t\targs: block.args\n\t\t\t})));\n\t\t}\n\t\treturn blocks;\n\t}\n\tget _printableFields() {\n\t\treturn {\n\t\t\t...super._printableFields,\n\t\t\ttool_calls: this.tool_calls,\n\t\t\tinvalid_tool_calls: this.invalid_tool_calls,\n\t\t\tusage_metadata: this.usage_metadata\n\t\t};\n\t}\n\tstatic isInstance(obj) {\n\t\treturn super.isInstance(obj) && obj.type === \"ai\";\n\t}\n};\n/**\n* @deprecated Use {@link AIMessage.isInstance} instead\n*/\nfunction isAIMessage(x) {\n\treturn x._getType() === \"ai\";\n}\n/**\n* @deprecated Use {@link AIMessageChunk.isInstance} instead\n*/\nfunction isAIMessageChunk(x) {\n\treturn x._getType() === \"ai\";\n}\n/**\n* Represents a chunk of an AI message, which can be concatenated with\n* other AI message chunks.\n*/\nvar AIMessageChunk = class extends _base_js__WEBPACK_IMPORTED_MODULE_1__.BaseMessageChunk {\n\ttype = \"ai\";\n\ttool_calls = [];\n\tinvalid_tool_calls = [];\n\ttool_call_chunks = [];\n\tusage_metadata;\n\tconstructor(fields) {\n\t\tlet initParams;\n\t\tif (typeof fields === \"string\" || Array.isArray(fields)) initParams = {\n\t\t\tcontent: fields,\n\t\t\ttool_calls: [],\n\t\t\tinvalid_tool_calls: [],\n\t\t\ttool_call_chunks: []\n\t\t};\n\t\telse if (fields.tool_call_chunks === void 0) initParams = {\n\t\t\t...fields,\n\t\t\ttool_calls: fields.tool_calls ?? [],\n\t\t\tinvalid_tool_calls: [],\n\t\t\ttool_call_chunks: [],\n\t\t\tusage_metadata: fields.usage_metadata !== void 0 ? fields.usage_metadata : void 0\n\t\t};\n\t\telse {\n\t\t\tconst groupedToolCallChunks = fields.tool_call_chunks.reduce((acc, chunk) => {\n\t\t\t\tconst matchedChunkIndex = acc.findIndex(([match]) => {\n\t\t\t\t\tif (\"id\" in chunk && chunk.id && \"index\" in chunk && chunk.index !== void 0) return chunk.id === match.id && chunk.index === match.index;\n\t\t\t\t\tif (\"id\" in chunk && chunk.id) return chunk.id === match.id;\n\t\t\t\t\tif (\"index\" in chunk && chunk.index !== void 0) return chunk.index === match.index;\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t\tif (matchedChunkIndex !== -1) acc[matchedChunkIndex].push(chunk);\n\t\t\t\telse acc.push([chunk]);\n\t\t\t\treturn acc;\n\t\t\t}, []);\n\t\t\tconst toolCalls = [];\n\t\t\tconst invalidToolCalls = [];\n\t\t\tfor (const chunks of groupedToolCallChunks) {\n\t\t\t\tlet parsedArgs = null;\n\t\t\t\tconst name = chunks[0]?.name ?? \"\";\n\t\t\t\tconst joinedArgs = chunks.map((c) => c.args || \"\").join(\"\");\n\t\t\t\tconst argsStr = joinedArgs.length ? joinedArgs : \"{}\";\n\t\t\t\tconst id = chunks[0]?.id;\n\t\t\t\ttry {\n\t\t\t\t\tparsedArgs = (0,_utils_json_js__WEBPACK_IMPORTED_MODULE_0__.parsePartialJson)(argsStr);\n\t\t\t\t\tif (!id || parsedArgs === null || typeof parsedArgs !== \"object\" || Array.isArray(parsedArgs)) throw new Error(\"Malformed tool call chunk args.\");\n\t\t\t\t\ttoolCalls.push({\n\t\t\t\t\t\tname,\n\t\t\t\t\t\targs: parsedArgs,\n\t\t\t\t\t\tid,\n\t\t\t\t\t\ttype: \"tool_call\"\n\t\t\t\t\t});\n\t\t\t\t} catch {\n\t\t\t\t\tinvalidToolCalls.push({\n\t\t\t\t\t\tname,\n\t\t\t\t\t\targs: argsStr,\n\t\t\t\t\t\tid,\n\t\t\t\t\t\terror: \"Malformed args.\",\n\t\t\t\t\t\ttype: \"invalid_tool_call\"\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tinitParams = {\n\t\t\t\t...fields,\n\t\t\t\ttool_calls: toolCalls,\n\t\t\t\tinvalid_tool_calls: invalidToolCalls,\n\t\t\t\tusage_metadata: fields.usage_metadata !== void 0 ? fields.usage_metadata : void 0\n\t\t\t};\n\t\t}\n\t\tsuper(initParams);\n\t\tthis.tool_call_chunks = initParams.tool_call_chunks ?? this.tool_call_chunks;\n\t\tthis.tool_calls = initParams.tool_calls ?? this.tool_calls;\n\t\tthis.invalid_tool_calls = initParams.invalid_tool_calls ?? this.invalid_tool_calls;\n\t\tthis.usage_metadata = initParams.usage_metadata;\n\t}\n\tget lc_aliases() {\n\t\treturn {\n\t\t\t...super.lc_aliases,\n\t\t\ttool_calls: \"tool_calls\",\n\t\t\tinvalid_tool_calls: \"invalid_tool_calls\",\n\t\t\ttool_call_chunks: \"tool_call_chunks\"\n\t\t};\n\t}\n\tstatic lc_name() {\n\t\treturn \"AIMessageChunk\";\n\t}\n\tget contentBlocks() {\n\t\tif (this.response_metadata && \"output_version\" in this.response_metadata && this.response_metadata.output_version === \"v1\") return this.content;\n\t\tif (this.response_metadata && \"model_provider\" in this.response_metadata && typeof this.response_metadata.model_provider === \"string\") {\n\t\t\tconst translator = (0,_block_translators_index_js__WEBPACK_IMPORTED_MODULE_2__.getTranslator)(this.response_metadata.model_provider);\n\t\t\tif (translator) return translator.translateContent(this);\n\t\t}\n\t\tconst blocks = super.contentBlocks;\n\t\tif (this.tool_calls) {\n\t\t\tif (typeof this.content !== \"string\") {\n\t\t\t\tconst contentToolCalls = this.content.filter((block) => block.type === \"tool_call\").map((block) => block.id);\n\t\t\t\tfor (const toolCall of this.tool_calls) if (toolCall.id && !contentToolCalls.includes(toolCall.id)) blocks.push({\n\t\t\t\t\t...toolCall,\n\t\t\t\t\ttype: \"tool_call\",\n\t\t\t\t\tid: toolCall.id,\n\t\t\t\t\tname: toolCall.name,\n\t\t\t\t\targs: toolCall.args\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn blocks;\n\t}\n\tget _printableFields() {\n\t\treturn {\n\t\t\t...super._printableFields,\n\t\t\ttool_calls: this.tool_calls,\n\t\t\ttool_call_chunks: this.tool_call_chunks,\n\t\t\tinvalid_tool_calls: this.invalid_tool_calls,\n\t\t\tusage_metadata: this.usage_metadata\n\t\t};\n\t}\n\tconcat(chunk) {\n\t\tconst combinedFields = {\n\t\t\tcontent: (0,_base_js__WEBPACK_IMPORTED_MODULE_1__.mergeContent)(this.content, chunk.content),\n\t\t\tadditional_kwargs: (0,_base_js__WEBPACK_IMPORTED_MODULE_1__._mergeDicts)(this.additional_kwargs, chunk.additional_kwargs),\n\t\t\tresponse_metadata: (0,_metadata_js__WEBPACK_IMPORTED_MODULE_3__.mergeResponseMetadata)(this.response_metadata, chunk.response_metadata),\n\t\t\ttool_call_chunks: [],\n\t\t\tid: this.id ?? chunk.id\n\t\t};\n\t\tif (this.tool_call_chunks !== void 0 || chunk.tool_call_chunks !== void 0) {\n\t\t\tconst rawToolCalls = (0,_base_js__WEBPACK_IMPORTED_MODULE_1__._mergeLists)(this.tool_call_chunks, chunk.tool_call_chunks);\n\t\t\tif (rawToolCalls !== void 0 && rawToolCalls.length > 0) combinedFields.tool_call_chunks = rawToolCalls;\n\t\t}\n\t\tif (this.usage_metadata !== void 0 || chunk.usage_metadata !== void 0) combinedFields.usage_metadata = (0,_metadata_js__WEBPACK_IMPORTED_MODULE_3__.mergeUsageMetadata)(this.usage_metadata, chunk.usage_metadata);\n\t\tconst Cls = this.constructor;\n\t\treturn new Cls(combinedFields);\n\t}\n\tstatic isInstance(obj) {\n\t\treturn super.isInstance(obj) && obj.type === \"ai\";\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=ai.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9haS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBb0Q7QUFDOEM7QUFDckM7QUFDYTtBQUN4Qjs7QUFFbEQ7QUFDQSw4QkFBOEIsaURBQVc7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsK0RBQXFCO0FBQ2xFO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsMEVBQWE7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw0QkFBNEI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixpQ0FBaUM7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxzREFBZ0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0Q7QUFDeEQ7QUFDQTtBQUNBLGtCQUFrQixnRUFBZ0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiwwRUFBYTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxzREFBWTtBQUN4QixzQkFBc0IscURBQVc7QUFDakMsc0JBQXNCLG1FQUFxQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixxREFBVztBQUNuQztBQUNBO0FBQ0EseUdBQXlHLGdFQUFrQjtBQUMzSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNvRTtBQUNwRSIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvbWVzc2FnZXMvYWkuanM/YWUyYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwYXJzZVBhcnRpYWxKc29uIH0gZnJvbSBcIi4uL3V0aWxzL2pzb24uanNcIjtcbmltcG9ydCB7IEJhc2VNZXNzYWdlLCBCYXNlTWVzc2FnZUNodW5rLCBfbWVyZ2VEaWN0cywgX21lcmdlTGlzdHMsIG1lcmdlQ29udGVudCB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCB7IGdldFRyYW5zbGF0b3IgfSBmcm9tIFwiLi9ibG9ja190cmFuc2xhdG9ycy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgbWVyZ2VSZXNwb25zZU1ldGFkYXRhLCBtZXJnZVVzYWdlTWV0YWRhdGEgfSBmcm9tIFwiLi9tZXRhZGF0YS5qc1wiO1xuaW1wb3J0IHsgZGVmYXVsdFRvb2xDYWxsUGFyc2VyIH0gZnJvbSBcIi4vdG9vbC5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL21lc3NhZ2VzL2FpLnRzXG52YXIgQUlNZXNzYWdlID0gY2xhc3MgZXh0ZW5kcyBCYXNlTWVzc2FnZSB7XG5cdHR5cGUgPSBcImFpXCI7XG5cdHRvb2xfY2FsbHMgPSBbXTtcblx0aW52YWxpZF90b29sX2NhbGxzID0gW107XG5cdHVzYWdlX21ldGFkYXRhO1xuXHRnZXQgbGNfYWxpYXNlcygpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Li4uc3VwZXIubGNfYWxpYXNlcyxcblx0XHRcdHRvb2xfY2FsbHM6IFwidG9vbF9jYWxsc1wiLFxuXHRcdFx0aW52YWxpZF90b29sX2NhbGxzOiBcImludmFsaWRfdG9vbF9jYWxsc1wiXG5cdFx0fTtcblx0fVxuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRsZXQgaW5pdFBhcmFtcztcblx0XHRpZiAodHlwZW9mIGZpZWxkcyA9PT0gXCJzdHJpbmdcIiB8fCBBcnJheS5pc0FycmF5KGZpZWxkcykpIGluaXRQYXJhbXMgPSB7XG5cdFx0XHRjb250ZW50OiBmaWVsZHMsXG5cdFx0XHR0b29sX2NhbGxzOiBbXSxcblx0XHRcdGludmFsaWRfdG9vbF9jYWxsczogW10sXG5cdFx0XHRhZGRpdGlvbmFsX2t3YXJnczoge31cblx0XHR9O1xuXHRcdGVsc2Uge1xuXHRcdFx0aW5pdFBhcmFtcyA9IGZpZWxkcztcblx0XHRcdGNvbnN0IHJhd1Rvb2xDYWxscyA9IGluaXRQYXJhbXMuYWRkaXRpb25hbF9rd2FyZ3M/LnRvb2xfY2FsbHM7XG5cdFx0XHRjb25zdCB0b29sQ2FsbHMgPSBpbml0UGFyYW1zLnRvb2xfY2FsbHM7XG5cdFx0XHRpZiAoIShyYXdUb29sQ2FsbHMgPT0gbnVsbCkgJiYgcmF3VG9vbENhbGxzLmxlbmd0aCA+IDAgJiYgKHRvb2xDYWxscyA9PT0gdm9pZCAwIHx8IHRvb2xDYWxscy5sZW5ndGggPT09IDApKSBjb25zb2xlLndhcm4oW1xuXHRcdFx0XHRcIk5ldyBMYW5nQ2hhaW4gcGFja2FnZXMgYXJlIGF2YWlsYWJsZSB0aGF0IG1vcmUgZWZmaWNpZW50bHkgaGFuZGxlXCIsXG5cdFx0XHRcdFwidG9vbCBjYWxsaW5nLlxcblxcblBsZWFzZSB1cGdyYWRlIHlvdXIgcGFja2FnZXMgdG8gdmVyc2lvbnMgdGhhdCBzZXRcIixcblx0XHRcdFx0XCJtZXNzYWdlIHRvb2wgY2FsbHMuIGUuZy4sIGBwbnBtIGluc3RhbGwgQGxhbmdjaGFpbi9hbnRocm9waWNgLFwiLFxuXHRcdFx0XHRcInBucG0gaW5zdGFsbCBAbGFuZ2NoYWluL29wZW5haWAsIGV0Yy5cIlxuXHRcdFx0XS5qb2luKFwiIFwiKSk7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRpZiAoIShyYXdUb29sQ2FsbHMgPT0gbnVsbCkgJiYgdG9vbENhbGxzID09PSB2b2lkIDApIHtcblx0XHRcdFx0XHRjb25zdCBbdG9vbENhbGxzJDEsIGludmFsaWRUb29sQ2FsbHNdID0gZGVmYXVsdFRvb2xDYWxsUGFyc2VyKHJhd1Rvb2xDYWxscyk7XG5cdFx0XHRcdFx0aW5pdFBhcmFtcy50b29sX2NhbGxzID0gdG9vbENhbGxzJDEgPz8gW107XG5cdFx0XHRcdFx0aW5pdFBhcmFtcy5pbnZhbGlkX3Rvb2xfY2FsbHMgPSBpbnZhbGlkVG9vbENhbGxzID8/IFtdO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGluaXRQYXJhbXMudG9vbF9jYWxscyA9IGluaXRQYXJhbXMudG9vbF9jYWxscyA/PyBbXTtcblx0XHRcdFx0XHRpbml0UGFyYW1zLmludmFsaWRfdG9vbF9jYWxscyA9IGluaXRQYXJhbXMuaW52YWxpZF90b29sX2NhbGxzID8/IFtdO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0aW5pdFBhcmFtcy50b29sX2NhbGxzID0gW107XG5cdFx0XHRcdGluaXRQYXJhbXMuaW52YWxpZF90b29sX2NhbGxzID0gW107XG5cdFx0XHR9XG5cdFx0XHRpZiAoaW5pdFBhcmFtcy5yZXNwb25zZV9tZXRhZGF0YSAhPT0gdm9pZCAwICYmIFwib3V0cHV0X3ZlcnNpb25cIiBpbiBpbml0UGFyYW1zLnJlc3BvbnNlX21ldGFkYXRhICYmIGluaXRQYXJhbXMucmVzcG9uc2VfbWV0YWRhdGEub3V0cHV0X3ZlcnNpb24gPT09IFwidjFcIikge1xuXHRcdFx0XHRpbml0UGFyYW1zLmNvbnRlbnRCbG9ja3MgPSBpbml0UGFyYW1zLmNvbnRlbnQ7XG5cdFx0XHRcdGluaXRQYXJhbXMuY29udGVudCA9IHZvaWQgMDtcblx0XHRcdH1cblx0XHRcdGlmIChpbml0UGFyYW1zLmNvbnRlbnRCbG9ja3MgIT09IHZvaWQgMCkge1xuXHRcdFx0XHRpbml0UGFyYW1zLmNvbnRlbnRCbG9ja3MucHVzaCguLi5pbml0UGFyYW1zLnRvb2xfY2FsbHMubWFwKCh0b29sQ2FsbCkgPT4gKHtcblx0XHRcdFx0XHR0eXBlOiBcInRvb2xfY2FsbFwiLFxuXHRcdFx0XHRcdGlkOiB0b29sQ2FsbC5pZCxcblx0XHRcdFx0XHRuYW1lOiB0b29sQ2FsbC5uYW1lLFxuXHRcdFx0XHRcdGFyZ3M6IHRvb2xDYWxsLmFyZ3Ncblx0XHRcdFx0fSkpKTtcblx0XHRcdFx0Y29uc3QgbWlzc2luZ1Rvb2xDYWxscyA9IGluaXRQYXJhbXMuY29udGVudEJsb2Nrcy5maWx0ZXIoKGJsb2NrKSA9PiBibG9jay50eXBlID09PSBcInRvb2xfY2FsbFwiKS5maWx0ZXIoKGJsb2NrKSA9PiAhaW5pdFBhcmFtcy50b29sX2NhbGxzPy5zb21lKCh0b29sQ2FsbCkgPT4gdG9vbENhbGwuaWQgPT09IGJsb2NrLmlkICYmIHRvb2xDYWxsLm5hbWUgPT09IGJsb2NrLm5hbWUpKTtcblx0XHRcdFx0aWYgKG1pc3NpbmdUb29sQ2FsbHMubGVuZ3RoID4gMCkgaW5pdFBhcmFtcy50b29sX2NhbGxzID0gbWlzc2luZ1Rvb2xDYWxscy5tYXAoKGJsb2NrKSA9PiAoe1xuXHRcdFx0XHRcdHR5cGU6IFwidG9vbF9jYWxsXCIsXG5cdFx0XHRcdFx0aWQ6IGJsb2NrLmlkLFxuXHRcdFx0XHRcdG5hbWU6IGJsb2NrLm5hbWUsXG5cdFx0XHRcdFx0YXJnczogYmxvY2suYXJnc1xuXHRcdFx0XHR9KSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHN1cGVyKGluaXRQYXJhbXMpO1xuXHRcdGlmICh0eXBlb2YgaW5pdFBhcmFtcyAhPT0gXCJzdHJpbmdcIikge1xuXHRcdFx0dGhpcy50b29sX2NhbGxzID0gaW5pdFBhcmFtcy50b29sX2NhbGxzID8/IHRoaXMudG9vbF9jYWxscztcblx0XHRcdHRoaXMuaW52YWxpZF90b29sX2NhbGxzID0gaW5pdFBhcmFtcy5pbnZhbGlkX3Rvb2xfY2FsbHMgPz8gdGhpcy5pbnZhbGlkX3Rvb2xfY2FsbHM7XG5cdFx0fVxuXHRcdHRoaXMudXNhZ2VfbWV0YWRhdGEgPSBpbml0UGFyYW1zLnVzYWdlX21ldGFkYXRhO1xuXHR9XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIkFJTWVzc2FnZVwiO1xuXHR9XG5cdGdldCBjb250ZW50QmxvY2tzKCkge1xuXHRcdGlmICh0aGlzLnJlc3BvbnNlX21ldGFkYXRhICYmIFwib3V0cHV0X3ZlcnNpb25cIiBpbiB0aGlzLnJlc3BvbnNlX21ldGFkYXRhICYmIHRoaXMucmVzcG9uc2VfbWV0YWRhdGEub3V0cHV0X3ZlcnNpb24gPT09IFwidjFcIikgcmV0dXJuIHRoaXMuY29udGVudDtcblx0XHRpZiAodGhpcy5yZXNwb25zZV9tZXRhZGF0YSAmJiBcIm1vZGVsX3Byb3ZpZGVyXCIgaW4gdGhpcy5yZXNwb25zZV9tZXRhZGF0YSAmJiB0eXBlb2YgdGhpcy5yZXNwb25zZV9tZXRhZGF0YS5tb2RlbF9wcm92aWRlciA9PT0gXCJzdHJpbmdcIikge1xuXHRcdFx0Y29uc3QgdHJhbnNsYXRvciA9IGdldFRyYW5zbGF0b3IodGhpcy5yZXNwb25zZV9tZXRhZGF0YS5tb2RlbF9wcm92aWRlcik7XG5cdFx0XHRpZiAodHJhbnNsYXRvcikgcmV0dXJuIHRyYW5zbGF0b3IudHJhbnNsYXRlQ29udGVudCh0aGlzKTtcblx0XHR9XG5cdFx0Y29uc3QgYmxvY2tzID0gc3VwZXIuY29udGVudEJsb2Nrcztcblx0XHRpZiAodGhpcy50b29sX2NhbGxzKSB7XG5cdFx0XHRjb25zdCBtaXNzaW5nVG9vbENhbGxzID0gdGhpcy50b29sX2NhbGxzLmZpbHRlcigoYmxvY2spID0+ICFibG9ja3Muc29tZSgoYikgPT4gYi5pZCA9PT0gYmxvY2suaWQgJiYgYi5uYW1lID09PSBibG9jay5uYW1lKSk7XG5cdFx0XHRibG9ja3MucHVzaCguLi5taXNzaW5nVG9vbENhbGxzLm1hcCgoYmxvY2spID0+ICh7XG5cdFx0XHRcdC4uLmJsb2NrLFxuXHRcdFx0XHR0eXBlOiBcInRvb2xfY2FsbFwiLFxuXHRcdFx0XHRpZDogYmxvY2suaWQsXG5cdFx0XHRcdG5hbWU6IGJsb2NrLm5hbWUsXG5cdFx0XHRcdGFyZ3M6IGJsb2NrLmFyZ3Ncblx0XHRcdH0pKSk7XG5cdFx0fVxuXHRcdHJldHVybiBibG9ja3M7XG5cdH1cblx0Z2V0IF9wcmludGFibGVGaWVsZHMoKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdC4uLnN1cGVyLl9wcmludGFibGVGaWVsZHMsXG5cdFx0XHR0b29sX2NhbGxzOiB0aGlzLnRvb2xfY2FsbHMsXG5cdFx0XHRpbnZhbGlkX3Rvb2xfY2FsbHM6IHRoaXMuaW52YWxpZF90b29sX2NhbGxzLFxuXHRcdFx0dXNhZ2VfbWV0YWRhdGE6IHRoaXMudXNhZ2VfbWV0YWRhdGFcblx0XHR9O1xuXHR9XG5cdHN0YXRpYyBpc0luc3RhbmNlKG9iaikge1xuXHRcdHJldHVybiBzdXBlci5pc0luc3RhbmNlKG9iaikgJiYgb2JqLnR5cGUgPT09IFwiYWlcIjtcblx0fVxufTtcbi8qKlxuKiBAZGVwcmVjYXRlZCBVc2Uge0BsaW5rIEFJTWVzc2FnZS5pc0luc3RhbmNlfSBpbnN0ZWFkXG4qL1xuZnVuY3Rpb24gaXNBSU1lc3NhZ2UoeCkge1xuXHRyZXR1cm4geC5fZ2V0VHlwZSgpID09PSBcImFpXCI7XG59XG4vKipcbiogQGRlcHJlY2F0ZWQgVXNlIHtAbGluayBBSU1lc3NhZ2VDaHVuay5pc0luc3RhbmNlfSBpbnN0ZWFkXG4qL1xuZnVuY3Rpb24gaXNBSU1lc3NhZ2VDaHVuayh4KSB7XG5cdHJldHVybiB4Ll9nZXRUeXBlKCkgPT09IFwiYWlcIjtcbn1cbi8qKlxuKiBSZXByZXNlbnRzIGEgY2h1bmsgb2YgYW4gQUkgbWVzc2FnZSwgd2hpY2ggY2FuIGJlIGNvbmNhdGVuYXRlZCB3aXRoXG4qIG90aGVyIEFJIG1lc3NhZ2UgY2h1bmtzLlxuKi9cbnZhciBBSU1lc3NhZ2VDaHVuayA9IGNsYXNzIGV4dGVuZHMgQmFzZU1lc3NhZ2VDaHVuayB7XG5cdHR5cGUgPSBcImFpXCI7XG5cdHRvb2xfY2FsbHMgPSBbXTtcblx0aW52YWxpZF90b29sX2NhbGxzID0gW107XG5cdHRvb2xfY2FsbF9jaHVua3MgPSBbXTtcblx0dXNhZ2VfbWV0YWRhdGE7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdGxldCBpbml0UGFyYW1zO1xuXHRcdGlmICh0eXBlb2YgZmllbGRzID09PSBcInN0cmluZ1wiIHx8IEFycmF5LmlzQXJyYXkoZmllbGRzKSkgaW5pdFBhcmFtcyA9IHtcblx0XHRcdGNvbnRlbnQ6IGZpZWxkcyxcblx0XHRcdHRvb2xfY2FsbHM6IFtdLFxuXHRcdFx0aW52YWxpZF90b29sX2NhbGxzOiBbXSxcblx0XHRcdHRvb2xfY2FsbF9jaHVua3M6IFtdXG5cdFx0fTtcblx0XHRlbHNlIGlmIChmaWVsZHMudG9vbF9jYWxsX2NodW5rcyA9PT0gdm9pZCAwKSBpbml0UGFyYW1zID0ge1xuXHRcdFx0Li4uZmllbGRzLFxuXHRcdFx0dG9vbF9jYWxsczogZmllbGRzLnRvb2xfY2FsbHMgPz8gW10sXG5cdFx0XHRpbnZhbGlkX3Rvb2xfY2FsbHM6IFtdLFxuXHRcdFx0dG9vbF9jYWxsX2NodW5rczogW10sXG5cdFx0XHR1c2FnZV9tZXRhZGF0YTogZmllbGRzLnVzYWdlX21ldGFkYXRhICE9PSB2b2lkIDAgPyBmaWVsZHMudXNhZ2VfbWV0YWRhdGEgOiB2b2lkIDBcblx0XHR9O1xuXHRcdGVsc2Uge1xuXHRcdFx0Y29uc3QgZ3JvdXBlZFRvb2xDYWxsQ2h1bmtzID0gZmllbGRzLnRvb2xfY2FsbF9jaHVua3MucmVkdWNlKChhY2MsIGNodW5rKSA9PiB7XG5cdFx0XHRcdGNvbnN0IG1hdGNoZWRDaHVua0luZGV4ID0gYWNjLmZpbmRJbmRleCgoW21hdGNoXSkgPT4ge1xuXHRcdFx0XHRcdGlmIChcImlkXCIgaW4gY2h1bmsgJiYgY2h1bmsuaWQgJiYgXCJpbmRleFwiIGluIGNodW5rICYmIGNodW5rLmluZGV4ICE9PSB2b2lkIDApIHJldHVybiBjaHVuay5pZCA9PT0gbWF0Y2guaWQgJiYgY2h1bmsuaW5kZXggPT09IG1hdGNoLmluZGV4O1xuXHRcdFx0XHRcdGlmIChcImlkXCIgaW4gY2h1bmsgJiYgY2h1bmsuaWQpIHJldHVybiBjaHVuay5pZCA9PT0gbWF0Y2guaWQ7XG5cdFx0XHRcdFx0aWYgKFwiaW5kZXhcIiBpbiBjaHVuayAmJiBjaHVuay5pbmRleCAhPT0gdm9pZCAwKSByZXR1cm4gY2h1bmsuaW5kZXggPT09IG1hdGNoLmluZGV4O1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGlmIChtYXRjaGVkQ2h1bmtJbmRleCAhPT0gLTEpIGFjY1ttYXRjaGVkQ2h1bmtJbmRleF0ucHVzaChjaHVuayk7XG5cdFx0XHRcdGVsc2UgYWNjLnB1c2goW2NodW5rXSk7XG5cdFx0XHRcdHJldHVybiBhY2M7XG5cdFx0XHR9LCBbXSk7XG5cdFx0XHRjb25zdCB0b29sQ2FsbHMgPSBbXTtcblx0XHRcdGNvbnN0IGludmFsaWRUb29sQ2FsbHMgPSBbXTtcblx0XHRcdGZvciAoY29uc3QgY2h1bmtzIG9mIGdyb3VwZWRUb29sQ2FsbENodW5rcykge1xuXHRcdFx0XHRsZXQgcGFyc2VkQXJncyA9IG51bGw7XG5cdFx0XHRcdGNvbnN0IG5hbWUgPSBjaHVua3NbMF0/Lm5hbWUgPz8gXCJcIjtcblx0XHRcdFx0Y29uc3Qgam9pbmVkQXJncyA9IGNodW5rcy5tYXAoKGMpID0+IGMuYXJncyB8fCBcIlwiKS5qb2luKFwiXCIpO1xuXHRcdFx0XHRjb25zdCBhcmdzU3RyID0gam9pbmVkQXJncy5sZW5ndGggPyBqb2luZWRBcmdzIDogXCJ7fVwiO1xuXHRcdFx0XHRjb25zdCBpZCA9IGNodW5rc1swXT8uaWQ7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0cGFyc2VkQXJncyA9IHBhcnNlUGFydGlhbEpzb24oYXJnc1N0cik7XG5cdFx0XHRcdFx0aWYgKCFpZCB8fCBwYXJzZWRBcmdzID09PSBudWxsIHx8IHR5cGVvZiBwYXJzZWRBcmdzICE9PSBcIm9iamVjdFwiIHx8IEFycmF5LmlzQXJyYXkocGFyc2VkQXJncykpIHRocm93IG5ldyBFcnJvcihcIk1hbGZvcm1lZCB0b29sIGNhbGwgY2h1bmsgYXJncy5cIik7XG5cdFx0XHRcdFx0dG9vbENhbGxzLnB1c2goe1xuXHRcdFx0XHRcdFx0bmFtZSxcblx0XHRcdFx0XHRcdGFyZ3M6IHBhcnNlZEFyZ3MsXG5cdFx0XHRcdFx0XHRpZCxcblx0XHRcdFx0XHRcdHR5cGU6IFwidG9vbF9jYWxsXCJcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdFx0aW52YWxpZFRvb2xDYWxscy5wdXNoKHtcblx0XHRcdFx0XHRcdG5hbWUsXG5cdFx0XHRcdFx0XHRhcmdzOiBhcmdzU3RyLFxuXHRcdFx0XHRcdFx0aWQsXG5cdFx0XHRcdFx0XHRlcnJvcjogXCJNYWxmb3JtZWQgYXJncy5cIixcblx0XHRcdFx0XHRcdHR5cGU6IFwiaW52YWxpZF90b29sX2NhbGxcIlxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpbml0UGFyYW1zID0ge1xuXHRcdFx0XHQuLi5maWVsZHMsXG5cdFx0XHRcdHRvb2xfY2FsbHM6IHRvb2xDYWxscyxcblx0XHRcdFx0aW52YWxpZF90b29sX2NhbGxzOiBpbnZhbGlkVG9vbENhbGxzLFxuXHRcdFx0XHR1c2FnZV9tZXRhZGF0YTogZmllbGRzLnVzYWdlX21ldGFkYXRhICE9PSB2b2lkIDAgPyBmaWVsZHMudXNhZ2VfbWV0YWRhdGEgOiB2b2lkIDBcblx0XHRcdH07XG5cdFx0fVxuXHRcdHN1cGVyKGluaXRQYXJhbXMpO1xuXHRcdHRoaXMudG9vbF9jYWxsX2NodW5rcyA9IGluaXRQYXJhbXMudG9vbF9jYWxsX2NodW5rcyA/PyB0aGlzLnRvb2xfY2FsbF9jaHVua3M7XG5cdFx0dGhpcy50b29sX2NhbGxzID0gaW5pdFBhcmFtcy50b29sX2NhbGxzID8/IHRoaXMudG9vbF9jYWxscztcblx0XHR0aGlzLmludmFsaWRfdG9vbF9jYWxscyA9IGluaXRQYXJhbXMuaW52YWxpZF90b29sX2NhbGxzID8/IHRoaXMuaW52YWxpZF90b29sX2NhbGxzO1xuXHRcdHRoaXMudXNhZ2VfbWV0YWRhdGEgPSBpbml0UGFyYW1zLnVzYWdlX21ldGFkYXRhO1xuXHR9XG5cdGdldCBsY19hbGlhc2VzKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHQuLi5zdXBlci5sY19hbGlhc2VzLFxuXHRcdFx0dG9vbF9jYWxsczogXCJ0b29sX2NhbGxzXCIsXG5cdFx0XHRpbnZhbGlkX3Rvb2xfY2FsbHM6IFwiaW52YWxpZF90b29sX2NhbGxzXCIsXG5cdFx0XHR0b29sX2NhbGxfY2h1bmtzOiBcInRvb2xfY2FsbF9jaHVua3NcIlxuXHRcdH07XG5cdH1cblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiQUlNZXNzYWdlQ2h1bmtcIjtcblx0fVxuXHRnZXQgY29udGVudEJsb2NrcygpIHtcblx0XHRpZiAodGhpcy5yZXNwb25zZV9tZXRhZGF0YSAmJiBcIm91dHB1dF92ZXJzaW9uXCIgaW4gdGhpcy5yZXNwb25zZV9tZXRhZGF0YSAmJiB0aGlzLnJlc3BvbnNlX21ldGFkYXRhLm91dHB1dF92ZXJzaW9uID09PSBcInYxXCIpIHJldHVybiB0aGlzLmNvbnRlbnQ7XG5cdFx0aWYgKHRoaXMucmVzcG9uc2VfbWV0YWRhdGEgJiYgXCJtb2RlbF9wcm92aWRlclwiIGluIHRoaXMucmVzcG9uc2VfbWV0YWRhdGEgJiYgdHlwZW9mIHRoaXMucmVzcG9uc2VfbWV0YWRhdGEubW9kZWxfcHJvdmlkZXIgPT09IFwic3RyaW5nXCIpIHtcblx0XHRcdGNvbnN0IHRyYW5zbGF0b3IgPSBnZXRUcmFuc2xhdG9yKHRoaXMucmVzcG9uc2VfbWV0YWRhdGEubW9kZWxfcHJvdmlkZXIpO1xuXHRcdFx0aWYgKHRyYW5zbGF0b3IpIHJldHVybiB0cmFuc2xhdG9yLnRyYW5zbGF0ZUNvbnRlbnQodGhpcyk7XG5cdFx0fVxuXHRcdGNvbnN0IGJsb2NrcyA9IHN1cGVyLmNvbnRlbnRCbG9ja3M7XG5cdFx0aWYgKHRoaXMudG9vbF9jYWxscykge1xuXHRcdFx0aWYgKHR5cGVvZiB0aGlzLmNvbnRlbnQgIT09IFwic3RyaW5nXCIpIHtcblx0XHRcdFx0Y29uc3QgY29udGVudFRvb2xDYWxscyA9IHRoaXMuY29udGVudC5maWx0ZXIoKGJsb2NrKSA9PiBibG9jay50eXBlID09PSBcInRvb2xfY2FsbFwiKS5tYXAoKGJsb2NrKSA9PiBibG9jay5pZCk7XG5cdFx0XHRcdGZvciAoY29uc3QgdG9vbENhbGwgb2YgdGhpcy50b29sX2NhbGxzKSBpZiAodG9vbENhbGwuaWQgJiYgIWNvbnRlbnRUb29sQ2FsbHMuaW5jbHVkZXModG9vbENhbGwuaWQpKSBibG9ja3MucHVzaCh7XG5cdFx0XHRcdFx0Li4udG9vbENhbGwsXG5cdFx0XHRcdFx0dHlwZTogXCJ0b29sX2NhbGxcIixcblx0XHRcdFx0XHRpZDogdG9vbENhbGwuaWQsXG5cdFx0XHRcdFx0bmFtZTogdG9vbENhbGwubmFtZSxcblx0XHRcdFx0XHRhcmdzOiB0b29sQ2FsbC5hcmdzXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gYmxvY2tzO1xuXHR9XG5cdGdldCBfcHJpbnRhYmxlRmllbGRzKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHQuLi5zdXBlci5fcHJpbnRhYmxlRmllbGRzLFxuXHRcdFx0dG9vbF9jYWxsczogdGhpcy50b29sX2NhbGxzLFxuXHRcdFx0dG9vbF9jYWxsX2NodW5rczogdGhpcy50b29sX2NhbGxfY2h1bmtzLFxuXHRcdFx0aW52YWxpZF90b29sX2NhbGxzOiB0aGlzLmludmFsaWRfdG9vbF9jYWxscyxcblx0XHRcdHVzYWdlX21ldGFkYXRhOiB0aGlzLnVzYWdlX21ldGFkYXRhXG5cdFx0fTtcblx0fVxuXHRjb25jYXQoY2h1bmspIHtcblx0XHRjb25zdCBjb21iaW5lZEZpZWxkcyA9IHtcblx0XHRcdGNvbnRlbnQ6IG1lcmdlQ29udGVudCh0aGlzLmNvbnRlbnQsIGNodW5rLmNvbnRlbnQpLFxuXHRcdFx0YWRkaXRpb25hbF9rd2FyZ3M6IF9tZXJnZURpY3RzKHRoaXMuYWRkaXRpb25hbF9rd2FyZ3MsIGNodW5rLmFkZGl0aW9uYWxfa3dhcmdzKSxcblx0XHRcdHJlc3BvbnNlX21ldGFkYXRhOiBtZXJnZVJlc3BvbnNlTWV0YWRhdGEodGhpcy5yZXNwb25zZV9tZXRhZGF0YSwgY2h1bmsucmVzcG9uc2VfbWV0YWRhdGEpLFxuXHRcdFx0dG9vbF9jYWxsX2NodW5rczogW10sXG5cdFx0XHRpZDogdGhpcy5pZCA/PyBjaHVuay5pZFxuXHRcdH07XG5cdFx0aWYgKHRoaXMudG9vbF9jYWxsX2NodW5rcyAhPT0gdm9pZCAwIHx8IGNodW5rLnRvb2xfY2FsbF9jaHVua3MgIT09IHZvaWQgMCkge1xuXHRcdFx0Y29uc3QgcmF3VG9vbENhbGxzID0gX21lcmdlTGlzdHModGhpcy50b29sX2NhbGxfY2h1bmtzLCBjaHVuay50b29sX2NhbGxfY2h1bmtzKTtcblx0XHRcdGlmIChyYXdUb29sQ2FsbHMgIT09IHZvaWQgMCAmJiByYXdUb29sQ2FsbHMubGVuZ3RoID4gMCkgY29tYmluZWRGaWVsZHMudG9vbF9jYWxsX2NodW5rcyA9IHJhd1Rvb2xDYWxscztcblx0XHR9XG5cdFx0aWYgKHRoaXMudXNhZ2VfbWV0YWRhdGEgIT09IHZvaWQgMCB8fCBjaHVuay51c2FnZV9tZXRhZGF0YSAhPT0gdm9pZCAwKSBjb21iaW5lZEZpZWxkcy51c2FnZV9tZXRhZGF0YSA9IG1lcmdlVXNhZ2VNZXRhZGF0YSh0aGlzLnVzYWdlX21ldGFkYXRhLCBjaHVuay51c2FnZV9tZXRhZGF0YSk7XG5cdFx0Y29uc3QgQ2xzID0gdGhpcy5jb25zdHJ1Y3Rvcjtcblx0XHRyZXR1cm4gbmV3IENscyhjb21iaW5lZEZpZWxkcyk7XG5cdH1cblx0c3RhdGljIGlzSW5zdGFuY2Uob2JqKSB7XG5cdFx0cmV0dXJuIHN1cGVyLmlzSW5zdGFuY2Uob2JqKSAmJiBvYmoudHlwZSA9PT0gXCJhaVwiO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEFJTWVzc2FnZSwgQUlNZXNzYWdlQ2h1bmssIGlzQUlNZXNzYWdlLCBpc0FJTWVzc2FnZUNodW5rIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1haS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/ai.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/base.js":
/*!*****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/base.js ***!
  \*****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseMessage: () => (/* binding */ BaseMessage),\n/* harmony export */   BaseMessageChunk: () => (/* binding */ BaseMessageChunk),\n/* harmony export */   _isMessageFieldWithRole: () => (/* binding */ _isMessageFieldWithRole),\n/* harmony export */   _mergeDicts: () => (/* binding */ _mergeDicts),\n/* harmony export */   _mergeLists: () => (/* binding */ _mergeLists),\n/* harmony export */   _mergeObj: () => (/* binding */ _mergeObj),\n/* harmony export */   _mergeStatus: () => (/* binding */ _mergeStatus),\n/* harmony export */   isBaseMessage: () => (/* binding */ isBaseMessage),\n/* harmony export */   isBaseMessageChunk: () => (/* binding */ isBaseMessageChunk),\n/* harmony export */   isOpenAIToolCallArray: () => (/* binding */ isOpenAIToolCallArray),\n/* harmony export */   mergeContent: () => (/* binding */ mergeContent)\n/* harmony export */ });\n/* harmony import */ var _load_serializable_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../load/serializable.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/load/serializable.js\");\n/* harmony import */ var _content_data_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./content/data.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/content/data.js\");\n/* harmony import */ var _block_translators_anthropic_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./block_translators/anthropic.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/anthropic.js\");\n/* harmony import */ var _block_translators_data_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./block_translators/data.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/data.js\");\n/* harmony import */ var _block_translators_openai_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./block_translators/openai.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/openai.js\");\n/* harmony import */ var _message_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./message.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/message.js\");\n\n\n\n\n\n\n\n//#region src/messages/base.ts\n/** @internal */\nconst MESSAGE_SYMBOL = Symbol.for(\"langchain.message\");\nfunction mergeContent(firstContent, secondContent) {\n\tif (typeof firstContent === \"string\") {\n\t\tif (firstContent === \"\") return secondContent;\n\t\tif (typeof secondContent === \"string\") return firstContent + secondContent;\n\t\telse if (Array.isArray(secondContent) && secondContent.some((c) => (0,_content_data_js__WEBPACK_IMPORTED_MODULE_1__.isDataContentBlock)(c))) return [{\n\t\t\ttype: \"text\",\n\t\t\tsource_type: \"text\",\n\t\t\ttext: firstContent\n\t\t}, ...secondContent];\n\t\telse return [{\n\t\t\ttype: \"text\",\n\t\t\ttext: firstContent\n\t\t}, ...secondContent];\n\t} else if (Array.isArray(secondContent)) return _mergeLists(firstContent, secondContent) ?? [...firstContent, ...secondContent];\n\telse if (secondContent === \"\") return firstContent;\n\telse if (Array.isArray(firstContent) && firstContent.some((c) => (0,_content_data_js__WEBPACK_IMPORTED_MODULE_1__.isDataContentBlock)(c))) return [...firstContent, {\n\t\ttype: \"file\",\n\t\tsource_type: \"text\",\n\t\ttext: secondContent\n\t}];\n\telse return [...firstContent, {\n\t\ttype: \"text\",\n\t\ttext: secondContent\n\t}];\n}\n/**\n* 'Merge' two statuses. If either value passed is 'error', it will return 'error'. Else\n* it will return 'success'.\n*\n* @param {\"success\" | \"error\" | undefined} left The existing value to 'merge' with the new value.\n* @param {\"success\" | \"error\" | undefined} right The new value to 'merge' with the existing value\n* @returns {\"success\" | \"error\"} The 'merged' value.\n*/\nfunction _mergeStatus(left, right) {\n\tif (left === \"error\" || right === \"error\") return \"error\";\n\treturn \"success\";\n}\nfunction stringifyWithDepthLimit(obj, depthLimit) {\n\tfunction helper(obj$1, currentDepth) {\n\t\tif (typeof obj$1 !== \"object\" || obj$1 === null || obj$1 === void 0) return obj$1;\n\t\tif (currentDepth >= depthLimit) {\n\t\t\tif (Array.isArray(obj$1)) return \"[Array]\";\n\t\t\treturn \"[Object]\";\n\t\t}\n\t\tif (Array.isArray(obj$1)) return obj$1.map((item) => helper(item, currentDepth + 1));\n\t\tconst result = {};\n\t\tfor (const key of Object.keys(obj$1)) result[key] = helper(obj$1[key], currentDepth + 1);\n\t\treturn result;\n\t}\n\treturn JSON.stringify(helper(obj, 0), null, 2);\n}\n/**\n* Base class for all types of messages in a conversation. It includes\n* properties like `content`, `name`, and `additional_kwargs`. It also\n* includes methods like `toDict()` and `_getType()`.\n*/\nvar BaseMessage = class extends _load_serializable_js__WEBPACK_IMPORTED_MODULE_0__.Serializable {\n\tlc_namespace = [\"langchain_core\", \"messages\"];\n\tlc_serializable = true;\n\tget lc_aliases() {\n\t\treturn {\n\t\t\tadditional_kwargs: \"additional_kwargs\",\n\t\t\tresponse_metadata: \"response_metadata\"\n\t\t};\n\t}\n\t[MESSAGE_SYMBOL] = true;\n\tid;\n\tname;\n\tcontent;\n\tadditional_kwargs;\n\tresponse_metadata;\n\t/**\n\t* @deprecated Use .getType() instead or import the proper typeguard.\n\t* For example:\n\t*\n\t* ```ts\n\t* import { isAIMessage } from \"@langchain/core/messages\";\n\t*\n\t* const message = new AIMessage(\"Hello!\");\n\t* isAIMessage(message); // true\n\t* ```\n\t*/\n\t_getType() {\n\t\treturn this.type;\n\t}\n\t/**\n\t* @deprecated Use .type instead\n\t* The type of the message.\n\t*/\n\tgetType() {\n\t\treturn this._getType();\n\t}\n\tconstructor(arg) {\n\t\tconst fields = typeof arg === \"string\" || Array.isArray(arg) ? { content: arg } : arg;\n\t\tif (!fields.additional_kwargs) fields.additional_kwargs = {};\n\t\tif (!fields.response_metadata) fields.response_metadata = {};\n\t\tsuper(fields);\n\t\tthis.name = fields.name;\n\t\tif (fields.content === void 0 && fields.contentBlocks !== void 0) {\n\t\t\tthis.content = fields.contentBlocks;\n\t\t\tthis.response_metadata = {\n\t\t\t\toutput_version: \"v1\",\n\t\t\t\t...fields.response_metadata\n\t\t\t};\n\t\t} else if (fields.content !== void 0) {\n\t\t\tthis.content = fields.content ?? [];\n\t\t\tthis.response_metadata = fields.response_metadata;\n\t\t} else {\n\t\t\tthis.content = [];\n\t\t\tthis.response_metadata = fields.response_metadata;\n\t\t}\n\t\tthis.additional_kwargs = fields.additional_kwargs;\n\t\tthis.id = fields.id;\n\t}\n\t/** Get text content of the message. */\n\tget text() {\n\t\tif (typeof this.content === \"string\") return this.content;\n\t\tif (!Array.isArray(this.content)) return \"\";\n\t\treturn this.content.map((c) => {\n\t\t\tif (typeof c === \"string\") return c;\n\t\t\tif (c.type === \"text\") return c.text;\n\t\t\treturn \"\";\n\t\t}).join(\"\");\n\t}\n\tget contentBlocks() {\n\t\tconst blocks = typeof this.content === \"string\" ? [{\n\t\t\ttype: \"text\",\n\t\t\ttext: this.content\n\t\t}] : this.content;\n\t\tconst parsingSteps = [\n\t\t\t_block_translators_data_js__WEBPACK_IMPORTED_MODULE_3__.convertToV1FromDataContent,\n\t\t\t_block_translators_openai_js__WEBPACK_IMPORTED_MODULE_4__.convertToV1FromChatCompletionsInput,\n\t\t\t_block_translators_anthropic_js__WEBPACK_IMPORTED_MODULE_2__.convertToV1FromAnthropicInput\n\t\t];\n\t\tconst parsedBlocks = parsingSteps.reduce((blocks$1, step) => step(blocks$1), blocks);\n\t\treturn parsedBlocks;\n\t}\n\ttoDict() {\n\t\treturn {\n\t\t\ttype: this.getType(),\n\t\t\tdata: this.toJSON().kwargs\n\t\t};\n\t}\n\tstatic lc_name() {\n\t\treturn \"BaseMessage\";\n\t}\n\tget _printableFields() {\n\t\treturn {\n\t\t\tid: this.id,\n\t\t\tcontent: this.content,\n\t\t\tname: this.name,\n\t\t\tadditional_kwargs: this.additional_kwargs,\n\t\t\tresponse_metadata: this.response_metadata\n\t\t};\n\t}\n\tstatic isInstance(obj) {\n\t\treturn typeof obj === \"object\" && obj !== null && MESSAGE_SYMBOL in obj && obj[MESSAGE_SYMBOL] === true && (0,_message_js__WEBPACK_IMPORTED_MODULE_5__.isMessage)(obj);\n\t}\n\t_updateId(value) {\n\t\tthis.id = value;\n\t\tthis.lc_kwargs.id = value;\n\t}\n\tget [Symbol.toStringTag]() {\n\t\treturn this.constructor.lc_name();\n\t}\n\t[Symbol.for(\"nodejs.util.inspect.custom\")](depth) {\n\t\tif (depth === null) return this;\n\t\tconst printable = stringifyWithDepthLimit(this._printableFields, Math.max(4, depth));\n\t\treturn `${this.constructor.lc_name()} ${printable}`;\n\t}\n};\nfunction isOpenAIToolCallArray(value) {\n\treturn Array.isArray(value) && value.every((v) => typeof v.index === \"number\");\n}\nfunction _mergeDicts(left = {}, right = {}) {\n\tconst merged = { ...left };\n\tfor (const [key, value] of Object.entries(right)) if (merged[key] == null) merged[key] = value;\n\telse if (value == null) continue;\n\telse if (typeof merged[key] !== typeof value || Array.isArray(merged[key]) !== Array.isArray(value)) throw new Error(`field[${key}] already exists in the message chunk, but with a different type.`);\n\telse if (typeof merged[key] === \"string\") if (key === \"type\") continue;\n\telse if ([\n\t\t\"id\",\n\t\t\"name\",\n\t\t\"output_version\",\n\t\t\"model_provider\"\n\t].includes(key)) merged[key] = value;\n\telse merged[key] += value;\n\telse if (typeof merged[key] === \"object\" && !Array.isArray(merged[key])) merged[key] = _mergeDicts(merged[key], value);\n\telse if (Array.isArray(merged[key])) merged[key] = _mergeLists(merged[key], value);\n\telse if (merged[key] === value) continue;\n\telse console.warn(`field[${key}] already exists in this message chunk and value has unsupported type.`);\n\treturn merged;\n}\nfunction _mergeLists(left, right) {\n\tif (left === void 0 && right === void 0) return void 0;\n\telse if (left === void 0 || right === void 0) return left || right;\n\telse {\n\t\tconst merged = [...left];\n\t\tfor (const item of right) if (typeof item === \"object\" && item !== null && \"index\" in item && typeof item.index === \"number\") {\n\t\t\tconst toMerge = merged.findIndex((leftItem) => {\n\t\t\t\tconst isObject = typeof leftItem === \"object\";\n\t\t\t\tconst indiciesMatch = \"index\" in leftItem && leftItem.index === item.index;\n\t\t\t\tconst idsMatch = \"id\" in leftItem && \"id\" in item && leftItem?.id === item?.id;\n\t\t\t\tconst eitherItemMissingID = !(\"id\" in leftItem) || !leftItem?.id || !(\"id\" in item) || !item?.id;\n\t\t\t\treturn isObject && indiciesMatch && (idsMatch || eitherItemMissingID);\n\t\t\t});\n\t\t\tif (toMerge !== -1 && typeof merged[toMerge] === \"object\" && merged[toMerge] !== null) merged[toMerge] = _mergeDicts(merged[toMerge], item);\n\t\t\telse merged.push(item);\n\t\t} else if (typeof item === \"object\" && item !== null && \"text\" in item && item.text === \"\") continue;\n\t\telse merged.push(item);\n\t\treturn merged;\n\t}\n}\nfunction _mergeObj(left, right) {\n\tif (!left && !right) throw new Error(\"Cannot merge two undefined objects.\");\n\tif (!left || !right) return left || right;\n\telse if (typeof left !== typeof right) throw new Error(`Cannot merge objects of different types.\\nLeft ${typeof left}\\nRight ${typeof right}`);\n\telse if (typeof left === \"string\" && typeof right === \"string\") return left + right;\n\telse if (Array.isArray(left) && Array.isArray(right)) return _mergeLists(left, right);\n\telse if (typeof left === \"object\" && typeof right === \"object\") return _mergeDicts(left, right);\n\telse if (left === right) return left;\n\telse throw new Error(`Can not merge objects of different types.\\nLeft ${left}\\nRight ${right}`);\n}\n/**\n* Represents a chunk of a message, which can be concatenated with other\n* message chunks. It includes a method `_merge_kwargs_dict()` for merging\n* additional keyword arguments from another `BaseMessageChunk` into this\n* one. It also overrides the `__add__()` method to support concatenation\n* of `BaseMessageChunk` instances.\n*/\nvar BaseMessageChunk = class extends BaseMessage {\n\tstatic isInstance(obj) {\n\t\treturn super.isInstance(obj) && \"concat\" in obj && typeof obj.concat === \"function\";\n\t}\n};\nfunction _isMessageFieldWithRole(x) {\n\treturn typeof x.role === \"string\";\n}\n/**\n* @deprecated Use {@link BaseMessage.isInstance} instead\n*/\nfunction isBaseMessage(messageLike) {\n\treturn typeof messageLike?._getType === \"function\";\n}\n/**\n* @deprecated Use {@link BaseMessageChunk.isInstance} instead\n*/\nfunction isBaseMessageChunk(messageLike) {\n\treturn isBaseMessage(messageLike) && typeof messageLike.concat === \"function\";\n}\n\n//#endregion\n\n//# sourceMappingURL=base.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9iYXNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXVEO0FBQ0E7QUFDMEI7QUFDUjtBQUNXO0FBQzNDOztBQUV6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSxvRUFBa0I7QUFDdkY7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxHQUFHO0FBQ0g7QUFDQSxrRUFBa0Usb0VBQWtCO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsaUNBQWlDO0FBQzNDLFVBQVUsaUNBQWlDO0FBQzNDLFlBQVkscUJBQXFCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQywrREFBWTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQjtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLGVBQWU7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHLGtGQUEwQjtBQUM3QixHQUFHLDZGQUFtQztBQUN0QyxHQUFHLDBGQUE2QjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkdBQTZHLHNEQUFTO0FBQ3RIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDRCQUE0QixFQUFFLFVBQVU7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixZQUFZO0FBQzFDLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0EsK0hBQStILElBQUk7QUFDbkk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixJQUFJO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBHQUEwRyxZQUFZLFVBQVUsYUFBYTtBQUM3STtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlFQUF5RSxLQUFLLFVBQVUsTUFBTTtBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDhCQUE4QjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG1DQUFtQztBQUN0RDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUM2TDtBQUM3TCIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvbWVzc2FnZXMvYmFzZS5qcz9kZmYzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNlcmlhbGl6YWJsZSB9IGZyb20gXCIuLi9sb2FkL3NlcmlhbGl6YWJsZS5qc1wiO1xuaW1wb3J0IHsgaXNEYXRhQ29udGVudEJsb2NrIH0gZnJvbSBcIi4vY29udGVudC9kYXRhLmpzXCI7XG5pbXBvcnQgeyBjb252ZXJ0VG9WMUZyb21BbnRocm9waWNJbnB1dCB9IGZyb20gXCIuL2Jsb2NrX3RyYW5zbGF0b3JzL2FudGhyb3BpYy5qc1wiO1xuaW1wb3J0IHsgY29udmVydFRvVjFGcm9tRGF0YUNvbnRlbnQgfSBmcm9tIFwiLi9ibG9ja190cmFuc2xhdG9ycy9kYXRhLmpzXCI7XG5pbXBvcnQgeyBjb252ZXJ0VG9WMUZyb21DaGF0Q29tcGxldGlvbnNJbnB1dCB9IGZyb20gXCIuL2Jsb2NrX3RyYW5zbGF0b3JzL29wZW5haS5qc1wiO1xuaW1wb3J0IHsgaXNNZXNzYWdlIH0gZnJvbSBcIi4vbWVzc2FnZS5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL21lc3NhZ2VzL2Jhc2UudHNcbi8qKiBAaW50ZXJuYWwgKi9cbmNvbnN0IE1FU1NBR0VfU1lNQk9MID0gU3ltYm9sLmZvcihcImxhbmdjaGFpbi5tZXNzYWdlXCIpO1xuZnVuY3Rpb24gbWVyZ2VDb250ZW50KGZpcnN0Q29udGVudCwgc2Vjb25kQ29udGVudCkge1xuXHRpZiAodHlwZW9mIGZpcnN0Q29udGVudCA9PT0gXCJzdHJpbmdcIikge1xuXHRcdGlmIChmaXJzdENvbnRlbnQgPT09IFwiXCIpIHJldHVybiBzZWNvbmRDb250ZW50O1xuXHRcdGlmICh0eXBlb2Ygc2Vjb25kQ29udGVudCA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIGZpcnN0Q29udGVudCArIHNlY29uZENvbnRlbnQ7XG5cdFx0ZWxzZSBpZiAoQXJyYXkuaXNBcnJheShzZWNvbmRDb250ZW50KSAmJiBzZWNvbmRDb250ZW50LnNvbWUoKGMpID0+IGlzRGF0YUNvbnRlbnRCbG9jayhjKSkpIHJldHVybiBbe1xuXHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHRzb3VyY2VfdHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHR0ZXh0OiBmaXJzdENvbnRlbnRcblx0XHR9LCAuLi5zZWNvbmRDb250ZW50XTtcblx0XHRlbHNlIHJldHVybiBbe1xuXHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHR0ZXh0OiBmaXJzdENvbnRlbnRcblx0XHR9LCAuLi5zZWNvbmRDb250ZW50XTtcblx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHNlY29uZENvbnRlbnQpKSByZXR1cm4gX21lcmdlTGlzdHMoZmlyc3RDb250ZW50LCBzZWNvbmRDb250ZW50KSA/PyBbLi4uZmlyc3RDb250ZW50LCAuLi5zZWNvbmRDb250ZW50XTtcblx0ZWxzZSBpZiAoc2Vjb25kQ29udGVudCA9PT0gXCJcIikgcmV0dXJuIGZpcnN0Q29udGVudDtcblx0ZWxzZSBpZiAoQXJyYXkuaXNBcnJheShmaXJzdENvbnRlbnQpICYmIGZpcnN0Q29udGVudC5zb21lKChjKSA9PiBpc0RhdGFDb250ZW50QmxvY2soYykpKSByZXR1cm4gWy4uLmZpcnN0Q29udGVudCwge1xuXHRcdHR5cGU6IFwiZmlsZVwiLFxuXHRcdHNvdXJjZV90eXBlOiBcInRleHRcIixcblx0XHR0ZXh0OiBzZWNvbmRDb250ZW50XG5cdH1dO1xuXHRlbHNlIHJldHVybiBbLi4uZmlyc3RDb250ZW50LCB7XG5cdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0dGV4dDogc2Vjb25kQ29udGVudFxuXHR9XTtcbn1cbi8qKlxuKiAnTWVyZ2UnIHR3byBzdGF0dXNlcy4gSWYgZWl0aGVyIHZhbHVlIHBhc3NlZCBpcyAnZXJyb3InLCBpdCB3aWxsIHJldHVybiAnZXJyb3InLiBFbHNlXG4qIGl0IHdpbGwgcmV0dXJuICdzdWNjZXNzJy5cbipcbiogQHBhcmFtIHtcInN1Y2Nlc3NcIiB8IFwiZXJyb3JcIiB8IHVuZGVmaW5lZH0gbGVmdCBUaGUgZXhpc3RpbmcgdmFsdWUgdG8gJ21lcmdlJyB3aXRoIHRoZSBuZXcgdmFsdWUuXG4qIEBwYXJhbSB7XCJzdWNjZXNzXCIgfCBcImVycm9yXCIgfCB1bmRlZmluZWR9IHJpZ2h0IFRoZSBuZXcgdmFsdWUgdG8gJ21lcmdlJyB3aXRoIHRoZSBleGlzdGluZyB2YWx1ZVxuKiBAcmV0dXJucyB7XCJzdWNjZXNzXCIgfCBcImVycm9yXCJ9IFRoZSAnbWVyZ2VkJyB2YWx1ZS5cbiovXG5mdW5jdGlvbiBfbWVyZ2VTdGF0dXMobGVmdCwgcmlnaHQpIHtcblx0aWYgKGxlZnQgPT09IFwiZXJyb3JcIiB8fCByaWdodCA9PT0gXCJlcnJvclwiKSByZXR1cm4gXCJlcnJvclwiO1xuXHRyZXR1cm4gXCJzdWNjZXNzXCI7XG59XG5mdW5jdGlvbiBzdHJpbmdpZnlXaXRoRGVwdGhMaW1pdChvYmosIGRlcHRoTGltaXQpIHtcblx0ZnVuY3Rpb24gaGVscGVyKG9iaiQxLCBjdXJyZW50RGVwdGgpIHtcblx0XHRpZiAodHlwZW9mIG9iaiQxICE9PSBcIm9iamVjdFwiIHx8IG9iaiQxID09PSBudWxsIHx8IG9iaiQxID09PSB2b2lkIDApIHJldHVybiBvYmokMTtcblx0XHRpZiAoY3VycmVudERlcHRoID49IGRlcHRoTGltaXQpIHtcblx0XHRcdGlmIChBcnJheS5pc0FycmF5KG9iaiQxKSkgcmV0dXJuIFwiW0FycmF5XVwiO1xuXHRcdFx0cmV0dXJuIFwiW09iamVjdF1cIjtcblx0XHR9XG5cdFx0aWYgKEFycmF5LmlzQXJyYXkob2JqJDEpKSByZXR1cm4gb2JqJDEubWFwKChpdGVtKSA9PiBoZWxwZXIoaXRlbSwgY3VycmVudERlcHRoICsgMSkpO1xuXHRcdGNvbnN0IHJlc3VsdCA9IHt9O1xuXHRcdGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKG9iaiQxKSkgcmVzdWx0W2tleV0gPSBoZWxwZXIob2JqJDFba2V5XSwgY3VycmVudERlcHRoICsgMSk7XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fVxuXHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkoaGVscGVyKG9iaiwgMCksIG51bGwsIDIpO1xufVxuLyoqXG4qIEJhc2UgY2xhc3MgZm9yIGFsbCB0eXBlcyBvZiBtZXNzYWdlcyBpbiBhIGNvbnZlcnNhdGlvbi4gSXQgaW5jbHVkZXNcbiogcHJvcGVydGllcyBsaWtlIGBjb250ZW50YCwgYG5hbWVgLCBhbmQgYGFkZGl0aW9uYWxfa3dhcmdzYC4gSXQgYWxzb1xuKiBpbmNsdWRlcyBtZXRob2RzIGxpa2UgYHRvRGljdCgpYCBhbmQgYF9nZXRUeXBlKClgLlxuKi9cbnZhciBCYXNlTWVzc2FnZSA9IGNsYXNzIGV4dGVuZHMgU2VyaWFsaXphYmxlIHtcblx0bGNfbmFtZXNwYWNlID0gW1wibGFuZ2NoYWluX2NvcmVcIiwgXCJtZXNzYWdlc1wiXTtcblx0bGNfc2VyaWFsaXphYmxlID0gdHJ1ZTtcblx0Z2V0IGxjX2FsaWFzZXMoKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGFkZGl0aW9uYWxfa3dhcmdzOiBcImFkZGl0aW9uYWxfa3dhcmdzXCIsXG5cdFx0XHRyZXNwb25zZV9tZXRhZGF0YTogXCJyZXNwb25zZV9tZXRhZGF0YVwiXG5cdFx0fTtcblx0fVxuXHRbTUVTU0FHRV9TWU1CT0xdID0gdHJ1ZTtcblx0aWQ7XG5cdG5hbWU7XG5cdGNvbnRlbnQ7XG5cdGFkZGl0aW9uYWxfa3dhcmdzO1xuXHRyZXNwb25zZV9tZXRhZGF0YTtcblx0LyoqXG5cdCogQGRlcHJlY2F0ZWQgVXNlIC5nZXRUeXBlKCkgaW5zdGVhZCBvciBpbXBvcnQgdGhlIHByb3BlciB0eXBlZ3VhcmQuXG5cdCogRm9yIGV4YW1wbGU6XG5cdCpcblx0KiBgYGB0c1xuXHQqIGltcG9ydCB7IGlzQUlNZXNzYWdlIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9tZXNzYWdlc1wiO1xuXHQqXG5cdCogY29uc3QgbWVzc2FnZSA9IG5ldyBBSU1lc3NhZ2UoXCJIZWxsbyFcIik7XG5cdCogaXNBSU1lc3NhZ2UobWVzc2FnZSk7IC8vIHRydWVcblx0KiBgYGBcblx0Ki9cblx0X2dldFR5cGUoKSB7XG5cdFx0cmV0dXJuIHRoaXMudHlwZTtcblx0fVxuXHQvKipcblx0KiBAZGVwcmVjYXRlZCBVc2UgLnR5cGUgaW5zdGVhZFxuXHQqIFRoZSB0eXBlIG9mIHRoZSBtZXNzYWdlLlxuXHQqL1xuXHRnZXRUeXBlKCkge1xuXHRcdHJldHVybiB0aGlzLl9nZXRUeXBlKCk7XG5cdH1cblx0Y29uc3RydWN0b3IoYXJnKSB7XG5cdFx0Y29uc3QgZmllbGRzID0gdHlwZW9mIGFyZyA9PT0gXCJzdHJpbmdcIiB8fCBBcnJheS5pc0FycmF5KGFyZykgPyB7IGNvbnRlbnQ6IGFyZyB9IDogYXJnO1xuXHRcdGlmICghZmllbGRzLmFkZGl0aW9uYWxfa3dhcmdzKSBmaWVsZHMuYWRkaXRpb25hbF9rd2FyZ3MgPSB7fTtcblx0XHRpZiAoIWZpZWxkcy5yZXNwb25zZV9tZXRhZGF0YSkgZmllbGRzLnJlc3BvbnNlX21ldGFkYXRhID0ge307XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLm5hbWUgPSBmaWVsZHMubmFtZTtcblx0XHRpZiAoZmllbGRzLmNvbnRlbnQgPT09IHZvaWQgMCAmJiBmaWVsZHMuY29udGVudEJsb2NrcyAhPT0gdm9pZCAwKSB7XG5cdFx0XHR0aGlzLmNvbnRlbnQgPSBmaWVsZHMuY29udGVudEJsb2Nrcztcblx0XHRcdHRoaXMucmVzcG9uc2VfbWV0YWRhdGEgPSB7XG5cdFx0XHRcdG91dHB1dF92ZXJzaW9uOiBcInYxXCIsXG5cdFx0XHRcdC4uLmZpZWxkcy5yZXNwb25zZV9tZXRhZGF0YVxuXHRcdFx0fTtcblx0XHR9IGVsc2UgaWYgKGZpZWxkcy5jb250ZW50ICE9PSB2b2lkIDApIHtcblx0XHRcdHRoaXMuY29udGVudCA9IGZpZWxkcy5jb250ZW50ID8/IFtdO1xuXHRcdFx0dGhpcy5yZXNwb25zZV9tZXRhZGF0YSA9IGZpZWxkcy5yZXNwb25zZV9tZXRhZGF0YTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5jb250ZW50ID0gW107XG5cdFx0XHR0aGlzLnJlc3BvbnNlX21ldGFkYXRhID0gZmllbGRzLnJlc3BvbnNlX21ldGFkYXRhO1xuXHRcdH1cblx0XHR0aGlzLmFkZGl0aW9uYWxfa3dhcmdzID0gZmllbGRzLmFkZGl0aW9uYWxfa3dhcmdzO1xuXHRcdHRoaXMuaWQgPSBmaWVsZHMuaWQ7XG5cdH1cblx0LyoqIEdldCB0ZXh0IGNvbnRlbnQgb2YgdGhlIG1lc3NhZ2UuICovXG5cdGdldCB0ZXh0KCkge1xuXHRcdGlmICh0eXBlb2YgdGhpcy5jb250ZW50ID09PSBcInN0cmluZ1wiKSByZXR1cm4gdGhpcy5jb250ZW50O1xuXHRcdGlmICghQXJyYXkuaXNBcnJheSh0aGlzLmNvbnRlbnQpKSByZXR1cm4gXCJcIjtcblx0XHRyZXR1cm4gdGhpcy5jb250ZW50Lm1hcCgoYykgPT4ge1xuXHRcdFx0aWYgKHR5cGVvZiBjID09PSBcInN0cmluZ1wiKSByZXR1cm4gYztcblx0XHRcdGlmIChjLnR5cGUgPT09IFwidGV4dFwiKSByZXR1cm4gYy50ZXh0O1xuXHRcdFx0cmV0dXJuIFwiXCI7XG5cdFx0fSkuam9pbihcIlwiKTtcblx0fVxuXHRnZXQgY29udGVudEJsb2NrcygpIHtcblx0XHRjb25zdCBibG9ja3MgPSB0eXBlb2YgdGhpcy5jb250ZW50ID09PSBcInN0cmluZ1wiID8gW3tcblx0XHRcdHR5cGU6IFwidGV4dFwiLFxuXHRcdFx0dGV4dDogdGhpcy5jb250ZW50XG5cdFx0fV0gOiB0aGlzLmNvbnRlbnQ7XG5cdFx0Y29uc3QgcGFyc2luZ1N0ZXBzID0gW1xuXHRcdFx0Y29udmVydFRvVjFGcm9tRGF0YUNvbnRlbnQsXG5cdFx0XHRjb252ZXJ0VG9WMUZyb21DaGF0Q29tcGxldGlvbnNJbnB1dCxcblx0XHRcdGNvbnZlcnRUb1YxRnJvbUFudGhyb3BpY0lucHV0XG5cdFx0XTtcblx0XHRjb25zdCBwYXJzZWRCbG9ja3MgPSBwYXJzaW5nU3RlcHMucmVkdWNlKChibG9ja3MkMSwgc3RlcCkgPT4gc3RlcChibG9ja3MkMSksIGJsb2Nrcyk7XG5cdFx0cmV0dXJuIHBhcnNlZEJsb2Nrcztcblx0fVxuXHR0b0RpY3QoKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHR5cGU6IHRoaXMuZ2V0VHlwZSgpLFxuXHRcdFx0ZGF0YTogdGhpcy50b0pTT04oKS5rd2FyZ3Ncblx0XHR9O1xuXHR9XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIkJhc2VNZXNzYWdlXCI7XG5cdH1cblx0Z2V0IF9wcmludGFibGVGaWVsZHMoKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGlkOiB0aGlzLmlkLFxuXHRcdFx0Y29udGVudDogdGhpcy5jb250ZW50LFxuXHRcdFx0bmFtZTogdGhpcy5uYW1lLFxuXHRcdFx0YWRkaXRpb25hbF9rd2FyZ3M6IHRoaXMuYWRkaXRpb25hbF9rd2FyZ3MsXG5cdFx0XHRyZXNwb25zZV9tZXRhZGF0YTogdGhpcy5yZXNwb25zZV9tZXRhZGF0YVxuXHRcdH07XG5cdH1cblx0c3RhdGljIGlzSW5zdGFuY2Uob2JqKSB7XG5cdFx0cmV0dXJuIHR5cGVvZiBvYmogPT09IFwib2JqZWN0XCIgJiYgb2JqICE9PSBudWxsICYmIE1FU1NBR0VfU1lNQk9MIGluIG9iaiAmJiBvYmpbTUVTU0FHRV9TWU1CT0xdID09PSB0cnVlICYmIGlzTWVzc2FnZShvYmopO1xuXHR9XG5cdF91cGRhdGVJZCh2YWx1ZSkge1xuXHRcdHRoaXMuaWQgPSB2YWx1ZTtcblx0XHR0aGlzLmxjX2t3YXJncy5pZCA9IHZhbHVlO1xuXHR9XG5cdGdldCBbU3ltYm9sLnRvU3RyaW5nVGFnXSgpIHtcblx0XHRyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5sY19uYW1lKCk7XG5cdH1cblx0W1N5bWJvbC5mb3IoXCJub2RlanMudXRpbC5pbnNwZWN0LmN1c3RvbVwiKV0oZGVwdGgpIHtcblx0XHRpZiAoZGVwdGggPT09IG51bGwpIHJldHVybiB0aGlzO1xuXHRcdGNvbnN0IHByaW50YWJsZSA9IHN0cmluZ2lmeVdpdGhEZXB0aExpbWl0KHRoaXMuX3ByaW50YWJsZUZpZWxkcywgTWF0aC5tYXgoNCwgZGVwdGgpKTtcblx0XHRyZXR1cm4gYCR7dGhpcy5jb25zdHJ1Y3Rvci5sY19uYW1lKCl9ICR7cHJpbnRhYmxlfWA7XG5cdH1cbn07XG5mdW5jdGlvbiBpc09wZW5BSVRvb2xDYWxsQXJyYXkodmFsdWUpIHtcblx0cmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmV2ZXJ5KCh2KSA9PiB0eXBlb2Ygdi5pbmRleCA9PT0gXCJudW1iZXJcIik7XG59XG5mdW5jdGlvbiBfbWVyZ2VEaWN0cyhsZWZ0ID0ge30sIHJpZ2h0ID0ge30pIHtcblx0Y29uc3QgbWVyZ2VkID0geyAuLi5sZWZ0IH07XG5cdGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHJpZ2h0KSkgaWYgKG1lcmdlZFtrZXldID09IG51bGwpIG1lcmdlZFtrZXldID0gdmFsdWU7XG5cdGVsc2UgaWYgKHZhbHVlID09IG51bGwpIGNvbnRpbnVlO1xuXHRlbHNlIGlmICh0eXBlb2YgbWVyZ2VkW2tleV0gIT09IHR5cGVvZiB2YWx1ZSB8fCBBcnJheS5pc0FycmF5KG1lcmdlZFtrZXldKSAhPT0gQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHRocm93IG5ldyBFcnJvcihgZmllbGRbJHtrZXl9XSBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgbWVzc2FnZSBjaHVuaywgYnV0IHdpdGggYSBkaWZmZXJlbnQgdHlwZS5gKTtcblx0ZWxzZSBpZiAodHlwZW9mIG1lcmdlZFtrZXldID09PSBcInN0cmluZ1wiKSBpZiAoa2V5ID09PSBcInR5cGVcIikgY29udGludWU7XG5cdGVsc2UgaWYgKFtcblx0XHRcImlkXCIsXG5cdFx0XCJuYW1lXCIsXG5cdFx0XCJvdXRwdXRfdmVyc2lvblwiLFxuXHRcdFwibW9kZWxfcHJvdmlkZXJcIlxuXHRdLmluY2x1ZGVzKGtleSkpIG1lcmdlZFtrZXldID0gdmFsdWU7XG5cdGVsc2UgbWVyZ2VkW2tleV0gKz0gdmFsdWU7XG5cdGVsc2UgaWYgKHR5cGVvZiBtZXJnZWRba2V5XSA9PT0gXCJvYmplY3RcIiAmJiAhQXJyYXkuaXNBcnJheShtZXJnZWRba2V5XSkpIG1lcmdlZFtrZXldID0gX21lcmdlRGljdHMobWVyZ2VkW2tleV0sIHZhbHVlKTtcblx0ZWxzZSBpZiAoQXJyYXkuaXNBcnJheShtZXJnZWRba2V5XSkpIG1lcmdlZFtrZXldID0gX21lcmdlTGlzdHMobWVyZ2VkW2tleV0sIHZhbHVlKTtcblx0ZWxzZSBpZiAobWVyZ2VkW2tleV0gPT09IHZhbHVlKSBjb250aW51ZTtcblx0ZWxzZSBjb25zb2xlLndhcm4oYGZpZWxkWyR7a2V5fV0gYWxyZWFkeSBleGlzdHMgaW4gdGhpcyBtZXNzYWdlIGNodW5rIGFuZCB2YWx1ZSBoYXMgdW5zdXBwb3J0ZWQgdHlwZS5gKTtcblx0cmV0dXJuIG1lcmdlZDtcbn1cbmZ1bmN0aW9uIF9tZXJnZUxpc3RzKGxlZnQsIHJpZ2h0KSB7XG5cdGlmIChsZWZ0ID09PSB2b2lkIDAgJiYgcmlnaHQgPT09IHZvaWQgMCkgcmV0dXJuIHZvaWQgMDtcblx0ZWxzZSBpZiAobGVmdCA9PT0gdm9pZCAwIHx8IHJpZ2h0ID09PSB2b2lkIDApIHJldHVybiBsZWZ0IHx8IHJpZ2h0O1xuXHRlbHNlIHtcblx0XHRjb25zdCBtZXJnZWQgPSBbLi4ubGVmdF07XG5cdFx0Zm9yIChjb25zdCBpdGVtIG9mIHJpZ2h0KSBpZiAodHlwZW9mIGl0ZW0gPT09IFwib2JqZWN0XCIgJiYgaXRlbSAhPT0gbnVsbCAmJiBcImluZGV4XCIgaW4gaXRlbSAmJiB0eXBlb2YgaXRlbS5pbmRleCA9PT0gXCJudW1iZXJcIikge1xuXHRcdFx0Y29uc3QgdG9NZXJnZSA9IG1lcmdlZC5maW5kSW5kZXgoKGxlZnRJdGVtKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGlzT2JqZWN0ID0gdHlwZW9mIGxlZnRJdGVtID09PSBcIm9iamVjdFwiO1xuXHRcdFx0XHRjb25zdCBpbmRpY2llc01hdGNoID0gXCJpbmRleFwiIGluIGxlZnRJdGVtICYmIGxlZnRJdGVtLmluZGV4ID09PSBpdGVtLmluZGV4O1xuXHRcdFx0XHRjb25zdCBpZHNNYXRjaCA9IFwiaWRcIiBpbiBsZWZ0SXRlbSAmJiBcImlkXCIgaW4gaXRlbSAmJiBsZWZ0SXRlbT8uaWQgPT09IGl0ZW0/LmlkO1xuXHRcdFx0XHRjb25zdCBlaXRoZXJJdGVtTWlzc2luZ0lEID0gIShcImlkXCIgaW4gbGVmdEl0ZW0pIHx8ICFsZWZ0SXRlbT8uaWQgfHwgIShcImlkXCIgaW4gaXRlbSkgfHwgIWl0ZW0/LmlkO1xuXHRcdFx0XHRyZXR1cm4gaXNPYmplY3QgJiYgaW5kaWNpZXNNYXRjaCAmJiAoaWRzTWF0Y2ggfHwgZWl0aGVySXRlbU1pc3NpbmdJRCk7XG5cdFx0XHR9KTtcblx0XHRcdGlmICh0b01lcmdlICE9PSAtMSAmJiB0eXBlb2YgbWVyZ2VkW3RvTWVyZ2VdID09PSBcIm9iamVjdFwiICYmIG1lcmdlZFt0b01lcmdlXSAhPT0gbnVsbCkgbWVyZ2VkW3RvTWVyZ2VdID0gX21lcmdlRGljdHMobWVyZ2VkW3RvTWVyZ2VdLCBpdGVtKTtcblx0XHRcdGVsc2UgbWVyZ2VkLnB1c2goaXRlbSk7XG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgaXRlbSA9PT0gXCJvYmplY3RcIiAmJiBpdGVtICE9PSBudWxsICYmIFwidGV4dFwiIGluIGl0ZW0gJiYgaXRlbS50ZXh0ID09PSBcIlwiKSBjb250aW51ZTtcblx0XHRlbHNlIG1lcmdlZC5wdXNoKGl0ZW0pO1xuXHRcdHJldHVybiBtZXJnZWQ7XG5cdH1cbn1cbmZ1bmN0aW9uIF9tZXJnZU9iaihsZWZ0LCByaWdodCkge1xuXHRpZiAoIWxlZnQgJiYgIXJpZ2h0KSB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgbWVyZ2UgdHdvIHVuZGVmaW5lZCBvYmplY3RzLlwiKTtcblx0aWYgKCFsZWZ0IHx8ICFyaWdodCkgcmV0dXJuIGxlZnQgfHwgcmlnaHQ7XG5cdGVsc2UgaWYgKHR5cGVvZiBsZWZ0ICE9PSB0eXBlb2YgcmlnaHQpIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IG1lcmdlIG9iamVjdHMgb2YgZGlmZmVyZW50IHR5cGVzLlxcbkxlZnQgJHt0eXBlb2YgbGVmdH1cXG5SaWdodCAke3R5cGVvZiByaWdodH1gKTtcblx0ZWxzZSBpZiAodHlwZW9mIGxlZnQgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIHJpZ2h0ID09PSBcInN0cmluZ1wiKSByZXR1cm4gbGVmdCArIHJpZ2h0O1xuXHRlbHNlIGlmIChBcnJheS5pc0FycmF5KGxlZnQpICYmIEFycmF5LmlzQXJyYXkocmlnaHQpKSByZXR1cm4gX21lcmdlTGlzdHMobGVmdCwgcmlnaHQpO1xuXHRlbHNlIGlmICh0eXBlb2YgbGVmdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgcmlnaHQgPT09IFwib2JqZWN0XCIpIHJldHVybiBfbWVyZ2VEaWN0cyhsZWZ0LCByaWdodCk7XG5cdGVsc2UgaWYgKGxlZnQgPT09IHJpZ2h0KSByZXR1cm4gbGVmdDtcblx0ZWxzZSB0aHJvdyBuZXcgRXJyb3IoYENhbiBub3QgbWVyZ2Ugb2JqZWN0cyBvZiBkaWZmZXJlbnQgdHlwZXMuXFxuTGVmdCAke2xlZnR9XFxuUmlnaHQgJHtyaWdodH1gKTtcbn1cbi8qKlxuKiBSZXByZXNlbnRzIGEgY2h1bmsgb2YgYSBtZXNzYWdlLCB3aGljaCBjYW4gYmUgY29uY2F0ZW5hdGVkIHdpdGggb3RoZXJcbiogbWVzc2FnZSBjaHVua3MuIEl0IGluY2x1ZGVzIGEgbWV0aG9kIGBfbWVyZ2Vfa3dhcmdzX2RpY3QoKWAgZm9yIG1lcmdpbmdcbiogYWRkaXRpb25hbCBrZXl3b3JkIGFyZ3VtZW50cyBmcm9tIGFub3RoZXIgYEJhc2VNZXNzYWdlQ2h1bmtgIGludG8gdGhpc1xuKiBvbmUuIEl0IGFsc28gb3ZlcnJpZGVzIHRoZSBgX19hZGRfXygpYCBtZXRob2QgdG8gc3VwcG9ydCBjb25jYXRlbmF0aW9uXG4qIG9mIGBCYXNlTWVzc2FnZUNodW5rYCBpbnN0YW5jZXMuXG4qL1xudmFyIEJhc2VNZXNzYWdlQ2h1bmsgPSBjbGFzcyBleHRlbmRzIEJhc2VNZXNzYWdlIHtcblx0c3RhdGljIGlzSW5zdGFuY2Uob2JqKSB7XG5cdFx0cmV0dXJuIHN1cGVyLmlzSW5zdGFuY2Uob2JqKSAmJiBcImNvbmNhdFwiIGluIG9iaiAmJiB0eXBlb2Ygb2JqLmNvbmNhdCA9PT0gXCJmdW5jdGlvblwiO1xuXHR9XG59O1xuZnVuY3Rpb24gX2lzTWVzc2FnZUZpZWxkV2l0aFJvbGUoeCkge1xuXHRyZXR1cm4gdHlwZW9mIHgucm9sZSA9PT0gXCJzdHJpbmdcIjtcbn1cbi8qKlxuKiBAZGVwcmVjYXRlZCBVc2Uge0BsaW5rIEJhc2VNZXNzYWdlLmlzSW5zdGFuY2V9IGluc3RlYWRcbiovXG5mdW5jdGlvbiBpc0Jhc2VNZXNzYWdlKG1lc3NhZ2VMaWtlKSB7XG5cdHJldHVybiB0eXBlb2YgbWVzc2FnZUxpa2U/Ll9nZXRUeXBlID09PSBcImZ1bmN0aW9uXCI7XG59XG4vKipcbiogQGRlcHJlY2F0ZWQgVXNlIHtAbGluayBCYXNlTWVzc2FnZUNodW5rLmlzSW5zdGFuY2V9IGluc3RlYWRcbiovXG5mdW5jdGlvbiBpc0Jhc2VNZXNzYWdlQ2h1bmsobWVzc2FnZUxpa2UpIHtcblx0cmV0dXJuIGlzQmFzZU1lc3NhZ2UobWVzc2FnZUxpa2UpICYmIHR5cGVvZiBtZXNzYWdlTGlrZS5jb25jYXQgPT09IFwiZnVuY3Rpb25cIjtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBCYXNlTWVzc2FnZSwgQmFzZU1lc3NhZ2VDaHVuaywgX2lzTWVzc2FnZUZpZWxkV2l0aFJvbGUsIF9tZXJnZURpY3RzLCBfbWVyZ2VMaXN0cywgX21lcmdlT2JqLCBfbWVyZ2VTdGF0dXMsIGlzQmFzZU1lc3NhZ2UsIGlzQmFzZU1lc3NhZ2VDaHVuaywgaXNPcGVuQUlUb29sQ2FsbEFycmF5LCBtZXJnZUNvbnRlbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhc2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/base.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/anthropic.js":
/*!****************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/anthropic.js ***!
  \****************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatAnthropicTranslator: () => (/* binding */ ChatAnthropicTranslator),\n/* harmony export */   convertToV1FromAnthropicInput: () => (/* binding */ convertToV1FromAnthropicInput)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/utils.js\");\n\n\n//#region src/messages/block_translators/anthropic.ts\nfunction convertAnthropicAnnotation(citation) {\n\tif (citation.type === \"char_location\" && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(citation.document_title) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isNumber)(citation.start_char_index) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isNumber)(citation.end_char_index) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(citation.cited_text)) {\n\t\tconst { document_title, start_char_index, end_char_index, cited_text,...rest } = citation;\n\t\treturn {\n\t\t\t...rest,\n\t\t\ttype: \"citation\",\n\t\t\tsource: \"char\",\n\t\t\ttitle: document_title ?? void 0,\n\t\t\tstartIndex: start_char_index,\n\t\t\tendIndex: end_char_index,\n\t\t\tcitedText: cited_text\n\t\t};\n\t}\n\tif (citation.type === \"page_location\" && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(citation.document_title) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isNumber)(citation.start_page_number) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isNumber)(citation.end_page_number) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(citation.cited_text)) {\n\t\tconst { document_title, start_page_number, end_page_number, cited_text,...rest } = citation;\n\t\treturn {\n\t\t\t...rest,\n\t\t\ttype: \"citation\",\n\t\t\tsource: \"page\",\n\t\t\ttitle: document_title ?? void 0,\n\t\t\tstartIndex: start_page_number,\n\t\t\tendIndex: end_page_number,\n\t\t\tcitedText: cited_text\n\t\t};\n\t}\n\tif (citation.type === \"content_block_location\" && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(citation.document_title) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isNumber)(citation.start_block_index) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isNumber)(citation.end_block_index) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(citation.cited_text)) {\n\t\tconst { document_title, start_block_index, end_block_index, cited_text,...rest } = citation;\n\t\treturn {\n\t\t\t...rest,\n\t\t\ttype: \"citation\",\n\t\t\tsource: \"block\",\n\t\t\ttitle: document_title ?? void 0,\n\t\t\tstartIndex: start_block_index,\n\t\t\tendIndex: end_block_index,\n\t\t\tcitedText: cited_text\n\t\t};\n\t}\n\tif (citation.type === \"web_search_result_location\" && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(citation.url) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(citation.title) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(citation.encrypted_index) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(citation.cited_text)) {\n\t\tconst { url, title, encrypted_index, cited_text,...rest } = citation;\n\t\treturn {\n\t\t\t...rest,\n\t\t\ttype: \"citation\",\n\t\t\tsource: \"url\",\n\t\t\turl,\n\t\t\ttitle,\n\t\t\tstartIndex: Number(encrypted_index),\n\t\t\tendIndex: Number(encrypted_index),\n\t\t\tcitedText: cited_text\n\t\t};\n\t}\n\tif (citation.type === \"search_result_location\" && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(citation.source) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(citation.title) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isNumber)(citation.start_block_index) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isNumber)(citation.end_block_index) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(citation.cited_text)) {\n\t\tconst { source, title, start_block_index, end_block_index, cited_text,...rest } = citation;\n\t\treturn {\n\t\t\t...rest,\n\t\t\ttype: \"citation\",\n\t\t\tsource: \"search\",\n\t\t\turl: source,\n\t\t\ttitle: title ?? void 0,\n\t\t\tstartIndex: start_block_index,\n\t\t\tendIndex: end_block_index,\n\t\t\tcitedText: cited_text\n\t\t};\n\t}\n\treturn void 0;\n}\n/**\n* Converts an Anthropic content block to a standard V1 content block.\n*\n* This function handles the conversion of Anthropic-specific content blocks\n* (document and image blocks) to the standardized V1 format. It supports\n* various source types including base64 data, URLs, file IDs, and text data.\n*\n* @param block - The Anthropic content block to convert\n* @returns A standard V1 content block if conversion is successful, undefined otherwise\n*\n* @example\n* ```typescript\n* const anthropicBlock = {\n*   type: \"image\",\n*   source: {\n*     type: \"base64\",\n*     media_type: \"image/png\",\n*     data: \"iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8/5+hHgAHggJ/PchI7wAAAABJRU5ErkJggg==\"\n*   }\n* };\n*\n* const standardBlock = convertToV1FromAnthropicContentBlock(anthropicBlock);\n* // Returns: { type: \"image\", mimeType: \"image/png\", data: \"...\" }\n* ```\n*/\nfunction convertToV1FromAnthropicContentBlock(block) {\n\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"document\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.source) && \"type\" in block.source) {\n\t\tif (block.source.type === \"base64\" && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.source.media_type) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.source.data)) return {\n\t\t\ttype: \"file\",\n\t\t\tmimeType: block.source.media_type,\n\t\t\tdata: block.source.data\n\t\t};\n\t\telse if (block.source.type === \"url\" && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.source.url)) return {\n\t\t\ttype: \"file\",\n\t\t\turl: block.source.url\n\t\t};\n\t\telse if (block.source.type === \"file\" && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.source.file_id)) return {\n\t\t\ttype: \"file\",\n\t\t\tfileId: block.source.file_id\n\t\t};\n\t\telse if (block.source.type === \"text\" && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.source.data)) return {\n\t\t\ttype: \"file\",\n\t\t\tmimeType: String(block.source.media_type ?? \"text/plain\"),\n\t\t\tdata: block.source.data\n\t\t};\n\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"image\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.source) && \"type\" in block.source) {\n\t\tif (block.source.type === \"base64\" && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.source.media_type) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.source.data)) return {\n\t\t\ttype: \"image\",\n\t\t\tmimeType: block.source.media_type,\n\t\t\tdata: block.source.data\n\t\t};\n\t\telse if (block.source.type === \"url\" && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.source.url)) return {\n\t\t\ttype: \"image\",\n\t\t\turl: block.source.url\n\t\t};\n\t\telse if (block.source.type === \"file\" && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.source.file_id)) return {\n\t\t\ttype: \"image\",\n\t\t\tfileId: block.source.file_id\n\t\t};\n\t}\n\treturn void 0;\n}\n/**\n* Converts an array of content blocks from Anthropic format to v1 standard format.\n*\n* This function processes each content block in the input array, attempting to convert\n* Anthropic-specific block formats (like image blocks with source objects, document blocks, etc.)\n* to the standardized v1 content block format. If a block cannot be converted, it is\n* passed through as-is with a type assertion to ContentBlock.Standard.\n*\n* @param content - Array of content blocks in Anthropic format to be converted\n* @returns Array of content blocks in v1 standard format\n*/\nfunction convertToV1FromAnthropicInput(content) {\n\tfunction* iterateContent() {\n\t\tfor (const block of content) {\n\t\t\tconst stdBlock = convertToV1FromAnthropicContentBlock(block);\n\t\t\tif (stdBlock) yield stdBlock;\n\t\t\telse yield block;\n\t\t}\n\t}\n\treturn Array.from(iterateContent());\n}\n/**\n* Converts an Anthropic AI message to an array of v1 standard content blocks.\n*\n* This function processes an AI message containing Anthropic-specific content blocks\n* and converts them to the standardized v1 content block format.\n*\n* @param message - The AI message containing Anthropic-formatted content blocks\n* @returns Array of content blocks in v1 standard format\n*\n* @example\n* ```typescript\n* const message = new AIMessage([\n*   { type: \"text\", text: \"Hello world\" },\n*   { type: \"thinking\", text: \"Let me think about this...\" },\n*   { type: \"tool_use\", id: \"123\", name: \"calculator\", input: { a: 1, b: 2 } }\n* ]);\n*\n* const standardBlocks = convertToV1FromAnthropicMessage(message);\n* // Returns:\n* // [\n* //   { type: \"text\", text: \"Hello world\" },\n* //   { type: \"reasoning\", reasoning: \"Let me think about this...\" },\n* //   { type: \"tool_call\", id: \"123\", name: \"calculator\", args: { a: 1, b: 2 } }\n* // ]\n* ```\n*/\nfunction convertToV1FromAnthropicMessage(message) {\n\tfunction* iterateContent() {\n\t\tconst content = typeof message.content === \"string\" ? [{\n\t\t\ttype: \"text\",\n\t\t\ttext: message.content\n\t\t}] : message.content;\n\t\tfor (const block of content) {\n\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"text\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.text)) {\n\t\t\t\tconst { text, citations,...rest } = block;\n\t\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isArray)(citations) && citations.length) {\n\t\t\t\t\tconst _citations = citations.reduce((acc, item) => {\n\t\t\t\t\t\tconst citation = convertAnthropicAnnotation(item);\n\t\t\t\t\t\tif (citation) return [...acc, citation];\n\t\t\t\t\t\treturn acc;\n\t\t\t\t\t}, []);\n\t\t\t\t\tyield {\n\t\t\t\t\t\t...rest,\n\t\t\t\t\t\ttype: \"text\",\n\t\t\t\t\t\ttext,\n\t\t\t\t\t\tannotations: _citations\n\t\t\t\t\t};\n\t\t\t\t\tcontinue;\n\t\t\t\t} else {\n\t\t\t\t\tyield {\n\t\t\t\t\t\t...rest,\n\t\t\t\t\t\ttype: \"text\",\n\t\t\t\t\t\ttext\n\t\t\t\t\t};\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"thinking\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.thinking)) {\n\t\t\t\tconst { thinking, signature,...rest } = block;\n\t\t\t\tyield {\n\t\t\t\t\t...rest,\n\t\t\t\t\ttype: \"reasoning\",\n\t\t\t\t\treasoning: thinking,\n\t\t\t\t\tsignature\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"redacted_thinking\")) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"non_standard\",\n\t\t\t\t\tvalue: block\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"tool_use\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.name) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.id)) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"tool_call\",\n\t\t\t\t\tid: block.id,\n\t\t\t\t\tname: block.name,\n\t\t\t\t\targs: block.input\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"input_json_delta\")) {\n\t\t\t\tif (_isAIMessageChunk(message) && message.tool_call_chunks?.length) {\n\t\t\t\t\tconst tool_call_chunk = message.tool_call_chunks[0];\n\t\t\t\t\tyield {\n\t\t\t\t\t\ttype: \"tool_call_chunk\",\n\t\t\t\t\t\tid: tool_call_chunk.id,\n\t\t\t\t\t\tname: tool_call_chunk.name,\n\t\t\t\t\t\targs: tool_call_chunk.args,\n\t\t\t\t\t\tindex: tool_call_chunk.index\n\t\t\t\t\t};\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"server_tool_use\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.name) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.id)) {\n\t\t\t\tconst { name, id } = block;\n\t\t\t\tif (name === \"web_search\") {\n\t\t\t\t\tconst query = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iife)(() => {\n\t\t\t\t\t\tif (typeof block.input === \"string\") return block.input;\n\t\t\t\t\t\telse if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.input) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.input.query)) return block.input.query;\n\t\t\t\t\t\telse if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.partial_json)) {\n\t\t\t\t\t\t\tconst json = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.safeParseJson)(block.partial_json);\n\t\t\t\t\t\t\tif (json?.query) return json.query;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn \"\";\n\t\t\t\t\t});\n\t\t\t\t\tyield {\n\t\t\t\t\t\tid,\n\t\t\t\t\t\ttype: \"server_tool_call\",\n\t\t\t\t\t\tname: \"web_search\",\n\t\t\t\t\t\targs: { query }\n\t\t\t\t\t};\n\t\t\t\t\tcontinue;\n\t\t\t\t} else if (block.name === \"code_execution\") {\n\t\t\t\t\tconst code = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iife)(() => {\n\t\t\t\t\t\tif (typeof block.input === \"string\") return block.input;\n\t\t\t\t\t\telse if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.input) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.input.code)) return block.input.code;\n\t\t\t\t\t\telse if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.partial_json)) {\n\t\t\t\t\t\t\tconst json = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.safeParseJson)(block.partial_json);\n\t\t\t\t\t\t\tif (json?.code) return json.code;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn \"\";\n\t\t\t\t\t});\n\t\t\t\t\tyield {\n\t\t\t\t\t\tid,\n\t\t\t\t\t\ttype: \"server_tool_call\",\n\t\t\t\t\t\tname: \"code_execution\",\n\t\t\t\t\t\targs: { code }\n\t\t\t\t\t};\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"web_search_tool_result\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.tool_use_id) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isArray)(block.content)) {\n\t\t\t\tconst { content: content$1, tool_use_id } = block;\n\t\t\t\tconst urls = content$1.reduce((acc, content$2) => {\n\t\t\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(content$2, \"web_search_result\")) return [...acc, content$2.url];\n\t\t\t\t\treturn acc;\n\t\t\t\t}, []);\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"server_tool_call_result\",\n\t\t\t\t\tname: \"web_search\",\n\t\t\t\t\ttoolCallId: tool_use_id,\n\t\t\t\t\tstatus: \"success\",\n\t\t\t\t\toutput: { urls }\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"code_execution_tool_result\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.tool_use_id) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.content)) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"server_tool_call_result\",\n\t\t\t\t\tname: \"code_execution\",\n\t\t\t\t\ttoolCallId: block.tool_use_id,\n\t\t\t\t\tstatus: \"success\",\n\t\t\t\t\toutput: block.content\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"mcp_tool_use\")) {\n\t\t\t\tyield {\n\t\t\t\t\tid: block.id,\n\t\t\t\t\ttype: \"server_tool_call\",\n\t\t\t\t\tname: \"mcp_tool_use\",\n\t\t\t\t\targs: block.input\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"mcp_tool_result\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.tool_use_id) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.content)) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"server_tool_call_result\",\n\t\t\t\t\tname: \"mcp_tool_use\",\n\t\t\t\t\ttoolCallId: block.tool_use_id,\n\t\t\t\t\tstatus: \"success\",\n\t\t\t\t\toutput: block.content\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"container_upload\")) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"server_tool_call\",\n\t\t\t\t\tname: \"container_upload\",\n\t\t\t\t\targs: block.input\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"search_result\")) {\n\t\t\t\tyield {\n\t\t\t\t\tid: block.id,\n\t\t\t\t\ttype: \"non_standard\",\n\t\t\t\t\tvalue: block\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"tool_result\")) {\n\t\t\t\tyield {\n\t\t\t\t\tid: block.id,\n\t\t\t\t\ttype: \"non_standard\",\n\t\t\t\t\tvalue: block\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else {\n\t\t\t\tconst stdBlock = convertToV1FromAnthropicContentBlock(block);\n\t\t\t\tif (stdBlock) {\n\t\t\t\t\tyield stdBlock;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\tyield {\n\t\t\t\ttype: \"non_standard\",\n\t\t\t\tvalue: block\n\t\t\t};\n\t\t}\n\t}\n\treturn Array.from(iterateContent());\n}\nconst ChatAnthropicTranslator = {\n\ttranslateContent: convertToV1FromAnthropicMessage,\n\ttranslateContentChunk: convertToV1FromAnthropicMessage\n};\nfunction _isAIMessageChunk(message) {\n\treturn typeof message?._getType === \"function\" && typeof message.concat === \"function\" && message._getType() === \"ai\";\n}\n\n//#endregion\n\n//# sourceMappingURL=anthropic.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy9hbnRocm9waWMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTZHOztBQUU3RztBQUNBO0FBQ0EsMENBQTBDLG9EQUFTLDZCQUE2QixvREFBUywrQkFBK0Isb0RBQVMsNkJBQTZCLG9EQUFTO0FBQ3ZLLFVBQVUsdUVBQXVFO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLG9EQUFTLDZCQUE2QixvREFBUyxnQ0FBZ0Msb0RBQVMsOEJBQThCLG9EQUFTO0FBQ3pLLFVBQVUseUVBQXlFO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELG9EQUFTLDZCQUE2QixvREFBUyxnQ0FBZ0Msb0RBQVMsOEJBQThCLG9EQUFTO0FBQ2xMLFVBQVUseUVBQXlFO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELG9EQUFTLGtCQUFrQixvREFBUyxvQkFBb0Isb0RBQVMsOEJBQThCLG9EQUFTO0FBQy9KLFVBQVUsa0RBQWtEO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsb0RBQVMscUJBQXFCLG9EQUFTLG9CQUFvQixvREFBUyxnQ0FBZ0Msb0RBQVMsOEJBQThCLG9EQUFTO0FBQ3ZNLFVBQVUsd0VBQXdFO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0EsS0FBSywwREFBZSx1QkFBdUIsb0RBQVM7QUFDcEQsd0NBQXdDLG9EQUFTLDZCQUE2QixvREFBUztBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxvREFBUztBQUNuRDtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsb0RBQVM7QUFDcEQ7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLG9EQUFTO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxTQUFTLDBEQUFlLG9CQUFvQixvREFBUztBQUN4RCx3Q0FBd0Msb0RBQVMsNkJBQTZCLG9EQUFTO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLG9EQUFTO0FBQ25EO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxvREFBUztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLG1DQUFtQztBQUN6QyxNQUFNLHNEQUFzRDtBQUM1RCxNQUFNLDBEQUEwRDtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxtQ0FBbUM7QUFDNUMsU0FBUyw0REFBNEQ7QUFDckUsU0FBUywwREFBMEQ7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLE9BQU8sMERBQWUsbUJBQW1CLG9EQUFTO0FBQ2xELFlBQVksMEJBQTBCO0FBQ3RDLFFBQVEsbURBQVE7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLFNBQVMsMERBQWUsdUJBQXVCLG9EQUFTO0FBQzdELFlBQVksOEJBQThCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxTQUFTLDBEQUFlO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLFNBQVMsMERBQWUsdUJBQXVCLG9EQUFTLGdCQUFnQixvREFBUztBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssU0FBUywwREFBZTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxTQUFTLDBEQUFlLDhCQUE4QixvREFBUyxnQkFBZ0Isb0RBQVM7QUFDN0YsWUFBWSxXQUFXO0FBQ3ZCO0FBQ0EsbUJBQW1CLCtDQUFJO0FBQ3ZCO0FBQ0EsZUFBZSxvREFBUyxpQkFBaUIsb0RBQVM7QUFDbEQsZUFBZSxvREFBUztBQUN4QixvQkFBb0Isd0RBQWE7QUFDakM7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxNQUFNO0FBQ04sa0JBQWtCLCtDQUFJO0FBQ3RCO0FBQ0EsZUFBZSxvREFBUyxpQkFBaUIsb0RBQVM7QUFDbEQsZUFBZSxvREFBUztBQUN4QixvQkFBb0Isd0RBQWE7QUFDakM7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBLEtBQUssU0FBUywwREFBZSxxQ0FBcUMsb0RBQVMsdUJBQXVCLG1EQUFRO0FBQzFHLFlBQVksa0NBQWtDO0FBQzlDO0FBQ0EsU0FBUywwREFBZTtBQUN4QjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQSxLQUFLLFNBQVMsMERBQWUseUNBQXlDLG9EQUFTLHVCQUF1QixvREFBUztBQUMvRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxTQUFTLDBEQUFlO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxTQUFTLDBEQUFlLDhCQUE4QixvREFBUyx1QkFBdUIsb0RBQVM7QUFDcEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssU0FBUywwREFBZTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLFNBQVMsMERBQWU7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxTQUFTLDBEQUFlO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDa0U7QUFDbEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL2Jsb2NrX3RyYW5zbGF0b3JzL2FudGhyb3BpYy5qcz9kNDI0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9pc0FycmF5LCBfaXNDb250ZW50QmxvY2ssIF9pc051bWJlciwgX2lzT2JqZWN0LCBfaXNTdHJpbmcsIGlpZmUsIHNhZmVQYXJzZUpzb24gfSBmcm9tIFwiLi91dGlscy5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL21lc3NhZ2VzL2Jsb2NrX3RyYW5zbGF0b3JzL2FudGhyb3BpYy50c1xuZnVuY3Rpb24gY29udmVydEFudGhyb3BpY0Fubm90YXRpb24oY2l0YXRpb24pIHtcblx0aWYgKGNpdGF0aW9uLnR5cGUgPT09IFwiY2hhcl9sb2NhdGlvblwiICYmIF9pc1N0cmluZyhjaXRhdGlvbi5kb2N1bWVudF90aXRsZSkgJiYgX2lzTnVtYmVyKGNpdGF0aW9uLnN0YXJ0X2NoYXJfaW5kZXgpICYmIF9pc051bWJlcihjaXRhdGlvbi5lbmRfY2hhcl9pbmRleCkgJiYgX2lzU3RyaW5nKGNpdGF0aW9uLmNpdGVkX3RleHQpKSB7XG5cdFx0Y29uc3QgeyBkb2N1bWVudF90aXRsZSwgc3RhcnRfY2hhcl9pbmRleCwgZW5kX2NoYXJfaW5kZXgsIGNpdGVkX3RleHQsLi4ucmVzdCB9ID0gY2l0YXRpb247XG5cdFx0cmV0dXJuIHtcblx0XHRcdC4uLnJlc3QsXG5cdFx0XHR0eXBlOiBcImNpdGF0aW9uXCIsXG5cdFx0XHRzb3VyY2U6IFwiY2hhclwiLFxuXHRcdFx0dGl0bGU6IGRvY3VtZW50X3RpdGxlID8/IHZvaWQgMCxcblx0XHRcdHN0YXJ0SW5kZXg6IHN0YXJ0X2NoYXJfaW5kZXgsXG5cdFx0XHRlbmRJbmRleDogZW5kX2NoYXJfaW5kZXgsXG5cdFx0XHRjaXRlZFRleHQ6IGNpdGVkX3RleHRcblx0XHR9O1xuXHR9XG5cdGlmIChjaXRhdGlvbi50eXBlID09PSBcInBhZ2VfbG9jYXRpb25cIiAmJiBfaXNTdHJpbmcoY2l0YXRpb24uZG9jdW1lbnRfdGl0bGUpICYmIF9pc051bWJlcihjaXRhdGlvbi5zdGFydF9wYWdlX251bWJlcikgJiYgX2lzTnVtYmVyKGNpdGF0aW9uLmVuZF9wYWdlX251bWJlcikgJiYgX2lzU3RyaW5nKGNpdGF0aW9uLmNpdGVkX3RleHQpKSB7XG5cdFx0Y29uc3QgeyBkb2N1bWVudF90aXRsZSwgc3RhcnRfcGFnZV9udW1iZXIsIGVuZF9wYWdlX251bWJlciwgY2l0ZWRfdGV4dCwuLi5yZXN0IH0gPSBjaXRhdGlvbjtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Li4ucmVzdCxcblx0XHRcdHR5cGU6IFwiY2l0YXRpb25cIixcblx0XHRcdHNvdXJjZTogXCJwYWdlXCIsXG5cdFx0XHR0aXRsZTogZG9jdW1lbnRfdGl0bGUgPz8gdm9pZCAwLFxuXHRcdFx0c3RhcnRJbmRleDogc3RhcnRfcGFnZV9udW1iZXIsXG5cdFx0XHRlbmRJbmRleDogZW5kX3BhZ2VfbnVtYmVyLFxuXHRcdFx0Y2l0ZWRUZXh0OiBjaXRlZF90ZXh0XG5cdFx0fTtcblx0fVxuXHRpZiAoY2l0YXRpb24udHlwZSA9PT0gXCJjb250ZW50X2Jsb2NrX2xvY2F0aW9uXCIgJiYgX2lzU3RyaW5nKGNpdGF0aW9uLmRvY3VtZW50X3RpdGxlKSAmJiBfaXNOdW1iZXIoY2l0YXRpb24uc3RhcnRfYmxvY2tfaW5kZXgpICYmIF9pc051bWJlcihjaXRhdGlvbi5lbmRfYmxvY2tfaW5kZXgpICYmIF9pc1N0cmluZyhjaXRhdGlvbi5jaXRlZF90ZXh0KSkge1xuXHRcdGNvbnN0IHsgZG9jdW1lbnRfdGl0bGUsIHN0YXJ0X2Jsb2NrX2luZGV4LCBlbmRfYmxvY2tfaW5kZXgsIGNpdGVkX3RleHQsLi4ucmVzdCB9ID0gY2l0YXRpb247XG5cdFx0cmV0dXJuIHtcblx0XHRcdC4uLnJlc3QsXG5cdFx0XHR0eXBlOiBcImNpdGF0aW9uXCIsXG5cdFx0XHRzb3VyY2U6IFwiYmxvY2tcIixcblx0XHRcdHRpdGxlOiBkb2N1bWVudF90aXRsZSA/PyB2b2lkIDAsXG5cdFx0XHRzdGFydEluZGV4OiBzdGFydF9ibG9ja19pbmRleCxcblx0XHRcdGVuZEluZGV4OiBlbmRfYmxvY2tfaW5kZXgsXG5cdFx0XHRjaXRlZFRleHQ6IGNpdGVkX3RleHRcblx0XHR9O1xuXHR9XG5cdGlmIChjaXRhdGlvbi50eXBlID09PSBcIndlYl9zZWFyY2hfcmVzdWx0X2xvY2F0aW9uXCIgJiYgX2lzU3RyaW5nKGNpdGF0aW9uLnVybCkgJiYgX2lzU3RyaW5nKGNpdGF0aW9uLnRpdGxlKSAmJiBfaXNTdHJpbmcoY2l0YXRpb24uZW5jcnlwdGVkX2luZGV4KSAmJiBfaXNTdHJpbmcoY2l0YXRpb24uY2l0ZWRfdGV4dCkpIHtcblx0XHRjb25zdCB7IHVybCwgdGl0bGUsIGVuY3J5cHRlZF9pbmRleCwgY2l0ZWRfdGV4dCwuLi5yZXN0IH0gPSBjaXRhdGlvbjtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Li4ucmVzdCxcblx0XHRcdHR5cGU6IFwiY2l0YXRpb25cIixcblx0XHRcdHNvdXJjZTogXCJ1cmxcIixcblx0XHRcdHVybCxcblx0XHRcdHRpdGxlLFxuXHRcdFx0c3RhcnRJbmRleDogTnVtYmVyKGVuY3J5cHRlZF9pbmRleCksXG5cdFx0XHRlbmRJbmRleDogTnVtYmVyKGVuY3J5cHRlZF9pbmRleCksXG5cdFx0XHRjaXRlZFRleHQ6IGNpdGVkX3RleHRcblx0XHR9O1xuXHR9XG5cdGlmIChjaXRhdGlvbi50eXBlID09PSBcInNlYXJjaF9yZXN1bHRfbG9jYXRpb25cIiAmJiBfaXNTdHJpbmcoY2l0YXRpb24uc291cmNlKSAmJiBfaXNTdHJpbmcoY2l0YXRpb24udGl0bGUpICYmIF9pc051bWJlcihjaXRhdGlvbi5zdGFydF9ibG9ja19pbmRleCkgJiYgX2lzTnVtYmVyKGNpdGF0aW9uLmVuZF9ibG9ja19pbmRleCkgJiYgX2lzU3RyaW5nKGNpdGF0aW9uLmNpdGVkX3RleHQpKSB7XG5cdFx0Y29uc3QgeyBzb3VyY2UsIHRpdGxlLCBzdGFydF9ibG9ja19pbmRleCwgZW5kX2Jsb2NrX2luZGV4LCBjaXRlZF90ZXh0LC4uLnJlc3QgfSA9IGNpdGF0aW9uO1xuXHRcdHJldHVybiB7XG5cdFx0XHQuLi5yZXN0LFxuXHRcdFx0dHlwZTogXCJjaXRhdGlvblwiLFxuXHRcdFx0c291cmNlOiBcInNlYXJjaFwiLFxuXHRcdFx0dXJsOiBzb3VyY2UsXG5cdFx0XHR0aXRsZTogdGl0bGUgPz8gdm9pZCAwLFxuXHRcdFx0c3RhcnRJbmRleDogc3RhcnRfYmxvY2tfaW5kZXgsXG5cdFx0XHRlbmRJbmRleDogZW5kX2Jsb2NrX2luZGV4LFxuXHRcdFx0Y2l0ZWRUZXh0OiBjaXRlZF90ZXh0XG5cdFx0fTtcblx0fVxuXHRyZXR1cm4gdm9pZCAwO1xufVxuLyoqXG4qIENvbnZlcnRzIGFuIEFudGhyb3BpYyBjb250ZW50IGJsb2NrIHRvIGEgc3RhbmRhcmQgVjEgY29udGVudCBibG9jay5cbipcbiogVGhpcyBmdW5jdGlvbiBoYW5kbGVzIHRoZSBjb252ZXJzaW9uIG9mIEFudGhyb3BpYy1zcGVjaWZpYyBjb250ZW50IGJsb2Nrc1xuKiAoZG9jdW1lbnQgYW5kIGltYWdlIGJsb2NrcykgdG8gdGhlIHN0YW5kYXJkaXplZCBWMSBmb3JtYXQuIEl0IHN1cHBvcnRzXG4qIHZhcmlvdXMgc291cmNlIHR5cGVzIGluY2x1ZGluZyBiYXNlNjQgZGF0YSwgVVJMcywgZmlsZSBJRHMsIGFuZCB0ZXh0IGRhdGEuXG4qXG4qIEBwYXJhbSBibG9jayAtIFRoZSBBbnRocm9waWMgY29udGVudCBibG9jayB0byBjb252ZXJ0XG4qIEByZXR1cm5zIEEgc3RhbmRhcmQgVjEgY29udGVudCBibG9jayBpZiBjb252ZXJzaW9uIGlzIHN1Y2Nlc3NmdWwsIHVuZGVmaW5lZCBvdGhlcndpc2VcbipcbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBhbnRocm9waWNCbG9jayA9IHtcbiogICB0eXBlOiBcImltYWdlXCIsXG4qICAgc291cmNlOiB7XG4qICAgICB0eXBlOiBcImJhc2U2NFwiLFxuKiAgICAgbWVkaWFfdHlwZTogXCJpbWFnZS9wbmdcIixcbiogICAgIGRhdGE6IFwiaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQUJDQVlBQUFBZkZjU0pBQUFBRFVsRVFWUjQybVA4LzUraEhnQUhnZ0ovUGNoSTd3QUFBQUJKUlU1RXJrSmdnZz09XCJcbiogICB9XG4qIH07XG4qXG4qIGNvbnN0IHN0YW5kYXJkQmxvY2sgPSBjb252ZXJ0VG9WMUZyb21BbnRocm9waWNDb250ZW50QmxvY2soYW50aHJvcGljQmxvY2spO1xuKiAvLyBSZXR1cm5zOiB7IHR5cGU6IFwiaW1hZ2VcIiwgbWltZVR5cGU6IFwiaW1hZ2UvcG5nXCIsIGRhdGE6IFwiLi4uXCIgfVxuKiBgYGBcbiovXG5mdW5jdGlvbiBjb252ZXJ0VG9WMUZyb21BbnRocm9waWNDb250ZW50QmxvY2soYmxvY2spIHtcblx0aWYgKF9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJkb2N1bWVudFwiKSAmJiBfaXNPYmplY3QoYmxvY2suc291cmNlKSAmJiBcInR5cGVcIiBpbiBibG9jay5zb3VyY2UpIHtcblx0XHRpZiAoYmxvY2suc291cmNlLnR5cGUgPT09IFwiYmFzZTY0XCIgJiYgX2lzU3RyaW5nKGJsb2NrLnNvdXJjZS5tZWRpYV90eXBlKSAmJiBfaXNTdHJpbmcoYmxvY2suc291cmNlLmRhdGEpKSByZXR1cm4ge1xuXHRcdFx0dHlwZTogXCJmaWxlXCIsXG5cdFx0XHRtaW1lVHlwZTogYmxvY2suc291cmNlLm1lZGlhX3R5cGUsXG5cdFx0XHRkYXRhOiBibG9jay5zb3VyY2UuZGF0YVxuXHRcdH07XG5cdFx0ZWxzZSBpZiAoYmxvY2suc291cmNlLnR5cGUgPT09IFwidXJsXCIgJiYgX2lzU3RyaW5nKGJsb2NrLnNvdXJjZS51cmwpKSByZXR1cm4ge1xuXHRcdFx0dHlwZTogXCJmaWxlXCIsXG5cdFx0XHR1cmw6IGJsb2NrLnNvdXJjZS51cmxcblx0XHR9O1xuXHRcdGVsc2UgaWYgKGJsb2NrLnNvdXJjZS50eXBlID09PSBcImZpbGVcIiAmJiBfaXNTdHJpbmcoYmxvY2suc291cmNlLmZpbGVfaWQpKSByZXR1cm4ge1xuXHRcdFx0dHlwZTogXCJmaWxlXCIsXG5cdFx0XHRmaWxlSWQ6IGJsb2NrLnNvdXJjZS5maWxlX2lkXG5cdFx0fTtcblx0XHRlbHNlIGlmIChibG9jay5zb3VyY2UudHlwZSA9PT0gXCJ0ZXh0XCIgJiYgX2lzU3RyaW5nKGJsb2NrLnNvdXJjZS5kYXRhKSkgcmV0dXJuIHtcblx0XHRcdHR5cGU6IFwiZmlsZVwiLFxuXHRcdFx0bWltZVR5cGU6IFN0cmluZyhibG9jay5zb3VyY2UubWVkaWFfdHlwZSA/PyBcInRleHQvcGxhaW5cIiksXG5cdFx0XHRkYXRhOiBibG9jay5zb3VyY2UuZGF0YVxuXHRcdH07XG5cdH0gZWxzZSBpZiAoX2lzQ29udGVudEJsb2NrKGJsb2NrLCBcImltYWdlXCIpICYmIF9pc09iamVjdChibG9jay5zb3VyY2UpICYmIFwidHlwZVwiIGluIGJsb2NrLnNvdXJjZSkge1xuXHRcdGlmIChibG9jay5zb3VyY2UudHlwZSA9PT0gXCJiYXNlNjRcIiAmJiBfaXNTdHJpbmcoYmxvY2suc291cmNlLm1lZGlhX3R5cGUpICYmIF9pc1N0cmluZyhibG9jay5zb3VyY2UuZGF0YSkpIHJldHVybiB7XG5cdFx0XHR0eXBlOiBcImltYWdlXCIsXG5cdFx0XHRtaW1lVHlwZTogYmxvY2suc291cmNlLm1lZGlhX3R5cGUsXG5cdFx0XHRkYXRhOiBibG9jay5zb3VyY2UuZGF0YVxuXHRcdH07XG5cdFx0ZWxzZSBpZiAoYmxvY2suc291cmNlLnR5cGUgPT09IFwidXJsXCIgJiYgX2lzU3RyaW5nKGJsb2NrLnNvdXJjZS51cmwpKSByZXR1cm4ge1xuXHRcdFx0dHlwZTogXCJpbWFnZVwiLFxuXHRcdFx0dXJsOiBibG9jay5zb3VyY2UudXJsXG5cdFx0fTtcblx0XHRlbHNlIGlmIChibG9jay5zb3VyY2UudHlwZSA9PT0gXCJmaWxlXCIgJiYgX2lzU3RyaW5nKGJsb2NrLnNvdXJjZS5maWxlX2lkKSkgcmV0dXJuIHtcblx0XHRcdHR5cGU6IFwiaW1hZ2VcIixcblx0XHRcdGZpbGVJZDogYmxvY2suc291cmNlLmZpbGVfaWRcblx0XHR9O1xuXHR9XG5cdHJldHVybiB2b2lkIDA7XG59XG4vKipcbiogQ29udmVydHMgYW4gYXJyYXkgb2YgY29udGVudCBibG9ja3MgZnJvbSBBbnRocm9waWMgZm9ybWF0IHRvIHYxIHN0YW5kYXJkIGZvcm1hdC5cbipcbiogVGhpcyBmdW5jdGlvbiBwcm9jZXNzZXMgZWFjaCBjb250ZW50IGJsb2NrIGluIHRoZSBpbnB1dCBhcnJheSwgYXR0ZW1wdGluZyB0byBjb252ZXJ0XG4qIEFudGhyb3BpYy1zcGVjaWZpYyBibG9jayBmb3JtYXRzIChsaWtlIGltYWdlIGJsb2NrcyB3aXRoIHNvdXJjZSBvYmplY3RzLCBkb2N1bWVudCBibG9ja3MsIGV0Yy4pXG4qIHRvIHRoZSBzdGFuZGFyZGl6ZWQgdjEgY29udGVudCBibG9jayBmb3JtYXQuIElmIGEgYmxvY2sgY2Fubm90IGJlIGNvbnZlcnRlZCwgaXQgaXNcbiogcGFzc2VkIHRocm91Z2ggYXMtaXMgd2l0aCBhIHR5cGUgYXNzZXJ0aW9uIHRvIENvbnRlbnRCbG9jay5TdGFuZGFyZC5cbipcbiogQHBhcmFtIGNvbnRlbnQgLSBBcnJheSBvZiBjb250ZW50IGJsb2NrcyBpbiBBbnRocm9waWMgZm9ybWF0IHRvIGJlIGNvbnZlcnRlZFxuKiBAcmV0dXJucyBBcnJheSBvZiBjb250ZW50IGJsb2NrcyBpbiB2MSBzdGFuZGFyZCBmb3JtYXRcbiovXG5mdW5jdGlvbiBjb252ZXJ0VG9WMUZyb21BbnRocm9waWNJbnB1dChjb250ZW50KSB7XG5cdGZ1bmN0aW9uKiBpdGVyYXRlQ29udGVudCgpIHtcblx0XHRmb3IgKGNvbnN0IGJsb2NrIG9mIGNvbnRlbnQpIHtcblx0XHRcdGNvbnN0IHN0ZEJsb2NrID0gY29udmVydFRvVjFGcm9tQW50aHJvcGljQ29udGVudEJsb2NrKGJsb2NrKTtcblx0XHRcdGlmIChzdGRCbG9jaykgeWllbGQgc3RkQmxvY2s7XG5cdFx0XHRlbHNlIHlpZWxkIGJsb2NrO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gQXJyYXkuZnJvbShpdGVyYXRlQ29udGVudCgpKTtcbn1cbi8qKlxuKiBDb252ZXJ0cyBhbiBBbnRocm9waWMgQUkgbWVzc2FnZSB0byBhbiBhcnJheSBvZiB2MSBzdGFuZGFyZCBjb250ZW50IGJsb2Nrcy5cbipcbiogVGhpcyBmdW5jdGlvbiBwcm9jZXNzZXMgYW4gQUkgbWVzc2FnZSBjb250YWluaW5nIEFudGhyb3BpYy1zcGVjaWZpYyBjb250ZW50IGJsb2Nrc1xuKiBhbmQgY29udmVydHMgdGhlbSB0byB0aGUgc3RhbmRhcmRpemVkIHYxIGNvbnRlbnQgYmxvY2sgZm9ybWF0LlxuKlxuKiBAcGFyYW0gbWVzc2FnZSAtIFRoZSBBSSBtZXNzYWdlIGNvbnRhaW5pbmcgQW50aHJvcGljLWZvcm1hdHRlZCBjb250ZW50IGJsb2Nrc1xuKiBAcmV0dXJucyBBcnJheSBvZiBjb250ZW50IGJsb2NrcyBpbiB2MSBzdGFuZGFyZCBmb3JtYXRcbipcbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBtZXNzYWdlID0gbmV3IEFJTWVzc2FnZShbXG4qICAgeyB0eXBlOiBcInRleHRcIiwgdGV4dDogXCJIZWxsbyB3b3JsZFwiIH0sXG4qICAgeyB0eXBlOiBcInRoaW5raW5nXCIsIHRleHQ6IFwiTGV0IG1lIHRoaW5rIGFib3V0IHRoaXMuLi5cIiB9LFxuKiAgIHsgdHlwZTogXCJ0b29sX3VzZVwiLCBpZDogXCIxMjNcIiwgbmFtZTogXCJjYWxjdWxhdG9yXCIsIGlucHV0OiB7IGE6IDEsIGI6IDIgfSB9XG4qIF0pO1xuKlxuKiBjb25zdCBzdGFuZGFyZEJsb2NrcyA9IGNvbnZlcnRUb1YxRnJvbUFudGhyb3BpY01lc3NhZ2UobWVzc2FnZSk7XG4qIC8vIFJldHVybnM6XG4qIC8vIFtcbiogLy8gICB7IHR5cGU6IFwidGV4dFwiLCB0ZXh0OiBcIkhlbGxvIHdvcmxkXCIgfSxcbiogLy8gICB7IHR5cGU6IFwicmVhc29uaW5nXCIsIHJlYXNvbmluZzogXCJMZXQgbWUgdGhpbmsgYWJvdXQgdGhpcy4uLlwiIH0sXG4qIC8vICAgeyB0eXBlOiBcInRvb2xfY2FsbFwiLCBpZDogXCIxMjNcIiwgbmFtZTogXCJjYWxjdWxhdG9yXCIsIGFyZ3M6IHsgYTogMSwgYjogMiB9IH1cbiogLy8gXVxuKiBgYGBcbiovXG5mdW5jdGlvbiBjb252ZXJ0VG9WMUZyb21BbnRocm9waWNNZXNzYWdlKG1lc3NhZ2UpIHtcblx0ZnVuY3Rpb24qIGl0ZXJhdGVDb250ZW50KCkge1xuXHRcdGNvbnN0IGNvbnRlbnQgPSB0eXBlb2YgbWVzc2FnZS5jb250ZW50ID09PSBcInN0cmluZ1wiID8gW3tcblx0XHRcdHR5cGU6IFwidGV4dFwiLFxuXHRcdFx0dGV4dDogbWVzc2FnZS5jb250ZW50XG5cdFx0fV0gOiBtZXNzYWdlLmNvbnRlbnQ7XG5cdFx0Zm9yIChjb25zdCBibG9jayBvZiBjb250ZW50KSB7XG5cdFx0XHRpZiAoX2lzQ29udGVudEJsb2NrKGJsb2NrLCBcInRleHRcIikgJiYgX2lzU3RyaW5nKGJsb2NrLnRleHQpKSB7XG5cdFx0XHRcdGNvbnN0IHsgdGV4dCwgY2l0YXRpb25zLC4uLnJlc3QgfSA9IGJsb2NrO1xuXHRcdFx0XHRpZiAoX2lzQXJyYXkoY2l0YXRpb25zKSAmJiBjaXRhdGlvbnMubGVuZ3RoKSB7XG5cdFx0XHRcdFx0Y29uc3QgX2NpdGF0aW9ucyA9IGNpdGF0aW9ucy5yZWR1Y2UoKGFjYywgaXRlbSkgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc3QgY2l0YXRpb24gPSBjb252ZXJ0QW50aHJvcGljQW5ub3RhdGlvbihpdGVtKTtcblx0XHRcdFx0XHRcdGlmIChjaXRhdGlvbikgcmV0dXJuIFsuLi5hY2MsIGNpdGF0aW9uXTtcblx0XHRcdFx0XHRcdHJldHVybiBhY2M7XG5cdFx0XHRcdFx0fSwgW10pO1xuXHRcdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHRcdC4uLnJlc3QsXG5cdFx0XHRcdFx0XHR0eXBlOiBcInRleHRcIixcblx0XHRcdFx0XHRcdHRleHQsXG5cdFx0XHRcdFx0XHRhbm5vdGF0aW9uczogX2NpdGF0aW9uc1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0eWllbGQge1xuXHRcdFx0XHRcdFx0Li4ucmVzdCxcblx0XHRcdFx0XHRcdHR5cGU6IFwidGV4dFwiLFxuXHRcdFx0XHRcdFx0dGV4dFxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoX2lzQ29udGVudEJsb2NrKGJsb2NrLCBcInRoaW5raW5nXCIpICYmIF9pc1N0cmluZyhibG9jay50aGlua2luZykpIHtcblx0XHRcdFx0Y29uc3QgeyB0aGlua2luZywgc2lnbmF0dXJlLC4uLnJlc3QgfSA9IGJsb2NrO1xuXHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0Li4ucmVzdCxcblx0XHRcdFx0XHR0eXBlOiBcInJlYXNvbmluZ1wiLFxuXHRcdFx0XHRcdHJlYXNvbmluZzogdGhpbmtpbmcsXG5cdFx0XHRcdFx0c2lnbmF0dXJlXG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChfaXNDb250ZW50QmxvY2soYmxvY2ssIFwicmVkYWN0ZWRfdGhpbmtpbmdcIikpIHtcblx0XHRcdFx0eWllbGQge1xuXHRcdFx0XHRcdHR5cGU6IFwibm9uX3N0YW5kYXJkXCIsXG5cdFx0XHRcdFx0dmFsdWU6IGJsb2NrXG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChfaXNDb250ZW50QmxvY2soYmxvY2ssIFwidG9vbF91c2VcIikgJiYgX2lzU3RyaW5nKGJsb2NrLm5hbWUpICYmIF9pc1N0cmluZyhibG9jay5pZCkpIHtcblx0XHRcdFx0eWllbGQge1xuXHRcdFx0XHRcdHR5cGU6IFwidG9vbF9jYWxsXCIsXG5cdFx0XHRcdFx0aWQ6IGJsb2NrLmlkLFxuXHRcdFx0XHRcdG5hbWU6IGJsb2NrLm5hbWUsXG5cdFx0XHRcdFx0YXJnczogYmxvY2suaW5wdXRcblx0XHRcdFx0fTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9IGVsc2UgaWYgKF9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJpbnB1dF9qc29uX2RlbHRhXCIpKSB7XG5cdFx0XHRcdGlmIChfaXNBSU1lc3NhZ2VDaHVuayhtZXNzYWdlKSAmJiBtZXNzYWdlLnRvb2xfY2FsbF9jaHVua3M/Lmxlbmd0aCkge1xuXHRcdFx0XHRcdGNvbnN0IHRvb2xfY2FsbF9jaHVuayA9IG1lc3NhZ2UudG9vbF9jYWxsX2NodW5rc1swXTtcblx0XHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0XHR0eXBlOiBcInRvb2xfY2FsbF9jaHVua1wiLFxuXHRcdFx0XHRcdFx0aWQ6IHRvb2xfY2FsbF9jaHVuay5pZCxcblx0XHRcdFx0XHRcdG5hbWU6IHRvb2xfY2FsbF9jaHVuay5uYW1lLFxuXHRcdFx0XHRcdFx0YXJnczogdG9vbF9jYWxsX2NodW5rLmFyZ3MsXG5cdFx0XHRcdFx0XHRpbmRleDogdG9vbF9jYWxsX2NodW5rLmluZGV4XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChfaXNDb250ZW50QmxvY2soYmxvY2ssIFwic2VydmVyX3Rvb2xfdXNlXCIpICYmIF9pc1N0cmluZyhibG9jay5uYW1lKSAmJiBfaXNTdHJpbmcoYmxvY2suaWQpKSB7XG5cdFx0XHRcdGNvbnN0IHsgbmFtZSwgaWQgfSA9IGJsb2NrO1xuXHRcdFx0XHRpZiAobmFtZSA9PT0gXCJ3ZWJfc2VhcmNoXCIpIHtcblx0XHRcdFx0XHRjb25zdCBxdWVyeSA9IGlpZmUoKCkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKHR5cGVvZiBibG9jay5pbnB1dCA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIGJsb2NrLmlucHV0O1xuXHRcdFx0XHRcdFx0ZWxzZSBpZiAoX2lzT2JqZWN0KGJsb2NrLmlucHV0KSAmJiBfaXNTdHJpbmcoYmxvY2suaW5wdXQucXVlcnkpKSByZXR1cm4gYmxvY2suaW5wdXQucXVlcnk7XG5cdFx0XHRcdFx0XHRlbHNlIGlmIChfaXNTdHJpbmcoYmxvY2sucGFydGlhbF9qc29uKSkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBqc29uID0gc2FmZVBhcnNlSnNvbihibG9jay5wYXJ0aWFsX2pzb24pO1xuXHRcdFx0XHRcdFx0XHRpZiAoanNvbj8ucXVlcnkpIHJldHVybiBqc29uLnF1ZXJ5O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cmV0dXJuIFwiXCI7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0eWllbGQge1xuXHRcdFx0XHRcdFx0aWQsXG5cdFx0XHRcdFx0XHR0eXBlOiBcInNlcnZlcl90b29sX2NhbGxcIixcblx0XHRcdFx0XHRcdG5hbWU6IFwid2ViX3NlYXJjaFwiLFxuXHRcdFx0XHRcdFx0YXJnczogeyBxdWVyeSB9XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fSBlbHNlIGlmIChibG9jay5uYW1lID09PSBcImNvZGVfZXhlY3V0aW9uXCIpIHtcblx0XHRcdFx0XHRjb25zdCBjb2RlID0gaWlmZSgoKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAodHlwZW9mIGJsb2NrLmlucHV0ID09PSBcInN0cmluZ1wiKSByZXR1cm4gYmxvY2suaW5wdXQ7XG5cdFx0XHRcdFx0XHRlbHNlIGlmIChfaXNPYmplY3QoYmxvY2suaW5wdXQpICYmIF9pc1N0cmluZyhibG9jay5pbnB1dC5jb2RlKSkgcmV0dXJuIGJsb2NrLmlucHV0LmNvZGU7XG5cdFx0XHRcdFx0XHRlbHNlIGlmIChfaXNTdHJpbmcoYmxvY2sucGFydGlhbF9qc29uKSkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBqc29uID0gc2FmZVBhcnNlSnNvbihibG9jay5wYXJ0aWFsX2pzb24pO1xuXHRcdFx0XHRcdFx0XHRpZiAoanNvbj8uY29kZSkgcmV0dXJuIGpzb24uY29kZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHJldHVybiBcIlwiO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHRcdGlkLFxuXHRcdFx0XHRcdFx0dHlwZTogXCJzZXJ2ZXJfdG9vbF9jYWxsXCIsXG5cdFx0XHRcdFx0XHRuYW1lOiBcImNvZGVfZXhlY3V0aW9uXCIsXG5cdFx0XHRcdFx0XHRhcmdzOiB7IGNvZGUgfVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoX2lzQ29udGVudEJsb2NrKGJsb2NrLCBcIndlYl9zZWFyY2hfdG9vbF9yZXN1bHRcIikgJiYgX2lzU3RyaW5nKGJsb2NrLnRvb2xfdXNlX2lkKSAmJiBfaXNBcnJheShibG9jay5jb250ZW50KSkge1xuXHRcdFx0XHRjb25zdCB7IGNvbnRlbnQ6IGNvbnRlbnQkMSwgdG9vbF91c2VfaWQgfSA9IGJsb2NrO1xuXHRcdFx0XHRjb25zdCB1cmxzID0gY29udGVudCQxLnJlZHVjZSgoYWNjLCBjb250ZW50JDIpID0+IHtcblx0XHRcdFx0XHRpZiAoX2lzQ29udGVudEJsb2NrKGNvbnRlbnQkMiwgXCJ3ZWJfc2VhcmNoX3Jlc3VsdFwiKSkgcmV0dXJuIFsuLi5hY2MsIGNvbnRlbnQkMi51cmxdO1xuXHRcdFx0XHRcdHJldHVybiBhY2M7XG5cdFx0XHRcdH0sIFtdKTtcblx0XHRcdFx0eWllbGQge1xuXHRcdFx0XHRcdHR5cGU6IFwic2VydmVyX3Rvb2xfY2FsbF9yZXN1bHRcIixcblx0XHRcdFx0XHRuYW1lOiBcIndlYl9zZWFyY2hcIixcblx0XHRcdFx0XHR0b29sQ2FsbElkOiB0b29sX3VzZV9pZCxcblx0XHRcdFx0XHRzdGF0dXM6IFwic3VjY2Vzc1wiLFxuXHRcdFx0XHRcdG91dHB1dDogeyB1cmxzIH1cblx0XHRcdFx0fTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9IGVsc2UgaWYgKF9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJjb2RlX2V4ZWN1dGlvbl90b29sX3Jlc3VsdFwiKSAmJiBfaXNTdHJpbmcoYmxvY2sudG9vbF91c2VfaWQpICYmIF9pc09iamVjdChibG9jay5jb250ZW50KSkge1xuXHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0dHlwZTogXCJzZXJ2ZXJfdG9vbF9jYWxsX3Jlc3VsdFwiLFxuXHRcdFx0XHRcdG5hbWU6IFwiY29kZV9leGVjdXRpb25cIixcblx0XHRcdFx0XHR0b29sQ2FsbElkOiBibG9jay50b29sX3VzZV9pZCxcblx0XHRcdFx0XHRzdGF0dXM6IFwic3VjY2Vzc1wiLFxuXHRcdFx0XHRcdG91dHB1dDogYmxvY2suY29udGVudFxuXHRcdFx0XHR9O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAoX2lzQ29udGVudEJsb2NrKGJsb2NrLCBcIm1jcF90b29sX3VzZVwiKSkge1xuXHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0aWQ6IGJsb2NrLmlkLFxuXHRcdFx0XHRcdHR5cGU6IFwic2VydmVyX3Rvb2xfY2FsbFwiLFxuXHRcdFx0XHRcdG5hbWU6IFwibWNwX3Rvb2xfdXNlXCIsXG5cdFx0XHRcdFx0YXJnczogYmxvY2suaW5wdXRcblx0XHRcdFx0fTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9IGVsc2UgaWYgKF9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJtY3BfdG9vbF9yZXN1bHRcIikgJiYgX2lzU3RyaW5nKGJsb2NrLnRvb2xfdXNlX2lkKSAmJiBfaXNPYmplY3QoYmxvY2suY29udGVudCkpIHtcblx0XHRcdFx0eWllbGQge1xuXHRcdFx0XHRcdHR5cGU6IFwic2VydmVyX3Rvb2xfY2FsbF9yZXN1bHRcIixcblx0XHRcdFx0XHRuYW1lOiBcIm1jcF90b29sX3VzZVwiLFxuXHRcdFx0XHRcdHRvb2xDYWxsSWQ6IGJsb2NrLnRvb2xfdXNlX2lkLFxuXHRcdFx0XHRcdHN0YXR1czogXCJzdWNjZXNzXCIsXG5cdFx0XHRcdFx0b3V0cHV0OiBibG9jay5jb250ZW50XG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChfaXNDb250ZW50QmxvY2soYmxvY2ssIFwiY29udGFpbmVyX3VwbG9hZFwiKSkge1xuXHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0dHlwZTogXCJzZXJ2ZXJfdG9vbF9jYWxsXCIsXG5cdFx0XHRcdFx0bmFtZTogXCJjb250YWluZXJfdXBsb2FkXCIsXG5cdFx0XHRcdFx0YXJnczogYmxvY2suaW5wdXRcblx0XHRcdFx0fTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9IGVsc2UgaWYgKF9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJzZWFyY2hfcmVzdWx0XCIpKSB7XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHRpZDogYmxvY2suaWQsXG5cdFx0XHRcdFx0dHlwZTogXCJub25fc3RhbmRhcmRcIixcblx0XHRcdFx0XHR2YWx1ZTogYmxvY2tcblx0XHRcdFx0fTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9IGVsc2UgaWYgKF9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJ0b29sX3Jlc3VsdFwiKSkge1xuXHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0aWQ6IGJsb2NrLmlkLFxuXHRcdFx0XHRcdHR5cGU6IFwibm9uX3N0YW5kYXJkXCIsXG5cdFx0XHRcdFx0dmFsdWU6IGJsb2NrXG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc3Qgc3RkQmxvY2sgPSBjb252ZXJ0VG9WMUZyb21BbnRocm9waWNDb250ZW50QmxvY2soYmxvY2spO1xuXHRcdFx0XHRpZiAoc3RkQmxvY2spIHtcblx0XHRcdFx0XHR5aWVsZCBzdGRCbG9jaztcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0eWllbGQge1xuXHRcdFx0XHR0eXBlOiBcIm5vbl9zdGFuZGFyZFwiLFxuXHRcdFx0XHR2YWx1ZTogYmxvY2tcblx0XHRcdH07XG5cdFx0fVxuXHR9XG5cdHJldHVybiBBcnJheS5mcm9tKGl0ZXJhdGVDb250ZW50KCkpO1xufVxuY29uc3QgQ2hhdEFudGhyb3BpY1RyYW5zbGF0b3IgPSB7XG5cdHRyYW5zbGF0ZUNvbnRlbnQ6IGNvbnZlcnRUb1YxRnJvbUFudGhyb3BpY01lc3NhZ2UsXG5cdHRyYW5zbGF0ZUNvbnRlbnRDaHVuazogY29udmVydFRvVjFGcm9tQW50aHJvcGljTWVzc2FnZVxufTtcbmZ1bmN0aW9uIF9pc0FJTWVzc2FnZUNodW5rKG1lc3NhZ2UpIHtcblx0cmV0dXJuIHR5cGVvZiBtZXNzYWdlPy5fZ2V0VHlwZSA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBtZXNzYWdlLmNvbmNhdCA9PT0gXCJmdW5jdGlvblwiICYmIG1lc3NhZ2UuX2dldFR5cGUoKSA9PT0gXCJhaVwiO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IENoYXRBbnRocm9waWNUcmFuc2xhdG9yLCBjb252ZXJ0VG9WMUZyb21BbnRocm9waWNJbnB1dCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YW50aHJvcGljLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/anthropic.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/bedrock_converse.js":
/*!***********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/bedrock_converse.js ***!
  \***********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatBedrockConverseTranslator: () => (/* binding */ ChatBedrockConverseTranslator)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/utils.js\");\n\n\n//#region src/messages/block_translators/bedrock_converse.ts\nfunction convertFileFormatToMimeType(format) {\n\tswitch (format) {\n\t\tcase \"csv\": return \"text/csv\";\n\t\tcase \"doc\": return \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\";\n\t\tcase \"docx\": return \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\";\n\t\tcase \"html\": return \"text/html\";\n\t\tcase \"md\": return \"text/markdown\";\n\t\tcase \"pdf\": return \"application/pdf\";\n\t\tcase \"txt\": return \"text/plain\";\n\t\tcase \"xls\": return \"application/vnd.ms-excel\";\n\t\tcase \"xlsx\": return \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\";\n\t\tcase \"gif\": return \"image/gif\";\n\t\tcase \"jpeg\": return \"image/jpeg\";\n\t\tcase \"jpg\": return \"image/jpeg\";\n\t\tcase \"png\": return \"image/png\";\n\t\tcase \"webp\": return \"image/webp\";\n\t\tcase \"flv\": return \"video/flv\";\n\t\tcase \"mkv\": return \"video/mkv\";\n\t\tcase \"mov\": return \"video/mov\";\n\t\tcase \"mp4\": return \"video/mp4\";\n\t\tcase \"mpeg\": return \"video/mpeg\";\n\t\tcase \"mpg\": return \"video/mpg\";\n\t\tcase \"three_gp\": return \"video/three_gp\";\n\t\tcase \"webm\": return \"video/webm\";\n\t\tcase \"wmv\": return \"video/wmv\";\n\t\tdefault: return \"application/octet-stream\";\n\t}\n}\nfunction convertConverseDocumentBlock(block) {\n\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.document) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.document.source)) {\n\t\tconst format = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.document) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.document.format) ? block.document.format : \"\";\n\t\tconst mimeType = convertFileFormatToMimeType(format);\n\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.document.source)) {\n\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.document.source.s3Location) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.document.source.s3Location.uri)) return {\n\t\t\t\ttype: \"file\",\n\t\t\t\tmimeType,\n\t\t\t\tfileId: block.document.source.s3Location.uri\n\t\t\t};\n\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isBytesArray)(block.document.source.bytes)) return {\n\t\t\t\ttype: \"file\",\n\t\t\t\tmimeType,\n\t\t\t\tdata: block.document.source.bytes\n\t\t\t};\n\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.document.source.text)) return {\n\t\t\t\ttype: \"file\",\n\t\t\t\tmimeType,\n\t\t\t\tdata: Buffer.from(block.document.source.text).toString(\"base64\")\n\t\t\t};\n\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isArray)(block.document.source.content)) {\n\t\t\t\tconst data = block.document.source.content.reduce((acc, item) => {\n\t\t\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(item) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(item.text)) return acc + item.text;\n\t\t\t\t\treturn acc;\n\t\t\t\t}, \"\");\n\t\t\t\treturn {\n\t\t\t\t\ttype: \"file\",\n\t\t\t\t\tmimeType,\n\t\t\t\t\tdata\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t}\n\treturn {\n\t\ttype: \"non_standard\",\n\t\tvalue: block\n\t};\n}\nfunction convertConverseImageBlock(block) {\n\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"image\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.image)) {\n\t\tconst format = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.image) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.image.format) ? block.image.format : \"\";\n\t\tconst mimeType = convertFileFormatToMimeType(format);\n\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.image.source)) {\n\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.image.source.s3Location) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.image.source.s3Location.uri)) return {\n\t\t\t\ttype: \"image\",\n\t\t\t\tmimeType,\n\t\t\t\tfileId: block.image.source.s3Location.uri\n\t\t\t};\n\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isBytesArray)(block.image.source.bytes)) return {\n\t\t\t\ttype: \"image\",\n\t\t\t\tmimeType,\n\t\t\t\tdata: block.image.source.bytes\n\t\t\t};\n\t\t}\n\t}\n\treturn {\n\t\ttype: \"non_standard\",\n\t\tvalue: block\n\t};\n}\nfunction convertConverseVideoBlock(block) {\n\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"video\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.video)) {\n\t\tconst format = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.video) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.video.format) ? block.video.format : \"\";\n\t\tconst mimeType = convertFileFormatToMimeType(format);\n\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.video.source)) {\n\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.video.source.s3Location) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.video.source.s3Location.uri)) return {\n\t\t\t\ttype: \"video\",\n\t\t\t\tmimeType,\n\t\t\t\tfileId: block.video.source.s3Location.uri\n\t\t\t};\n\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isBytesArray)(block.video.source.bytes)) return {\n\t\t\t\ttype: \"video\",\n\t\t\t\tmimeType,\n\t\t\t\tdata: block.video.source.bytes\n\t\t\t};\n\t\t}\n\t}\n\treturn {\n\t\ttype: \"non_standard\",\n\t\tvalue: block\n\t};\n}\nfunction convertToV1FromChatBedrockConverseMessage(message) {\n\tfunction* iterateContent() {\n\t\tconst content = typeof message.content === \"string\" ? [{\n\t\t\ttype: \"text\",\n\t\t\ttext: message.content\n\t\t}] : message.content;\n\t\tfor (const block of content) {\n\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"cache_point\")) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"non_standard\",\n\t\t\t\t\tvalue: block\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"citations_content\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.citationsContent)) {\n\t\t\t\tconst text = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isArray)(block.citationsContent.content) ? block.citationsContent.content.reduce((acc, item) => {\n\t\t\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(item) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(item.text)) return acc + item.text;\n\t\t\t\t\treturn acc;\n\t\t\t\t}, \"\") : \"\";\n\t\t\t\tconst annotations = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isArray)(block.citationsContent.citations) ? block.citationsContent.citations.reduce((acc, item) => {\n\t\t\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(item)) {\n\t\t\t\t\t\tconst citedText = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isArray)(item.sourceContent) ? item.sourceContent.reduce((acc$1, item$1) => {\n\t\t\t\t\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(item$1) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(item$1.text)) return acc$1 + item$1.text;\n\t\t\t\t\t\t\treturn acc$1;\n\t\t\t\t\t\t}, \"\") : \"\";\n\t\t\t\t\t\tconst properties = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iife)(() => {\n\t\t\t\t\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(item.location)) {\n\t\t\t\t\t\t\t\tconst location = item.location.documentChar || item.location.documentPage || item.location.documentChunk;\n\t\t\t\t\t\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(location)) return {\n\t\t\t\t\t\t\t\t\tsource: (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isNumber)(location.documentIndex) ? location.documentIndex.toString() : void 0,\n\t\t\t\t\t\t\t\t\tstartIndex: (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isNumber)(location.start) ? location.start : void 0,\n\t\t\t\t\t\t\t\t\tendIndex: (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isNumber)(location.end) ? location.end : void 0\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn {};\n\t\t\t\t\t\t});\n\t\t\t\t\t\tacc.push({\n\t\t\t\t\t\t\ttype: \"citation\",\n\t\t\t\t\t\t\tcitedText,\n\t\t\t\t\t\t\t...properties\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn acc;\n\t\t\t\t}, []) : [];\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"text\",\n\t\t\t\t\ttext,\n\t\t\t\t\tannotations\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"document\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.document)) {\n\t\t\t\tyield convertConverseDocumentBlock(block);\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"guard_content\")) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"non_standard\",\n\t\t\t\t\tvalue: block\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"image\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.image)) {\n\t\t\t\tyield convertConverseImageBlock(block);\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"reasoning_content\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.reasoningText)) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"reasoning\",\n\t\t\t\t\treasoning: block.reasoningText\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"text\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.text)) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"text\",\n\t\t\t\t\ttext: block.text\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"tool_result\")) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"non_standard\",\n\t\t\t\t\tvalue: block\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"tool_call\")) continue;\n\t\t\telse if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"video\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.video)) {\n\t\t\t\tyield convertConverseVideoBlock(block);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tyield {\n\t\t\t\ttype: \"non_standard\",\n\t\t\t\tvalue: block\n\t\t\t};\n\t\t}\n\t}\n\treturn Array.from(iterateContent());\n}\nconst ChatBedrockConverseTranslator = {\n\ttranslateContent: convertToV1FromChatBedrockConverseMessage,\n\ttranslateContentChunk: convertToV1FromChatBedrockConverseMessage\n};\n\n//#endregion\n\n//# sourceMappingURL=bedrock_converse.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy9iZWRyb2NrX2NvbnZlcnNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTZHOztBQUU3RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLG9EQUFTLG9CQUFvQixvREFBUztBQUMzQyxpQkFBaUIsb0RBQVMsb0JBQW9CLG9EQUFTO0FBQ3ZEO0FBQ0EsTUFBTSxvREFBUztBQUNmLE9BQU8sb0RBQVMsc0NBQXNDLG9EQUFTO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyx3REFBYTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sb0RBQVM7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLG1EQUFRO0FBQ2Y7QUFDQSxTQUFTLG9EQUFTLFVBQVUsb0RBQVM7QUFDckM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssMERBQWUsb0JBQW9CLG9EQUFTO0FBQ2pELGlCQUFpQixvREFBUyxpQkFBaUIsb0RBQVM7QUFDcEQ7QUFDQSxNQUFNLG9EQUFTO0FBQ2YsT0FBTyxvREFBUyxtQ0FBbUMsb0RBQVM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLHdEQUFhO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssMERBQWUsb0JBQW9CLG9EQUFTO0FBQ2pELGlCQUFpQixvREFBUyxpQkFBaUIsb0RBQVM7QUFDcEQ7QUFDQSxNQUFNLG9EQUFTO0FBQ2YsT0FBTyxvREFBUyxtQ0FBbUMsb0RBQVM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLHdEQUFhO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsT0FBTywwREFBZTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxTQUFTLDBEQUFlLGdDQUFnQyxvREFBUztBQUN0RSxpQkFBaUIsbURBQVE7QUFDekIsU0FBUyxvREFBUyxVQUFVLG9EQUFTO0FBQ3JDO0FBQ0EsS0FBSztBQUNMLHdCQUF3QixtREFBUTtBQUNoQyxTQUFTLG9EQUFTO0FBQ2xCLHdCQUF3QixtREFBUTtBQUNoQyxXQUFXLG9EQUFTLFlBQVksb0RBQVM7QUFDekM7QUFDQSxPQUFPO0FBQ1AseUJBQXlCLCtDQUFJO0FBQzdCLFdBQVcsb0RBQVM7QUFDcEI7QUFDQSxZQUFZLG9EQUFTO0FBQ3JCLGlCQUFpQixvREFBUztBQUMxQixxQkFBcUIsb0RBQVM7QUFDOUIsbUJBQW1CLG9EQUFTO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssU0FBUywwREFBZSx1QkFBdUIsb0RBQVM7QUFDN0Q7QUFDQTtBQUNBLEtBQUssU0FBUywwREFBZTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxTQUFTLDBEQUFlLG9CQUFvQixvREFBUztBQUMxRDtBQUNBO0FBQ0EsS0FBSyxTQUFTLDBEQUFlLGdDQUFnQyxvREFBUztBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxTQUFTLDBEQUFlLG1CQUFtQixvREFBUztBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxTQUFTLDBEQUFlO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLFNBQVMsMERBQWU7QUFDN0IsWUFBWSwwREFBZSxvQkFBb0Isb0RBQVM7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3lDO0FBQ3pDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy9iZWRyb2NrX2NvbnZlcnNlLmpzP2I4OWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX2lzQXJyYXksIF9pc0J5dGVzQXJyYXksIF9pc0NvbnRlbnRCbG9jaywgX2lzTnVtYmVyLCBfaXNPYmplY3QsIF9pc1N0cmluZywgaWlmZSB9IGZyb20gXCIuL3V0aWxzLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvbWVzc2FnZXMvYmxvY2tfdHJhbnNsYXRvcnMvYmVkcm9ja19jb252ZXJzZS50c1xuZnVuY3Rpb24gY29udmVydEZpbGVGb3JtYXRUb01pbWVUeXBlKGZvcm1hdCkge1xuXHRzd2l0Y2ggKGZvcm1hdCkge1xuXHRcdGNhc2UgXCJjc3ZcIjogcmV0dXJuIFwidGV4dC9jc3ZcIjtcblx0XHRjYXNlIFwiZG9jXCI6IHJldHVybiBcImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC53b3JkcHJvY2Vzc2luZ21sLmRvY3VtZW50XCI7XG5cdFx0Y2FzZSBcImRvY3hcIjogcmV0dXJuIFwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LndvcmRwcm9jZXNzaW5nbWwuZG9jdW1lbnRcIjtcblx0XHRjYXNlIFwiaHRtbFwiOiByZXR1cm4gXCJ0ZXh0L2h0bWxcIjtcblx0XHRjYXNlIFwibWRcIjogcmV0dXJuIFwidGV4dC9tYXJrZG93blwiO1xuXHRcdGNhc2UgXCJwZGZcIjogcmV0dXJuIFwiYXBwbGljYXRpb24vcGRmXCI7XG5cdFx0Y2FzZSBcInR4dFwiOiByZXR1cm4gXCJ0ZXh0L3BsYWluXCI7XG5cdFx0Y2FzZSBcInhsc1wiOiByZXR1cm4gXCJhcHBsaWNhdGlvbi92bmQubXMtZXhjZWxcIjtcblx0XHRjYXNlIFwieGxzeFwiOiByZXR1cm4gXCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC5zaGVldFwiO1xuXHRcdGNhc2UgXCJnaWZcIjogcmV0dXJuIFwiaW1hZ2UvZ2lmXCI7XG5cdFx0Y2FzZSBcImpwZWdcIjogcmV0dXJuIFwiaW1hZ2UvanBlZ1wiO1xuXHRcdGNhc2UgXCJqcGdcIjogcmV0dXJuIFwiaW1hZ2UvanBlZ1wiO1xuXHRcdGNhc2UgXCJwbmdcIjogcmV0dXJuIFwiaW1hZ2UvcG5nXCI7XG5cdFx0Y2FzZSBcIndlYnBcIjogcmV0dXJuIFwiaW1hZ2Uvd2VicFwiO1xuXHRcdGNhc2UgXCJmbHZcIjogcmV0dXJuIFwidmlkZW8vZmx2XCI7XG5cdFx0Y2FzZSBcIm1rdlwiOiByZXR1cm4gXCJ2aWRlby9ta3ZcIjtcblx0XHRjYXNlIFwibW92XCI6IHJldHVybiBcInZpZGVvL21vdlwiO1xuXHRcdGNhc2UgXCJtcDRcIjogcmV0dXJuIFwidmlkZW8vbXA0XCI7XG5cdFx0Y2FzZSBcIm1wZWdcIjogcmV0dXJuIFwidmlkZW8vbXBlZ1wiO1xuXHRcdGNhc2UgXCJtcGdcIjogcmV0dXJuIFwidmlkZW8vbXBnXCI7XG5cdFx0Y2FzZSBcInRocmVlX2dwXCI6IHJldHVybiBcInZpZGVvL3RocmVlX2dwXCI7XG5cdFx0Y2FzZSBcIndlYm1cIjogcmV0dXJuIFwidmlkZW8vd2VibVwiO1xuXHRcdGNhc2UgXCJ3bXZcIjogcmV0dXJuIFwidmlkZW8vd212XCI7XG5cdFx0ZGVmYXVsdDogcmV0dXJuIFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCI7XG5cdH1cbn1cbmZ1bmN0aW9uIGNvbnZlcnRDb252ZXJzZURvY3VtZW50QmxvY2soYmxvY2spIHtcblx0aWYgKF9pc09iamVjdChibG9jay5kb2N1bWVudCkgJiYgX2lzT2JqZWN0KGJsb2NrLmRvY3VtZW50LnNvdXJjZSkpIHtcblx0XHRjb25zdCBmb3JtYXQgPSBfaXNPYmplY3QoYmxvY2suZG9jdW1lbnQpICYmIF9pc1N0cmluZyhibG9jay5kb2N1bWVudC5mb3JtYXQpID8gYmxvY2suZG9jdW1lbnQuZm9ybWF0IDogXCJcIjtcblx0XHRjb25zdCBtaW1lVHlwZSA9IGNvbnZlcnRGaWxlRm9ybWF0VG9NaW1lVHlwZShmb3JtYXQpO1xuXHRcdGlmIChfaXNPYmplY3QoYmxvY2suZG9jdW1lbnQuc291cmNlKSkge1xuXHRcdFx0aWYgKF9pc09iamVjdChibG9jay5kb2N1bWVudC5zb3VyY2UuczNMb2NhdGlvbikgJiYgX2lzU3RyaW5nKGJsb2NrLmRvY3VtZW50LnNvdXJjZS5zM0xvY2F0aW9uLnVyaSkpIHJldHVybiB7XG5cdFx0XHRcdHR5cGU6IFwiZmlsZVwiLFxuXHRcdFx0XHRtaW1lVHlwZSxcblx0XHRcdFx0ZmlsZUlkOiBibG9jay5kb2N1bWVudC5zb3VyY2UuczNMb2NhdGlvbi51cmlcblx0XHRcdH07XG5cdFx0XHRpZiAoX2lzQnl0ZXNBcnJheShibG9jay5kb2N1bWVudC5zb3VyY2UuYnl0ZXMpKSByZXR1cm4ge1xuXHRcdFx0XHR0eXBlOiBcImZpbGVcIixcblx0XHRcdFx0bWltZVR5cGUsXG5cdFx0XHRcdGRhdGE6IGJsb2NrLmRvY3VtZW50LnNvdXJjZS5ieXRlc1xuXHRcdFx0fTtcblx0XHRcdGlmIChfaXNTdHJpbmcoYmxvY2suZG9jdW1lbnQuc291cmNlLnRleHQpKSByZXR1cm4ge1xuXHRcdFx0XHR0eXBlOiBcImZpbGVcIixcblx0XHRcdFx0bWltZVR5cGUsXG5cdFx0XHRcdGRhdGE6IEJ1ZmZlci5mcm9tKGJsb2NrLmRvY3VtZW50LnNvdXJjZS50ZXh0KS50b1N0cmluZyhcImJhc2U2NFwiKVxuXHRcdFx0fTtcblx0XHRcdGlmIChfaXNBcnJheShibG9jay5kb2N1bWVudC5zb3VyY2UuY29udGVudCkpIHtcblx0XHRcdFx0Y29uc3QgZGF0YSA9IGJsb2NrLmRvY3VtZW50LnNvdXJjZS5jb250ZW50LnJlZHVjZSgoYWNjLCBpdGVtKSA9PiB7XG5cdFx0XHRcdFx0aWYgKF9pc09iamVjdChpdGVtKSAmJiBfaXNTdHJpbmcoaXRlbS50ZXh0KSkgcmV0dXJuIGFjYyArIGl0ZW0udGV4dDtcblx0XHRcdFx0XHRyZXR1cm4gYWNjO1xuXHRcdFx0XHR9LCBcIlwiKTtcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHR0eXBlOiBcImZpbGVcIixcblx0XHRcdFx0XHRtaW1lVHlwZSxcblx0XHRcdFx0XHRkYXRhXG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdHJldHVybiB7XG5cdFx0dHlwZTogXCJub25fc3RhbmRhcmRcIixcblx0XHR2YWx1ZTogYmxvY2tcblx0fTtcbn1cbmZ1bmN0aW9uIGNvbnZlcnRDb252ZXJzZUltYWdlQmxvY2soYmxvY2spIHtcblx0aWYgKF9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJpbWFnZVwiKSAmJiBfaXNPYmplY3QoYmxvY2suaW1hZ2UpKSB7XG5cdFx0Y29uc3QgZm9ybWF0ID0gX2lzT2JqZWN0KGJsb2NrLmltYWdlKSAmJiBfaXNTdHJpbmcoYmxvY2suaW1hZ2UuZm9ybWF0KSA/IGJsb2NrLmltYWdlLmZvcm1hdCA6IFwiXCI7XG5cdFx0Y29uc3QgbWltZVR5cGUgPSBjb252ZXJ0RmlsZUZvcm1hdFRvTWltZVR5cGUoZm9ybWF0KTtcblx0XHRpZiAoX2lzT2JqZWN0KGJsb2NrLmltYWdlLnNvdXJjZSkpIHtcblx0XHRcdGlmIChfaXNPYmplY3QoYmxvY2suaW1hZ2Uuc291cmNlLnMzTG9jYXRpb24pICYmIF9pc1N0cmluZyhibG9jay5pbWFnZS5zb3VyY2UuczNMb2NhdGlvbi51cmkpKSByZXR1cm4ge1xuXHRcdFx0XHR0eXBlOiBcImltYWdlXCIsXG5cdFx0XHRcdG1pbWVUeXBlLFxuXHRcdFx0XHRmaWxlSWQ6IGJsb2NrLmltYWdlLnNvdXJjZS5zM0xvY2F0aW9uLnVyaVxuXHRcdFx0fTtcblx0XHRcdGlmIChfaXNCeXRlc0FycmF5KGJsb2NrLmltYWdlLnNvdXJjZS5ieXRlcykpIHJldHVybiB7XG5cdFx0XHRcdHR5cGU6IFwiaW1hZ2VcIixcblx0XHRcdFx0bWltZVR5cGUsXG5cdFx0XHRcdGRhdGE6IGJsb2NrLmltYWdlLnNvdXJjZS5ieXRlc1xuXHRcdFx0fTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHtcblx0XHR0eXBlOiBcIm5vbl9zdGFuZGFyZFwiLFxuXHRcdHZhbHVlOiBibG9ja1xuXHR9O1xufVxuZnVuY3Rpb24gY29udmVydENvbnZlcnNlVmlkZW9CbG9jayhibG9jaykge1xuXHRpZiAoX2lzQ29udGVudEJsb2NrKGJsb2NrLCBcInZpZGVvXCIpICYmIF9pc09iamVjdChibG9jay52aWRlbykpIHtcblx0XHRjb25zdCBmb3JtYXQgPSBfaXNPYmplY3QoYmxvY2sudmlkZW8pICYmIF9pc1N0cmluZyhibG9jay52aWRlby5mb3JtYXQpID8gYmxvY2sudmlkZW8uZm9ybWF0IDogXCJcIjtcblx0XHRjb25zdCBtaW1lVHlwZSA9IGNvbnZlcnRGaWxlRm9ybWF0VG9NaW1lVHlwZShmb3JtYXQpO1xuXHRcdGlmIChfaXNPYmplY3QoYmxvY2sudmlkZW8uc291cmNlKSkge1xuXHRcdFx0aWYgKF9pc09iamVjdChibG9jay52aWRlby5zb3VyY2UuczNMb2NhdGlvbikgJiYgX2lzU3RyaW5nKGJsb2NrLnZpZGVvLnNvdXJjZS5zM0xvY2F0aW9uLnVyaSkpIHJldHVybiB7XG5cdFx0XHRcdHR5cGU6IFwidmlkZW9cIixcblx0XHRcdFx0bWltZVR5cGUsXG5cdFx0XHRcdGZpbGVJZDogYmxvY2sudmlkZW8uc291cmNlLnMzTG9jYXRpb24udXJpXG5cdFx0XHR9O1xuXHRcdFx0aWYgKF9pc0J5dGVzQXJyYXkoYmxvY2sudmlkZW8uc291cmNlLmJ5dGVzKSkgcmV0dXJuIHtcblx0XHRcdFx0dHlwZTogXCJ2aWRlb1wiLFxuXHRcdFx0XHRtaW1lVHlwZSxcblx0XHRcdFx0ZGF0YTogYmxvY2sudmlkZW8uc291cmNlLmJ5dGVzXG5cdFx0XHR9O1xuXHRcdH1cblx0fVxuXHRyZXR1cm4ge1xuXHRcdHR5cGU6IFwibm9uX3N0YW5kYXJkXCIsXG5cdFx0dmFsdWU6IGJsb2NrXG5cdH07XG59XG5mdW5jdGlvbiBjb252ZXJ0VG9WMUZyb21DaGF0QmVkcm9ja0NvbnZlcnNlTWVzc2FnZShtZXNzYWdlKSB7XG5cdGZ1bmN0aW9uKiBpdGVyYXRlQ29udGVudCgpIHtcblx0XHRjb25zdCBjb250ZW50ID0gdHlwZW9mIG1lc3NhZ2UuY29udGVudCA9PT0gXCJzdHJpbmdcIiA/IFt7XG5cdFx0XHR0eXBlOiBcInRleHRcIixcblx0XHRcdHRleHQ6IG1lc3NhZ2UuY29udGVudFxuXHRcdH1dIDogbWVzc2FnZS5jb250ZW50O1xuXHRcdGZvciAoY29uc3QgYmxvY2sgb2YgY29udGVudCkge1xuXHRcdFx0aWYgKF9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJjYWNoZV9wb2ludFwiKSkge1xuXHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0dHlwZTogXCJub25fc3RhbmRhcmRcIixcblx0XHRcdFx0XHR2YWx1ZTogYmxvY2tcblx0XHRcdFx0fTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9IGVsc2UgaWYgKF9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJjaXRhdGlvbnNfY29udGVudFwiKSAmJiBfaXNPYmplY3QoYmxvY2suY2l0YXRpb25zQ29udGVudCkpIHtcblx0XHRcdFx0Y29uc3QgdGV4dCA9IF9pc0FycmF5KGJsb2NrLmNpdGF0aW9uc0NvbnRlbnQuY29udGVudCkgPyBibG9jay5jaXRhdGlvbnNDb250ZW50LmNvbnRlbnQucmVkdWNlKChhY2MsIGl0ZW0pID0+IHtcblx0XHRcdFx0XHRpZiAoX2lzT2JqZWN0KGl0ZW0pICYmIF9pc1N0cmluZyhpdGVtLnRleHQpKSByZXR1cm4gYWNjICsgaXRlbS50ZXh0O1xuXHRcdFx0XHRcdHJldHVybiBhY2M7XG5cdFx0XHRcdH0sIFwiXCIpIDogXCJcIjtcblx0XHRcdFx0Y29uc3QgYW5ub3RhdGlvbnMgPSBfaXNBcnJheShibG9jay5jaXRhdGlvbnNDb250ZW50LmNpdGF0aW9ucykgPyBibG9jay5jaXRhdGlvbnNDb250ZW50LmNpdGF0aW9ucy5yZWR1Y2UoKGFjYywgaXRlbSkgPT4ge1xuXHRcdFx0XHRcdGlmIChfaXNPYmplY3QoaXRlbSkpIHtcblx0XHRcdFx0XHRcdGNvbnN0IGNpdGVkVGV4dCA9IF9pc0FycmF5KGl0ZW0uc291cmNlQ29udGVudCkgPyBpdGVtLnNvdXJjZUNvbnRlbnQucmVkdWNlKChhY2MkMSwgaXRlbSQxKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGlmIChfaXNPYmplY3QoaXRlbSQxKSAmJiBfaXNTdHJpbmcoaXRlbSQxLnRleHQpKSByZXR1cm4gYWNjJDEgKyBpdGVtJDEudGV4dDtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGFjYyQxO1xuXHRcdFx0XHRcdFx0fSwgXCJcIikgOiBcIlwiO1xuXHRcdFx0XHRcdFx0Y29uc3QgcHJvcGVydGllcyA9IGlpZmUoKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRpZiAoX2lzT2JqZWN0KGl0ZW0ubG9jYXRpb24pKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgbG9jYXRpb24gPSBpdGVtLmxvY2F0aW9uLmRvY3VtZW50Q2hhciB8fCBpdGVtLmxvY2F0aW9uLmRvY3VtZW50UGFnZSB8fCBpdGVtLmxvY2F0aW9uLmRvY3VtZW50Q2h1bms7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKF9pc09iamVjdChsb2NhdGlvbikpIHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRzb3VyY2U6IF9pc051bWJlcihsb2NhdGlvbi5kb2N1bWVudEluZGV4KSA/IGxvY2F0aW9uLmRvY3VtZW50SW5kZXgudG9TdHJpbmcoKSA6IHZvaWQgMCxcblx0XHRcdFx0XHRcdFx0XHRcdHN0YXJ0SW5kZXg6IF9pc051bWJlcihsb2NhdGlvbi5zdGFydCkgPyBsb2NhdGlvbi5zdGFydCA6IHZvaWQgMCxcblx0XHRcdFx0XHRcdFx0XHRcdGVuZEluZGV4OiBfaXNOdW1iZXIobG9jYXRpb24uZW5kKSA/IGxvY2F0aW9uLmVuZCA6IHZvaWQgMFxuXHRcdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0cmV0dXJuIHt9O1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRhY2MucHVzaCh7XG5cdFx0XHRcdFx0XHRcdHR5cGU6IFwiY2l0YXRpb25cIixcblx0XHRcdFx0XHRcdFx0Y2l0ZWRUZXh0LFxuXHRcdFx0XHRcdFx0XHQuLi5wcm9wZXJ0aWVzXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIGFjYztcblx0XHRcdFx0fSwgW10pIDogW107XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHR0eXBlOiBcInRleHRcIixcblx0XHRcdFx0XHR0ZXh0LFxuXHRcdFx0XHRcdGFubm90YXRpb25zXG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChfaXNDb250ZW50QmxvY2soYmxvY2ssIFwiZG9jdW1lbnRcIikgJiYgX2lzT2JqZWN0KGJsb2NrLmRvY3VtZW50KSkge1xuXHRcdFx0XHR5aWVsZCBjb252ZXJ0Q29udmVyc2VEb2N1bWVudEJsb2NrKGJsb2NrKTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9IGVsc2UgaWYgKF9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJndWFyZF9jb250ZW50XCIpKSB7XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHR0eXBlOiBcIm5vbl9zdGFuZGFyZFwiLFxuXHRcdFx0XHRcdHZhbHVlOiBibG9ja1xuXHRcdFx0XHR9O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAoX2lzQ29udGVudEJsb2NrKGJsb2NrLCBcImltYWdlXCIpICYmIF9pc09iamVjdChibG9jay5pbWFnZSkpIHtcblx0XHRcdFx0eWllbGQgY29udmVydENvbnZlcnNlSW1hZ2VCbG9jayhibG9jayk7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChfaXNDb250ZW50QmxvY2soYmxvY2ssIFwicmVhc29uaW5nX2NvbnRlbnRcIikgJiYgX2lzU3RyaW5nKGJsb2NrLnJlYXNvbmluZ1RleHQpKSB7XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHR0eXBlOiBcInJlYXNvbmluZ1wiLFxuXHRcdFx0XHRcdHJlYXNvbmluZzogYmxvY2sucmVhc29uaW5nVGV4dFxuXHRcdFx0XHR9O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAoX2lzQ29udGVudEJsb2NrKGJsb2NrLCBcInRleHRcIikgJiYgX2lzU3RyaW5nKGJsb2NrLnRleHQpKSB7XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHR0eXBlOiBcInRleHRcIixcblx0XHRcdFx0XHR0ZXh0OiBibG9jay50ZXh0XG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChfaXNDb250ZW50QmxvY2soYmxvY2ssIFwidG9vbF9yZXN1bHRcIikpIHtcblx0XHRcdFx0eWllbGQge1xuXHRcdFx0XHRcdHR5cGU6IFwibm9uX3N0YW5kYXJkXCIsXG5cdFx0XHRcdFx0dmFsdWU6IGJsb2NrXG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChfaXNDb250ZW50QmxvY2soYmxvY2ssIFwidG9vbF9jYWxsXCIpKSBjb250aW51ZTtcblx0XHRcdGVsc2UgaWYgKF9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJ2aWRlb1wiKSAmJiBfaXNPYmplY3QoYmxvY2sudmlkZW8pKSB7XG5cdFx0XHRcdHlpZWxkIGNvbnZlcnRDb252ZXJzZVZpZGVvQmxvY2soYmxvY2spO1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdHlpZWxkIHtcblx0XHRcdFx0dHlwZTogXCJub25fc3RhbmRhcmRcIixcblx0XHRcdFx0dmFsdWU6IGJsb2NrXG5cdFx0XHR9O1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gQXJyYXkuZnJvbShpdGVyYXRlQ29udGVudCgpKTtcbn1cbmNvbnN0IENoYXRCZWRyb2NrQ29udmVyc2VUcmFuc2xhdG9yID0ge1xuXHR0cmFuc2xhdGVDb250ZW50OiBjb252ZXJ0VG9WMUZyb21DaGF0QmVkcm9ja0NvbnZlcnNlTWVzc2FnZSxcblx0dHJhbnNsYXRlQ29udGVudENodW5rOiBjb252ZXJ0VG9WMUZyb21DaGF0QmVkcm9ja0NvbnZlcnNlTWVzc2FnZVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBDaGF0QmVkcm9ja0NvbnZlcnNlVHJhbnNsYXRvciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmVkcm9ja19jb252ZXJzZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/bedrock_converse.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/data.js":
/*!***********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/data.js ***!
  \***********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   convertToV1FromDataContent: () => (/* binding */ convertToV1FromDataContent),\n/* harmony export */   convertToV1FromOpenAIDataBlock: () => (/* binding */ convertToV1FromOpenAIDataBlock),\n/* harmony export */   isOpenAIDataBlock: () => (/* binding */ isOpenAIDataBlock)\n/* harmony export */ });\n/* harmony import */ var _content_data_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../content/data.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/content/data.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/utils.js\");\n\n\n\n//#region src/messages/block_translators/data.ts\nfunction convertToV1FromDataContentBlock(block) {\n\tif ((0,_content_data_js__WEBPACK_IMPORTED_MODULE_0__.isURLContentBlock)(block)) return {\n\t\ttype: block.type,\n\t\tmimeType: block.mime_type,\n\t\turl: block.url,\n\t\tmetadata: block.metadata\n\t};\n\tif ((0,_content_data_js__WEBPACK_IMPORTED_MODULE_0__.isBase64ContentBlock)(block)) return {\n\t\ttype: block.type,\n\t\tmimeType: block.mime_type ?? \"application/octet-stream\",\n\t\tdata: block.data,\n\t\tmetadata: block.metadata\n\t};\n\tif ((0,_content_data_js__WEBPACK_IMPORTED_MODULE_0__.isIDContentBlock)(block)) return {\n\t\ttype: block.type,\n\t\tmimeType: block.mime_type,\n\t\tfileId: block.id,\n\t\tmetadata: block.metadata\n\t};\n\treturn block;\n}\nfunction convertToV1FromDataContent(content) {\n\treturn content.map(convertToV1FromDataContentBlock);\n}\nfunction isOpenAIDataBlock(block) {\n\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__._isContentBlock)(block, \"image_url\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__._isObject)(block.image_url)) return true;\n\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__._isContentBlock)(block, \"input_audio\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__._isObject)(block.input_audio)) return true;\n\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__._isContentBlock)(block, \"file\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__._isObject)(block.file)) return true;\n\treturn false;\n}\nfunction convertToV1FromOpenAIDataBlock(block) {\n\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__._isContentBlock)(block, \"image_url\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__._isObject)(block.image_url) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__._isString)(block.image_url.url)) {\n\t\tconst parsed = (0,_content_data_js__WEBPACK_IMPORTED_MODULE_0__.parseBase64DataUrl)({ dataUrl: block.image_url.url });\n\t\tif (parsed) return {\n\t\t\ttype: \"image\",\n\t\t\tmimeType: parsed.mime_type,\n\t\t\tdata: parsed.data\n\t\t};\n\t\telse return {\n\t\t\ttype: \"image\",\n\t\t\turl: block.image_url.url\n\t\t};\n\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__._isContentBlock)(block, \"input_audio\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__._isObject)(block.input_audio) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__._isString)(block.input_audio.data) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__._isString)(block.input_audio.format)) return {\n\t\ttype: \"audio\",\n\t\tdata: block.input_audio.data,\n\t\tmimeType: `audio/${block.input_audio.format}`\n\t};\n\telse if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__._isContentBlock)(block, \"file\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__._isObject)(block.file) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__._isString)(block.file.data)) {\n\t\tconst parsed = (0,_content_data_js__WEBPACK_IMPORTED_MODULE_0__.parseBase64DataUrl)({ dataUrl: block.file.data });\n\t\tif (parsed) return {\n\t\t\ttype: \"file\",\n\t\t\tdata: parsed.data,\n\t\t\tmimeType: parsed.mime_type\n\t\t};\n\t\telse if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__._isString)(block.file.file_id)) return {\n\t\t\ttype: \"file\",\n\t\t\tfileId: block.file.file_id\n\t\t};\n\t}\n\treturn block;\n}\n\n//#endregion\n\n//# sourceMappingURL=data.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy9kYXRhLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQW1IO0FBQ2hEOztBQUVuRTtBQUNBO0FBQ0EsS0FBSyxtRUFBaUI7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssc0VBQW9CO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLGtFQUFnQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSywwREFBZSx3QkFBd0Isb0RBQVM7QUFDckQsS0FBSywwREFBZSwwQkFBMEIsb0RBQVM7QUFDdkQsS0FBSywwREFBZSxtQkFBbUIsb0RBQVM7QUFDaEQ7QUFDQTtBQUNBO0FBQ0EsS0FBSywwREFBZSx3QkFBd0Isb0RBQVMscUJBQXFCLG9EQUFTO0FBQ25GLGlCQUFpQixvRUFBa0IsR0FBRyw4QkFBOEI7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxTQUFTLDBEQUFlLDBCQUEwQixvREFBUyx1QkFBdUIsb0RBQVMsNEJBQTRCLG9EQUFTO0FBQ25JO0FBQ0E7QUFDQSxxQkFBcUIseUJBQXlCO0FBQzlDO0FBQ0EsVUFBVSwwREFBZSxtQkFBbUIsb0RBQVMsZ0JBQWdCLG9EQUFTO0FBQzlFLGlCQUFpQixvRUFBa0IsR0FBRywwQkFBMEI7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsb0RBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3lGO0FBQ3pGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy9kYXRhLmpzPzljM2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNCYXNlNjRDb250ZW50QmxvY2ssIGlzSURDb250ZW50QmxvY2ssIGlzVVJMQ29udGVudEJsb2NrLCBwYXJzZUJhc2U2NERhdGFVcmwgfSBmcm9tIFwiLi4vY29udGVudC9kYXRhLmpzXCI7XG5pbXBvcnQgeyBfaXNDb250ZW50QmxvY2ssIF9pc09iamVjdCwgX2lzU3RyaW5nIH0gZnJvbSBcIi4vdXRpbHMuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy9kYXRhLnRzXG5mdW5jdGlvbiBjb252ZXJ0VG9WMUZyb21EYXRhQ29udGVudEJsb2NrKGJsb2NrKSB7XG5cdGlmIChpc1VSTENvbnRlbnRCbG9jayhibG9jaykpIHJldHVybiB7XG5cdFx0dHlwZTogYmxvY2sudHlwZSxcblx0XHRtaW1lVHlwZTogYmxvY2subWltZV90eXBlLFxuXHRcdHVybDogYmxvY2sudXJsLFxuXHRcdG1ldGFkYXRhOiBibG9jay5tZXRhZGF0YVxuXHR9O1xuXHRpZiAoaXNCYXNlNjRDb250ZW50QmxvY2soYmxvY2spKSByZXR1cm4ge1xuXHRcdHR5cGU6IGJsb2NrLnR5cGUsXG5cdFx0bWltZVR5cGU6IGJsb2NrLm1pbWVfdHlwZSA/PyBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiLFxuXHRcdGRhdGE6IGJsb2NrLmRhdGEsXG5cdFx0bWV0YWRhdGE6IGJsb2NrLm1ldGFkYXRhXG5cdH07XG5cdGlmIChpc0lEQ29udGVudEJsb2NrKGJsb2NrKSkgcmV0dXJuIHtcblx0XHR0eXBlOiBibG9jay50eXBlLFxuXHRcdG1pbWVUeXBlOiBibG9jay5taW1lX3R5cGUsXG5cdFx0ZmlsZUlkOiBibG9jay5pZCxcblx0XHRtZXRhZGF0YTogYmxvY2subWV0YWRhdGFcblx0fTtcblx0cmV0dXJuIGJsb2NrO1xufVxuZnVuY3Rpb24gY29udmVydFRvVjFGcm9tRGF0YUNvbnRlbnQoY29udGVudCkge1xuXHRyZXR1cm4gY29udGVudC5tYXAoY29udmVydFRvVjFGcm9tRGF0YUNvbnRlbnRCbG9jayk7XG59XG5mdW5jdGlvbiBpc09wZW5BSURhdGFCbG9jayhibG9jaykge1xuXHRpZiAoX2lzQ29udGVudEJsb2NrKGJsb2NrLCBcImltYWdlX3VybFwiKSAmJiBfaXNPYmplY3QoYmxvY2suaW1hZ2VfdXJsKSkgcmV0dXJuIHRydWU7XG5cdGlmIChfaXNDb250ZW50QmxvY2soYmxvY2ssIFwiaW5wdXRfYXVkaW9cIikgJiYgX2lzT2JqZWN0KGJsb2NrLmlucHV0X2F1ZGlvKSkgcmV0dXJuIHRydWU7XG5cdGlmIChfaXNDb250ZW50QmxvY2soYmxvY2ssIFwiZmlsZVwiKSAmJiBfaXNPYmplY3QoYmxvY2suZmlsZSkpIHJldHVybiB0cnVlO1xuXHRyZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBjb252ZXJ0VG9WMUZyb21PcGVuQUlEYXRhQmxvY2soYmxvY2spIHtcblx0aWYgKF9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJpbWFnZV91cmxcIikgJiYgX2lzT2JqZWN0KGJsb2NrLmltYWdlX3VybCkgJiYgX2lzU3RyaW5nKGJsb2NrLmltYWdlX3VybC51cmwpKSB7XG5cdFx0Y29uc3QgcGFyc2VkID0gcGFyc2VCYXNlNjREYXRhVXJsKHsgZGF0YVVybDogYmxvY2suaW1hZ2VfdXJsLnVybCB9KTtcblx0XHRpZiAocGFyc2VkKSByZXR1cm4ge1xuXHRcdFx0dHlwZTogXCJpbWFnZVwiLFxuXHRcdFx0bWltZVR5cGU6IHBhcnNlZC5taW1lX3R5cGUsXG5cdFx0XHRkYXRhOiBwYXJzZWQuZGF0YVxuXHRcdH07XG5cdFx0ZWxzZSByZXR1cm4ge1xuXHRcdFx0dHlwZTogXCJpbWFnZVwiLFxuXHRcdFx0dXJsOiBibG9jay5pbWFnZV91cmwudXJsXG5cdFx0fTtcblx0fSBlbHNlIGlmIChfaXNDb250ZW50QmxvY2soYmxvY2ssIFwiaW5wdXRfYXVkaW9cIikgJiYgX2lzT2JqZWN0KGJsb2NrLmlucHV0X2F1ZGlvKSAmJiBfaXNTdHJpbmcoYmxvY2suaW5wdXRfYXVkaW8uZGF0YSkgJiYgX2lzU3RyaW5nKGJsb2NrLmlucHV0X2F1ZGlvLmZvcm1hdCkpIHJldHVybiB7XG5cdFx0dHlwZTogXCJhdWRpb1wiLFxuXHRcdGRhdGE6IGJsb2NrLmlucHV0X2F1ZGlvLmRhdGEsXG5cdFx0bWltZVR5cGU6IGBhdWRpby8ke2Jsb2NrLmlucHV0X2F1ZGlvLmZvcm1hdH1gXG5cdH07XG5cdGVsc2UgaWYgKF9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJmaWxlXCIpICYmIF9pc09iamVjdChibG9jay5maWxlKSAmJiBfaXNTdHJpbmcoYmxvY2suZmlsZS5kYXRhKSkge1xuXHRcdGNvbnN0IHBhcnNlZCA9IHBhcnNlQmFzZTY0RGF0YVVybCh7IGRhdGFVcmw6IGJsb2NrLmZpbGUuZGF0YSB9KTtcblx0XHRpZiAocGFyc2VkKSByZXR1cm4ge1xuXHRcdFx0dHlwZTogXCJmaWxlXCIsXG5cdFx0XHRkYXRhOiBwYXJzZWQuZGF0YSxcblx0XHRcdG1pbWVUeXBlOiBwYXJzZWQubWltZV90eXBlXG5cdFx0fTtcblx0XHRlbHNlIGlmIChfaXNTdHJpbmcoYmxvY2suZmlsZS5maWxlX2lkKSkgcmV0dXJuIHtcblx0XHRcdHR5cGU6IFwiZmlsZVwiLFxuXHRcdFx0ZmlsZUlkOiBibG9jay5maWxlLmZpbGVfaWRcblx0XHR9O1xuXHR9XG5cdHJldHVybiBibG9jaztcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBjb252ZXJ0VG9WMUZyb21EYXRhQ29udGVudCwgY29udmVydFRvVjFGcm9tT3BlbkFJRGF0YUJsb2NrLCBpc09wZW5BSURhdGFCbG9jayB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/data.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/google_genai.js":
/*!*******************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/google_genai.js ***!
  \*******************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatGoogleGenAITranslator: () => (/* binding */ ChatGoogleGenAITranslator)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/utils.js\");\n\n\n//#region src/messages/block_translators/google_genai.ts\nfunction convertToV1FromChatGoogleMessage(message) {\n\tfunction* iterateContent() {\n\t\tconst content = typeof message.content === \"string\" ? [{\n\t\t\ttype: \"text\",\n\t\t\ttext: message.content\n\t\t}] : message.content;\n\t\tfor (const block of content) {\n\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"text\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.text)) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"text\",\n\t\t\t\t\ttext: block.text\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"inlineData\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.inlineData) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.inlineData.mimeType) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.inlineData.data)) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"file\",\n\t\t\t\t\tmimeType: block.inlineData.mimeType,\n\t\t\t\t\tdata: block.inlineData.data\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"functionCall\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.functionCall) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.functionCall.name) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.functionCall.args)) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"tool_call\",\n\t\t\t\t\tid: message.id,\n\t\t\t\t\tname: block.functionCall.name,\n\t\t\t\t\targs: block.functionCall.args\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"functionResponse\")) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"non_standard\",\n\t\t\t\t\tvalue: block\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"fileData\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.fileData) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.fileData.mimeType) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.fileData.fileUri)) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"file\",\n\t\t\t\t\tmimeType: block.fileData.mimeType,\n\t\t\t\t\tfileId: block.fileData.fileUri\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"executableCode\")) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"non_standard\",\n\t\t\t\t\tvalue: block\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"codeExecutionResult\")) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"non_standard\",\n\t\t\t\t\tvalue: block\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tyield {\n\t\t\t\ttype: \"non_standard\",\n\t\t\t\tvalue: block\n\t\t\t};\n\t\t}\n\t}\n\treturn Array.from(iterateContent());\n}\nconst ChatGoogleGenAITranslator = {\n\ttranslateContent: convertToV1FromChatGoogleMessage,\n\ttranslateContentChunk: convertToV1FromChatGoogleMessage\n};\n\n//#endregion\n\n//# sourceMappingURL=google_genai.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy9nb29nbGVfZ2VuYWkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBbUU7O0FBRW5FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLE9BQU8sMERBQWUsbUJBQW1CLG9EQUFTO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLFNBQVMsMERBQWUseUJBQXlCLG9EQUFTLHNCQUFzQixvREFBUywrQkFBK0Isb0RBQVM7QUFDdEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxTQUFTLDBEQUFlLDJCQUEyQixvREFBUyx3QkFBd0Isb0RBQVMsNkJBQTZCLG9EQUFTO0FBQ3hJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxTQUFTLDBEQUFlO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLFNBQVMsMERBQWUsdUJBQXVCLG9EQUFTLG9CQUFvQixvREFBUyw2QkFBNkIsb0RBQVM7QUFDaEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxTQUFTLDBEQUFlO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLFNBQVMsMERBQWU7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3FDO0FBQ3JDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy9nb29nbGVfZ2VuYWkuanM/ZGE1OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfaXNDb250ZW50QmxvY2ssIF9pc09iamVjdCwgX2lzU3RyaW5nIH0gZnJvbSBcIi4vdXRpbHMuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy9nb29nbGVfZ2VuYWkudHNcbmZ1bmN0aW9uIGNvbnZlcnRUb1YxRnJvbUNoYXRHb29nbGVNZXNzYWdlKG1lc3NhZ2UpIHtcblx0ZnVuY3Rpb24qIGl0ZXJhdGVDb250ZW50KCkge1xuXHRcdGNvbnN0IGNvbnRlbnQgPSB0eXBlb2YgbWVzc2FnZS5jb250ZW50ID09PSBcInN0cmluZ1wiID8gW3tcblx0XHRcdHR5cGU6IFwidGV4dFwiLFxuXHRcdFx0dGV4dDogbWVzc2FnZS5jb250ZW50XG5cdFx0fV0gOiBtZXNzYWdlLmNvbnRlbnQ7XG5cdFx0Zm9yIChjb25zdCBibG9jayBvZiBjb250ZW50KSB7XG5cdFx0XHRpZiAoX2lzQ29udGVudEJsb2NrKGJsb2NrLCBcInRleHRcIikgJiYgX2lzU3RyaW5nKGJsb2NrLnRleHQpKSB7XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHR0eXBlOiBcInRleHRcIixcblx0XHRcdFx0XHR0ZXh0OiBibG9jay50ZXh0XG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChfaXNDb250ZW50QmxvY2soYmxvY2ssIFwiaW5saW5lRGF0YVwiKSAmJiBfaXNPYmplY3QoYmxvY2suaW5saW5lRGF0YSkgJiYgX2lzU3RyaW5nKGJsb2NrLmlubGluZURhdGEubWltZVR5cGUpICYmIF9pc1N0cmluZyhibG9jay5pbmxpbmVEYXRhLmRhdGEpKSB7XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHR0eXBlOiBcImZpbGVcIixcblx0XHRcdFx0XHRtaW1lVHlwZTogYmxvY2suaW5saW5lRGF0YS5taW1lVHlwZSxcblx0XHRcdFx0XHRkYXRhOiBibG9jay5pbmxpbmVEYXRhLmRhdGFcblx0XHRcdFx0fTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9IGVsc2UgaWYgKF9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJmdW5jdGlvbkNhbGxcIikgJiYgX2lzT2JqZWN0KGJsb2NrLmZ1bmN0aW9uQ2FsbCkgJiYgX2lzU3RyaW5nKGJsb2NrLmZ1bmN0aW9uQ2FsbC5uYW1lKSAmJiBfaXNPYmplY3QoYmxvY2suZnVuY3Rpb25DYWxsLmFyZ3MpKSB7XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHR0eXBlOiBcInRvb2xfY2FsbFwiLFxuXHRcdFx0XHRcdGlkOiBtZXNzYWdlLmlkLFxuXHRcdFx0XHRcdG5hbWU6IGJsb2NrLmZ1bmN0aW9uQ2FsbC5uYW1lLFxuXHRcdFx0XHRcdGFyZ3M6IGJsb2NrLmZ1bmN0aW9uQ2FsbC5hcmdzXG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChfaXNDb250ZW50QmxvY2soYmxvY2ssIFwiZnVuY3Rpb25SZXNwb25zZVwiKSkge1xuXHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0dHlwZTogXCJub25fc3RhbmRhcmRcIixcblx0XHRcdFx0XHR2YWx1ZTogYmxvY2tcblx0XHRcdFx0fTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9IGVsc2UgaWYgKF9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJmaWxlRGF0YVwiKSAmJiBfaXNPYmplY3QoYmxvY2suZmlsZURhdGEpICYmIF9pc1N0cmluZyhibG9jay5maWxlRGF0YS5taW1lVHlwZSkgJiYgX2lzU3RyaW5nKGJsb2NrLmZpbGVEYXRhLmZpbGVVcmkpKSB7XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHR0eXBlOiBcImZpbGVcIixcblx0XHRcdFx0XHRtaW1lVHlwZTogYmxvY2suZmlsZURhdGEubWltZVR5cGUsXG5cdFx0XHRcdFx0ZmlsZUlkOiBibG9jay5maWxlRGF0YS5maWxlVXJpXG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChfaXNDb250ZW50QmxvY2soYmxvY2ssIFwiZXhlY3V0YWJsZUNvZGVcIikpIHtcblx0XHRcdFx0eWllbGQge1xuXHRcdFx0XHRcdHR5cGU6IFwibm9uX3N0YW5kYXJkXCIsXG5cdFx0XHRcdFx0dmFsdWU6IGJsb2NrXG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChfaXNDb250ZW50QmxvY2soYmxvY2ssIFwiY29kZUV4ZWN1dGlvblJlc3VsdFwiKSkge1xuXHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0dHlwZTogXCJub25fc3RhbmRhcmRcIixcblx0XHRcdFx0XHR2YWx1ZTogYmxvY2tcblx0XHRcdFx0fTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHR5aWVsZCB7XG5cdFx0XHRcdHR5cGU6IFwibm9uX3N0YW5kYXJkXCIsXG5cdFx0XHRcdHZhbHVlOiBibG9ja1xuXHRcdFx0fTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIEFycmF5LmZyb20oaXRlcmF0ZUNvbnRlbnQoKSk7XG59XG5jb25zdCBDaGF0R29vZ2xlR2VuQUlUcmFuc2xhdG9yID0ge1xuXHR0cmFuc2xhdGVDb250ZW50OiBjb252ZXJ0VG9WMUZyb21DaGF0R29vZ2xlTWVzc2FnZSxcblx0dHJhbnNsYXRlQ29udGVudENodW5rOiBjb252ZXJ0VG9WMUZyb21DaGF0R29vZ2xlTWVzc2FnZVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBDaGF0R29vZ2xlR2VuQUlUcmFuc2xhdG9yIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nb29nbGVfZ2VuYWkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/google_genai.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/google_vertexai.js":
/*!**********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/google_vertexai.js ***!
  \**********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatVertexTranslator: () => (/* binding */ ChatVertexTranslator)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/utils.js\");\n\n\n//#region src/messages/block_translators/google_vertexai.ts\nfunction convertToV1FromChatVertexMessage(message) {\n\tfunction* iterateContent() {\n\t\tconst content = typeof message.content === \"string\" ? [{\n\t\t\ttype: \"text\",\n\t\t\ttext: message.content\n\t\t}] : message.content;\n\t\tfor (const block of content) {\n\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"reasoning\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.reasoning)) {\n\t\t\t\tconst signature = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iife)(() => {\n\t\t\t\t\tconst reasoningIndex = content.indexOf(block);\n\t\t\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isArray)(message.additional_kwargs?.signatures) && reasoningIndex >= 0) return message.additional_kwargs.signatures.at(reasoningIndex);\n\t\t\t\t\treturn void 0;\n\t\t\t\t});\n\t\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(signature)) yield {\n\t\t\t\t\ttype: \"reasoning\",\n\t\t\t\t\treasoning: block.reasoning,\n\t\t\t\t\tsignature\n\t\t\t\t};\n\t\t\t\telse yield {\n\t\t\t\t\ttype: \"reasoning\",\n\t\t\t\t\treasoning: block.reasoning\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"text\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.text)) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"text\",\n\t\t\t\t\ttext: block.text\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"image_url\")) {\n\t\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.image_url)) if (block.image_url.startsWith(\"data:\")) {\n\t\t\t\t\tconst dataUrlRegex = /^data:([^;]+);base64,(.+)$/;\n\t\t\t\t\tconst match = block.image_url.match(dataUrlRegex);\n\t\t\t\t\tif (match) yield {\n\t\t\t\t\t\ttype: \"image\",\n\t\t\t\t\t\tdata: match[2],\n\t\t\t\t\t\tmimeType: match[1]\n\t\t\t\t\t};\n\t\t\t\t\telse yield {\n\t\t\t\t\t\ttype: \"image\",\n\t\t\t\t\t\turl: block.image_url\n\t\t\t\t\t};\n\t\t\t\t} else yield {\n\t\t\t\t\ttype: \"image\",\n\t\t\t\t\turl: block.image_url\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"media\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.mimeType) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.data)) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"file\",\n\t\t\t\t\tmimeType: block.mimeType,\n\t\t\t\t\tdata: block.data\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tyield {\n\t\t\t\ttype: \"non_standard\",\n\t\t\t\tvalue: block\n\t\t\t};\n\t\t}\n\t}\n\treturn Array.from(iterateContent());\n}\nconst ChatVertexTranslator = {\n\ttranslateContent: convertToV1FromChatVertexMessage,\n\ttranslateContentChunk: convertToV1FromChatVertexMessage\n};\n\n//#endregion\n\n//# sourceMappingURL=google_vertexai.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy9nb29nbGVfdmVydGV4YWkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBd0U7O0FBRXhFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLE9BQU8sMERBQWUsd0JBQXdCLG9EQUFTO0FBQ3ZELHNCQUFzQiwrQ0FBSTtBQUMxQjtBQUNBLFNBQVMsbURBQVE7QUFDakI7QUFDQSxLQUFLO0FBQ0wsUUFBUSxvREFBUztBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLFNBQVMsMERBQWUsbUJBQW1CLG9EQUFTO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLFNBQVMsMERBQWU7QUFDN0IsUUFBUSxvREFBUztBQUNqQixxQ0FBcUMsSUFBSTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssU0FBUywwREFBZSxvQkFBb0Isb0RBQVMsb0JBQW9CLG9EQUFTO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ2dDO0FBQ2hDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy9nb29nbGVfdmVydGV4YWkuanM/MzAzYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfaXNBcnJheSwgX2lzQ29udGVudEJsb2NrLCBfaXNTdHJpbmcsIGlpZmUgfSBmcm9tIFwiLi91dGlscy5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL21lc3NhZ2VzL2Jsb2NrX3RyYW5zbGF0b3JzL2dvb2dsZV92ZXJ0ZXhhaS50c1xuZnVuY3Rpb24gY29udmVydFRvVjFGcm9tQ2hhdFZlcnRleE1lc3NhZ2UobWVzc2FnZSkge1xuXHRmdW5jdGlvbiogaXRlcmF0ZUNvbnRlbnQoKSB7XG5cdFx0Y29uc3QgY29udGVudCA9IHR5cGVvZiBtZXNzYWdlLmNvbnRlbnQgPT09IFwic3RyaW5nXCIgPyBbe1xuXHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHR0ZXh0OiBtZXNzYWdlLmNvbnRlbnRcblx0XHR9XSA6IG1lc3NhZ2UuY29udGVudDtcblx0XHRmb3IgKGNvbnN0IGJsb2NrIG9mIGNvbnRlbnQpIHtcblx0XHRcdGlmIChfaXNDb250ZW50QmxvY2soYmxvY2ssIFwicmVhc29uaW5nXCIpICYmIF9pc1N0cmluZyhibG9jay5yZWFzb25pbmcpKSB7XG5cdFx0XHRcdGNvbnN0IHNpZ25hdHVyZSA9IGlpZmUoKCkgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IHJlYXNvbmluZ0luZGV4ID0gY29udGVudC5pbmRleE9mKGJsb2NrKTtcblx0XHRcdFx0XHRpZiAoX2lzQXJyYXkobWVzc2FnZS5hZGRpdGlvbmFsX2t3YXJncz8uc2lnbmF0dXJlcykgJiYgcmVhc29uaW5nSW5kZXggPj0gMCkgcmV0dXJuIG1lc3NhZ2UuYWRkaXRpb25hbF9rd2FyZ3Muc2lnbmF0dXJlcy5hdChyZWFzb25pbmdJbmRleCk7XG5cdFx0XHRcdFx0cmV0dXJuIHZvaWQgMDtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGlmIChfaXNTdHJpbmcoc2lnbmF0dXJlKSkgeWllbGQge1xuXHRcdFx0XHRcdHR5cGU6IFwicmVhc29uaW5nXCIsXG5cdFx0XHRcdFx0cmVhc29uaW5nOiBibG9jay5yZWFzb25pbmcsXG5cdFx0XHRcdFx0c2lnbmF0dXJlXG5cdFx0XHRcdH07XG5cdFx0XHRcdGVsc2UgeWllbGQge1xuXHRcdFx0XHRcdHR5cGU6IFwicmVhc29uaW5nXCIsXG5cdFx0XHRcdFx0cmVhc29uaW5nOiBibG9jay5yZWFzb25pbmdcblx0XHRcdFx0fTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9IGVsc2UgaWYgKF9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJ0ZXh0XCIpICYmIF9pc1N0cmluZyhibG9jay50ZXh0KSkge1xuXHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHRcdFx0dGV4dDogYmxvY2sudGV4dFxuXHRcdFx0XHR9O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAoX2lzQ29udGVudEJsb2NrKGJsb2NrLCBcImltYWdlX3VybFwiKSkge1xuXHRcdFx0XHRpZiAoX2lzU3RyaW5nKGJsb2NrLmltYWdlX3VybCkpIGlmIChibG9jay5pbWFnZV91cmwuc3RhcnRzV2l0aChcImRhdGE6XCIpKSB7XG5cdFx0XHRcdFx0Y29uc3QgZGF0YVVybFJlZ2V4ID0gL15kYXRhOihbXjtdKyk7YmFzZTY0LCguKykkLztcblx0XHRcdFx0XHRjb25zdCBtYXRjaCA9IGJsb2NrLmltYWdlX3VybC5tYXRjaChkYXRhVXJsUmVnZXgpO1xuXHRcdFx0XHRcdGlmIChtYXRjaCkgeWllbGQge1xuXHRcdFx0XHRcdFx0dHlwZTogXCJpbWFnZVwiLFxuXHRcdFx0XHRcdFx0ZGF0YTogbWF0Y2hbMl0sXG5cdFx0XHRcdFx0XHRtaW1lVHlwZTogbWF0Y2hbMV1cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdGVsc2UgeWllbGQge1xuXHRcdFx0XHRcdFx0dHlwZTogXCJpbWFnZVwiLFxuXHRcdFx0XHRcdFx0dXJsOiBibG9jay5pbWFnZV91cmxcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9IGVsc2UgeWllbGQge1xuXHRcdFx0XHRcdHR5cGU6IFwiaW1hZ2VcIixcblx0XHRcdFx0XHR1cmw6IGJsb2NrLmltYWdlX3VybFxuXHRcdFx0XHR9O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAoX2lzQ29udGVudEJsb2NrKGJsb2NrLCBcIm1lZGlhXCIpICYmIF9pc1N0cmluZyhibG9jay5taW1lVHlwZSkgJiYgX2lzU3RyaW5nKGJsb2NrLmRhdGEpKSB7XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHR0eXBlOiBcImZpbGVcIixcblx0XHRcdFx0XHRtaW1lVHlwZTogYmxvY2subWltZVR5cGUsXG5cdFx0XHRcdFx0ZGF0YTogYmxvY2suZGF0YVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdHlpZWxkIHtcblx0XHRcdFx0dHlwZTogXCJub25fc3RhbmRhcmRcIixcblx0XHRcdFx0dmFsdWU6IGJsb2NrXG5cdFx0XHR9O1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gQXJyYXkuZnJvbShpdGVyYXRlQ29udGVudCgpKTtcbn1cbmNvbnN0IENoYXRWZXJ0ZXhUcmFuc2xhdG9yID0ge1xuXHR0cmFuc2xhdGVDb250ZW50OiBjb252ZXJ0VG9WMUZyb21DaGF0VmVydGV4TWVzc2FnZSxcblx0dHJhbnNsYXRlQ29udGVudENodW5rOiBjb252ZXJ0VG9WMUZyb21DaGF0VmVydGV4TWVzc2FnZVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBDaGF0VmVydGV4VHJhbnNsYXRvciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z29vZ2xlX3ZlcnRleGFpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/google_vertexai.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/index.js":
/*!************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/index.js ***!
  \************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getTranslator: () => (/* binding */ getTranslator)\n/* harmony export */ });\n/* harmony import */ var _anthropic_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./anthropic.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/anthropic.js\");\n/* harmony import */ var _openai_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./openai.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/openai.js\");\n/* harmony import */ var _bedrock_converse_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./bedrock_converse.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/bedrock_converse.js\");\n/* harmony import */ var _google_genai_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./google_genai.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/google_genai.js\");\n/* harmony import */ var _google_vertexai_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./google_vertexai.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/google_vertexai.js\");\n\n\n\n\n\n\n//#region src/messages/block_translators/index.ts\nglobalThis.lc_block_translators_registry ??= new Map([\n\t[\"anthropic\", _anthropic_js__WEBPACK_IMPORTED_MODULE_0__.ChatAnthropicTranslator],\n\t[\"bedrock-converse\", _bedrock_converse_js__WEBPACK_IMPORTED_MODULE_2__.ChatBedrockConverseTranslator],\n\t[\"google-genai\", _google_genai_js__WEBPACK_IMPORTED_MODULE_3__.ChatGoogleGenAITranslator],\n\t[\"google-vertexai\", _google_vertexai_js__WEBPACK_IMPORTED_MODULE_4__.ChatVertexTranslator],\n\t[\"openai\", _openai_js__WEBPACK_IMPORTED_MODULE_1__.ChatOpenAITranslator]\n]);\nfunction getTranslator(modelProvider) {\n\treturn globalThis.lc_block_translators_registry.get(modelProvider);\n}\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBeUQ7QUFDTjtBQUNtQjtBQUNSO0FBQ0Y7O0FBRTVEO0FBQ0E7QUFDQSxlQUFlLGtFQUF1QjtBQUN0QyxzQkFBc0IsK0VBQTZCO0FBQ25ELGtCQUFrQix1RUFBeUI7QUFDM0MscUJBQXFCLHFFQUFvQjtBQUN6QyxZQUFZLDREQUFvQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUN5QjtBQUN6QiIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvbWVzc2FnZXMvYmxvY2tfdHJhbnNsYXRvcnMvaW5kZXguanM/NTQ1YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDaGF0QW50aHJvcGljVHJhbnNsYXRvciB9IGZyb20gXCIuL2FudGhyb3BpYy5qc1wiO1xuaW1wb3J0IHsgQ2hhdE9wZW5BSVRyYW5zbGF0b3IgfSBmcm9tIFwiLi9vcGVuYWkuanNcIjtcbmltcG9ydCB7IENoYXRCZWRyb2NrQ29udmVyc2VUcmFuc2xhdG9yIH0gZnJvbSBcIi4vYmVkcm9ja19jb252ZXJzZS5qc1wiO1xuaW1wb3J0IHsgQ2hhdEdvb2dsZUdlbkFJVHJhbnNsYXRvciB9IGZyb20gXCIuL2dvb2dsZV9nZW5haS5qc1wiO1xuaW1wb3J0IHsgQ2hhdFZlcnRleFRyYW5zbGF0b3IgfSBmcm9tIFwiLi9nb29nbGVfdmVydGV4YWkuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy9pbmRleC50c1xuZ2xvYmFsVGhpcy5sY19ibG9ja190cmFuc2xhdG9yc19yZWdpc3RyeSA/Pz0gbmV3IE1hcChbXG5cdFtcImFudGhyb3BpY1wiLCBDaGF0QW50aHJvcGljVHJhbnNsYXRvcl0sXG5cdFtcImJlZHJvY2stY29udmVyc2VcIiwgQ2hhdEJlZHJvY2tDb252ZXJzZVRyYW5zbGF0b3JdLFxuXHRbXCJnb29nbGUtZ2VuYWlcIiwgQ2hhdEdvb2dsZUdlbkFJVHJhbnNsYXRvcl0sXG5cdFtcImdvb2dsZS12ZXJ0ZXhhaVwiLCBDaGF0VmVydGV4VHJhbnNsYXRvcl0sXG5cdFtcIm9wZW5haVwiLCBDaGF0T3BlbkFJVHJhbnNsYXRvcl1cbl0pO1xuZnVuY3Rpb24gZ2V0VHJhbnNsYXRvcihtb2RlbFByb3ZpZGVyKSB7XG5cdHJldHVybiBnbG9iYWxUaGlzLmxjX2Jsb2NrX3RyYW5zbGF0b3JzX3JlZ2lzdHJ5LmdldChtb2RlbFByb3ZpZGVyKTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBnZXRUcmFuc2xhdG9yIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/openai.js":
/*!*************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/openai.js ***!
  \*************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatOpenAITranslator: () => (/* binding */ ChatOpenAITranslator),\n/* harmony export */   convertToV1FromChatCompletionsInput: () => (/* binding */ convertToV1FromChatCompletionsInput)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/utils.js\");\n/* harmony import */ var _data_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./data.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/data.js\");\n\n\n\n//#region src/messages/block_translators/openai.ts\n/**\n* Converts a ChatOpenAICompletions message to an array of v1 standard content blocks.\n*\n* This function processes an AI message from ChatOpenAICompletions API format\n* and converts it to the standardized v1 content block format. It handles both\n* string content and structured content blocks, as well as tool calls.\n*\n* @param message - The AI message containing ChatOpenAICompletions formatted content\n* @returns Array of content blocks in v1 standard format\n*\n* @example\n* ```typescript\n* const message = new AIMessage(\"Hello world\");\n* const standardBlocks = convertToV1FromChatCompletions(message);\n* // Returns: [{ type: \"text\", text: \"Hello world\" }]\n* ```\n*\n* @example\n* ```typescript\n* const message = new AIMessage([\n*   { type: \"text\", text: \"Hello\" },\n*   { type: \"image_url\", image_url: { url: \"https://example.com/image.png\" } }\n* ]);\n* message.tool_calls = [\n*   { id: \"call_123\", name: \"calculator\", args: { a: 1, b: 2 } }\n* ];\n*\n* const standardBlocks = convertToV1FromChatCompletions(message);\n* // Returns:\n* // [\n* //   { type: \"text\", text: \"Hello\" },\n* //   { type: \"image\", url: \"https://example.com/image.png\" },\n* //   { type: \"tool_call\", id: \"call_123\", name: \"calculator\", args: { a: 1, b: 2 } }\n* // ]\n* ```\n*/\nfunction convertToV1FromChatCompletions(message) {\n\tconst blocks = [];\n\tif (typeof message.content === \"string\") blocks.push({\n\t\ttype: \"text\",\n\t\ttext: message.content\n\t});\n\telse blocks.push(...convertToV1FromChatCompletionsInput(message.content));\n\tfor (const toolCall of message.tool_calls ?? []) blocks.push({\n\t\ttype: \"tool_call\",\n\t\tid: toolCall.id,\n\t\tname: toolCall.name,\n\t\targs: toolCall.args\n\t});\n\treturn blocks;\n}\n/**\n* Converts a ChatOpenAICompletions message chunk to an array of v1 standard content blocks.\n*\n* This function processes an AI message chunk from OpenAI's chat completions API and converts\n* it to the standardized v1 content block format. It handles both string and array content,\n* as well as tool calls that may be present in the chunk.\n*\n* @param message - The AI message chunk containing OpenAI-formatted content blocks\n* @returns Array of content blocks in v1 standard format\n*\n* @example\n* ```typescript\n* const chunk = new AIMessage(\"Hello\");\n* const standardBlocks = convertToV1FromChatCompletionsChunk(chunk);\n* // Returns: [{ type: \"text\", text: \"Hello\" }]\n* ```\n*\n* @example\n* ```typescript\n* const chunk = new AIMessage([\n*   { type: \"text\", text: \"Processing...\" }\n* ]);\n* chunk.tool_calls = [\n*   { id: \"call_456\", name: \"search\", args: { query: \"test\" } }\n* ];\n*\n* const standardBlocks = convertToV1FromChatCompletionsChunk(chunk);\n* // Returns:\n* // [\n* //   { type: \"text\", text: \"Processing...\" },\n* //   { type: \"tool_call\", id: \"call_456\", name: \"search\", args: { query: \"test\" } }\n* // ]\n* ```\n*/\nfunction convertToV1FromChatCompletionsChunk(message) {\n\tconst blocks = [];\n\tif (typeof message.content === \"string\") blocks.push({\n\t\ttype: \"text\",\n\t\ttext: message.content\n\t});\n\telse blocks.push(...convertToV1FromChatCompletionsInput(message.content));\n\tfor (const toolCall of message.tool_calls ?? []) blocks.push({\n\t\ttype: \"tool_call\",\n\t\tid: toolCall.id,\n\t\tname: toolCall.name,\n\t\targs: toolCall.args\n\t});\n\treturn blocks;\n}\n/**\n* Converts an array of ChatOpenAICompletions content blocks to v1 standard content blocks.\n*\n* This function processes content blocks from OpenAI's Chat Completions API format\n* and converts them to the standardized v1 content block format. It handles both\n* OpenAI-specific data blocks (which require conversion) and standard blocks\n* (which are passed through with type assertion).\n*\n* @param blocks - Array of content blocks in ChatOpenAICompletions format\n* @returns Array of content blocks in v1 standard format\n*\n* @example\n* ```typescript\n* const openaiBlocks = [\n*   { type: \"text\", text: \"Hello world\" },\n*   { type: \"image_url\", image_url: { url: \"https://example.com/image.png\" } }\n* ];\n*\n* const standardBlocks = convertToV1FromChatCompletionsInput(openaiBlocks);\n* // Returns:\n* // [\n* //   { type: \"text\", text: \"Hello world\" },\n* //   { type: \"image\", url: \"https://example.com/image.png\" }\n* // ]\n* ```\n*/\nfunction convertToV1FromChatCompletionsInput(blocks) {\n\tconst convertedBlocks = [];\n\tfor (const block of blocks) if ((0,_data_js__WEBPACK_IMPORTED_MODULE_1__.isOpenAIDataBlock)(block)) convertedBlocks.push((0,_data_js__WEBPACK_IMPORTED_MODULE_1__.convertToV1FromOpenAIDataBlock)(block));\n\telse convertedBlocks.push(block);\n\treturn convertedBlocks;\n}\nfunction convertResponsesAnnotation(annotation) {\n\tif (annotation.type === \"url_citation\") {\n\t\tconst { url, title, start_index, end_index } = annotation;\n\t\treturn {\n\t\t\ttype: \"citation\",\n\t\t\turl,\n\t\t\ttitle,\n\t\t\tstartIndex: start_index,\n\t\t\tendIndex: end_index\n\t\t};\n\t}\n\tif (annotation.type === \"file_citation\") {\n\t\tconst { file_id, filename, index } = annotation;\n\t\treturn {\n\t\t\ttype: \"citation\",\n\t\t\ttitle: filename,\n\t\t\tstartIndex: index,\n\t\t\tendIndex: index,\n\t\t\tfileId: file_id\n\t\t};\n\t}\n\treturn annotation;\n}\n/**\n* Converts a ChatOpenAIResponses message to an array of v1 standard content blocks.\n*\n* This function processes an AI message containing OpenAI Responses-specific content blocks\n* and converts them to the standardized v1 content block format. It handles reasoning summaries,\n* text content with annotations, tool calls, and various tool outputs including code interpreter,\n* web search, file search, computer calls, and MCP-related blocks.\n*\n* @param message - The AI message containing OpenAI Responses-formatted content blocks\n* @returns Array of content blocks in v1 standard format\n*\n* @example\n* ```typescript\n* const message = new AIMessage({\n*   content: [{ type: \"text\", text: \"Hello world\", annotations: [] }],\n*   tool_calls: [{ id: \"123\", name: \"calculator\", args: { a: 1, b: 2 } }],\n*   additional_kwargs: {\n*     reasoning: { summary: [{ text: \"Let me calculate this...\" }] },\n*     tool_outputs: [\n*       {\n*         type: \"code_interpreter_call\",\n*         code: \"print('hello')\",\n*         outputs: [{ type: \"logs\", logs: \"hello\" }]\n*       }\n*     ]\n*   }\n* });\n*\n* const standardBlocks = convertToV1FromResponses(message);\n* // Returns:\n* // [\n* //   { type: \"reasoning\", reasoning: \"Let me calculate this...\" },\n* //   { type: \"text\", text: \"Hello world\", annotations: [] },\n* //   { type: \"tool_call\", id: \"123\", name: \"calculator\", args: { a: 1, b: 2 } },\n* //   { type: \"code_interpreter_call\", code: \"print('hello')\" },\n* //   { type: \"code_interpreter_result\", output: [{ type: \"code_interpreter_output\", returnCode: 0, stdout: \"hello\" }] }\n* // ]\n* ```\n*/\nfunction convertToV1FromResponses(message) {\n\tfunction* iterateContent() {\n\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(message.additional_kwargs?.reasoning) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isArray)(message.additional_kwargs.reasoning.summary)) {\n\t\t\tconst summary = message.additional_kwargs.reasoning.summary.reduce((acc, item) => {\n\t\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(item) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(item.text)) return `${acc}${item.text}`;\n\t\t\t\treturn acc;\n\t\t\t}, \"\");\n\t\t\tyield {\n\t\t\t\ttype: \"reasoning\",\n\t\t\t\treasoning: summary\n\t\t\t};\n\t\t}\n\t\tconst content = typeof message.content === \"string\" ? [{\n\t\t\ttype: \"text\",\n\t\t\ttext: message.content\n\t\t}] : message.content;\n\t\tfor (const block of content) if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"text\")) {\n\t\t\tconst { text, annotations,...rest } = block;\n\t\t\tif (Array.isArray(annotations)) yield {\n\t\t\t\t...rest,\n\t\t\t\ttype: \"text\",\n\t\t\t\ttext: String(text),\n\t\t\t\tannotations: annotations.map(convertResponsesAnnotation)\n\t\t\t};\n\t\t\telse yield {\n\t\t\t\t...rest,\n\t\t\t\ttype: \"text\",\n\t\t\t\ttext: String(text)\n\t\t\t};\n\t\t}\n\t\tfor (const toolCall of message.tool_calls ?? []) yield {\n\t\t\ttype: \"tool_call\",\n\t\t\tid: toolCall.id,\n\t\t\tname: toolCall.name,\n\t\t\targs: toolCall.args\n\t\t};\n\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(message.additional_kwargs) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isArray)(message.additional_kwargs.tool_outputs)) for (const toolOutput of message.additional_kwargs.tool_outputs) {\n\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(toolOutput, \"web_search_call\")) {\n\t\t\t\tyield {\n\t\t\t\t\tid: toolOutput.id,\n\t\t\t\t\ttype: \"server_tool_call\",\n\t\t\t\t\tname: \"web_search\",\n\t\t\t\t\targs: { query: toolOutput.query }\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(toolOutput, \"file_search_call\")) {\n\t\t\t\tyield {\n\t\t\t\t\tid: toolOutput.id,\n\t\t\t\t\ttype: \"server_tool_call\",\n\t\t\t\t\tname: \"file_search\",\n\t\t\t\t\targs: { query: toolOutput.query }\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(toolOutput, \"computer_call\")) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"non_standard\",\n\t\t\t\t\tvalue: toolOutput\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(toolOutput, \"code_interpreter_call\")) {\n\t\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(toolOutput.code)) yield {\n\t\t\t\t\tid: toolOutput.id,\n\t\t\t\t\ttype: \"server_tool_call\",\n\t\t\t\t\tname: \"code_interpreter\",\n\t\t\t\t\targs: { code: toolOutput.code }\n\t\t\t\t};\n\t\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isArray)(toolOutput.outputs)) {\n\t\t\t\t\tconst returnCode = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iife)(() => {\n\t\t\t\t\t\tif (toolOutput.status === \"in_progress\") return void 0;\n\t\t\t\t\t\tif (toolOutput.status === \"completed\") return 0;\n\t\t\t\t\t\tif (toolOutput.status === \"incomplete\") return 127;\n\t\t\t\t\t\tif (toolOutput.status === \"interpreting\") return void 0;\n\t\t\t\t\t\tif (toolOutput.status === \"failed\") return 1;\n\t\t\t\t\t\treturn void 0;\n\t\t\t\t\t});\n\t\t\t\t\tfor (const output of toolOutput.outputs) if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(output, \"logs\")) {\n\t\t\t\t\t\tyield {\n\t\t\t\t\t\t\ttype: \"server_tool_call_result\",\n\t\t\t\t\t\t\ttoolCallId: toolOutput.id ?? \"\",\n\t\t\t\t\t\t\tstatus: \"success\",\n\t\t\t\t\t\t\toutput: {\n\t\t\t\t\t\t\t\ttype: \"code_interpreter_output\",\n\t\t\t\t\t\t\t\treturnCode: returnCode ?? 0,\n\t\t\t\t\t\t\t\tstderr: [0, void 0].includes(returnCode) ? void 0 : String(output.logs),\n\t\t\t\t\t\t\t\tstdout: [0, void 0].includes(returnCode) ? String(output.logs) : void 0\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(toolOutput, \"mcp_call\")) {\n\t\t\t\tyield {\n\t\t\t\t\tid: toolOutput.id,\n\t\t\t\t\ttype: \"server_tool_call\",\n\t\t\t\t\tname: \"mcp_call\",\n\t\t\t\t\targs: toolOutput.input\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(toolOutput, \"mcp_list_tools\")) {\n\t\t\t\tyield {\n\t\t\t\t\tid: toolOutput.id,\n\t\t\t\t\ttype: \"server_tool_call\",\n\t\t\t\t\tname: \"mcp_list_tools\",\n\t\t\t\t\targs: toolOutput.input\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(toolOutput, \"mcp_approval_request\")) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"non_standard\",\n\t\t\t\t\tvalue: toolOutput\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(toolOutput, \"image_generation_call\")) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"non_standard\",\n\t\t\t\t\tvalue: toolOutput\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(toolOutput)) yield {\n\t\t\t\ttype: \"non_standard\",\n\t\t\t\tvalue: toolOutput\n\t\t\t};\n\t\t}\n\t}\n\treturn Array.from(iterateContent());\n}\n/**\n* Converts a ChatOpenAIResponses message chunk to an array of v1 standard content blocks.\n*\n* This function processes an AI message chunk containing OpenAI-specific content blocks\n* and converts them to the standardized v1 content block format. It handles both the\n* regular message content and tool call chunks that are specific to streaming responses.\n*\n* @param message - The AI message chunk containing OpenAI-formatted content blocks\n* @returns Array of content blocks in v1 standard format\n*\n* @example\n* ```typescript\n* const messageChunk = new AIMessageChunk({\n*   content: [{ type: \"text\", text: \"Hello\" }],\n*   tool_call_chunks: [\n*     { id: \"call_123\", name: \"calculator\", args: '{\"a\": 1' }\n*   ]\n* });\n*\n* const standardBlocks = convertToV1FromResponsesChunk(messageChunk);\n* // Returns:\n* // [\n* //   { type: \"text\", text: \"Hello\" },\n* //   { type: \"tool_call_chunk\", id: \"call_123\", name: \"calculator\", args: '{\"a\": 1' }\n* // ]\n* ```\n*/\nfunction convertToV1FromResponsesChunk(message) {\n\tfunction* iterateContent() {\n\t\tyield* convertToV1FromResponses(message);\n\t\tfor (const toolCallChunk of message.tool_call_chunks ?? []) yield {\n\t\t\ttype: \"tool_call_chunk\",\n\t\t\tid: toolCallChunk.id,\n\t\t\tname: toolCallChunk.name,\n\t\t\targs: toolCallChunk.args\n\t\t};\n\t}\n\treturn Array.from(iterateContent());\n}\nconst ChatOpenAITranslator = {\n\ttranslateContent: (message) => {\n\t\tif (typeof message.content === \"string\") return convertToV1FromChatCompletions(message);\n\t\treturn convertToV1FromResponses(message);\n\t},\n\ttranslateContentChunk: (message) => {\n\t\tif (typeof message.content === \"string\") return convertToV1FromChatCompletionsChunk(message);\n\t\treturn convertToV1FromResponsesChunk(message);\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=openai.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy9vcGVuYWkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFtRjtBQUNMOztBQUU5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsbUNBQW1DO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLDZCQUE2QjtBQUNuQyxNQUFNLGdDQUFnQztBQUN0QztBQUNBO0FBQ0EsTUFBTSw0Q0FBNEM7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsNkJBQTZCO0FBQ3RDLFNBQVMscURBQXFEO0FBQzlELFNBQVMsK0RBQStEO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDZCQUE2QjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxNQUFNLHdDQUF3QztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxxQ0FBcUM7QUFDOUMsU0FBUywyREFBMkQ7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLG1DQUFtQztBQUN6QyxNQUFNLGdDQUFnQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxtQ0FBbUM7QUFDNUMsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsMkRBQWlCLDhCQUE4Qix3RUFBOEI7QUFDOUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUscUNBQXFDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsMkJBQTJCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixvREFBb0Q7QUFDcEUsbUJBQW1CLHVDQUF1QyxjQUFjO0FBQ3hFO0FBQ0EsbUJBQW1CLFlBQVksa0NBQWtDLEdBQUc7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsNkJBQTZCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsMERBQTBEO0FBQ25FLFNBQVMsb0RBQW9EO0FBQzdELFNBQVMsMERBQTBELGNBQWM7QUFDakYsU0FBUyx1REFBdUQ7QUFDaEUsU0FBUyw0Q0FBNEMsaUVBQWlFO0FBQ3RIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLG9EQUFTLDBDQUEwQyxtREFBUTtBQUNqRTtBQUNBLFFBQVEsb0RBQVMsVUFBVSxvREFBUyx1QkFBdUIsSUFBSSxFQUFFLFVBQVU7QUFDM0U7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxtQ0FBbUMsMERBQWU7QUFDbEQsV0FBVyw0QkFBNEI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxvREFBUywrQkFBK0IsbURBQVE7QUFDdEQsT0FBTywwREFBZTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsS0FBSyxTQUFTLDBEQUFlO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxLQUFLLFNBQVMsMERBQWU7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssU0FBUywwREFBZTtBQUM3QixRQUFRLG9EQUFTO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFFBQVEsbURBQVE7QUFDaEIsd0JBQXdCLCtDQUFJO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixrREFBa0QsMERBQWU7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxTQUFTLDBEQUFlO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxTQUFTLDBEQUFlO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxTQUFTLDBEQUFlO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLFNBQVMsMERBQWU7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxvREFBUztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDZCQUE2QjtBQUM3QztBQUNBLFFBQVEsNENBQTRDO0FBQ3BEO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyw2QkFBNkI7QUFDdEMsU0FBUyxxRUFBcUU7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNxRTtBQUNyRSIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvbWVzc2FnZXMvYmxvY2tfdHJhbnNsYXRvcnMvb3BlbmFpLmpzPzFlMTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX2lzQXJyYXksIF9pc0NvbnRlbnRCbG9jaywgX2lzT2JqZWN0LCBfaXNTdHJpbmcsIGlpZmUgfSBmcm9tIFwiLi91dGlscy5qc1wiO1xuaW1wb3J0IHsgY29udmVydFRvVjFGcm9tT3BlbkFJRGF0YUJsb2NrLCBpc09wZW5BSURhdGFCbG9jayB9IGZyb20gXCIuL2RhdGEuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy9vcGVuYWkudHNcbi8qKlxuKiBDb252ZXJ0cyBhIENoYXRPcGVuQUlDb21wbGV0aW9ucyBtZXNzYWdlIHRvIGFuIGFycmF5IG9mIHYxIHN0YW5kYXJkIGNvbnRlbnQgYmxvY2tzLlxuKlxuKiBUaGlzIGZ1bmN0aW9uIHByb2Nlc3NlcyBhbiBBSSBtZXNzYWdlIGZyb20gQ2hhdE9wZW5BSUNvbXBsZXRpb25zIEFQSSBmb3JtYXRcbiogYW5kIGNvbnZlcnRzIGl0IHRvIHRoZSBzdGFuZGFyZGl6ZWQgdjEgY29udGVudCBibG9jayBmb3JtYXQuIEl0IGhhbmRsZXMgYm90aFxuKiBzdHJpbmcgY29udGVudCBhbmQgc3RydWN0dXJlZCBjb250ZW50IGJsb2NrcywgYXMgd2VsbCBhcyB0b29sIGNhbGxzLlxuKlxuKiBAcGFyYW0gbWVzc2FnZSAtIFRoZSBBSSBtZXNzYWdlIGNvbnRhaW5pbmcgQ2hhdE9wZW5BSUNvbXBsZXRpb25zIGZvcm1hdHRlZCBjb250ZW50XG4qIEByZXR1cm5zIEFycmF5IG9mIGNvbnRlbnQgYmxvY2tzIGluIHYxIHN0YW5kYXJkIGZvcm1hdFxuKlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIGNvbnN0IG1lc3NhZ2UgPSBuZXcgQUlNZXNzYWdlKFwiSGVsbG8gd29ybGRcIik7XG4qIGNvbnN0IHN0YW5kYXJkQmxvY2tzID0gY29udmVydFRvVjFGcm9tQ2hhdENvbXBsZXRpb25zKG1lc3NhZ2UpO1xuKiAvLyBSZXR1cm5zOiBbeyB0eXBlOiBcInRleHRcIiwgdGV4dDogXCJIZWxsbyB3b3JsZFwiIH1dXG4qIGBgYFxuKlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIGNvbnN0IG1lc3NhZ2UgPSBuZXcgQUlNZXNzYWdlKFtcbiogICB7IHR5cGU6IFwidGV4dFwiLCB0ZXh0OiBcIkhlbGxvXCIgfSxcbiogICB7IHR5cGU6IFwiaW1hZ2VfdXJsXCIsIGltYWdlX3VybDogeyB1cmw6IFwiaHR0cHM6Ly9leGFtcGxlLmNvbS9pbWFnZS5wbmdcIiB9IH1cbiogXSk7XG4qIG1lc3NhZ2UudG9vbF9jYWxscyA9IFtcbiogICB7IGlkOiBcImNhbGxfMTIzXCIsIG5hbWU6IFwiY2FsY3VsYXRvclwiLCBhcmdzOiB7IGE6IDEsIGI6IDIgfSB9XG4qIF07XG4qXG4qIGNvbnN0IHN0YW5kYXJkQmxvY2tzID0gY29udmVydFRvVjFGcm9tQ2hhdENvbXBsZXRpb25zKG1lc3NhZ2UpO1xuKiAvLyBSZXR1cm5zOlxuKiAvLyBbXG4qIC8vICAgeyB0eXBlOiBcInRleHRcIiwgdGV4dDogXCJIZWxsb1wiIH0sXG4qIC8vICAgeyB0eXBlOiBcImltYWdlXCIsIHVybDogXCJodHRwczovL2V4YW1wbGUuY29tL2ltYWdlLnBuZ1wiIH0sXG4qIC8vICAgeyB0eXBlOiBcInRvb2xfY2FsbFwiLCBpZDogXCJjYWxsXzEyM1wiLCBuYW1lOiBcImNhbGN1bGF0b3JcIiwgYXJnczogeyBhOiAxLCBiOiAyIH0gfVxuKiAvLyBdXG4qIGBgYFxuKi9cbmZ1bmN0aW9uIGNvbnZlcnRUb1YxRnJvbUNoYXRDb21wbGV0aW9ucyhtZXNzYWdlKSB7XG5cdGNvbnN0IGJsb2NrcyA9IFtdO1xuXHRpZiAodHlwZW9mIG1lc3NhZ2UuY29udGVudCA9PT0gXCJzdHJpbmdcIikgYmxvY2tzLnB1c2goe1xuXHRcdHR5cGU6IFwidGV4dFwiLFxuXHRcdHRleHQ6IG1lc3NhZ2UuY29udGVudFxuXHR9KTtcblx0ZWxzZSBibG9ja3MucHVzaCguLi5jb252ZXJ0VG9WMUZyb21DaGF0Q29tcGxldGlvbnNJbnB1dChtZXNzYWdlLmNvbnRlbnQpKTtcblx0Zm9yIChjb25zdCB0b29sQ2FsbCBvZiBtZXNzYWdlLnRvb2xfY2FsbHMgPz8gW10pIGJsb2Nrcy5wdXNoKHtcblx0XHR0eXBlOiBcInRvb2xfY2FsbFwiLFxuXHRcdGlkOiB0b29sQ2FsbC5pZCxcblx0XHRuYW1lOiB0b29sQ2FsbC5uYW1lLFxuXHRcdGFyZ3M6IHRvb2xDYWxsLmFyZ3Ncblx0fSk7XG5cdHJldHVybiBibG9ja3M7XG59XG4vKipcbiogQ29udmVydHMgYSBDaGF0T3BlbkFJQ29tcGxldGlvbnMgbWVzc2FnZSBjaHVuayB0byBhbiBhcnJheSBvZiB2MSBzdGFuZGFyZCBjb250ZW50IGJsb2Nrcy5cbipcbiogVGhpcyBmdW5jdGlvbiBwcm9jZXNzZXMgYW4gQUkgbWVzc2FnZSBjaHVuayBmcm9tIE9wZW5BSSdzIGNoYXQgY29tcGxldGlvbnMgQVBJIGFuZCBjb252ZXJ0c1xuKiBpdCB0byB0aGUgc3RhbmRhcmRpemVkIHYxIGNvbnRlbnQgYmxvY2sgZm9ybWF0LiBJdCBoYW5kbGVzIGJvdGggc3RyaW5nIGFuZCBhcnJheSBjb250ZW50LFxuKiBhcyB3ZWxsIGFzIHRvb2wgY2FsbHMgdGhhdCBtYXkgYmUgcHJlc2VudCBpbiB0aGUgY2h1bmsuXG4qXG4qIEBwYXJhbSBtZXNzYWdlIC0gVGhlIEFJIG1lc3NhZ2UgY2h1bmsgY29udGFpbmluZyBPcGVuQUktZm9ybWF0dGVkIGNvbnRlbnQgYmxvY2tzXG4qIEByZXR1cm5zIEFycmF5IG9mIGNvbnRlbnQgYmxvY2tzIGluIHYxIHN0YW5kYXJkIGZvcm1hdFxuKlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIGNvbnN0IGNodW5rID0gbmV3IEFJTWVzc2FnZShcIkhlbGxvXCIpO1xuKiBjb25zdCBzdGFuZGFyZEJsb2NrcyA9IGNvbnZlcnRUb1YxRnJvbUNoYXRDb21wbGV0aW9uc0NodW5rKGNodW5rKTtcbiogLy8gUmV0dXJuczogW3sgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IFwiSGVsbG9cIiB9XVxuKiBgYGBcbipcbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBjaHVuayA9IG5ldyBBSU1lc3NhZ2UoW1xuKiAgIHsgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IFwiUHJvY2Vzc2luZy4uLlwiIH1cbiogXSk7XG4qIGNodW5rLnRvb2xfY2FsbHMgPSBbXG4qICAgeyBpZDogXCJjYWxsXzQ1NlwiLCBuYW1lOiBcInNlYXJjaFwiLCBhcmdzOiB7IHF1ZXJ5OiBcInRlc3RcIiB9IH1cbiogXTtcbipcbiogY29uc3Qgc3RhbmRhcmRCbG9ja3MgPSBjb252ZXJ0VG9WMUZyb21DaGF0Q29tcGxldGlvbnNDaHVuayhjaHVuayk7XG4qIC8vIFJldHVybnM6XG4qIC8vIFtcbiogLy8gICB7IHR5cGU6IFwidGV4dFwiLCB0ZXh0OiBcIlByb2Nlc3NpbmcuLi5cIiB9LFxuKiAvLyAgIHsgdHlwZTogXCJ0b29sX2NhbGxcIiwgaWQ6IFwiY2FsbF80NTZcIiwgbmFtZTogXCJzZWFyY2hcIiwgYXJnczogeyBxdWVyeTogXCJ0ZXN0XCIgfSB9XG4qIC8vIF1cbiogYGBgXG4qL1xuZnVuY3Rpb24gY29udmVydFRvVjFGcm9tQ2hhdENvbXBsZXRpb25zQ2h1bmsobWVzc2FnZSkge1xuXHRjb25zdCBibG9ja3MgPSBbXTtcblx0aWYgKHR5cGVvZiBtZXNzYWdlLmNvbnRlbnQgPT09IFwic3RyaW5nXCIpIGJsb2Nrcy5wdXNoKHtcblx0XHR0eXBlOiBcInRleHRcIixcblx0XHR0ZXh0OiBtZXNzYWdlLmNvbnRlbnRcblx0fSk7XG5cdGVsc2UgYmxvY2tzLnB1c2goLi4uY29udmVydFRvVjFGcm9tQ2hhdENvbXBsZXRpb25zSW5wdXQobWVzc2FnZS5jb250ZW50KSk7XG5cdGZvciAoY29uc3QgdG9vbENhbGwgb2YgbWVzc2FnZS50b29sX2NhbGxzID8/IFtdKSBibG9ja3MucHVzaCh7XG5cdFx0dHlwZTogXCJ0b29sX2NhbGxcIixcblx0XHRpZDogdG9vbENhbGwuaWQsXG5cdFx0bmFtZTogdG9vbENhbGwubmFtZSxcblx0XHRhcmdzOiB0b29sQ2FsbC5hcmdzXG5cdH0pO1xuXHRyZXR1cm4gYmxvY2tzO1xufVxuLyoqXG4qIENvbnZlcnRzIGFuIGFycmF5IG9mIENoYXRPcGVuQUlDb21wbGV0aW9ucyBjb250ZW50IGJsb2NrcyB0byB2MSBzdGFuZGFyZCBjb250ZW50IGJsb2Nrcy5cbipcbiogVGhpcyBmdW5jdGlvbiBwcm9jZXNzZXMgY29udGVudCBibG9ja3MgZnJvbSBPcGVuQUkncyBDaGF0IENvbXBsZXRpb25zIEFQSSBmb3JtYXRcbiogYW5kIGNvbnZlcnRzIHRoZW0gdG8gdGhlIHN0YW5kYXJkaXplZCB2MSBjb250ZW50IGJsb2NrIGZvcm1hdC4gSXQgaGFuZGxlcyBib3RoXG4qIE9wZW5BSS1zcGVjaWZpYyBkYXRhIGJsb2NrcyAod2hpY2ggcmVxdWlyZSBjb252ZXJzaW9uKSBhbmQgc3RhbmRhcmQgYmxvY2tzXG4qICh3aGljaCBhcmUgcGFzc2VkIHRocm91Z2ggd2l0aCB0eXBlIGFzc2VydGlvbikuXG4qXG4qIEBwYXJhbSBibG9ja3MgLSBBcnJheSBvZiBjb250ZW50IGJsb2NrcyBpbiBDaGF0T3BlbkFJQ29tcGxldGlvbnMgZm9ybWF0XG4qIEByZXR1cm5zIEFycmF5IG9mIGNvbnRlbnQgYmxvY2tzIGluIHYxIHN0YW5kYXJkIGZvcm1hdFxuKlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIGNvbnN0IG9wZW5haUJsb2NrcyA9IFtcbiogICB7IHR5cGU6IFwidGV4dFwiLCB0ZXh0OiBcIkhlbGxvIHdvcmxkXCIgfSxcbiogICB7IHR5cGU6IFwiaW1hZ2VfdXJsXCIsIGltYWdlX3VybDogeyB1cmw6IFwiaHR0cHM6Ly9leGFtcGxlLmNvbS9pbWFnZS5wbmdcIiB9IH1cbiogXTtcbipcbiogY29uc3Qgc3RhbmRhcmRCbG9ja3MgPSBjb252ZXJ0VG9WMUZyb21DaGF0Q29tcGxldGlvbnNJbnB1dChvcGVuYWlCbG9ja3MpO1xuKiAvLyBSZXR1cm5zOlxuKiAvLyBbXG4qIC8vICAgeyB0eXBlOiBcInRleHRcIiwgdGV4dDogXCJIZWxsbyB3b3JsZFwiIH0sXG4qIC8vICAgeyB0eXBlOiBcImltYWdlXCIsIHVybDogXCJodHRwczovL2V4YW1wbGUuY29tL2ltYWdlLnBuZ1wiIH1cbiogLy8gXVxuKiBgYGBcbiovXG5mdW5jdGlvbiBjb252ZXJ0VG9WMUZyb21DaGF0Q29tcGxldGlvbnNJbnB1dChibG9ja3MpIHtcblx0Y29uc3QgY29udmVydGVkQmxvY2tzID0gW107XG5cdGZvciAoY29uc3QgYmxvY2sgb2YgYmxvY2tzKSBpZiAoaXNPcGVuQUlEYXRhQmxvY2soYmxvY2spKSBjb252ZXJ0ZWRCbG9ja3MucHVzaChjb252ZXJ0VG9WMUZyb21PcGVuQUlEYXRhQmxvY2soYmxvY2spKTtcblx0ZWxzZSBjb252ZXJ0ZWRCbG9ja3MucHVzaChibG9jayk7XG5cdHJldHVybiBjb252ZXJ0ZWRCbG9ja3M7XG59XG5mdW5jdGlvbiBjb252ZXJ0UmVzcG9uc2VzQW5ub3RhdGlvbihhbm5vdGF0aW9uKSB7XG5cdGlmIChhbm5vdGF0aW9uLnR5cGUgPT09IFwidXJsX2NpdGF0aW9uXCIpIHtcblx0XHRjb25zdCB7IHVybCwgdGl0bGUsIHN0YXJ0X2luZGV4LCBlbmRfaW5kZXggfSA9IGFubm90YXRpb247XG5cdFx0cmV0dXJuIHtcblx0XHRcdHR5cGU6IFwiY2l0YXRpb25cIixcblx0XHRcdHVybCxcblx0XHRcdHRpdGxlLFxuXHRcdFx0c3RhcnRJbmRleDogc3RhcnRfaW5kZXgsXG5cdFx0XHRlbmRJbmRleDogZW5kX2luZGV4XG5cdFx0fTtcblx0fVxuXHRpZiAoYW5ub3RhdGlvbi50eXBlID09PSBcImZpbGVfY2l0YXRpb25cIikge1xuXHRcdGNvbnN0IHsgZmlsZV9pZCwgZmlsZW5hbWUsIGluZGV4IH0gPSBhbm5vdGF0aW9uO1xuXHRcdHJldHVybiB7XG5cdFx0XHR0eXBlOiBcImNpdGF0aW9uXCIsXG5cdFx0XHR0aXRsZTogZmlsZW5hbWUsXG5cdFx0XHRzdGFydEluZGV4OiBpbmRleCxcblx0XHRcdGVuZEluZGV4OiBpbmRleCxcblx0XHRcdGZpbGVJZDogZmlsZV9pZFxuXHRcdH07XG5cdH1cblx0cmV0dXJuIGFubm90YXRpb247XG59XG4vKipcbiogQ29udmVydHMgYSBDaGF0T3BlbkFJUmVzcG9uc2VzIG1lc3NhZ2UgdG8gYW4gYXJyYXkgb2YgdjEgc3RhbmRhcmQgY29udGVudCBibG9ja3MuXG4qXG4qIFRoaXMgZnVuY3Rpb24gcHJvY2Vzc2VzIGFuIEFJIG1lc3NhZ2UgY29udGFpbmluZyBPcGVuQUkgUmVzcG9uc2VzLXNwZWNpZmljIGNvbnRlbnQgYmxvY2tzXG4qIGFuZCBjb252ZXJ0cyB0aGVtIHRvIHRoZSBzdGFuZGFyZGl6ZWQgdjEgY29udGVudCBibG9jayBmb3JtYXQuIEl0IGhhbmRsZXMgcmVhc29uaW5nIHN1bW1hcmllcyxcbiogdGV4dCBjb250ZW50IHdpdGggYW5ub3RhdGlvbnMsIHRvb2wgY2FsbHMsIGFuZCB2YXJpb3VzIHRvb2wgb3V0cHV0cyBpbmNsdWRpbmcgY29kZSBpbnRlcnByZXRlcixcbiogd2ViIHNlYXJjaCwgZmlsZSBzZWFyY2gsIGNvbXB1dGVyIGNhbGxzLCBhbmQgTUNQLXJlbGF0ZWQgYmxvY2tzLlxuKlxuKiBAcGFyYW0gbWVzc2FnZSAtIFRoZSBBSSBtZXNzYWdlIGNvbnRhaW5pbmcgT3BlbkFJIFJlc3BvbnNlcy1mb3JtYXR0ZWQgY29udGVudCBibG9ja3NcbiogQHJldHVybnMgQXJyYXkgb2YgY29udGVudCBibG9ja3MgaW4gdjEgc3RhbmRhcmQgZm9ybWF0XG4qXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogY29uc3QgbWVzc2FnZSA9IG5ldyBBSU1lc3NhZ2Uoe1xuKiAgIGNvbnRlbnQ6IFt7IHR5cGU6IFwidGV4dFwiLCB0ZXh0OiBcIkhlbGxvIHdvcmxkXCIsIGFubm90YXRpb25zOiBbXSB9XSxcbiogICB0b29sX2NhbGxzOiBbeyBpZDogXCIxMjNcIiwgbmFtZTogXCJjYWxjdWxhdG9yXCIsIGFyZ3M6IHsgYTogMSwgYjogMiB9IH1dLFxuKiAgIGFkZGl0aW9uYWxfa3dhcmdzOiB7XG4qICAgICByZWFzb25pbmc6IHsgc3VtbWFyeTogW3sgdGV4dDogXCJMZXQgbWUgY2FsY3VsYXRlIHRoaXMuLi5cIiB9XSB9LFxuKiAgICAgdG9vbF9vdXRwdXRzOiBbXG4qICAgICAgIHtcbiogICAgICAgICB0eXBlOiBcImNvZGVfaW50ZXJwcmV0ZXJfY2FsbFwiLFxuKiAgICAgICAgIGNvZGU6IFwicHJpbnQoJ2hlbGxvJylcIixcbiogICAgICAgICBvdXRwdXRzOiBbeyB0eXBlOiBcImxvZ3NcIiwgbG9nczogXCJoZWxsb1wiIH1dXG4qICAgICAgIH1cbiogICAgIF1cbiogICB9XG4qIH0pO1xuKlxuKiBjb25zdCBzdGFuZGFyZEJsb2NrcyA9IGNvbnZlcnRUb1YxRnJvbVJlc3BvbnNlcyhtZXNzYWdlKTtcbiogLy8gUmV0dXJuczpcbiogLy8gW1xuKiAvLyAgIHsgdHlwZTogXCJyZWFzb25pbmdcIiwgcmVhc29uaW5nOiBcIkxldCBtZSBjYWxjdWxhdGUgdGhpcy4uLlwiIH0sXG4qIC8vICAgeyB0eXBlOiBcInRleHRcIiwgdGV4dDogXCJIZWxsbyB3b3JsZFwiLCBhbm5vdGF0aW9uczogW10gfSxcbiogLy8gICB7IHR5cGU6IFwidG9vbF9jYWxsXCIsIGlkOiBcIjEyM1wiLCBuYW1lOiBcImNhbGN1bGF0b3JcIiwgYXJnczogeyBhOiAxLCBiOiAyIH0gfSxcbiogLy8gICB7IHR5cGU6IFwiY29kZV9pbnRlcnByZXRlcl9jYWxsXCIsIGNvZGU6IFwicHJpbnQoJ2hlbGxvJylcIiB9LFxuKiAvLyAgIHsgdHlwZTogXCJjb2RlX2ludGVycHJldGVyX3Jlc3VsdFwiLCBvdXRwdXQ6IFt7IHR5cGU6IFwiY29kZV9pbnRlcnByZXRlcl9vdXRwdXRcIiwgcmV0dXJuQ29kZTogMCwgc3Rkb3V0OiBcImhlbGxvXCIgfV0gfVxuKiAvLyBdXG4qIGBgYFxuKi9cbmZ1bmN0aW9uIGNvbnZlcnRUb1YxRnJvbVJlc3BvbnNlcyhtZXNzYWdlKSB7XG5cdGZ1bmN0aW9uKiBpdGVyYXRlQ29udGVudCgpIHtcblx0XHRpZiAoX2lzT2JqZWN0KG1lc3NhZ2UuYWRkaXRpb25hbF9rd2FyZ3M/LnJlYXNvbmluZykgJiYgX2lzQXJyYXkobWVzc2FnZS5hZGRpdGlvbmFsX2t3YXJncy5yZWFzb25pbmcuc3VtbWFyeSkpIHtcblx0XHRcdGNvbnN0IHN1bW1hcnkgPSBtZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzLnJlYXNvbmluZy5zdW1tYXJ5LnJlZHVjZSgoYWNjLCBpdGVtKSA9PiB7XG5cdFx0XHRcdGlmIChfaXNPYmplY3QoaXRlbSkgJiYgX2lzU3RyaW5nKGl0ZW0udGV4dCkpIHJldHVybiBgJHthY2N9JHtpdGVtLnRleHR9YDtcblx0XHRcdFx0cmV0dXJuIGFjYztcblx0XHRcdH0sIFwiXCIpO1xuXHRcdFx0eWllbGQge1xuXHRcdFx0XHR0eXBlOiBcInJlYXNvbmluZ1wiLFxuXHRcdFx0XHRyZWFzb25pbmc6IHN1bW1hcnlcblx0XHRcdH07XG5cdFx0fVxuXHRcdGNvbnN0IGNvbnRlbnQgPSB0eXBlb2YgbWVzc2FnZS5jb250ZW50ID09PSBcInN0cmluZ1wiID8gW3tcblx0XHRcdHR5cGU6IFwidGV4dFwiLFxuXHRcdFx0dGV4dDogbWVzc2FnZS5jb250ZW50XG5cdFx0fV0gOiBtZXNzYWdlLmNvbnRlbnQ7XG5cdFx0Zm9yIChjb25zdCBibG9jayBvZiBjb250ZW50KSBpZiAoX2lzQ29udGVudEJsb2NrKGJsb2NrLCBcInRleHRcIikpIHtcblx0XHRcdGNvbnN0IHsgdGV4dCwgYW5ub3RhdGlvbnMsLi4ucmVzdCB9ID0gYmxvY2s7XG5cdFx0XHRpZiAoQXJyYXkuaXNBcnJheShhbm5vdGF0aW9ucykpIHlpZWxkIHtcblx0XHRcdFx0Li4ucmVzdCxcblx0XHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHRcdHRleHQ6IFN0cmluZyh0ZXh0KSxcblx0XHRcdFx0YW5ub3RhdGlvbnM6IGFubm90YXRpb25zLm1hcChjb252ZXJ0UmVzcG9uc2VzQW5ub3RhdGlvbilcblx0XHRcdH07XG5cdFx0XHRlbHNlIHlpZWxkIHtcblx0XHRcdFx0Li4ucmVzdCxcblx0XHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHRcdHRleHQ6IFN0cmluZyh0ZXh0KVxuXHRcdFx0fTtcblx0XHR9XG5cdFx0Zm9yIChjb25zdCB0b29sQ2FsbCBvZiBtZXNzYWdlLnRvb2xfY2FsbHMgPz8gW10pIHlpZWxkIHtcblx0XHRcdHR5cGU6IFwidG9vbF9jYWxsXCIsXG5cdFx0XHRpZDogdG9vbENhbGwuaWQsXG5cdFx0XHRuYW1lOiB0b29sQ2FsbC5uYW1lLFxuXHRcdFx0YXJnczogdG9vbENhbGwuYXJnc1xuXHRcdH07XG5cdFx0aWYgKF9pc09iamVjdChtZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzKSAmJiBfaXNBcnJheShtZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzLnRvb2xfb3V0cHV0cykpIGZvciAoY29uc3QgdG9vbE91dHB1dCBvZiBtZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzLnRvb2xfb3V0cHV0cykge1xuXHRcdFx0aWYgKF9pc0NvbnRlbnRCbG9jayh0b29sT3V0cHV0LCBcIndlYl9zZWFyY2hfY2FsbFwiKSkge1xuXHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0aWQ6IHRvb2xPdXRwdXQuaWQsXG5cdFx0XHRcdFx0dHlwZTogXCJzZXJ2ZXJfdG9vbF9jYWxsXCIsXG5cdFx0XHRcdFx0bmFtZTogXCJ3ZWJfc2VhcmNoXCIsXG5cdFx0XHRcdFx0YXJnczogeyBxdWVyeTogdG9vbE91dHB1dC5xdWVyeSB9XG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChfaXNDb250ZW50QmxvY2sodG9vbE91dHB1dCwgXCJmaWxlX3NlYXJjaF9jYWxsXCIpKSB7XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHRpZDogdG9vbE91dHB1dC5pZCxcblx0XHRcdFx0XHR0eXBlOiBcInNlcnZlcl90b29sX2NhbGxcIixcblx0XHRcdFx0XHRuYW1lOiBcImZpbGVfc2VhcmNoXCIsXG5cdFx0XHRcdFx0YXJnczogeyBxdWVyeTogdG9vbE91dHB1dC5xdWVyeSB9XG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChfaXNDb250ZW50QmxvY2sodG9vbE91dHB1dCwgXCJjb21wdXRlcl9jYWxsXCIpKSB7XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHR0eXBlOiBcIm5vbl9zdGFuZGFyZFwiLFxuXHRcdFx0XHRcdHZhbHVlOiB0b29sT3V0cHV0XG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChfaXNDb250ZW50QmxvY2sodG9vbE91dHB1dCwgXCJjb2RlX2ludGVycHJldGVyX2NhbGxcIikpIHtcblx0XHRcdFx0aWYgKF9pc1N0cmluZyh0b29sT3V0cHV0LmNvZGUpKSB5aWVsZCB7XG5cdFx0XHRcdFx0aWQ6IHRvb2xPdXRwdXQuaWQsXG5cdFx0XHRcdFx0dHlwZTogXCJzZXJ2ZXJfdG9vbF9jYWxsXCIsXG5cdFx0XHRcdFx0bmFtZTogXCJjb2RlX2ludGVycHJldGVyXCIsXG5cdFx0XHRcdFx0YXJnczogeyBjb2RlOiB0b29sT3V0cHV0LmNvZGUgfVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRpZiAoX2lzQXJyYXkodG9vbE91dHB1dC5vdXRwdXRzKSkge1xuXHRcdFx0XHRcdGNvbnN0IHJldHVybkNvZGUgPSBpaWZlKCgpID0+IHtcblx0XHRcdFx0XHRcdGlmICh0b29sT3V0cHV0LnN0YXR1cyA9PT0gXCJpbl9wcm9ncmVzc1wiKSByZXR1cm4gdm9pZCAwO1xuXHRcdFx0XHRcdFx0aWYgKHRvb2xPdXRwdXQuc3RhdHVzID09PSBcImNvbXBsZXRlZFwiKSByZXR1cm4gMDtcblx0XHRcdFx0XHRcdGlmICh0b29sT3V0cHV0LnN0YXR1cyA9PT0gXCJpbmNvbXBsZXRlXCIpIHJldHVybiAxMjc7XG5cdFx0XHRcdFx0XHRpZiAodG9vbE91dHB1dC5zdGF0dXMgPT09IFwiaW50ZXJwcmV0aW5nXCIpIHJldHVybiB2b2lkIDA7XG5cdFx0XHRcdFx0XHRpZiAodG9vbE91dHB1dC5zdGF0dXMgPT09IFwiZmFpbGVkXCIpIHJldHVybiAxO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHZvaWQgMDtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRmb3IgKGNvbnN0IG91dHB1dCBvZiB0b29sT3V0cHV0Lm91dHB1dHMpIGlmIChfaXNDb250ZW50QmxvY2sob3V0cHV0LCBcImxvZ3NcIikpIHtcblx0XHRcdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHRcdFx0dHlwZTogXCJzZXJ2ZXJfdG9vbF9jYWxsX3Jlc3VsdFwiLFxuXHRcdFx0XHRcdFx0XHR0b29sQ2FsbElkOiB0b29sT3V0cHV0LmlkID8/IFwiXCIsXG5cdFx0XHRcdFx0XHRcdHN0YXR1czogXCJzdWNjZXNzXCIsXG5cdFx0XHRcdFx0XHRcdG91dHB1dDoge1xuXHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwiY29kZV9pbnRlcnByZXRlcl9vdXRwdXRcIixcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm5Db2RlOiByZXR1cm5Db2RlID8/IDAsXG5cdFx0XHRcdFx0XHRcdFx0c3RkZXJyOiBbMCwgdm9pZCAwXS5pbmNsdWRlcyhyZXR1cm5Db2RlKSA/IHZvaWQgMCA6IFN0cmluZyhvdXRwdXQubG9ncyksXG5cdFx0XHRcdFx0XHRcdFx0c3Rkb3V0OiBbMCwgdm9pZCAwXS5pbmNsdWRlcyhyZXR1cm5Db2RlKSA/IFN0cmluZyhvdXRwdXQubG9ncykgOiB2b2lkIDBcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAoX2lzQ29udGVudEJsb2NrKHRvb2xPdXRwdXQsIFwibWNwX2NhbGxcIikpIHtcblx0XHRcdFx0eWllbGQge1xuXHRcdFx0XHRcdGlkOiB0b29sT3V0cHV0LmlkLFxuXHRcdFx0XHRcdHR5cGU6IFwic2VydmVyX3Rvb2xfY2FsbFwiLFxuXHRcdFx0XHRcdG5hbWU6IFwibWNwX2NhbGxcIixcblx0XHRcdFx0XHRhcmdzOiB0b29sT3V0cHV0LmlucHV0XG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChfaXNDb250ZW50QmxvY2sodG9vbE91dHB1dCwgXCJtY3BfbGlzdF90b29sc1wiKSkge1xuXHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0aWQ6IHRvb2xPdXRwdXQuaWQsXG5cdFx0XHRcdFx0dHlwZTogXCJzZXJ2ZXJfdG9vbF9jYWxsXCIsXG5cdFx0XHRcdFx0bmFtZTogXCJtY3BfbGlzdF90b29sc1wiLFxuXHRcdFx0XHRcdGFyZ3M6IHRvb2xPdXRwdXQuaW5wdXRcblx0XHRcdFx0fTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9IGVsc2UgaWYgKF9pc0NvbnRlbnRCbG9jayh0b29sT3V0cHV0LCBcIm1jcF9hcHByb3ZhbF9yZXF1ZXN0XCIpKSB7XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHR0eXBlOiBcIm5vbl9zdGFuZGFyZFwiLFxuXHRcdFx0XHRcdHZhbHVlOiB0b29sT3V0cHV0XG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChfaXNDb250ZW50QmxvY2sodG9vbE91dHB1dCwgXCJpbWFnZV9nZW5lcmF0aW9uX2NhbGxcIikpIHtcblx0XHRcdFx0eWllbGQge1xuXHRcdFx0XHRcdHR5cGU6IFwibm9uX3N0YW5kYXJkXCIsXG5cdFx0XHRcdFx0dmFsdWU6IHRvb2xPdXRwdXRcblx0XHRcdFx0fTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRpZiAoX2lzT2JqZWN0KHRvb2xPdXRwdXQpKSB5aWVsZCB7XG5cdFx0XHRcdHR5cGU6IFwibm9uX3N0YW5kYXJkXCIsXG5cdFx0XHRcdHZhbHVlOiB0b29sT3V0cHV0XG5cdFx0XHR9O1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gQXJyYXkuZnJvbShpdGVyYXRlQ29udGVudCgpKTtcbn1cbi8qKlxuKiBDb252ZXJ0cyBhIENoYXRPcGVuQUlSZXNwb25zZXMgbWVzc2FnZSBjaHVuayB0byBhbiBhcnJheSBvZiB2MSBzdGFuZGFyZCBjb250ZW50IGJsb2Nrcy5cbipcbiogVGhpcyBmdW5jdGlvbiBwcm9jZXNzZXMgYW4gQUkgbWVzc2FnZSBjaHVuayBjb250YWluaW5nIE9wZW5BSS1zcGVjaWZpYyBjb250ZW50IGJsb2Nrc1xuKiBhbmQgY29udmVydHMgdGhlbSB0byB0aGUgc3RhbmRhcmRpemVkIHYxIGNvbnRlbnQgYmxvY2sgZm9ybWF0LiBJdCBoYW5kbGVzIGJvdGggdGhlXG4qIHJlZ3VsYXIgbWVzc2FnZSBjb250ZW50IGFuZCB0b29sIGNhbGwgY2h1bmtzIHRoYXQgYXJlIHNwZWNpZmljIHRvIHN0cmVhbWluZyByZXNwb25zZXMuXG4qXG4qIEBwYXJhbSBtZXNzYWdlIC0gVGhlIEFJIG1lc3NhZ2UgY2h1bmsgY29udGFpbmluZyBPcGVuQUktZm9ybWF0dGVkIGNvbnRlbnQgYmxvY2tzXG4qIEByZXR1cm5zIEFycmF5IG9mIGNvbnRlbnQgYmxvY2tzIGluIHYxIHN0YW5kYXJkIGZvcm1hdFxuKlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIGNvbnN0IG1lc3NhZ2VDaHVuayA9IG5ldyBBSU1lc3NhZ2VDaHVuayh7XG4qICAgY29udGVudDogW3sgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IFwiSGVsbG9cIiB9XSxcbiogICB0b29sX2NhbGxfY2h1bmtzOiBbXG4qICAgICB7IGlkOiBcImNhbGxfMTIzXCIsIG5hbWU6IFwiY2FsY3VsYXRvclwiLCBhcmdzOiAne1wiYVwiOiAxJyB9XG4qICAgXVxuKiB9KTtcbipcbiogY29uc3Qgc3RhbmRhcmRCbG9ja3MgPSBjb252ZXJ0VG9WMUZyb21SZXNwb25zZXNDaHVuayhtZXNzYWdlQ2h1bmspO1xuKiAvLyBSZXR1cm5zOlxuKiAvLyBbXG4qIC8vICAgeyB0eXBlOiBcInRleHRcIiwgdGV4dDogXCJIZWxsb1wiIH0sXG4qIC8vICAgeyB0eXBlOiBcInRvb2xfY2FsbF9jaHVua1wiLCBpZDogXCJjYWxsXzEyM1wiLCBuYW1lOiBcImNhbGN1bGF0b3JcIiwgYXJnczogJ3tcImFcIjogMScgfVxuKiAvLyBdXG4qIGBgYFxuKi9cbmZ1bmN0aW9uIGNvbnZlcnRUb1YxRnJvbVJlc3BvbnNlc0NodW5rKG1lc3NhZ2UpIHtcblx0ZnVuY3Rpb24qIGl0ZXJhdGVDb250ZW50KCkge1xuXHRcdHlpZWxkKiBjb252ZXJ0VG9WMUZyb21SZXNwb25zZXMobWVzc2FnZSk7XG5cdFx0Zm9yIChjb25zdCB0b29sQ2FsbENodW5rIG9mIG1lc3NhZ2UudG9vbF9jYWxsX2NodW5rcyA/PyBbXSkgeWllbGQge1xuXHRcdFx0dHlwZTogXCJ0b29sX2NhbGxfY2h1bmtcIixcblx0XHRcdGlkOiB0b29sQ2FsbENodW5rLmlkLFxuXHRcdFx0bmFtZTogdG9vbENhbGxDaHVuay5uYW1lLFxuXHRcdFx0YXJnczogdG9vbENhbGxDaHVuay5hcmdzXG5cdFx0fTtcblx0fVxuXHRyZXR1cm4gQXJyYXkuZnJvbShpdGVyYXRlQ29udGVudCgpKTtcbn1cbmNvbnN0IENoYXRPcGVuQUlUcmFuc2xhdG9yID0ge1xuXHR0cmFuc2xhdGVDb250ZW50OiAobWVzc2FnZSkgPT4ge1xuXHRcdGlmICh0eXBlb2YgbWVzc2FnZS5jb250ZW50ID09PSBcInN0cmluZ1wiKSByZXR1cm4gY29udmVydFRvVjFGcm9tQ2hhdENvbXBsZXRpb25zKG1lc3NhZ2UpO1xuXHRcdHJldHVybiBjb252ZXJ0VG9WMUZyb21SZXNwb25zZXMobWVzc2FnZSk7XG5cdH0sXG5cdHRyYW5zbGF0ZUNvbnRlbnRDaHVuazogKG1lc3NhZ2UpID0+IHtcblx0XHRpZiAodHlwZW9mIG1lc3NhZ2UuY29udGVudCA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIGNvbnZlcnRUb1YxRnJvbUNoYXRDb21wbGV0aW9uc0NodW5rKG1lc3NhZ2UpO1xuXHRcdHJldHVybiBjb252ZXJ0VG9WMUZyb21SZXNwb25zZXNDaHVuayhtZXNzYWdlKTtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBDaGF0T3BlbkFJVHJhbnNsYXRvciwgY29udmVydFRvVjFGcm9tQ2hhdENvbXBsZXRpb25zSW5wdXQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9wZW5haS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/openai.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/utils.js":
/*!************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/utils.js ***!
  \************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _isArray: () => (/* binding */ _isArray),\n/* harmony export */   _isBytesArray: () => (/* binding */ _isBytesArray),\n/* harmony export */   _isContentBlock: () => (/* binding */ _isContentBlock),\n/* harmony export */   _isNumber: () => (/* binding */ _isNumber),\n/* harmony export */   _isObject: () => (/* binding */ _isObject),\n/* harmony export */   _isString: () => (/* binding */ _isString),\n/* harmony export */   iife: () => (/* binding */ iife),\n/* harmony export */   safeParseJson: () => (/* binding */ safeParseJson)\n/* harmony export */ });\n//#region src/messages/block_translators/utils.ts\nfunction _isContentBlock(block, type) {\n\treturn _isObject(block) && block.type === type;\n}\nfunction _isObject(value) {\n\treturn typeof value === \"object\" && value !== null;\n}\nfunction _isArray(value) {\n\treturn Array.isArray(value);\n}\nfunction _isString(value) {\n\treturn typeof value === \"string\";\n}\nfunction _isNumber(value) {\n\treturn typeof value === \"number\";\n}\nfunction _isBytesArray(value) {\n\treturn value instanceof Uint8Array;\n}\nfunction safeParseJson(value) {\n\ttry {\n\t\treturn JSON.parse(value);\n\t} catch {\n\t\treturn void 0;\n\t}\n}\nconst iife = (fn) => fn();\n\n//#endregion\n\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy91dGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQzBHO0FBQzFHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy91dGlscy5qcz83ZTBkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vI3JlZ2lvbiBzcmMvbWVzc2FnZXMvYmxvY2tfdHJhbnNsYXRvcnMvdXRpbHMudHNcbmZ1bmN0aW9uIF9pc0NvbnRlbnRCbG9jayhibG9jaywgdHlwZSkge1xuXHRyZXR1cm4gX2lzT2JqZWN0KGJsb2NrKSAmJiBibG9jay50eXBlID09PSB0eXBlO1xufVxuZnVuY3Rpb24gX2lzT2JqZWN0KHZhbHVlKSB7XG5cdHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUgIT09IG51bGw7XG59XG5mdW5jdGlvbiBfaXNBcnJheSh2YWx1ZSkge1xuXHRyZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG59XG5mdW5jdGlvbiBfaXNTdHJpbmcodmFsdWUpIHtcblx0cmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIjtcbn1cbmZ1bmN0aW9uIF9pc051bWJlcih2YWx1ZSkge1xuXHRyZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiO1xufVxuZnVuY3Rpb24gX2lzQnl0ZXNBcnJheSh2YWx1ZSkge1xuXHRyZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBVaW50OEFycmF5O1xufVxuZnVuY3Rpb24gc2FmZVBhcnNlSnNvbih2YWx1ZSkge1xuXHR0cnkge1xuXHRcdHJldHVybiBKU09OLnBhcnNlKHZhbHVlKTtcblx0fSBjYXRjaCB7XG5cdFx0cmV0dXJuIHZvaWQgMDtcblx0fVxufVxuY29uc3QgaWlmZSA9IChmbikgPT4gZm4oKTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBfaXNBcnJheSwgX2lzQnl0ZXNBcnJheSwgX2lzQ29udGVudEJsb2NrLCBfaXNOdW1iZXIsIF9pc09iamVjdCwgX2lzU3RyaW5nLCBpaWZlLCBzYWZlUGFyc2VKc29uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/block_translators/utils.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/chat.js":
/*!*****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/chat.js ***!
  \*****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatMessage: () => (/* binding */ ChatMessage),\n/* harmony export */   ChatMessageChunk: () => (/* binding */ ChatMessageChunk),\n/* harmony export */   isChatMessage: () => (/* binding */ isChatMessage),\n/* harmony export */   isChatMessageChunk: () => (/* binding */ isChatMessageChunk)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/base.js\");\n\n\n//#region src/messages/chat.ts\n/**\n* Represents a chat message in a conversation.\n*/\nvar ChatMessage = class ChatMessage extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseMessage {\n\tstatic lc_name() {\n\t\treturn \"ChatMessage\";\n\t}\n\ttype = \"generic\";\n\trole;\n\tstatic _chatMessageClass() {\n\t\treturn ChatMessage;\n\t}\n\tconstructor(fields, role) {\n\t\tif (typeof fields === \"string\" || Array.isArray(fields)) fields = {\n\t\t\tcontent: fields,\n\t\t\trole\n\t\t};\n\t\tsuper(fields);\n\t\tthis.role = fields.role;\n\t}\n\tstatic isInstance(obj) {\n\t\treturn super.isInstance(obj) && obj.type === \"generic\";\n\t}\n\tget _printableFields() {\n\t\treturn {\n\t\t\t...super._printableFields,\n\t\t\trole: this.role\n\t\t};\n\t}\n};\n/**\n* Represents a chunk of a chat message, which can be concatenated with\n* other chat message chunks.\n*/\nvar ChatMessageChunk = class extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseMessageChunk {\n\tstatic lc_name() {\n\t\treturn \"ChatMessageChunk\";\n\t}\n\ttype = \"generic\";\n\trole;\n\tconstructor(fields, role) {\n\t\tif (typeof fields === \"string\" || Array.isArray(fields)) fields = {\n\t\t\tcontent: fields,\n\t\t\trole\n\t\t};\n\t\tsuper(fields);\n\t\tthis.role = fields.role;\n\t}\n\tconcat(chunk) {\n\t\tconst Cls = this.constructor;\n\t\treturn new Cls({\n\t\t\tcontent: (0,_base_js__WEBPACK_IMPORTED_MODULE_0__.mergeContent)(this.content, chunk.content),\n\t\t\tadditional_kwargs: (0,_base_js__WEBPACK_IMPORTED_MODULE_0__._mergeDicts)(this.additional_kwargs, chunk.additional_kwargs),\n\t\t\tresponse_metadata: (0,_base_js__WEBPACK_IMPORTED_MODULE_0__._mergeDicts)(this.response_metadata, chunk.response_metadata),\n\t\t\trole: this.role,\n\t\t\tid: this.id ?? chunk.id\n\t\t});\n\t}\n\tstatic isInstance(obj) {\n\t\treturn super.isInstance(obj) && obj.type === \"generic\";\n\t}\n\tget _printableFields() {\n\t\treturn {\n\t\t\t...super._printableFields,\n\t\t\trole: this.role\n\t\t};\n\t}\n};\n/**\n* @deprecated Use {@link ChatMessage.isInstance} instead\n*/\nfunction isChatMessage(x) {\n\treturn x._getType() === \"generic\";\n}\n/**\n* @deprecated Use {@link ChatMessageChunk.isInstance} instead\n*/\nfunction isChatMessageChunk(x) {\n\treturn x._getType() === \"generic\";\n}\n\n//#endregion\n\n//# sourceMappingURL=chat.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9jaGF0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXFGOztBQUVyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxpREFBVztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsc0RBQWdCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxzREFBWTtBQUN4QixzQkFBc0IscURBQVc7QUFDakMsc0JBQXNCLHFEQUFXO0FBQ2pDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDhCQUE4QjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG1DQUFtQztBQUN0RDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUM0RTtBQUM1RSIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvbWVzc2FnZXMvY2hhdC5qcz8zNzVlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhc2VNZXNzYWdlLCBCYXNlTWVzc2FnZUNodW5rLCBfbWVyZ2VEaWN0cywgbWVyZ2VDb250ZW50IH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL21lc3NhZ2VzL2NoYXQudHNcbi8qKlxuKiBSZXByZXNlbnRzIGEgY2hhdCBtZXNzYWdlIGluIGEgY29udmVyc2F0aW9uLlxuKi9cbnZhciBDaGF0TWVzc2FnZSA9IGNsYXNzIENoYXRNZXNzYWdlIGV4dGVuZHMgQmFzZU1lc3NhZ2Uge1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJDaGF0TWVzc2FnZVwiO1xuXHR9XG5cdHR5cGUgPSBcImdlbmVyaWNcIjtcblx0cm9sZTtcblx0c3RhdGljIF9jaGF0TWVzc2FnZUNsYXNzKCkge1xuXHRcdHJldHVybiBDaGF0TWVzc2FnZTtcblx0fVxuXHRjb25zdHJ1Y3RvcihmaWVsZHMsIHJvbGUpIHtcblx0XHRpZiAodHlwZW9mIGZpZWxkcyA9PT0gXCJzdHJpbmdcIiB8fCBBcnJheS5pc0FycmF5KGZpZWxkcykpIGZpZWxkcyA9IHtcblx0XHRcdGNvbnRlbnQ6IGZpZWxkcyxcblx0XHRcdHJvbGVcblx0XHR9O1xuXHRcdHN1cGVyKGZpZWxkcyk7XG5cdFx0dGhpcy5yb2xlID0gZmllbGRzLnJvbGU7XG5cdH1cblx0c3RhdGljIGlzSW5zdGFuY2Uob2JqKSB7XG5cdFx0cmV0dXJuIHN1cGVyLmlzSW5zdGFuY2Uob2JqKSAmJiBvYmoudHlwZSA9PT0gXCJnZW5lcmljXCI7XG5cdH1cblx0Z2V0IF9wcmludGFibGVGaWVsZHMoKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdC4uLnN1cGVyLl9wcmludGFibGVGaWVsZHMsXG5cdFx0XHRyb2xlOiB0aGlzLnJvbGVcblx0XHR9O1xuXHR9XG59O1xuLyoqXG4qIFJlcHJlc2VudHMgYSBjaHVuayBvZiBhIGNoYXQgbWVzc2FnZSwgd2hpY2ggY2FuIGJlIGNvbmNhdGVuYXRlZCB3aXRoXG4qIG90aGVyIGNoYXQgbWVzc2FnZSBjaHVua3MuXG4qL1xudmFyIENoYXRNZXNzYWdlQ2h1bmsgPSBjbGFzcyBleHRlbmRzIEJhc2VNZXNzYWdlQ2h1bmsge1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJDaGF0TWVzc2FnZUNodW5rXCI7XG5cdH1cblx0dHlwZSA9IFwiZ2VuZXJpY1wiO1xuXHRyb2xlO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMsIHJvbGUpIHtcblx0XHRpZiAodHlwZW9mIGZpZWxkcyA9PT0gXCJzdHJpbmdcIiB8fCBBcnJheS5pc0FycmF5KGZpZWxkcykpIGZpZWxkcyA9IHtcblx0XHRcdGNvbnRlbnQ6IGZpZWxkcyxcblx0XHRcdHJvbGVcblx0XHR9O1xuXHRcdHN1cGVyKGZpZWxkcyk7XG5cdFx0dGhpcy5yb2xlID0gZmllbGRzLnJvbGU7XG5cdH1cblx0Y29uY2F0KGNodW5rKSB7XG5cdFx0Y29uc3QgQ2xzID0gdGhpcy5jb25zdHJ1Y3Rvcjtcblx0XHRyZXR1cm4gbmV3IENscyh7XG5cdFx0XHRjb250ZW50OiBtZXJnZUNvbnRlbnQodGhpcy5jb250ZW50LCBjaHVuay5jb250ZW50KSxcblx0XHRcdGFkZGl0aW9uYWxfa3dhcmdzOiBfbWVyZ2VEaWN0cyh0aGlzLmFkZGl0aW9uYWxfa3dhcmdzLCBjaHVuay5hZGRpdGlvbmFsX2t3YXJncyksXG5cdFx0XHRyZXNwb25zZV9tZXRhZGF0YTogX21lcmdlRGljdHModGhpcy5yZXNwb25zZV9tZXRhZGF0YSwgY2h1bmsucmVzcG9uc2VfbWV0YWRhdGEpLFxuXHRcdFx0cm9sZTogdGhpcy5yb2xlLFxuXHRcdFx0aWQ6IHRoaXMuaWQgPz8gY2h1bmsuaWRcblx0XHR9KTtcblx0fVxuXHRzdGF0aWMgaXNJbnN0YW5jZShvYmopIHtcblx0XHRyZXR1cm4gc3VwZXIuaXNJbnN0YW5jZShvYmopICYmIG9iai50eXBlID09PSBcImdlbmVyaWNcIjtcblx0fVxuXHRnZXQgX3ByaW50YWJsZUZpZWxkcygpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Li4uc3VwZXIuX3ByaW50YWJsZUZpZWxkcyxcblx0XHRcdHJvbGU6IHRoaXMucm9sZVxuXHRcdH07XG5cdH1cbn07XG4vKipcbiogQGRlcHJlY2F0ZWQgVXNlIHtAbGluayBDaGF0TWVzc2FnZS5pc0luc3RhbmNlfSBpbnN0ZWFkXG4qL1xuZnVuY3Rpb24gaXNDaGF0TWVzc2FnZSh4KSB7XG5cdHJldHVybiB4Ll9nZXRUeXBlKCkgPT09IFwiZ2VuZXJpY1wiO1xufVxuLyoqXG4qIEBkZXByZWNhdGVkIFVzZSB7QGxpbmsgQ2hhdE1lc3NhZ2VDaHVuay5pc0luc3RhbmNlfSBpbnN0ZWFkXG4qL1xuZnVuY3Rpb24gaXNDaGF0TWVzc2FnZUNodW5rKHgpIHtcblx0cmV0dXJuIHguX2dldFR5cGUoKSA9PT0gXCJnZW5lcmljXCI7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQ2hhdE1lc3NhZ2UsIENoYXRNZXNzYWdlQ2h1bmssIGlzQ2hhdE1lc3NhZ2UsIGlzQ2hhdE1lc3NhZ2VDaHVuayB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hhdC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/chat.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/content/data.js":
/*!*************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/content/data.js ***!
  \*************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   convertToOpenAIImageBlock: () => (/* binding */ convertToOpenAIImageBlock),\n/* harmony export */   convertToProviderContentBlock: () => (/* binding */ convertToProviderContentBlock),\n/* harmony export */   isBase64ContentBlock: () => (/* binding */ isBase64ContentBlock),\n/* harmony export */   isDataContentBlock: () => (/* binding */ isDataContentBlock),\n/* harmony export */   isIDContentBlock: () => (/* binding */ isIDContentBlock),\n/* harmony export */   isPlainTextContentBlock: () => (/* binding */ isPlainTextContentBlock),\n/* harmony export */   isURLContentBlock: () => (/* binding */ isURLContentBlock),\n/* harmony export */   parseBase64DataUrl: () => (/* binding */ parseBase64DataUrl),\n/* harmony export */   parseMimeType: () => (/* binding */ parseMimeType)\n/* harmony export */ });\n//#region src/messages/content/data.ts\n/**\n* @deprecated Don't use data content blocks. Use {@link ContentBlock.Multimodal.Data} instead.\n*/\nfunction isDataContentBlock(content_block) {\n\treturn typeof content_block === \"object\" && content_block !== null && \"type\" in content_block && typeof content_block.type === \"string\" && \"source_type\" in content_block && (content_block.source_type === \"url\" || content_block.source_type === \"base64\" || content_block.source_type === \"text\" || content_block.source_type === \"id\");\n}\n/**\n* @deprecated Don't use data content blocks. Use {@link ContentBlock.Multimodal.Data} instead.\n*/\nfunction isURLContentBlock(content_block) {\n\treturn isDataContentBlock(content_block) && content_block.source_type === \"url\" && \"url\" in content_block && typeof content_block.url === \"string\";\n}\n/**\n* @deprecated Don't use data content blocks. Use {@link ContentBlock.Multimodal.Data} instead.\n*/\nfunction isBase64ContentBlock(content_block) {\n\treturn isDataContentBlock(content_block) && content_block.source_type === \"base64\" && \"data\" in content_block && typeof content_block.data === \"string\";\n}\n/**\n* @deprecated Don't use data content blocks. Use {@link ContentBlock.Multimodal.Data} instead.\n*/\nfunction isPlainTextContentBlock(content_block) {\n\treturn isDataContentBlock(content_block) && content_block.source_type === \"text\" && \"text\" in content_block && typeof content_block.text === \"string\";\n}\n/**\n* @deprecated Don't use data content blocks. Use {@link ContentBlock.Multimodal.Data} instead.\n*/\nfunction isIDContentBlock(content_block) {\n\treturn isDataContentBlock(content_block) && content_block.source_type === \"id\" && \"id\" in content_block && typeof content_block.id === \"string\";\n}\n/**\n* @deprecated Don't use data content blocks. Use {@link ContentBlock.Multimodal.Data} instead.\n*/\nfunction convertToOpenAIImageBlock(content_block) {\n\tif (isDataContentBlock(content_block)) {\n\t\tif (content_block.source_type === \"url\") return {\n\t\t\ttype: \"image_url\",\n\t\t\timage_url: { url: content_block.url }\n\t\t};\n\t\tif (content_block.source_type === \"base64\") {\n\t\t\tif (!content_block.mime_type) throw new Error(\"mime_type key is required for base64 data.\");\n\t\t\tconst mime_type = content_block.mime_type;\n\t\t\treturn {\n\t\t\t\ttype: \"image_url\",\n\t\t\t\timage_url: { url: `data:${mime_type};base64,${content_block.data}` }\n\t\t\t};\n\t\t}\n\t}\n\tthrow new Error(\"Unsupported source type. Only 'url' and 'base64' are supported.\");\n}\n/**\n* Utility function for ChatModelProviders. Parses a mime type into a type, subtype, and parameters.\n*\n* @param mime_type - The mime type to parse.\n* @returns An object containing the type, subtype, and parameters.\n*\n* @deprecated Don't use data content blocks. Use {@link ContentBlock.Multimodal.Data} instead.\n*/\nfunction parseMimeType(mime_type) {\n\tconst parts = mime_type.split(\";\")[0].split(\"/\");\n\tif (parts.length !== 2) throw new Error(`Invalid mime type: \"${mime_type}\" - does not match type/subtype format.`);\n\tconst type = parts[0].trim();\n\tconst subtype = parts[1].trim();\n\tif (type === \"\" || subtype === \"\") throw new Error(`Invalid mime type: \"${mime_type}\" - type or subtype is empty.`);\n\tconst parameters = {};\n\tfor (const parameterKvp of mime_type.split(\";\").slice(1)) {\n\t\tconst parameterParts = parameterKvp.split(\"=\");\n\t\tif (parameterParts.length !== 2) throw new Error(`Invalid parameter syntax in mime type: \"${mime_type}\".`);\n\t\tconst key = parameterParts[0].trim();\n\t\tconst value = parameterParts[1].trim();\n\t\tif (key === \"\") throw new Error(`Invalid parameter syntax in mime type: \"${mime_type}\".`);\n\t\tparameters[key] = value;\n\t}\n\treturn {\n\t\ttype,\n\t\tsubtype,\n\t\tparameters\n\t};\n}\n/**\n* Utility function for ChatModelProviders. Parses a base64 data URL into a typed array or string.\n*\n* @param dataUrl - The base64 data URL to parse.\n* @param asTypedArray - Whether to return the data as a typed array.\n* @returns The parsed data and mime type, or undefined if the data URL is invalid.\n*\n* @deprecated Don't use data content blocks. Use {@link ContentBlock.Multimodal.Data} instead.\n*/\nfunction parseBase64DataUrl({ dataUrl: data_url, asTypedArray = false }) {\n\tconst formatMatch = data_url.match(/^data:(\\w+\\/\\w+);base64,([A-Za-z0-9+/]+=*)$/);\n\tlet mime_type;\n\tif (formatMatch) {\n\t\tmime_type = formatMatch[1].toLowerCase();\n\t\tconst data = asTypedArray ? Uint8Array.from(atob(formatMatch[2]), (c) => c.charCodeAt(0)) : formatMatch[2];\n\t\treturn {\n\t\t\tmime_type,\n\t\t\tdata\n\t\t};\n\t}\n\treturn void 0;\n}\n/**\n* Convert from a standard data content block to a provider's proprietary data content block format.\n*\n* Don't override this method. Instead, override the more specific conversion methods and use this\n* method unmodified.\n*\n* @param block - The standard data content block to convert.\n* @returns The provider data content block.\n* @throws An error if the standard data content block type is not supported.\n*\n* @deprecated Don't use data content blocks. Use {@link ContentBlock.Multimodal.Data} instead.\n*/\nfunction convertToProviderContentBlock(block, converter) {\n\tif (block.type === \"text\") {\n\t\tif (!converter.fromStandardTextBlock) throw new Error(`Converter for ${converter.providerName} does not implement \\`fromStandardTextBlock\\` method.`);\n\t\treturn converter.fromStandardTextBlock(block);\n\t}\n\tif (block.type === \"image\") {\n\t\tif (!converter.fromStandardImageBlock) throw new Error(`Converter for ${converter.providerName} does not implement \\`fromStandardImageBlock\\` method.`);\n\t\treturn converter.fromStandardImageBlock(block);\n\t}\n\tif (block.type === \"audio\") {\n\t\tif (!converter.fromStandardAudioBlock) throw new Error(`Converter for ${converter.providerName} does not implement \\`fromStandardAudioBlock\\` method.`);\n\t\treturn converter.fromStandardAudioBlock(block);\n\t}\n\tif (block.type === \"file\") {\n\t\tif (!converter.fromStandardFileBlock) throw new Error(`Converter for ${converter.providerName} does not implement \\`fromStandardFileBlock\\` method.`);\n\t\treturn converter.fromStandardFileBlock(block);\n\t}\n\tthrow new Error(`Unable to convert content block type '${block.type}' to provider-specific format: not recognized.`);\n}\n\n//#endregion\n\n//# sourceMappingURL=data.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9jb250ZW50L2RhdGEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBLGtEQUFrRCxvQ0FBb0M7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxvQ0FBb0M7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxvQ0FBb0M7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxvQ0FBb0M7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxvQ0FBb0M7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxvQ0FBb0M7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsYUFBYSxXQUFXLFNBQVMsbUJBQW1CO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Qsb0NBQW9DO0FBQ3RGO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMsZ0VBQWdFLFVBQVU7QUFDMUU7QUFDQTtBQUNBLDJFQUEyRSxVQUFVO0FBQ3JGO0FBQ0EsOENBQThDO0FBQzlDO0FBQ0EsOEZBQThGLFVBQVU7QUFDeEc7QUFDQTtBQUNBLDZFQUE2RSxVQUFVO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxvQ0FBb0M7QUFDdEY7QUFDQSw4QkFBOEIseUNBQXlDO0FBQ3ZFLHNEQUFzRDtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Qsb0NBQW9DO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBLHlFQUF5RSx3QkFBd0I7QUFDakc7QUFDQTtBQUNBO0FBQ0EsMEVBQTBFLHdCQUF3QjtBQUNsRztBQUNBO0FBQ0E7QUFDQSwwRUFBMEUsd0JBQXdCO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBLHlFQUF5RSx3QkFBd0I7QUFDakc7QUFDQTtBQUNBLDBEQUEwRCxXQUFXO0FBQ3JFOztBQUVBO0FBQytNO0FBQy9NIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9jb250ZW50L2RhdGEuanM/OTdiZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyNyZWdpb24gc3JjL21lc3NhZ2VzL2NvbnRlbnQvZGF0YS50c1xuLyoqXG4qIEBkZXByZWNhdGVkIERvbid0IHVzZSBkYXRhIGNvbnRlbnQgYmxvY2tzLiBVc2Uge0BsaW5rIENvbnRlbnRCbG9jay5NdWx0aW1vZGFsLkRhdGF9IGluc3RlYWQuXG4qL1xuZnVuY3Rpb24gaXNEYXRhQ29udGVudEJsb2NrKGNvbnRlbnRfYmxvY2spIHtcblx0cmV0dXJuIHR5cGVvZiBjb250ZW50X2Jsb2NrID09PSBcIm9iamVjdFwiICYmIGNvbnRlbnRfYmxvY2sgIT09IG51bGwgJiYgXCJ0eXBlXCIgaW4gY29udGVudF9ibG9jayAmJiB0eXBlb2YgY29udGVudF9ibG9jay50eXBlID09PSBcInN0cmluZ1wiICYmIFwic291cmNlX3R5cGVcIiBpbiBjb250ZW50X2Jsb2NrICYmIChjb250ZW50X2Jsb2NrLnNvdXJjZV90eXBlID09PSBcInVybFwiIHx8IGNvbnRlbnRfYmxvY2suc291cmNlX3R5cGUgPT09IFwiYmFzZTY0XCIgfHwgY29udGVudF9ibG9jay5zb3VyY2VfdHlwZSA9PT0gXCJ0ZXh0XCIgfHwgY29udGVudF9ibG9jay5zb3VyY2VfdHlwZSA9PT0gXCJpZFwiKTtcbn1cbi8qKlxuKiBAZGVwcmVjYXRlZCBEb24ndCB1c2UgZGF0YSBjb250ZW50IGJsb2Nrcy4gVXNlIHtAbGluayBDb250ZW50QmxvY2suTXVsdGltb2RhbC5EYXRhfSBpbnN0ZWFkLlxuKi9cbmZ1bmN0aW9uIGlzVVJMQ29udGVudEJsb2NrKGNvbnRlbnRfYmxvY2spIHtcblx0cmV0dXJuIGlzRGF0YUNvbnRlbnRCbG9jayhjb250ZW50X2Jsb2NrKSAmJiBjb250ZW50X2Jsb2NrLnNvdXJjZV90eXBlID09PSBcInVybFwiICYmIFwidXJsXCIgaW4gY29udGVudF9ibG9jayAmJiB0eXBlb2YgY29udGVudF9ibG9jay51cmwgPT09IFwic3RyaW5nXCI7XG59XG4vKipcbiogQGRlcHJlY2F0ZWQgRG9uJ3QgdXNlIGRhdGEgY29udGVudCBibG9ja3MuIFVzZSB7QGxpbmsgQ29udGVudEJsb2NrLk11bHRpbW9kYWwuRGF0YX0gaW5zdGVhZC5cbiovXG5mdW5jdGlvbiBpc0Jhc2U2NENvbnRlbnRCbG9jayhjb250ZW50X2Jsb2NrKSB7XG5cdHJldHVybiBpc0RhdGFDb250ZW50QmxvY2soY29udGVudF9ibG9jaykgJiYgY29udGVudF9ibG9jay5zb3VyY2VfdHlwZSA9PT0gXCJiYXNlNjRcIiAmJiBcImRhdGFcIiBpbiBjb250ZW50X2Jsb2NrICYmIHR5cGVvZiBjb250ZW50X2Jsb2NrLmRhdGEgPT09IFwic3RyaW5nXCI7XG59XG4vKipcbiogQGRlcHJlY2F0ZWQgRG9uJ3QgdXNlIGRhdGEgY29udGVudCBibG9ja3MuIFVzZSB7QGxpbmsgQ29udGVudEJsb2NrLk11bHRpbW9kYWwuRGF0YX0gaW5zdGVhZC5cbiovXG5mdW5jdGlvbiBpc1BsYWluVGV4dENvbnRlbnRCbG9jayhjb250ZW50X2Jsb2NrKSB7XG5cdHJldHVybiBpc0RhdGFDb250ZW50QmxvY2soY29udGVudF9ibG9jaykgJiYgY29udGVudF9ibG9jay5zb3VyY2VfdHlwZSA9PT0gXCJ0ZXh0XCIgJiYgXCJ0ZXh0XCIgaW4gY29udGVudF9ibG9jayAmJiB0eXBlb2YgY29udGVudF9ibG9jay50ZXh0ID09PSBcInN0cmluZ1wiO1xufVxuLyoqXG4qIEBkZXByZWNhdGVkIERvbid0IHVzZSBkYXRhIGNvbnRlbnQgYmxvY2tzLiBVc2Uge0BsaW5rIENvbnRlbnRCbG9jay5NdWx0aW1vZGFsLkRhdGF9IGluc3RlYWQuXG4qL1xuZnVuY3Rpb24gaXNJRENvbnRlbnRCbG9jayhjb250ZW50X2Jsb2NrKSB7XG5cdHJldHVybiBpc0RhdGFDb250ZW50QmxvY2soY29udGVudF9ibG9jaykgJiYgY29udGVudF9ibG9jay5zb3VyY2VfdHlwZSA9PT0gXCJpZFwiICYmIFwiaWRcIiBpbiBjb250ZW50X2Jsb2NrICYmIHR5cGVvZiBjb250ZW50X2Jsb2NrLmlkID09PSBcInN0cmluZ1wiO1xufVxuLyoqXG4qIEBkZXByZWNhdGVkIERvbid0IHVzZSBkYXRhIGNvbnRlbnQgYmxvY2tzLiBVc2Uge0BsaW5rIENvbnRlbnRCbG9jay5NdWx0aW1vZGFsLkRhdGF9IGluc3RlYWQuXG4qL1xuZnVuY3Rpb24gY29udmVydFRvT3BlbkFJSW1hZ2VCbG9jayhjb250ZW50X2Jsb2NrKSB7XG5cdGlmIChpc0RhdGFDb250ZW50QmxvY2soY29udGVudF9ibG9jaykpIHtcblx0XHRpZiAoY29udGVudF9ibG9jay5zb3VyY2VfdHlwZSA9PT0gXCJ1cmxcIikgcmV0dXJuIHtcblx0XHRcdHR5cGU6IFwiaW1hZ2VfdXJsXCIsXG5cdFx0XHRpbWFnZV91cmw6IHsgdXJsOiBjb250ZW50X2Jsb2NrLnVybCB9XG5cdFx0fTtcblx0XHRpZiAoY29udGVudF9ibG9jay5zb3VyY2VfdHlwZSA9PT0gXCJiYXNlNjRcIikge1xuXHRcdFx0aWYgKCFjb250ZW50X2Jsb2NrLm1pbWVfdHlwZSkgdGhyb3cgbmV3IEVycm9yKFwibWltZV90eXBlIGtleSBpcyByZXF1aXJlZCBmb3IgYmFzZTY0IGRhdGEuXCIpO1xuXHRcdFx0Y29uc3QgbWltZV90eXBlID0gY29udGVudF9ibG9jay5taW1lX3R5cGU7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHR0eXBlOiBcImltYWdlX3VybFwiLFxuXHRcdFx0XHRpbWFnZV91cmw6IHsgdXJsOiBgZGF0YToke21pbWVfdHlwZX07YmFzZTY0LCR7Y29udGVudF9ibG9jay5kYXRhfWAgfVxuXHRcdFx0fTtcblx0XHR9XG5cdH1cblx0dGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgc291cmNlIHR5cGUuIE9ubHkgJ3VybCcgYW5kICdiYXNlNjQnIGFyZSBzdXBwb3J0ZWQuXCIpO1xufVxuLyoqXG4qIFV0aWxpdHkgZnVuY3Rpb24gZm9yIENoYXRNb2RlbFByb3ZpZGVycy4gUGFyc2VzIGEgbWltZSB0eXBlIGludG8gYSB0eXBlLCBzdWJ0eXBlLCBhbmQgcGFyYW1ldGVycy5cbipcbiogQHBhcmFtIG1pbWVfdHlwZSAtIFRoZSBtaW1lIHR5cGUgdG8gcGFyc2UuXG4qIEByZXR1cm5zIEFuIG9iamVjdCBjb250YWluaW5nIHRoZSB0eXBlLCBzdWJ0eXBlLCBhbmQgcGFyYW1ldGVycy5cbipcbiogQGRlcHJlY2F0ZWQgRG9uJ3QgdXNlIGRhdGEgY29udGVudCBibG9ja3MuIFVzZSB7QGxpbmsgQ29udGVudEJsb2NrLk11bHRpbW9kYWwuRGF0YX0gaW5zdGVhZC5cbiovXG5mdW5jdGlvbiBwYXJzZU1pbWVUeXBlKG1pbWVfdHlwZSkge1xuXHRjb25zdCBwYXJ0cyA9IG1pbWVfdHlwZS5zcGxpdChcIjtcIilbMF0uc3BsaXQoXCIvXCIpO1xuXHRpZiAocGFydHMubGVuZ3RoICE9PSAyKSB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgbWltZSB0eXBlOiBcIiR7bWltZV90eXBlfVwiIC0gZG9lcyBub3QgbWF0Y2ggdHlwZS9zdWJ0eXBlIGZvcm1hdC5gKTtcblx0Y29uc3QgdHlwZSA9IHBhcnRzWzBdLnRyaW0oKTtcblx0Y29uc3Qgc3VidHlwZSA9IHBhcnRzWzFdLnRyaW0oKTtcblx0aWYgKHR5cGUgPT09IFwiXCIgfHwgc3VidHlwZSA9PT0gXCJcIikgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIG1pbWUgdHlwZTogXCIke21pbWVfdHlwZX1cIiAtIHR5cGUgb3Igc3VidHlwZSBpcyBlbXB0eS5gKTtcblx0Y29uc3QgcGFyYW1ldGVycyA9IHt9O1xuXHRmb3IgKGNvbnN0IHBhcmFtZXRlckt2cCBvZiBtaW1lX3R5cGUuc3BsaXQoXCI7XCIpLnNsaWNlKDEpKSB7XG5cdFx0Y29uc3QgcGFyYW1ldGVyUGFydHMgPSBwYXJhbWV0ZXJLdnAuc3BsaXQoXCI9XCIpO1xuXHRcdGlmIChwYXJhbWV0ZXJQYXJ0cy5sZW5ndGggIT09IDIpIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBwYXJhbWV0ZXIgc3ludGF4IGluIG1pbWUgdHlwZTogXCIke21pbWVfdHlwZX1cIi5gKTtcblx0XHRjb25zdCBrZXkgPSBwYXJhbWV0ZXJQYXJ0c1swXS50cmltKCk7XG5cdFx0Y29uc3QgdmFsdWUgPSBwYXJhbWV0ZXJQYXJ0c1sxXS50cmltKCk7XG5cdFx0aWYgKGtleSA9PT0gXCJcIikgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHBhcmFtZXRlciBzeW50YXggaW4gbWltZSB0eXBlOiBcIiR7bWltZV90eXBlfVwiLmApO1xuXHRcdHBhcmFtZXRlcnNba2V5XSA9IHZhbHVlO1xuXHR9XG5cdHJldHVybiB7XG5cdFx0dHlwZSxcblx0XHRzdWJ0eXBlLFxuXHRcdHBhcmFtZXRlcnNcblx0fTtcbn1cbi8qKlxuKiBVdGlsaXR5IGZ1bmN0aW9uIGZvciBDaGF0TW9kZWxQcm92aWRlcnMuIFBhcnNlcyBhIGJhc2U2NCBkYXRhIFVSTCBpbnRvIGEgdHlwZWQgYXJyYXkgb3Igc3RyaW5nLlxuKlxuKiBAcGFyYW0gZGF0YVVybCAtIFRoZSBiYXNlNjQgZGF0YSBVUkwgdG8gcGFyc2UuXG4qIEBwYXJhbSBhc1R5cGVkQXJyYXkgLSBXaGV0aGVyIHRvIHJldHVybiB0aGUgZGF0YSBhcyBhIHR5cGVkIGFycmF5LlxuKiBAcmV0dXJucyBUaGUgcGFyc2VkIGRhdGEgYW5kIG1pbWUgdHlwZSwgb3IgdW5kZWZpbmVkIGlmIHRoZSBkYXRhIFVSTCBpcyBpbnZhbGlkLlxuKlxuKiBAZGVwcmVjYXRlZCBEb24ndCB1c2UgZGF0YSBjb250ZW50IGJsb2Nrcy4gVXNlIHtAbGluayBDb250ZW50QmxvY2suTXVsdGltb2RhbC5EYXRhfSBpbnN0ZWFkLlxuKi9cbmZ1bmN0aW9uIHBhcnNlQmFzZTY0RGF0YVVybCh7IGRhdGFVcmw6IGRhdGFfdXJsLCBhc1R5cGVkQXJyYXkgPSBmYWxzZSB9KSB7XG5cdGNvbnN0IGZvcm1hdE1hdGNoID0gZGF0YV91cmwubWF0Y2goL15kYXRhOihcXHcrXFwvXFx3Kyk7YmFzZTY0LChbQS1aYS16MC05Ky9dKz0qKSQvKTtcblx0bGV0IG1pbWVfdHlwZTtcblx0aWYgKGZvcm1hdE1hdGNoKSB7XG5cdFx0bWltZV90eXBlID0gZm9ybWF0TWF0Y2hbMV0udG9Mb3dlckNhc2UoKTtcblx0XHRjb25zdCBkYXRhID0gYXNUeXBlZEFycmF5ID8gVWludDhBcnJheS5mcm9tKGF0b2IoZm9ybWF0TWF0Y2hbMl0pLCAoYykgPT4gYy5jaGFyQ29kZUF0KDApKSA6IGZvcm1hdE1hdGNoWzJdO1xuXHRcdHJldHVybiB7XG5cdFx0XHRtaW1lX3R5cGUsXG5cdFx0XHRkYXRhXG5cdFx0fTtcblx0fVxuXHRyZXR1cm4gdm9pZCAwO1xufVxuLyoqXG4qIENvbnZlcnQgZnJvbSBhIHN0YW5kYXJkIGRhdGEgY29udGVudCBibG9jayB0byBhIHByb3ZpZGVyJ3MgcHJvcHJpZXRhcnkgZGF0YSBjb250ZW50IGJsb2NrIGZvcm1hdC5cbipcbiogRG9uJ3Qgb3ZlcnJpZGUgdGhpcyBtZXRob2QuIEluc3RlYWQsIG92ZXJyaWRlIHRoZSBtb3JlIHNwZWNpZmljIGNvbnZlcnNpb24gbWV0aG9kcyBhbmQgdXNlIHRoaXNcbiogbWV0aG9kIHVubW9kaWZpZWQuXG4qXG4qIEBwYXJhbSBibG9jayAtIFRoZSBzdGFuZGFyZCBkYXRhIGNvbnRlbnQgYmxvY2sgdG8gY29udmVydC5cbiogQHJldHVybnMgVGhlIHByb3ZpZGVyIGRhdGEgY29udGVudCBibG9jay5cbiogQHRocm93cyBBbiBlcnJvciBpZiB0aGUgc3RhbmRhcmQgZGF0YSBjb250ZW50IGJsb2NrIHR5cGUgaXMgbm90IHN1cHBvcnRlZC5cbipcbiogQGRlcHJlY2F0ZWQgRG9uJ3QgdXNlIGRhdGEgY29udGVudCBibG9ja3MuIFVzZSB7QGxpbmsgQ29udGVudEJsb2NrLk11bHRpbW9kYWwuRGF0YX0gaW5zdGVhZC5cbiovXG5mdW5jdGlvbiBjb252ZXJ0VG9Qcm92aWRlckNvbnRlbnRCbG9jayhibG9jaywgY29udmVydGVyKSB7XG5cdGlmIChibG9jay50eXBlID09PSBcInRleHRcIikge1xuXHRcdGlmICghY29udmVydGVyLmZyb21TdGFuZGFyZFRleHRCbG9jaykgdGhyb3cgbmV3IEVycm9yKGBDb252ZXJ0ZXIgZm9yICR7Y29udmVydGVyLnByb3ZpZGVyTmFtZX0gZG9lcyBub3QgaW1wbGVtZW50IFxcYGZyb21TdGFuZGFyZFRleHRCbG9ja1xcYCBtZXRob2QuYCk7XG5cdFx0cmV0dXJuIGNvbnZlcnRlci5mcm9tU3RhbmRhcmRUZXh0QmxvY2soYmxvY2spO1xuXHR9XG5cdGlmIChibG9jay50eXBlID09PSBcImltYWdlXCIpIHtcblx0XHRpZiAoIWNvbnZlcnRlci5mcm9tU3RhbmRhcmRJbWFnZUJsb2NrKSB0aHJvdyBuZXcgRXJyb3IoYENvbnZlcnRlciBmb3IgJHtjb252ZXJ0ZXIucHJvdmlkZXJOYW1lfSBkb2VzIG5vdCBpbXBsZW1lbnQgXFxgZnJvbVN0YW5kYXJkSW1hZ2VCbG9ja1xcYCBtZXRob2QuYCk7XG5cdFx0cmV0dXJuIGNvbnZlcnRlci5mcm9tU3RhbmRhcmRJbWFnZUJsb2NrKGJsb2NrKTtcblx0fVxuXHRpZiAoYmxvY2sudHlwZSA9PT0gXCJhdWRpb1wiKSB7XG5cdFx0aWYgKCFjb252ZXJ0ZXIuZnJvbVN0YW5kYXJkQXVkaW9CbG9jaykgdGhyb3cgbmV3IEVycm9yKGBDb252ZXJ0ZXIgZm9yICR7Y29udmVydGVyLnByb3ZpZGVyTmFtZX0gZG9lcyBub3QgaW1wbGVtZW50IFxcYGZyb21TdGFuZGFyZEF1ZGlvQmxvY2tcXGAgbWV0aG9kLmApO1xuXHRcdHJldHVybiBjb252ZXJ0ZXIuZnJvbVN0YW5kYXJkQXVkaW9CbG9jayhibG9jayk7XG5cdH1cblx0aWYgKGJsb2NrLnR5cGUgPT09IFwiZmlsZVwiKSB7XG5cdFx0aWYgKCFjb252ZXJ0ZXIuZnJvbVN0YW5kYXJkRmlsZUJsb2NrKSB0aHJvdyBuZXcgRXJyb3IoYENvbnZlcnRlciBmb3IgJHtjb252ZXJ0ZXIucHJvdmlkZXJOYW1lfSBkb2VzIG5vdCBpbXBsZW1lbnQgXFxgZnJvbVN0YW5kYXJkRmlsZUJsb2NrXFxgIG1ldGhvZC5gKTtcblx0XHRyZXR1cm4gY29udmVydGVyLmZyb21TdGFuZGFyZEZpbGVCbG9jayhibG9jayk7XG5cdH1cblx0dGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gY29udmVydCBjb250ZW50IGJsb2NrIHR5cGUgJyR7YmxvY2sudHlwZX0nIHRvIHByb3ZpZGVyLXNwZWNpZmljIGZvcm1hdDogbm90IHJlY29nbml6ZWQuYCk7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgY29udmVydFRvT3BlbkFJSW1hZ2VCbG9jaywgY29udmVydFRvUHJvdmlkZXJDb250ZW50QmxvY2ssIGlzQmFzZTY0Q29udGVudEJsb2NrLCBpc0RhdGFDb250ZW50QmxvY2ssIGlzSURDb250ZW50QmxvY2ssIGlzUGxhaW5UZXh0Q29udGVudEJsb2NrLCBpc1VSTENvbnRlbnRCbG9jaywgcGFyc2VCYXNlNjREYXRhVXJsLCBwYXJzZU1pbWVUeXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/content/data.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/content/index.js":
/*!**************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/content/index.js ***!
  \**************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   KNOWN_BLOCK_TYPES: () => (/* binding */ KNOWN_BLOCK_TYPES$2)\n/* harmony export */ });\n/* harmony import */ var _tools_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tools.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/content/tools.js\");\n/* harmony import */ var _multimodal_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./multimodal.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/content/multimodal.js\");\n\n\n\n//#region src/messages/content/index.ts\nconst KNOWN_BLOCK_TYPES$2 = [\n\t\"text\",\n\t\"reasoning\",\n\t..._tools_js__WEBPACK_IMPORTED_MODULE_0__.KNOWN_BLOCK_TYPES,\n\t..._multimodal_js__WEBPACK_IMPORTED_MODULE_1__.KNOWN_BLOCK_TYPES\n];\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9jb250ZW50L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUErQztBQUM0Qjs7QUFFM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHdEQUFpQjtBQUNyQixJQUFJLDZEQUFtQjtBQUN2Qjs7QUFFQTtBQUNvRDtBQUNwRCIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvbWVzc2FnZXMvY29udGVudC9pbmRleC5qcz83NGQ3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEtOT1dOX0JMT0NLX1RZUEVTIH0gZnJvbSBcIi4vdG9vbHMuanNcIjtcbmltcG9ydCB7IEtOT1dOX0JMT0NLX1RZUEVTIGFzIEtOT1dOX0JMT0NLX1RZUEVTJDEgfSBmcm9tIFwiLi9tdWx0aW1vZGFsLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvbWVzc2FnZXMvY29udGVudC9pbmRleC50c1xuY29uc3QgS05PV05fQkxPQ0tfVFlQRVMkMiA9IFtcblx0XCJ0ZXh0XCIsXG5cdFwicmVhc29uaW5nXCIsXG5cdC4uLktOT1dOX0JMT0NLX1RZUEVTLFxuXHQuLi5LTk9XTl9CTE9DS19UWVBFUyQxXG5dO1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEtOT1dOX0JMT0NLX1RZUEVTJDIgYXMgS05PV05fQkxPQ0tfVFlQRVMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/content/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/content/multimodal.js":
/*!*******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/content/multimodal.js ***!
  \*******************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   KNOWN_BLOCK_TYPES: () => (/* binding */ KNOWN_BLOCK_TYPES)\n/* harmony export */ });\n//#region src/messages/content/multimodal.ts\nconst KNOWN_BLOCK_TYPES = [\n\t\"image\",\n\t\"video\",\n\t\"audio\",\n\t\"text-plain\",\n\t\"file\"\n];\n\n//#endregion\n\n//# sourceMappingURL=multimodal.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9jb250ZW50L211bHRpbW9kYWwuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDNkI7QUFDN0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL2NvbnRlbnQvbXVsdGltb2RhbC5qcz8zODY3Il0sInNvdXJjZXNDb250ZW50IjpbIi8vI3JlZ2lvbiBzcmMvbWVzc2FnZXMvY29udGVudC9tdWx0aW1vZGFsLnRzXG5jb25zdCBLTk9XTl9CTE9DS19UWVBFUyA9IFtcblx0XCJpbWFnZVwiLFxuXHRcInZpZGVvXCIsXG5cdFwiYXVkaW9cIixcblx0XCJ0ZXh0LXBsYWluXCIsXG5cdFwiZmlsZVwiXG5dO1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEtOT1dOX0JMT0NLX1RZUEVTIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tdWx0aW1vZGFsLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/content/multimodal.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/content/tools.js":
/*!**************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/content/tools.js ***!
  \**************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   KNOWN_BLOCK_TYPES: () => (/* binding */ KNOWN_BLOCK_TYPES)\n/* harmony export */ });\n//#region src/messages/content/tools.ts\nconst KNOWN_BLOCK_TYPES = [\n\t\"tool_call\",\n\t\"tool_call_chunk\",\n\t\"invalid_tool_call\",\n\t\"server_tool_call\",\n\t\"server_tool_call_chunk\",\n\t\"server_tool_call_result\"\n];\n\n//#endregion\n\n//# sourceMappingURL=tools.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9jb250ZW50L3Rvb2xzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDNkI7QUFDN0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL2NvbnRlbnQvdG9vbHMuanM/MzY1OSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyNyZWdpb24gc3JjL21lc3NhZ2VzL2NvbnRlbnQvdG9vbHMudHNcbmNvbnN0IEtOT1dOX0JMT0NLX1RZUEVTID0gW1xuXHRcInRvb2xfY2FsbFwiLFxuXHRcInRvb2xfY2FsbF9jaHVua1wiLFxuXHRcImludmFsaWRfdG9vbF9jYWxsXCIsXG5cdFwic2VydmVyX3Rvb2xfY2FsbFwiLFxuXHRcInNlcnZlcl90b29sX2NhbGxfY2h1bmtcIixcblx0XCJzZXJ2ZXJfdG9vbF9jYWxsX3Jlc3VsdFwiXG5dO1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEtOT1dOX0JMT0NLX1RZUEVTIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b29scy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/content/tools.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/function.js":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/function.js ***!
  \*********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FunctionMessage: () => (/* binding */ FunctionMessage),\n/* harmony export */   FunctionMessageChunk: () => (/* binding */ FunctionMessageChunk),\n/* harmony export */   isFunctionMessage: () => (/* binding */ isFunctionMessage),\n/* harmony export */   isFunctionMessageChunk: () => (/* binding */ isFunctionMessageChunk)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/base.js\");\n\n\n//#region src/messages/function.ts\n/**\n* Represents a function message in a conversation.\n*/\nvar FunctionMessage = class extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseMessage {\n\tstatic lc_name() {\n\t\treturn \"FunctionMessage\";\n\t}\n\ttype = \"function\";\n\tname;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.name = fields.name;\n\t}\n};\n/**\n* Represents a chunk of a function message, which can be concatenated\n* with other function message chunks.\n*/\nvar FunctionMessageChunk = class extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseMessageChunk {\n\tstatic lc_name() {\n\t\treturn \"FunctionMessageChunk\";\n\t}\n\ttype = \"function\";\n\tconcat(chunk) {\n\t\tconst Cls = this.constructor;\n\t\treturn new Cls({\n\t\t\tcontent: (0,_base_js__WEBPACK_IMPORTED_MODULE_0__.mergeContent)(this.content, chunk.content),\n\t\t\tadditional_kwargs: (0,_base_js__WEBPACK_IMPORTED_MODULE_0__._mergeDicts)(this.additional_kwargs, chunk.additional_kwargs),\n\t\t\tresponse_metadata: (0,_base_js__WEBPACK_IMPORTED_MODULE_0__._mergeDicts)(this.response_metadata, chunk.response_metadata),\n\t\t\tname: this.name ?? \"\",\n\t\t\tid: this.id ?? chunk.id\n\t\t});\n\t}\n};\nfunction isFunctionMessage(x) {\n\treturn x._getType() === \"function\";\n}\nfunction isFunctionMessageChunk(x) {\n\treturn x._getType() === \"function\";\n}\n\n//#endregion\n\n//# sourceMappingURL=function.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9mdW5jdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFxRjs7QUFFckY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsaURBQVc7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxzREFBZ0I7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHNEQUFZO0FBQ3hCLHNCQUFzQixxREFBVztBQUNqQyxzQkFBc0IscURBQVc7QUFDakM7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQzRGO0FBQzVGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9mdW5jdGlvbi5qcz9iYzFlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhc2VNZXNzYWdlLCBCYXNlTWVzc2FnZUNodW5rLCBfbWVyZ2VEaWN0cywgbWVyZ2VDb250ZW50IH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL21lc3NhZ2VzL2Z1bmN0aW9uLnRzXG4vKipcbiogUmVwcmVzZW50cyBhIGZ1bmN0aW9uIG1lc3NhZ2UgaW4gYSBjb252ZXJzYXRpb24uXG4qL1xudmFyIEZ1bmN0aW9uTWVzc2FnZSA9IGNsYXNzIGV4dGVuZHMgQmFzZU1lc3NhZ2Uge1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJGdW5jdGlvbk1lc3NhZ2VcIjtcblx0fVxuXHR0eXBlID0gXCJmdW5jdGlvblwiO1xuXHRuYW1lO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRzdXBlcihmaWVsZHMpO1xuXHRcdHRoaXMubmFtZSA9IGZpZWxkcy5uYW1lO1xuXHR9XG59O1xuLyoqXG4qIFJlcHJlc2VudHMgYSBjaHVuayBvZiBhIGZ1bmN0aW9uIG1lc3NhZ2UsIHdoaWNoIGNhbiBiZSBjb25jYXRlbmF0ZWRcbiogd2l0aCBvdGhlciBmdW5jdGlvbiBtZXNzYWdlIGNodW5rcy5cbiovXG52YXIgRnVuY3Rpb25NZXNzYWdlQ2h1bmsgPSBjbGFzcyBleHRlbmRzIEJhc2VNZXNzYWdlQ2h1bmsge1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJGdW5jdGlvbk1lc3NhZ2VDaHVua1wiO1xuXHR9XG5cdHR5cGUgPSBcImZ1bmN0aW9uXCI7XG5cdGNvbmNhdChjaHVuaykge1xuXHRcdGNvbnN0IENscyA9IHRoaXMuY29uc3RydWN0b3I7XG5cdFx0cmV0dXJuIG5ldyBDbHMoe1xuXHRcdFx0Y29udGVudDogbWVyZ2VDb250ZW50KHRoaXMuY29udGVudCwgY2h1bmsuY29udGVudCksXG5cdFx0XHRhZGRpdGlvbmFsX2t3YXJnczogX21lcmdlRGljdHModGhpcy5hZGRpdGlvbmFsX2t3YXJncywgY2h1bmsuYWRkaXRpb25hbF9rd2FyZ3MpLFxuXHRcdFx0cmVzcG9uc2VfbWV0YWRhdGE6IF9tZXJnZURpY3RzKHRoaXMucmVzcG9uc2VfbWV0YWRhdGEsIGNodW5rLnJlc3BvbnNlX21ldGFkYXRhKSxcblx0XHRcdG5hbWU6IHRoaXMubmFtZSA/PyBcIlwiLFxuXHRcdFx0aWQ6IHRoaXMuaWQgPz8gY2h1bmsuaWRcblx0XHR9KTtcblx0fVxufTtcbmZ1bmN0aW9uIGlzRnVuY3Rpb25NZXNzYWdlKHgpIHtcblx0cmV0dXJuIHguX2dldFR5cGUoKSA9PT0gXCJmdW5jdGlvblwiO1xufVxuZnVuY3Rpb24gaXNGdW5jdGlvbk1lc3NhZ2VDaHVuayh4KSB7XG5cdHJldHVybiB4Ll9nZXRUeXBlKCkgPT09IFwiZnVuY3Rpb25cIjtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBGdW5jdGlvbk1lc3NhZ2UsIEZ1bmN0aW9uTWVzc2FnZUNodW5rLCBpc0Z1bmN0aW9uTWVzc2FnZSwgaXNGdW5jdGlvbk1lc3NhZ2VDaHVuayB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnVuY3Rpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/function.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/human.js":
/*!******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/human.js ***!
  \******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HumanMessage: () => (/* binding */ HumanMessage),\n/* harmony export */   HumanMessageChunk: () => (/* binding */ HumanMessageChunk),\n/* harmony export */   isHumanMessage: () => (/* binding */ isHumanMessage),\n/* harmony export */   isHumanMessageChunk: () => (/* binding */ isHumanMessageChunk)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/base.js\");\n\n\n//#region src/messages/human.ts\n/**\n* Represents a human message in a conversation.\n*/\nvar HumanMessage = class extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseMessage {\n\tstatic lc_name() {\n\t\treturn \"HumanMessage\";\n\t}\n\ttype = \"human\";\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t}\n\tstatic isInstance(obj) {\n\t\treturn super.isInstance(obj) && obj.type === \"human\";\n\t}\n};\n/**\n* Represents a chunk of a human message, which can be concatenated with\n* other human message chunks.\n*/\nvar HumanMessageChunk = class extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseMessageChunk {\n\tstatic lc_name() {\n\t\treturn \"HumanMessageChunk\";\n\t}\n\ttype = \"human\";\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t}\n\tconcat(chunk) {\n\t\tconst Cls = this.constructor;\n\t\treturn new Cls({\n\t\t\tcontent: (0,_base_js__WEBPACK_IMPORTED_MODULE_0__.mergeContent)(this.content, chunk.content),\n\t\t\tadditional_kwargs: (0,_base_js__WEBPACK_IMPORTED_MODULE_0__._mergeDicts)(this.additional_kwargs, chunk.additional_kwargs),\n\t\t\tresponse_metadata: (0,_base_js__WEBPACK_IMPORTED_MODULE_0__._mergeDicts)(this.response_metadata, chunk.response_metadata),\n\t\t\tid: this.id ?? chunk.id\n\t\t});\n\t}\n\tstatic isInstance(obj) {\n\t\treturn super.isInstance(obj) && obj.type === \"human\";\n\t}\n};\n/**\n* @deprecated Use {@link HumanMessage.isInstance} instead\n*/\nfunction isHumanMessage(x) {\n\treturn x.getType() === \"human\";\n}\n/**\n* @deprecated Use {@link HumanMessageChunk.isInstance} instead\n*/\nfunction isHumanMessageChunk(x) {\n\treturn x.getType() === \"human\";\n}\n\n//#endregion\n\n//# sourceMappingURL=human.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9odW1hbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFxRjs7QUFFckY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsaURBQVc7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLHNEQUFnQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksc0RBQVk7QUFDeEIsc0JBQXNCLHFEQUFXO0FBQ2pDLHNCQUFzQixxREFBVztBQUNqQztBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsK0JBQStCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsb0NBQW9DO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ2dGO0FBQ2hGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9odW1hbi5qcz84MmU1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhc2VNZXNzYWdlLCBCYXNlTWVzc2FnZUNodW5rLCBfbWVyZ2VEaWN0cywgbWVyZ2VDb250ZW50IH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL21lc3NhZ2VzL2h1bWFuLnRzXG4vKipcbiogUmVwcmVzZW50cyBhIGh1bWFuIG1lc3NhZ2UgaW4gYSBjb252ZXJzYXRpb24uXG4qL1xudmFyIEh1bWFuTWVzc2FnZSA9IGNsYXNzIGV4dGVuZHMgQmFzZU1lc3NhZ2Uge1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJIdW1hbk1lc3NhZ2VcIjtcblx0fVxuXHR0eXBlID0gXCJodW1hblwiO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRzdXBlcihmaWVsZHMpO1xuXHR9XG5cdHN0YXRpYyBpc0luc3RhbmNlKG9iaikge1xuXHRcdHJldHVybiBzdXBlci5pc0luc3RhbmNlKG9iaikgJiYgb2JqLnR5cGUgPT09IFwiaHVtYW5cIjtcblx0fVxufTtcbi8qKlxuKiBSZXByZXNlbnRzIGEgY2h1bmsgb2YgYSBodW1hbiBtZXNzYWdlLCB3aGljaCBjYW4gYmUgY29uY2F0ZW5hdGVkIHdpdGhcbiogb3RoZXIgaHVtYW4gbWVzc2FnZSBjaHVua3MuXG4qL1xudmFyIEh1bWFuTWVzc2FnZUNodW5rID0gY2xhc3MgZXh0ZW5kcyBCYXNlTWVzc2FnZUNodW5rIHtcblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiSHVtYW5NZXNzYWdlQ2h1bmtcIjtcblx0fVxuXHR0eXBlID0gXCJodW1hblwiO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRzdXBlcihmaWVsZHMpO1xuXHR9XG5cdGNvbmNhdChjaHVuaykge1xuXHRcdGNvbnN0IENscyA9IHRoaXMuY29uc3RydWN0b3I7XG5cdFx0cmV0dXJuIG5ldyBDbHMoe1xuXHRcdFx0Y29udGVudDogbWVyZ2VDb250ZW50KHRoaXMuY29udGVudCwgY2h1bmsuY29udGVudCksXG5cdFx0XHRhZGRpdGlvbmFsX2t3YXJnczogX21lcmdlRGljdHModGhpcy5hZGRpdGlvbmFsX2t3YXJncywgY2h1bmsuYWRkaXRpb25hbF9rd2FyZ3MpLFxuXHRcdFx0cmVzcG9uc2VfbWV0YWRhdGE6IF9tZXJnZURpY3RzKHRoaXMucmVzcG9uc2VfbWV0YWRhdGEsIGNodW5rLnJlc3BvbnNlX21ldGFkYXRhKSxcblx0XHRcdGlkOiB0aGlzLmlkID8/IGNodW5rLmlkXG5cdFx0fSk7XG5cdH1cblx0c3RhdGljIGlzSW5zdGFuY2Uob2JqKSB7XG5cdFx0cmV0dXJuIHN1cGVyLmlzSW5zdGFuY2Uob2JqKSAmJiBvYmoudHlwZSA9PT0gXCJodW1hblwiO1xuXHR9XG59O1xuLyoqXG4qIEBkZXByZWNhdGVkIFVzZSB7QGxpbmsgSHVtYW5NZXNzYWdlLmlzSW5zdGFuY2V9IGluc3RlYWRcbiovXG5mdW5jdGlvbiBpc0h1bWFuTWVzc2FnZSh4KSB7XG5cdHJldHVybiB4LmdldFR5cGUoKSA9PT0gXCJodW1hblwiO1xufVxuLyoqXG4qIEBkZXByZWNhdGVkIFVzZSB7QGxpbmsgSHVtYW5NZXNzYWdlQ2h1bmsuaXNJbnN0YW5jZX0gaW5zdGVhZFxuKi9cbmZ1bmN0aW9uIGlzSHVtYW5NZXNzYWdlQ2h1bmsoeCkge1xuXHRyZXR1cm4geC5nZXRUeXBlKCkgPT09IFwiaHVtYW5cIjtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBIdW1hbk1lc3NhZ2UsIEh1bWFuTWVzc2FnZUNodW5rLCBpc0h1bWFuTWVzc2FnZSwgaXNIdW1hbk1lc3NhZ2VDaHVuayB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aHVtYW4uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/human.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/index.js":
/*!******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/index.js ***!
  \******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AIMessage: () => (/* reexport safe */ _ai_js__WEBPACK_IMPORTED_MODULE_6__.AIMessage),\n/* harmony export */   AIMessageChunk: () => (/* reexport safe */ _ai_js__WEBPACK_IMPORTED_MODULE_6__.AIMessageChunk),\n/* harmony export */   BaseMessage: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_3__.BaseMessage),\n/* harmony export */   BaseMessageChunk: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_3__.BaseMessageChunk),\n/* harmony export */   ChatMessage: () => (/* reexport safe */ _chat_js__WEBPACK_IMPORTED_MODULE_7__.ChatMessage),\n/* harmony export */   ChatMessageChunk: () => (/* reexport safe */ _chat_js__WEBPACK_IMPORTED_MODULE_7__.ChatMessageChunk),\n/* harmony export */   FunctionMessage: () => (/* reexport safe */ _function_js__WEBPACK_IMPORTED_MODULE_8__.FunctionMessage),\n/* harmony export */   FunctionMessageChunk: () => (/* reexport safe */ _function_js__WEBPACK_IMPORTED_MODULE_8__.FunctionMessageChunk),\n/* harmony export */   HumanMessage: () => (/* reexport safe */ _human_js__WEBPACK_IMPORTED_MODULE_9__.HumanMessage),\n/* harmony export */   HumanMessageChunk: () => (/* reexport safe */ _human_js__WEBPACK_IMPORTED_MODULE_9__.HumanMessageChunk),\n/* harmony export */   KNOWN_BLOCK_TYPES: () => (/* reexport safe */ _content_index_js__WEBPACK_IMPORTED_MODULE_14__.KNOWN_BLOCK_TYPES),\n/* harmony export */   RemoveMessage: () => (/* reexport safe */ _modifier_js__WEBPACK_IMPORTED_MODULE_11__.RemoveMessage),\n/* harmony export */   SystemMessage: () => (/* reexport safe */ _system_js__WEBPACK_IMPORTED_MODULE_10__.SystemMessage),\n/* harmony export */   SystemMessageChunk: () => (/* reexport safe */ _system_js__WEBPACK_IMPORTED_MODULE_10__.SystemMessageChunk),\n/* harmony export */   ToolMessage: () => (/* reexport safe */ _tool_js__WEBPACK_IMPORTED_MODULE_5__.ToolMessage),\n/* harmony export */   ToolMessageChunk: () => (/* reexport safe */ _tool_js__WEBPACK_IMPORTED_MODULE_5__.ToolMessageChunk),\n/* harmony export */   _isMessageFieldWithRole: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_3__._isMessageFieldWithRole),\n/* harmony export */   _mergeDicts: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_3__._mergeDicts),\n/* harmony export */   _mergeLists: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_3__._mergeLists),\n/* harmony export */   _mergeObj: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_3__._mergeObj),\n/* harmony export */   _mergeStatus: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_3__._mergeStatus),\n/* harmony export */   coerceMessageLikeToMessage: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.coerceMessageLikeToMessage),\n/* harmony export */   convertToChunk: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.convertToChunk),\n/* harmony export */   convertToOpenAIImageBlock: () => (/* reexport safe */ _content_data_js__WEBPACK_IMPORTED_MODULE_1__.convertToOpenAIImageBlock),\n/* harmony export */   convertToProviderContentBlock: () => (/* reexport safe */ _content_data_js__WEBPACK_IMPORTED_MODULE_1__.convertToProviderContentBlock),\n/* harmony export */   defaultTextSplitter: () => (/* reexport safe */ _transformers_js__WEBPACK_IMPORTED_MODULE_13__.defaultTextSplitter),\n/* harmony export */   defaultToolCallParser: () => (/* reexport safe */ _tool_js__WEBPACK_IMPORTED_MODULE_5__.defaultToolCallParser),\n/* harmony export */   filterMessages: () => (/* reexport safe */ _transformers_js__WEBPACK_IMPORTED_MODULE_13__.filterMessages),\n/* harmony export */   getBufferString: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.getBufferString),\n/* harmony export */   iife: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.iife),\n/* harmony export */   isAIMessage: () => (/* reexport safe */ _ai_js__WEBPACK_IMPORTED_MODULE_6__.isAIMessage),\n/* harmony export */   isAIMessageChunk: () => (/* reexport safe */ _ai_js__WEBPACK_IMPORTED_MODULE_6__.isAIMessageChunk),\n/* harmony export */   isBase64ContentBlock: () => (/* reexport safe */ _content_data_js__WEBPACK_IMPORTED_MODULE_1__.isBase64ContentBlock),\n/* harmony export */   isBaseMessage: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_3__.isBaseMessage),\n/* harmony export */   isBaseMessageChunk: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_3__.isBaseMessageChunk),\n/* harmony export */   isChatMessage: () => (/* reexport safe */ _chat_js__WEBPACK_IMPORTED_MODULE_7__.isChatMessage),\n/* harmony export */   isChatMessageChunk: () => (/* reexport safe */ _chat_js__WEBPACK_IMPORTED_MODULE_7__.isChatMessageChunk),\n/* harmony export */   isDataContentBlock: () => (/* reexport safe */ _content_data_js__WEBPACK_IMPORTED_MODULE_1__.isDataContentBlock),\n/* harmony export */   isDirectToolOutput: () => (/* reexport safe */ _tool_js__WEBPACK_IMPORTED_MODULE_5__.isDirectToolOutput),\n/* harmony export */   isFunctionMessage: () => (/* reexport safe */ _function_js__WEBPACK_IMPORTED_MODULE_8__.isFunctionMessage),\n/* harmony export */   isFunctionMessageChunk: () => (/* reexport safe */ _function_js__WEBPACK_IMPORTED_MODULE_8__.isFunctionMessageChunk),\n/* harmony export */   isHumanMessage: () => (/* reexport safe */ _human_js__WEBPACK_IMPORTED_MODULE_9__.isHumanMessage),\n/* harmony export */   isHumanMessageChunk: () => (/* reexport safe */ _human_js__WEBPACK_IMPORTED_MODULE_9__.isHumanMessageChunk),\n/* harmony export */   isIDContentBlock: () => (/* reexport safe */ _content_data_js__WEBPACK_IMPORTED_MODULE_1__.isIDContentBlock),\n/* harmony export */   isMessage: () => (/* reexport safe */ _message_js__WEBPACK_IMPORTED_MODULE_2__.isMessage),\n/* harmony export */   isOpenAIToolCallArray: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_3__.isOpenAIToolCallArray),\n/* harmony export */   isPlainTextContentBlock: () => (/* reexport safe */ _content_data_js__WEBPACK_IMPORTED_MODULE_1__.isPlainTextContentBlock),\n/* harmony export */   isSystemMessage: () => (/* reexport safe */ _system_js__WEBPACK_IMPORTED_MODULE_10__.isSystemMessage),\n/* harmony export */   isSystemMessageChunk: () => (/* reexport safe */ _system_js__WEBPACK_IMPORTED_MODULE_10__.isSystemMessageChunk),\n/* harmony export */   isToolMessage: () => (/* reexport safe */ _tool_js__WEBPACK_IMPORTED_MODULE_5__.isToolMessage),\n/* harmony export */   isToolMessageChunk: () => (/* reexport safe */ _tool_js__WEBPACK_IMPORTED_MODULE_5__.isToolMessageChunk),\n/* harmony export */   isURLContentBlock: () => (/* reexport safe */ _content_data_js__WEBPACK_IMPORTED_MODULE_1__.isURLContentBlock),\n/* harmony export */   mapChatMessagesToStoredMessages: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.mapChatMessagesToStoredMessages),\n/* harmony export */   mapStoredMessageToChatMessage: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.mapStoredMessageToChatMessage),\n/* harmony export */   mapStoredMessagesToChatMessages: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.mapStoredMessagesToChatMessages),\n/* harmony export */   mergeContent: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_3__.mergeContent),\n/* harmony export */   mergeMessageRuns: () => (/* reexport safe */ _transformers_js__WEBPACK_IMPORTED_MODULE_13__.mergeMessageRuns),\n/* harmony export */   mergeResponseMetadata: () => (/* reexport safe */ _metadata_js__WEBPACK_IMPORTED_MODULE_4__.mergeResponseMetadata),\n/* harmony export */   mergeUsageMetadata: () => (/* reexport safe */ _metadata_js__WEBPACK_IMPORTED_MODULE_4__.mergeUsageMetadata),\n/* harmony export */   messages_exports: () => (/* binding */ messages_exports),\n/* harmony export */   parseBase64DataUrl: () => (/* reexport safe */ _content_data_js__WEBPACK_IMPORTED_MODULE_1__.parseBase64DataUrl),\n/* harmony export */   parseMimeType: () => (/* reexport safe */ _content_data_js__WEBPACK_IMPORTED_MODULE_1__.parseMimeType),\n/* harmony export */   trimMessages: () => (/* reexport safe */ _transformers_js__WEBPACK_IMPORTED_MODULE_13__.trimMessages)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _content_data_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./content/data.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/content/data.js\");\n/* harmony import */ var _message_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./message.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/message.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/base.js\");\n/* harmony import */ var _metadata_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./metadata.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/metadata.js\");\n/* harmony import */ var _tool_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./tool.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/tool.js\");\n/* harmony import */ var _ai_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ai.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/ai.js\");\n/* harmony import */ var _chat_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./chat.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/chat.js\");\n/* harmony import */ var _function_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./function.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/function.js\");\n/* harmony import */ var _human_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./human.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/human.js\");\n/* harmony import */ var _system_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./system.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/system.js\");\n/* harmony import */ var _modifier_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./modifier.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/modifier.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/utils.js\");\n/* harmony import */ var _transformers_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./transformers.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/transformers.js\");\n/* harmony import */ var _content_index_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./content/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/content/index.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//#region src/messages/index.ts\nvar messages_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(messages_exports, {\n\tAIMessage: () => _ai_js__WEBPACK_IMPORTED_MODULE_6__.AIMessage,\n\tAIMessageChunk: () => _ai_js__WEBPACK_IMPORTED_MODULE_6__.AIMessageChunk,\n\tBaseMessage: () => _base_js__WEBPACK_IMPORTED_MODULE_3__.BaseMessage,\n\tBaseMessageChunk: () => _base_js__WEBPACK_IMPORTED_MODULE_3__.BaseMessageChunk,\n\tChatMessage: () => _chat_js__WEBPACK_IMPORTED_MODULE_7__.ChatMessage,\n\tChatMessageChunk: () => _chat_js__WEBPACK_IMPORTED_MODULE_7__.ChatMessageChunk,\n\tFunctionMessage: () => _function_js__WEBPACK_IMPORTED_MODULE_8__.FunctionMessage,\n\tFunctionMessageChunk: () => _function_js__WEBPACK_IMPORTED_MODULE_8__.FunctionMessageChunk,\n\tHumanMessage: () => _human_js__WEBPACK_IMPORTED_MODULE_9__.HumanMessage,\n\tHumanMessageChunk: () => _human_js__WEBPACK_IMPORTED_MODULE_9__.HumanMessageChunk,\n\tKNOWN_BLOCK_TYPES: () => _content_index_js__WEBPACK_IMPORTED_MODULE_14__.KNOWN_BLOCK_TYPES,\n\tRemoveMessage: () => _modifier_js__WEBPACK_IMPORTED_MODULE_11__.RemoveMessage,\n\tSystemMessage: () => _system_js__WEBPACK_IMPORTED_MODULE_10__.SystemMessage,\n\tSystemMessageChunk: () => _system_js__WEBPACK_IMPORTED_MODULE_10__.SystemMessageChunk,\n\tToolMessage: () => _tool_js__WEBPACK_IMPORTED_MODULE_5__.ToolMessage,\n\tToolMessageChunk: () => _tool_js__WEBPACK_IMPORTED_MODULE_5__.ToolMessageChunk,\n\t_isMessageFieldWithRole: () => _base_js__WEBPACK_IMPORTED_MODULE_3__._isMessageFieldWithRole,\n\t_mergeDicts: () => _base_js__WEBPACK_IMPORTED_MODULE_3__._mergeDicts,\n\t_mergeLists: () => _base_js__WEBPACK_IMPORTED_MODULE_3__._mergeLists,\n\t_mergeObj: () => _base_js__WEBPACK_IMPORTED_MODULE_3__._mergeObj,\n\t_mergeStatus: () => _base_js__WEBPACK_IMPORTED_MODULE_3__._mergeStatus,\n\tcoerceMessageLikeToMessage: () => _utils_js__WEBPACK_IMPORTED_MODULE_12__.coerceMessageLikeToMessage,\n\tconvertToChunk: () => _utils_js__WEBPACK_IMPORTED_MODULE_12__.convertToChunk,\n\tconvertToOpenAIImageBlock: () => _content_data_js__WEBPACK_IMPORTED_MODULE_1__.convertToOpenAIImageBlock,\n\tconvertToProviderContentBlock: () => _content_data_js__WEBPACK_IMPORTED_MODULE_1__.convertToProviderContentBlock,\n\tdefaultTextSplitter: () => _transformers_js__WEBPACK_IMPORTED_MODULE_13__.defaultTextSplitter,\n\tdefaultToolCallParser: () => _tool_js__WEBPACK_IMPORTED_MODULE_5__.defaultToolCallParser,\n\tfilterMessages: () => _transformers_js__WEBPACK_IMPORTED_MODULE_13__.filterMessages,\n\tgetBufferString: () => _utils_js__WEBPACK_IMPORTED_MODULE_12__.getBufferString,\n\tiife: () => _utils_js__WEBPACK_IMPORTED_MODULE_12__.iife,\n\tisAIMessage: () => _ai_js__WEBPACK_IMPORTED_MODULE_6__.isAIMessage,\n\tisAIMessageChunk: () => _ai_js__WEBPACK_IMPORTED_MODULE_6__.isAIMessageChunk,\n\tisBase64ContentBlock: () => _content_data_js__WEBPACK_IMPORTED_MODULE_1__.isBase64ContentBlock,\n\tisBaseMessage: () => _base_js__WEBPACK_IMPORTED_MODULE_3__.isBaseMessage,\n\tisBaseMessageChunk: () => _base_js__WEBPACK_IMPORTED_MODULE_3__.isBaseMessageChunk,\n\tisChatMessage: () => _chat_js__WEBPACK_IMPORTED_MODULE_7__.isChatMessage,\n\tisChatMessageChunk: () => _chat_js__WEBPACK_IMPORTED_MODULE_7__.isChatMessageChunk,\n\tisDataContentBlock: () => _content_data_js__WEBPACK_IMPORTED_MODULE_1__.isDataContentBlock,\n\tisDirectToolOutput: () => _tool_js__WEBPACK_IMPORTED_MODULE_5__.isDirectToolOutput,\n\tisFunctionMessage: () => _function_js__WEBPACK_IMPORTED_MODULE_8__.isFunctionMessage,\n\tisFunctionMessageChunk: () => _function_js__WEBPACK_IMPORTED_MODULE_8__.isFunctionMessageChunk,\n\tisHumanMessage: () => _human_js__WEBPACK_IMPORTED_MODULE_9__.isHumanMessage,\n\tisHumanMessageChunk: () => _human_js__WEBPACK_IMPORTED_MODULE_9__.isHumanMessageChunk,\n\tisIDContentBlock: () => _content_data_js__WEBPACK_IMPORTED_MODULE_1__.isIDContentBlock,\n\tisMessage: () => _message_js__WEBPACK_IMPORTED_MODULE_2__.isMessage,\n\tisOpenAIToolCallArray: () => _base_js__WEBPACK_IMPORTED_MODULE_3__.isOpenAIToolCallArray,\n\tisPlainTextContentBlock: () => _content_data_js__WEBPACK_IMPORTED_MODULE_1__.isPlainTextContentBlock,\n\tisSystemMessage: () => _system_js__WEBPACK_IMPORTED_MODULE_10__.isSystemMessage,\n\tisSystemMessageChunk: () => _system_js__WEBPACK_IMPORTED_MODULE_10__.isSystemMessageChunk,\n\tisToolMessage: () => _tool_js__WEBPACK_IMPORTED_MODULE_5__.isToolMessage,\n\tisToolMessageChunk: () => _tool_js__WEBPACK_IMPORTED_MODULE_5__.isToolMessageChunk,\n\tisURLContentBlock: () => _content_data_js__WEBPACK_IMPORTED_MODULE_1__.isURLContentBlock,\n\tmapChatMessagesToStoredMessages: () => _utils_js__WEBPACK_IMPORTED_MODULE_12__.mapChatMessagesToStoredMessages,\n\tmapStoredMessageToChatMessage: () => _utils_js__WEBPACK_IMPORTED_MODULE_12__.mapStoredMessageToChatMessage,\n\tmapStoredMessagesToChatMessages: () => _utils_js__WEBPACK_IMPORTED_MODULE_12__.mapStoredMessagesToChatMessages,\n\tmergeContent: () => _base_js__WEBPACK_IMPORTED_MODULE_3__.mergeContent,\n\tmergeMessageRuns: () => _transformers_js__WEBPACK_IMPORTED_MODULE_13__.mergeMessageRuns,\n\tmergeResponseMetadata: () => _metadata_js__WEBPACK_IMPORTED_MODULE_4__.mergeResponseMetadata,\n\tmergeUsageMetadata: () => _metadata_js__WEBPACK_IMPORTED_MODULE_4__.mergeUsageMetadata,\n\tparseBase64DataUrl: () => _content_data_js__WEBPACK_IMPORTED_MODULE_1__.parseBase64DataUrl,\n\tparseMimeType: () => _content_data_js__WEBPACK_IMPORTED_MODULE_1__.parseMimeType,\n\ttrimMessages: () => _transformers_js__WEBPACK_IMPORTED_MODULE_13__.trimMessages\n});\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMkQ7QUFDNks7QUFDL0w7QUFDcUs7QUFDcEk7QUFDOEQ7QUFDckQ7QUFDVTtBQUNvQjtBQUNmO0FBQ0s7QUFDekQ7QUFDa0o7QUFDeEY7QUFDakQ7O0FBRXZEO0FBQ0E7QUFDQSxzRUFBUTtBQUNSLGtCQUFrQiw2Q0FBUztBQUMzQix1QkFBdUIsa0RBQWM7QUFDckMsb0JBQW9CLGlEQUFXO0FBQy9CLHlCQUF5QixzREFBZ0I7QUFDekMsb0JBQW9CLGlEQUFXO0FBQy9CLHlCQUF5QixzREFBZ0I7QUFDekMsd0JBQXdCLHlEQUFlO0FBQ3ZDLDZCQUE2Qiw4REFBb0I7QUFDakQscUJBQXFCLG1EQUFZO0FBQ2pDLDBCQUEwQix3REFBaUI7QUFDM0MsMEJBQTBCLGlFQUFpQjtBQUMzQyxzQkFBc0Isd0RBQWE7QUFDbkMsc0JBQXNCLHNEQUFhO0FBQ25DLDJCQUEyQiwyREFBa0I7QUFDN0Msb0JBQW9CLGlEQUFXO0FBQy9CLHlCQUF5QixzREFBZ0I7QUFDekMsZ0NBQWdDLDZEQUF1QjtBQUN2RCxvQkFBb0IsaURBQVc7QUFDL0Isb0JBQW9CLGlEQUFXO0FBQy9CLGtCQUFrQiwrQ0FBUztBQUMzQixxQkFBcUIsa0RBQVk7QUFDakMsbUNBQW1DLGtFQUEwQjtBQUM3RCx1QkFBdUIsc0RBQWM7QUFDckMsa0NBQWtDLHVFQUF5QjtBQUMzRCxzQ0FBc0MsMkVBQTZCO0FBQ25FLDRCQUE0QixrRUFBbUI7QUFDL0MsOEJBQThCLDJEQUFxQjtBQUNuRCx1QkFBdUIsNkRBQWM7QUFDckMsd0JBQXdCLHVEQUFlO0FBQ3ZDLGFBQWEsNENBQUk7QUFDakIsb0JBQW9CLCtDQUFXO0FBQy9CLHlCQUF5QixvREFBZ0I7QUFDekMsNkJBQTZCLGtFQUFvQjtBQUNqRCxzQkFBc0IsbURBQWE7QUFDbkMsMkJBQTJCLHdEQUFrQjtBQUM3QyxzQkFBc0IsbURBQWE7QUFDbkMsMkJBQTJCLHdEQUFrQjtBQUM3QywyQkFBMkIsZ0VBQWtCO0FBQzdDLDJCQUEyQix3REFBa0I7QUFDN0MsMEJBQTBCLDJEQUFpQjtBQUMzQywrQkFBK0IsZ0VBQXNCO0FBQ3JELHVCQUF1QixxREFBYztBQUNyQyw0QkFBNEIsMERBQW1CO0FBQy9DLHlCQUF5Qiw4REFBZ0I7QUFDekMsa0JBQWtCLGtEQUFTO0FBQzNCLDhCQUE4QiwyREFBcUI7QUFDbkQsZ0NBQWdDLHFFQUF1QjtBQUN2RCx3QkFBd0Isd0RBQWU7QUFDdkMsNkJBQTZCLDZEQUFvQjtBQUNqRCxzQkFBc0IsbURBQWE7QUFDbkMsMkJBQTJCLHdEQUFrQjtBQUM3QywwQkFBMEIsK0RBQWlCO0FBQzNDLHdDQUF3Qyx1RUFBK0I7QUFDdkUsc0NBQXNDLHFFQUE2QjtBQUNuRSx3Q0FBd0MsdUVBQStCO0FBQ3ZFLHFCQUFxQixrREFBWTtBQUNqQyx5QkFBeUIsK0RBQWdCO0FBQ3pDLDhCQUE4QiwrREFBcUI7QUFDbkQsMkJBQTJCLDREQUFrQjtBQUM3QywyQkFBMkIsZ0VBQWtCO0FBQzdDLHNCQUFzQiwyREFBYTtBQUNuQyxxQkFBcUIsMkRBQVk7QUFDakMsQ0FBQzs7QUFFRDtBQUNncUM7QUFDaHFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9pbmRleC5qcz9mZTk0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fZXhwb3J0IH0gZnJvbSBcIi4uL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuanNcIjtcbmltcG9ydCB7IGNvbnZlcnRUb09wZW5BSUltYWdlQmxvY2ssIGNvbnZlcnRUb1Byb3ZpZGVyQ29udGVudEJsb2NrLCBpc0Jhc2U2NENvbnRlbnRCbG9jaywgaXNEYXRhQ29udGVudEJsb2NrLCBpc0lEQ29udGVudEJsb2NrLCBpc1BsYWluVGV4dENvbnRlbnRCbG9jaywgaXNVUkxDb250ZW50QmxvY2ssIHBhcnNlQmFzZTY0RGF0YVVybCwgcGFyc2VNaW1lVHlwZSB9IGZyb20gXCIuL2NvbnRlbnQvZGF0YS5qc1wiO1xuaW1wb3J0IHsgaXNNZXNzYWdlIH0gZnJvbSBcIi4vbWVzc2FnZS5qc1wiO1xuaW1wb3J0IHsgQmFzZU1lc3NhZ2UsIEJhc2VNZXNzYWdlQ2h1bmssIF9pc01lc3NhZ2VGaWVsZFdpdGhSb2xlLCBfbWVyZ2VEaWN0cywgX21lcmdlTGlzdHMsIF9tZXJnZU9iaiwgX21lcmdlU3RhdHVzLCBpc0Jhc2VNZXNzYWdlLCBpc0Jhc2VNZXNzYWdlQ2h1bmssIGlzT3BlbkFJVG9vbENhbGxBcnJheSwgbWVyZ2VDb250ZW50IH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgbWVyZ2VSZXNwb25zZU1ldGFkYXRhLCBtZXJnZVVzYWdlTWV0YWRhdGEgfSBmcm9tIFwiLi9tZXRhZGF0YS5qc1wiO1xuaW1wb3J0IHsgVG9vbE1lc3NhZ2UsIFRvb2xNZXNzYWdlQ2h1bmssIGRlZmF1bHRUb29sQ2FsbFBhcnNlciwgaXNEaXJlY3RUb29sT3V0cHV0LCBpc1Rvb2xNZXNzYWdlLCBpc1Rvb2xNZXNzYWdlQ2h1bmsgfSBmcm9tIFwiLi90b29sLmpzXCI7XG5pbXBvcnQgeyBBSU1lc3NhZ2UsIEFJTWVzc2FnZUNodW5rLCBpc0FJTWVzc2FnZSwgaXNBSU1lc3NhZ2VDaHVuayB9IGZyb20gXCIuL2FpLmpzXCI7XG5pbXBvcnQgeyBDaGF0TWVzc2FnZSwgQ2hhdE1lc3NhZ2VDaHVuaywgaXNDaGF0TWVzc2FnZSwgaXNDaGF0TWVzc2FnZUNodW5rIH0gZnJvbSBcIi4vY2hhdC5qc1wiO1xuaW1wb3J0IHsgRnVuY3Rpb25NZXNzYWdlLCBGdW5jdGlvbk1lc3NhZ2VDaHVuaywgaXNGdW5jdGlvbk1lc3NhZ2UsIGlzRnVuY3Rpb25NZXNzYWdlQ2h1bmsgfSBmcm9tIFwiLi9mdW5jdGlvbi5qc1wiO1xuaW1wb3J0IHsgSHVtYW5NZXNzYWdlLCBIdW1hbk1lc3NhZ2VDaHVuaywgaXNIdW1hbk1lc3NhZ2UsIGlzSHVtYW5NZXNzYWdlQ2h1bmsgfSBmcm9tIFwiLi9odW1hbi5qc1wiO1xuaW1wb3J0IHsgU3lzdGVtTWVzc2FnZSwgU3lzdGVtTWVzc2FnZUNodW5rLCBpc1N5c3RlbU1lc3NhZ2UsIGlzU3lzdGVtTWVzc2FnZUNodW5rIH0gZnJvbSBcIi4vc3lzdGVtLmpzXCI7XG5pbXBvcnQgeyBSZW1vdmVNZXNzYWdlIH0gZnJvbSBcIi4vbW9kaWZpZXIuanNcIjtcbmltcG9ydCB7IGNvZXJjZU1lc3NhZ2VMaWtlVG9NZXNzYWdlLCBjb252ZXJ0VG9DaHVuaywgZ2V0QnVmZmVyU3RyaW5nLCBpaWZlLCBtYXBDaGF0TWVzc2FnZXNUb1N0b3JlZE1lc3NhZ2VzLCBtYXBTdG9yZWRNZXNzYWdlVG9DaGF0TWVzc2FnZSwgbWFwU3RvcmVkTWVzc2FnZXNUb0NoYXRNZXNzYWdlcyB9IGZyb20gXCIuL3V0aWxzLmpzXCI7XG5pbXBvcnQgeyBkZWZhdWx0VGV4dFNwbGl0dGVyLCBmaWx0ZXJNZXNzYWdlcywgbWVyZ2VNZXNzYWdlUnVucywgdHJpbU1lc3NhZ2VzIH0gZnJvbSBcIi4vdHJhbnNmb3JtZXJzLmpzXCI7XG5pbXBvcnQgeyBLTk9XTl9CTE9DS19UWVBFUyB9IGZyb20gXCIuL2NvbnRlbnQvaW5kZXguanNcIjtcblxuLy8jcmVnaW9uIHNyYy9tZXNzYWdlcy9pbmRleC50c1xudmFyIG1lc3NhZ2VzX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KG1lc3NhZ2VzX2V4cG9ydHMsIHtcblx0QUlNZXNzYWdlOiAoKSA9PiBBSU1lc3NhZ2UsXG5cdEFJTWVzc2FnZUNodW5rOiAoKSA9PiBBSU1lc3NhZ2VDaHVuayxcblx0QmFzZU1lc3NhZ2U6ICgpID0+IEJhc2VNZXNzYWdlLFxuXHRCYXNlTWVzc2FnZUNodW5rOiAoKSA9PiBCYXNlTWVzc2FnZUNodW5rLFxuXHRDaGF0TWVzc2FnZTogKCkgPT4gQ2hhdE1lc3NhZ2UsXG5cdENoYXRNZXNzYWdlQ2h1bms6ICgpID0+IENoYXRNZXNzYWdlQ2h1bmssXG5cdEZ1bmN0aW9uTWVzc2FnZTogKCkgPT4gRnVuY3Rpb25NZXNzYWdlLFxuXHRGdW5jdGlvbk1lc3NhZ2VDaHVuazogKCkgPT4gRnVuY3Rpb25NZXNzYWdlQ2h1bmssXG5cdEh1bWFuTWVzc2FnZTogKCkgPT4gSHVtYW5NZXNzYWdlLFxuXHRIdW1hbk1lc3NhZ2VDaHVuazogKCkgPT4gSHVtYW5NZXNzYWdlQ2h1bmssXG5cdEtOT1dOX0JMT0NLX1RZUEVTOiAoKSA9PiBLTk9XTl9CTE9DS19UWVBFUyxcblx0UmVtb3ZlTWVzc2FnZTogKCkgPT4gUmVtb3ZlTWVzc2FnZSxcblx0U3lzdGVtTWVzc2FnZTogKCkgPT4gU3lzdGVtTWVzc2FnZSxcblx0U3lzdGVtTWVzc2FnZUNodW5rOiAoKSA9PiBTeXN0ZW1NZXNzYWdlQ2h1bmssXG5cdFRvb2xNZXNzYWdlOiAoKSA9PiBUb29sTWVzc2FnZSxcblx0VG9vbE1lc3NhZ2VDaHVuazogKCkgPT4gVG9vbE1lc3NhZ2VDaHVuayxcblx0X2lzTWVzc2FnZUZpZWxkV2l0aFJvbGU6ICgpID0+IF9pc01lc3NhZ2VGaWVsZFdpdGhSb2xlLFxuXHRfbWVyZ2VEaWN0czogKCkgPT4gX21lcmdlRGljdHMsXG5cdF9tZXJnZUxpc3RzOiAoKSA9PiBfbWVyZ2VMaXN0cyxcblx0X21lcmdlT2JqOiAoKSA9PiBfbWVyZ2VPYmosXG5cdF9tZXJnZVN0YXR1czogKCkgPT4gX21lcmdlU3RhdHVzLFxuXHRjb2VyY2VNZXNzYWdlTGlrZVRvTWVzc2FnZTogKCkgPT4gY29lcmNlTWVzc2FnZUxpa2VUb01lc3NhZ2UsXG5cdGNvbnZlcnRUb0NodW5rOiAoKSA9PiBjb252ZXJ0VG9DaHVuayxcblx0Y29udmVydFRvT3BlbkFJSW1hZ2VCbG9jazogKCkgPT4gY29udmVydFRvT3BlbkFJSW1hZ2VCbG9jayxcblx0Y29udmVydFRvUHJvdmlkZXJDb250ZW50QmxvY2s6ICgpID0+IGNvbnZlcnRUb1Byb3ZpZGVyQ29udGVudEJsb2NrLFxuXHRkZWZhdWx0VGV4dFNwbGl0dGVyOiAoKSA9PiBkZWZhdWx0VGV4dFNwbGl0dGVyLFxuXHRkZWZhdWx0VG9vbENhbGxQYXJzZXI6ICgpID0+IGRlZmF1bHRUb29sQ2FsbFBhcnNlcixcblx0ZmlsdGVyTWVzc2FnZXM6ICgpID0+IGZpbHRlck1lc3NhZ2VzLFxuXHRnZXRCdWZmZXJTdHJpbmc6ICgpID0+IGdldEJ1ZmZlclN0cmluZyxcblx0aWlmZTogKCkgPT4gaWlmZSxcblx0aXNBSU1lc3NhZ2U6ICgpID0+IGlzQUlNZXNzYWdlLFxuXHRpc0FJTWVzc2FnZUNodW5rOiAoKSA9PiBpc0FJTWVzc2FnZUNodW5rLFxuXHRpc0Jhc2U2NENvbnRlbnRCbG9jazogKCkgPT4gaXNCYXNlNjRDb250ZW50QmxvY2ssXG5cdGlzQmFzZU1lc3NhZ2U6ICgpID0+IGlzQmFzZU1lc3NhZ2UsXG5cdGlzQmFzZU1lc3NhZ2VDaHVuazogKCkgPT4gaXNCYXNlTWVzc2FnZUNodW5rLFxuXHRpc0NoYXRNZXNzYWdlOiAoKSA9PiBpc0NoYXRNZXNzYWdlLFxuXHRpc0NoYXRNZXNzYWdlQ2h1bms6ICgpID0+IGlzQ2hhdE1lc3NhZ2VDaHVuayxcblx0aXNEYXRhQ29udGVudEJsb2NrOiAoKSA9PiBpc0RhdGFDb250ZW50QmxvY2ssXG5cdGlzRGlyZWN0VG9vbE91dHB1dDogKCkgPT4gaXNEaXJlY3RUb29sT3V0cHV0LFxuXHRpc0Z1bmN0aW9uTWVzc2FnZTogKCkgPT4gaXNGdW5jdGlvbk1lc3NhZ2UsXG5cdGlzRnVuY3Rpb25NZXNzYWdlQ2h1bms6ICgpID0+IGlzRnVuY3Rpb25NZXNzYWdlQ2h1bmssXG5cdGlzSHVtYW5NZXNzYWdlOiAoKSA9PiBpc0h1bWFuTWVzc2FnZSxcblx0aXNIdW1hbk1lc3NhZ2VDaHVuazogKCkgPT4gaXNIdW1hbk1lc3NhZ2VDaHVuayxcblx0aXNJRENvbnRlbnRCbG9jazogKCkgPT4gaXNJRENvbnRlbnRCbG9jayxcblx0aXNNZXNzYWdlOiAoKSA9PiBpc01lc3NhZ2UsXG5cdGlzT3BlbkFJVG9vbENhbGxBcnJheTogKCkgPT4gaXNPcGVuQUlUb29sQ2FsbEFycmF5LFxuXHRpc1BsYWluVGV4dENvbnRlbnRCbG9jazogKCkgPT4gaXNQbGFpblRleHRDb250ZW50QmxvY2ssXG5cdGlzU3lzdGVtTWVzc2FnZTogKCkgPT4gaXNTeXN0ZW1NZXNzYWdlLFxuXHRpc1N5c3RlbU1lc3NhZ2VDaHVuazogKCkgPT4gaXNTeXN0ZW1NZXNzYWdlQ2h1bmssXG5cdGlzVG9vbE1lc3NhZ2U6ICgpID0+IGlzVG9vbE1lc3NhZ2UsXG5cdGlzVG9vbE1lc3NhZ2VDaHVuazogKCkgPT4gaXNUb29sTWVzc2FnZUNodW5rLFxuXHRpc1VSTENvbnRlbnRCbG9jazogKCkgPT4gaXNVUkxDb250ZW50QmxvY2ssXG5cdG1hcENoYXRNZXNzYWdlc1RvU3RvcmVkTWVzc2FnZXM6ICgpID0+IG1hcENoYXRNZXNzYWdlc1RvU3RvcmVkTWVzc2FnZXMsXG5cdG1hcFN0b3JlZE1lc3NhZ2VUb0NoYXRNZXNzYWdlOiAoKSA9PiBtYXBTdG9yZWRNZXNzYWdlVG9DaGF0TWVzc2FnZSxcblx0bWFwU3RvcmVkTWVzc2FnZXNUb0NoYXRNZXNzYWdlczogKCkgPT4gbWFwU3RvcmVkTWVzc2FnZXNUb0NoYXRNZXNzYWdlcyxcblx0bWVyZ2VDb250ZW50OiAoKSA9PiBtZXJnZUNvbnRlbnQsXG5cdG1lcmdlTWVzc2FnZVJ1bnM6ICgpID0+IG1lcmdlTWVzc2FnZVJ1bnMsXG5cdG1lcmdlUmVzcG9uc2VNZXRhZGF0YTogKCkgPT4gbWVyZ2VSZXNwb25zZU1ldGFkYXRhLFxuXHRtZXJnZVVzYWdlTWV0YWRhdGE6ICgpID0+IG1lcmdlVXNhZ2VNZXRhZGF0YSxcblx0cGFyc2VCYXNlNjREYXRhVXJsOiAoKSA9PiBwYXJzZUJhc2U2NERhdGFVcmwsXG5cdHBhcnNlTWltZVR5cGU6ICgpID0+IHBhcnNlTWltZVR5cGUsXG5cdHRyaW1NZXNzYWdlczogKCkgPT4gdHJpbU1lc3NhZ2VzXG59KTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBBSU1lc3NhZ2UsIEFJTWVzc2FnZUNodW5rLCBCYXNlTWVzc2FnZSwgQmFzZU1lc3NhZ2VDaHVuaywgQ2hhdE1lc3NhZ2UsIENoYXRNZXNzYWdlQ2h1bmssIEZ1bmN0aW9uTWVzc2FnZSwgRnVuY3Rpb25NZXNzYWdlQ2h1bmssIEh1bWFuTWVzc2FnZSwgSHVtYW5NZXNzYWdlQ2h1bmssIEtOT1dOX0JMT0NLX1RZUEVTLCBSZW1vdmVNZXNzYWdlLCBTeXN0ZW1NZXNzYWdlLCBTeXN0ZW1NZXNzYWdlQ2h1bmssIFRvb2xNZXNzYWdlLCBUb29sTWVzc2FnZUNodW5rLCBfaXNNZXNzYWdlRmllbGRXaXRoUm9sZSwgX21lcmdlRGljdHMsIF9tZXJnZUxpc3RzLCBfbWVyZ2VPYmosIF9tZXJnZVN0YXR1cywgY29lcmNlTWVzc2FnZUxpa2VUb01lc3NhZ2UsIGNvbnZlcnRUb0NodW5rLCBjb252ZXJ0VG9PcGVuQUlJbWFnZUJsb2NrLCBjb252ZXJ0VG9Qcm92aWRlckNvbnRlbnRCbG9jaywgZGVmYXVsdFRleHRTcGxpdHRlciwgZGVmYXVsdFRvb2xDYWxsUGFyc2VyLCBmaWx0ZXJNZXNzYWdlcywgZ2V0QnVmZmVyU3RyaW5nLCBpaWZlLCBpc0FJTWVzc2FnZSwgaXNBSU1lc3NhZ2VDaHVuaywgaXNCYXNlNjRDb250ZW50QmxvY2ssIGlzQmFzZU1lc3NhZ2UsIGlzQmFzZU1lc3NhZ2VDaHVuaywgaXNDaGF0TWVzc2FnZSwgaXNDaGF0TWVzc2FnZUNodW5rLCBpc0RhdGFDb250ZW50QmxvY2ssIGlzRGlyZWN0VG9vbE91dHB1dCwgaXNGdW5jdGlvbk1lc3NhZ2UsIGlzRnVuY3Rpb25NZXNzYWdlQ2h1bmssIGlzSHVtYW5NZXNzYWdlLCBpc0h1bWFuTWVzc2FnZUNodW5rLCBpc0lEQ29udGVudEJsb2NrLCBpc01lc3NhZ2UsIGlzT3BlbkFJVG9vbENhbGxBcnJheSwgaXNQbGFpblRleHRDb250ZW50QmxvY2ssIGlzU3lzdGVtTWVzc2FnZSwgaXNTeXN0ZW1NZXNzYWdlQ2h1bmssIGlzVG9vbE1lc3NhZ2UsIGlzVG9vbE1lc3NhZ2VDaHVuaywgaXNVUkxDb250ZW50QmxvY2ssIG1hcENoYXRNZXNzYWdlc1RvU3RvcmVkTWVzc2FnZXMsIG1hcFN0b3JlZE1lc3NhZ2VUb0NoYXRNZXNzYWdlLCBtYXBTdG9yZWRNZXNzYWdlc1RvQ2hhdE1lc3NhZ2VzLCBtZXJnZUNvbnRlbnQsIG1lcmdlTWVzc2FnZVJ1bnMsIG1lcmdlUmVzcG9uc2VNZXRhZGF0YSwgbWVyZ2VVc2FnZU1ldGFkYXRhLCBtZXNzYWdlc19leHBvcnRzLCBwYXJzZUJhc2U2NERhdGFVcmwsIHBhcnNlTWltZVR5cGUsIHRyaW1NZXNzYWdlcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/message.js":
/*!********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/message.js ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isMessage: () => (/* binding */ isMessage)\n/* harmony export */ });\n//#region src/messages/message.ts\n/**\n* Type guard to check if a value is a valid Message object.\n*\n* @param message - The value to check\n* @returns true if the value is a valid Message object, false otherwise\n*/\nfunction isMessage(message) {\n\treturn typeof message === \"object\" && message !== null && \"type\" in message && \"content\" in message && (typeof message.content === \"string\" || Array.isArray(message.content));\n}\n\n//#endregion\n\n//# sourceMappingURL=message.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9tZXNzYWdlLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNxQjtBQUNyQiIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvbWVzc2FnZXMvbWVzc2FnZS5qcz9kMWFkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vI3JlZ2lvbiBzcmMvbWVzc2FnZXMvbWVzc2FnZS50c1xuLyoqXG4qIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgYSB2YWx1ZSBpcyBhIHZhbGlkIE1lc3NhZ2Ugb2JqZWN0LlxuKlxuKiBAcGFyYW0gbWVzc2FnZSAtIFRoZSB2YWx1ZSB0byBjaGVja1xuKiBAcmV0dXJucyB0cnVlIGlmIHRoZSB2YWx1ZSBpcyBhIHZhbGlkIE1lc3NhZ2Ugb2JqZWN0LCBmYWxzZSBvdGhlcndpc2VcbiovXG5mdW5jdGlvbiBpc01lc3NhZ2UobWVzc2FnZSkge1xuXHRyZXR1cm4gdHlwZW9mIG1lc3NhZ2UgPT09IFwib2JqZWN0XCIgJiYgbWVzc2FnZSAhPT0gbnVsbCAmJiBcInR5cGVcIiBpbiBtZXNzYWdlICYmIFwiY29udGVudFwiIGluIG1lc3NhZ2UgJiYgKHR5cGVvZiBtZXNzYWdlLmNvbnRlbnQgPT09IFwic3RyaW5nXCIgfHwgQXJyYXkuaXNBcnJheShtZXNzYWdlLmNvbnRlbnQpKTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBpc01lc3NhZ2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lc3NhZ2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/message.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/metadata.js":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/metadata.js ***!
  \*********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   mergeResponseMetadata: () => (/* binding */ mergeResponseMetadata),\n/* harmony export */   mergeUsageMetadata: () => (/* binding */ mergeUsageMetadata)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/base.js\");\n\n\n//#region src/messages/metadata.ts\nfunction mergeResponseMetadata(a, b) {\n\tconst output = (0,_base_js__WEBPACK_IMPORTED_MODULE_0__._mergeDicts)(a ?? {}, b ?? {});\n\treturn output;\n}\nfunction mergeModalitiesTokenDetails(a, b) {\n\tconst output = {};\n\tif (a?.audio !== void 0 || b?.audio !== void 0) output.audio = (a?.audio ?? 0) + (b?.audio ?? 0);\n\tif (a?.image !== void 0 || b?.image !== void 0) output.image = (a?.image ?? 0) + (b?.image ?? 0);\n\tif (a?.video !== void 0 || b?.video !== void 0) output.video = (a?.video ?? 0) + (b?.video ?? 0);\n\tif (a?.document !== void 0 || b?.document !== void 0) output.document = (a?.document ?? 0) + (b?.document ?? 0);\n\tif (a?.text !== void 0 || b?.text !== void 0) output.text = (a?.text ?? 0) + (b?.text ?? 0);\n\treturn output;\n}\nfunction mergeInputTokenDetails(a, b) {\n\tconst output = { ...mergeModalitiesTokenDetails(a, b) };\n\tif (a?.cache_read !== void 0 || b?.cache_read !== void 0) output.cache_read = (a?.cache_read ?? 0) + (b?.cache_read ?? 0);\n\tif (a?.cache_creation !== void 0 || b?.cache_creation !== void 0) output.cache_creation = (a?.cache_creation ?? 0) + (b?.cache_creation ?? 0);\n\treturn output;\n}\nfunction mergeOutputTokenDetails(a, b) {\n\tconst output = { ...mergeModalitiesTokenDetails(a, b) };\n\tif (a?.reasoning !== void 0 || b?.reasoning !== void 0) output.reasoning = (a?.reasoning ?? 0) + (b?.reasoning ?? 0);\n\treturn output;\n}\nfunction mergeUsageMetadata(a, b) {\n\treturn {\n\t\tinput_tokens: (a?.input_tokens ?? 0) + (b?.input_tokens ?? 0),\n\t\toutput_tokens: (a?.output_tokens ?? 0) + (b?.output_tokens ?? 0),\n\t\ttotal_tokens: (a?.total_tokens ?? 0) + (b?.total_tokens ?? 0),\n\t\tinput_token_details: mergeInputTokenDetails(a?.input_token_details, b?.input_token_details),\n\t\toutput_token_details: mergeOutputTokenDetails(a?.output_token_details, b?.output_token_details)\n\t};\n}\n\n//#endregion\n\n//# sourceMappingURL=metadata.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9tZXRhZGF0YS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBd0M7O0FBRXhDO0FBQ0E7QUFDQSxnQkFBZ0IscURBQVcsUUFBUSxTQUFTO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNxRDtBQUNyRCIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvbWVzc2FnZXMvbWV0YWRhdGEuanM/MWE3NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfbWVyZ2VEaWN0cyB9IGZyb20gXCIuL2Jhc2UuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9tZXNzYWdlcy9tZXRhZGF0YS50c1xuZnVuY3Rpb24gbWVyZ2VSZXNwb25zZU1ldGFkYXRhKGEsIGIpIHtcblx0Y29uc3Qgb3V0cHV0ID0gX21lcmdlRGljdHMoYSA/PyB7fSwgYiA/PyB7fSk7XG5cdHJldHVybiBvdXRwdXQ7XG59XG5mdW5jdGlvbiBtZXJnZU1vZGFsaXRpZXNUb2tlbkRldGFpbHMoYSwgYikge1xuXHRjb25zdCBvdXRwdXQgPSB7fTtcblx0aWYgKGE/LmF1ZGlvICE9PSB2b2lkIDAgfHwgYj8uYXVkaW8gIT09IHZvaWQgMCkgb3V0cHV0LmF1ZGlvID0gKGE/LmF1ZGlvID8/IDApICsgKGI/LmF1ZGlvID8/IDApO1xuXHRpZiAoYT8uaW1hZ2UgIT09IHZvaWQgMCB8fCBiPy5pbWFnZSAhPT0gdm9pZCAwKSBvdXRwdXQuaW1hZ2UgPSAoYT8uaW1hZ2UgPz8gMCkgKyAoYj8uaW1hZ2UgPz8gMCk7XG5cdGlmIChhPy52aWRlbyAhPT0gdm9pZCAwIHx8IGI/LnZpZGVvICE9PSB2b2lkIDApIG91dHB1dC52aWRlbyA9IChhPy52aWRlbyA/PyAwKSArIChiPy52aWRlbyA/PyAwKTtcblx0aWYgKGE/LmRvY3VtZW50ICE9PSB2b2lkIDAgfHwgYj8uZG9jdW1lbnQgIT09IHZvaWQgMCkgb3V0cHV0LmRvY3VtZW50ID0gKGE/LmRvY3VtZW50ID8/IDApICsgKGI/LmRvY3VtZW50ID8/IDApO1xuXHRpZiAoYT8udGV4dCAhPT0gdm9pZCAwIHx8IGI/LnRleHQgIT09IHZvaWQgMCkgb3V0cHV0LnRleHQgPSAoYT8udGV4dCA/PyAwKSArIChiPy50ZXh0ID8/IDApO1xuXHRyZXR1cm4gb3V0cHV0O1xufVxuZnVuY3Rpb24gbWVyZ2VJbnB1dFRva2VuRGV0YWlscyhhLCBiKSB7XG5cdGNvbnN0IG91dHB1dCA9IHsgLi4ubWVyZ2VNb2RhbGl0aWVzVG9rZW5EZXRhaWxzKGEsIGIpIH07XG5cdGlmIChhPy5jYWNoZV9yZWFkICE9PSB2b2lkIDAgfHwgYj8uY2FjaGVfcmVhZCAhPT0gdm9pZCAwKSBvdXRwdXQuY2FjaGVfcmVhZCA9IChhPy5jYWNoZV9yZWFkID8/IDApICsgKGI/LmNhY2hlX3JlYWQgPz8gMCk7XG5cdGlmIChhPy5jYWNoZV9jcmVhdGlvbiAhPT0gdm9pZCAwIHx8IGI/LmNhY2hlX2NyZWF0aW9uICE9PSB2b2lkIDApIG91dHB1dC5jYWNoZV9jcmVhdGlvbiA9IChhPy5jYWNoZV9jcmVhdGlvbiA/PyAwKSArIChiPy5jYWNoZV9jcmVhdGlvbiA/PyAwKTtcblx0cmV0dXJuIG91dHB1dDtcbn1cbmZ1bmN0aW9uIG1lcmdlT3V0cHV0VG9rZW5EZXRhaWxzKGEsIGIpIHtcblx0Y29uc3Qgb3V0cHV0ID0geyAuLi5tZXJnZU1vZGFsaXRpZXNUb2tlbkRldGFpbHMoYSwgYikgfTtcblx0aWYgKGE/LnJlYXNvbmluZyAhPT0gdm9pZCAwIHx8IGI/LnJlYXNvbmluZyAhPT0gdm9pZCAwKSBvdXRwdXQucmVhc29uaW5nID0gKGE/LnJlYXNvbmluZyA/PyAwKSArIChiPy5yZWFzb25pbmcgPz8gMCk7XG5cdHJldHVybiBvdXRwdXQ7XG59XG5mdW5jdGlvbiBtZXJnZVVzYWdlTWV0YWRhdGEoYSwgYikge1xuXHRyZXR1cm4ge1xuXHRcdGlucHV0X3Rva2VuczogKGE/LmlucHV0X3Rva2VucyA/PyAwKSArIChiPy5pbnB1dF90b2tlbnMgPz8gMCksXG5cdFx0b3V0cHV0X3Rva2VuczogKGE/Lm91dHB1dF90b2tlbnMgPz8gMCkgKyAoYj8ub3V0cHV0X3Rva2VucyA/PyAwKSxcblx0XHR0b3RhbF90b2tlbnM6IChhPy50b3RhbF90b2tlbnMgPz8gMCkgKyAoYj8udG90YWxfdG9rZW5zID8/IDApLFxuXHRcdGlucHV0X3Rva2VuX2RldGFpbHM6IG1lcmdlSW5wdXRUb2tlbkRldGFpbHMoYT8uaW5wdXRfdG9rZW5fZGV0YWlscywgYj8uaW5wdXRfdG9rZW5fZGV0YWlscyksXG5cdFx0b3V0cHV0X3Rva2VuX2RldGFpbHM6IG1lcmdlT3V0cHV0VG9rZW5EZXRhaWxzKGE/Lm91dHB1dF90b2tlbl9kZXRhaWxzLCBiPy5vdXRwdXRfdG9rZW5fZGV0YWlscylcblx0fTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBtZXJnZVJlc3BvbnNlTWV0YWRhdGEsIG1lcmdlVXNhZ2VNZXRhZGF0YSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWV0YWRhdGEuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/metadata.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/modifier.js":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/modifier.js ***!
  \*********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RemoveMessage: () => (/* binding */ RemoveMessage)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/base.js\");\n\n\n//#region src/messages/modifier.ts\n/**\n* Message responsible for deleting other messages.\n*/\nvar RemoveMessage = class extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseMessage {\n\ttype = \"remove\";\n\t/**\n\t* The ID of the message to remove.\n\t*/\n\tid;\n\tconstructor(fields) {\n\t\tsuper({\n\t\t\t...fields,\n\t\t\tcontent: []\n\t\t});\n\t\tthis.id = fields.id;\n\t}\n\tget _printableFields() {\n\t\treturn {\n\t\t\t...super._printableFields,\n\t\t\tid: this.id\n\t\t};\n\t}\n\tstatic isInstance(obj) {\n\t\treturn super.isInstance(obj) && obj.type === \"remove\";\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=modifier.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9tb2RpZmllci5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUF3Qzs7QUFFeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsaURBQVc7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUN5QjtBQUN6QiIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvbWVzc2FnZXMvbW9kaWZpZXIuanM/YWFiYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYXNlTWVzc2FnZSB9IGZyb20gXCIuL2Jhc2UuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9tZXNzYWdlcy9tb2RpZmllci50c1xuLyoqXG4qIE1lc3NhZ2UgcmVzcG9uc2libGUgZm9yIGRlbGV0aW5nIG90aGVyIG1lc3NhZ2VzLlxuKi9cbnZhciBSZW1vdmVNZXNzYWdlID0gY2xhc3MgZXh0ZW5kcyBCYXNlTWVzc2FnZSB7XG5cdHR5cGUgPSBcInJlbW92ZVwiO1xuXHQvKipcblx0KiBUaGUgSUQgb2YgdGhlIG1lc3NhZ2UgdG8gcmVtb3ZlLlxuXHQqL1xuXHRpZDtcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoe1xuXHRcdFx0Li4uZmllbGRzLFxuXHRcdFx0Y29udGVudDogW11cblx0XHR9KTtcblx0XHR0aGlzLmlkID0gZmllbGRzLmlkO1xuXHR9XG5cdGdldCBfcHJpbnRhYmxlRmllbGRzKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHQuLi5zdXBlci5fcHJpbnRhYmxlRmllbGRzLFxuXHRcdFx0aWQ6IHRoaXMuaWRcblx0XHR9O1xuXHR9XG5cdHN0YXRpYyBpc0luc3RhbmNlKG9iaikge1xuXHRcdHJldHVybiBzdXBlci5pc0luc3RhbmNlKG9iaikgJiYgb2JqLnR5cGUgPT09IFwicmVtb3ZlXCI7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgUmVtb3ZlTWVzc2FnZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bW9kaWZpZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/modifier.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/system.js":
/*!*******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/system.js ***!
  \*******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SystemMessage: () => (/* binding */ SystemMessage),\n/* harmony export */   SystemMessageChunk: () => (/* binding */ SystemMessageChunk),\n/* harmony export */   isSystemMessage: () => (/* binding */ isSystemMessage),\n/* harmony export */   isSystemMessageChunk: () => (/* binding */ isSystemMessageChunk)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/base.js\");\n\n\n//#region src/messages/system.ts\n/**\n* Represents a system message in a conversation.\n*/\nvar SystemMessage = class extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseMessage {\n\tstatic lc_name() {\n\t\treturn \"SystemMessage\";\n\t}\n\ttype = \"system\";\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t}\n\tstatic isInstance(obj) {\n\t\treturn super.isInstance(obj) && obj.type === \"system\";\n\t}\n};\n/**\n* Represents a chunk of a system message, which can be concatenated with\n* other system message chunks.\n*/\nvar SystemMessageChunk = class extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseMessageChunk {\n\tstatic lc_name() {\n\t\treturn \"SystemMessageChunk\";\n\t}\n\ttype = \"system\";\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t}\n\tconcat(chunk) {\n\t\tconst Cls = this.constructor;\n\t\treturn new Cls({\n\t\t\tcontent: (0,_base_js__WEBPACK_IMPORTED_MODULE_0__.mergeContent)(this.content, chunk.content),\n\t\t\tadditional_kwargs: (0,_base_js__WEBPACK_IMPORTED_MODULE_0__._mergeDicts)(this.additional_kwargs, chunk.additional_kwargs),\n\t\t\tresponse_metadata: (0,_base_js__WEBPACK_IMPORTED_MODULE_0__._mergeDicts)(this.response_metadata, chunk.response_metadata),\n\t\t\tid: this.id ?? chunk.id\n\t\t});\n\t}\n\tstatic isInstance(obj) {\n\t\treturn super.isInstance(obj) && obj.type === \"system\";\n\t}\n};\n/**\n* @deprecated Use {@link SystemMessage.isInstance} instead\n*/\nfunction isSystemMessage(x) {\n\treturn x._getType() === \"system\";\n}\n/**\n* @deprecated Use {@link SystemMessageChunk.isInstance} instead\n*/\nfunction isSystemMessageChunk(x) {\n\treturn x._getType() === \"system\";\n}\n\n//#endregion\n\n//# sourceMappingURL=system.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9zeXN0ZW0uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBcUY7O0FBRXJGO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGlEQUFXO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxzREFBZ0I7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHNEQUFZO0FBQ3hCLHNCQUFzQixxREFBVztBQUNqQyxzQkFBc0IscURBQVc7QUFDakM7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGdDQUFnQztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHFDQUFxQztBQUN4RDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNvRjtBQUNwRiIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvbWVzc2FnZXMvc3lzdGVtLmpzP2Q3YzgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzZU1lc3NhZ2UsIEJhc2VNZXNzYWdlQ2h1bmssIF9tZXJnZURpY3RzLCBtZXJnZUNvbnRlbnQgfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvbWVzc2FnZXMvc3lzdGVtLnRzXG4vKipcbiogUmVwcmVzZW50cyBhIHN5c3RlbSBtZXNzYWdlIGluIGEgY29udmVyc2F0aW9uLlxuKi9cbnZhciBTeXN0ZW1NZXNzYWdlID0gY2xhc3MgZXh0ZW5kcyBCYXNlTWVzc2FnZSB7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIlN5c3RlbU1lc3NhZ2VcIjtcblx0fVxuXHR0eXBlID0gXCJzeXN0ZW1cIjtcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0fVxuXHRzdGF0aWMgaXNJbnN0YW5jZShvYmopIHtcblx0XHRyZXR1cm4gc3VwZXIuaXNJbnN0YW5jZShvYmopICYmIG9iai50eXBlID09PSBcInN5c3RlbVwiO1xuXHR9XG59O1xuLyoqXG4qIFJlcHJlc2VudHMgYSBjaHVuayBvZiBhIHN5c3RlbSBtZXNzYWdlLCB3aGljaCBjYW4gYmUgY29uY2F0ZW5hdGVkIHdpdGhcbiogb3RoZXIgc3lzdGVtIG1lc3NhZ2UgY2h1bmtzLlxuKi9cbnZhciBTeXN0ZW1NZXNzYWdlQ2h1bmsgPSBjbGFzcyBleHRlbmRzIEJhc2VNZXNzYWdlQ2h1bmsge1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJTeXN0ZW1NZXNzYWdlQ2h1bmtcIjtcblx0fVxuXHR0eXBlID0gXCJzeXN0ZW1cIjtcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0fVxuXHRjb25jYXQoY2h1bmspIHtcblx0XHRjb25zdCBDbHMgPSB0aGlzLmNvbnN0cnVjdG9yO1xuXHRcdHJldHVybiBuZXcgQ2xzKHtcblx0XHRcdGNvbnRlbnQ6IG1lcmdlQ29udGVudCh0aGlzLmNvbnRlbnQsIGNodW5rLmNvbnRlbnQpLFxuXHRcdFx0YWRkaXRpb25hbF9rd2FyZ3M6IF9tZXJnZURpY3RzKHRoaXMuYWRkaXRpb25hbF9rd2FyZ3MsIGNodW5rLmFkZGl0aW9uYWxfa3dhcmdzKSxcblx0XHRcdHJlc3BvbnNlX21ldGFkYXRhOiBfbWVyZ2VEaWN0cyh0aGlzLnJlc3BvbnNlX21ldGFkYXRhLCBjaHVuay5yZXNwb25zZV9tZXRhZGF0YSksXG5cdFx0XHRpZDogdGhpcy5pZCA/PyBjaHVuay5pZFxuXHRcdH0pO1xuXHR9XG5cdHN0YXRpYyBpc0luc3RhbmNlKG9iaikge1xuXHRcdHJldHVybiBzdXBlci5pc0luc3RhbmNlKG9iaikgJiYgb2JqLnR5cGUgPT09IFwic3lzdGVtXCI7XG5cdH1cbn07XG4vKipcbiogQGRlcHJlY2F0ZWQgVXNlIHtAbGluayBTeXN0ZW1NZXNzYWdlLmlzSW5zdGFuY2V9IGluc3RlYWRcbiovXG5mdW5jdGlvbiBpc1N5c3RlbU1lc3NhZ2UoeCkge1xuXHRyZXR1cm4geC5fZ2V0VHlwZSgpID09PSBcInN5c3RlbVwiO1xufVxuLyoqXG4qIEBkZXByZWNhdGVkIFVzZSB7QGxpbmsgU3lzdGVtTWVzc2FnZUNodW5rLmlzSW5zdGFuY2V9IGluc3RlYWRcbiovXG5mdW5jdGlvbiBpc1N5c3RlbU1lc3NhZ2VDaHVuayh4KSB7XG5cdHJldHVybiB4Ll9nZXRUeXBlKCkgPT09IFwic3lzdGVtXCI7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgU3lzdGVtTWVzc2FnZSwgU3lzdGVtTWVzc2FnZUNodW5rLCBpc1N5c3RlbU1lc3NhZ2UsIGlzU3lzdGVtTWVzc2FnZUNodW5rIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zeXN0ZW0uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/system.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/tool.js":
/*!*****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/tool.js ***!
  \*****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ToolMessage: () => (/* binding */ ToolMessage),\n/* harmony export */   ToolMessageChunk: () => (/* binding */ ToolMessageChunk),\n/* harmony export */   defaultToolCallParser: () => (/* binding */ defaultToolCallParser),\n/* harmony export */   isDirectToolOutput: () => (/* binding */ isDirectToolOutput),\n/* harmony export */   isToolMessage: () => (/* binding */ isToolMessage),\n/* harmony export */   isToolMessageChunk: () => (/* binding */ isToolMessageChunk),\n/* harmony export */   tool_exports: () => (/* binding */ tool_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/base.js\");\n\n\n\n//#region src/messages/tool.ts\nvar tool_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(tool_exports, {\n\tToolMessage: () => ToolMessage,\n\tToolMessageChunk: () => ToolMessageChunk,\n\tdefaultToolCallParser: () => defaultToolCallParser,\n\tisDirectToolOutput: () => isDirectToolOutput,\n\tisToolMessage: () => isToolMessage,\n\tisToolMessageChunk: () => isToolMessageChunk\n});\nfunction isDirectToolOutput(x) {\n\treturn x != null && typeof x === \"object\" && \"lc_direct_tool_output\" in x && x.lc_direct_tool_output === true;\n}\n/**\n* Represents a tool message in a conversation.\n*/\nvar ToolMessage = class extends _base_js__WEBPACK_IMPORTED_MODULE_1__.BaseMessage {\n\tstatic lc_name() {\n\t\treturn \"ToolMessage\";\n\t}\n\tget lc_aliases() {\n\t\treturn { tool_call_id: \"tool_call_id\" };\n\t}\n\tlc_direct_tool_output = true;\n\ttype = \"tool\";\n\t/**\n\t* Status of the tool invocation.\n\t* @version 0.2.19\n\t*/\n\tstatus;\n\ttool_call_id;\n\tmetadata;\n\t/**\n\t* Artifact of the Tool execution which is not meant to be sent to the model.\n\t*\n\t* Should only be specified if it is different from the message content, e.g. if only\n\t* a subset of the full tool output is being passed as message content but the full\n\t* output is needed in other parts of the code.\n\t*/\n\tartifact;\n\tconstructor(fields, tool_call_id, name) {\n\t\tconst toolMessageFields = typeof fields === \"string\" || Array.isArray(fields) ? {\n\t\t\tcontent: fields,\n\t\t\tname,\n\t\t\ttool_call_id\n\t\t} : fields;\n\t\tsuper(toolMessageFields);\n\t\tthis.tool_call_id = toolMessageFields.tool_call_id;\n\t\tthis.artifact = toolMessageFields.artifact;\n\t\tthis.status = toolMessageFields.status;\n\t\tthis.metadata = toolMessageFields.metadata;\n\t}\n\tstatic isInstance(message) {\n\t\treturn super.isInstance(message) && message.type === \"tool\";\n\t}\n\tget _printableFields() {\n\t\treturn {\n\t\t\t...super._printableFields,\n\t\t\ttool_call_id: this.tool_call_id,\n\t\t\tartifact: this.artifact\n\t\t};\n\t}\n};\n/**\n* Represents a chunk of a tool message, which can be concatenated\n* with other tool message chunks.\n*/\nvar ToolMessageChunk = class extends _base_js__WEBPACK_IMPORTED_MODULE_1__.BaseMessageChunk {\n\ttype = \"tool\";\n\ttool_call_id;\n\t/**\n\t* Status of the tool invocation.\n\t* @version 0.2.19\n\t*/\n\tstatus;\n\t/**\n\t* Artifact of the Tool execution which is not meant to be sent to the model.\n\t*\n\t* Should only be specified if it is different from the message content, e.g. if only\n\t* a subset of the full tool output is being passed as message content but the full\n\t* output is needed in other parts of the code.\n\t*/\n\tartifact;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.tool_call_id = fields.tool_call_id;\n\t\tthis.artifact = fields.artifact;\n\t\tthis.status = fields.status;\n\t}\n\tstatic lc_name() {\n\t\treturn \"ToolMessageChunk\";\n\t}\n\tconcat(chunk) {\n\t\tconst Cls = this.constructor;\n\t\treturn new Cls({\n\t\t\tcontent: (0,_base_js__WEBPACK_IMPORTED_MODULE_1__.mergeContent)(this.content, chunk.content),\n\t\t\tadditional_kwargs: (0,_base_js__WEBPACK_IMPORTED_MODULE_1__._mergeDicts)(this.additional_kwargs, chunk.additional_kwargs),\n\t\t\tresponse_metadata: (0,_base_js__WEBPACK_IMPORTED_MODULE_1__._mergeDicts)(this.response_metadata, chunk.response_metadata),\n\t\t\tartifact: (0,_base_js__WEBPACK_IMPORTED_MODULE_1__._mergeObj)(this.artifact, chunk.artifact),\n\t\t\ttool_call_id: this.tool_call_id,\n\t\t\tid: this.id ?? chunk.id,\n\t\t\tstatus: (0,_base_js__WEBPACK_IMPORTED_MODULE_1__._mergeStatus)(this.status, chunk.status)\n\t\t});\n\t}\n\tget _printableFields() {\n\t\treturn {\n\t\t\t...super._printableFields,\n\t\t\ttool_call_id: this.tool_call_id,\n\t\t\tartifact: this.artifact\n\t\t};\n\t}\n};\nfunction defaultToolCallParser(rawToolCalls) {\n\tconst toolCalls = [];\n\tconst invalidToolCalls = [];\n\tfor (const toolCall of rawToolCalls) if (!toolCall.function) continue;\n\telse {\n\t\tconst functionName = toolCall.function.name;\n\t\ttry {\n\t\t\tconst functionArgs = JSON.parse(toolCall.function.arguments);\n\t\t\ttoolCalls.push({\n\t\t\t\tname: functionName || \"\",\n\t\t\t\targs: functionArgs || {},\n\t\t\t\tid: toolCall.id\n\t\t\t});\n\t\t} catch {\n\t\t\tinvalidToolCalls.push({\n\t\t\t\tname: functionName,\n\t\t\t\targs: toolCall.function.arguments,\n\t\t\t\tid: toolCall.id,\n\t\t\t\terror: \"Malformed args.\"\n\t\t\t});\n\t\t}\n\t}\n\treturn [toolCalls, invalidToolCalls];\n}\n/**\n* @deprecated Use {@link ToolMessage.isInstance} instead\n*/\nfunction isToolMessage(x) {\n\treturn typeof x === \"object\" && x !== null && \"getType\" in x && typeof x.getType === \"function\" && x.getType() === \"tool\";\n}\n/**\n* @deprecated Use {@link ToolMessageChunk.isInstance} instead\n*/\nfunction isToolMessageChunk(x) {\n\treturn x._getType() === \"tool\";\n}\n\n//#endregion\n\n//# sourceMappingURL=tool.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy90b29sLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUEyRDtBQUNtRDs7QUFFOUc7QUFDQTtBQUNBLHNFQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxpREFBVztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxzREFBZ0I7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxzREFBWTtBQUN4QixzQkFBc0IscURBQVc7QUFDakMsc0JBQXNCLHFEQUFXO0FBQ2pDLGFBQWEsbURBQVM7QUFDdEI7QUFDQTtBQUNBLFdBQVcsc0RBQVk7QUFDdkIsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0EsSUFBSTtBQUNKLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsOEJBQThCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsbUNBQW1DO0FBQ3REO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3FJO0FBQ3JJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy90b29sLmpzP2VmOWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19leHBvcnQgfSBmcm9tIFwiLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5qc1wiO1xuaW1wb3J0IHsgQmFzZU1lc3NhZ2UsIEJhc2VNZXNzYWdlQ2h1bmssIF9tZXJnZURpY3RzLCBfbWVyZ2VPYmosIF9tZXJnZVN0YXR1cywgbWVyZ2VDb250ZW50IH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL21lc3NhZ2VzL3Rvb2wudHNcbnZhciB0b29sX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KHRvb2xfZXhwb3J0cywge1xuXHRUb29sTWVzc2FnZTogKCkgPT4gVG9vbE1lc3NhZ2UsXG5cdFRvb2xNZXNzYWdlQ2h1bms6ICgpID0+IFRvb2xNZXNzYWdlQ2h1bmssXG5cdGRlZmF1bHRUb29sQ2FsbFBhcnNlcjogKCkgPT4gZGVmYXVsdFRvb2xDYWxsUGFyc2VyLFxuXHRpc0RpcmVjdFRvb2xPdXRwdXQ6ICgpID0+IGlzRGlyZWN0VG9vbE91dHB1dCxcblx0aXNUb29sTWVzc2FnZTogKCkgPT4gaXNUb29sTWVzc2FnZSxcblx0aXNUb29sTWVzc2FnZUNodW5rOiAoKSA9PiBpc1Rvb2xNZXNzYWdlQ2h1bmtcbn0pO1xuZnVuY3Rpb24gaXNEaXJlY3RUb29sT3V0cHV0KHgpIHtcblx0cmV0dXJuIHggIT0gbnVsbCAmJiB0eXBlb2YgeCA9PT0gXCJvYmplY3RcIiAmJiBcImxjX2RpcmVjdF90b29sX291dHB1dFwiIGluIHggJiYgeC5sY19kaXJlY3RfdG9vbF9vdXRwdXQgPT09IHRydWU7XG59XG4vKipcbiogUmVwcmVzZW50cyBhIHRvb2wgbWVzc2FnZSBpbiBhIGNvbnZlcnNhdGlvbi5cbiovXG52YXIgVG9vbE1lc3NhZ2UgPSBjbGFzcyBleHRlbmRzIEJhc2VNZXNzYWdlIHtcblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiVG9vbE1lc3NhZ2VcIjtcblx0fVxuXHRnZXQgbGNfYWxpYXNlcygpIHtcblx0XHRyZXR1cm4geyB0b29sX2NhbGxfaWQ6IFwidG9vbF9jYWxsX2lkXCIgfTtcblx0fVxuXHRsY19kaXJlY3RfdG9vbF9vdXRwdXQgPSB0cnVlO1xuXHR0eXBlID0gXCJ0b29sXCI7XG5cdC8qKlxuXHQqIFN0YXR1cyBvZiB0aGUgdG9vbCBpbnZvY2F0aW9uLlxuXHQqIEB2ZXJzaW9uIDAuMi4xOVxuXHQqL1xuXHRzdGF0dXM7XG5cdHRvb2xfY2FsbF9pZDtcblx0bWV0YWRhdGE7XG5cdC8qKlxuXHQqIEFydGlmYWN0IG9mIHRoZSBUb29sIGV4ZWN1dGlvbiB3aGljaCBpcyBub3QgbWVhbnQgdG8gYmUgc2VudCB0byB0aGUgbW9kZWwuXG5cdCpcblx0KiBTaG91bGQgb25seSBiZSBzcGVjaWZpZWQgaWYgaXQgaXMgZGlmZmVyZW50IGZyb20gdGhlIG1lc3NhZ2UgY29udGVudCwgZS5nLiBpZiBvbmx5XG5cdCogYSBzdWJzZXQgb2YgdGhlIGZ1bGwgdG9vbCBvdXRwdXQgaXMgYmVpbmcgcGFzc2VkIGFzIG1lc3NhZ2UgY29udGVudCBidXQgdGhlIGZ1bGxcblx0KiBvdXRwdXQgaXMgbmVlZGVkIGluIG90aGVyIHBhcnRzIG9mIHRoZSBjb2RlLlxuXHQqL1xuXHRhcnRpZmFjdDtcblx0Y29uc3RydWN0b3IoZmllbGRzLCB0b29sX2NhbGxfaWQsIG5hbWUpIHtcblx0XHRjb25zdCB0b29sTWVzc2FnZUZpZWxkcyA9IHR5cGVvZiBmaWVsZHMgPT09IFwic3RyaW5nXCIgfHwgQXJyYXkuaXNBcnJheShmaWVsZHMpID8ge1xuXHRcdFx0Y29udGVudDogZmllbGRzLFxuXHRcdFx0bmFtZSxcblx0XHRcdHRvb2xfY2FsbF9pZFxuXHRcdH0gOiBmaWVsZHM7XG5cdFx0c3VwZXIodG9vbE1lc3NhZ2VGaWVsZHMpO1xuXHRcdHRoaXMudG9vbF9jYWxsX2lkID0gdG9vbE1lc3NhZ2VGaWVsZHMudG9vbF9jYWxsX2lkO1xuXHRcdHRoaXMuYXJ0aWZhY3QgPSB0b29sTWVzc2FnZUZpZWxkcy5hcnRpZmFjdDtcblx0XHR0aGlzLnN0YXR1cyA9IHRvb2xNZXNzYWdlRmllbGRzLnN0YXR1cztcblx0XHR0aGlzLm1ldGFkYXRhID0gdG9vbE1lc3NhZ2VGaWVsZHMubWV0YWRhdGE7XG5cdH1cblx0c3RhdGljIGlzSW5zdGFuY2UobWVzc2FnZSkge1xuXHRcdHJldHVybiBzdXBlci5pc0luc3RhbmNlKG1lc3NhZ2UpICYmIG1lc3NhZ2UudHlwZSA9PT0gXCJ0b29sXCI7XG5cdH1cblx0Z2V0IF9wcmludGFibGVGaWVsZHMoKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdC4uLnN1cGVyLl9wcmludGFibGVGaWVsZHMsXG5cdFx0XHR0b29sX2NhbGxfaWQ6IHRoaXMudG9vbF9jYWxsX2lkLFxuXHRcdFx0YXJ0aWZhY3Q6IHRoaXMuYXJ0aWZhY3Rcblx0XHR9O1xuXHR9XG59O1xuLyoqXG4qIFJlcHJlc2VudHMgYSBjaHVuayBvZiBhIHRvb2wgbWVzc2FnZSwgd2hpY2ggY2FuIGJlIGNvbmNhdGVuYXRlZFxuKiB3aXRoIG90aGVyIHRvb2wgbWVzc2FnZSBjaHVua3MuXG4qL1xudmFyIFRvb2xNZXNzYWdlQ2h1bmsgPSBjbGFzcyBleHRlbmRzIEJhc2VNZXNzYWdlQ2h1bmsge1xuXHR0eXBlID0gXCJ0b29sXCI7XG5cdHRvb2xfY2FsbF9pZDtcblx0LyoqXG5cdCogU3RhdHVzIG9mIHRoZSB0b29sIGludm9jYXRpb24uXG5cdCogQHZlcnNpb24gMC4yLjE5XG5cdCovXG5cdHN0YXR1cztcblx0LyoqXG5cdCogQXJ0aWZhY3Qgb2YgdGhlIFRvb2wgZXhlY3V0aW9uIHdoaWNoIGlzIG5vdCBtZWFudCB0byBiZSBzZW50IHRvIHRoZSBtb2RlbC5cblx0KlxuXHQqIFNob3VsZCBvbmx5IGJlIHNwZWNpZmllZCBpZiBpdCBpcyBkaWZmZXJlbnQgZnJvbSB0aGUgbWVzc2FnZSBjb250ZW50LCBlLmcuIGlmIG9ubHlcblx0KiBhIHN1YnNldCBvZiB0aGUgZnVsbCB0b29sIG91dHB1dCBpcyBiZWluZyBwYXNzZWQgYXMgbWVzc2FnZSBjb250ZW50IGJ1dCB0aGUgZnVsbFxuXHQqIG91dHB1dCBpcyBuZWVkZWQgaW4gb3RoZXIgcGFydHMgb2YgdGhlIGNvZGUuXG5cdCovXG5cdGFydGlmYWN0O1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRzdXBlcihmaWVsZHMpO1xuXHRcdHRoaXMudG9vbF9jYWxsX2lkID0gZmllbGRzLnRvb2xfY2FsbF9pZDtcblx0XHR0aGlzLmFydGlmYWN0ID0gZmllbGRzLmFydGlmYWN0O1xuXHRcdHRoaXMuc3RhdHVzID0gZmllbGRzLnN0YXR1cztcblx0fVxuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJUb29sTWVzc2FnZUNodW5rXCI7XG5cdH1cblx0Y29uY2F0KGNodW5rKSB7XG5cdFx0Y29uc3QgQ2xzID0gdGhpcy5jb25zdHJ1Y3Rvcjtcblx0XHRyZXR1cm4gbmV3IENscyh7XG5cdFx0XHRjb250ZW50OiBtZXJnZUNvbnRlbnQodGhpcy5jb250ZW50LCBjaHVuay5jb250ZW50KSxcblx0XHRcdGFkZGl0aW9uYWxfa3dhcmdzOiBfbWVyZ2VEaWN0cyh0aGlzLmFkZGl0aW9uYWxfa3dhcmdzLCBjaHVuay5hZGRpdGlvbmFsX2t3YXJncyksXG5cdFx0XHRyZXNwb25zZV9tZXRhZGF0YTogX21lcmdlRGljdHModGhpcy5yZXNwb25zZV9tZXRhZGF0YSwgY2h1bmsucmVzcG9uc2VfbWV0YWRhdGEpLFxuXHRcdFx0YXJ0aWZhY3Q6IF9tZXJnZU9iaih0aGlzLmFydGlmYWN0LCBjaHVuay5hcnRpZmFjdCksXG5cdFx0XHR0b29sX2NhbGxfaWQ6IHRoaXMudG9vbF9jYWxsX2lkLFxuXHRcdFx0aWQ6IHRoaXMuaWQgPz8gY2h1bmsuaWQsXG5cdFx0XHRzdGF0dXM6IF9tZXJnZVN0YXR1cyh0aGlzLnN0YXR1cywgY2h1bmsuc3RhdHVzKVxuXHRcdH0pO1xuXHR9XG5cdGdldCBfcHJpbnRhYmxlRmllbGRzKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHQuLi5zdXBlci5fcHJpbnRhYmxlRmllbGRzLFxuXHRcdFx0dG9vbF9jYWxsX2lkOiB0aGlzLnRvb2xfY2FsbF9pZCxcblx0XHRcdGFydGlmYWN0OiB0aGlzLmFydGlmYWN0XG5cdFx0fTtcblx0fVxufTtcbmZ1bmN0aW9uIGRlZmF1bHRUb29sQ2FsbFBhcnNlcihyYXdUb29sQ2FsbHMpIHtcblx0Y29uc3QgdG9vbENhbGxzID0gW107XG5cdGNvbnN0IGludmFsaWRUb29sQ2FsbHMgPSBbXTtcblx0Zm9yIChjb25zdCB0b29sQ2FsbCBvZiByYXdUb29sQ2FsbHMpIGlmICghdG9vbENhbGwuZnVuY3Rpb24pIGNvbnRpbnVlO1xuXHRlbHNlIHtcblx0XHRjb25zdCBmdW5jdGlvbk5hbWUgPSB0b29sQ2FsbC5mdW5jdGlvbi5uYW1lO1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBmdW5jdGlvbkFyZ3MgPSBKU09OLnBhcnNlKHRvb2xDYWxsLmZ1bmN0aW9uLmFyZ3VtZW50cyk7XG5cdFx0XHR0b29sQ2FsbHMucHVzaCh7XG5cdFx0XHRcdG5hbWU6IGZ1bmN0aW9uTmFtZSB8fCBcIlwiLFxuXHRcdFx0XHRhcmdzOiBmdW5jdGlvbkFyZ3MgfHwge30sXG5cdFx0XHRcdGlkOiB0b29sQ2FsbC5pZFxuXHRcdFx0fSk7XG5cdFx0fSBjYXRjaCB7XG5cdFx0XHRpbnZhbGlkVG9vbENhbGxzLnB1c2goe1xuXHRcdFx0XHRuYW1lOiBmdW5jdGlvbk5hbWUsXG5cdFx0XHRcdGFyZ3M6IHRvb2xDYWxsLmZ1bmN0aW9uLmFyZ3VtZW50cyxcblx0XHRcdFx0aWQ6IHRvb2xDYWxsLmlkLFxuXHRcdFx0XHRlcnJvcjogXCJNYWxmb3JtZWQgYXJncy5cIlxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBbdG9vbENhbGxzLCBpbnZhbGlkVG9vbENhbGxzXTtcbn1cbi8qKlxuKiBAZGVwcmVjYXRlZCBVc2Uge0BsaW5rIFRvb2xNZXNzYWdlLmlzSW5zdGFuY2V9IGluc3RlYWRcbiovXG5mdW5jdGlvbiBpc1Rvb2xNZXNzYWdlKHgpIHtcblx0cmV0dXJuIHR5cGVvZiB4ID09PSBcIm9iamVjdFwiICYmIHggIT09IG51bGwgJiYgXCJnZXRUeXBlXCIgaW4geCAmJiB0eXBlb2YgeC5nZXRUeXBlID09PSBcImZ1bmN0aW9uXCIgJiYgeC5nZXRUeXBlKCkgPT09IFwidG9vbFwiO1xufVxuLyoqXG4qIEBkZXByZWNhdGVkIFVzZSB7QGxpbmsgVG9vbE1lc3NhZ2VDaHVuay5pc0luc3RhbmNlfSBpbnN0ZWFkXG4qL1xuZnVuY3Rpb24gaXNUb29sTWVzc2FnZUNodW5rKHgpIHtcblx0cmV0dXJuIHguX2dldFR5cGUoKSA9PT0gXCJ0b29sXCI7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgVG9vbE1lc3NhZ2UsIFRvb2xNZXNzYWdlQ2h1bmssIGRlZmF1bHRUb29sQ2FsbFBhcnNlciwgaXNEaXJlY3RUb29sT3V0cHV0LCBpc1Rvb2xNZXNzYWdlLCBpc1Rvb2xNZXNzYWdlQ2h1bmssIHRvb2xfZXhwb3J0cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dG9vbC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/tool.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/transformers.js":
/*!*************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/transformers.js ***!
  \*************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   defaultTextSplitter: () => (/* binding */ defaultTextSplitter),\n/* harmony export */   filterMessages: () => (/* binding */ filterMessages),\n/* harmony export */   mergeMessageRuns: () => (/* binding */ mergeMessageRuns),\n/* harmony export */   trimMessages: () => (/* binding */ trimMessages)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/base.js\");\n/* harmony import */ var _tool_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./tool.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/tool.js\");\n/* harmony import */ var _ai_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ai.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/ai.js\");\n/* harmony import */ var _chat_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chat.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/chat.js\");\n/* harmony import */ var _function_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./function.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/function.js\");\n/* harmony import */ var _human_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./human.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/human.js\");\n/* harmony import */ var _system_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./system.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/system.js\");\n/* harmony import */ var _modifier_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./modifier.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/modifier.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/utils.js\");\n/* harmony import */ var _runnables_base_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../runnables/base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/base.js\");\n\n\n\n\n\n\n\n\n\n\n\n//#region src/messages/transformers.ts\nconst _isMessageType = (msg, types) => {\n\tconst typesAsStrings = [...new Set(types?.map((t) => {\n\t\tif (typeof t === \"string\") return t;\n\t\tconst instantiatedMsgClass = new t({});\n\t\tif (!(\"getType\" in instantiatedMsgClass) || typeof instantiatedMsgClass.getType !== \"function\") throw new Error(\"Invalid type provided.\");\n\t\treturn instantiatedMsgClass.getType();\n\t}))];\n\tconst msgType = msg.getType();\n\treturn typesAsStrings.some((t) => t === msgType);\n};\nfunction filterMessages(messagesOrOptions, options) {\n\tif (Array.isArray(messagesOrOptions)) return _filterMessages(messagesOrOptions, options);\n\treturn _runnables_base_js__WEBPACK_IMPORTED_MODULE_9__.RunnableLambda.from((input) => {\n\t\treturn _filterMessages(input, messagesOrOptions);\n\t});\n}\nfunction _filterMessages(messages, options = {}) {\n\tconst { includeNames, excludeNames, includeTypes, excludeTypes, includeIds, excludeIds } = options;\n\tconst filtered = [];\n\tfor (const msg of messages) {\n\t\tif (excludeNames && msg.name && excludeNames.includes(msg.name)) continue;\n\t\telse if (excludeTypes && _isMessageType(msg, excludeTypes)) continue;\n\t\telse if (excludeIds && msg.id && excludeIds.includes(msg.id)) continue;\n\t\tif (!(includeTypes || includeIds || includeNames)) filtered.push(msg);\n\t\telse if (includeNames && msg.name && includeNames.some((iName) => iName === msg.name)) filtered.push(msg);\n\t\telse if (includeTypes && _isMessageType(msg, includeTypes)) filtered.push(msg);\n\t\telse if (includeIds && msg.id && includeIds.some((id) => id === msg.id)) filtered.push(msg);\n\t}\n\treturn filtered;\n}\nfunction mergeMessageRuns(messages) {\n\tif (Array.isArray(messages)) return _mergeMessageRuns(messages);\n\treturn _runnables_base_js__WEBPACK_IMPORTED_MODULE_9__.RunnableLambda.from(_mergeMessageRuns);\n}\nfunction _mergeMessageRuns(messages) {\n\tif (!messages.length) return [];\n\tconst merged = [];\n\tfor (const msg of messages) {\n\t\tconst curr = msg;\n\t\tconst last = merged.pop();\n\t\tif (!last) merged.push(curr);\n\t\telse if (curr.getType() === \"tool\" || !(curr.getType() === last.getType())) merged.push(last, curr);\n\t\telse {\n\t\t\tconst lastChunk = (0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.convertToChunk)(last);\n\t\t\tconst currChunk = (0,_utils_js__WEBPACK_IMPORTED_MODULE_8__.convertToChunk)(curr);\n\t\t\tconst mergedChunks = lastChunk.concat(currChunk);\n\t\t\tif (typeof lastChunk.content === \"string\" && typeof currChunk.content === \"string\") mergedChunks.content = `${lastChunk.content}\\n${currChunk.content}`;\n\t\t\tmerged.push(_chunkToMsg(mergedChunks));\n\t\t}\n\t}\n\treturn merged;\n}\nfunction trimMessages(messagesOrOptions, options) {\n\tif (Array.isArray(messagesOrOptions)) {\n\t\tconst messages = messagesOrOptions;\n\t\tif (!options) throw new Error(\"Options parameter is required when providing messages.\");\n\t\treturn _trimMessagesHelper(messages, options);\n\t} else {\n\t\tconst trimmerOptions = messagesOrOptions;\n\t\treturn _runnables_base_js__WEBPACK_IMPORTED_MODULE_9__.RunnableLambda.from((input) => _trimMessagesHelper(input, trimmerOptions)).withConfig({ runName: \"trim_messages\" });\n\t}\n}\nasync function _trimMessagesHelper(messages, options) {\n\tconst { maxTokens, tokenCounter, strategy = \"last\", allowPartial = false, endOn, startOn, includeSystem = false, textSplitter } = options;\n\tif (startOn && strategy === \"first\") throw new Error(\"`startOn` should only be specified if `strategy` is 'last'.\");\n\tif (includeSystem && strategy === \"first\") throw new Error(\"`includeSystem` should only be specified if `strategy` is 'last'.\");\n\tlet listTokenCounter;\n\tif (\"getNumTokens\" in tokenCounter) listTokenCounter = async (msgs) => {\n\t\tconst tokenCounts = await Promise.all(msgs.map((msg) => tokenCounter.getNumTokens(msg.content)));\n\t\treturn tokenCounts.reduce((sum, count) => sum + count, 0);\n\t};\n\telse listTokenCounter = async (msgs) => tokenCounter(msgs);\n\tlet textSplitterFunc = defaultTextSplitter;\n\tif (textSplitter) if (\"splitText\" in textSplitter) textSplitterFunc = textSplitter.splitText;\n\telse textSplitterFunc = async (text) => textSplitter(text);\n\tif (strategy === \"first\") return _firstMaxTokens(messages, {\n\t\tmaxTokens,\n\t\ttokenCounter: listTokenCounter,\n\t\ttextSplitter: textSplitterFunc,\n\t\tpartialStrategy: allowPartial ? \"first\" : void 0,\n\t\tendOn\n\t});\n\telse if (strategy === \"last\") return _lastMaxTokens(messages, {\n\t\tmaxTokens,\n\t\ttokenCounter: listTokenCounter,\n\t\ttextSplitter: textSplitterFunc,\n\t\tallowPartial,\n\t\tincludeSystem,\n\t\tstartOn,\n\t\tendOn\n\t});\n\telse throw new Error(`Unrecognized strategy: '${strategy}'. Must be one of 'first' or 'last'.`);\n}\nasync function _firstMaxTokens(messages, options) {\n\tconst { maxTokens, tokenCounter, textSplitter, partialStrategy, endOn } = options;\n\tlet messagesCopy = [...messages];\n\tlet idx = 0;\n\tfor (let i = 0; i < messagesCopy.length; i += 1) {\n\t\tconst remainingMessages = i > 0 ? messagesCopy.slice(0, -i) : messagesCopy;\n\t\tif (await tokenCounter(remainingMessages) <= maxTokens) {\n\t\t\tidx = messagesCopy.length - i;\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (idx < messagesCopy.length && partialStrategy) {\n\t\tlet includedPartial = false;\n\t\tif (Array.isArray(messagesCopy[idx].content)) {\n\t\t\tconst excluded = messagesCopy[idx];\n\t\t\tif (typeof excluded.content === \"string\") throw new Error(\"Expected content to be an array.\");\n\t\t\tconst numBlock = excluded.content.length;\n\t\t\tconst reversedContent = partialStrategy === \"last\" ? [...excluded.content].reverse() : excluded.content;\n\t\t\tfor (let i = 1; i <= numBlock; i += 1) {\n\t\t\t\tconst partialContent = partialStrategy === \"first\" ? reversedContent.slice(0, i) : reversedContent.slice(-i);\n\t\t\t\tconst fields = Object.fromEntries(Object.entries(excluded).filter(([k]) => k !== \"type\" && !k.startsWith(\"lc_\")));\n\t\t\t\tconst updatedMessage = _switchTypeToMessage(excluded.getType(), {\n\t\t\t\t\t...fields,\n\t\t\t\t\tcontent: partialContent\n\t\t\t\t});\n\t\t\t\tconst slicedMessages = [...messagesCopy.slice(0, idx), updatedMessage];\n\t\t\t\tif (await tokenCounter(slicedMessages) <= maxTokens) {\n\t\t\t\t\tmessagesCopy = slicedMessages;\n\t\t\t\t\tidx += 1;\n\t\t\t\t\tincludedPartial = true;\n\t\t\t\t} else break;\n\t\t\t}\n\t\t\tif (includedPartial && partialStrategy === \"last\") excluded.content = [...reversedContent].reverse();\n\t\t}\n\t\tif (!includedPartial) {\n\t\t\tconst excluded = messagesCopy[idx];\n\t\t\tlet text;\n\t\t\tif (Array.isArray(excluded.content) && excluded.content.some((block) => typeof block === \"string\" || block.type === \"text\")) {\n\t\t\t\tconst textBlock = excluded.content.find((block) => block.type === \"text\" && block.text);\n\t\t\t\ttext = textBlock?.text;\n\t\t\t} else if (typeof excluded.content === \"string\") text = excluded.content;\n\t\t\tif (text) {\n\t\t\t\tconst splitTexts = await textSplitter(text);\n\t\t\t\tconst numSplits = splitTexts.length;\n\t\t\t\tif (partialStrategy === \"last\") splitTexts.reverse();\n\t\t\t\tfor (let _ = 0; _ < numSplits - 1; _ += 1) {\n\t\t\t\t\tsplitTexts.pop();\n\t\t\t\t\texcluded.content = splitTexts.join(\"\");\n\t\t\t\t\tif (await tokenCounter([...messagesCopy.slice(0, idx), excluded]) <= maxTokens) {\n\t\t\t\t\t\tif (partialStrategy === \"last\") excluded.content = [...splitTexts].reverse().join(\"\");\n\t\t\t\t\t\tmessagesCopy = [...messagesCopy.slice(0, idx), excluded];\n\t\t\t\t\t\tidx += 1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tif (endOn) {\n\t\tconst endOnArr = Array.isArray(endOn) ? endOn : [endOn];\n\t\twhile (idx > 0 && !_isMessageType(messagesCopy[idx - 1], endOnArr)) idx -= 1;\n\t}\n\treturn messagesCopy.slice(0, idx);\n}\nasync function _lastMaxTokens(messages, options) {\n\tconst { allowPartial = false, includeSystem = false, endOn, startOn,...rest } = options;\n\tlet messagesCopy = messages.map((message) => {\n\t\tconst fields = Object.fromEntries(Object.entries(message).filter(([k]) => k !== \"type\" && !k.startsWith(\"lc_\")));\n\t\treturn _switchTypeToMessage(message.getType(), fields, (0,_base_js__WEBPACK_IMPORTED_MODULE_0__.isBaseMessageChunk)(message));\n\t});\n\tif (endOn) {\n\t\tconst endOnArr = Array.isArray(endOn) ? endOn : [endOn];\n\t\twhile (messagesCopy.length > 0 && !_isMessageType(messagesCopy[messagesCopy.length - 1], endOnArr)) messagesCopy = messagesCopy.slice(0, -1);\n\t}\n\tconst swappedSystem = includeSystem && messagesCopy[0]?.getType() === \"system\";\n\tlet reversed_ = swappedSystem ? messagesCopy.slice(0, 1).concat(messagesCopy.slice(1).reverse()) : messagesCopy.reverse();\n\treversed_ = await _firstMaxTokens(reversed_, {\n\t\t...rest,\n\t\tpartialStrategy: allowPartial ? \"last\" : void 0,\n\t\tendOn: startOn\n\t});\n\tif (swappedSystem) return [reversed_[0], ...reversed_.slice(1).reverse()];\n\telse return reversed_.reverse();\n}\nconst _MSG_CHUNK_MAP = {\n\thuman: {\n\t\tmessage: _human_js__WEBPACK_IMPORTED_MODULE_5__.HumanMessage,\n\t\tmessageChunk: _human_js__WEBPACK_IMPORTED_MODULE_5__.HumanMessageChunk\n\t},\n\tai: {\n\t\tmessage: _ai_js__WEBPACK_IMPORTED_MODULE_2__.AIMessage,\n\t\tmessageChunk: _ai_js__WEBPACK_IMPORTED_MODULE_2__.AIMessageChunk\n\t},\n\tsystem: {\n\t\tmessage: _system_js__WEBPACK_IMPORTED_MODULE_6__.SystemMessage,\n\t\tmessageChunk: _system_js__WEBPACK_IMPORTED_MODULE_6__.SystemMessageChunk\n\t},\n\tdeveloper: {\n\t\tmessage: _system_js__WEBPACK_IMPORTED_MODULE_6__.SystemMessage,\n\t\tmessageChunk: _system_js__WEBPACK_IMPORTED_MODULE_6__.SystemMessageChunk\n\t},\n\ttool: {\n\t\tmessage: _tool_js__WEBPACK_IMPORTED_MODULE_1__.ToolMessage,\n\t\tmessageChunk: _tool_js__WEBPACK_IMPORTED_MODULE_1__.ToolMessageChunk\n\t},\n\tfunction: {\n\t\tmessage: _function_js__WEBPACK_IMPORTED_MODULE_4__.FunctionMessage,\n\t\tmessageChunk: _function_js__WEBPACK_IMPORTED_MODULE_4__.FunctionMessageChunk\n\t},\n\tgeneric: {\n\t\tmessage: _chat_js__WEBPACK_IMPORTED_MODULE_3__.ChatMessage,\n\t\tmessageChunk: _chat_js__WEBPACK_IMPORTED_MODULE_3__.ChatMessageChunk\n\t},\n\tremove: {\n\t\tmessage: _modifier_js__WEBPACK_IMPORTED_MODULE_7__.RemoveMessage,\n\t\tmessageChunk: _modifier_js__WEBPACK_IMPORTED_MODULE_7__.RemoveMessage\n\t}\n};\nfunction _switchTypeToMessage(messageType, fields, returnChunk) {\n\tlet chunk;\n\tlet msg;\n\tswitch (messageType) {\n\t\tcase \"human\":\n\t\t\tif (returnChunk) chunk = new _human_js__WEBPACK_IMPORTED_MODULE_5__.HumanMessageChunk(fields);\n\t\t\telse msg = new _human_js__WEBPACK_IMPORTED_MODULE_5__.HumanMessage(fields);\n\t\t\tbreak;\n\t\tcase \"ai\":\n\t\t\tif (returnChunk) {\n\t\t\t\tlet aiChunkFields = { ...fields };\n\t\t\t\tif (\"tool_calls\" in aiChunkFields) aiChunkFields = {\n\t\t\t\t\t...aiChunkFields,\n\t\t\t\t\ttool_call_chunks: aiChunkFields.tool_calls?.map((tc) => ({\n\t\t\t\t\t\t...tc,\n\t\t\t\t\t\ttype: \"tool_call_chunk\",\n\t\t\t\t\t\tindex: void 0,\n\t\t\t\t\t\targs: JSON.stringify(tc.args)\n\t\t\t\t\t}))\n\t\t\t\t};\n\t\t\t\tchunk = new _ai_js__WEBPACK_IMPORTED_MODULE_2__.AIMessageChunk(aiChunkFields);\n\t\t\t} else msg = new _ai_js__WEBPACK_IMPORTED_MODULE_2__.AIMessage(fields);\n\t\t\tbreak;\n\t\tcase \"system\":\n\t\t\tif (returnChunk) chunk = new _system_js__WEBPACK_IMPORTED_MODULE_6__.SystemMessageChunk(fields);\n\t\t\telse msg = new _system_js__WEBPACK_IMPORTED_MODULE_6__.SystemMessage(fields);\n\t\t\tbreak;\n\t\tcase \"developer\":\n\t\t\tif (returnChunk) chunk = new _system_js__WEBPACK_IMPORTED_MODULE_6__.SystemMessageChunk({\n\t\t\t\t...fields,\n\t\t\t\tadditional_kwargs: {\n\t\t\t\t\t...fields.additional_kwargs,\n\t\t\t\t\t__openai_role__: \"developer\"\n\t\t\t\t}\n\t\t\t});\n\t\t\telse msg = new _system_js__WEBPACK_IMPORTED_MODULE_6__.SystemMessage({\n\t\t\t\t...fields,\n\t\t\t\tadditional_kwargs: {\n\t\t\t\t\t...fields.additional_kwargs,\n\t\t\t\t\t__openai_role__: \"developer\"\n\t\t\t\t}\n\t\t\t});\n\t\t\tbreak;\n\t\tcase \"tool\":\n\t\t\tif (\"tool_call_id\" in fields) if (returnChunk) chunk = new _tool_js__WEBPACK_IMPORTED_MODULE_1__.ToolMessageChunk(fields);\n\t\t\telse msg = new _tool_js__WEBPACK_IMPORTED_MODULE_1__.ToolMessage(fields);\n\t\t\telse throw new Error(\"Can not convert ToolMessage to ToolMessageChunk if 'tool_call_id' field is not defined.\");\n\t\t\tbreak;\n\t\tcase \"function\":\n\t\t\tif (returnChunk) chunk = new _function_js__WEBPACK_IMPORTED_MODULE_4__.FunctionMessageChunk(fields);\n\t\t\telse {\n\t\t\t\tif (!fields.name) throw new Error(\"FunctionMessage must have a 'name' field\");\n\t\t\t\tmsg = new _function_js__WEBPACK_IMPORTED_MODULE_4__.FunctionMessage(fields);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"generic\":\n\t\t\tif (\"role\" in fields) if (returnChunk) chunk = new _chat_js__WEBPACK_IMPORTED_MODULE_3__.ChatMessageChunk(fields);\n\t\t\telse msg = new _chat_js__WEBPACK_IMPORTED_MODULE_3__.ChatMessage(fields);\n\t\t\telse throw new Error(\"Can not convert ChatMessage to ChatMessageChunk if 'role' field is not defined.\");\n\t\t\tbreak;\n\t\tdefault: throw new Error(`Unrecognized message type ${messageType}`);\n\t}\n\tif (returnChunk && chunk) return chunk;\n\tif (msg) return msg;\n\tthrow new Error(`Unrecognized message type ${messageType}`);\n}\nfunction _chunkToMsg(chunk) {\n\tconst chunkType = chunk.getType();\n\tlet msg;\n\tconst fields = Object.fromEntries(Object.entries(chunk).filter(([k]) => ![\"type\", \"tool_call_chunks\"].includes(k) && !k.startsWith(\"lc_\")));\n\tif (chunkType in _MSG_CHUNK_MAP) msg = _switchTypeToMessage(chunkType, fields);\n\tif (!msg) throw new Error(`Unrecognized message chunk class ${chunkType}. Supported classes are ${Object.keys(_MSG_CHUNK_MAP)}`);\n\treturn msg;\n}\n/**\n* The default text splitter function that splits text by newlines.\n*\n* @param {string} text\n* @returns A promise that resolves to an array of strings split by newlines.\n*/\nfunction defaultTextSplitter(text) {\n\tconst splits = text.split(\"\\n\");\n\treturn Promise.resolve([...splits.slice(0, -1).map((s) => `${s}\\n`), splits[splits.length - 1]]);\n}\n\n//#endregion\n\n//# sourceMappingURL=transformers.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy90cmFuc2Zvcm1lcnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK0M7QUFDVztBQUNOO0FBQ007QUFDWTtBQUNUO0FBQ0c7QUFDbEI7QUFDRjtBQUNVOztBQUV0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QztBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDhEQUFjO0FBQ3RCO0FBQ0EsRUFBRTtBQUNGO0FBQ0EsK0NBQStDO0FBQy9DLFNBQVMsaUZBQWlGO0FBQzFGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDhEQUFjO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHlEQUFjO0FBQ25DLHFCQUFxQix5REFBYztBQUNuQztBQUNBLGlIQUFpSCxrQkFBa0IsSUFBSSxrQkFBa0I7QUFDeko7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxTQUFTLDhEQUFjLDBFQUEwRSwwQkFBMEI7QUFDM0g7QUFDQTtBQUNBO0FBQ0EsU0FBUyx3SEFBd0g7QUFDakk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGLGlEQUFpRCxTQUFTO0FBQzFEO0FBQ0E7QUFDQSxTQUFTLGdFQUFnRTtBQUN6RTtBQUNBO0FBQ0EsaUJBQWlCLHlCQUF5QjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixlQUFlO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsbUJBQW1CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxzRUFBc0U7QUFDL0U7QUFDQTtBQUNBLHlEQUF5RCw0REFBa0I7QUFDM0UsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG1EQUFZO0FBQ3ZCLGdCQUFnQix3REFBaUI7QUFDakMsRUFBRTtBQUNGO0FBQ0EsV0FBVyw2Q0FBUztBQUNwQixnQkFBZ0Isa0RBQWM7QUFDOUIsRUFBRTtBQUNGO0FBQ0EsV0FBVyxxREFBYTtBQUN4QixnQkFBZ0IsMERBQWtCO0FBQ2xDLEVBQUU7QUFDRjtBQUNBLFdBQVcscURBQWE7QUFDeEIsZ0JBQWdCLDBEQUFrQjtBQUNsQyxFQUFFO0FBQ0Y7QUFDQSxXQUFXLGlEQUFXO0FBQ3RCLGdCQUFnQixzREFBZ0I7QUFDaEMsRUFBRTtBQUNGO0FBQ0EsV0FBVyx5REFBZTtBQUMxQixnQkFBZ0IsOERBQW9CO0FBQ3BDLEVBQUU7QUFDRjtBQUNBLFdBQVcsaURBQVc7QUFDdEIsZ0JBQWdCLHNEQUFnQjtBQUNoQyxFQUFFO0FBQ0Y7QUFDQSxXQUFXLHVEQUFhO0FBQ3hCLGdCQUFnQix1REFBYTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyx3REFBaUI7QUFDakQsa0JBQWtCLG1EQUFZO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLGdCQUFnQixrREFBYztBQUM5QixLQUFLLGVBQWUsNkNBQVM7QUFDN0I7QUFDQTtBQUNBLGdDQUFnQywwREFBa0I7QUFDbEQsa0JBQWtCLHFEQUFhO0FBQy9CO0FBQ0E7QUFDQSxnQ0FBZ0MsMERBQWtCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osa0JBQWtCLHFEQUFhO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLDhEQUE4RCxzREFBZ0I7QUFDOUUsa0JBQWtCLGlEQUFXO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyw4REFBb0I7QUFDcEQ7QUFDQTtBQUNBLGNBQWMseURBQWU7QUFDN0I7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELHNEQUFnQjtBQUN0RSxrQkFBa0IsaURBQVc7QUFDN0I7QUFDQTtBQUNBLHdEQUF3RCxZQUFZO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxZQUFZO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRCxVQUFVLDBCQUEwQiw0QkFBNEI7QUFDL0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsUUFBUTtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCxFQUFFO0FBQ2hFOztBQUVBO0FBQytFO0FBQy9FIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy90cmFuc2Zvcm1lcnMuanM/MjE0ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0Jhc2VNZXNzYWdlQ2h1bmsgfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5pbXBvcnQgeyBUb29sTWVzc2FnZSwgVG9vbE1lc3NhZ2VDaHVuayB9IGZyb20gXCIuL3Rvb2wuanNcIjtcbmltcG9ydCB7IEFJTWVzc2FnZSwgQUlNZXNzYWdlQ2h1bmsgfSBmcm9tIFwiLi9haS5qc1wiO1xuaW1wb3J0IHsgQ2hhdE1lc3NhZ2UsIENoYXRNZXNzYWdlQ2h1bmsgfSBmcm9tIFwiLi9jaGF0LmpzXCI7XG5pbXBvcnQgeyBGdW5jdGlvbk1lc3NhZ2UsIEZ1bmN0aW9uTWVzc2FnZUNodW5rIH0gZnJvbSBcIi4vZnVuY3Rpb24uanNcIjtcbmltcG9ydCB7IEh1bWFuTWVzc2FnZSwgSHVtYW5NZXNzYWdlQ2h1bmsgfSBmcm9tIFwiLi9odW1hbi5qc1wiO1xuaW1wb3J0IHsgU3lzdGVtTWVzc2FnZSwgU3lzdGVtTWVzc2FnZUNodW5rIH0gZnJvbSBcIi4vc3lzdGVtLmpzXCI7XG5pbXBvcnQgeyBSZW1vdmVNZXNzYWdlIH0gZnJvbSBcIi4vbW9kaWZpZXIuanNcIjtcbmltcG9ydCB7IGNvbnZlcnRUb0NodW5rIH0gZnJvbSBcIi4vdXRpbHMuanNcIjtcbmltcG9ydCB7IFJ1bm5hYmxlTGFtYmRhIH0gZnJvbSBcIi4uL3J1bm5hYmxlcy9iYXNlLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvbWVzc2FnZXMvdHJhbnNmb3JtZXJzLnRzXG5jb25zdCBfaXNNZXNzYWdlVHlwZSA9IChtc2csIHR5cGVzKSA9PiB7XG5cdGNvbnN0IHR5cGVzQXNTdHJpbmdzID0gWy4uLm5ldyBTZXQodHlwZXM/Lm1hcCgodCkgPT4ge1xuXHRcdGlmICh0eXBlb2YgdCA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIHQ7XG5cdFx0Y29uc3QgaW5zdGFudGlhdGVkTXNnQ2xhc3MgPSBuZXcgdCh7fSk7XG5cdFx0aWYgKCEoXCJnZXRUeXBlXCIgaW4gaW5zdGFudGlhdGVkTXNnQ2xhc3MpIHx8IHR5cGVvZiBpbnN0YW50aWF0ZWRNc2dDbGFzcy5nZXRUeXBlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdHlwZSBwcm92aWRlZC5cIik7XG5cdFx0cmV0dXJuIGluc3RhbnRpYXRlZE1zZ0NsYXNzLmdldFR5cGUoKTtcblx0fSkpXTtcblx0Y29uc3QgbXNnVHlwZSA9IG1zZy5nZXRUeXBlKCk7XG5cdHJldHVybiB0eXBlc0FzU3RyaW5ncy5zb21lKCh0KSA9PiB0ID09PSBtc2dUeXBlKTtcbn07XG5mdW5jdGlvbiBmaWx0ZXJNZXNzYWdlcyhtZXNzYWdlc09yT3B0aW9ucywgb3B0aW9ucykge1xuXHRpZiAoQXJyYXkuaXNBcnJheShtZXNzYWdlc09yT3B0aW9ucykpIHJldHVybiBfZmlsdGVyTWVzc2FnZXMobWVzc2FnZXNPck9wdGlvbnMsIG9wdGlvbnMpO1xuXHRyZXR1cm4gUnVubmFibGVMYW1iZGEuZnJvbSgoaW5wdXQpID0+IHtcblx0XHRyZXR1cm4gX2ZpbHRlck1lc3NhZ2VzKGlucHV0LCBtZXNzYWdlc09yT3B0aW9ucyk7XG5cdH0pO1xufVxuZnVuY3Rpb24gX2ZpbHRlck1lc3NhZ2VzKG1lc3NhZ2VzLCBvcHRpb25zID0ge30pIHtcblx0Y29uc3QgeyBpbmNsdWRlTmFtZXMsIGV4Y2x1ZGVOYW1lcywgaW5jbHVkZVR5cGVzLCBleGNsdWRlVHlwZXMsIGluY2x1ZGVJZHMsIGV4Y2x1ZGVJZHMgfSA9IG9wdGlvbnM7XG5cdGNvbnN0IGZpbHRlcmVkID0gW107XG5cdGZvciAoY29uc3QgbXNnIG9mIG1lc3NhZ2VzKSB7XG5cdFx0aWYgKGV4Y2x1ZGVOYW1lcyAmJiBtc2cubmFtZSAmJiBleGNsdWRlTmFtZXMuaW5jbHVkZXMobXNnLm5hbWUpKSBjb250aW51ZTtcblx0XHRlbHNlIGlmIChleGNsdWRlVHlwZXMgJiYgX2lzTWVzc2FnZVR5cGUobXNnLCBleGNsdWRlVHlwZXMpKSBjb250aW51ZTtcblx0XHRlbHNlIGlmIChleGNsdWRlSWRzICYmIG1zZy5pZCAmJiBleGNsdWRlSWRzLmluY2x1ZGVzKG1zZy5pZCkpIGNvbnRpbnVlO1xuXHRcdGlmICghKGluY2x1ZGVUeXBlcyB8fCBpbmNsdWRlSWRzIHx8IGluY2x1ZGVOYW1lcykpIGZpbHRlcmVkLnB1c2gobXNnKTtcblx0XHRlbHNlIGlmIChpbmNsdWRlTmFtZXMgJiYgbXNnLm5hbWUgJiYgaW5jbHVkZU5hbWVzLnNvbWUoKGlOYW1lKSA9PiBpTmFtZSA9PT0gbXNnLm5hbWUpKSBmaWx0ZXJlZC5wdXNoKG1zZyk7XG5cdFx0ZWxzZSBpZiAoaW5jbHVkZVR5cGVzICYmIF9pc01lc3NhZ2VUeXBlKG1zZywgaW5jbHVkZVR5cGVzKSkgZmlsdGVyZWQucHVzaChtc2cpO1xuXHRcdGVsc2UgaWYgKGluY2x1ZGVJZHMgJiYgbXNnLmlkICYmIGluY2x1ZGVJZHMuc29tZSgoaWQpID0+IGlkID09PSBtc2cuaWQpKSBmaWx0ZXJlZC5wdXNoKG1zZyk7XG5cdH1cblx0cmV0dXJuIGZpbHRlcmVkO1xufVxuZnVuY3Rpb24gbWVyZ2VNZXNzYWdlUnVucyhtZXNzYWdlcykge1xuXHRpZiAoQXJyYXkuaXNBcnJheShtZXNzYWdlcykpIHJldHVybiBfbWVyZ2VNZXNzYWdlUnVucyhtZXNzYWdlcyk7XG5cdHJldHVybiBSdW5uYWJsZUxhbWJkYS5mcm9tKF9tZXJnZU1lc3NhZ2VSdW5zKTtcbn1cbmZ1bmN0aW9uIF9tZXJnZU1lc3NhZ2VSdW5zKG1lc3NhZ2VzKSB7XG5cdGlmICghbWVzc2FnZXMubGVuZ3RoKSByZXR1cm4gW107XG5cdGNvbnN0IG1lcmdlZCA9IFtdO1xuXHRmb3IgKGNvbnN0IG1zZyBvZiBtZXNzYWdlcykge1xuXHRcdGNvbnN0IGN1cnIgPSBtc2c7XG5cdFx0Y29uc3QgbGFzdCA9IG1lcmdlZC5wb3AoKTtcblx0XHRpZiAoIWxhc3QpIG1lcmdlZC5wdXNoKGN1cnIpO1xuXHRcdGVsc2UgaWYgKGN1cnIuZ2V0VHlwZSgpID09PSBcInRvb2xcIiB8fCAhKGN1cnIuZ2V0VHlwZSgpID09PSBsYXN0LmdldFR5cGUoKSkpIG1lcmdlZC5wdXNoKGxhc3QsIGN1cnIpO1xuXHRcdGVsc2Uge1xuXHRcdFx0Y29uc3QgbGFzdENodW5rID0gY29udmVydFRvQ2h1bmsobGFzdCk7XG5cdFx0XHRjb25zdCBjdXJyQ2h1bmsgPSBjb252ZXJ0VG9DaHVuayhjdXJyKTtcblx0XHRcdGNvbnN0IG1lcmdlZENodW5rcyA9IGxhc3RDaHVuay5jb25jYXQoY3VyckNodW5rKTtcblx0XHRcdGlmICh0eXBlb2YgbGFzdENodW5rLmNvbnRlbnQgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIGN1cnJDaHVuay5jb250ZW50ID09PSBcInN0cmluZ1wiKSBtZXJnZWRDaHVua3MuY29udGVudCA9IGAke2xhc3RDaHVuay5jb250ZW50fVxcbiR7Y3VyckNodW5rLmNvbnRlbnR9YDtcblx0XHRcdG1lcmdlZC5wdXNoKF9jaHVua1RvTXNnKG1lcmdlZENodW5rcykpO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gbWVyZ2VkO1xufVxuZnVuY3Rpb24gdHJpbU1lc3NhZ2VzKG1lc3NhZ2VzT3JPcHRpb25zLCBvcHRpb25zKSB7XG5cdGlmIChBcnJheS5pc0FycmF5KG1lc3NhZ2VzT3JPcHRpb25zKSkge1xuXHRcdGNvbnN0IG1lc3NhZ2VzID0gbWVzc2FnZXNPck9wdGlvbnM7XG5cdFx0aWYgKCFvcHRpb25zKSB0aHJvdyBuZXcgRXJyb3IoXCJPcHRpb25zIHBhcmFtZXRlciBpcyByZXF1aXJlZCB3aGVuIHByb3ZpZGluZyBtZXNzYWdlcy5cIik7XG5cdFx0cmV0dXJuIF90cmltTWVzc2FnZXNIZWxwZXIobWVzc2FnZXMsIG9wdGlvbnMpO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnN0IHRyaW1tZXJPcHRpb25zID0gbWVzc2FnZXNPck9wdGlvbnM7XG5cdFx0cmV0dXJuIFJ1bm5hYmxlTGFtYmRhLmZyb20oKGlucHV0KSA9PiBfdHJpbU1lc3NhZ2VzSGVscGVyKGlucHV0LCB0cmltbWVyT3B0aW9ucykpLndpdGhDb25maWcoeyBydW5OYW1lOiBcInRyaW1fbWVzc2FnZXNcIiB9KTtcblx0fVxufVxuYXN5bmMgZnVuY3Rpb24gX3RyaW1NZXNzYWdlc0hlbHBlcihtZXNzYWdlcywgb3B0aW9ucykge1xuXHRjb25zdCB7IG1heFRva2VucywgdG9rZW5Db3VudGVyLCBzdHJhdGVneSA9IFwibGFzdFwiLCBhbGxvd1BhcnRpYWwgPSBmYWxzZSwgZW5kT24sIHN0YXJ0T24sIGluY2x1ZGVTeXN0ZW0gPSBmYWxzZSwgdGV4dFNwbGl0dGVyIH0gPSBvcHRpb25zO1xuXHRpZiAoc3RhcnRPbiAmJiBzdHJhdGVneSA9PT0gXCJmaXJzdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJgc3RhcnRPbmAgc2hvdWxkIG9ubHkgYmUgc3BlY2lmaWVkIGlmIGBzdHJhdGVneWAgaXMgJ2xhc3QnLlwiKTtcblx0aWYgKGluY2x1ZGVTeXN0ZW0gJiYgc3RyYXRlZ3kgPT09IFwiZmlyc3RcIikgdGhyb3cgbmV3IEVycm9yKFwiYGluY2x1ZGVTeXN0ZW1gIHNob3VsZCBvbmx5IGJlIHNwZWNpZmllZCBpZiBgc3RyYXRlZ3lgIGlzICdsYXN0Jy5cIik7XG5cdGxldCBsaXN0VG9rZW5Db3VudGVyO1xuXHRpZiAoXCJnZXROdW1Ub2tlbnNcIiBpbiB0b2tlbkNvdW50ZXIpIGxpc3RUb2tlbkNvdW50ZXIgPSBhc3luYyAobXNncykgPT4ge1xuXHRcdGNvbnN0IHRva2VuQ291bnRzID0gYXdhaXQgUHJvbWlzZS5hbGwobXNncy5tYXAoKG1zZykgPT4gdG9rZW5Db3VudGVyLmdldE51bVRva2Vucyhtc2cuY29udGVudCkpKTtcblx0XHRyZXR1cm4gdG9rZW5Db3VudHMucmVkdWNlKChzdW0sIGNvdW50KSA9PiBzdW0gKyBjb3VudCwgMCk7XG5cdH07XG5cdGVsc2UgbGlzdFRva2VuQ291bnRlciA9IGFzeW5jIChtc2dzKSA9PiB0b2tlbkNvdW50ZXIobXNncyk7XG5cdGxldCB0ZXh0U3BsaXR0ZXJGdW5jID0gZGVmYXVsdFRleHRTcGxpdHRlcjtcblx0aWYgKHRleHRTcGxpdHRlcikgaWYgKFwic3BsaXRUZXh0XCIgaW4gdGV4dFNwbGl0dGVyKSB0ZXh0U3BsaXR0ZXJGdW5jID0gdGV4dFNwbGl0dGVyLnNwbGl0VGV4dDtcblx0ZWxzZSB0ZXh0U3BsaXR0ZXJGdW5jID0gYXN5bmMgKHRleHQpID0+IHRleHRTcGxpdHRlcih0ZXh0KTtcblx0aWYgKHN0cmF0ZWd5ID09PSBcImZpcnN0XCIpIHJldHVybiBfZmlyc3RNYXhUb2tlbnMobWVzc2FnZXMsIHtcblx0XHRtYXhUb2tlbnMsXG5cdFx0dG9rZW5Db3VudGVyOiBsaXN0VG9rZW5Db3VudGVyLFxuXHRcdHRleHRTcGxpdHRlcjogdGV4dFNwbGl0dGVyRnVuYyxcblx0XHRwYXJ0aWFsU3RyYXRlZ3k6IGFsbG93UGFydGlhbCA/IFwiZmlyc3RcIiA6IHZvaWQgMCxcblx0XHRlbmRPblxuXHR9KTtcblx0ZWxzZSBpZiAoc3RyYXRlZ3kgPT09IFwibGFzdFwiKSByZXR1cm4gX2xhc3RNYXhUb2tlbnMobWVzc2FnZXMsIHtcblx0XHRtYXhUb2tlbnMsXG5cdFx0dG9rZW5Db3VudGVyOiBsaXN0VG9rZW5Db3VudGVyLFxuXHRcdHRleHRTcGxpdHRlcjogdGV4dFNwbGl0dGVyRnVuYyxcblx0XHRhbGxvd1BhcnRpYWwsXG5cdFx0aW5jbHVkZVN5c3RlbSxcblx0XHRzdGFydE9uLFxuXHRcdGVuZE9uXG5cdH0pO1xuXHRlbHNlIHRocm93IG5ldyBFcnJvcihgVW5yZWNvZ25pemVkIHN0cmF0ZWd5OiAnJHtzdHJhdGVneX0nLiBNdXN0IGJlIG9uZSBvZiAnZmlyc3QnIG9yICdsYXN0Jy5gKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIF9maXJzdE1heFRva2VucyhtZXNzYWdlcywgb3B0aW9ucykge1xuXHRjb25zdCB7IG1heFRva2VucywgdG9rZW5Db3VudGVyLCB0ZXh0U3BsaXR0ZXIsIHBhcnRpYWxTdHJhdGVneSwgZW5kT24gfSA9IG9wdGlvbnM7XG5cdGxldCBtZXNzYWdlc0NvcHkgPSBbLi4ubWVzc2FnZXNdO1xuXHRsZXQgaWR4ID0gMDtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBtZXNzYWdlc0NvcHkubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRjb25zdCByZW1haW5pbmdNZXNzYWdlcyA9IGkgPiAwID8gbWVzc2FnZXNDb3B5LnNsaWNlKDAsIC1pKSA6IG1lc3NhZ2VzQ29weTtcblx0XHRpZiAoYXdhaXQgdG9rZW5Db3VudGVyKHJlbWFpbmluZ01lc3NhZ2VzKSA8PSBtYXhUb2tlbnMpIHtcblx0XHRcdGlkeCA9IG1lc3NhZ2VzQ29weS5sZW5ndGggLSBpO1xuXHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9XG5cdGlmIChpZHggPCBtZXNzYWdlc0NvcHkubGVuZ3RoICYmIHBhcnRpYWxTdHJhdGVneSkge1xuXHRcdGxldCBpbmNsdWRlZFBhcnRpYWwgPSBmYWxzZTtcblx0XHRpZiAoQXJyYXkuaXNBcnJheShtZXNzYWdlc0NvcHlbaWR4XS5jb250ZW50KSkge1xuXHRcdFx0Y29uc3QgZXhjbHVkZWQgPSBtZXNzYWdlc0NvcHlbaWR4XTtcblx0XHRcdGlmICh0eXBlb2YgZXhjbHVkZWQuY29udGVudCA9PT0gXCJzdHJpbmdcIikgdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgY29udGVudCB0byBiZSBhbiBhcnJheS5cIik7XG5cdFx0XHRjb25zdCBudW1CbG9jayA9IGV4Y2x1ZGVkLmNvbnRlbnQubGVuZ3RoO1xuXHRcdFx0Y29uc3QgcmV2ZXJzZWRDb250ZW50ID0gcGFydGlhbFN0cmF0ZWd5ID09PSBcImxhc3RcIiA/IFsuLi5leGNsdWRlZC5jb250ZW50XS5yZXZlcnNlKCkgOiBleGNsdWRlZC5jb250ZW50O1xuXHRcdFx0Zm9yIChsZXQgaSA9IDE7IGkgPD0gbnVtQmxvY2s7IGkgKz0gMSkge1xuXHRcdFx0XHRjb25zdCBwYXJ0aWFsQ29udGVudCA9IHBhcnRpYWxTdHJhdGVneSA9PT0gXCJmaXJzdFwiID8gcmV2ZXJzZWRDb250ZW50LnNsaWNlKDAsIGkpIDogcmV2ZXJzZWRDb250ZW50LnNsaWNlKC1pKTtcblx0XHRcdFx0Y29uc3QgZmllbGRzID0gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKGV4Y2x1ZGVkKS5maWx0ZXIoKFtrXSkgPT4gayAhPT0gXCJ0eXBlXCIgJiYgIWsuc3RhcnRzV2l0aChcImxjX1wiKSkpO1xuXHRcdFx0XHRjb25zdCB1cGRhdGVkTWVzc2FnZSA9IF9zd2l0Y2hUeXBlVG9NZXNzYWdlKGV4Y2x1ZGVkLmdldFR5cGUoKSwge1xuXHRcdFx0XHRcdC4uLmZpZWxkcyxcblx0XHRcdFx0XHRjb250ZW50OiBwYXJ0aWFsQ29udGVudFxuXHRcdFx0XHR9KTtcblx0XHRcdFx0Y29uc3Qgc2xpY2VkTWVzc2FnZXMgPSBbLi4ubWVzc2FnZXNDb3B5LnNsaWNlKDAsIGlkeCksIHVwZGF0ZWRNZXNzYWdlXTtcblx0XHRcdFx0aWYgKGF3YWl0IHRva2VuQ291bnRlcihzbGljZWRNZXNzYWdlcykgPD0gbWF4VG9rZW5zKSB7XG5cdFx0XHRcdFx0bWVzc2FnZXNDb3B5ID0gc2xpY2VkTWVzc2FnZXM7XG5cdFx0XHRcdFx0aWR4ICs9IDE7XG5cdFx0XHRcdFx0aW5jbHVkZWRQYXJ0aWFsID0gdHJ1ZTtcblx0XHRcdFx0fSBlbHNlIGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGluY2x1ZGVkUGFydGlhbCAmJiBwYXJ0aWFsU3RyYXRlZ3kgPT09IFwibGFzdFwiKSBleGNsdWRlZC5jb250ZW50ID0gWy4uLnJldmVyc2VkQ29udGVudF0ucmV2ZXJzZSgpO1xuXHRcdH1cblx0XHRpZiAoIWluY2x1ZGVkUGFydGlhbCkge1xuXHRcdFx0Y29uc3QgZXhjbHVkZWQgPSBtZXNzYWdlc0NvcHlbaWR4XTtcblx0XHRcdGxldCB0ZXh0O1xuXHRcdFx0aWYgKEFycmF5LmlzQXJyYXkoZXhjbHVkZWQuY29udGVudCkgJiYgZXhjbHVkZWQuY29udGVudC5zb21lKChibG9jaykgPT4gdHlwZW9mIGJsb2NrID09PSBcInN0cmluZ1wiIHx8IGJsb2NrLnR5cGUgPT09IFwidGV4dFwiKSkge1xuXHRcdFx0XHRjb25zdCB0ZXh0QmxvY2sgPSBleGNsdWRlZC5jb250ZW50LmZpbmQoKGJsb2NrKSA9PiBibG9jay50eXBlID09PSBcInRleHRcIiAmJiBibG9jay50ZXh0KTtcblx0XHRcdFx0dGV4dCA9IHRleHRCbG9jaz8udGV4dDtcblx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIGV4Y2x1ZGVkLmNvbnRlbnQgPT09IFwic3RyaW5nXCIpIHRleHQgPSBleGNsdWRlZC5jb250ZW50O1xuXHRcdFx0aWYgKHRleHQpIHtcblx0XHRcdFx0Y29uc3Qgc3BsaXRUZXh0cyA9IGF3YWl0IHRleHRTcGxpdHRlcih0ZXh0KTtcblx0XHRcdFx0Y29uc3QgbnVtU3BsaXRzID0gc3BsaXRUZXh0cy5sZW5ndGg7XG5cdFx0XHRcdGlmIChwYXJ0aWFsU3RyYXRlZ3kgPT09IFwibGFzdFwiKSBzcGxpdFRleHRzLnJldmVyc2UoKTtcblx0XHRcdFx0Zm9yIChsZXQgXyA9IDA7IF8gPCBudW1TcGxpdHMgLSAxOyBfICs9IDEpIHtcblx0XHRcdFx0XHRzcGxpdFRleHRzLnBvcCgpO1xuXHRcdFx0XHRcdGV4Y2x1ZGVkLmNvbnRlbnQgPSBzcGxpdFRleHRzLmpvaW4oXCJcIik7XG5cdFx0XHRcdFx0aWYgKGF3YWl0IHRva2VuQ291bnRlcihbLi4ubWVzc2FnZXNDb3B5LnNsaWNlKDAsIGlkeCksIGV4Y2x1ZGVkXSkgPD0gbWF4VG9rZW5zKSB7XG5cdFx0XHRcdFx0XHRpZiAocGFydGlhbFN0cmF0ZWd5ID09PSBcImxhc3RcIikgZXhjbHVkZWQuY29udGVudCA9IFsuLi5zcGxpdFRleHRzXS5yZXZlcnNlKCkuam9pbihcIlwiKTtcblx0XHRcdFx0XHRcdG1lc3NhZ2VzQ29weSA9IFsuLi5tZXNzYWdlc0NvcHkuc2xpY2UoMCwgaWR4KSwgZXhjbHVkZWRdO1xuXHRcdFx0XHRcdFx0aWR4ICs9IDE7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblx0aWYgKGVuZE9uKSB7XG5cdFx0Y29uc3QgZW5kT25BcnIgPSBBcnJheS5pc0FycmF5KGVuZE9uKSA/IGVuZE9uIDogW2VuZE9uXTtcblx0XHR3aGlsZSAoaWR4ID4gMCAmJiAhX2lzTWVzc2FnZVR5cGUobWVzc2FnZXNDb3B5W2lkeCAtIDFdLCBlbmRPbkFycikpIGlkeCAtPSAxO1xuXHR9XG5cdHJldHVybiBtZXNzYWdlc0NvcHkuc2xpY2UoMCwgaWR4KTtcbn1cbmFzeW5jIGZ1bmN0aW9uIF9sYXN0TWF4VG9rZW5zKG1lc3NhZ2VzLCBvcHRpb25zKSB7XG5cdGNvbnN0IHsgYWxsb3dQYXJ0aWFsID0gZmFsc2UsIGluY2x1ZGVTeXN0ZW0gPSBmYWxzZSwgZW5kT24sIHN0YXJ0T24sLi4ucmVzdCB9ID0gb3B0aW9ucztcblx0bGV0IG1lc3NhZ2VzQ29weSA9IG1lc3NhZ2VzLm1hcCgobWVzc2FnZSkgPT4ge1xuXHRcdGNvbnN0IGZpZWxkcyA9IE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyhtZXNzYWdlKS5maWx0ZXIoKFtrXSkgPT4gayAhPT0gXCJ0eXBlXCIgJiYgIWsuc3RhcnRzV2l0aChcImxjX1wiKSkpO1xuXHRcdHJldHVybiBfc3dpdGNoVHlwZVRvTWVzc2FnZShtZXNzYWdlLmdldFR5cGUoKSwgZmllbGRzLCBpc0Jhc2VNZXNzYWdlQ2h1bmsobWVzc2FnZSkpO1xuXHR9KTtcblx0aWYgKGVuZE9uKSB7XG5cdFx0Y29uc3QgZW5kT25BcnIgPSBBcnJheS5pc0FycmF5KGVuZE9uKSA/IGVuZE9uIDogW2VuZE9uXTtcblx0XHR3aGlsZSAobWVzc2FnZXNDb3B5Lmxlbmd0aCA+IDAgJiYgIV9pc01lc3NhZ2VUeXBlKG1lc3NhZ2VzQ29weVttZXNzYWdlc0NvcHkubGVuZ3RoIC0gMV0sIGVuZE9uQXJyKSkgbWVzc2FnZXNDb3B5ID0gbWVzc2FnZXNDb3B5LnNsaWNlKDAsIC0xKTtcblx0fVxuXHRjb25zdCBzd2FwcGVkU3lzdGVtID0gaW5jbHVkZVN5c3RlbSAmJiBtZXNzYWdlc0NvcHlbMF0/LmdldFR5cGUoKSA9PT0gXCJzeXN0ZW1cIjtcblx0bGV0IHJldmVyc2VkXyA9IHN3YXBwZWRTeXN0ZW0gPyBtZXNzYWdlc0NvcHkuc2xpY2UoMCwgMSkuY29uY2F0KG1lc3NhZ2VzQ29weS5zbGljZSgxKS5yZXZlcnNlKCkpIDogbWVzc2FnZXNDb3B5LnJldmVyc2UoKTtcblx0cmV2ZXJzZWRfID0gYXdhaXQgX2ZpcnN0TWF4VG9rZW5zKHJldmVyc2VkXywge1xuXHRcdC4uLnJlc3QsXG5cdFx0cGFydGlhbFN0cmF0ZWd5OiBhbGxvd1BhcnRpYWwgPyBcImxhc3RcIiA6IHZvaWQgMCxcblx0XHRlbmRPbjogc3RhcnRPblxuXHR9KTtcblx0aWYgKHN3YXBwZWRTeXN0ZW0pIHJldHVybiBbcmV2ZXJzZWRfWzBdLCAuLi5yZXZlcnNlZF8uc2xpY2UoMSkucmV2ZXJzZSgpXTtcblx0ZWxzZSByZXR1cm4gcmV2ZXJzZWRfLnJldmVyc2UoKTtcbn1cbmNvbnN0IF9NU0dfQ0hVTktfTUFQID0ge1xuXHRodW1hbjoge1xuXHRcdG1lc3NhZ2U6IEh1bWFuTWVzc2FnZSxcblx0XHRtZXNzYWdlQ2h1bms6IEh1bWFuTWVzc2FnZUNodW5rXG5cdH0sXG5cdGFpOiB7XG5cdFx0bWVzc2FnZTogQUlNZXNzYWdlLFxuXHRcdG1lc3NhZ2VDaHVuazogQUlNZXNzYWdlQ2h1bmtcblx0fSxcblx0c3lzdGVtOiB7XG5cdFx0bWVzc2FnZTogU3lzdGVtTWVzc2FnZSxcblx0XHRtZXNzYWdlQ2h1bms6IFN5c3RlbU1lc3NhZ2VDaHVua1xuXHR9LFxuXHRkZXZlbG9wZXI6IHtcblx0XHRtZXNzYWdlOiBTeXN0ZW1NZXNzYWdlLFxuXHRcdG1lc3NhZ2VDaHVuazogU3lzdGVtTWVzc2FnZUNodW5rXG5cdH0sXG5cdHRvb2w6IHtcblx0XHRtZXNzYWdlOiBUb29sTWVzc2FnZSxcblx0XHRtZXNzYWdlQ2h1bms6IFRvb2xNZXNzYWdlQ2h1bmtcblx0fSxcblx0ZnVuY3Rpb246IHtcblx0XHRtZXNzYWdlOiBGdW5jdGlvbk1lc3NhZ2UsXG5cdFx0bWVzc2FnZUNodW5rOiBGdW5jdGlvbk1lc3NhZ2VDaHVua1xuXHR9LFxuXHRnZW5lcmljOiB7XG5cdFx0bWVzc2FnZTogQ2hhdE1lc3NhZ2UsXG5cdFx0bWVzc2FnZUNodW5rOiBDaGF0TWVzc2FnZUNodW5rXG5cdH0sXG5cdHJlbW92ZToge1xuXHRcdG1lc3NhZ2U6IFJlbW92ZU1lc3NhZ2UsXG5cdFx0bWVzc2FnZUNodW5rOiBSZW1vdmVNZXNzYWdlXG5cdH1cbn07XG5mdW5jdGlvbiBfc3dpdGNoVHlwZVRvTWVzc2FnZShtZXNzYWdlVHlwZSwgZmllbGRzLCByZXR1cm5DaHVuaykge1xuXHRsZXQgY2h1bms7XG5cdGxldCBtc2c7XG5cdHN3aXRjaCAobWVzc2FnZVR5cGUpIHtcblx0XHRjYXNlIFwiaHVtYW5cIjpcblx0XHRcdGlmIChyZXR1cm5DaHVuaykgY2h1bmsgPSBuZXcgSHVtYW5NZXNzYWdlQ2h1bmsoZmllbGRzKTtcblx0XHRcdGVsc2UgbXNnID0gbmV3IEh1bWFuTWVzc2FnZShmaWVsZHMpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcImFpXCI6XG5cdFx0XHRpZiAocmV0dXJuQ2h1bmspIHtcblx0XHRcdFx0bGV0IGFpQ2h1bmtGaWVsZHMgPSB7IC4uLmZpZWxkcyB9O1xuXHRcdFx0XHRpZiAoXCJ0b29sX2NhbGxzXCIgaW4gYWlDaHVua0ZpZWxkcykgYWlDaHVua0ZpZWxkcyA9IHtcblx0XHRcdFx0XHQuLi5haUNodW5rRmllbGRzLFxuXHRcdFx0XHRcdHRvb2xfY2FsbF9jaHVua3M6IGFpQ2h1bmtGaWVsZHMudG9vbF9jYWxscz8ubWFwKCh0YykgPT4gKHtcblx0XHRcdFx0XHRcdC4uLnRjLFxuXHRcdFx0XHRcdFx0dHlwZTogXCJ0b29sX2NhbGxfY2h1bmtcIixcblx0XHRcdFx0XHRcdGluZGV4OiB2b2lkIDAsXG5cdFx0XHRcdFx0XHRhcmdzOiBKU09OLnN0cmluZ2lmeSh0Yy5hcmdzKVxuXHRcdFx0XHRcdH0pKVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRjaHVuayA9IG5ldyBBSU1lc3NhZ2VDaHVuayhhaUNodW5rRmllbGRzKTtcblx0XHRcdH0gZWxzZSBtc2cgPSBuZXcgQUlNZXNzYWdlKGZpZWxkcyk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwic3lzdGVtXCI6XG5cdFx0XHRpZiAocmV0dXJuQ2h1bmspIGNodW5rID0gbmV3IFN5c3RlbU1lc3NhZ2VDaHVuayhmaWVsZHMpO1xuXHRcdFx0ZWxzZSBtc2cgPSBuZXcgU3lzdGVtTWVzc2FnZShmaWVsZHMpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcImRldmVsb3BlclwiOlxuXHRcdFx0aWYgKHJldHVybkNodW5rKSBjaHVuayA9IG5ldyBTeXN0ZW1NZXNzYWdlQ2h1bmsoe1xuXHRcdFx0XHQuLi5maWVsZHMsXG5cdFx0XHRcdGFkZGl0aW9uYWxfa3dhcmdzOiB7XG5cdFx0XHRcdFx0Li4uZmllbGRzLmFkZGl0aW9uYWxfa3dhcmdzLFxuXHRcdFx0XHRcdF9fb3BlbmFpX3JvbGVfXzogXCJkZXZlbG9wZXJcIlxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdGVsc2UgbXNnID0gbmV3IFN5c3RlbU1lc3NhZ2Uoe1xuXHRcdFx0XHQuLi5maWVsZHMsXG5cdFx0XHRcdGFkZGl0aW9uYWxfa3dhcmdzOiB7XG5cdFx0XHRcdFx0Li4uZmllbGRzLmFkZGl0aW9uYWxfa3dhcmdzLFxuXHRcdFx0XHRcdF9fb3BlbmFpX3JvbGVfXzogXCJkZXZlbG9wZXJcIlxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJ0b29sXCI6XG5cdFx0XHRpZiAoXCJ0b29sX2NhbGxfaWRcIiBpbiBmaWVsZHMpIGlmIChyZXR1cm5DaHVuaykgY2h1bmsgPSBuZXcgVG9vbE1lc3NhZ2VDaHVuayhmaWVsZHMpO1xuXHRcdFx0ZWxzZSBtc2cgPSBuZXcgVG9vbE1lc3NhZ2UoZmllbGRzKTtcblx0XHRcdGVsc2UgdGhyb3cgbmV3IEVycm9yKFwiQ2FuIG5vdCBjb252ZXJ0IFRvb2xNZXNzYWdlIHRvIFRvb2xNZXNzYWdlQ2h1bmsgaWYgJ3Rvb2xfY2FsbF9pZCcgZmllbGQgaXMgbm90IGRlZmluZWQuXCIpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcImZ1bmN0aW9uXCI6XG5cdFx0XHRpZiAocmV0dXJuQ2h1bmspIGNodW5rID0gbmV3IEZ1bmN0aW9uTWVzc2FnZUNodW5rKGZpZWxkcyk7XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0aWYgKCFmaWVsZHMubmFtZSkgdGhyb3cgbmV3IEVycm9yKFwiRnVuY3Rpb25NZXNzYWdlIG11c3QgaGF2ZSBhICduYW1lJyBmaWVsZFwiKTtcblx0XHRcdFx0bXNnID0gbmV3IEZ1bmN0aW9uTWVzc2FnZShmaWVsZHMpO1xuXHRcdFx0fVxuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcImdlbmVyaWNcIjpcblx0XHRcdGlmIChcInJvbGVcIiBpbiBmaWVsZHMpIGlmIChyZXR1cm5DaHVuaykgY2h1bmsgPSBuZXcgQ2hhdE1lc3NhZ2VDaHVuayhmaWVsZHMpO1xuXHRcdFx0ZWxzZSBtc2cgPSBuZXcgQ2hhdE1lc3NhZ2UoZmllbGRzKTtcblx0XHRcdGVsc2UgdGhyb3cgbmV3IEVycm9yKFwiQ2FuIG5vdCBjb252ZXJ0IENoYXRNZXNzYWdlIHRvIENoYXRNZXNzYWdlQ2h1bmsgaWYgJ3JvbGUnIGZpZWxkIGlzIG5vdCBkZWZpbmVkLlwiKTtcblx0XHRcdGJyZWFrO1xuXHRcdGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcihgVW5yZWNvZ25pemVkIG1lc3NhZ2UgdHlwZSAke21lc3NhZ2VUeXBlfWApO1xuXHR9XG5cdGlmIChyZXR1cm5DaHVuayAmJiBjaHVuaykgcmV0dXJuIGNodW5rO1xuXHRpZiAobXNnKSByZXR1cm4gbXNnO1xuXHR0aHJvdyBuZXcgRXJyb3IoYFVucmVjb2duaXplZCBtZXNzYWdlIHR5cGUgJHttZXNzYWdlVHlwZX1gKTtcbn1cbmZ1bmN0aW9uIF9jaHVua1RvTXNnKGNodW5rKSB7XG5cdGNvbnN0IGNodW5rVHlwZSA9IGNodW5rLmdldFR5cGUoKTtcblx0bGV0IG1zZztcblx0Y29uc3QgZmllbGRzID0gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKGNodW5rKS5maWx0ZXIoKFtrXSkgPT4gIVtcInR5cGVcIiwgXCJ0b29sX2NhbGxfY2h1bmtzXCJdLmluY2x1ZGVzKGspICYmICFrLnN0YXJ0c1dpdGgoXCJsY19cIikpKTtcblx0aWYgKGNodW5rVHlwZSBpbiBfTVNHX0NIVU5LX01BUCkgbXNnID0gX3N3aXRjaFR5cGVUb01lc3NhZ2UoY2h1bmtUeXBlLCBmaWVsZHMpO1xuXHRpZiAoIW1zZykgdGhyb3cgbmV3IEVycm9yKGBVbnJlY29nbml6ZWQgbWVzc2FnZSBjaHVuayBjbGFzcyAke2NodW5rVHlwZX0uIFN1cHBvcnRlZCBjbGFzc2VzIGFyZSAke09iamVjdC5rZXlzKF9NU0dfQ0hVTktfTUFQKX1gKTtcblx0cmV0dXJuIG1zZztcbn1cbi8qKlxuKiBUaGUgZGVmYXVsdCB0ZXh0IHNwbGl0dGVyIGZ1bmN0aW9uIHRoYXQgc3BsaXRzIHRleHQgYnkgbmV3bGluZXMuXG4qXG4qIEBwYXJhbSB7c3RyaW5nfSB0ZXh0XG4qIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGFuIGFycmF5IG9mIHN0cmluZ3Mgc3BsaXQgYnkgbmV3bGluZXMuXG4qL1xuZnVuY3Rpb24gZGVmYXVsdFRleHRTcGxpdHRlcih0ZXh0KSB7XG5cdGNvbnN0IHNwbGl0cyA9IHRleHQuc3BsaXQoXCJcXG5cIik7XG5cdHJldHVybiBQcm9taXNlLnJlc29sdmUoWy4uLnNwbGl0cy5zbGljZSgwLCAtMSkubWFwKChzKSA9PiBgJHtzfVxcbmApLCBzcGxpdHNbc3BsaXRzLmxlbmd0aCAtIDFdXSk7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgZGVmYXVsdFRleHRTcGxpdHRlciwgZmlsdGVyTWVzc2FnZXMsIG1lcmdlTWVzc2FnZVJ1bnMsIHRyaW1NZXNzYWdlcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhbnNmb3JtZXJzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/transformers.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/utils.js":
/*!******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/utils.js ***!
  \******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   coerceMessageLikeToMessage: () => (/* binding */ coerceMessageLikeToMessage),\n/* harmony export */   convertToChunk: () => (/* binding */ convertToChunk),\n/* harmony export */   getBufferString: () => (/* binding */ getBufferString),\n/* harmony export */   iife: () => (/* binding */ iife),\n/* harmony export */   mapChatMessagesToStoredMessages: () => (/* binding */ mapChatMessagesToStoredMessages),\n/* harmony export */   mapStoredMessageToChatMessage: () => (/* binding */ mapStoredMessageToChatMessage),\n/* harmony export */   mapStoredMessagesToChatMessages: () => (/* binding */ mapStoredMessagesToChatMessages)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/base.js\");\n/* harmony import */ var _tool_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./tool.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/tool.js\");\n/* harmony import */ var _ai_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ai.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/ai.js\");\n/* harmony import */ var _chat_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chat.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/chat.js\");\n/* harmony import */ var _function_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./function.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/function.js\");\n/* harmony import */ var _human_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./human.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/human.js\");\n/* harmony import */ var _system_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./system.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/system.js\");\n/* harmony import */ var _errors_index_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../errors/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/errors/index.js\");\n/* harmony import */ var _tools_utils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../tools/utils.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tools/utils.js\");\n/* harmony import */ var _modifier_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./modifier.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/modifier.js\");\n\n\n\n\n\n\n\n\n\n\n\n//#region src/messages/utils.ts\n/**\n* Immediately-invoked function expression.\n*\n* @param fn - The function to execute\n* @returns The result of the function\n*/\nconst iife = (fn) => fn();\nfunction _coerceToolCall(toolCall) {\n\tif ((0,_tools_utils_js__WEBPACK_IMPORTED_MODULE_8__._isToolCall)(toolCall)) return toolCall;\n\telse if (typeof toolCall.id === \"string\" && toolCall.type === \"function\" && typeof toolCall.function === \"object\" && toolCall.function !== null && \"arguments\" in toolCall.function && typeof toolCall.function.arguments === \"string\" && \"name\" in toolCall.function && typeof toolCall.function.name === \"string\") return {\n\t\tid: toolCall.id,\n\t\targs: JSON.parse(toolCall.function.arguments),\n\t\tname: toolCall.function.name,\n\t\ttype: \"tool_call\"\n\t};\n\telse return toolCall;\n}\nfunction isSerializedConstructor(x) {\n\treturn typeof x === \"object\" && x != null && x.lc === 1 && Array.isArray(x.id) && x.kwargs != null && typeof x.kwargs === \"object\";\n}\nfunction _constructMessageFromParams(params) {\n\tlet type;\n\tlet rest;\n\tif (isSerializedConstructor(params)) {\n\t\tconst className = params.id.at(-1);\n\t\tif (className === \"HumanMessage\" || className === \"HumanMessageChunk\") type = \"user\";\n\t\telse if (className === \"AIMessage\" || className === \"AIMessageChunk\") type = \"assistant\";\n\t\telse if (className === \"SystemMessage\" || className === \"SystemMessageChunk\") type = \"system\";\n\t\telse if (className === \"FunctionMessage\" || className === \"FunctionMessageChunk\") type = \"function\";\n\t\telse if (className === \"ToolMessage\" || className === \"ToolMessageChunk\") type = \"tool\";\n\t\telse type = \"unknown\";\n\t\trest = params.kwargs;\n\t} else {\n\t\tconst { type: extractedType,...otherParams } = params;\n\t\ttype = extractedType;\n\t\trest = otherParams;\n\t}\n\tif (type === \"human\" || type === \"user\") return new _human_js__WEBPACK_IMPORTED_MODULE_5__.HumanMessage(rest);\n\telse if (type === \"ai\" || type === \"assistant\") {\n\t\tconst { tool_calls: rawToolCalls,...other } = rest;\n\t\tif (!Array.isArray(rawToolCalls)) return new _ai_js__WEBPACK_IMPORTED_MODULE_2__.AIMessage(rest);\n\t\tconst tool_calls = rawToolCalls.map(_coerceToolCall);\n\t\treturn new _ai_js__WEBPACK_IMPORTED_MODULE_2__.AIMessage({\n\t\t\t...other,\n\t\t\ttool_calls\n\t\t});\n\t} else if (type === \"system\") return new _system_js__WEBPACK_IMPORTED_MODULE_6__.SystemMessage(rest);\n\telse if (type === \"developer\") return new _system_js__WEBPACK_IMPORTED_MODULE_6__.SystemMessage({\n\t\t...rest,\n\t\tadditional_kwargs: {\n\t\t\t...rest.additional_kwargs,\n\t\t\t__openai_role__: \"developer\"\n\t\t}\n\t});\n\telse if (type === \"tool\" && \"tool_call_id\" in rest) return new _tool_js__WEBPACK_IMPORTED_MODULE_1__.ToolMessage({\n\t\t...rest,\n\t\tcontent: rest.content,\n\t\ttool_call_id: rest.tool_call_id,\n\t\tname: rest.name\n\t});\n\telse if (type === \"remove\" && \"id\" in rest && typeof rest.id === \"string\") return new _modifier_js__WEBPACK_IMPORTED_MODULE_9__.RemoveMessage({\n\t\t...rest,\n\t\tid: rest.id\n\t});\n\telse {\n\t\tconst error = (0,_errors_index_js__WEBPACK_IMPORTED_MODULE_7__.addLangChainErrorFields)(/* @__PURE__ */ new Error(`Unable to coerce message from array: only human, AI, system, developer, or tool message coercion is currently supported.\\n\\nReceived: ${JSON.stringify(params, null, 2)}`), \"MESSAGE_COERCION_FAILURE\");\n\t\tthrow error;\n\t}\n}\nfunction coerceMessageLikeToMessage(messageLike) {\n\tif (typeof messageLike === \"string\") return new _human_js__WEBPACK_IMPORTED_MODULE_5__.HumanMessage(messageLike);\n\telse if ((0,_base_js__WEBPACK_IMPORTED_MODULE_0__.isBaseMessage)(messageLike)) return messageLike;\n\tif (Array.isArray(messageLike)) {\n\t\tconst [type, content] = messageLike;\n\t\treturn _constructMessageFromParams({\n\t\t\ttype,\n\t\t\tcontent\n\t\t});\n\t} else if ((0,_base_js__WEBPACK_IMPORTED_MODULE_0__._isMessageFieldWithRole)(messageLike)) {\n\t\tconst { role: type,...rest } = messageLike;\n\t\treturn _constructMessageFromParams({\n\t\t\t...rest,\n\t\t\ttype\n\t\t});\n\t} else return _constructMessageFromParams(messageLike);\n}\n/**\n* This function is used by memory classes to get a string representation\n* of the chat message history, based on the message content and role.\n*/\nfunction getBufferString(messages, humanPrefix = \"Human\", aiPrefix = \"AI\") {\n\tconst string_messages = [];\n\tfor (const m of messages) {\n\t\tlet role;\n\t\tif (m._getType() === \"human\") role = humanPrefix;\n\t\telse if (m._getType() === \"ai\") role = aiPrefix;\n\t\telse if (m._getType() === \"system\") role = \"System\";\n\t\telse if (m._getType() === \"tool\") role = \"Tool\";\n\t\telse if (m._getType() === \"generic\") role = m.role;\n\t\telse throw new Error(`Got unsupported message type: ${m._getType()}`);\n\t\tconst nameStr = m.name ? `${m.name}, ` : \"\";\n\t\tconst readableContent = typeof m.content === \"string\" ? m.content : JSON.stringify(m.content, null, 2);\n\t\tstring_messages.push(`${role}: ${nameStr}${readableContent}`);\n\t}\n\treturn string_messages.join(\"\\n\");\n}\n/**\n* Maps messages from an older format (V1) to the current `StoredMessage`\n* format. If the message is already in the `StoredMessage` format, it is\n* returned as is. Otherwise, it transforms the V1 message into a\n* `StoredMessage`. This function is important for maintaining\n* compatibility with older message formats.\n*/\nfunction mapV1MessageToStoredMessage(message) {\n\tif (message.data !== void 0) return message;\n\telse {\n\t\tconst v1Message = message;\n\t\treturn {\n\t\t\ttype: v1Message.type,\n\t\t\tdata: {\n\t\t\t\tcontent: v1Message.text,\n\t\t\t\trole: v1Message.role,\n\t\t\t\tname: void 0,\n\t\t\t\ttool_call_id: void 0\n\t\t\t}\n\t\t};\n\t}\n}\nfunction mapStoredMessageToChatMessage(message) {\n\tconst storedMessage = mapV1MessageToStoredMessage(message);\n\tswitch (storedMessage.type) {\n\t\tcase \"human\": return new _human_js__WEBPACK_IMPORTED_MODULE_5__.HumanMessage(storedMessage.data);\n\t\tcase \"ai\": return new _ai_js__WEBPACK_IMPORTED_MODULE_2__.AIMessage(storedMessage.data);\n\t\tcase \"system\": return new _system_js__WEBPACK_IMPORTED_MODULE_6__.SystemMessage(storedMessage.data);\n\t\tcase \"function\":\n\t\t\tif (storedMessage.data.name === void 0) throw new Error(\"Name must be defined for function messages\");\n\t\t\treturn new _function_js__WEBPACK_IMPORTED_MODULE_4__.FunctionMessage(storedMessage.data);\n\t\tcase \"tool\":\n\t\t\tif (storedMessage.data.tool_call_id === void 0) throw new Error(\"Tool call ID must be defined for tool messages\");\n\t\t\treturn new _tool_js__WEBPACK_IMPORTED_MODULE_1__.ToolMessage(storedMessage.data);\n\t\tcase \"generic\":\n\t\t\tif (storedMessage.data.role === void 0) throw new Error(\"Role must be defined for chat messages\");\n\t\t\treturn new _chat_js__WEBPACK_IMPORTED_MODULE_3__.ChatMessage(storedMessage.data);\n\t\tdefault: throw new Error(`Got unexpected type: ${storedMessage.type}`);\n\t}\n}\n/**\n* Transforms an array of `StoredMessage` instances into an array of\n* `BaseMessage` instances. It uses the `mapV1MessageToStoredMessage`\n* function to ensure all messages are in the `StoredMessage` format, then\n* creates new instances of the appropriate `BaseMessage` subclass based\n* on the type of each message. This function is used to prepare stored\n* messages for use in a chat context.\n*/\nfunction mapStoredMessagesToChatMessages(messages) {\n\treturn messages.map(mapStoredMessageToChatMessage);\n}\n/**\n* Transforms an array of `BaseMessage` instances into an array of\n* `StoredMessage` instances. It does this by calling the `toDict` method\n* on each `BaseMessage`, which returns a `StoredMessage`. This function\n* is used to prepare chat messages for storage.\n*/\nfunction mapChatMessagesToStoredMessages(messages) {\n\treturn messages.map((message) => message.toDict());\n}\nfunction convertToChunk(message) {\n\tconst type = message._getType();\n\tif (type === \"human\") return new _human_js__WEBPACK_IMPORTED_MODULE_5__.HumanMessageChunk({ ...message });\n\telse if (type === \"ai\") {\n\t\tlet aiChunkFields = { ...message };\n\t\tif (\"tool_calls\" in aiChunkFields) aiChunkFields = {\n\t\t\t...aiChunkFields,\n\t\t\ttool_call_chunks: aiChunkFields.tool_calls?.map((tc) => ({\n\t\t\t\t...tc,\n\t\t\t\ttype: \"tool_call_chunk\",\n\t\t\t\tindex: void 0,\n\t\t\t\targs: JSON.stringify(tc.args)\n\t\t\t}))\n\t\t};\n\t\treturn new _ai_js__WEBPACK_IMPORTED_MODULE_2__.AIMessageChunk({ ...aiChunkFields });\n\t} else if (type === \"system\") return new _system_js__WEBPACK_IMPORTED_MODULE_6__.SystemMessageChunk({ ...message });\n\telse if (type === \"function\") return new _function_js__WEBPACK_IMPORTED_MODULE_4__.FunctionMessageChunk({ ...message });\n\telse if (_chat_js__WEBPACK_IMPORTED_MODULE_3__.ChatMessage.isInstance(message)) return new _chat_js__WEBPACK_IMPORTED_MODULE_3__.ChatMessageChunk({ ...message });\n\telse throw new Error(\"Unknown message type.\");\n}\n\n//#endregion\n\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy91dGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFtRTtBQUMzQjtBQUNZO0FBQ007QUFDWTtBQUNUO0FBQ0c7QUFDSDtBQUNiO0FBQ0Y7O0FBRTlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssNERBQVc7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxVQUFVLHFDQUFxQztBQUMvQztBQUNBO0FBQ0E7QUFDQSxxREFBcUQsbURBQVk7QUFDakU7QUFDQSxVQUFVLG9DQUFvQztBQUM5QywrQ0FBK0MsNkNBQVM7QUFDeEQ7QUFDQSxhQUFhLDZDQUFTO0FBQ3RCO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsR0FBRyx1Q0FBdUMscURBQWE7QUFDdkQsMkNBQTJDLHFEQUFhO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0YsZ0VBQWdFLGlEQUFXO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGLHVGQUF1Rix1REFBYTtBQUNwRztBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0EsZ0JBQWdCLHlFQUF1QixvS0FBb0ssZ0NBQWdDO0FBQzNPO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELG1EQUFZO0FBQzdELFVBQVUsdURBQWE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxHQUFHLFNBQVMsaUVBQXVCO0FBQ25DLFVBQVUscUJBQXFCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCxhQUFhO0FBQ3JFLDhCQUE4QixPQUFPO0FBQ3JDO0FBQ0EsMEJBQTBCLEtBQUssSUFBSSxRQUFRLEVBQUUsZ0JBQWdCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLG1EQUFZO0FBQ3ZDLHdCQUF3Qiw2Q0FBUztBQUNqQyw0QkFBNEIscURBQWE7QUFDekM7QUFDQTtBQUNBLGNBQWMseURBQWU7QUFDN0I7QUFDQTtBQUNBLGNBQWMsaURBQVc7QUFDekI7QUFDQTtBQUNBLGNBQWMsaURBQVc7QUFDekIsbURBQW1ELG1CQUFtQjtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0Msd0RBQWlCLEdBQUcsWUFBWTtBQUNsRTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLGFBQWEsa0RBQWMsR0FBRyxrQkFBa0I7QUFDaEQsR0FBRyx1Q0FBdUMsMERBQWtCLEdBQUcsWUFBWTtBQUMzRSwwQ0FBMEMsOERBQW9CLEdBQUcsWUFBWTtBQUM3RSxVQUFVLGlEQUFXLGlDQUFpQyxzREFBZ0IsR0FBRyxZQUFZO0FBQ3JGO0FBQ0E7O0FBRUE7QUFDOEs7QUFDOUsiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL3V0aWxzLmpzPzdiOWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX2lzTWVzc2FnZUZpZWxkV2l0aFJvbGUsIGlzQmFzZU1lc3NhZ2UgfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5pbXBvcnQgeyBUb29sTWVzc2FnZSB9IGZyb20gXCIuL3Rvb2wuanNcIjtcbmltcG9ydCB7IEFJTWVzc2FnZSwgQUlNZXNzYWdlQ2h1bmsgfSBmcm9tIFwiLi9haS5qc1wiO1xuaW1wb3J0IHsgQ2hhdE1lc3NhZ2UsIENoYXRNZXNzYWdlQ2h1bmsgfSBmcm9tIFwiLi9jaGF0LmpzXCI7XG5pbXBvcnQgeyBGdW5jdGlvbk1lc3NhZ2UsIEZ1bmN0aW9uTWVzc2FnZUNodW5rIH0gZnJvbSBcIi4vZnVuY3Rpb24uanNcIjtcbmltcG9ydCB7IEh1bWFuTWVzc2FnZSwgSHVtYW5NZXNzYWdlQ2h1bmsgfSBmcm9tIFwiLi9odW1hbi5qc1wiO1xuaW1wb3J0IHsgU3lzdGVtTWVzc2FnZSwgU3lzdGVtTWVzc2FnZUNodW5rIH0gZnJvbSBcIi4vc3lzdGVtLmpzXCI7XG5pbXBvcnQgeyBhZGRMYW5nQ2hhaW5FcnJvckZpZWxkcyB9IGZyb20gXCIuLi9lcnJvcnMvaW5kZXguanNcIjtcbmltcG9ydCB7IF9pc1Rvb2xDYWxsIH0gZnJvbSBcIi4uL3Rvb2xzL3V0aWxzLmpzXCI7XG5pbXBvcnQgeyBSZW1vdmVNZXNzYWdlIH0gZnJvbSBcIi4vbW9kaWZpZXIuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9tZXNzYWdlcy91dGlscy50c1xuLyoqXG4qIEltbWVkaWF0ZWx5LWludm9rZWQgZnVuY3Rpb24gZXhwcmVzc2lvbi5cbipcbiogQHBhcmFtIGZuIC0gVGhlIGZ1bmN0aW9uIHRvIGV4ZWN1dGVcbiogQHJldHVybnMgVGhlIHJlc3VsdCBvZiB0aGUgZnVuY3Rpb25cbiovXG5jb25zdCBpaWZlID0gKGZuKSA9PiBmbigpO1xuZnVuY3Rpb24gX2NvZXJjZVRvb2xDYWxsKHRvb2xDYWxsKSB7XG5cdGlmIChfaXNUb29sQ2FsbCh0b29sQ2FsbCkpIHJldHVybiB0b29sQ2FsbDtcblx0ZWxzZSBpZiAodHlwZW9mIHRvb2xDYWxsLmlkID09PSBcInN0cmluZ1wiICYmIHRvb2xDYWxsLnR5cGUgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgdG9vbENhbGwuZnVuY3Rpb24gPT09IFwib2JqZWN0XCIgJiYgdG9vbENhbGwuZnVuY3Rpb24gIT09IG51bGwgJiYgXCJhcmd1bWVudHNcIiBpbiB0b29sQ2FsbC5mdW5jdGlvbiAmJiB0eXBlb2YgdG9vbENhbGwuZnVuY3Rpb24uYXJndW1lbnRzID09PSBcInN0cmluZ1wiICYmIFwibmFtZVwiIGluIHRvb2xDYWxsLmZ1bmN0aW9uICYmIHR5cGVvZiB0b29sQ2FsbC5mdW5jdGlvbi5uYW1lID09PSBcInN0cmluZ1wiKSByZXR1cm4ge1xuXHRcdGlkOiB0b29sQ2FsbC5pZCxcblx0XHRhcmdzOiBKU09OLnBhcnNlKHRvb2xDYWxsLmZ1bmN0aW9uLmFyZ3VtZW50cyksXG5cdFx0bmFtZTogdG9vbENhbGwuZnVuY3Rpb24ubmFtZSxcblx0XHR0eXBlOiBcInRvb2xfY2FsbFwiXG5cdH07XG5cdGVsc2UgcmV0dXJuIHRvb2xDYWxsO1xufVxuZnVuY3Rpb24gaXNTZXJpYWxpemVkQ29uc3RydWN0b3IoeCkge1xuXHRyZXR1cm4gdHlwZW9mIHggPT09IFwib2JqZWN0XCIgJiYgeCAhPSBudWxsICYmIHgubGMgPT09IDEgJiYgQXJyYXkuaXNBcnJheSh4LmlkKSAmJiB4Lmt3YXJncyAhPSBudWxsICYmIHR5cGVvZiB4Lmt3YXJncyA9PT0gXCJvYmplY3RcIjtcbn1cbmZ1bmN0aW9uIF9jb25zdHJ1Y3RNZXNzYWdlRnJvbVBhcmFtcyhwYXJhbXMpIHtcblx0bGV0IHR5cGU7XG5cdGxldCByZXN0O1xuXHRpZiAoaXNTZXJpYWxpemVkQ29uc3RydWN0b3IocGFyYW1zKSkge1xuXHRcdGNvbnN0IGNsYXNzTmFtZSA9IHBhcmFtcy5pZC5hdCgtMSk7XG5cdFx0aWYgKGNsYXNzTmFtZSA9PT0gXCJIdW1hbk1lc3NhZ2VcIiB8fCBjbGFzc05hbWUgPT09IFwiSHVtYW5NZXNzYWdlQ2h1bmtcIikgdHlwZSA9IFwidXNlclwiO1xuXHRcdGVsc2UgaWYgKGNsYXNzTmFtZSA9PT0gXCJBSU1lc3NhZ2VcIiB8fCBjbGFzc05hbWUgPT09IFwiQUlNZXNzYWdlQ2h1bmtcIikgdHlwZSA9IFwiYXNzaXN0YW50XCI7XG5cdFx0ZWxzZSBpZiAoY2xhc3NOYW1lID09PSBcIlN5c3RlbU1lc3NhZ2VcIiB8fCBjbGFzc05hbWUgPT09IFwiU3lzdGVtTWVzc2FnZUNodW5rXCIpIHR5cGUgPSBcInN5c3RlbVwiO1xuXHRcdGVsc2UgaWYgKGNsYXNzTmFtZSA9PT0gXCJGdW5jdGlvbk1lc3NhZ2VcIiB8fCBjbGFzc05hbWUgPT09IFwiRnVuY3Rpb25NZXNzYWdlQ2h1bmtcIikgdHlwZSA9IFwiZnVuY3Rpb25cIjtcblx0XHRlbHNlIGlmIChjbGFzc05hbWUgPT09IFwiVG9vbE1lc3NhZ2VcIiB8fCBjbGFzc05hbWUgPT09IFwiVG9vbE1lc3NhZ2VDaHVua1wiKSB0eXBlID0gXCJ0b29sXCI7XG5cdFx0ZWxzZSB0eXBlID0gXCJ1bmtub3duXCI7XG5cdFx0cmVzdCA9IHBhcmFtcy5rd2FyZ3M7XG5cdH0gZWxzZSB7XG5cdFx0Y29uc3QgeyB0eXBlOiBleHRyYWN0ZWRUeXBlLC4uLm90aGVyUGFyYW1zIH0gPSBwYXJhbXM7XG5cdFx0dHlwZSA9IGV4dHJhY3RlZFR5cGU7XG5cdFx0cmVzdCA9IG90aGVyUGFyYW1zO1xuXHR9XG5cdGlmICh0eXBlID09PSBcImh1bWFuXCIgfHwgdHlwZSA9PT0gXCJ1c2VyXCIpIHJldHVybiBuZXcgSHVtYW5NZXNzYWdlKHJlc3QpO1xuXHRlbHNlIGlmICh0eXBlID09PSBcImFpXCIgfHwgdHlwZSA9PT0gXCJhc3Npc3RhbnRcIikge1xuXHRcdGNvbnN0IHsgdG9vbF9jYWxsczogcmF3VG9vbENhbGxzLC4uLm90aGVyIH0gPSByZXN0O1xuXHRcdGlmICghQXJyYXkuaXNBcnJheShyYXdUb29sQ2FsbHMpKSByZXR1cm4gbmV3IEFJTWVzc2FnZShyZXN0KTtcblx0XHRjb25zdCB0b29sX2NhbGxzID0gcmF3VG9vbENhbGxzLm1hcChfY29lcmNlVG9vbENhbGwpO1xuXHRcdHJldHVybiBuZXcgQUlNZXNzYWdlKHtcblx0XHRcdC4uLm90aGVyLFxuXHRcdFx0dG9vbF9jYWxsc1xuXHRcdH0pO1xuXHR9IGVsc2UgaWYgKHR5cGUgPT09IFwic3lzdGVtXCIpIHJldHVybiBuZXcgU3lzdGVtTWVzc2FnZShyZXN0KTtcblx0ZWxzZSBpZiAodHlwZSA9PT0gXCJkZXZlbG9wZXJcIikgcmV0dXJuIG5ldyBTeXN0ZW1NZXNzYWdlKHtcblx0XHQuLi5yZXN0LFxuXHRcdGFkZGl0aW9uYWxfa3dhcmdzOiB7XG5cdFx0XHQuLi5yZXN0LmFkZGl0aW9uYWxfa3dhcmdzLFxuXHRcdFx0X19vcGVuYWlfcm9sZV9fOiBcImRldmVsb3BlclwiXG5cdFx0fVxuXHR9KTtcblx0ZWxzZSBpZiAodHlwZSA9PT0gXCJ0b29sXCIgJiYgXCJ0b29sX2NhbGxfaWRcIiBpbiByZXN0KSByZXR1cm4gbmV3IFRvb2xNZXNzYWdlKHtcblx0XHQuLi5yZXN0LFxuXHRcdGNvbnRlbnQ6IHJlc3QuY29udGVudCxcblx0XHR0b29sX2NhbGxfaWQ6IHJlc3QudG9vbF9jYWxsX2lkLFxuXHRcdG5hbWU6IHJlc3QubmFtZVxuXHR9KTtcblx0ZWxzZSBpZiAodHlwZSA9PT0gXCJyZW1vdmVcIiAmJiBcImlkXCIgaW4gcmVzdCAmJiB0eXBlb2YgcmVzdC5pZCA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIG5ldyBSZW1vdmVNZXNzYWdlKHtcblx0XHQuLi5yZXN0LFxuXHRcdGlkOiByZXN0LmlkXG5cdH0pO1xuXHRlbHNlIHtcblx0XHRjb25zdCBlcnJvciA9IGFkZExhbmdDaGFpbkVycm9yRmllbGRzKC8qIEBfX1BVUkVfXyAqLyBuZXcgRXJyb3IoYFVuYWJsZSB0byBjb2VyY2UgbWVzc2FnZSBmcm9tIGFycmF5OiBvbmx5IGh1bWFuLCBBSSwgc3lzdGVtLCBkZXZlbG9wZXIsIG9yIHRvb2wgbWVzc2FnZSBjb2VyY2lvbiBpcyBjdXJyZW50bHkgc3VwcG9ydGVkLlxcblxcblJlY2VpdmVkOiAke0pTT04uc3RyaW5naWZ5KHBhcmFtcywgbnVsbCwgMil9YCksIFwiTUVTU0FHRV9DT0VSQ0lPTl9GQUlMVVJFXCIpO1xuXHRcdHRocm93IGVycm9yO1xuXHR9XG59XG5mdW5jdGlvbiBjb2VyY2VNZXNzYWdlTGlrZVRvTWVzc2FnZShtZXNzYWdlTGlrZSkge1xuXHRpZiAodHlwZW9mIG1lc3NhZ2VMaWtlID09PSBcInN0cmluZ1wiKSByZXR1cm4gbmV3IEh1bWFuTWVzc2FnZShtZXNzYWdlTGlrZSk7XG5cdGVsc2UgaWYgKGlzQmFzZU1lc3NhZ2UobWVzc2FnZUxpa2UpKSByZXR1cm4gbWVzc2FnZUxpa2U7XG5cdGlmIChBcnJheS5pc0FycmF5KG1lc3NhZ2VMaWtlKSkge1xuXHRcdGNvbnN0IFt0eXBlLCBjb250ZW50XSA9IG1lc3NhZ2VMaWtlO1xuXHRcdHJldHVybiBfY29uc3RydWN0TWVzc2FnZUZyb21QYXJhbXMoe1xuXHRcdFx0dHlwZSxcblx0XHRcdGNvbnRlbnRcblx0XHR9KTtcblx0fSBlbHNlIGlmIChfaXNNZXNzYWdlRmllbGRXaXRoUm9sZShtZXNzYWdlTGlrZSkpIHtcblx0XHRjb25zdCB7IHJvbGU6IHR5cGUsLi4ucmVzdCB9ID0gbWVzc2FnZUxpa2U7XG5cdFx0cmV0dXJuIF9jb25zdHJ1Y3RNZXNzYWdlRnJvbVBhcmFtcyh7XG5cdFx0XHQuLi5yZXN0LFxuXHRcdFx0dHlwZVxuXHRcdH0pO1xuXHR9IGVsc2UgcmV0dXJuIF9jb25zdHJ1Y3RNZXNzYWdlRnJvbVBhcmFtcyhtZXNzYWdlTGlrZSk7XG59XG4vKipcbiogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIGJ5IG1lbW9yeSBjbGFzc2VzIHRvIGdldCBhIHN0cmluZyByZXByZXNlbnRhdGlvblxuKiBvZiB0aGUgY2hhdCBtZXNzYWdlIGhpc3RvcnksIGJhc2VkIG9uIHRoZSBtZXNzYWdlIGNvbnRlbnQgYW5kIHJvbGUuXG4qL1xuZnVuY3Rpb24gZ2V0QnVmZmVyU3RyaW5nKG1lc3NhZ2VzLCBodW1hblByZWZpeCA9IFwiSHVtYW5cIiwgYWlQcmVmaXggPSBcIkFJXCIpIHtcblx0Y29uc3Qgc3RyaW5nX21lc3NhZ2VzID0gW107XG5cdGZvciAoY29uc3QgbSBvZiBtZXNzYWdlcykge1xuXHRcdGxldCByb2xlO1xuXHRcdGlmIChtLl9nZXRUeXBlKCkgPT09IFwiaHVtYW5cIikgcm9sZSA9IGh1bWFuUHJlZml4O1xuXHRcdGVsc2UgaWYgKG0uX2dldFR5cGUoKSA9PT0gXCJhaVwiKSByb2xlID0gYWlQcmVmaXg7XG5cdFx0ZWxzZSBpZiAobS5fZ2V0VHlwZSgpID09PSBcInN5c3RlbVwiKSByb2xlID0gXCJTeXN0ZW1cIjtcblx0XHRlbHNlIGlmIChtLl9nZXRUeXBlKCkgPT09IFwidG9vbFwiKSByb2xlID0gXCJUb29sXCI7XG5cdFx0ZWxzZSBpZiAobS5fZ2V0VHlwZSgpID09PSBcImdlbmVyaWNcIikgcm9sZSA9IG0ucm9sZTtcblx0XHRlbHNlIHRocm93IG5ldyBFcnJvcihgR290IHVuc3VwcG9ydGVkIG1lc3NhZ2UgdHlwZTogJHttLl9nZXRUeXBlKCl9YCk7XG5cdFx0Y29uc3QgbmFtZVN0ciA9IG0ubmFtZSA/IGAke20ubmFtZX0sIGAgOiBcIlwiO1xuXHRcdGNvbnN0IHJlYWRhYmxlQ29udGVudCA9IHR5cGVvZiBtLmNvbnRlbnQgPT09IFwic3RyaW5nXCIgPyBtLmNvbnRlbnQgOiBKU09OLnN0cmluZ2lmeShtLmNvbnRlbnQsIG51bGwsIDIpO1xuXHRcdHN0cmluZ19tZXNzYWdlcy5wdXNoKGAke3JvbGV9OiAke25hbWVTdHJ9JHtyZWFkYWJsZUNvbnRlbnR9YCk7XG5cdH1cblx0cmV0dXJuIHN0cmluZ19tZXNzYWdlcy5qb2luKFwiXFxuXCIpO1xufVxuLyoqXG4qIE1hcHMgbWVzc2FnZXMgZnJvbSBhbiBvbGRlciBmb3JtYXQgKFYxKSB0byB0aGUgY3VycmVudCBgU3RvcmVkTWVzc2FnZWBcbiogZm9ybWF0LiBJZiB0aGUgbWVzc2FnZSBpcyBhbHJlYWR5IGluIHRoZSBgU3RvcmVkTWVzc2FnZWAgZm9ybWF0LCBpdCBpc1xuKiByZXR1cm5lZCBhcyBpcy4gT3RoZXJ3aXNlLCBpdCB0cmFuc2Zvcm1zIHRoZSBWMSBtZXNzYWdlIGludG8gYVxuKiBgU3RvcmVkTWVzc2FnZWAuIFRoaXMgZnVuY3Rpb24gaXMgaW1wb3J0YW50IGZvciBtYWludGFpbmluZ1xuKiBjb21wYXRpYmlsaXR5IHdpdGggb2xkZXIgbWVzc2FnZSBmb3JtYXRzLlxuKi9cbmZ1bmN0aW9uIG1hcFYxTWVzc2FnZVRvU3RvcmVkTWVzc2FnZShtZXNzYWdlKSB7XG5cdGlmIChtZXNzYWdlLmRhdGEgIT09IHZvaWQgMCkgcmV0dXJuIG1lc3NhZ2U7XG5cdGVsc2Uge1xuXHRcdGNvbnN0IHYxTWVzc2FnZSA9IG1lc3NhZ2U7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHR5cGU6IHYxTWVzc2FnZS50eXBlLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHRjb250ZW50OiB2MU1lc3NhZ2UudGV4dCxcblx0XHRcdFx0cm9sZTogdjFNZXNzYWdlLnJvbGUsXG5cdFx0XHRcdG5hbWU6IHZvaWQgMCxcblx0XHRcdFx0dG9vbF9jYWxsX2lkOiB2b2lkIDBcblx0XHRcdH1cblx0XHR9O1xuXHR9XG59XG5mdW5jdGlvbiBtYXBTdG9yZWRNZXNzYWdlVG9DaGF0TWVzc2FnZShtZXNzYWdlKSB7XG5cdGNvbnN0IHN0b3JlZE1lc3NhZ2UgPSBtYXBWMU1lc3NhZ2VUb1N0b3JlZE1lc3NhZ2UobWVzc2FnZSk7XG5cdHN3aXRjaCAoc3RvcmVkTWVzc2FnZS50eXBlKSB7XG5cdFx0Y2FzZSBcImh1bWFuXCI6IHJldHVybiBuZXcgSHVtYW5NZXNzYWdlKHN0b3JlZE1lc3NhZ2UuZGF0YSk7XG5cdFx0Y2FzZSBcImFpXCI6IHJldHVybiBuZXcgQUlNZXNzYWdlKHN0b3JlZE1lc3NhZ2UuZGF0YSk7XG5cdFx0Y2FzZSBcInN5c3RlbVwiOiByZXR1cm4gbmV3IFN5c3RlbU1lc3NhZ2Uoc3RvcmVkTWVzc2FnZS5kYXRhKTtcblx0XHRjYXNlIFwiZnVuY3Rpb25cIjpcblx0XHRcdGlmIChzdG9yZWRNZXNzYWdlLmRhdGEubmFtZSA9PT0gdm9pZCAwKSB0aHJvdyBuZXcgRXJyb3IoXCJOYW1lIG11c3QgYmUgZGVmaW5lZCBmb3IgZnVuY3Rpb24gbWVzc2FnZXNcIik7XG5cdFx0XHRyZXR1cm4gbmV3IEZ1bmN0aW9uTWVzc2FnZShzdG9yZWRNZXNzYWdlLmRhdGEpO1xuXHRcdGNhc2UgXCJ0b29sXCI6XG5cdFx0XHRpZiAoc3RvcmVkTWVzc2FnZS5kYXRhLnRvb2xfY2FsbF9pZCA9PT0gdm9pZCAwKSB0aHJvdyBuZXcgRXJyb3IoXCJUb29sIGNhbGwgSUQgbXVzdCBiZSBkZWZpbmVkIGZvciB0b29sIG1lc3NhZ2VzXCIpO1xuXHRcdFx0cmV0dXJuIG5ldyBUb29sTWVzc2FnZShzdG9yZWRNZXNzYWdlLmRhdGEpO1xuXHRcdGNhc2UgXCJnZW5lcmljXCI6XG5cdFx0XHRpZiAoc3RvcmVkTWVzc2FnZS5kYXRhLnJvbGUgPT09IHZvaWQgMCkgdGhyb3cgbmV3IEVycm9yKFwiUm9sZSBtdXN0IGJlIGRlZmluZWQgZm9yIGNoYXQgbWVzc2FnZXNcIik7XG5cdFx0XHRyZXR1cm4gbmV3IENoYXRNZXNzYWdlKHN0b3JlZE1lc3NhZ2UuZGF0YSk7XG5cdFx0ZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKGBHb3QgdW5leHBlY3RlZCB0eXBlOiAke3N0b3JlZE1lc3NhZ2UudHlwZX1gKTtcblx0fVxufVxuLyoqXG4qIFRyYW5zZm9ybXMgYW4gYXJyYXkgb2YgYFN0b3JlZE1lc3NhZ2VgIGluc3RhbmNlcyBpbnRvIGFuIGFycmF5IG9mXG4qIGBCYXNlTWVzc2FnZWAgaW5zdGFuY2VzLiBJdCB1c2VzIHRoZSBgbWFwVjFNZXNzYWdlVG9TdG9yZWRNZXNzYWdlYFxuKiBmdW5jdGlvbiB0byBlbnN1cmUgYWxsIG1lc3NhZ2VzIGFyZSBpbiB0aGUgYFN0b3JlZE1lc3NhZ2VgIGZvcm1hdCwgdGhlblxuKiBjcmVhdGVzIG5ldyBpbnN0YW5jZXMgb2YgdGhlIGFwcHJvcHJpYXRlIGBCYXNlTWVzc2FnZWAgc3ViY2xhc3MgYmFzZWRcbiogb24gdGhlIHR5cGUgb2YgZWFjaCBtZXNzYWdlLiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gcHJlcGFyZSBzdG9yZWRcbiogbWVzc2FnZXMgZm9yIHVzZSBpbiBhIGNoYXQgY29udGV4dC5cbiovXG5mdW5jdGlvbiBtYXBTdG9yZWRNZXNzYWdlc1RvQ2hhdE1lc3NhZ2VzKG1lc3NhZ2VzKSB7XG5cdHJldHVybiBtZXNzYWdlcy5tYXAobWFwU3RvcmVkTWVzc2FnZVRvQ2hhdE1lc3NhZ2UpO1xufVxuLyoqXG4qIFRyYW5zZm9ybXMgYW4gYXJyYXkgb2YgYEJhc2VNZXNzYWdlYCBpbnN0YW5jZXMgaW50byBhbiBhcnJheSBvZlxuKiBgU3RvcmVkTWVzc2FnZWAgaW5zdGFuY2VzLiBJdCBkb2VzIHRoaXMgYnkgY2FsbGluZyB0aGUgYHRvRGljdGAgbWV0aG9kXG4qIG9uIGVhY2ggYEJhc2VNZXNzYWdlYCwgd2hpY2ggcmV0dXJucyBhIGBTdG9yZWRNZXNzYWdlYC4gVGhpcyBmdW5jdGlvblxuKiBpcyB1c2VkIHRvIHByZXBhcmUgY2hhdCBtZXNzYWdlcyBmb3Igc3RvcmFnZS5cbiovXG5mdW5jdGlvbiBtYXBDaGF0TWVzc2FnZXNUb1N0b3JlZE1lc3NhZ2VzKG1lc3NhZ2VzKSB7XG5cdHJldHVybiBtZXNzYWdlcy5tYXAoKG1lc3NhZ2UpID0+IG1lc3NhZ2UudG9EaWN0KCkpO1xufVxuZnVuY3Rpb24gY29udmVydFRvQ2h1bmsobWVzc2FnZSkge1xuXHRjb25zdCB0eXBlID0gbWVzc2FnZS5fZ2V0VHlwZSgpO1xuXHRpZiAodHlwZSA9PT0gXCJodW1hblwiKSByZXR1cm4gbmV3IEh1bWFuTWVzc2FnZUNodW5rKHsgLi4ubWVzc2FnZSB9KTtcblx0ZWxzZSBpZiAodHlwZSA9PT0gXCJhaVwiKSB7XG5cdFx0bGV0IGFpQ2h1bmtGaWVsZHMgPSB7IC4uLm1lc3NhZ2UgfTtcblx0XHRpZiAoXCJ0b29sX2NhbGxzXCIgaW4gYWlDaHVua0ZpZWxkcykgYWlDaHVua0ZpZWxkcyA9IHtcblx0XHRcdC4uLmFpQ2h1bmtGaWVsZHMsXG5cdFx0XHR0b29sX2NhbGxfY2h1bmtzOiBhaUNodW5rRmllbGRzLnRvb2xfY2FsbHM/Lm1hcCgodGMpID0+ICh7XG5cdFx0XHRcdC4uLnRjLFxuXHRcdFx0XHR0eXBlOiBcInRvb2xfY2FsbF9jaHVua1wiLFxuXHRcdFx0XHRpbmRleDogdm9pZCAwLFxuXHRcdFx0XHRhcmdzOiBKU09OLnN0cmluZ2lmeSh0Yy5hcmdzKVxuXHRcdFx0fSkpXG5cdFx0fTtcblx0XHRyZXR1cm4gbmV3IEFJTWVzc2FnZUNodW5rKHsgLi4uYWlDaHVua0ZpZWxkcyB9KTtcblx0fSBlbHNlIGlmICh0eXBlID09PSBcInN5c3RlbVwiKSByZXR1cm4gbmV3IFN5c3RlbU1lc3NhZ2VDaHVuayh7IC4uLm1lc3NhZ2UgfSk7XG5cdGVsc2UgaWYgKHR5cGUgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIG5ldyBGdW5jdGlvbk1lc3NhZ2VDaHVuayh7IC4uLm1lc3NhZ2UgfSk7XG5cdGVsc2UgaWYgKENoYXRNZXNzYWdlLmlzSW5zdGFuY2UobWVzc2FnZSkpIHJldHVybiBuZXcgQ2hhdE1lc3NhZ2VDaHVuayh7IC4uLm1lc3NhZ2UgfSk7XG5cdGVsc2UgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBtZXNzYWdlIHR5cGUuXCIpO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IGNvZXJjZU1lc3NhZ2VMaWtlVG9NZXNzYWdlLCBjb252ZXJ0VG9DaHVuaywgZ2V0QnVmZmVyU3RyaW5nLCBpaWZlLCBtYXBDaGF0TWVzc2FnZXNUb1N0b3JlZE1lc3NhZ2VzLCBtYXBTdG9yZWRNZXNzYWdlVG9DaGF0TWVzc2FnZSwgbWFwU3RvcmVkTWVzc2FnZXNUb0NoYXRNZXNzYWdlcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/utils.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/base.js":
/*!***********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/base.js ***!
  \***********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseLLMOutputParser: () => (/* binding */ BaseLLMOutputParser),\n/* harmony export */   BaseOutputParser: () => (/* binding */ BaseOutputParser),\n/* harmony export */   OutputParserException: () => (/* binding */ OutputParserException)\n/* harmony export */ });\n/* harmony import */ var _errors_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/errors/index.js\");\n/* harmony import */ var _runnables_base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../runnables/base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/base.js\");\n/* harmony import */ var _runnables_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../runnables/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/index.js\");\n\n\n\n\n//#region src/output_parsers/base.ts\n/**\n* Abstract base class for parsing the output of a Large Language Model\n* (LLM) call. It provides methods for parsing the result of an LLM call\n* and invoking the parser with a given input.\n*/\nvar BaseLLMOutputParser = class extends _runnables_base_js__WEBPACK_IMPORTED_MODULE_1__.Runnable {\n\t/**\n\t* Parses the result of an LLM call with a given prompt. By default, it\n\t* simply calls `parseResult`.\n\t* @param generations The generations from an LLM call.\n\t* @param _prompt The prompt used in the LLM call.\n\t* @param callbacks Optional callbacks.\n\t* @returns A promise of the parsed output.\n\t*/\n\tparseResultWithPrompt(generations, _prompt, callbacks) {\n\t\treturn this.parseResult(generations, callbacks);\n\t}\n\t_baseMessageToString(message) {\n\t\treturn typeof message.content === \"string\" ? message.content : this._baseMessageContentToString(message.content);\n\t}\n\t_baseMessageContentToString(content) {\n\t\treturn JSON.stringify(content);\n\t}\n\t/**\n\t* Calls the parser with a given input and optional configuration options.\n\t* If the input is a string, it creates a generation with the input as\n\t* text and calls `parseResult`. If the input is a `BaseMessage`, it\n\t* creates a generation with the input as a message and the content of the\n\t* input as text, and then calls `parseResult`.\n\t* @param input The input to the parser, which can be a string or a `BaseMessage`.\n\t* @param options Optional configuration options.\n\t* @returns A promise of the parsed output.\n\t*/\n\tasync invoke(input, options) {\n\t\tif (typeof input === \"string\") return this._callWithConfig(async (input$1, options$1) => this.parseResult([{ text: input$1 }], options$1?.callbacks), input, {\n\t\t\t...options,\n\t\t\trunType: \"parser\"\n\t\t});\n\t\telse return this._callWithConfig(async (input$1, options$1) => this.parseResult([{\n\t\t\tmessage: input$1,\n\t\t\ttext: this._baseMessageToString(input$1)\n\t\t}], options$1?.callbacks), input, {\n\t\t\t...options,\n\t\t\trunType: \"parser\"\n\t\t});\n\t}\n};\n/**\n* Class to parse the output of an LLM call.\n*/\nvar BaseOutputParser = class extends BaseLLMOutputParser {\n\tparseResult(generations, callbacks) {\n\t\treturn this.parse(generations[0].text, callbacks);\n\t}\n\tasync parseWithPrompt(text, _prompt, callbacks) {\n\t\treturn this.parse(text, callbacks);\n\t}\n\t/**\n\t* Return the string type key uniquely identifying this class of parser\n\t*/\n\t_type() {\n\t\tthrow new Error(\"_type not implemented\");\n\t}\n};\n/**\n* Exception that output parsers should raise to signify a parsing error.\n*\n* This exists to differentiate parsing errors from other code or execution errors\n* that also may arise inside the output parser. OutputParserExceptions will be\n* available to catch and handle in ways to fix the parsing error, while other\n* errors will be raised.\n*\n* @param message - The error that's being re-raised or an error message.\n* @param llmOutput - String model output which is error-ing.\n* @param observation - String explanation of error which can be passed to a\n*     model to try and remediate the issue.\n* @param sendToLLM - Whether to send the observation and llm_output back to an Agent\n*     after an OutputParserException has been raised. This gives the underlying\n*     model driving the agent the context that the previous output was improperly\n*     structured, in the hopes that it will update the output to the correct\n*     format.\n*/\nvar OutputParserException = class extends Error {\n\tllmOutput;\n\tobservation;\n\tsendToLLM;\n\tconstructor(message, llmOutput, observation, sendToLLM = false) {\n\t\tsuper(message);\n\t\tthis.llmOutput = llmOutput;\n\t\tthis.observation = observation;\n\t\tthis.sendToLLM = sendToLLM;\n\t\tif (sendToLLM) {\n\t\t\tif (observation === void 0 || llmOutput === void 0) throw new Error(\"Arguments 'observation' & 'llmOutput' are required if 'sendToLlm' is true\");\n\t\t}\n\t\t(0,_errors_index_js__WEBPACK_IMPORTED_MODULE_0__.addLangChainErrorFields)(this, \"OUTPUT_PARSING_FAILURE\");\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=base.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9vdXRwdXRfcGFyc2Vycy9iYXNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUE2RDtBQUNiO0FBQ2pCOztBQUUvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0Msd0RBQVE7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrR0FBK0csZUFBZTtBQUM5SDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSx5RUFBdUI7QUFDekI7QUFDQTs7QUFFQTtBQUN3RTtBQUN4RSIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3Qvb3V0cHV0X3BhcnNlcnMvYmFzZS5qcz8zYWJjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFkZExhbmdDaGFpbkVycm9yRmllbGRzIH0gZnJvbSBcIi4uL2Vycm9ycy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgUnVubmFibGUgfSBmcm9tIFwiLi4vcnVubmFibGVzL2Jhc2UuanNcIjtcbmltcG9ydCBcIi4uL3J1bm5hYmxlcy9pbmRleC5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL291dHB1dF9wYXJzZXJzL2Jhc2UudHNcbi8qKlxuKiBBYnN0cmFjdCBiYXNlIGNsYXNzIGZvciBwYXJzaW5nIHRoZSBvdXRwdXQgb2YgYSBMYXJnZSBMYW5ndWFnZSBNb2RlbFxuKiAoTExNKSBjYWxsLiBJdCBwcm92aWRlcyBtZXRob2RzIGZvciBwYXJzaW5nIHRoZSByZXN1bHQgb2YgYW4gTExNIGNhbGxcbiogYW5kIGludm9raW5nIHRoZSBwYXJzZXIgd2l0aCBhIGdpdmVuIGlucHV0LlxuKi9cbnZhciBCYXNlTExNT3V0cHV0UGFyc2VyID0gY2xhc3MgZXh0ZW5kcyBSdW5uYWJsZSB7XG5cdC8qKlxuXHQqIFBhcnNlcyB0aGUgcmVzdWx0IG9mIGFuIExMTSBjYWxsIHdpdGggYSBnaXZlbiBwcm9tcHQuIEJ5IGRlZmF1bHQsIGl0XG5cdCogc2ltcGx5IGNhbGxzIGBwYXJzZVJlc3VsdGAuXG5cdCogQHBhcmFtIGdlbmVyYXRpb25zIFRoZSBnZW5lcmF0aW9ucyBmcm9tIGFuIExMTSBjYWxsLlxuXHQqIEBwYXJhbSBfcHJvbXB0IFRoZSBwcm9tcHQgdXNlZCBpbiB0aGUgTExNIGNhbGwuXG5cdCogQHBhcmFtIGNhbGxiYWNrcyBPcHRpb25hbCBjYWxsYmFja3MuXG5cdCogQHJldHVybnMgQSBwcm9taXNlIG9mIHRoZSBwYXJzZWQgb3V0cHV0LlxuXHQqL1xuXHRwYXJzZVJlc3VsdFdpdGhQcm9tcHQoZ2VuZXJhdGlvbnMsIF9wcm9tcHQsIGNhbGxiYWNrcykge1xuXHRcdHJldHVybiB0aGlzLnBhcnNlUmVzdWx0KGdlbmVyYXRpb25zLCBjYWxsYmFja3MpO1xuXHR9XG5cdF9iYXNlTWVzc2FnZVRvU3RyaW5nKG1lc3NhZ2UpIHtcblx0XHRyZXR1cm4gdHlwZW9mIG1lc3NhZ2UuY29udGVudCA9PT0gXCJzdHJpbmdcIiA/IG1lc3NhZ2UuY29udGVudCA6IHRoaXMuX2Jhc2VNZXNzYWdlQ29udGVudFRvU3RyaW5nKG1lc3NhZ2UuY29udGVudCk7XG5cdH1cblx0X2Jhc2VNZXNzYWdlQ29udGVudFRvU3RyaW5nKGNvbnRlbnQpIHtcblx0XHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkoY29udGVudCk7XG5cdH1cblx0LyoqXG5cdCogQ2FsbHMgdGhlIHBhcnNlciB3aXRoIGEgZ2l2ZW4gaW5wdXQgYW5kIG9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb3B0aW9ucy5cblx0KiBJZiB0aGUgaW5wdXQgaXMgYSBzdHJpbmcsIGl0IGNyZWF0ZXMgYSBnZW5lcmF0aW9uIHdpdGggdGhlIGlucHV0IGFzXG5cdCogdGV4dCBhbmQgY2FsbHMgYHBhcnNlUmVzdWx0YC4gSWYgdGhlIGlucHV0IGlzIGEgYEJhc2VNZXNzYWdlYCwgaXRcblx0KiBjcmVhdGVzIGEgZ2VuZXJhdGlvbiB3aXRoIHRoZSBpbnB1dCBhcyBhIG1lc3NhZ2UgYW5kIHRoZSBjb250ZW50IG9mIHRoZVxuXHQqIGlucHV0IGFzIHRleHQsIGFuZCB0aGVuIGNhbGxzIGBwYXJzZVJlc3VsdGAuXG5cdCogQHBhcmFtIGlucHV0IFRoZSBpbnB1dCB0byB0aGUgcGFyc2VyLCB3aGljaCBjYW4gYmUgYSBzdHJpbmcgb3IgYSBgQmFzZU1lc3NhZ2VgLlxuXHQqIEBwYXJhbSBvcHRpb25zIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb3B0aW9ucy5cblx0KiBAcmV0dXJucyBBIHByb21pc2Ugb2YgdGhlIHBhcnNlZCBvdXRwdXQuXG5cdCovXG5cdGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuXHRcdGlmICh0eXBlb2YgaW5wdXQgPT09IFwic3RyaW5nXCIpIHJldHVybiB0aGlzLl9jYWxsV2l0aENvbmZpZyhhc3luYyAoaW5wdXQkMSwgb3B0aW9ucyQxKSA9PiB0aGlzLnBhcnNlUmVzdWx0KFt7IHRleHQ6IGlucHV0JDEgfV0sIG9wdGlvbnMkMT8uY2FsbGJhY2tzKSwgaW5wdXQsIHtcblx0XHRcdC4uLm9wdGlvbnMsXG5cdFx0XHRydW5UeXBlOiBcInBhcnNlclwiXG5cdFx0fSk7XG5cdFx0ZWxzZSByZXR1cm4gdGhpcy5fY2FsbFdpdGhDb25maWcoYXN5bmMgKGlucHV0JDEsIG9wdGlvbnMkMSkgPT4gdGhpcy5wYXJzZVJlc3VsdChbe1xuXHRcdFx0bWVzc2FnZTogaW5wdXQkMSxcblx0XHRcdHRleHQ6IHRoaXMuX2Jhc2VNZXNzYWdlVG9TdHJpbmcoaW5wdXQkMSlcblx0XHR9XSwgb3B0aW9ucyQxPy5jYWxsYmFja3MpLCBpbnB1dCwge1xuXHRcdFx0Li4ub3B0aW9ucyxcblx0XHRcdHJ1blR5cGU6IFwicGFyc2VyXCJcblx0XHR9KTtcblx0fVxufTtcbi8qKlxuKiBDbGFzcyB0byBwYXJzZSB0aGUgb3V0cHV0IG9mIGFuIExMTSBjYWxsLlxuKi9cbnZhciBCYXNlT3V0cHV0UGFyc2VyID0gY2xhc3MgZXh0ZW5kcyBCYXNlTExNT3V0cHV0UGFyc2VyIHtcblx0cGFyc2VSZXN1bHQoZ2VuZXJhdGlvbnMsIGNhbGxiYWNrcykge1xuXHRcdHJldHVybiB0aGlzLnBhcnNlKGdlbmVyYXRpb25zWzBdLnRleHQsIGNhbGxiYWNrcyk7XG5cdH1cblx0YXN5bmMgcGFyc2VXaXRoUHJvbXB0KHRleHQsIF9wcm9tcHQsIGNhbGxiYWNrcykge1xuXHRcdHJldHVybiB0aGlzLnBhcnNlKHRleHQsIGNhbGxiYWNrcyk7XG5cdH1cblx0LyoqXG5cdCogUmV0dXJuIHRoZSBzdHJpbmcgdHlwZSBrZXkgdW5pcXVlbHkgaWRlbnRpZnlpbmcgdGhpcyBjbGFzcyBvZiBwYXJzZXJcblx0Ki9cblx0X3R5cGUoKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiX3R5cGUgbm90IGltcGxlbWVudGVkXCIpO1xuXHR9XG59O1xuLyoqXG4qIEV4Y2VwdGlvbiB0aGF0IG91dHB1dCBwYXJzZXJzIHNob3VsZCByYWlzZSB0byBzaWduaWZ5IGEgcGFyc2luZyBlcnJvci5cbipcbiogVGhpcyBleGlzdHMgdG8gZGlmZmVyZW50aWF0ZSBwYXJzaW5nIGVycm9ycyBmcm9tIG90aGVyIGNvZGUgb3IgZXhlY3V0aW9uIGVycm9yc1xuKiB0aGF0IGFsc28gbWF5IGFyaXNlIGluc2lkZSB0aGUgb3V0cHV0IHBhcnNlci4gT3V0cHV0UGFyc2VyRXhjZXB0aW9ucyB3aWxsIGJlXG4qIGF2YWlsYWJsZSB0byBjYXRjaCBhbmQgaGFuZGxlIGluIHdheXMgdG8gZml4IHRoZSBwYXJzaW5nIGVycm9yLCB3aGlsZSBvdGhlclxuKiBlcnJvcnMgd2lsbCBiZSByYWlzZWQuXG4qXG4qIEBwYXJhbSBtZXNzYWdlIC0gVGhlIGVycm9yIHRoYXQncyBiZWluZyByZS1yYWlzZWQgb3IgYW4gZXJyb3IgbWVzc2FnZS5cbiogQHBhcmFtIGxsbU91dHB1dCAtIFN0cmluZyBtb2RlbCBvdXRwdXQgd2hpY2ggaXMgZXJyb3ItaW5nLlxuKiBAcGFyYW0gb2JzZXJ2YXRpb24gLSBTdHJpbmcgZXhwbGFuYXRpb24gb2YgZXJyb3Igd2hpY2ggY2FuIGJlIHBhc3NlZCB0byBhXG4qICAgICBtb2RlbCB0byB0cnkgYW5kIHJlbWVkaWF0ZSB0aGUgaXNzdWUuXG4qIEBwYXJhbSBzZW5kVG9MTE0gLSBXaGV0aGVyIHRvIHNlbmQgdGhlIG9ic2VydmF0aW9uIGFuZCBsbG1fb3V0cHV0IGJhY2sgdG8gYW4gQWdlbnRcbiogICAgIGFmdGVyIGFuIE91dHB1dFBhcnNlckV4Y2VwdGlvbiBoYXMgYmVlbiByYWlzZWQuIFRoaXMgZ2l2ZXMgdGhlIHVuZGVybHlpbmdcbiogICAgIG1vZGVsIGRyaXZpbmcgdGhlIGFnZW50IHRoZSBjb250ZXh0IHRoYXQgdGhlIHByZXZpb3VzIG91dHB1dCB3YXMgaW1wcm9wZXJseVxuKiAgICAgc3RydWN0dXJlZCwgaW4gdGhlIGhvcGVzIHRoYXQgaXQgd2lsbCB1cGRhdGUgdGhlIG91dHB1dCB0byB0aGUgY29ycmVjdFxuKiAgICAgZm9ybWF0LlxuKi9cbnZhciBPdXRwdXRQYXJzZXJFeGNlcHRpb24gPSBjbGFzcyBleHRlbmRzIEVycm9yIHtcblx0bGxtT3V0cHV0O1xuXHRvYnNlcnZhdGlvbjtcblx0c2VuZFRvTExNO1xuXHRjb25zdHJ1Y3RvcihtZXNzYWdlLCBsbG1PdXRwdXQsIG9ic2VydmF0aW9uLCBzZW5kVG9MTE0gPSBmYWxzZSkge1xuXHRcdHN1cGVyKG1lc3NhZ2UpO1xuXHRcdHRoaXMubGxtT3V0cHV0ID0gbGxtT3V0cHV0O1xuXHRcdHRoaXMub2JzZXJ2YXRpb24gPSBvYnNlcnZhdGlvbjtcblx0XHR0aGlzLnNlbmRUb0xMTSA9IHNlbmRUb0xMTTtcblx0XHRpZiAoc2VuZFRvTExNKSB7XG5cdFx0XHRpZiAob2JzZXJ2YXRpb24gPT09IHZvaWQgMCB8fCBsbG1PdXRwdXQgPT09IHZvaWQgMCkgdGhyb3cgbmV3IEVycm9yKFwiQXJndW1lbnRzICdvYnNlcnZhdGlvbicgJiAnbGxtT3V0cHV0JyBhcmUgcmVxdWlyZWQgaWYgJ3NlbmRUb0xsbScgaXMgdHJ1ZVwiKTtcblx0XHR9XG5cdFx0YWRkTGFuZ0NoYWluRXJyb3JGaWVsZHModGhpcywgXCJPVVRQVVRfUEFSU0lOR19GQUlMVVJFXCIpO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEJhc2VMTE1PdXRwdXRQYXJzZXIsIEJhc2VPdXRwdXRQYXJzZXIsIE91dHB1dFBhcnNlckV4Y2VwdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmFzZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/base.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/bytes.js":
/*!************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/bytes.js ***!
  \************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BytesOutputParser: () => (/* binding */ BytesOutputParser)\n/* harmony export */ });\n/* harmony import */ var _transform_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./transform.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/transform.js\");\n\n\n//#region src/output_parsers/bytes.ts\n/**\n* OutputParser that parses LLMResult into the top likely string and\n* encodes it into bytes.\n*/\nvar BytesOutputParser = class extends _transform_js__WEBPACK_IMPORTED_MODULE_0__.BaseTransformOutputParser {\n\tstatic lc_name() {\n\t\treturn \"BytesOutputParser\";\n\t}\n\tlc_namespace = [\n\t\t\"langchain_core\",\n\t\t\"output_parsers\",\n\t\t\"bytes\"\n\t];\n\tlc_serializable = true;\n\ttextEncoder = new TextEncoder();\n\tparse(text) {\n\t\treturn Promise.resolve(this.textEncoder.encode(text));\n\t}\n\tgetFormatInstructions() {\n\t\treturn \"\";\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=bytes.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9vdXRwdXRfcGFyc2Vycy9ieXRlcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUEyRDs7QUFFM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxvRUFBeUI7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUM2QjtBQUM3QiIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3Qvb3V0cHV0X3BhcnNlcnMvYnl0ZXMuanM/OGMwMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYXNlVHJhbnNmb3JtT3V0cHV0UGFyc2VyIH0gZnJvbSBcIi4vdHJhbnNmb3JtLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvb3V0cHV0X3BhcnNlcnMvYnl0ZXMudHNcbi8qKlxuKiBPdXRwdXRQYXJzZXIgdGhhdCBwYXJzZXMgTExNUmVzdWx0IGludG8gdGhlIHRvcCBsaWtlbHkgc3RyaW5nIGFuZFxuKiBlbmNvZGVzIGl0IGludG8gYnl0ZXMuXG4qL1xudmFyIEJ5dGVzT3V0cHV0UGFyc2VyID0gY2xhc3MgZXh0ZW5kcyBCYXNlVHJhbnNmb3JtT3V0cHV0UGFyc2VyIHtcblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiQnl0ZXNPdXRwdXRQYXJzZXJcIjtcblx0fVxuXHRsY19uYW1lc3BhY2UgPSBbXG5cdFx0XCJsYW5nY2hhaW5fY29yZVwiLFxuXHRcdFwib3V0cHV0X3BhcnNlcnNcIixcblx0XHRcImJ5dGVzXCJcblx0XTtcblx0bGNfc2VyaWFsaXphYmxlID0gdHJ1ZTtcblx0dGV4dEVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKTtcblx0cGFyc2UodGV4dCkge1xuXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy50ZXh0RW5jb2Rlci5lbmNvZGUodGV4dCkpO1xuXHR9XG5cdGdldEZvcm1hdEluc3RydWN0aW9ucygpIHtcblx0XHRyZXR1cm4gXCJcIjtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBCeXRlc091dHB1dFBhcnNlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Ynl0ZXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/bytes.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/index.js":
/*!************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/index.js ***!
  \************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AsymmetricStructuredOutputParser: () => (/* reexport safe */ _structured_js__WEBPACK_IMPORTED_MODULE_7__.AsymmetricStructuredOutputParser),\n/* harmony export */   BaseCumulativeTransformOutputParser: () => (/* reexport safe */ _transform_js__WEBPACK_IMPORTED_MODULE_3__.BaseCumulativeTransformOutputParser),\n/* harmony export */   BaseLLMOutputParser: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_2__.BaseLLMOutputParser),\n/* harmony export */   BaseOutputParser: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_2__.BaseOutputParser),\n/* harmony export */   BaseTransformOutputParser: () => (/* reexport safe */ _transform_js__WEBPACK_IMPORTED_MODULE_3__.BaseTransformOutputParser),\n/* harmony export */   BytesOutputParser: () => (/* reexport safe */ _bytes_js__WEBPACK_IMPORTED_MODULE_4__.BytesOutputParser),\n/* harmony export */   CommaSeparatedListOutputParser: () => (/* reexport safe */ _list_js__WEBPACK_IMPORTED_MODULE_5__.CommaSeparatedListOutputParser),\n/* harmony export */   CustomListOutputParser: () => (/* reexport safe */ _list_js__WEBPACK_IMPORTED_MODULE_5__.CustomListOutputParser),\n/* harmony export */   JsonMarkdownStructuredOutputParser: () => (/* reexport safe */ _structured_js__WEBPACK_IMPORTED_MODULE_7__.JsonMarkdownStructuredOutputParser),\n/* harmony export */   JsonOutputParser: () => (/* reexport safe */ _json_js__WEBPACK_IMPORTED_MODULE_8__.JsonOutputParser),\n/* harmony export */   ListOutputParser: () => (/* reexport safe */ _list_js__WEBPACK_IMPORTED_MODULE_5__.ListOutputParser),\n/* harmony export */   MarkdownListOutputParser: () => (/* reexport safe */ _list_js__WEBPACK_IMPORTED_MODULE_5__.MarkdownListOutputParser),\n/* harmony export */   NumberedListOutputParser: () => (/* reexport safe */ _list_js__WEBPACK_IMPORTED_MODULE_5__.NumberedListOutputParser),\n/* harmony export */   OutputParserException: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_2__.OutputParserException),\n/* harmony export */   StringOutputParser: () => (/* reexport safe */ _string_js__WEBPACK_IMPORTED_MODULE_6__.StringOutputParser),\n/* harmony export */   StructuredOutputParser: () => (/* reexport safe */ _structured_js__WEBPACK_IMPORTED_MODULE_7__.StructuredOutputParser),\n/* harmony export */   XMLOutputParser: () => (/* reexport safe */ _xml_js__WEBPACK_IMPORTED_MODULE_9__.XMLOutputParser),\n/* harmony export */   XML_FORMAT_INSTRUCTIONS: () => (/* reexport safe */ _xml_js__WEBPACK_IMPORTED_MODULE_9__.XML_FORMAT_INSTRUCTIONS),\n/* harmony export */   output_parsers_exports: () => (/* binding */ output_parsers_exports),\n/* harmony export */   parseJsonMarkdown: () => (/* reexport safe */ _utils_json_js__WEBPACK_IMPORTED_MODULE_1__.parseJsonMarkdown),\n/* harmony export */   parsePartialJson: () => (/* reexport safe */ _utils_json_js__WEBPACK_IMPORTED_MODULE_1__.parsePartialJson),\n/* harmony export */   parseXMLMarkdown: () => (/* reexport safe */ _xml_js__WEBPACK_IMPORTED_MODULE_9__.parseXMLMarkdown)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _utils_json_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/json.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/json.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/base.js\");\n/* harmony import */ var _transform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./transform.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/transform.js\");\n/* harmony import */ var _bytes_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./bytes.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/bytes.js\");\n/* harmony import */ var _list_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./list.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/list.js\");\n/* harmony import */ var _string_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./string.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/string.js\");\n/* harmony import */ var _structured_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./structured.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/structured.js\");\n/* harmony import */ var _json_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./json.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/json.js\");\n/* harmony import */ var _xml_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./xml.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/xml.js\");\n\n\n\n\n\n\n\n\n\n\n\n//#region src/output_parsers/index.ts\nvar output_parsers_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(output_parsers_exports, {\n\tAsymmetricStructuredOutputParser: () => _structured_js__WEBPACK_IMPORTED_MODULE_7__.AsymmetricStructuredOutputParser,\n\tBaseCumulativeTransformOutputParser: () => _transform_js__WEBPACK_IMPORTED_MODULE_3__.BaseCumulativeTransformOutputParser,\n\tBaseLLMOutputParser: () => _base_js__WEBPACK_IMPORTED_MODULE_2__.BaseLLMOutputParser,\n\tBaseOutputParser: () => _base_js__WEBPACK_IMPORTED_MODULE_2__.BaseOutputParser,\n\tBaseTransformOutputParser: () => _transform_js__WEBPACK_IMPORTED_MODULE_3__.BaseTransformOutputParser,\n\tBytesOutputParser: () => _bytes_js__WEBPACK_IMPORTED_MODULE_4__.BytesOutputParser,\n\tCommaSeparatedListOutputParser: () => _list_js__WEBPACK_IMPORTED_MODULE_5__.CommaSeparatedListOutputParser,\n\tCustomListOutputParser: () => _list_js__WEBPACK_IMPORTED_MODULE_5__.CustomListOutputParser,\n\tJsonMarkdownStructuredOutputParser: () => _structured_js__WEBPACK_IMPORTED_MODULE_7__.JsonMarkdownStructuredOutputParser,\n\tJsonOutputParser: () => _json_js__WEBPACK_IMPORTED_MODULE_8__.JsonOutputParser,\n\tListOutputParser: () => _list_js__WEBPACK_IMPORTED_MODULE_5__.ListOutputParser,\n\tMarkdownListOutputParser: () => _list_js__WEBPACK_IMPORTED_MODULE_5__.MarkdownListOutputParser,\n\tNumberedListOutputParser: () => _list_js__WEBPACK_IMPORTED_MODULE_5__.NumberedListOutputParser,\n\tOutputParserException: () => _base_js__WEBPACK_IMPORTED_MODULE_2__.OutputParserException,\n\tStringOutputParser: () => _string_js__WEBPACK_IMPORTED_MODULE_6__.StringOutputParser,\n\tStructuredOutputParser: () => _structured_js__WEBPACK_IMPORTED_MODULE_7__.StructuredOutputParser,\n\tXMLOutputParser: () => _xml_js__WEBPACK_IMPORTED_MODULE_9__.XMLOutputParser,\n\tXML_FORMAT_INSTRUCTIONS: () => _xml_js__WEBPACK_IMPORTED_MODULE_9__.XML_FORMAT_INSTRUCTIONS,\n\tparseJsonMarkdown: () => _utils_json_js__WEBPACK_IMPORTED_MODULE_1__.parseJsonMarkdown,\n\tparsePartialJson: () => _utils_json_js__WEBPACK_IMPORTED_MODULE_1__.parsePartialJson,\n\tparseXMLMarkdown: () => _xml_js__WEBPACK_IMPORTED_MODULE_9__.parseXMLMarkdown\n});\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9vdXRwdXRfcGFyc2Vycy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEyRDtBQUNZO0FBQ2tCO0FBQ087QUFDakQ7QUFDMEc7QUFDeEc7QUFDOEU7QUFDbEY7QUFDeUM7O0FBRXRGO0FBQ0E7QUFDQSxzRUFBUTtBQUNSLHlDQUF5Qyw0RUFBZ0M7QUFDekUsNENBQTRDLDhFQUFtQztBQUMvRSw0QkFBNEIseURBQW1CO0FBQy9DLHlCQUF5QixzREFBZ0I7QUFDekMsa0NBQWtDLG9FQUF5QjtBQUMzRCwwQkFBMEIsd0RBQWlCO0FBQzNDLHVDQUF1QyxvRUFBOEI7QUFDckUsK0JBQStCLDREQUFzQjtBQUNyRCwyQ0FBMkMsOEVBQWtDO0FBQzdFLHlCQUF5QixzREFBZ0I7QUFDekMseUJBQXlCLHNEQUFnQjtBQUN6QyxpQ0FBaUMsOERBQXdCO0FBQ3pELGlDQUFpQyw4REFBd0I7QUFDekQsOEJBQThCLDJEQUFxQjtBQUNuRCwyQkFBMkIsMERBQWtCO0FBQzdDLCtCQUErQixrRUFBc0I7QUFDckQsd0JBQXdCLG9EQUFlO0FBQ3ZDLGdDQUFnQyw0REFBdUI7QUFDdkQsMEJBQTBCLDZEQUFpQjtBQUMzQyx5QkFBeUIsNERBQWdCO0FBQ3pDLHlCQUF5QixxREFBZ0I7QUFDekMsQ0FBQzs7QUFFRDtBQUNzaEI7QUFDdGhCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9vdXRwdXRfcGFyc2Vycy9pbmRleC5qcz8zNDkyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fZXhwb3J0IH0gZnJvbSBcIi4uL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuanNcIjtcbmltcG9ydCB7IHBhcnNlSnNvbk1hcmtkb3duLCBwYXJzZVBhcnRpYWxKc29uIH0gZnJvbSBcIi4uL3V0aWxzL2pzb24uanNcIjtcbmltcG9ydCB7IEJhc2VMTE1PdXRwdXRQYXJzZXIsIEJhc2VPdXRwdXRQYXJzZXIsIE91dHB1dFBhcnNlckV4Y2VwdGlvbiB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCB7IEJhc2VDdW11bGF0aXZlVHJhbnNmb3JtT3V0cHV0UGFyc2VyLCBCYXNlVHJhbnNmb3JtT3V0cHV0UGFyc2VyIH0gZnJvbSBcIi4vdHJhbnNmb3JtLmpzXCI7XG5pbXBvcnQgeyBCeXRlc091dHB1dFBhcnNlciB9IGZyb20gXCIuL2J5dGVzLmpzXCI7XG5pbXBvcnQgeyBDb21tYVNlcGFyYXRlZExpc3RPdXRwdXRQYXJzZXIsIEN1c3RvbUxpc3RPdXRwdXRQYXJzZXIsIExpc3RPdXRwdXRQYXJzZXIsIE1hcmtkb3duTGlzdE91dHB1dFBhcnNlciwgTnVtYmVyZWRMaXN0T3V0cHV0UGFyc2VyIH0gZnJvbSBcIi4vbGlzdC5qc1wiO1xuaW1wb3J0IHsgU3RyaW5nT3V0cHV0UGFyc2VyIH0gZnJvbSBcIi4vc3RyaW5nLmpzXCI7XG5pbXBvcnQgeyBBc3ltbWV0cmljU3RydWN0dXJlZE91dHB1dFBhcnNlciwgSnNvbk1hcmtkb3duU3RydWN0dXJlZE91dHB1dFBhcnNlciwgU3RydWN0dXJlZE91dHB1dFBhcnNlciB9IGZyb20gXCIuL3N0cnVjdHVyZWQuanNcIjtcbmltcG9ydCB7IEpzb25PdXRwdXRQYXJzZXIgfSBmcm9tIFwiLi9qc29uLmpzXCI7XG5pbXBvcnQgeyBYTUxPdXRwdXRQYXJzZXIsIFhNTF9GT1JNQVRfSU5TVFJVQ1RJT05TLCBwYXJzZVhNTE1hcmtkb3duIH0gZnJvbSBcIi4veG1sLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvb3V0cHV0X3BhcnNlcnMvaW5kZXgudHNcbnZhciBvdXRwdXRfcGFyc2Vyc19leHBvcnRzID0ge307XG5fX2V4cG9ydChvdXRwdXRfcGFyc2Vyc19leHBvcnRzLCB7XG5cdEFzeW1tZXRyaWNTdHJ1Y3R1cmVkT3V0cHV0UGFyc2VyOiAoKSA9PiBBc3ltbWV0cmljU3RydWN0dXJlZE91dHB1dFBhcnNlcixcblx0QmFzZUN1bXVsYXRpdmVUcmFuc2Zvcm1PdXRwdXRQYXJzZXI6ICgpID0+IEJhc2VDdW11bGF0aXZlVHJhbnNmb3JtT3V0cHV0UGFyc2VyLFxuXHRCYXNlTExNT3V0cHV0UGFyc2VyOiAoKSA9PiBCYXNlTExNT3V0cHV0UGFyc2VyLFxuXHRCYXNlT3V0cHV0UGFyc2VyOiAoKSA9PiBCYXNlT3V0cHV0UGFyc2VyLFxuXHRCYXNlVHJhbnNmb3JtT3V0cHV0UGFyc2VyOiAoKSA9PiBCYXNlVHJhbnNmb3JtT3V0cHV0UGFyc2VyLFxuXHRCeXRlc091dHB1dFBhcnNlcjogKCkgPT4gQnl0ZXNPdXRwdXRQYXJzZXIsXG5cdENvbW1hU2VwYXJhdGVkTGlzdE91dHB1dFBhcnNlcjogKCkgPT4gQ29tbWFTZXBhcmF0ZWRMaXN0T3V0cHV0UGFyc2VyLFxuXHRDdXN0b21MaXN0T3V0cHV0UGFyc2VyOiAoKSA9PiBDdXN0b21MaXN0T3V0cHV0UGFyc2VyLFxuXHRKc29uTWFya2Rvd25TdHJ1Y3R1cmVkT3V0cHV0UGFyc2VyOiAoKSA9PiBKc29uTWFya2Rvd25TdHJ1Y3R1cmVkT3V0cHV0UGFyc2VyLFxuXHRKc29uT3V0cHV0UGFyc2VyOiAoKSA9PiBKc29uT3V0cHV0UGFyc2VyLFxuXHRMaXN0T3V0cHV0UGFyc2VyOiAoKSA9PiBMaXN0T3V0cHV0UGFyc2VyLFxuXHRNYXJrZG93bkxpc3RPdXRwdXRQYXJzZXI6ICgpID0+IE1hcmtkb3duTGlzdE91dHB1dFBhcnNlcixcblx0TnVtYmVyZWRMaXN0T3V0cHV0UGFyc2VyOiAoKSA9PiBOdW1iZXJlZExpc3RPdXRwdXRQYXJzZXIsXG5cdE91dHB1dFBhcnNlckV4Y2VwdGlvbjogKCkgPT4gT3V0cHV0UGFyc2VyRXhjZXB0aW9uLFxuXHRTdHJpbmdPdXRwdXRQYXJzZXI6ICgpID0+IFN0cmluZ091dHB1dFBhcnNlcixcblx0U3RydWN0dXJlZE91dHB1dFBhcnNlcjogKCkgPT4gU3RydWN0dXJlZE91dHB1dFBhcnNlcixcblx0WE1MT3V0cHV0UGFyc2VyOiAoKSA9PiBYTUxPdXRwdXRQYXJzZXIsXG5cdFhNTF9GT1JNQVRfSU5TVFJVQ1RJT05TOiAoKSA9PiBYTUxfRk9STUFUX0lOU1RSVUNUSU9OUyxcblx0cGFyc2VKc29uTWFya2Rvd246ICgpID0+IHBhcnNlSnNvbk1hcmtkb3duLFxuXHRwYXJzZVBhcnRpYWxKc29uOiAoKSA9PiBwYXJzZVBhcnRpYWxKc29uLFxuXHRwYXJzZVhNTE1hcmtkb3duOiAoKSA9PiBwYXJzZVhNTE1hcmtkb3duXG59KTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBBc3ltbWV0cmljU3RydWN0dXJlZE91dHB1dFBhcnNlciwgQmFzZUN1bXVsYXRpdmVUcmFuc2Zvcm1PdXRwdXRQYXJzZXIsIEJhc2VMTE1PdXRwdXRQYXJzZXIsIEJhc2VPdXRwdXRQYXJzZXIsIEJhc2VUcmFuc2Zvcm1PdXRwdXRQYXJzZXIsIEJ5dGVzT3V0cHV0UGFyc2VyLCBDb21tYVNlcGFyYXRlZExpc3RPdXRwdXRQYXJzZXIsIEN1c3RvbUxpc3RPdXRwdXRQYXJzZXIsIEpzb25NYXJrZG93blN0cnVjdHVyZWRPdXRwdXRQYXJzZXIsIEpzb25PdXRwdXRQYXJzZXIsIExpc3RPdXRwdXRQYXJzZXIsIE1hcmtkb3duTGlzdE91dHB1dFBhcnNlciwgTnVtYmVyZWRMaXN0T3V0cHV0UGFyc2VyLCBPdXRwdXRQYXJzZXJFeGNlcHRpb24sIFN0cmluZ091dHB1dFBhcnNlciwgU3RydWN0dXJlZE91dHB1dFBhcnNlciwgWE1MT3V0cHV0UGFyc2VyLCBYTUxfRk9STUFUX0lOU1RSVUNUSU9OUywgb3V0cHV0X3BhcnNlcnNfZXhwb3J0cywgcGFyc2VKc29uTWFya2Rvd24sIHBhcnNlUGFydGlhbEpzb24sIHBhcnNlWE1MTWFya2Rvd24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/json.js":
/*!***********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/json.js ***!
  \***********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JsonOutputParser: () => (/* binding */ JsonOutputParser)\n/* harmony export */ });\n/* harmony import */ var _utils_json_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/json.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/json.js\");\n/* harmony import */ var _utils_fast_json_patch_src_duplex_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/fast-json-patch/src/duplex.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/fast-json-patch/src/duplex.js\");\n/* harmony import */ var _transform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./transform.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/transform.js\");\n/* harmony import */ var _utils_json_patch_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/json_patch.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/json_patch.js\");\n\n\n\n\n\n//#region src/output_parsers/json.ts\n/**\n* Class for parsing the output of an LLM into a JSON object.\n*/\nvar JsonOutputParser = class extends _transform_js__WEBPACK_IMPORTED_MODULE_2__.BaseCumulativeTransformOutputParser {\n\tstatic lc_name() {\n\t\treturn \"JsonOutputParser\";\n\t}\n\tlc_namespace = [\"langchain_core\", \"output_parsers\"];\n\tlc_serializable = true;\n\t/** @internal */\n\t_concatOutputChunks(first, second) {\n\t\tif (this.diff) return super._concatOutputChunks(first, second);\n\t\treturn second;\n\t}\n\t_diff(prev, next) {\n\t\tif (!next) return void 0;\n\t\tif (!prev) return [{\n\t\t\top: \"replace\",\n\t\t\tpath: \"\",\n\t\t\tvalue: next\n\t\t}];\n\t\treturn (0,_utils_fast_json_patch_src_duplex_js__WEBPACK_IMPORTED_MODULE_1__.compare)(prev, next);\n\t}\n\tasync parsePartialResult(generations) {\n\t\treturn (0,_utils_json_js__WEBPACK_IMPORTED_MODULE_0__.parseJsonMarkdown)(generations[0].text);\n\t}\n\tasync parse(text) {\n\t\treturn (0,_utils_json_js__WEBPACK_IMPORTED_MODULE_0__.parseJsonMarkdown)(text, JSON.parse);\n\t}\n\tgetFormatInstructions() {\n\t\treturn \"\";\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=json.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9vdXRwdXRfcGFyc2Vycy9qc29uLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXVFO0FBQ047QUFDSTtBQUNyQzs7QUFFaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsOEVBQW1DO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILFNBQVMsNkVBQU87QUFDaEI7QUFDQTtBQUNBLFNBQVMsaUVBQWlCO0FBQzFCO0FBQ0E7QUFDQSxTQUFTLGlFQUFpQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQzRCO0FBQzVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9vdXRwdXRfcGFyc2Vycy9qc29uLmpzPzAxODQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcGFyc2VKc29uTWFya2Rvd24sIHBhcnNlUGFydGlhbEpzb24gfSBmcm9tIFwiLi4vdXRpbHMvanNvbi5qc1wiO1xuaW1wb3J0IHsgY29tcGFyZSB9IGZyb20gXCIuLi91dGlscy9mYXN0LWpzb24tcGF0Y2gvc3JjL2R1cGxleC5qc1wiO1xuaW1wb3J0IHsgQmFzZUN1bXVsYXRpdmVUcmFuc2Zvcm1PdXRwdXRQYXJzZXIgfSBmcm9tIFwiLi90cmFuc2Zvcm0uanNcIjtcbmltcG9ydCBcIi4uL3V0aWxzL2pzb25fcGF0Y2guanNcIjtcblxuLy8jcmVnaW9uIHNyYy9vdXRwdXRfcGFyc2Vycy9qc29uLnRzXG4vKipcbiogQ2xhc3MgZm9yIHBhcnNpbmcgdGhlIG91dHB1dCBvZiBhbiBMTE0gaW50byBhIEpTT04gb2JqZWN0LlxuKi9cbnZhciBKc29uT3V0cHV0UGFyc2VyID0gY2xhc3MgZXh0ZW5kcyBCYXNlQ3VtdWxhdGl2ZVRyYW5zZm9ybU91dHB1dFBhcnNlciB7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIkpzb25PdXRwdXRQYXJzZXJcIjtcblx0fVxuXHRsY19uYW1lc3BhY2UgPSBbXCJsYW5nY2hhaW5fY29yZVwiLCBcIm91dHB1dF9wYXJzZXJzXCJdO1xuXHRsY19zZXJpYWxpemFibGUgPSB0cnVlO1xuXHQvKiogQGludGVybmFsICovXG5cdF9jb25jYXRPdXRwdXRDaHVua3MoZmlyc3QsIHNlY29uZCkge1xuXHRcdGlmICh0aGlzLmRpZmYpIHJldHVybiBzdXBlci5fY29uY2F0T3V0cHV0Q2h1bmtzKGZpcnN0LCBzZWNvbmQpO1xuXHRcdHJldHVybiBzZWNvbmQ7XG5cdH1cblx0X2RpZmYocHJldiwgbmV4dCkge1xuXHRcdGlmICghbmV4dCkgcmV0dXJuIHZvaWQgMDtcblx0XHRpZiAoIXByZXYpIHJldHVybiBbe1xuXHRcdFx0b3A6IFwicmVwbGFjZVwiLFxuXHRcdFx0cGF0aDogXCJcIixcblx0XHRcdHZhbHVlOiBuZXh0XG5cdFx0fV07XG5cdFx0cmV0dXJuIGNvbXBhcmUocHJldiwgbmV4dCk7XG5cdH1cblx0YXN5bmMgcGFyc2VQYXJ0aWFsUmVzdWx0KGdlbmVyYXRpb25zKSB7XG5cdFx0cmV0dXJuIHBhcnNlSnNvbk1hcmtkb3duKGdlbmVyYXRpb25zWzBdLnRleHQpO1xuXHR9XG5cdGFzeW5jIHBhcnNlKHRleHQpIHtcblx0XHRyZXR1cm4gcGFyc2VKc29uTWFya2Rvd24odGV4dCwgSlNPTi5wYXJzZSk7XG5cdH1cblx0Z2V0Rm9ybWF0SW5zdHJ1Y3Rpb25zKCkge1xuXHRcdHJldHVybiBcIlwiO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEpzb25PdXRwdXRQYXJzZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWpzb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/json.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/list.js":
/*!***********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/list.js ***!
  \***********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CommaSeparatedListOutputParser: () => (/* binding */ CommaSeparatedListOutputParser),\n/* harmony export */   CustomListOutputParser: () => (/* binding */ CustomListOutputParser),\n/* harmony export */   ListOutputParser: () => (/* binding */ ListOutputParser),\n/* harmony export */   MarkdownListOutputParser: () => (/* binding */ MarkdownListOutputParser),\n/* harmony export */   NumberedListOutputParser: () => (/* binding */ NumberedListOutputParser)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/base.js\");\n/* harmony import */ var _transform_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./transform.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/transform.js\");\n\n\n\n//#region src/output_parsers/list.ts\n/**\n* Class to parse the output of an LLM call to a list.\n* @augments BaseOutputParser\n*/\nvar ListOutputParser = class extends _transform_js__WEBPACK_IMPORTED_MODULE_1__.BaseTransformOutputParser {\n\tre;\n\tasync *_transform(inputGenerator) {\n\t\tlet buffer = \"\";\n\t\tfor await (const input of inputGenerator) {\n\t\t\tif (typeof input === \"string\") buffer += input;\n\t\t\telse buffer += input.content;\n\t\t\tif (!this.re) {\n\t\t\t\tconst parts = await this.parse(buffer);\n\t\t\t\tif (parts.length > 1) {\n\t\t\t\t\tfor (const part of parts.slice(0, -1)) yield [part];\n\t\t\t\t\tbuffer = parts[parts.length - 1];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst matches = [...buffer.matchAll(this.re)];\n\t\t\t\tif (matches.length > 1) {\n\t\t\t\t\tlet doneIdx = 0;\n\t\t\t\t\tfor (const match of matches.slice(0, -1)) {\n\t\t\t\t\t\tyield [match[1]];\n\t\t\t\t\t\tdoneIdx += (match.index ?? 0) + match[0].length;\n\t\t\t\t\t}\n\t\t\t\t\tbuffer = buffer.slice(doneIdx);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (const part of await this.parse(buffer)) yield [part];\n\t}\n};\n/**\n* Class to parse the output of an LLM call as a comma-separated list.\n* @augments ListOutputParser\n*/\nvar CommaSeparatedListOutputParser = class extends ListOutputParser {\n\tstatic lc_name() {\n\t\treturn \"CommaSeparatedListOutputParser\";\n\t}\n\tlc_namespace = [\n\t\t\"langchain_core\",\n\t\t\"output_parsers\",\n\t\t\"list\"\n\t];\n\tlc_serializable = true;\n\t/**\n\t* Parses the given text into an array of strings, using a comma as the\n\t* separator. If the parsing fails, throws an OutputParserException.\n\t* @param text The text to parse.\n\t* @returns An array of strings obtained by splitting the input text at each comma.\n\t*/\n\tasync parse(text) {\n\t\ttry {\n\t\t\treturn text.trim().split(\",\").map((s) => s.trim());\n\t\t} catch {\n\t\t\tthrow new _base_js__WEBPACK_IMPORTED_MODULE_0__.OutputParserException(`Could not parse output: ${text}`, text);\n\t\t}\n\t}\n\t/**\n\t* Provides instructions on the expected format of the response for the\n\t* CommaSeparatedListOutputParser.\n\t* @returns A string containing instructions on the expected format of the response.\n\t*/\n\tgetFormatInstructions() {\n\t\treturn `Your response should be a list of comma separated values, eg: \\`foo, bar, baz\\``;\n\t}\n};\n/**\n* Class to parse the output of an LLM call to a list with a specific length and separator.\n* @augments ListOutputParser\n*/\nvar CustomListOutputParser = class extends ListOutputParser {\n\tlc_namespace = [\n\t\t\"langchain_core\",\n\t\t\"output_parsers\",\n\t\t\"list\"\n\t];\n\tlength;\n\tseparator;\n\tconstructor({ length, separator }) {\n\t\tsuper(...arguments);\n\t\tthis.length = length;\n\t\tthis.separator = separator || \",\";\n\t}\n\t/**\n\t* Parses the given text into an array of strings, using the specified\n\t* separator. If the parsing fails or the number of items in the list\n\t* doesn't match the expected length, throws an OutputParserException.\n\t* @param text The text to parse.\n\t* @returns An array of strings obtained by splitting the input text at each occurrence of the specified separator.\n\t*/\n\tasync parse(text) {\n\t\ttry {\n\t\t\tconst items = text.trim().split(this.separator).map((s) => s.trim());\n\t\t\tif (this.length !== void 0 && items.length !== this.length) throw new _base_js__WEBPACK_IMPORTED_MODULE_0__.OutputParserException(`Incorrect number of items. Expected ${this.length}, got ${items.length}.`);\n\t\t\treturn items;\n\t\t} catch (e) {\n\t\t\tif (Object.getPrototypeOf(e) === _base_js__WEBPACK_IMPORTED_MODULE_0__.OutputParserException.prototype) throw e;\n\t\t\tthrow new _base_js__WEBPACK_IMPORTED_MODULE_0__.OutputParserException(`Could not parse output: ${text}`);\n\t\t}\n\t}\n\t/**\n\t* Provides instructions on the expected format of the response for the\n\t* CustomListOutputParser, including the number of items and the\n\t* separator.\n\t* @returns A string containing instructions on the expected format of the response.\n\t*/\n\tgetFormatInstructions() {\n\t\treturn `Your response should be a list of ${this.length === void 0 ? \"\" : `${this.length} `}items separated by \"${this.separator}\" (eg: \\`foo${this.separator} bar${this.separator} baz\\`)`;\n\t}\n};\nvar NumberedListOutputParser = class extends ListOutputParser {\n\tstatic lc_name() {\n\t\treturn \"NumberedListOutputParser\";\n\t}\n\tlc_namespace = [\n\t\t\"langchain_core\",\n\t\t\"output_parsers\",\n\t\t\"list\"\n\t];\n\tlc_serializable = true;\n\tgetFormatInstructions() {\n\t\treturn `Your response should be a numbered list with each item on a new line. For example: \\n\\n1. foo\\n\\n2. bar\\n\\n3. baz`;\n\t}\n\tre = /\\d+\\.\\s([^\\n]+)/g;\n\tasync parse(text) {\n\t\treturn [...text.matchAll(this.re) ?? []].map((m) => m[1]);\n\t}\n};\nvar MarkdownListOutputParser = class extends ListOutputParser {\n\tstatic lc_name() {\n\t\treturn \"NumberedListOutputParser\";\n\t}\n\tlc_namespace = [\n\t\t\"langchain_core\",\n\t\t\"output_parsers\",\n\t\t\"list\"\n\t];\n\tlc_serializable = true;\n\tgetFormatInstructions() {\n\t\treturn `Your response should be a numbered list with each item on a new line. For example: \\n\\n1. foo\\n\\n2. bar\\n\\n3. baz`;\n\t}\n\tre = /^\\s*[-*]\\s([^\\n]+)$/gm;\n\tasync parse(text) {\n\t\treturn [...text.matchAll(this.re) ?? []].map((m) => m[1]);\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=list.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9vdXRwdXRfcGFyc2Vycy9saXN0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBa0Q7QUFDUzs7QUFFM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxvRUFBeUI7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLGFBQWEsMkRBQXFCLDRCQUE0QixLQUFLO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG1CQUFtQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUVBQXlFLDJEQUFxQix3Q0FBd0MsWUFBWSxRQUFRLGFBQWE7QUFDdks7QUFDQSxJQUFJO0FBQ0osb0NBQW9DLDJEQUFxQjtBQUN6RCxhQUFhLDJEQUFxQiw0QkFBNEIsS0FBSztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsaUNBQWlDLGFBQWEsRUFBRSxzQkFBc0IsZUFBZSxjQUFjLGdCQUFnQixLQUFLLGdCQUFnQjtBQUN0TDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3dJO0FBQ3hJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9vdXRwdXRfcGFyc2Vycy9saXN0LmpzPzdmOTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT3V0cHV0UGFyc2VyRXhjZXB0aW9uIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgQmFzZVRyYW5zZm9ybU91dHB1dFBhcnNlciB9IGZyb20gXCIuL3RyYW5zZm9ybS5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL291dHB1dF9wYXJzZXJzL2xpc3QudHNcbi8qKlxuKiBDbGFzcyB0byBwYXJzZSB0aGUgb3V0cHV0IG9mIGFuIExMTSBjYWxsIHRvIGEgbGlzdC5cbiogQGF1Z21lbnRzIEJhc2VPdXRwdXRQYXJzZXJcbiovXG52YXIgTGlzdE91dHB1dFBhcnNlciA9IGNsYXNzIGV4dGVuZHMgQmFzZVRyYW5zZm9ybU91dHB1dFBhcnNlciB7XG5cdHJlO1xuXHRhc3luYyAqX3RyYW5zZm9ybShpbnB1dEdlbmVyYXRvcikge1xuXHRcdGxldCBidWZmZXIgPSBcIlwiO1xuXHRcdGZvciBhd2FpdCAoY29uc3QgaW5wdXQgb2YgaW5wdXRHZW5lcmF0b3IpIHtcblx0XHRcdGlmICh0eXBlb2YgaW5wdXQgPT09IFwic3RyaW5nXCIpIGJ1ZmZlciArPSBpbnB1dDtcblx0XHRcdGVsc2UgYnVmZmVyICs9IGlucHV0LmNvbnRlbnQ7XG5cdFx0XHRpZiAoIXRoaXMucmUpIHtcblx0XHRcdFx0Y29uc3QgcGFydHMgPSBhd2FpdCB0aGlzLnBhcnNlKGJ1ZmZlcik7XG5cdFx0XHRcdGlmIChwYXJ0cy5sZW5ndGggPiAxKSB7XG5cdFx0XHRcdFx0Zm9yIChjb25zdCBwYXJ0IG9mIHBhcnRzLnNsaWNlKDAsIC0xKSkgeWllbGQgW3BhcnRdO1xuXHRcdFx0XHRcdGJ1ZmZlciA9IHBhcnRzW3BhcnRzLmxlbmd0aCAtIDFdO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zdCBtYXRjaGVzID0gWy4uLmJ1ZmZlci5tYXRjaEFsbCh0aGlzLnJlKV07XG5cdFx0XHRcdGlmIChtYXRjaGVzLmxlbmd0aCA+IDEpIHtcblx0XHRcdFx0XHRsZXQgZG9uZUlkeCA9IDA7XG5cdFx0XHRcdFx0Zm9yIChjb25zdCBtYXRjaCBvZiBtYXRjaGVzLnNsaWNlKDAsIC0xKSkge1xuXHRcdFx0XHRcdFx0eWllbGQgW21hdGNoWzFdXTtcblx0XHRcdFx0XHRcdGRvbmVJZHggKz0gKG1hdGNoLmluZGV4ID8/IDApICsgbWF0Y2hbMF0ubGVuZ3RoO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRidWZmZXIgPSBidWZmZXIuc2xpY2UoZG9uZUlkeCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0Zm9yIChjb25zdCBwYXJ0IG9mIGF3YWl0IHRoaXMucGFyc2UoYnVmZmVyKSkgeWllbGQgW3BhcnRdO1xuXHR9XG59O1xuLyoqXG4qIENsYXNzIHRvIHBhcnNlIHRoZSBvdXRwdXQgb2YgYW4gTExNIGNhbGwgYXMgYSBjb21tYS1zZXBhcmF0ZWQgbGlzdC5cbiogQGF1Z21lbnRzIExpc3RPdXRwdXRQYXJzZXJcbiovXG52YXIgQ29tbWFTZXBhcmF0ZWRMaXN0T3V0cHV0UGFyc2VyID0gY2xhc3MgZXh0ZW5kcyBMaXN0T3V0cHV0UGFyc2VyIHtcblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiQ29tbWFTZXBhcmF0ZWRMaXN0T3V0cHV0UGFyc2VyXCI7XG5cdH1cblx0bGNfbmFtZXNwYWNlID0gW1xuXHRcdFwibGFuZ2NoYWluX2NvcmVcIixcblx0XHRcIm91dHB1dF9wYXJzZXJzXCIsXG5cdFx0XCJsaXN0XCJcblx0XTtcblx0bGNfc2VyaWFsaXphYmxlID0gdHJ1ZTtcblx0LyoqXG5cdCogUGFyc2VzIHRoZSBnaXZlbiB0ZXh0IGludG8gYW4gYXJyYXkgb2Ygc3RyaW5ncywgdXNpbmcgYSBjb21tYSBhcyB0aGVcblx0KiBzZXBhcmF0b3IuIElmIHRoZSBwYXJzaW5nIGZhaWxzLCB0aHJvd3MgYW4gT3V0cHV0UGFyc2VyRXhjZXB0aW9uLlxuXHQqIEBwYXJhbSB0ZXh0IFRoZSB0ZXh0IHRvIHBhcnNlLlxuXHQqIEByZXR1cm5zIEFuIGFycmF5IG9mIHN0cmluZ3Mgb2J0YWluZWQgYnkgc3BsaXR0aW5nIHRoZSBpbnB1dCB0ZXh0IGF0IGVhY2ggY29tbWEuXG5cdCovXG5cdGFzeW5jIHBhcnNlKHRleHQpIHtcblx0XHR0cnkge1xuXHRcdFx0cmV0dXJuIHRleHQudHJpbSgpLnNwbGl0KFwiLFwiKS5tYXAoKHMpID0+IHMudHJpbSgpKTtcblx0XHR9IGNhdGNoIHtcblx0XHRcdHRocm93IG5ldyBPdXRwdXRQYXJzZXJFeGNlcHRpb24oYENvdWxkIG5vdCBwYXJzZSBvdXRwdXQ6ICR7dGV4dH1gLCB0ZXh0KTtcblx0XHR9XG5cdH1cblx0LyoqXG5cdCogUHJvdmlkZXMgaW5zdHJ1Y3Rpb25zIG9uIHRoZSBleHBlY3RlZCBmb3JtYXQgb2YgdGhlIHJlc3BvbnNlIGZvciB0aGVcblx0KiBDb21tYVNlcGFyYXRlZExpc3RPdXRwdXRQYXJzZXIuXG5cdCogQHJldHVybnMgQSBzdHJpbmcgY29udGFpbmluZyBpbnN0cnVjdGlvbnMgb24gdGhlIGV4cGVjdGVkIGZvcm1hdCBvZiB0aGUgcmVzcG9uc2UuXG5cdCovXG5cdGdldEZvcm1hdEluc3RydWN0aW9ucygpIHtcblx0XHRyZXR1cm4gYFlvdXIgcmVzcG9uc2Ugc2hvdWxkIGJlIGEgbGlzdCBvZiBjb21tYSBzZXBhcmF0ZWQgdmFsdWVzLCBlZzogXFxgZm9vLCBiYXIsIGJhelxcYGA7XG5cdH1cbn07XG4vKipcbiogQ2xhc3MgdG8gcGFyc2UgdGhlIG91dHB1dCBvZiBhbiBMTE0gY2FsbCB0byBhIGxpc3Qgd2l0aCBhIHNwZWNpZmljIGxlbmd0aCBhbmQgc2VwYXJhdG9yLlxuKiBAYXVnbWVudHMgTGlzdE91dHB1dFBhcnNlclxuKi9cbnZhciBDdXN0b21MaXN0T3V0cHV0UGFyc2VyID0gY2xhc3MgZXh0ZW5kcyBMaXN0T3V0cHV0UGFyc2VyIHtcblx0bGNfbmFtZXNwYWNlID0gW1xuXHRcdFwibGFuZ2NoYWluX2NvcmVcIixcblx0XHRcIm91dHB1dF9wYXJzZXJzXCIsXG5cdFx0XCJsaXN0XCJcblx0XTtcblx0bGVuZ3RoO1xuXHRzZXBhcmF0b3I7XG5cdGNvbnN0cnVjdG9yKHsgbGVuZ3RoLCBzZXBhcmF0b3IgfSkge1xuXHRcdHN1cGVyKC4uLmFyZ3VtZW50cyk7XG5cdFx0dGhpcy5sZW5ndGggPSBsZW5ndGg7XG5cdFx0dGhpcy5zZXBhcmF0b3IgPSBzZXBhcmF0b3IgfHwgXCIsXCI7XG5cdH1cblx0LyoqXG5cdCogUGFyc2VzIHRoZSBnaXZlbiB0ZXh0IGludG8gYW4gYXJyYXkgb2Ygc3RyaW5ncywgdXNpbmcgdGhlIHNwZWNpZmllZFxuXHQqIHNlcGFyYXRvci4gSWYgdGhlIHBhcnNpbmcgZmFpbHMgb3IgdGhlIG51bWJlciBvZiBpdGVtcyBpbiB0aGUgbGlzdFxuXHQqIGRvZXNuJ3QgbWF0Y2ggdGhlIGV4cGVjdGVkIGxlbmd0aCwgdGhyb3dzIGFuIE91dHB1dFBhcnNlckV4Y2VwdGlvbi5cblx0KiBAcGFyYW0gdGV4dCBUaGUgdGV4dCB0byBwYXJzZS5cblx0KiBAcmV0dXJucyBBbiBhcnJheSBvZiBzdHJpbmdzIG9idGFpbmVkIGJ5IHNwbGl0dGluZyB0aGUgaW5wdXQgdGV4dCBhdCBlYWNoIG9jY3VycmVuY2Ugb2YgdGhlIHNwZWNpZmllZCBzZXBhcmF0b3IuXG5cdCovXG5cdGFzeW5jIHBhcnNlKHRleHQpIHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgaXRlbXMgPSB0ZXh0LnRyaW0oKS5zcGxpdCh0aGlzLnNlcGFyYXRvcikubWFwKChzKSA9PiBzLnRyaW0oKSk7XG5cdFx0XHRpZiAodGhpcy5sZW5ndGggIT09IHZvaWQgMCAmJiBpdGVtcy5sZW5ndGggIT09IHRoaXMubGVuZ3RoKSB0aHJvdyBuZXcgT3V0cHV0UGFyc2VyRXhjZXB0aW9uKGBJbmNvcnJlY3QgbnVtYmVyIG9mIGl0ZW1zLiBFeHBlY3RlZCAke3RoaXMubGVuZ3RofSwgZ290ICR7aXRlbXMubGVuZ3RofS5gKTtcblx0XHRcdHJldHVybiBpdGVtcztcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpID09PSBPdXRwdXRQYXJzZXJFeGNlcHRpb24ucHJvdG90eXBlKSB0aHJvdyBlO1xuXHRcdFx0dGhyb3cgbmV3IE91dHB1dFBhcnNlckV4Y2VwdGlvbihgQ291bGQgbm90IHBhcnNlIG91dHB1dDogJHt0ZXh0fWApO1xuXHRcdH1cblx0fVxuXHQvKipcblx0KiBQcm92aWRlcyBpbnN0cnVjdGlvbnMgb24gdGhlIGV4cGVjdGVkIGZvcm1hdCBvZiB0aGUgcmVzcG9uc2UgZm9yIHRoZVxuXHQqIEN1c3RvbUxpc3RPdXRwdXRQYXJzZXIsIGluY2x1ZGluZyB0aGUgbnVtYmVyIG9mIGl0ZW1zIGFuZCB0aGVcblx0KiBzZXBhcmF0b3IuXG5cdCogQHJldHVybnMgQSBzdHJpbmcgY29udGFpbmluZyBpbnN0cnVjdGlvbnMgb24gdGhlIGV4cGVjdGVkIGZvcm1hdCBvZiB0aGUgcmVzcG9uc2UuXG5cdCovXG5cdGdldEZvcm1hdEluc3RydWN0aW9ucygpIHtcblx0XHRyZXR1cm4gYFlvdXIgcmVzcG9uc2Ugc2hvdWxkIGJlIGEgbGlzdCBvZiAke3RoaXMubGVuZ3RoID09PSB2b2lkIDAgPyBcIlwiIDogYCR7dGhpcy5sZW5ndGh9IGB9aXRlbXMgc2VwYXJhdGVkIGJ5IFwiJHt0aGlzLnNlcGFyYXRvcn1cIiAoZWc6IFxcYGZvbyR7dGhpcy5zZXBhcmF0b3J9IGJhciR7dGhpcy5zZXBhcmF0b3J9IGJhelxcYClgO1xuXHR9XG59O1xudmFyIE51bWJlcmVkTGlzdE91dHB1dFBhcnNlciA9IGNsYXNzIGV4dGVuZHMgTGlzdE91dHB1dFBhcnNlciB7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIk51bWJlcmVkTGlzdE91dHB1dFBhcnNlclwiO1xuXHR9XG5cdGxjX25hbWVzcGFjZSA9IFtcblx0XHRcImxhbmdjaGFpbl9jb3JlXCIsXG5cdFx0XCJvdXRwdXRfcGFyc2Vyc1wiLFxuXHRcdFwibGlzdFwiXG5cdF07XG5cdGxjX3NlcmlhbGl6YWJsZSA9IHRydWU7XG5cdGdldEZvcm1hdEluc3RydWN0aW9ucygpIHtcblx0XHRyZXR1cm4gYFlvdXIgcmVzcG9uc2Ugc2hvdWxkIGJlIGEgbnVtYmVyZWQgbGlzdCB3aXRoIGVhY2ggaXRlbSBvbiBhIG5ldyBsaW5lLiBGb3IgZXhhbXBsZTogXFxuXFxuMS4gZm9vXFxuXFxuMi4gYmFyXFxuXFxuMy4gYmF6YDtcblx0fVxuXHRyZSA9IC9cXGQrXFwuXFxzKFteXFxuXSspL2c7XG5cdGFzeW5jIHBhcnNlKHRleHQpIHtcblx0XHRyZXR1cm4gWy4uLnRleHQubWF0Y2hBbGwodGhpcy5yZSkgPz8gW11dLm1hcCgobSkgPT4gbVsxXSk7XG5cdH1cbn07XG52YXIgTWFya2Rvd25MaXN0T3V0cHV0UGFyc2VyID0gY2xhc3MgZXh0ZW5kcyBMaXN0T3V0cHV0UGFyc2VyIHtcblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiTnVtYmVyZWRMaXN0T3V0cHV0UGFyc2VyXCI7XG5cdH1cblx0bGNfbmFtZXNwYWNlID0gW1xuXHRcdFwibGFuZ2NoYWluX2NvcmVcIixcblx0XHRcIm91dHB1dF9wYXJzZXJzXCIsXG5cdFx0XCJsaXN0XCJcblx0XTtcblx0bGNfc2VyaWFsaXphYmxlID0gdHJ1ZTtcblx0Z2V0Rm9ybWF0SW5zdHJ1Y3Rpb25zKCkge1xuXHRcdHJldHVybiBgWW91ciByZXNwb25zZSBzaG91bGQgYmUgYSBudW1iZXJlZCBsaXN0IHdpdGggZWFjaCBpdGVtIG9uIGEgbmV3IGxpbmUuIEZvciBleGFtcGxlOiBcXG5cXG4xLiBmb29cXG5cXG4yLiBiYXJcXG5cXG4zLiBiYXpgO1xuXHR9XG5cdHJlID0gL15cXHMqWy0qXVxccyhbXlxcbl0rKSQvZ207XG5cdGFzeW5jIHBhcnNlKHRleHQpIHtcblx0XHRyZXR1cm4gWy4uLnRleHQubWF0Y2hBbGwodGhpcy5yZSkgPz8gW11dLm1hcCgobSkgPT4gbVsxXSk7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQ29tbWFTZXBhcmF0ZWRMaXN0T3V0cHV0UGFyc2VyLCBDdXN0b21MaXN0T3V0cHV0UGFyc2VyLCBMaXN0T3V0cHV0UGFyc2VyLCBNYXJrZG93bkxpc3RPdXRwdXRQYXJzZXIsIE51bWJlcmVkTGlzdE91dHB1dFBhcnNlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGlzdC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/list.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/openai_functions/index.js":
/*!*****************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/openai_functions/index.js ***!
  \*****************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JsonKeyOutputFunctionsParser: () => (/* reexport safe */ _json_output_functions_parsers_js__WEBPACK_IMPORTED_MODULE_1__.JsonKeyOutputFunctionsParser),\n/* harmony export */   JsonOutputFunctionsParser: () => (/* reexport safe */ _json_output_functions_parsers_js__WEBPACK_IMPORTED_MODULE_1__.JsonOutputFunctionsParser),\n/* harmony export */   OutputFunctionsParser: () => (/* reexport safe */ _json_output_functions_parsers_js__WEBPACK_IMPORTED_MODULE_1__.OutputFunctionsParser),\n/* harmony export */   openai_functions_exports: () => (/* binding */ openai_functions_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _json_output_functions_parsers_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./json_output_functions_parsers.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/openai_functions/json_output_functions_parsers.js\");\n\n\n\n//#region src/output_parsers/openai_functions/index.ts\nvar openai_functions_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(openai_functions_exports, {\n\tJsonKeyOutputFunctionsParser: () => _json_output_functions_parsers_js__WEBPACK_IMPORTED_MODULE_1__.JsonKeyOutputFunctionsParser,\n\tJsonOutputFunctionsParser: () => _json_output_functions_parsers_js__WEBPACK_IMPORTED_MODULE_1__.JsonOutputFunctionsParser,\n\tOutputFunctionsParser: () => _json_output_functions_parsers_js__WEBPACK_IMPORTED_MODULE_1__.OutputFunctionsParser\n});\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9vdXRwdXRfcGFyc2Vycy9vcGVuYWlfZnVuY3Rpb25zL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUE4RDtBQUNzRTs7QUFFcEk7QUFDQTtBQUNBLHNFQUFRO0FBQ1IscUNBQXFDLDJGQUE0QjtBQUNqRSxrQ0FBa0Msd0ZBQXlCO0FBQzNELDhCQUE4QixvRkFBcUI7QUFDbkQsQ0FBQzs7QUFFRDtBQUNvSDtBQUNwSCIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3Qvb3V0cHV0X3BhcnNlcnMvb3BlbmFpX2Z1bmN0aW9ucy9pbmRleC5qcz9iODljIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fZXhwb3J0IH0gZnJvbSBcIi4uLy4uL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuanNcIjtcbmltcG9ydCB7IEpzb25LZXlPdXRwdXRGdW5jdGlvbnNQYXJzZXIsIEpzb25PdXRwdXRGdW5jdGlvbnNQYXJzZXIsIE91dHB1dEZ1bmN0aW9uc1BhcnNlciB9IGZyb20gXCIuL2pzb25fb3V0cHV0X2Z1bmN0aW9uc19wYXJzZXJzLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvb3V0cHV0X3BhcnNlcnMvb3BlbmFpX2Z1bmN0aW9ucy9pbmRleC50c1xudmFyIG9wZW5haV9mdW5jdGlvbnNfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQob3BlbmFpX2Z1bmN0aW9uc19leHBvcnRzLCB7XG5cdEpzb25LZXlPdXRwdXRGdW5jdGlvbnNQYXJzZXI6ICgpID0+IEpzb25LZXlPdXRwdXRGdW5jdGlvbnNQYXJzZXIsXG5cdEpzb25PdXRwdXRGdW5jdGlvbnNQYXJzZXI6ICgpID0+IEpzb25PdXRwdXRGdW5jdGlvbnNQYXJzZXIsXG5cdE91dHB1dEZ1bmN0aW9uc1BhcnNlcjogKCkgPT4gT3V0cHV0RnVuY3Rpb25zUGFyc2VyXG59KTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBKc29uS2V5T3V0cHV0RnVuY3Rpb25zUGFyc2VyLCBKc29uT3V0cHV0RnVuY3Rpb25zUGFyc2VyLCBPdXRwdXRGdW5jdGlvbnNQYXJzZXIsIG9wZW5haV9mdW5jdGlvbnNfZXhwb3J0cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/openai_functions/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/openai_functions/json_output_functions_parsers.js":
/*!*****************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/openai_functions/json_output_functions_parsers.js ***!
  \*****************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JsonKeyOutputFunctionsParser: () => (/* binding */ JsonKeyOutputFunctionsParser),\n/* harmony export */   JsonOutputFunctionsParser: () => (/* binding */ JsonOutputFunctionsParser),\n/* harmony export */   OutputFunctionsParser: () => (/* binding */ OutputFunctionsParser)\n/* harmony export */ });\n/* harmony import */ var _utils_json_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/json.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/json.js\");\n/* harmony import */ var _utils_fast_json_patch_src_duplex_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/fast-json-patch/src/duplex.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/fast-json-patch/src/duplex.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/base.js\");\n/* harmony import */ var _transform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../transform.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/transform.js\");\n/* harmony import */ var _utils_json_patch_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/json_patch.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/json_patch.js\");\n/* harmony import */ var _json_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../json.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/json.js\");\n\n\n\n\n\n\n\n//#region src/output_parsers/openai_functions/json_output_functions_parsers.ts\n/**\n* Class for parsing the output of an LLM. Can be configured to return\n* only the arguments of the function call in the output.\n*/\nvar OutputFunctionsParser = class extends _base_js__WEBPACK_IMPORTED_MODULE_2__.BaseLLMOutputParser {\n\tstatic lc_name() {\n\t\treturn \"OutputFunctionsParser\";\n\t}\n\tlc_namespace = [\n\t\t\"langchain\",\n\t\t\"output_parsers\",\n\t\t\"openai_functions\"\n\t];\n\tlc_serializable = true;\n\targsOnly = true;\n\tconstructor(config) {\n\t\tsuper();\n\t\tthis.argsOnly = config?.argsOnly ?? this.argsOnly;\n\t}\n\t/**\n\t* Parses the output and returns a string representation of the function\n\t* call or its arguments.\n\t* @param generations The output of the LLM to parse.\n\t* @returns A string representation of the function call or its arguments.\n\t*/\n\tasync parseResult(generations) {\n\t\tif (\"message\" in generations[0]) {\n\t\t\tconst gen = generations[0];\n\t\t\tconst functionCall = gen.message.additional_kwargs.function_call;\n\t\t\tif (!functionCall) throw new Error(`No function_call in message ${JSON.stringify(generations)}`);\n\t\t\tif (!functionCall.arguments) throw new Error(`No arguments in function_call ${JSON.stringify(generations)}`);\n\t\t\tif (this.argsOnly) return functionCall.arguments;\n\t\t\treturn JSON.stringify(functionCall);\n\t\t} else throw new Error(`No message in generations ${JSON.stringify(generations)}`);\n\t}\n};\n/**\n* Class for parsing the output of an LLM into a JSON object. Uses an\n* instance of `OutputFunctionsParser` to parse the output.\n*/\nvar JsonOutputFunctionsParser = class extends _transform_js__WEBPACK_IMPORTED_MODULE_3__.BaseCumulativeTransformOutputParser {\n\tstatic lc_name() {\n\t\treturn \"JsonOutputFunctionsParser\";\n\t}\n\tlc_namespace = [\n\t\t\"langchain\",\n\t\t\"output_parsers\",\n\t\t\"openai_functions\"\n\t];\n\tlc_serializable = true;\n\toutputParser;\n\targsOnly = true;\n\tconstructor(config) {\n\t\tsuper(config);\n\t\tthis.argsOnly = config?.argsOnly ?? this.argsOnly;\n\t\tthis.outputParser = new OutputFunctionsParser(config);\n\t}\n\t_diff(prev, next) {\n\t\tif (!next) return void 0;\n\t\tconst ops = (0,_utils_fast_json_patch_src_duplex_js__WEBPACK_IMPORTED_MODULE_1__.compare)(prev ?? {}, next);\n\t\treturn ops;\n\t}\n\tasync parsePartialResult(generations) {\n\t\tconst generation = generations[0];\n\t\tif (!generation.message) return void 0;\n\t\tconst { message } = generation;\n\t\tconst functionCall = message.additional_kwargs.function_call;\n\t\tif (!functionCall) return void 0;\n\t\tif (this.argsOnly) return (0,_utils_json_js__WEBPACK_IMPORTED_MODULE_0__.parsePartialJson)(functionCall.arguments);\n\t\treturn {\n\t\t\t...functionCall,\n\t\t\targuments: (0,_utils_json_js__WEBPACK_IMPORTED_MODULE_0__.parsePartialJson)(functionCall.arguments)\n\t\t};\n\t}\n\t/**\n\t* Parses the output and returns a JSON object. If `argsOnly` is true,\n\t* only the arguments of the function call are returned.\n\t* @param generations The output of the LLM to parse.\n\t* @returns A JSON object representation of the function call or its arguments.\n\t*/\n\tasync parseResult(generations) {\n\t\tconst result = await this.outputParser.parseResult(generations);\n\t\tif (!result) throw new Error(`No result from \"OutputFunctionsParser\" ${JSON.stringify(generations)}`);\n\t\treturn this.parse(result);\n\t}\n\tasync parse(text) {\n\t\tconst parsedResult = JSON.parse(text);\n\t\tif (this.argsOnly) return parsedResult;\n\t\tparsedResult.arguments = JSON.parse(parsedResult.arguments);\n\t\treturn parsedResult;\n\t}\n\tgetFormatInstructions() {\n\t\treturn \"\";\n\t}\n};\n/**\n* Class for parsing the output of an LLM into a JSON object and returning\n* a specific attribute. Uses an instance of `JsonOutputFunctionsParser`\n* to parse the output.\n*/\nvar JsonKeyOutputFunctionsParser = class extends _base_js__WEBPACK_IMPORTED_MODULE_2__.BaseLLMOutputParser {\n\tstatic lc_name() {\n\t\treturn \"JsonKeyOutputFunctionsParser\";\n\t}\n\tlc_namespace = [\n\t\t\"langchain\",\n\t\t\"output_parsers\",\n\t\t\"openai_functions\"\n\t];\n\tlc_serializable = true;\n\toutputParser = new JsonOutputFunctionsParser();\n\tattrName;\n\tget lc_aliases() {\n\t\treturn { attrName: \"key_name\" };\n\t}\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.attrName = fields.attrName;\n\t}\n\t/**\n\t* Parses the output and returns a specific attribute of the parsed JSON\n\t* object.\n\t* @param generations The output of the LLM to parse.\n\t* @returns The value of a specific attribute of the parsed JSON object.\n\t*/\n\tasync parseResult(generations) {\n\t\tconst result = await this.outputParser.parseResult(generations);\n\t\treturn result[this.attrName];\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=json_output_functions_parsers.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9vdXRwdXRfcGFyc2Vycy9vcGVuYWlfZnVuY3Rpb25zL2pzb25fb3V0cHV0X2Z1bmN0aW9uc19wYXJzZXJzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUF1RDtBQUNhO0FBQ25CO0FBQ3FCO0FBQ25DO0FBQ2Y7O0FBRXBCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMseURBQW1CO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSw0QkFBNEI7QUFDakcsaUZBQWlGLDRCQUE0QjtBQUM3RztBQUNBO0FBQ0EsSUFBSSxrREFBa0QsNEJBQTRCO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4Qyw4RUFBbUM7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyw2RUFBTyxXQUFXO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLFVBQVU7QUFDcEI7QUFDQTtBQUNBLDRCQUE0QixnRUFBZ0I7QUFDNUM7QUFDQTtBQUNBLGNBQWMsZ0VBQWdCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUVBQXlFLDRCQUE0QjtBQUNyRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELHlEQUFtQjtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDMEY7QUFDMUYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L291dHB1dF9wYXJzZXJzL29wZW5haV9mdW5jdGlvbnMvanNvbl9vdXRwdXRfZnVuY3Rpb25zX3BhcnNlcnMuanM/Nzk0YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwYXJzZVBhcnRpYWxKc29uIH0gZnJvbSBcIi4uLy4uL3V0aWxzL2pzb24uanNcIjtcbmltcG9ydCB7IGNvbXBhcmUgfSBmcm9tIFwiLi4vLi4vdXRpbHMvZmFzdC1qc29uLXBhdGNoL3NyYy9kdXBsZXguanNcIjtcbmltcG9ydCB7IEJhc2VMTE1PdXRwdXRQYXJzZXIgfSBmcm9tIFwiLi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgQmFzZUN1bXVsYXRpdmVUcmFuc2Zvcm1PdXRwdXRQYXJzZXIgfSBmcm9tIFwiLi4vdHJhbnNmb3JtLmpzXCI7XG5pbXBvcnQgXCIuLi8uLi91dGlscy9qc29uX3BhdGNoLmpzXCI7XG5pbXBvcnQgXCIuLi9qc29uLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvb3V0cHV0X3BhcnNlcnMvb3BlbmFpX2Z1bmN0aW9ucy9qc29uX291dHB1dF9mdW5jdGlvbnNfcGFyc2Vycy50c1xuLyoqXG4qIENsYXNzIGZvciBwYXJzaW5nIHRoZSBvdXRwdXQgb2YgYW4gTExNLiBDYW4gYmUgY29uZmlndXJlZCB0byByZXR1cm5cbiogb25seSB0aGUgYXJndW1lbnRzIG9mIHRoZSBmdW5jdGlvbiBjYWxsIGluIHRoZSBvdXRwdXQuXG4qL1xudmFyIE91dHB1dEZ1bmN0aW9uc1BhcnNlciA9IGNsYXNzIGV4dGVuZHMgQmFzZUxMTU91dHB1dFBhcnNlciB7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIk91dHB1dEZ1bmN0aW9uc1BhcnNlclwiO1xuXHR9XG5cdGxjX25hbWVzcGFjZSA9IFtcblx0XHRcImxhbmdjaGFpblwiLFxuXHRcdFwib3V0cHV0X3BhcnNlcnNcIixcblx0XHRcIm9wZW5haV9mdW5jdGlvbnNcIlxuXHRdO1xuXHRsY19zZXJpYWxpemFibGUgPSB0cnVlO1xuXHRhcmdzT25seSA9IHRydWU7XG5cdGNvbnN0cnVjdG9yKGNvbmZpZykge1xuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy5hcmdzT25seSA9IGNvbmZpZz8uYXJnc09ubHkgPz8gdGhpcy5hcmdzT25seTtcblx0fVxuXHQvKipcblx0KiBQYXJzZXMgdGhlIG91dHB1dCBhbmQgcmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgZnVuY3Rpb25cblx0KiBjYWxsIG9yIGl0cyBhcmd1bWVudHMuXG5cdCogQHBhcmFtIGdlbmVyYXRpb25zIFRoZSBvdXRwdXQgb2YgdGhlIExMTSB0byBwYXJzZS5cblx0KiBAcmV0dXJucyBBIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgZnVuY3Rpb24gY2FsbCBvciBpdHMgYXJndW1lbnRzLlxuXHQqL1xuXHRhc3luYyBwYXJzZVJlc3VsdChnZW5lcmF0aW9ucykge1xuXHRcdGlmIChcIm1lc3NhZ2VcIiBpbiBnZW5lcmF0aW9uc1swXSkge1xuXHRcdFx0Y29uc3QgZ2VuID0gZ2VuZXJhdGlvbnNbMF07XG5cdFx0XHRjb25zdCBmdW5jdGlvbkNhbGwgPSBnZW4ubWVzc2FnZS5hZGRpdGlvbmFsX2t3YXJncy5mdW5jdGlvbl9jYWxsO1xuXHRcdFx0aWYgKCFmdW5jdGlvbkNhbGwpIHRocm93IG5ldyBFcnJvcihgTm8gZnVuY3Rpb25fY2FsbCBpbiBtZXNzYWdlICR7SlNPTi5zdHJpbmdpZnkoZ2VuZXJhdGlvbnMpfWApO1xuXHRcdFx0aWYgKCFmdW5jdGlvbkNhbGwuYXJndW1lbnRzKSB0aHJvdyBuZXcgRXJyb3IoYE5vIGFyZ3VtZW50cyBpbiBmdW5jdGlvbl9jYWxsICR7SlNPTi5zdHJpbmdpZnkoZ2VuZXJhdGlvbnMpfWApO1xuXHRcdFx0aWYgKHRoaXMuYXJnc09ubHkpIHJldHVybiBmdW5jdGlvbkNhbGwuYXJndW1lbnRzO1xuXHRcdFx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KGZ1bmN0aW9uQ2FsbCk7XG5cdFx0fSBlbHNlIHRocm93IG5ldyBFcnJvcihgTm8gbWVzc2FnZSBpbiBnZW5lcmF0aW9ucyAke0pTT04uc3RyaW5naWZ5KGdlbmVyYXRpb25zKX1gKTtcblx0fVxufTtcbi8qKlxuKiBDbGFzcyBmb3IgcGFyc2luZyB0aGUgb3V0cHV0IG9mIGFuIExMTSBpbnRvIGEgSlNPTiBvYmplY3QuIFVzZXMgYW5cbiogaW5zdGFuY2Ugb2YgYE91dHB1dEZ1bmN0aW9uc1BhcnNlcmAgdG8gcGFyc2UgdGhlIG91dHB1dC5cbiovXG52YXIgSnNvbk91dHB1dEZ1bmN0aW9uc1BhcnNlciA9IGNsYXNzIGV4dGVuZHMgQmFzZUN1bXVsYXRpdmVUcmFuc2Zvcm1PdXRwdXRQYXJzZXIge1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJKc29uT3V0cHV0RnVuY3Rpb25zUGFyc2VyXCI7XG5cdH1cblx0bGNfbmFtZXNwYWNlID0gW1xuXHRcdFwibGFuZ2NoYWluXCIsXG5cdFx0XCJvdXRwdXRfcGFyc2Vyc1wiLFxuXHRcdFwib3BlbmFpX2Z1bmN0aW9uc1wiXG5cdF07XG5cdGxjX3NlcmlhbGl6YWJsZSA9IHRydWU7XG5cdG91dHB1dFBhcnNlcjtcblx0YXJnc09ubHkgPSB0cnVlO1xuXHRjb25zdHJ1Y3Rvcihjb25maWcpIHtcblx0XHRzdXBlcihjb25maWcpO1xuXHRcdHRoaXMuYXJnc09ubHkgPSBjb25maWc/LmFyZ3NPbmx5ID8/IHRoaXMuYXJnc09ubHk7XG5cdFx0dGhpcy5vdXRwdXRQYXJzZXIgPSBuZXcgT3V0cHV0RnVuY3Rpb25zUGFyc2VyKGNvbmZpZyk7XG5cdH1cblx0X2RpZmYocHJldiwgbmV4dCkge1xuXHRcdGlmICghbmV4dCkgcmV0dXJuIHZvaWQgMDtcblx0XHRjb25zdCBvcHMgPSBjb21wYXJlKHByZXYgPz8ge30sIG5leHQpO1xuXHRcdHJldHVybiBvcHM7XG5cdH1cblx0YXN5bmMgcGFyc2VQYXJ0aWFsUmVzdWx0KGdlbmVyYXRpb25zKSB7XG5cdFx0Y29uc3QgZ2VuZXJhdGlvbiA9IGdlbmVyYXRpb25zWzBdO1xuXHRcdGlmICghZ2VuZXJhdGlvbi5tZXNzYWdlKSByZXR1cm4gdm9pZCAwO1xuXHRcdGNvbnN0IHsgbWVzc2FnZSB9ID0gZ2VuZXJhdGlvbjtcblx0XHRjb25zdCBmdW5jdGlvbkNhbGwgPSBtZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzLmZ1bmN0aW9uX2NhbGw7XG5cdFx0aWYgKCFmdW5jdGlvbkNhbGwpIHJldHVybiB2b2lkIDA7XG5cdFx0aWYgKHRoaXMuYXJnc09ubHkpIHJldHVybiBwYXJzZVBhcnRpYWxKc29uKGZ1bmN0aW9uQ2FsbC5hcmd1bWVudHMpO1xuXHRcdHJldHVybiB7XG5cdFx0XHQuLi5mdW5jdGlvbkNhbGwsXG5cdFx0XHRhcmd1bWVudHM6IHBhcnNlUGFydGlhbEpzb24oZnVuY3Rpb25DYWxsLmFyZ3VtZW50cylcblx0XHR9O1xuXHR9XG5cdC8qKlxuXHQqIFBhcnNlcyB0aGUgb3V0cHV0IGFuZCByZXR1cm5zIGEgSlNPTiBvYmplY3QuIElmIGBhcmdzT25seWAgaXMgdHJ1ZSxcblx0KiBvbmx5IHRoZSBhcmd1bWVudHMgb2YgdGhlIGZ1bmN0aW9uIGNhbGwgYXJlIHJldHVybmVkLlxuXHQqIEBwYXJhbSBnZW5lcmF0aW9ucyBUaGUgb3V0cHV0IG9mIHRoZSBMTE0gdG8gcGFyc2UuXG5cdCogQHJldHVybnMgQSBKU09OIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiB0aGUgZnVuY3Rpb24gY2FsbCBvciBpdHMgYXJndW1lbnRzLlxuXHQqL1xuXHRhc3luYyBwYXJzZVJlc3VsdChnZW5lcmF0aW9ucykge1xuXHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMub3V0cHV0UGFyc2VyLnBhcnNlUmVzdWx0KGdlbmVyYXRpb25zKTtcblx0XHRpZiAoIXJlc3VsdCkgdGhyb3cgbmV3IEVycm9yKGBObyByZXN1bHQgZnJvbSBcIk91dHB1dEZ1bmN0aW9uc1BhcnNlclwiICR7SlNPTi5zdHJpbmdpZnkoZ2VuZXJhdGlvbnMpfWApO1xuXHRcdHJldHVybiB0aGlzLnBhcnNlKHJlc3VsdCk7XG5cdH1cblx0YXN5bmMgcGFyc2UodGV4dCkge1xuXHRcdGNvbnN0IHBhcnNlZFJlc3VsdCA9IEpTT04ucGFyc2UodGV4dCk7XG5cdFx0aWYgKHRoaXMuYXJnc09ubHkpIHJldHVybiBwYXJzZWRSZXN1bHQ7XG5cdFx0cGFyc2VkUmVzdWx0LmFyZ3VtZW50cyA9IEpTT04ucGFyc2UocGFyc2VkUmVzdWx0LmFyZ3VtZW50cyk7XG5cdFx0cmV0dXJuIHBhcnNlZFJlc3VsdDtcblx0fVxuXHRnZXRGb3JtYXRJbnN0cnVjdGlvbnMoKSB7XG5cdFx0cmV0dXJuIFwiXCI7XG5cdH1cbn07XG4vKipcbiogQ2xhc3MgZm9yIHBhcnNpbmcgdGhlIG91dHB1dCBvZiBhbiBMTE0gaW50byBhIEpTT04gb2JqZWN0IGFuZCByZXR1cm5pbmdcbiogYSBzcGVjaWZpYyBhdHRyaWJ1dGUuIFVzZXMgYW4gaW5zdGFuY2Ugb2YgYEpzb25PdXRwdXRGdW5jdGlvbnNQYXJzZXJgXG4qIHRvIHBhcnNlIHRoZSBvdXRwdXQuXG4qL1xudmFyIEpzb25LZXlPdXRwdXRGdW5jdGlvbnNQYXJzZXIgPSBjbGFzcyBleHRlbmRzIEJhc2VMTE1PdXRwdXRQYXJzZXIge1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJKc29uS2V5T3V0cHV0RnVuY3Rpb25zUGFyc2VyXCI7XG5cdH1cblx0bGNfbmFtZXNwYWNlID0gW1xuXHRcdFwibGFuZ2NoYWluXCIsXG5cdFx0XCJvdXRwdXRfcGFyc2Vyc1wiLFxuXHRcdFwib3BlbmFpX2Z1bmN0aW9uc1wiXG5cdF07XG5cdGxjX3NlcmlhbGl6YWJsZSA9IHRydWU7XG5cdG91dHB1dFBhcnNlciA9IG5ldyBKc29uT3V0cHV0RnVuY3Rpb25zUGFyc2VyKCk7XG5cdGF0dHJOYW1lO1xuXHRnZXQgbGNfYWxpYXNlcygpIHtcblx0XHRyZXR1cm4geyBhdHRyTmFtZTogXCJrZXlfbmFtZVwiIH07XG5cdH1cblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLmF0dHJOYW1lID0gZmllbGRzLmF0dHJOYW1lO1xuXHR9XG5cdC8qKlxuXHQqIFBhcnNlcyB0aGUgb3V0cHV0IGFuZCByZXR1cm5zIGEgc3BlY2lmaWMgYXR0cmlidXRlIG9mIHRoZSBwYXJzZWQgSlNPTlxuXHQqIG9iamVjdC5cblx0KiBAcGFyYW0gZ2VuZXJhdGlvbnMgVGhlIG91dHB1dCBvZiB0aGUgTExNIHRvIHBhcnNlLlxuXHQqIEByZXR1cm5zIFRoZSB2YWx1ZSBvZiBhIHNwZWNpZmljIGF0dHJpYnV0ZSBvZiB0aGUgcGFyc2VkIEpTT04gb2JqZWN0LlxuXHQqL1xuXHRhc3luYyBwYXJzZVJlc3VsdChnZW5lcmF0aW9ucykge1xuXHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMub3V0cHV0UGFyc2VyLnBhcnNlUmVzdWx0KGdlbmVyYXRpb25zKTtcblx0XHRyZXR1cm4gcmVzdWx0W3RoaXMuYXR0ck5hbWVdO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEpzb25LZXlPdXRwdXRGdW5jdGlvbnNQYXJzZXIsIEpzb25PdXRwdXRGdW5jdGlvbnNQYXJzZXIsIE91dHB1dEZ1bmN0aW9uc1BhcnNlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9anNvbl9vdXRwdXRfZnVuY3Rpb25zX3BhcnNlcnMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/openai_functions/json_output_functions_parsers.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/openai_tools/index.js":
/*!*************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/openai_tools/index.js ***!
  \*************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JsonOutputKeyToolsParser: () => (/* reexport safe */ _json_output_tools_parsers_js__WEBPACK_IMPORTED_MODULE_1__.JsonOutputKeyToolsParser),\n/* harmony export */   JsonOutputToolsParser: () => (/* reexport safe */ _json_output_tools_parsers_js__WEBPACK_IMPORTED_MODULE_1__.JsonOutputToolsParser),\n/* harmony export */   convertLangChainToolCallToOpenAI: () => (/* reexport safe */ _json_output_tools_parsers_js__WEBPACK_IMPORTED_MODULE_1__.convertLangChainToolCallToOpenAI),\n/* harmony export */   makeInvalidToolCall: () => (/* reexport safe */ _json_output_tools_parsers_js__WEBPACK_IMPORTED_MODULE_1__.makeInvalidToolCall),\n/* harmony export */   openai_tools_exports: () => (/* binding */ openai_tools_exports),\n/* harmony export */   parseToolCall: () => (/* reexport safe */ _json_output_tools_parsers_js__WEBPACK_IMPORTED_MODULE_1__.parseToolCall)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _json_output_tools_parsers_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./json_output_tools_parsers.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/openai_tools/json_output_tools_parsers.js\");\n\n\n\n//#region src/output_parsers/openai_tools/index.ts\nvar openai_tools_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(openai_tools_exports, {\n\tJsonOutputKeyToolsParser: () => _json_output_tools_parsers_js__WEBPACK_IMPORTED_MODULE_1__.JsonOutputKeyToolsParser,\n\tJsonOutputToolsParser: () => _json_output_tools_parsers_js__WEBPACK_IMPORTED_MODULE_1__.JsonOutputToolsParser,\n\tconvertLangChainToolCallToOpenAI: () => _json_output_tools_parsers_js__WEBPACK_IMPORTED_MODULE_1__.convertLangChainToolCallToOpenAI,\n\tmakeInvalidToolCall: () => _json_output_tools_parsers_js__WEBPACK_IMPORTED_MODULE_1__.makeInvalidToolCall,\n\tparseToolCall: () => _json_output_tools_parsers_js__WEBPACK_IMPORTED_MODULE_1__.parseToolCall\n});\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9vdXRwdXRfcGFyc2Vycy9vcGVuYWlfdG9vbHMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBOEQ7QUFDeUc7O0FBRXZLO0FBQ0E7QUFDQSxzRUFBUTtBQUNSLGlDQUFpQyxtRkFBd0I7QUFDekQsOEJBQThCLGdGQUFxQjtBQUNuRCx5Q0FBeUMsMkZBQWdDO0FBQ3pFLDRCQUE0Qiw4RUFBbUI7QUFDL0Msc0JBQXNCLHdFQUFhO0FBQ25DLENBQUM7O0FBRUQ7QUFDdUo7QUFDdkoiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L291dHB1dF9wYXJzZXJzL29wZW5haV90b29scy9pbmRleC5qcz8xZTRkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fZXhwb3J0IH0gZnJvbSBcIi4uLy4uL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuanNcIjtcbmltcG9ydCB7IEpzb25PdXRwdXRLZXlUb29sc1BhcnNlciwgSnNvbk91dHB1dFRvb2xzUGFyc2VyLCBjb252ZXJ0TGFuZ0NoYWluVG9vbENhbGxUb09wZW5BSSwgbWFrZUludmFsaWRUb29sQ2FsbCwgcGFyc2VUb29sQ2FsbCB9IGZyb20gXCIuL2pzb25fb3V0cHV0X3Rvb2xzX3BhcnNlcnMuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9vdXRwdXRfcGFyc2Vycy9vcGVuYWlfdG9vbHMvaW5kZXgudHNcbnZhciBvcGVuYWlfdG9vbHNfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQob3BlbmFpX3Rvb2xzX2V4cG9ydHMsIHtcblx0SnNvbk91dHB1dEtleVRvb2xzUGFyc2VyOiAoKSA9PiBKc29uT3V0cHV0S2V5VG9vbHNQYXJzZXIsXG5cdEpzb25PdXRwdXRUb29sc1BhcnNlcjogKCkgPT4gSnNvbk91dHB1dFRvb2xzUGFyc2VyLFxuXHRjb252ZXJ0TGFuZ0NoYWluVG9vbENhbGxUb09wZW5BSTogKCkgPT4gY29udmVydExhbmdDaGFpblRvb2xDYWxsVG9PcGVuQUksXG5cdG1ha2VJbnZhbGlkVG9vbENhbGw6ICgpID0+IG1ha2VJbnZhbGlkVG9vbENhbGwsXG5cdHBhcnNlVG9vbENhbGw6ICgpID0+IHBhcnNlVG9vbENhbGxcbn0pO1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEpzb25PdXRwdXRLZXlUb29sc1BhcnNlciwgSnNvbk91dHB1dFRvb2xzUGFyc2VyLCBjb252ZXJ0TGFuZ0NoYWluVG9vbENhbGxUb09wZW5BSSwgbWFrZUludmFsaWRUb29sQ2FsbCwgb3BlbmFpX3Rvb2xzX2V4cG9ydHMsIHBhcnNlVG9vbENhbGwgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/openai_tools/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/openai_tools/json_output_tools_parsers.js":
/*!*********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/openai_tools/json_output_tools_parsers.js ***!
  \*********************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JsonOutputKeyToolsParser: () => (/* binding */ JsonOutputKeyToolsParser),\n/* harmony export */   JsonOutputToolsParser: () => (/* binding */ JsonOutputToolsParser),\n/* harmony export */   convertLangChainToolCallToOpenAI: () => (/* binding */ convertLangChainToolCallToOpenAI),\n/* harmony export */   makeInvalidToolCall: () => (/* binding */ makeInvalidToolCall),\n/* harmony export */   parseToolCall: () => (/* binding */ parseToolCall)\n/* harmony export */ });\n/* harmony import */ var _utils_json_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/json.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/json.js\");\n/* harmony import */ var _messages_ai_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../messages/ai.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/ai.js\");\n/* harmony import */ var _utils_types_zod_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/types/zod.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/types/zod.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/base.js\");\n/* harmony import */ var _transform_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../transform.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/transform.js\");\n/* harmony import */ var _json_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../json.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/json.js\");\n\n\n\n\n\n\n\n//#region src/output_parsers/openai_tools/json_output_tools_parsers.ts\nfunction parseToolCall(rawToolCall, options) {\n\tif (rawToolCall.function === void 0) return void 0;\n\tlet functionArgs;\n\tif (options?.partial) try {\n\t\tfunctionArgs = (0,_utils_json_js__WEBPACK_IMPORTED_MODULE_0__.parsePartialJson)(rawToolCall.function.arguments ?? \"{}\");\n\t} catch {\n\t\treturn void 0;\n\t}\n\telse try {\n\t\tfunctionArgs = JSON.parse(rawToolCall.function.arguments);\n\t} catch (e) {\n\t\tthrow new _base_js__WEBPACK_IMPORTED_MODULE_3__.OutputParserException([\n\t\t\t`Function \"${rawToolCall.function.name}\" arguments:`,\n\t\t\t``,\n\t\t\trawToolCall.function.arguments,\n\t\t\t``,\n\t\t\t`are not valid JSON.`,\n\t\t\t`Error: ${e.message}`\n\t\t].join(\"\\n\"));\n\t}\n\tconst parsedToolCall = {\n\t\tname: rawToolCall.function.name,\n\t\targs: functionArgs,\n\t\ttype: \"tool_call\"\n\t};\n\tif (options?.returnId) parsedToolCall.id = rawToolCall.id;\n\treturn parsedToolCall;\n}\nfunction convertLangChainToolCallToOpenAI(toolCall) {\n\tif (toolCall.id === void 0) throw new Error(`All OpenAI tool calls must have an \"id\" field.`);\n\treturn {\n\t\tid: toolCall.id,\n\t\ttype: \"function\",\n\t\tfunction: {\n\t\t\tname: toolCall.name,\n\t\t\targuments: JSON.stringify(toolCall.args)\n\t\t}\n\t};\n}\nfunction makeInvalidToolCall(rawToolCall, errorMsg) {\n\treturn {\n\t\tname: rawToolCall.function?.name,\n\t\targs: rawToolCall.function?.arguments,\n\t\tid: rawToolCall.id,\n\t\terror: errorMsg,\n\t\ttype: \"invalid_tool_call\"\n\t};\n}\n/**\n* Class for parsing the output of a tool-calling LLM into a JSON object.\n*/\nvar JsonOutputToolsParser = class extends _transform_js__WEBPACK_IMPORTED_MODULE_4__.BaseCumulativeTransformOutputParser {\n\tstatic lc_name() {\n\t\treturn \"JsonOutputToolsParser\";\n\t}\n\treturnId = false;\n\tlc_namespace = [\n\t\t\"langchain\",\n\t\t\"output_parsers\",\n\t\t\"openai_tools\"\n\t];\n\tlc_serializable = true;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.returnId = fields?.returnId ?? this.returnId;\n\t}\n\t_diff() {\n\t\tthrow new Error(\"Not supported.\");\n\t}\n\tasync parse() {\n\t\tthrow new Error(\"Not implemented.\");\n\t}\n\tasync parseResult(generations) {\n\t\tconst result = await this.parsePartialResult(generations, false);\n\t\treturn result;\n\t}\n\t/**\n\t* Parses the output and returns a JSON object. If `argsOnly` is true,\n\t* only the arguments of the function call are returned.\n\t* @param generations The output of the LLM to parse.\n\t* @returns A JSON object representation of the function call or its arguments.\n\t*/\n\tasync parsePartialResult(generations, partial = true) {\n\t\tconst message = generations[0].message;\n\t\tlet toolCalls;\n\t\tif ((0,_messages_ai_js__WEBPACK_IMPORTED_MODULE_1__.isAIMessage)(message) && message.tool_calls?.length) toolCalls = message.tool_calls.map((toolCall) => {\n\t\t\tconst { id,...rest } = toolCall;\n\t\t\tif (!this.returnId) return rest;\n\t\t\treturn {\n\t\t\t\tid,\n\t\t\t\t...rest\n\t\t\t};\n\t\t});\n\t\telse if (message.additional_kwargs.tool_calls !== void 0) {\n\t\t\tconst rawToolCalls = JSON.parse(JSON.stringify(message.additional_kwargs.tool_calls));\n\t\t\ttoolCalls = rawToolCalls.map((rawToolCall) => {\n\t\t\t\treturn parseToolCall(rawToolCall, {\n\t\t\t\t\treturnId: this.returnId,\n\t\t\t\t\tpartial\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\tif (!toolCalls) return [];\n\t\tconst parsedToolCalls = [];\n\t\tfor (const toolCall of toolCalls) if (toolCall !== void 0) {\n\t\t\tconst backwardsCompatibleToolCall = {\n\t\t\t\ttype: toolCall.name,\n\t\t\t\targs: toolCall.args,\n\t\t\t\tid: toolCall.id\n\t\t\t};\n\t\t\tparsedToolCalls.push(backwardsCompatibleToolCall);\n\t\t}\n\t\treturn parsedToolCalls;\n\t}\n};\n/**\n* Class for parsing the output of a tool-calling LLM into a JSON object if you are\n* expecting only a single tool to be called.\n*/\nvar JsonOutputKeyToolsParser = class extends JsonOutputToolsParser {\n\tstatic lc_name() {\n\t\treturn \"JsonOutputKeyToolsParser\";\n\t}\n\tlc_namespace = [\n\t\t\"langchain\",\n\t\t\"output_parsers\",\n\t\t\"openai_tools\"\n\t];\n\tlc_serializable = true;\n\treturnId = false;\n\t/** The type of tool calls to return. */\n\tkeyName;\n\t/** Whether to return only the first tool call. */\n\treturnSingle = false;\n\tzodSchema;\n\tconstructor(params) {\n\t\tsuper(params);\n\t\tthis.keyName = params.keyName;\n\t\tthis.returnSingle = params.returnSingle ?? this.returnSingle;\n\t\tthis.zodSchema = params.zodSchema;\n\t}\n\tasync _validateResult(result) {\n\t\tif (this.zodSchema === void 0) return result;\n\t\tconst zodParsedResult = await (0,_utils_types_zod_js__WEBPACK_IMPORTED_MODULE_2__.interopSafeParseAsync)(this.zodSchema, result);\n\t\tif (zodParsedResult.success) return zodParsedResult.data;\n\t\telse throw new _base_js__WEBPACK_IMPORTED_MODULE_3__.OutputParserException(`Failed to parse. Text: \"${JSON.stringify(result, null, 2)}\". Error: ${JSON.stringify(zodParsedResult.error?.issues)}`, JSON.stringify(result, null, 2));\n\t}\n\tasync parsePartialResult(generations) {\n\t\tconst results = await super.parsePartialResult(generations);\n\t\tconst matchingResults = results.filter((result) => result.type === this.keyName);\n\t\tlet returnedValues = matchingResults;\n\t\tif (!matchingResults.length) return void 0;\n\t\tif (!this.returnId) returnedValues = matchingResults.map((result) => result.args);\n\t\tif (this.returnSingle) return returnedValues[0];\n\t\treturn returnedValues;\n\t}\n\tasync parseResult(generations) {\n\t\tconst results = await super.parsePartialResult(generations, false);\n\t\tconst matchingResults = results.filter((result) => result.type === this.keyName);\n\t\tlet returnedValues = matchingResults;\n\t\tif (!matchingResults.length) return void 0;\n\t\tif (!this.returnId) returnedValues = matchingResults.map((result) => result.args);\n\t\tif (this.returnSingle) return this._validateResult(returnedValues[0]);\n\t\tconst toolCallResults = await Promise.all(returnedValues.map((value) => this._validateResult(value)));\n\t\treturn toolCallResults;\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=json_output_tools_parsers.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9vdXRwdXRfcGFyc2Vycy9vcGVuYWlfdG9vbHMvanNvbl9vdXRwdXRfdG9vbHNfcGFyc2Vycy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUF1RDtBQUNKO0FBQ2M7QUFDZDtBQUNtQjtBQUNsRDs7QUFFcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixnRUFBZ0Isc0NBQXNDO0FBQ3ZFLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxZQUFZLDJEQUFxQjtBQUNqQyxnQkFBZ0IsMEJBQTBCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyw4RUFBbUM7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSw0REFBVztBQUNqQixXQUFXLGFBQWE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQywwRUFBcUI7QUFDckQ7QUFDQSxpQkFBaUIsMkRBQXFCLDRCQUE0QixnQ0FBZ0MsWUFBWSw4Q0FBOEM7QUFDNUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ2lJO0FBQ2pJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9vdXRwdXRfcGFyc2Vycy9vcGVuYWlfdG9vbHMvanNvbl9vdXRwdXRfdG9vbHNfcGFyc2Vycy5qcz8xMzM4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBhcnNlUGFydGlhbEpzb24gfSBmcm9tIFwiLi4vLi4vdXRpbHMvanNvbi5qc1wiO1xuaW1wb3J0IHsgaXNBSU1lc3NhZ2UgfSBmcm9tIFwiLi4vLi4vbWVzc2FnZXMvYWkuanNcIjtcbmltcG9ydCB7IGludGVyb3BTYWZlUGFyc2VBc3luYyB9IGZyb20gXCIuLi8uLi91dGlscy90eXBlcy96b2QuanNcIjtcbmltcG9ydCB7IE91dHB1dFBhcnNlckV4Y2VwdGlvbiB9IGZyb20gXCIuLi9iYXNlLmpzXCI7XG5pbXBvcnQgeyBCYXNlQ3VtdWxhdGl2ZVRyYW5zZm9ybU91dHB1dFBhcnNlciB9IGZyb20gXCIuLi90cmFuc2Zvcm0uanNcIjtcbmltcG9ydCBcIi4uL2pzb24uanNcIjtcblxuLy8jcmVnaW9uIHNyYy9vdXRwdXRfcGFyc2Vycy9vcGVuYWlfdG9vbHMvanNvbl9vdXRwdXRfdG9vbHNfcGFyc2Vycy50c1xuZnVuY3Rpb24gcGFyc2VUb29sQ2FsbChyYXdUb29sQ2FsbCwgb3B0aW9ucykge1xuXHRpZiAocmF3VG9vbENhbGwuZnVuY3Rpb24gPT09IHZvaWQgMCkgcmV0dXJuIHZvaWQgMDtcblx0bGV0IGZ1bmN0aW9uQXJncztcblx0aWYgKG9wdGlvbnM/LnBhcnRpYWwpIHRyeSB7XG5cdFx0ZnVuY3Rpb25BcmdzID0gcGFyc2VQYXJ0aWFsSnNvbihyYXdUb29sQ2FsbC5mdW5jdGlvbi5hcmd1bWVudHMgPz8gXCJ7fVwiKTtcblx0fSBjYXRjaCB7XG5cdFx0cmV0dXJuIHZvaWQgMDtcblx0fVxuXHRlbHNlIHRyeSB7XG5cdFx0ZnVuY3Rpb25BcmdzID0gSlNPTi5wYXJzZShyYXdUb29sQ2FsbC5mdW5jdGlvbi5hcmd1bWVudHMpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0dGhyb3cgbmV3IE91dHB1dFBhcnNlckV4Y2VwdGlvbihbXG5cdFx0XHRgRnVuY3Rpb24gXCIke3Jhd1Rvb2xDYWxsLmZ1bmN0aW9uLm5hbWV9XCIgYXJndW1lbnRzOmAsXG5cdFx0XHRgYCxcblx0XHRcdHJhd1Rvb2xDYWxsLmZ1bmN0aW9uLmFyZ3VtZW50cyxcblx0XHRcdGBgLFxuXHRcdFx0YGFyZSBub3QgdmFsaWQgSlNPTi5gLFxuXHRcdFx0YEVycm9yOiAke2UubWVzc2FnZX1gXG5cdFx0XS5qb2luKFwiXFxuXCIpKTtcblx0fVxuXHRjb25zdCBwYXJzZWRUb29sQ2FsbCA9IHtcblx0XHRuYW1lOiByYXdUb29sQ2FsbC5mdW5jdGlvbi5uYW1lLFxuXHRcdGFyZ3M6IGZ1bmN0aW9uQXJncyxcblx0XHR0eXBlOiBcInRvb2xfY2FsbFwiXG5cdH07XG5cdGlmIChvcHRpb25zPy5yZXR1cm5JZCkgcGFyc2VkVG9vbENhbGwuaWQgPSByYXdUb29sQ2FsbC5pZDtcblx0cmV0dXJuIHBhcnNlZFRvb2xDYWxsO1xufVxuZnVuY3Rpb24gY29udmVydExhbmdDaGFpblRvb2xDYWxsVG9PcGVuQUkodG9vbENhbGwpIHtcblx0aWYgKHRvb2xDYWxsLmlkID09PSB2b2lkIDApIHRocm93IG5ldyBFcnJvcihgQWxsIE9wZW5BSSB0b29sIGNhbGxzIG11c3QgaGF2ZSBhbiBcImlkXCIgZmllbGQuYCk7XG5cdHJldHVybiB7XG5cdFx0aWQ6IHRvb2xDYWxsLmlkLFxuXHRcdHR5cGU6IFwiZnVuY3Rpb25cIixcblx0XHRmdW5jdGlvbjoge1xuXHRcdFx0bmFtZTogdG9vbENhbGwubmFtZSxcblx0XHRcdGFyZ3VtZW50czogSlNPTi5zdHJpbmdpZnkodG9vbENhbGwuYXJncylcblx0XHR9XG5cdH07XG59XG5mdW5jdGlvbiBtYWtlSW52YWxpZFRvb2xDYWxsKHJhd1Rvb2xDYWxsLCBlcnJvck1zZykge1xuXHRyZXR1cm4ge1xuXHRcdG5hbWU6IHJhd1Rvb2xDYWxsLmZ1bmN0aW9uPy5uYW1lLFxuXHRcdGFyZ3M6IHJhd1Rvb2xDYWxsLmZ1bmN0aW9uPy5hcmd1bWVudHMsXG5cdFx0aWQ6IHJhd1Rvb2xDYWxsLmlkLFxuXHRcdGVycm9yOiBlcnJvck1zZyxcblx0XHR0eXBlOiBcImludmFsaWRfdG9vbF9jYWxsXCJcblx0fTtcbn1cbi8qKlxuKiBDbGFzcyBmb3IgcGFyc2luZyB0aGUgb3V0cHV0IG9mIGEgdG9vbC1jYWxsaW5nIExMTSBpbnRvIGEgSlNPTiBvYmplY3QuXG4qL1xudmFyIEpzb25PdXRwdXRUb29sc1BhcnNlciA9IGNsYXNzIGV4dGVuZHMgQmFzZUN1bXVsYXRpdmVUcmFuc2Zvcm1PdXRwdXRQYXJzZXIge1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJKc29uT3V0cHV0VG9vbHNQYXJzZXJcIjtcblx0fVxuXHRyZXR1cm5JZCA9IGZhbHNlO1xuXHRsY19uYW1lc3BhY2UgPSBbXG5cdFx0XCJsYW5nY2hhaW5cIixcblx0XHRcIm91dHB1dF9wYXJzZXJzXCIsXG5cdFx0XCJvcGVuYWlfdG9vbHNcIlxuXHRdO1xuXHRsY19zZXJpYWxpemFibGUgPSB0cnVlO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRzdXBlcihmaWVsZHMpO1xuXHRcdHRoaXMucmV0dXJuSWQgPSBmaWVsZHM/LnJldHVybklkID8/IHRoaXMucmV0dXJuSWQ7XG5cdH1cblx0X2RpZmYoKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiTm90IHN1cHBvcnRlZC5cIik7XG5cdH1cblx0YXN5bmMgcGFyc2UoKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkLlwiKTtcblx0fVxuXHRhc3luYyBwYXJzZVJlc3VsdChnZW5lcmF0aW9ucykge1xuXHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMucGFyc2VQYXJ0aWFsUmVzdWx0KGdlbmVyYXRpb25zLCBmYWxzZSk7XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fVxuXHQvKipcblx0KiBQYXJzZXMgdGhlIG91dHB1dCBhbmQgcmV0dXJucyBhIEpTT04gb2JqZWN0LiBJZiBgYXJnc09ubHlgIGlzIHRydWUsXG5cdCogb25seSB0aGUgYXJndW1lbnRzIG9mIHRoZSBmdW5jdGlvbiBjYWxsIGFyZSByZXR1cm5lZC5cblx0KiBAcGFyYW0gZ2VuZXJhdGlvbnMgVGhlIG91dHB1dCBvZiB0aGUgTExNIHRvIHBhcnNlLlxuXHQqIEByZXR1cm5zIEEgSlNPTiBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgdGhlIGZ1bmN0aW9uIGNhbGwgb3IgaXRzIGFyZ3VtZW50cy5cblx0Ki9cblx0YXN5bmMgcGFyc2VQYXJ0aWFsUmVzdWx0KGdlbmVyYXRpb25zLCBwYXJ0aWFsID0gdHJ1ZSkge1xuXHRcdGNvbnN0IG1lc3NhZ2UgPSBnZW5lcmF0aW9uc1swXS5tZXNzYWdlO1xuXHRcdGxldCB0b29sQ2FsbHM7XG5cdFx0aWYgKGlzQUlNZXNzYWdlKG1lc3NhZ2UpICYmIG1lc3NhZ2UudG9vbF9jYWxscz8ubGVuZ3RoKSB0b29sQ2FsbHMgPSBtZXNzYWdlLnRvb2xfY2FsbHMubWFwKCh0b29sQ2FsbCkgPT4ge1xuXHRcdFx0Y29uc3QgeyBpZCwuLi5yZXN0IH0gPSB0b29sQ2FsbDtcblx0XHRcdGlmICghdGhpcy5yZXR1cm5JZCkgcmV0dXJuIHJlc3Q7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRpZCxcblx0XHRcdFx0Li4ucmVzdFxuXHRcdFx0fTtcblx0XHR9KTtcblx0XHRlbHNlIGlmIChtZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzLnRvb2xfY2FsbHMgIT09IHZvaWQgMCkge1xuXHRcdFx0Y29uc3QgcmF3VG9vbENhbGxzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShtZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzLnRvb2xfY2FsbHMpKTtcblx0XHRcdHRvb2xDYWxscyA9IHJhd1Rvb2xDYWxscy5tYXAoKHJhd1Rvb2xDYWxsKSA9PiB7XG5cdFx0XHRcdHJldHVybiBwYXJzZVRvb2xDYWxsKHJhd1Rvb2xDYWxsLCB7XG5cdFx0XHRcdFx0cmV0dXJuSWQ6IHRoaXMucmV0dXJuSWQsXG5cdFx0XHRcdFx0cGFydGlhbFxuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHRpZiAoIXRvb2xDYWxscykgcmV0dXJuIFtdO1xuXHRcdGNvbnN0IHBhcnNlZFRvb2xDYWxscyA9IFtdO1xuXHRcdGZvciAoY29uc3QgdG9vbENhbGwgb2YgdG9vbENhbGxzKSBpZiAodG9vbENhbGwgIT09IHZvaWQgMCkge1xuXHRcdFx0Y29uc3QgYmFja3dhcmRzQ29tcGF0aWJsZVRvb2xDYWxsID0ge1xuXHRcdFx0XHR0eXBlOiB0b29sQ2FsbC5uYW1lLFxuXHRcdFx0XHRhcmdzOiB0b29sQ2FsbC5hcmdzLFxuXHRcdFx0XHRpZDogdG9vbENhbGwuaWRcblx0XHRcdH07XG5cdFx0XHRwYXJzZWRUb29sQ2FsbHMucHVzaChiYWNrd2FyZHNDb21wYXRpYmxlVG9vbENhbGwpO1xuXHRcdH1cblx0XHRyZXR1cm4gcGFyc2VkVG9vbENhbGxzO1xuXHR9XG59O1xuLyoqXG4qIENsYXNzIGZvciBwYXJzaW5nIHRoZSBvdXRwdXQgb2YgYSB0b29sLWNhbGxpbmcgTExNIGludG8gYSBKU09OIG9iamVjdCBpZiB5b3UgYXJlXG4qIGV4cGVjdGluZyBvbmx5IGEgc2luZ2xlIHRvb2wgdG8gYmUgY2FsbGVkLlxuKi9cbnZhciBKc29uT3V0cHV0S2V5VG9vbHNQYXJzZXIgPSBjbGFzcyBleHRlbmRzIEpzb25PdXRwdXRUb29sc1BhcnNlciB7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIkpzb25PdXRwdXRLZXlUb29sc1BhcnNlclwiO1xuXHR9XG5cdGxjX25hbWVzcGFjZSA9IFtcblx0XHRcImxhbmdjaGFpblwiLFxuXHRcdFwib3V0cHV0X3BhcnNlcnNcIixcblx0XHRcIm9wZW5haV90b29sc1wiXG5cdF07XG5cdGxjX3NlcmlhbGl6YWJsZSA9IHRydWU7XG5cdHJldHVybklkID0gZmFsc2U7XG5cdC8qKiBUaGUgdHlwZSBvZiB0b29sIGNhbGxzIHRvIHJldHVybi4gKi9cblx0a2V5TmFtZTtcblx0LyoqIFdoZXRoZXIgdG8gcmV0dXJuIG9ubHkgdGhlIGZpcnN0IHRvb2wgY2FsbC4gKi9cblx0cmV0dXJuU2luZ2xlID0gZmFsc2U7XG5cdHpvZFNjaGVtYTtcblx0Y29uc3RydWN0b3IocGFyYW1zKSB7XG5cdFx0c3VwZXIocGFyYW1zKTtcblx0XHR0aGlzLmtleU5hbWUgPSBwYXJhbXMua2V5TmFtZTtcblx0XHR0aGlzLnJldHVyblNpbmdsZSA9IHBhcmFtcy5yZXR1cm5TaW5nbGUgPz8gdGhpcy5yZXR1cm5TaW5nbGU7XG5cdFx0dGhpcy56b2RTY2hlbWEgPSBwYXJhbXMuem9kU2NoZW1hO1xuXHR9XG5cdGFzeW5jIF92YWxpZGF0ZVJlc3VsdChyZXN1bHQpIHtcblx0XHRpZiAodGhpcy56b2RTY2hlbWEgPT09IHZvaWQgMCkgcmV0dXJuIHJlc3VsdDtcblx0XHRjb25zdCB6b2RQYXJzZWRSZXN1bHQgPSBhd2FpdCBpbnRlcm9wU2FmZVBhcnNlQXN5bmModGhpcy56b2RTY2hlbWEsIHJlc3VsdCk7XG5cdFx0aWYgKHpvZFBhcnNlZFJlc3VsdC5zdWNjZXNzKSByZXR1cm4gem9kUGFyc2VkUmVzdWx0LmRhdGE7XG5cdFx0ZWxzZSB0aHJvdyBuZXcgT3V0cHV0UGFyc2VyRXhjZXB0aW9uKGBGYWlsZWQgdG8gcGFyc2UuIFRleHQ6IFwiJHtKU09OLnN0cmluZ2lmeShyZXN1bHQsIG51bGwsIDIpfVwiLiBFcnJvcjogJHtKU09OLnN0cmluZ2lmeSh6b2RQYXJzZWRSZXN1bHQuZXJyb3I/Lmlzc3Vlcyl9YCwgSlNPTi5zdHJpbmdpZnkocmVzdWx0LCBudWxsLCAyKSk7XG5cdH1cblx0YXN5bmMgcGFyc2VQYXJ0aWFsUmVzdWx0KGdlbmVyYXRpb25zKSB7XG5cdFx0Y29uc3QgcmVzdWx0cyA9IGF3YWl0IHN1cGVyLnBhcnNlUGFydGlhbFJlc3VsdChnZW5lcmF0aW9ucyk7XG5cdFx0Y29uc3QgbWF0Y2hpbmdSZXN1bHRzID0gcmVzdWx0cy5maWx0ZXIoKHJlc3VsdCkgPT4gcmVzdWx0LnR5cGUgPT09IHRoaXMua2V5TmFtZSk7XG5cdFx0bGV0IHJldHVybmVkVmFsdWVzID0gbWF0Y2hpbmdSZXN1bHRzO1xuXHRcdGlmICghbWF0Y2hpbmdSZXN1bHRzLmxlbmd0aCkgcmV0dXJuIHZvaWQgMDtcblx0XHRpZiAoIXRoaXMucmV0dXJuSWQpIHJldHVybmVkVmFsdWVzID0gbWF0Y2hpbmdSZXN1bHRzLm1hcCgocmVzdWx0KSA9PiByZXN1bHQuYXJncyk7XG5cdFx0aWYgKHRoaXMucmV0dXJuU2luZ2xlKSByZXR1cm4gcmV0dXJuZWRWYWx1ZXNbMF07XG5cdFx0cmV0dXJuIHJldHVybmVkVmFsdWVzO1xuXHR9XG5cdGFzeW5jIHBhcnNlUmVzdWx0KGdlbmVyYXRpb25zKSB7XG5cdFx0Y29uc3QgcmVzdWx0cyA9IGF3YWl0IHN1cGVyLnBhcnNlUGFydGlhbFJlc3VsdChnZW5lcmF0aW9ucywgZmFsc2UpO1xuXHRcdGNvbnN0IG1hdGNoaW5nUmVzdWx0cyA9IHJlc3VsdHMuZmlsdGVyKChyZXN1bHQpID0+IHJlc3VsdC50eXBlID09PSB0aGlzLmtleU5hbWUpO1xuXHRcdGxldCByZXR1cm5lZFZhbHVlcyA9IG1hdGNoaW5nUmVzdWx0cztcblx0XHRpZiAoIW1hdGNoaW5nUmVzdWx0cy5sZW5ndGgpIHJldHVybiB2b2lkIDA7XG5cdFx0aWYgKCF0aGlzLnJldHVybklkKSByZXR1cm5lZFZhbHVlcyA9IG1hdGNoaW5nUmVzdWx0cy5tYXAoKHJlc3VsdCkgPT4gcmVzdWx0LmFyZ3MpO1xuXHRcdGlmICh0aGlzLnJldHVyblNpbmdsZSkgcmV0dXJuIHRoaXMuX3ZhbGlkYXRlUmVzdWx0KHJldHVybmVkVmFsdWVzWzBdKTtcblx0XHRjb25zdCB0b29sQ2FsbFJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChyZXR1cm5lZFZhbHVlcy5tYXAoKHZhbHVlKSA9PiB0aGlzLl92YWxpZGF0ZVJlc3VsdCh2YWx1ZSkpKTtcblx0XHRyZXR1cm4gdG9vbENhbGxSZXN1bHRzO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEpzb25PdXRwdXRLZXlUb29sc1BhcnNlciwgSnNvbk91dHB1dFRvb2xzUGFyc2VyLCBjb252ZXJ0TGFuZ0NoYWluVG9vbENhbGxUb09wZW5BSSwgbWFrZUludmFsaWRUb29sQ2FsbCwgcGFyc2VUb29sQ2FsbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9anNvbl9vdXRwdXRfdG9vbHNfcGFyc2Vycy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/openai_tools/json_output_tools_parsers.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/string.js":
/*!*************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/string.js ***!
  \*************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StringOutputParser: () => (/* binding */ StringOutputParser)\n/* harmony export */ });\n/* harmony import */ var _transform_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./transform.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/transform.js\");\n\n\n//#region src/output_parsers/string.ts\n/**\n* OutputParser that parses LLMResult into the top likely string.\n* @example\n* ```typescript\n* const promptTemplate = PromptTemplate.fromTemplate(\n*   \"Tell me a joke about {topic}\",\n* );\n*\n* const chain = RunnableSequence.from([\n*   promptTemplate,\n*   new ChatOpenAI({ model: \"gpt-4o-mini\" }),\n*   new StringOutputParser(),\n* ]);\n*\n* const result = await chain.invoke({ topic: \"bears\" });\n* console.log(\"What do you call a bear with no teeth? A gummy bear!\");\n* ```\n*/\nvar StringOutputParser = class extends _transform_js__WEBPACK_IMPORTED_MODULE_0__.BaseTransformOutputParser {\n\tstatic lc_name() {\n\t\treturn \"StrOutputParser\";\n\t}\n\tlc_namespace = [\n\t\t\"langchain_core\",\n\t\t\"output_parsers\",\n\t\t\"string\"\n\t];\n\tlc_serializable = true;\n\t/**\n\t* Parses a string output from an LLM call. This method is meant to be\n\t* implemented by subclasses to define how a string output from an LLM\n\t* should be parsed.\n\t* @param text The string output from an LLM call.\n\t* @param callbacks Optional callbacks.\n\t* @returns A promise of the parsed output.\n\t*/\n\tparse(text) {\n\t\treturn Promise.resolve(text);\n\t}\n\tgetFormatInstructions() {\n\t\treturn \"\";\n\t}\n\t_textContentToString(content) {\n\t\treturn content.text;\n\t}\n\t_imageUrlContentToString(_content) {\n\t\tthrow new Error(`Cannot coerce a multimodal \"image_url\" message part into a string.`);\n\t}\n\t_messageContentToString(content) {\n\t\tswitch (content.type) {\n\t\t\tcase \"text\":\n\t\t\tcase \"text_delta\":\n\t\t\t\tif (\"text\" in content) return this._textContentToString(content);\n\t\t\t\tbreak;\n\t\t\tcase \"image_url\":\n\t\t\t\tif (\"image_url\" in content) return this._imageUrlContentToString(content);\n\t\t\t\tbreak;\n\t\t\tdefault: throw new Error(`Cannot coerce \"${content.type}\" message part into a string.`);\n\t\t}\n\t\tthrow new Error(`Invalid content type: ${content.type}`);\n\t}\n\t_baseMessageContentToString(content) {\n\t\treturn content.reduce((acc, item) => acc + this._messageContentToString(item), \"\");\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=string.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9vdXRwdXRfcGFyc2Vycy9zdHJpbmcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBMkQ7O0FBRTNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixNQUFNO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHNCQUFzQjtBQUMzQztBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsZ0JBQWdCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxvRUFBeUI7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxhQUFhO0FBQzNEO0FBQ0EsMkNBQTJDLGFBQWE7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUM4QjtBQUM5QiIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3Qvb3V0cHV0X3BhcnNlcnMvc3RyaW5nLmpzPzQ3NjIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzZVRyYW5zZm9ybU91dHB1dFBhcnNlciB9IGZyb20gXCIuL3RyYW5zZm9ybS5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL291dHB1dF9wYXJzZXJzL3N0cmluZy50c1xuLyoqXG4qIE91dHB1dFBhcnNlciB0aGF0IHBhcnNlcyBMTE1SZXN1bHQgaW50byB0aGUgdG9wIGxpa2VseSBzdHJpbmcuXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogY29uc3QgcHJvbXB0VGVtcGxhdGUgPSBQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUoXG4qICAgXCJUZWxsIG1lIGEgam9rZSBhYm91dCB7dG9waWN9XCIsXG4qICk7XG4qXG4qIGNvbnN0IGNoYWluID0gUnVubmFibGVTZXF1ZW5jZS5mcm9tKFtcbiogICBwcm9tcHRUZW1wbGF0ZSxcbiogICBuZXcgQ2hhdE9wZW5BSSh7IG1vZGVsOiBcImdwdC00by1taW5pXCIgfSksXG4qICAgbmV3IFN0cmluZ091dHB1dFBhcnNlcigpLFxuKiBdKTtcbipcbiogY29uc3QgcmVzdWx0ID0gYXdhaXQgY2hhaW4uaW52b2tlKHsgdG9waWM6IFwiYmVhcnNcIiB9KTtcbiogY29uc29sZS5sb2coXCJXaGF0IGRvIHlvdSBjYWxsIGEgYmVhciB3aXRoIG5vIHRlZXRoPyBBIGd1bW15IGJlYXIhXCIpO1xuKiBgYGBcbiovXG52YXIgU3RyaW5nT3V0cHV0UGFyc2VyID0gY2xhc3MgZXh0ZW5kcyBCYXNlVHJhbnNmb3JtT3V0cHV0UGFyc2VyIHtcblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiU3RyT3V0cHV0UGFyc2VyXCI7XG5cdH1cblx0bGNfbmFtZXNwYWNlID0gW1xuXHRcdFwibGFuZ2NoYWluX2NvcmVcIixcblx0XHRcIm91dHB1dF9wYXJzZXJzXCIsXG5cdFx0XCJzdHJpbmdcIlxuXHRdO1xuXHRsY19zZXJpYWxpemFibGUgPSB0cnVlO1xuXHQvKipcblx0KiBQYXJzZXMgYSBzdHJpbmcgb3V0cHV0IGZyb20gYW4gTExNIGNhbGwuIFRoaXMgbWV0aG9kIGlzIG1lYW50IHRvIGJlXG5cdCogaW1wbGVtZW50ZWQgYnkgc3ViY2xhc3NlcyB0byBkZWZpbmUgaG93IGEgc3RyaW5nIG91dHB1dCBmcm9tIGFuIExMTVxuXHQqIHNob3VsZCBiZSBwYXJzZWQuXG5cdCogQHBhcmFtIHRleHQgVGhlIHN0cmluZyBvdXRwdXQgZnJvbSBhbiBMTE0gY2FsbC5cblx0KiBAcGFyYW0gY2FsbGJhY2tzIE9wdGlvbmFsIGNhbGxiYWNrcy5cblx0KiBAcmV0dXJucyBBIHByb21pc2Ugb2YgdGhlIHBhcnNlZCBvdXRwdXQuXG5cdCovXG5cdHBhcnNlKHRleHQpIHtcblx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRleHQpO1xuXHR9XG5cdGdldEZvcm1hdEluc3RydWN0aW9ucygpIHtcblx0XHRyZXR1cm4gXCJcIjtcblx0fVxuXHRfdGV4dENvbnRlbnRUb1N0cmluZyhjb250ZW50KSB7XG5cdFx0cmV0dXJuIGNvbnRlbnQudGV4dDtcblx0fVxuXHRfaW1hZ2VVcmxDb250ZW50VG9TdHJpbmcoX2NvbnRlbnQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBjb2VyY2UgYSBtdWx0aW1vZGFsIFwiaW1hZ2VfdXJsXCIgbWVzc2FnZSBwYXJ0IGludG8gYSBzdHJpbmcuYCk7XG5cdH1cblx0X21lc3NhZ2VDb250ZW50VG9TdHJpbmcoY29udGVudCkge1xuXHRcdHN3aXRjaCAoY29udGVudC50eXBlKSB7XG5cdFx0XHRjYXNlIFwidGV4dFwiOlxuXHRcdFx0Y2FzZSBcInRleHRfZGVsdGFcIjpcblx0XHRcdFx0aWYgKFwidGV4dFwiIGluIGNvbnRlbnQpIHJldHVybiB0aGlzLl90ZXh0Q29udGVudFRvU3RyaW5nKGNvbnRlbnQpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgXCJpbWFnZV91cmxcIjpcblx0XHRcdFx0aWYgKFwiaW1hZ2VfdXJsXCIgaW4gY29udGVudCkgcmV0dXJuIHRoaXMuX2ltYWdlVXJsQ29udGVudFRvU3RyaW5nKGNvbnRlbnQpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGNvZXJjZSBcIiR7Y29udGVudC50eXBlfVwiIG1lc3NhZ2UgcGFydCBpbnRvIGEgc3RyaW5nLmApO1xuXHRcdH1cblx0XHR0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgY29udGVudCB0eXBlOiAke2NvbnRlbnQudHlwZX1gKTtcblx0fVxuXHRfYmFzZU1lc3NhZ2VDb250ZW50VG9TdHJpbmcoY29udGVudCkge1xuXHRcdHJldHVybiBjb250ZW50LnJlZHVjZSgoYWNjLCBpdGVtKSA9PiBhY2MgKyB0aGlzLl9tZXNzYWdlQ29udGVudFRvU3RyaW5nKGl0ZW0pLCBcIlwiKTtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBTdHJpbmdPdXRwdXRQYXJzZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0cmluZy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/string.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/structured.js":
/*!*****************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/structured.js ***!
  \*****************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AsymmetricStructuredOutputParser: () => (/* binding */ AsymmetricStructuredOutputParser),\n/* harmony export */   JsonMarkdownStructuredOutputParser: () => (/* binding */ JsonMarkdownStructuredOutputParser),\n/* harmony export */   StructuredOutputParser: () => (/* binding */ StructuredOutputParser)\n/* harmony export */ });\n/* harmony import */ var _utils_types_zod_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/types/zod.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/types/zod.js\");\n/* harmony import */ var _utils_json_schema_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/json_schema.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/json_schema.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/base.js\");\n/* harmony import */ var zod_v3__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! zod/v3 */ \"(rsc)/./node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.js\");\n\n\n\n\n\n//#region src/output_parsers/structured.ts\nvar StructuredOutputParser = class extends _base_js__WEBPACK_IMPORTED_MODULE_2__.BaseOutputParser {\n\tstatic lc_name() {\n\t\treturn \"StructuredOutputParser\";\n\t}\n\tlc_namespace = [\n\t\t\"langchain\",\n\t\t\"output_parsers\",\n\t\t\"structured\"\n\t];\n\ttoJSON() {\n\t\treturn this.toJSONNotImplemented();\n\t}\n\tconstructor(schema) {\n\t\tsuper(schema);\n\t\tthis.schema = schema;\n\t}\n\t/**\n\t* Creates a new StructuredOutputParser from a Zod schema.\n\t* @param schema The Zod schema which the output should match\n\t* @returns A new instance of StructuredOutputParser.\n\t*/\n\tstatic fromZodSchema(schema) {\n\t\treturn new this(schema);\n\t}\n\t/**\n\t* Creates a new StructuredOutputParser from a set of names and\n\t* descriptions.\n\t* @param schemas An object where each key is a name and each value is a description\n\t* @returns A new instance of StructuredOutputParser.\n\t*/\n\tstatic fromNamesAndDescriptions(schemas) {\n\t\tconst zodSchema = zod_v3__WEBPACK_IMPORTED_MODULE_3__.object(Object.fromEntries(Object.entries(schemas).map(([name, description]) => [name, zod_v3__WEBPACK_IMPORTED_MODULE_3__.string().describe(description)])));\n\t\treturn new this(zodSchema);\n\t}\n\t/**\n\t* Returns a markdown code snippet with a JSON object formatted according\n\t* to the schema.\n\t* @param options Optional. The options for formatting the instructions\n\t* @returns A markdown code snippet with a JSON object formatted according to the schema.\n\t*/\n\tgetFormatInstructions() {\n\t\treturn `You must format your output as a JSON value that adheres to a given \"JSON Schema\" instance.\n\n\"JSON Schema\" is a declarative language that allows you to annotate and validate JSON documents.\n\nFor example, the example \"JSON Schema\" instance {{\"properties\": {{\"foo\": {{\"description\": \"a list of test words\", \"type\": \"array\", \"items\": {{\"type\": \"string\"}}}}}}, \"required\": [\"foo\"]}}\nwould match an object with one required property, \"foo\". The \"type\" property specifies \"foo\" must be an \"array\", and the \"description\" property semantically describes it as \"a list of test words\". The items within \"foo\" must be strings.\nThus, the object {{\"foo\": [\"bar\", \"baz\"]}} is a well-formatted instance of this example \"JSON Schema\". The object {{\"properties\": {{\"foo\": [\"bar\", \"baz\"]}}}} is not well-formatted.\n\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\n\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\n\\`\\`\\`json\n${JSON.stringify((0,_utils_json_schema_js__WEBPACK_IMPORTED_MODULE_1__.toJsonSchema)(this.schema))}\n\\`\\`\\`\n`;\n\t}\n\t/**\n\t* Parses the given text according to the schema.\n\t* @param text The text to parse\n\t* @returns The parsed output.\n\t*/\n\tasync parse(text) {\n\t\ttry {\n\t\t\tconst trimmedText = text.trim();\n\t\t\tconst json = trimmedText.match(/^```(?:json)?\\s*([\\s\\S]*?)```/)?.[1] || trimmedText.match(/```json\\s*([\\s\\S]*?)```/)?.[1] || trimmedText;\n\t\t\tconst escapedJson = json.replace(/\"([^\"\\\\]*(\\\\.[^\"\\\\]*)*)\"/g, (_match, capturedGroup) => {\n\t\t\t\tconst escapedInsideQuotes = capturedGroup.replace(/\\n/g, \"\\\\n\");\n\t\t\t\treturn `\"${escapedInsideQuotes}\"`;\n\t\t\t}).replace(/\\n/g, \"\");\n\t\t\treturn await (0,_utils_types_zod_js__WEBPACK_IMPORTED_MODULE_0__.interopParseAsync)(this.schema, JSON.parse(escapedJson));\n\t\t} catch (e) {\n\t\t\tthrow new _base_js__WEBPACK_IMPORTED_MODULE_2__.OutputParserException(`Failed to parse. Text: \"${text}\". Error: ${e}`, text);\n\t\t}\n\t}\n};\n/**\n* A specific type of `StructuredOutputParser` that parses JSON data\n* formatted as a markdown code snippet.\n*/\nvar JsonMarkdownStructuredOutputParser = class extends StructuredOutputParser {\n\tstatic lc_name() {\n\t\treturn \"JsonMarkdownStructuredOutputParser\";\n\t}\n\tgetFormatInstructions(options) {\n\t\tconst interpolationDepth = options?.interpolationDepth ?? 1;\n\t\tif (interpolationDepth < 1) throw new Error(\"f string interpolation depth must be at least 1\");\n\t\treturn `Return a markdown code snippet with a JSON object formatted to look like:\\n\\`\\`\\`json\\n${this._schemaToInstruction((0,_utils_json_schema_js__WEBPACK_IMPORTED_MODULE_1__.toJsonSchema)(this.schema)).replaceAll(\"{\", \"{\".repeat(interpolationDepth)).replaceAll(\"}\", \"}\".repeat(interpolationDepth))}\\n\\`\\`\\``;\n\t}\n\t_schemaToInstruction(schemaInput, indent = 2) {\n\t\tconst schema = schemaInput;\n\t\tif (\"type\" in schema) {\n\t\t\tlet nullable = false;\n\t\t\tlet type;\n\t\t\tif (Array.isArray(schema.type)) {\n\t\t\t\tconst nullIdx = schema.type.findIndex((type$1) => type$1 === \"null\");\n\t\t\t\tif (nullIdx !== -1) {\n\t\t\t\t\tnullable = true;\n\t\t\t\t\tschema.type.splice(nullIdx, 1);\n\t\t\t\t}\n\t\t\t\ttype = schema.type.join(\" | \");\n\t\t\t} else type = schema.type;\n\t\t\tif (schema.type === \"object\" && schema.properties) {\n\t\t\t\tconst description$1 = schema.description ? ` // ${schema.description}` : \"\";\n\t\t\t\tconst properties = Object.entries(schema.properties).map(([key, value]) => {\n\t\t\t\t\tconst isOptional = schema.required?.includes(key) ? \"\" : \" (optional)\";\n\t\t\t\t\treturn `${\" \".repeat(indent)}\"${key}\": ${this._schemaToInstruction(value, indent + 2)}${isOptional}`;\n\t\t\t\t}).join(\"\\n\");\n\t\t\t\treturn `{\\n${properties}\\n${\" \".repeat(indent - 2)}}${description$1}`;\n\t\t\t}\n\t\t\tif (schema.type === \"array\" && schema.items) {\n\t\t\t\tconst description$1 = schema.description ? ` // ${schema.description}` : \"\";\n\t\t\t\treturn `array[\\n${\" \".repeat(indent)}${this._schemaToInstruction(schema.items, indent + 2)}\\n${\" \".repeat(indent - 2)}] ${description$1}`;\n\t\t\t}\n\t\t\tconst isNullable = nullable ? \" (nullable)\" : \"\";\n\t\t\tconst description = schema.description ? ` // ${schema.description}` : \"\";\n\t\t\treturn `${type}${description}${isNullable}`;\n\t\t}\n\t\tif (\"anyOf\" in schema) return schema.anyOf.map((s) => this._schemaToInstruction(s, indent)).join(`\\n${\" \".repeat(indent - 2)}`);\n\t\tthrow new Error(\"unsupported schema type\");\n\t}\n\tstatic fromZodSchema(schema) {\n\t\treturn new this(schema);\n\t}\n\tstatic fromNamesAndDescriptions(schemas) {\n\t\tconst zodSchema = zod_v3__WEBPACK_IMPORTED_MODULE_3__.object(Object.fromEntries(Object.entries(schemas).map(([name, description]) => [name, zod_v3__WEBPACK_IMPORTED_MODULE_3__.string().describe(description)])));\n\t\treturn new this(zodSchema);\n\t}\n};\n/**\n* A type of `StructuredOutputParser` that handles asymmetric input and\n* output schemas.\n*/\nvar AsymmetricStructuredOutputParser = class extends _base_js__WEBPACK_IMPORTED_MODULE_2__.BaseOutputParser {\n\tstructuredInputParser;\n\tconstructor({ inputSchema }) {\n\t\tsuper(...arguments);\n\t\tthis.structuredInputParser = new JsonMarkdownStructuredOutputParser(inputSchema);\n\t}\n\tasync parse(text) {\n\t\tlet parsedInput;\n\t\ttry {\n\t\t\tparsedInput = await this.structuredInputParser.parse(text);\n\t\t} catch (e) {\n\t\t\tthrow new _base_js__WEBPACK_IMPORTED_MODULE_2__.OutputParserException(`Failed to parse. Text: \"${text}\". Error: ${e}`, text);\n\t\t}\n\t\treturn this.outputProcessor(parsedInput);\n\t}\n\tgetFormatInstructions() {\n\t\treturn this.structuredInputParser.getFormatInstructions();\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=structured.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9vdXRwdXRfcGFyc2Vycy9zdHJ1Y3R1cmVkLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBMEQ7QUFDSDtBQUNhO0FBQ3pDOztBQUUzQjtBQUNBLDJDQUEyQyxzREFBZ0I7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDBDQUFRLGdGQUFnRiwwQ0FBUTtBQUNwSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxrREFBa0QsZ0JBQWdCLFNBQVMsbUVBQW1FLHNCQUFzQjtBQUNwSztBQUNBLG1CQUFtQix3QkFBd0IseUVBQXlFLGdCQUFnQiwwQkFBMEI7O0FBRTlKOztBQUVBO0FBQ0E7QUFDQSxFQUFFLGVBQWUsbUVBQVk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsb0JBQW9CO0FBQ25DLElBQUk7QUFDSixnQkFBZ0Isc0VBQWlCO0FBQ2pDLElBQUk7QUFDSixhQUFhLDJEQUFxQiw0QkFBNEIsS0FBSyxZQUFZLEVBQUU7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1HQUFtRywwQkFBMEIsbUVBQVksNEJBQTRCLEtBQUssMkNBQTJDLEtBQUssOEJBQThCO0FBQ3hQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esc0RBQXNELG1CQUFtQjtBQUN6RTtBQUNBO0FBQ0EsZUFBZSxtQkFBbUIsR0FBRyxJQUFJLEtBQUssNkNBQTZDLEVBQUUsV0FBVztBQUN4RyxLQUFLO0FBQ0wsYUFBYSxJQUFJLFdBQVcsSUFBSSx3QkFBd0IsRUFBRSxjQUFjO0FBQ3hFO0FBQ0E7QUFDQSxzREFBc0QsbUJBQW1CO0FBQ3pFLHNCQUFzQixtQkFBbUIsRUFBRSxvREFBb0QsSUFBSSx1QkFBdUIsSUFBSSxjQUFjO0FBQzVJO0FBQ0E7QUFDQSxtREFBbUQsbUJBQW1CO0FBQ3RFLGFBQWEsS0FBSyxFQUFFLFlBQVksRUFBRSxXQUFXO0FBQzdDO0FBQ0Esd0dBQXdHLHVCQUF1QjtBQUMvSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsMENBQVEsZ0ZBQWdGLDBDQUFRO0FBQ3BIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELHNEQUFnQjtBQUNyRTtBQUNBLGVBQWUsYUFBYTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixhQUFhLDJEQUFxQiw0QkFBNEIsS0FBSyxZQUFZLEVBQUU7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDd0c7QUFDeEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L291dHB1dF9wYXJzZXJzL3N0cnVjdHVyZWQuanM/ODk4ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbnRlcm9wUGFyc2VBc3luYyB9IGZyb20gXCIuLi91dGlscy90eXBlcy96b2QuanNcIjtcbmltcG9ydCB7IHRvSnNvblNjaGVtYSB9IGZyb20gXCIuLi91dGlscy9qc29uX3NjaGVtYS5qc1wiO1xuaW1wb3J0IHsgQmFzZU91dHB1dFBhcnNlciwgT3V0cHV0UGFyc2VyRXhjZXB0aW9uIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2QvdjNcIjtcblxuLy8jcmVnaW9uIHNyYy9vdXRwdXRfcGFyc2Vycy9zdHJ1Y3R1cmVkLnRzXG52YXIgU3RydWN0dXJlZE91dHB1dFBhcnNlciA9IGNsYXNzIGV4dGVuZHMgQmFzZU91dHB1dFBhcnNlciB7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIlN0cnVjdHVyZWRPdXRwdXRQYXJzZXJcIjtcblx0fVxuXHRsY19uYW1lc3BhY2UgPSBbXG5cdFx0XCJsYW5nY2hhaW5cIixcblx0XHRcIm91dHB1dF9wYXJzZXJzXCIsXG5cdFx0XCJzdHJ1Y3R1cmVkXCJcblx0XTtcblx0dG9KU09OKCkge1xuXHRcdHJldHVybiB0aGlzLnRvSlNPTk5vdEltcGxlbWVudGVkKCk7XG5cdH1cblx0Y29uc3RydWN0b3Ioc2NoZW1hKSB7XG5cdFx0c3VwZXIoc2NoZW1hKTtcblx0XHR0aGlzLnNjaGVtYSA9IHNjaGVtYTtcblx0fVxuXHQvKipcblx0KiBDcmVhdGVzIGEgbmV3IFN0cnVjdHVyZWRPdXRwdXRQYXJzZXIgZnJvbSBhIFpvZCBzY2hlbWEuXG5cdCogQHBhcmFtIHNjaGVtYSBUaGUgWm9kIHNjaGVtYSB3aGljaCB0aGUgb3V0cHV0IHNob3VsZCBtYXRjaFxuXHQqIEByZXR1cm5zIEEgbmV3IGluc3RhbmNlIG9mIFN0cnVjdHVyZWRPdXRwdXRQYXJzZXIuXG5cdCovXG5cdHN0YXRpYyBmcm9tWm9kU2NoZW1hKHNjaGVtYSkge1xuXHRcdHJldHVybiBuZXcgdGhpcyhzY2hlbWEpO1xuXHR9XG5cdC8qKlxuXHQqIENyZWF0ZXMgYSBuZXcgU3RydWN0dXJlZE91dHB1dFBhcnNlciBmcm9tIGEgc2V0IG9mIG5hbWVzIGFuZFxuXHQqIGRlc2NyaXB0aW9ucy5cblx0KiBAcGFyYW0gc2NoZW1hcyBBbiBvYmplY3Qgd2hlcmUgZWFjaCBrZXkgaXMgYSBuYW1lIGFuZCBlYWNoIHZhbHVlIGlzIGEgZGVzY3JpcHRpb25cblx0KiBAcmV0dXJucyBBIG5ldyBpbnN0YW5jZSBvZiBTdHJ1Y3R1cmVkT3V0cHV0UGFyc2VyLlxuXHQqL1xuXHRzdGF0aWMgZnJvbU5hbWVzQW5kRGVzY3JpcHRpb25zKHNjaGVtYXMpIHtcblx0XHRjb25zdCB6b2RTY2hlbWEgPSB6Lm9iamVjdChPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMoc2NoZW1hcykubWFwKChbbmFtZSwgZGVzY3JpcHRpb25dKSA9PiBbbmFtZSwgei5zdHJpbmcoKS5kZXNjcmliZShkZXNjcmlwdGlvbildKSkpO1xuXHRcdHJldHVybiBuZXcgdGhpcyh6b2RTY2hlbWEpO1xuXHR9XG5cdC8qKlxuXHQqIFJldHVybnMgYSBtYXJrZG93biBjb2RlIHNuaXBwZXQgd2l0aCBhIEpTT04gb2JqZWN0IGZvcm1hdHRlZCBhY2NvcmRpbmdcblx0KiB0byB0aGUgc2NoZW1hLlxuXHQqIEBwYXJhbSBvcHRpb25zIE9wdGlvbmFsLiBUaGUgb3B0aW9ucyBmb3IgZm9ybWF0dGluZyB0aGUgaW5zdHJ1Y3Rpb25zXG5cdCogQHJldHVybnMgQSBtYXJrZG93biBjb2RlIHNuaXBwZXQgd2l0aCBhIEpTT04gb2JqZWN0IGZvcm1hdHRlZCBhY2NvcmRpbmcgdG8gdGhlIHNjaGVtYS5cblx0Ki9cblx0Z2V0Rm9ybWF0SW5zdHJ1Y3Rpb25zKCkge1xuXHRcdHJldHVybiBgWW91IG11c3QgZm9ybWF0IHlvdXIgb3V0cHV0IGFzIGEgSlNPTiB2YWx1ZSB0aGF0IGFkaGVyZXMgdG8gYSBnaXZlbiBcIkpTT04gU2NoZW1hXCIgaW5zdGFuY2UuXG5cblwiSlNPTiBTY2hlbWFcIiBpcyBhIGRlY2xhcmF0aXZlIGxhbmd1YWdlIHRoYXQgYWxsb3dzIHlvdSB0byBhbm5vdGF0ZSBhbmQgdmFsaWRhdGUgSlNPTiBkb2N1bWVudHMuXG5cbkZvciBleGFtcGxlLCB0aGUgZXhhbXBsZSBcIkpTT04gU2NoZW1hXCIgaW5zdGFuY2Uge3tcInByb3BlcnRpZXNcIjoge3tcImZvb1wiOiB7e1wiZGVzY3JpcHRpb25cIjogXCJhIGxpc3Qgb2YgdGVzdCB3b3Jkc1wiLCBcInR5cGVcIjogXCJhcnJheVwiLCBcIml0ZW1zXCI6IHt7XCJ0eXBlXCI6IFwic3RyaW5nXCJ9fX19fX0sIFwicmVxdWlyZWRcIjogW1wiZm9vXCJdfX1cbndvdWxkIG1hdGNoIGFuIG9iamVjdCB3aXRoIG9uZSByZXF1aXJlZCBwcm9wZXJ0eSwgXCJmb29cIi4gVGhlIFwidHlwZVwiIHByb3BlcnR5IHNwZWNpZmllcyBcImZvb1wiIG11c3QgYmUgYW4gXCJhcnJheVwiLCBhbmQgdGhlIFwiZGVzY3JpcHRpb25cIiBwcm9wZXJ0eSBzZW1hbnRpY2FsbHkgZGVzY3JpYmVzIGl0IGFzIFwiYSBsaXN0IG9mIHRlc3Qgd29yZHNcIi4gVGhlIGl0ZW1zIHdpdGhpbiBcImZvb1wiIG11c3QgYmUgc3RyaW5ncy5cblRodXMsIHRoZSBvYmplY3Qge3tcImZvb1wiOiBbXCJiYXJcIiwgXCJiYXpcIl19fSBpcyBhIHdlbGwtZm9ybWF0dGVkIGluc3RhbmNlIG9mIHRoaXMgZXhhbXBsZSBcIkpTT04gU2NoZW1hXCIuIFRoZSBvYmplY3Qge3tcInByb3BlcnRpZXNcIjoge3tcImZvb1wiOiBbXCJiYXJcIiwgXCJiYXpcIl19fX19IGlzIG5vdCB3ZWxsLWZvcm1hdHRlZC5cblxuWW91ciBvdXRwdXQgd2lsbCBiZSBwYXJzZWQgYW5kIHR5cGUtY2hlY2tlZCBhY2NvcmRpbmcgdG8gdGhlIHByb3ZpZGVkIHNjaGVtYSBpbnN0YW5jZSwgc28gbWFrZSBzdXJlIGFsbCBmaWVsZHMgaW4geW91ciBvdXRwdXQgbWF0Y2ggdGhlIHNjaGVtYSBleGFjdGx5IGFuZCB0aGVyZSBhcmUgbm8gdHJhaWxpbmcgY29tbWFzIVxuXG5IZXJlIGlzIHRoZSBKU09OIFNjaGVtYSBpbnN0YW5jZSB5b3VyIG91dHB1dCBtdXN0IGFkaGVyZSB0by4gSW5jbHVkZSB0aGUgZW5jbG9zaW5nIG1hcmtkb3duIGNvZGVibG9jazpcblxcYFxcYFxcYGpzb25cbiR7SlNPTi5zdHJpbmdpZnkodG9Kc29uU2NoZW1hKHRoaXMuc2NoZW1hKSl9XG5cXGBcXGBcXGBcbmA7XG5cdH1cblx0LyoqXG5cdCogUGFyc2VzIHRoZSBnaXZlbiB0ZXh0IGFjY29yZGluZyB0byB0aGUgc2NoZW1hLlxuXHQqIEBwYXJhbSB0ZXh0IFRoZSB0ZXh0IHRvIHBhcnNlXG5cdCogQHJldHVybnMgVGhlIHBhcnNlZCBvdXRwdXQuXG5cdCovXG5cdGFzeW5jIHBhcnNlKHRleHQpIHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgdHJpbW1lZFRleHQgPSB0ZXh0LnRyaW0oKTtcblx0XHRcdGNvbnN0IGpzb24gPSB0cmltbWVkVGV4dC5tYXRjaCgvXmBgYCg/Ompzb24pP1xccyooW1xcc1xcU10qPylgYGAvKT8uWzFdIHx8IHRyaW1tZWRUZXh0Lm1hdGNoKC9gYGBqc29uXFxzKihbXFxzXFxTXSo/KWBgYC8pPy5bMV0gfHwgdHJpbW1lZFRleHQ7XG5cdFx0XHRjb25zdCBlc2NhcGVkSnNvbiA9IGpzb24ucmVwbGFjZSgvXCIoW15cIlxcXFxdKihcXFxcLlteXCJcXFxcXSopKilcIi9nLCAoX21hdGNoLCBjYXB0dXJlZEdyb3VwKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGVzY2FwZWRJbnNpZGVRdW90ZXMgPSBjYXB0dXJlZEdyb3VwLnJlcGxhY2UoL1xcbi9nLCBcIlxcXFxuXCIpO1xuXHRcdFx0XHRyZXR1cm4gYFwiJHtlc2NhcGVkSW5zaWRlUXVvdGVzfVwiYDtcblx0XHRcdH0pLnJlcGxhY2UoL1xcbi9nLCBcIlwiKTtcblx0XHRcdHJldHVybiBhd2FpdCBpbnRlcm9wUGFyc2VBc3luYyh0aGlzLnNjaGVtYSwgSlNPTi5wYXJzZShlc2NhcGVkSnNvbikpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHRocm93IG5ldyBPdXRwdXRQYXJzZXJFeGNlcHRpb24oYEZhaWxlZCB0byBwYXJzZS4gVGV4dDogXCIke3RleHR9XCIuIEVycm9yOiAke2V9YCwgdGV4dCk7XG5cdFx0fVxuXHR9XG59O1xuLyoqXG4qIEEgc3BlY2lmaWMgdHlwZSBvZiBgU3RydWN0dXJlZE91dHB1dFBhcnNlcmAgdGhhdCBwYXJzZXMgSlNPTiBkYXRhXG4qIGZvcm1hdHRlZCBhcyBhIG1hcmtkb3duIGNvZGUgc25pcHBldC5cbiovXG52YXIgSnNvbk1hcmtkb3duU3RydWN0dXJlZE91dHB1dFBhcnNlciA9IGNsYXNzIGV4dGVuZHMgU3RydWN0dXJlZE91dHB1dFBhcnNlciB7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIkpzb25NYXJrZG93blN0cnVjdHVyZWRPdXRwdXRQYXJzZXJcIjtcblx0fVxuXHRnZXRGb3JtYXRJbnN0cnVjdGlvbnMob3B0aW9ucykge1xuXHRcdGNvbnN0IGludGVycG9sYXRpb25EZXB0aCA9IG9wdGlvbnM/LmludGVycG9sYXRpb25EZXB0aCA/PyAxO1xuXHRcdGlmIChpbnRlcnBvbGF0aW9uRGVwdGggPCAxKSB0aHJvdyBuZXcgRXJyb3IoXCJmIHN0cmluZyBpbnRlcnBvbGF0aW9uIGRlcHRoIG11c3QgYmUgYXQgbGVhc3QgMVwiKTtcblx0XHRyZXR1cm4gYFJldHVybiBhIG1hcmtkb3duIGNvZGUgc25pcHBldCB3aXRoIGEgSlNPTiBvYmplY3QgZm9ybWF0dGVkIHRvIGxvb2sgbGlrZTpcXG5cXGBcXGBcXGBqc29uXFxuJHt0aGlzLl9zY2hlbWFUb0luc3RydWN0aW9uKHRvSnNvblNjaGVtYSh0aGlzLnNjaGVtYSkpLnJlcGxhY2VBbGwoXCJ7XCIsIFwie1wiLnJlcGVhdChpbnRlcnBvbGF0aW9uRGVwdGgpKS5yZXBsYWNlQWxsKFwifVwiLCBcIn1cIi5yZXBlYXQoaW50ZXJwb2xhdGlvbkRlcHRoKSl9XFxuXFxgXFxgXFxgYDtcblx0fVxuXHRfc2NoZW1hVG9JbnN0cnVjdGlvbihzY2hlbWFJbnB1dCwgaW5kZW50ID0gMikge1xuXHRcdGNvbnN0IHNjaGVtYSA9IHNjaGVtYUlucHV0O1xuXHRcdGlmIChcInR5cGVcIiBpbiBzY2hlbWEpIHtcblx0XHRcdGxldCBudWxsYWJsZSA9IGZhbHNlO1xuXHRcdFx0bGV0IHR5cGU7XG5cdFx0XHRpZiAoQXJyYXkuaXNBcnJheShzY2hlbWEudHlwZSkpIHtcblx0XHRcdFx0Y29uc3QgbnVsbElkeCA9IHNjaGVtYS50eXBlLmZpbmRJbmRleCgodHlwZSQxKSA9PiB0eXBlJDEgPT09IFwibnVsbFwiKTtcblx0XHRcdFx0aWYgKG51bGxJZHggIT09IC0xKSB7XG5cdFx0XHRcdFx0bnVsbGFibGUgPSB0cnVlO1xuXHRcdFx0XHRcdHNjaGVtYS50eXBlLnNwbGljZShudWxsSWR4LCAxKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR0eXBlID0gc2NoZW1hLnR5cGUuam9pbihcIiB8IFwiKTtcblx0XHRcdH0gZWxzZSB0eXBlID0gc2NoZW1hLnR5cGU7XG5cdFx0XHRpZiAoc2NoZW1hLnR5cGUgPT09IFwib2JqZWN0XCIgJiYgc2NoZW1hLnByb3BlcnRpZXMpIHtcblx0XHRcdFx0Y29uc3QgZGVzY3JpcHRpb24kMSA9IHNjaGVtYS5kZXNjcmlwdGlvbiA/IGAgLy8gJHtzY2hlbWEuZGVzY3JpcHRpb259YCA6IFwiXCI7XG5cdFx0XHRcdGNvbnN0IHByb3BlcnRpZXMgPSBPYmplY3QuZW50cmllcyhzY2hlbWEucHJvcGVydGllcykubWFwKChba2V5LCB2YWx1ZV0pID0+IHtcblx0XHRcdFx0XHRjb25zdCBpc09wdGlvbmFsID0gc2NoZW1hLnJlcXVpcmVkPy5pbmNsdWRlcyhrZXkpID8gXCJcIiA6IFwiIChvcHRpb25hbClcIjtcblx0XHRcdFx0XHRyZXR1cm4gYCR7XCIgXCIucmVwZWF0KGluZGVudCl9XCIke2tleX1cIjogJHt0aGlzLl9zY2hlbWFUb0luc3RydWN0aW9uKHZhbHVlLCBpbmRlbnQgKyAyKX0ke2lzT3B0aW9uYWx9YDtcblx0XHRcdFx0fSkuam9pbihcIlxcblwiKTtcblx0XHRcdFx0cmV0dXJuIGB7XFxuJHtwcm9wZXJ0aWVzfVxcbiR7XCIgXCIucmVwZWF0KGluZGVudCAtIDIpfX0ke2Rlc2NyaXB0aW9uJDF9YDtcblx0XHRcdH1cblx0XHRcdGlmIChzY2hlbWEudHlwZSA9PT0gXCJhcnJheVwiICYmIHNjaGVtYS5pdGVtcykge1xuXHRcdFx0XHRjb25zdCBkZXNjcmlwdGlvbiQxID0gc2NoZW1hLmRlc2NyaXB0aW9uID8gYCAvLyAke3NjaGVtYS5kZXNjcmlwdGlvbn1gIDogXCJcIjtcblx0XHRcdFx0cmV0dXJuIGBhcnJheVtcXG4ke1wiIFwiLnJlcGVhdChpbmRlbnQpfSR7dGhpcy5fc2NoZW1hVG9JbnN0cnVjdGlvbihzY2hlbWEuaXRlbXMsIGluZGVudCArIDIpfVxcbiR7XCIgXCIucmVwZWF0KGluZGVudCAtIDIpfV0gJHtkZXNjcmlwdGlvbiQxfWA7XG5cdFx0XHR9XG5cdFx0XHRjb25zdCBpc051bGxhYmxlID0gbnVsbGFibGUgPyBcIiAobnVsbGFibGUpXCIgOiBcIlwiO1xuXHRcdFx0Y29uc3QgZGVzY3JpcHRpb24gPSBzY2hlbWEuZGVzY3JpcHRpb24gPyBgIC8vICR7c2NoZW1hLmRlc2NyaXB0aW9ufWAgOiBcIlwiO1xuXHRcdFx0cmV0dXJuIGAke3R5cGV9JHtkZXNjcmlwdGlvbn0ke2lzTnVsbGFibGV9YDtcblx0XHR9XG5cdFx0aWYgKFwiYW55T2ZcIiBpbiBzY2hlbWEpIHJldHVybiBzY2hlbWEuYW55T2YubWFwKChzKSA9PiB0aGlzLl9zY2hlbWFUb0luc3RydWN0aW9uKHMsIGluZGVudCkpLmpvaW4oYFxcbiR7XCIgXCIucmVwZWF0KGluZGVudCAtIDIpfWApO1xuXHRcdHRocm93IG5ldyBFcnJvcihcInVuc3VwcG9ydGVkIHNjaGVtYSB0eXBlXCIpO1xuXHR9XG5cdHN0YXRpYyBmcm9tWm9kU2NoZW1hKHNjaGVtYSkge1xuXHRcdHJldHVybiBuZXcgdGhpcyhzY2hlbWEpO1xuXHR9XG5cdHN0YXRpYyBmcm9tTmFtZXNBbmREZXNjcmlwdGlvbnMoc2NoZW1hcykge1xuXHRcdGNvbnN0IHpvZFNjaGVtYSA9IHoub2JqZWN0KE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyhzY2hlbWFzKS5tYXAoKFtuYW1lLCBkZXNjcmlwdGlvbl0pID0+IFtuYW1lLCB6LnN0cmluZygpLmRlc2NyaWJlKGRlc2NyaXB0aW9uKV0pKSk7XG5cdFx0cmV0dXJuIG5ldyB0aGlzKHpvZFNjaGVtYSk7XG5cdH1cbn07XG4vKipcbiogQSB0eXBlIG9mIGBTdHJ1Y3R1cmVkT3V0cHV0UGFyc2VyYCB0aGF0IGhhbmRsZXMgYXN5bW1ldHJpYyBpbnB1dCBhbmRcbiogb3V0cHV0IHNjaGVtYXMuXG4qL1xudmFyIEFzeW1tZXRyaWNTdHJ1Y3R1cmVkT3V0cHV0UGFyc2VyID0gY2xhc3MgZXh0ZW5kcyBCYXNlT3V0cHV0UGFyc2VyIHtcblx0c3RydWN0dXJlZElucHV0UGFyc2VyO1xuXHRjb25zdHJ1Y3Rvcih7IGlucHV0U2NoZW1hIH0pIHtcblx0XHRzdXBlciguLi5hcmd1bWVudHMpO1xuXHRcdHRoaXMuc3RydWN0dXJlZElucHV0UGFyc2VyID0gbmV3IEpzb25NYXJrZG93blN0cnVjdHVyZWRPdXRwdXRQYXJzZXIoaW5wdXRTY2hlbWEpO1xuXHR9XG5cdGFzeW5jIHBhcnNlKHRleHQpIHtcblx0XHRsZXQgcGFyc2VkSW5wdXQ7XG5cdFx0dHJ5IHtcblx0XHRcdHBhcnNlZElucHV0ID0gYXdhaXQgdGhpcy5zdHJ1Y3R1cmVkSW5wdXRQYXJzZXIucGFyc2UodGV4dCk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0dGhyb3cgbmV3IE91dHB1dFBhcnNlckV4Y2VwdGlvbihgRmFpbGVkIHRvIHBhcnNlLiBUZXh0OiBcIiR7dGV4dH1cIi4gRXJyb3I6ICR7ZX1gLCB0ZXh0KTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMub3V0cHV0UHJvY2Vzc29yKHBhcnNlZElucHV0KTtcblx0fVxuXHRnZXRGb3JtYXRJbnN0cnVjdGlvbnMoKSB7XG5cdFx0cmV0dXJuIHRoaXMuc3RydWN0dXJlZElucHV0UGFyc2VyLmdldEZvcm1hdEluc3RydWN0aW9ucygpO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEFzeW1tZXRyaWNTdHJ1Y3R1cmVkT3V0cHV0UGFyc2VyLCBKc29uTWFya2Rvd25TdHJ1Y3R1cmVkT3V0cHV0UGFyc2VyLCBTdHJ1Y3R1cmVkT3V0cHV0UGFyc2VyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdHJ1Y3R1cmVkLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/structured.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/transform.js":
/*!****************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/transform.js ***!
  \****************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseCumulativeTransformOutputParser: () => (/* binding */ BaseCumulativeTransformOutputParser),\n/* harmony export */   BaseTransformOutputParser: () => (/* binding */ BaseTransformOutputParser)\n/* harmony export */ });\n/* harmony import */ var _messages_base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../messages/base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/base.js\");\n/* harmony import */ var _messages_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../messages/utils.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/utils.js\");\n/* harmony import */ var _outputs_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../outputs.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/outputs.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/base.js\");\n/* harmony import */ var _cfworker_json_schema__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @cfworker/json-schema */ \"(rsc)/./node_modules/.pnpm/@cfworker+json-schema@4.1.1/node_modules/@cfworker/json-schema/dist/esm/index.js\");\n\n\n\n\n\n\n//#region src/output_parsers/transform.ts\n/**\n* Class to parse the output of an LLM call that also allows streaming inputs.\n*/\nvar BaseTransformOutputParser = class extends _base_js__WEBPACK_IMPORTED_MODULE_3__.BaseOutputParser {\n\tasync *_transform(inputGenerator) {\n\t\tfor await (const chunk of inputGenerator) if (typeof chunk === \"string\") yield this.parseResult([{ text: chunk }]);\n\t\telse yield this.parseResult([{\n\t\t\tmessage: chunk,\n\t\t\ttext: this._baseMessageToString(chunk)\n\t\t}]);\n\t}\n\t/**\n\t* Transforms an asynchronous generator of input into an asynchronous\n\t* generator of parsed output.\n\t* @param inputGenerator An asynchronous generator of input.\n\t* @param options A configuration object.\n\t* @returns An asynchronous generator of parsed output.\n\t*/\n\tasync *transform(inputGenerator, options) {\n\t\tyield* this._transformStreamWithConfig(inputGenerator, this._transform.bind(this), {\n\t\t\t...options,\n\t\t\trunType: \"parser\"\n\t\t});\n\t}\n};\n/**\n* A base class for output parsers that can handle streaming input. It\n* extends the `BaseTransformOutputParser` class and provides a method for\n* converting parsed outputs into a diff format.\n*/\nvar BaseCumulativeTransformOutputParser = class extends BaseTransformOutputParser {\n\tdiff = false;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.diff = fields?.diff ?? this.diff;\n\t}\n\tasync *_transform(inputGenerator) {\n\t\tlet prevParsed;\n\t\tlet accGen;\n\t\tfor await (const chunk of inputGenerator) {\n\t\t\tif (typeof chunk !== \"string\" && typeof chunk.content !== \"string\") throw new Error(\"Cannot handle non-string output.\");\n\t\t\tlet chunkGen;\n\t\t\tif ((0,_messages_base_js__WEBPACK_IMPORTED_MODULE_0__.isBaseMessageChunk)(chunk)) {\n\t\t\t\tif (typeof chunk.content !== \"string\") throw new Error(\"Cannot handle non-string message output.\");\n\t\t\t\tchunkGen = new _outputs_js__WEBPACK_IMPORTED_MODULE_2__.ChatGenerationChunk({\n\t\t\t\t\tmessage: chunk,\n\t\t\t\t\ttext: chunk.content\n\t\t\t\t});\n\t\t\t} else if ((0,_messages_base_js__WEBPACK_IMPORTED_MODULE_0__.isBaseMessage)(chunk)) {\n\t\t\t\tif (typeof chunk.content !== \"string\") throw new Error(\"Cannot handle non-string message output.\");\n\t\t\t\tchunkGen = new _outputs_js__WEBPACK_IMPORTED_MODULE_2__.ChatGenerationChunk({\n\t\t\t\t\tmessage: (0,_messages_utils_js__WEBPACK_IMPORTED_MODULE_1__.convertToChunk)(chunk),\n\t\t\t\t\ttext: chunk.content\n\t\t\t\t});\n\t\t\t} else chunkGen = new _outputs_js__WEBPACK_IMPORTED_MODULE_2__.GenerationChunk({ text: chunk });\n\t\t\tif (accGen === void 0) accGen = chunkGen;\n\t\t\telse accGen = accGen.concat(chunkGen);\n\t\t\tconst parsed = await this.parsePartialResult([accGen]);\n\t\t\tif (parsed !== void 0 && parsed !== null && !(0,_cfworker_json_schema__WEBPACK_IMPORTED_MODULE_4__.deepCompareStrict)(parsed, prevParsed)) {\n\t\t\t\tif (this.diff) yield this._diff(prevParsed, parsed);\n\t\t\t\telse yield parsed;\n\t\t\t\tprevParsed = parsed;\n\t\t\t}\n\t\t}\n\t}\n\tgetFormatInstructions() {\n\t\treturn \"\";\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=transform.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9vdXRwdXRfcGFyc2Vycy90cmFuc2Zvcm0uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUF3RTtBQUNsQjtBQUNlO0FBQ3hCO0FBQ2E7O0FBRTFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLHNEQUFnQjtBQUM5RDtBQUNBLHFHQUFxRyxhQUFhO0FBQ2xIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLHFFQUFrQjtBQUN6QjtBQUNBLG1CQUFtQiw0REFBbUI7QUFDdEM7QUFDQTtBQUNBLEtBQUs7QUFDTCxLQUFLLFNBQVMsZ0VBQWE7QUFDM0I7QUFDQSxtQkFBbUIsNERBQW1CO0FBQ3RDLGNBQWMsa0VBQWM7QUFDNUI7QUFDQSxLQUFLO0FBQ0wsS0FBSyxvQkFBb0Isd0RBQWUsR0FBRyxhQUFhO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCx3RUFBaUI7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDMEU7QUFDMUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L291dHB1dF9wYXJzZXJzL3RyYW5zZm9ybS5qcz8yYTc1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzQmFzZU1lc3NhZ2UsIGlzQmFzZU1lc3NhZ2VDaHVuayB9IGZyb20gXCIuLi9tZXNzYWdlcy9iYXNlLmpzXCI7XG5pbXBvcnQgeyBjb252ZXJ0VG9DaHVuayB9IGZyb20gXCIuLi9tZXNzYWdlcy91dGlscy5qc1wiO1xuaW1wb3J0IHsgQ2hhdEdlbmVyYXRpb25DaHVuaywgR2VuZXJhdGlvbkNodW5rIH0gZnJvbSBcIi4uL291dHB1dHMuanNcIjtcbmltcG9ydCB7IEJhc2VPdXRwdXRQYXJzZXIgfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5pbXBvcnQgeyBkZWVwQ29tcGFyZVN0cmljdCB9IGZyb20gXCJAY2Z3b3JrZXIvanNvbi1zY2hlbWFcIjtcblxuLy8jcmVnaW9uIHNyYy9vdXRwdXRfcGFyc2Vycy90cmFuc2Zvcm0udHNcbi8qKlxuKiBDbGFzcyB0byBwYXJzZSB0aGUgb3V0cHV0IG9mIGFuIExMTSBjYWxsIHRoYXQgYWxzbyBhbGxvd3Mgc3RyZWFtaW5nIGlucHV0cy5cbiovXG52YXIgQmFzZVRyYW5zZm9ybU91dHB1dFBhcnNlciA9IGNsYXNzIGV4dGVuZHMgQmFzZU91dHB1dFBhcnNlciB7XG5cdGFzeW5jICpfdHJhbnNmb3JtKGlucHV0R2VuZXJhdG9yKSB7XG5cdFx0Zm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBpbnB1dEdlbmVyYXRvcikgaWYgKHR5cGVvZiBjaHVuayA9PT0gXCJzdHJpbmdcIikgeWllbGQgdGhpcy5wYXJzZVJlc3VsdChbeyB0ZXh0OiBjaHVuayB9XSk7XG5cdFx0ZWxzZSB5aWVsZCB0aGlzLnBhcnNlUmVzdWx0KFt7XG5cdFx0XHRtZXNzYWdlOiBjaHVuayxcblx0XHRcdHRleHQ6IHRoaXMuX2Jhc2VNZXNzYWdlVG9TdHJpbmcoY2h1bmspXG5cdFx0fV0pO1xuXHR9XG5cdC8qKlxuXHQqIFRyYW5zZm9ybXMgYW4gYXN5bmNocm9ub3VzIGdlbmVyYXRvciBvZiBpbnB1dCBpbnRvIGFuIGFzeW5jaHJvbm91c1xuXHQqIGdlbmVyYXRvciBvZiBwYXJzZWQgb3V0cHV0LlxuXHQqIEBwYXJhbSBpbnB1dEdlbmVyYXRvciBBbiBhc3luY2hyb25vdXMgZ2VuZXJhdG9yIG9mIGlucHV0LlxuXHQqIEBwYXJhbSBvcHRpb25zIEEgY29uZmlndXJhdGlvbiBvYmplY3QuXG5cdCogQHJldHVybnMgQW4gYXN5bmNocm9ub3VzIGdlbmVyYXRvciBvZiBwYXJzZWQgb3V0cHV0LlxuXHQqL1xuXHRhc3luYyAqdHJhbnNmb3JtKGlucHV0R2VuZXJhdG9yLCBvcHRpb25zKSB7XG5cdFx0eWllbGQqIHRoaXMuX3RyYW5zZm9ybVN0cmVhbVdpdGhDb25maWcoaW5wdXRHZW5lcmF0b3IsIHRoaXMuX3RyYW5zZm9ybS5iaW5kKHRoaXMpLCB7XG5cdFx0XHQuLi5vcHRpb25zLFxuXHRcdFx0cnVuVHlwZTogXCJwYXJzZXJcIlxuXHRcdH0pO1xuXHR9XG59O1xuLyoqXG4qIEEgYmFzZSBjbGFzcyBmb3Igb3V0cHV0IHBhcnNlcnMgdGhhdCBjYW4gaGFuZGxlIHN0cmVhbWluZyBpbnB1dC4gSXRcbiogZXh0ZW5kcyB0aGUgYEJhc2VUcmFuc2Zvcm1PdXRwdXRQYXJzZXJgIGNsYXNzIGFuZCBwcm92aWRlcyBhIG1ldGhvZCBmb3JcbiogY29udmVydGluZyBwYXJzZWQgb3V0cHV0cyBpbnRvIGEgZGlmZiBmb3JtYXQuXG4qL1xudmFyIEJhc2VDdW11bGF0aXZlVHJhbnNmb3JtT3V0cHV0UGFyc2VyID0gY2xhc3MgZXh0ZW5kcyBCYXNlVHJhbnNmb3JtT3V0cHV0UGFyc2VyIHtcblx0ZGlmZiA9IGZhbHNlO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRzdXBlcihmaWVsZHMpO1xuXHRcdHRoaXMuZGlmZiA9IGZpZWxkcz8uZGlmZiA/PyB0aGlzLmRpZmY7XG5cdH1cblx0YXN5bmMgKl90cmFuc2Zvcm0oaW5wdXRHZW5lcmF0b3IpIHtcblx0XHRsZXQgcHJldlBhcnNlZDtcblx0XHRsZXQgYWNjR2VuO1xuXHRcdGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgaW5wdXRHZW5lcmF0b3IpIHtcblx0XHRcdGlmICh0eXBlb2YgY2h1bmsgIT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIGNodW5rLmNvbnRlbnQgIT09IFwic3RyaW5nXCIpIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBoYW5kbGUgbm9uLXN0cmluZyBvdXRwdXQuXCIpO1xuXHRcdFx0bGV0IGNodW5rR2VuO1xuXHRcdFx0aWYgKGlzQmFzZU1lc3NhZ2VDaHVuayhjaHVuaykpIHtcblx0XHRcdFx0aWYgKHR5cGVvZiBjaHVuay5jb250ZW50ICE9PSBcInN0cmluZ1wiKSB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgaGFuZGxlIG5vbi1zdHJpbmcgbWVzc2FnZSBvdXRwdXQuXCIpO1xuXHRcdFx0XHRjaHVua0dlbiA9IG5ldyBDaGF0R2VuZXJhdGlvbkNodW5rKHtcblx0XHRcdFx0XHRtZXNzYWdlOiBjaHVuayxcblx0XHRcdFx0XHR0ZXh0OiBjaHVuay5jb250ZW50XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIGlmIChpc0Jhc2VNZXNzYWdlKGNodW5rKSkge1xuXHRcdFx0XHRpZiAodHlwZW9mIGNodW5rLmNvbnRlbnQgIT09IFwic3RyaW5nXCIpIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBoYW5kbGUgbm9uLXN0cmluZyBtZXNzYWdlIG91dHB1dC5cIik7XG5cdFx0XHRcdGNodW5rR2VuID0gbmV3IENoYXRHZW5lcmF0aW9uQ2h1bmsoe1xuXHRcdFx0XHRcdG1lc3NhZ2U6IGNvbnZlcnRUb0NodW5rKGNodW5rKSxcblx0XHRcdFx0XHR0ZXh0OiBjaHVuay5jb250ZW50XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIGNodW5rR2VuID0gbmV3IEdlbmVyYXRpb25DaHVuayh7IHRleHQ6IGNodW5rIH0pO1xuXHRcdFx0aWYgKGFjY0dlbiA9PT0gdm9pZCAwKSBhY2NHZW4gPSBjaHVua0dlbjtcblx0XHRcdGVsc2UgYWNjR2VuID0gYWNjR2VuLmNvbmNhdChjaHVua0dlbik7XG5cdFx0XHRjb25zdCBwYXJzZWQgPSBhd2FpdCB0aGlzLnBhcnNlUGFydGlhbFJlc3VsdChbYWNjR2VuXSk7XG5cdFx0XHRpZiAocGFyc2VkICE9PSB2b2lkIDAgJiYgcGFyc2VkICE9PSBudWxsICYmICFkZWVwQ29tcGFyZVN0cmljdChwYXJzZWQsIHByZXZQYXJzZWQpKSB7XG5cdFx0XHRcdGlmICh0aGlzLmRpZmYpIHlpZWxkIHRoaXMuX2RpZmYocHJldlBhcnNlZCwgcGFyc2VkKTtcblx0XHRcdFx0ZWxzZSB5aWVsZCBwYXJzZWQ7XG5cdFx0XHRcdHByZXZQYXJzZWQgPSBwYXJzZWQ7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdGdldEZvcm1hdEluc3RydWN0aW9ucygpIHtcblx0XHRyZXR1cm4gXCJcIjtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBCYXNlQ3VtdWxhdGl2ZVRyYW5zZm9ybU91dHB1dFBhcnNlciwgQmFzZVRyYW5zZm9ybU91dHB1dFBhcnNlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhbnNmb3JtLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/transform.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/xml.js":
/*!**********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/xml.js ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   XMLOutputParser: () => (/* binding */ XMLOutputParser),\n/* harmony export */   XML_FORMAT_INSTRUCTIONS: () => (/* binding */ XML_FORMAT_INSTRUCTIONS),\n/* harmony export */   parseXMLMarkdown: () => (/* binding */ parseXMLMarkdown)\n/* harmony export */ });\n/* harmony import */ var _utils_fast_json_patch_src_duplex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/fast-json-patch/src/duplex.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/fast-json-patch/src/duplex.js\");\n/* harmony import */ var _transform_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./transform.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/transform.js\");\n/* harmony import */ var _utils_json_patch_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/json_patch.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/json_patch.js\");\n/* harmony import */ var _utils_sax_js_sax_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/sax-js/sax.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/sax-js/sax.js\");\n\n\n\n\n\n//#region src/output_parsers/xml.ts\nconst XML_FORMAT_INSTRUCTIONS = `The output should be formatted as a XML file.\n1. Output should conform to the tags below. \n2. If tags are not given, make them on your own.\n3. Remember to always open and close all the tags.\n\nAs an example, for the tags [\"foo\", \"bar\", \"baz\"]:\n1. String \"<foo>\\n   <bar>\\n      <baz></baz>\\n   </bar>\\n</foo>\" is a well-formatted instance of the schema. \n2. String \"<foo>\\n   <bar>\\n   </foo>\" is a badly-formatted instance.\n3. String \"<foo>\\n   <tag>\\n   </tag>\\n</foo>\" is a badly-formatted instance.\n\nHere are the output tags:\n\\`\\`\\`\n{tags}\n\\`\\`\\``;\nvar XMLOutputParser = class extends _transform_js__WEBPACK_IMPORTED_MODULE_1__.BaseCumulativeTransformOutputParser {\n\ttags;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.tags = fields?.tags;\n\t}\n\tstatic lc_name() {\n\t\treturn \"XMLOutputParser\";\n\t}\n\tlc_namespace = [\"langchain_core\", \"output_parsers\"];\n\tlc_serializable = true;\n\t_diff(prev, next) {\n\t\tif (!next) return void 0;\n\t\tif (!prev) return [{\n\t\t\top: \"replace\",\n\t\t\tpath: \"\",\n\t\t\tvalue: next\n\t\t}];\n\t\treturn (0,_utils_fast_json_patch_src_duplex_js__WEBPACK_IMPORTED_MODULE_0__.compare)(prev, next);\n\t}\n\tasync parsePartialResult(generations) {\n\t\treturn parseXMLMarkdown(generations[0].text);\n\t}\n\tasync parse(text) {\n\t\treturn parseXMLMarkdown(text);\n\t}\n\tgetFormatInstructions() {\n\t\tconst withTags = !!(this.tags && this.tags.length > 0);\n\t\treturn withTags ? XML_FORMAT_INSTRUCTIONS.replace(\"{tags}\", this.tags?.join(\", \") ?? \"\") : XML_FORMAT_INSTRUCTIONS;\n\t}\n};\nconst strip = (text) => text.split(\"\\n\").map((line) => line.replace(/^\\s+/, \"\")).join(\"\\n\").trim();\nconst parseParsedResult = (input) => {\n\tif (Object.keys(input).length === 0) return {};\n\tconst result = {};\n\tif (input.children.length > 0) {\n\t\tresult[input.name] = input.children.map(parseParsedResult);\n\t\treturn result;\n\t} else {\n\t\tresult[input.name] = input.text ?? void 0;\n\t\treturn result;\n\t}\n};\nfunction parseXMLMarkdown(s) {\n\tconst cleanedString = strip(s);\n\tconst parser = _utils_sax_js_sax_js__WEBPACK_IMPORTED_MODULE_3__.sax.parser(true);\n\tlet parsedResult = {};\n\tconst elementStack = [];\n\tparser.onopentag = (node) => {\n\t\tconst element = {\n\t\t\tname: node.name,\n\t\t\tattributes: node.attributes,\n\t\t\tchildren: [],\n\t\t\ttext: \"\",\n\t\t\tisSelfClosing: node.isSelfClosing\n\t\t};\n\t\tif (elementStack.length > 0) {\n\t\t\tconst parentElement = elementStack[elementStack.length - 1];\n\t\t\tparentElement.children.push(element);\n\t\t} else parsedResult = element;\n\t\tif (!node.isSelfClosing) elementStack.push(element);\n\t};\n\tparser.onclosetag = () => {\n\t\tif (elementStack.length > 0) {\n\t\t\tconst lastElement = elementStack.pop();\n\t\t\tif (elementStack.length === 0 && lastElement) parsedResult = lastElement;\n\t\t}\n\t};\n\tparser.ontext = (text) => {\n\t\tif (elementStack.length > 0) {\n\t\t\tconst currentElement = elementStack[elementStack.length - 1];\n\t\t\tcurrentElement.text += text;\n\t\t}\n\t};\n\tparser.onattribute = (attr) => {\n\t\tif (elementStack.length > 0) {\n\t\t\tconst currentElement = elementStack[elementStack.length - 1];\n\t\t\tcurrentElement.attributes[attr.name] = attr.value;\n\t\t}\n\t};\n\tconst match = /```(xml)?(.*)```/s.exec(cleanedString);\n\tconst xmlString = match ? match[2] : cleanedString;\n\tparser.write(xmlString).close();\n\tif (parsedResult && parsedResult.name === \"?xml\") parsedResult = parsedResult.children[0];\n\treturn parseParsedResult(parsedResult);\n}\n\n//#endregion\n\n//# sourceMappingURL=xml.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9vdXRwdXRfcGFyc2Vycy94bWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFpRTtBQUNJO0FBQ3JDO0FBQ2E7O0FBRTdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLG9DQUFvQyw4RUFBbUM7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsU0FBUyw2RUFBTztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsS0FBSztBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHFEQUFHO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDc0U7QUFDdEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L291dHB1dF9wYXJzZXJzL3htbC5qcz9hZTk3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvbXBhcmUgfSBmcm9tIFwiLi4vdXRpbHMvZmFzdC1qc29uLXBhdGNoL3NyYy9kdXBsZXguanNcIjtcbmltcG9ydCB7IEJhc2VDdW11bGF0aXZlVHJhbnNmb3JtT3V0cHV0UGFyc2VyIH0gZnJvbSBcIi4vdHJhbnNmb3JtLmpzXCI7XG5pbXBvcnQgXCIuLi91dGlscy9qc29uX3BhdGNoLmpzXCI7XG5pbXBvcnQgeyBzYXggfSBmcm9tIFwiLi4vdXRpbHMvc2F4LWpzL3NheC5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL291dHB1dF9wYXJzZXJzL3htbC50c1xuY29uc3QgWE1MX0ZPUk1BVF9JTlNUUlVDVElPTlMgPSBgVGhlIG91dHB1dCBzaG91bGQgYmUgZm9ybWF0dGVkIGFzIGEgWE1MIGZpbGUuXG4xLiBPdXRwdXQgc2hvdWxkIGNvbmZvcm0gdG8gdGhlIHRhZ3MgYmVsb3cuIFxuMi4gSWYgdGFncyBhcmUgbm90IGdpdmVuLCBtYWtlIHRoZW0gb24geW91ciBvd24uXG4zLiBSZW1lbWJlciB0byBhbHdheXMgb3BlbiBhbmQgY2xvc2UgYWxsIHRoZSB0YWdzLlxuXG5BcyBhbiBleGFtcGxlLCBmb3IgdGhlIHRhZ3MgW1wiZm9vXCIsIFwiYmFyXCIsIFwiYmF6XCJdOlxuMS4gU3RyaW5nIFwiPGZvbz5cXG4gICA8YmFyPlxcbiAgICAgIDxiYXo+PC9iYXo+XFxuICAgPC9iYXI+XFxuPC9mb28+XCIgaXMgYSB3ZWxsLWZvcm1hdHRlZCBpbnN0YW5jZSBvZiB0aGUgc2NoZW1hLiBcbjIuIFN0cmluZyBcIjxmb28+XFxuICAgPGJhcj5cXG4gICA8L2Zvbz5cIiBpcyBhIGJhZGx5LWZvcm1hdHRlZCBpbnN0YW5jZS5cbjMuIFN0cmluZyBcIjxmb28+XFxuICAgPHRhZz5cXG4gICA8L3RhZz5cXG48L2Zvbz5cIiBpcyBhIGJhZGx5LWZvcm1hdHRlZCBpbnN0YW5jZS5cblxuSGVyZSBhcmUgdGhlIG91dHB1dCB0YWdzOlxuXFxgXFxgXFxgXG57dGFnc31cblxcYFxcYFxcYGA7XG52YXIgWE1MT3V0cHV0UGFyc2VyID0gY2xhc3MgZXh0ZW5kcyBCYXNlQ3VtdWxhdGl2ZVRyYW5zZm9ybU91dHB1dFBhcnNlciB7XG5cdHRhZ3M7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdHN1cGVyKGZpZWxkcyk7XG5cdFx0dGhpcy50YWdzID0gZmllbGRzPy50YWdzO1xuXHR9XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIlhNTE91dHB1dFBhcnNlclwiO1xuXHR9XG5cdGxjX25hbWVzcGFjZSA9IFtcImxhbmdjaGFpbl9jb3JlXCIsIFwib3V0cHV0X3BhcnNlcnNcIl07XG5cdGxjX3NlcmlhbGl6YWJsZSA9IHRydWU7XG5cdF9kaWZmKHByZXYsIG5leHQpIHtcblx0XHRpZiAoIW5leHQpIHJldHVybiB2b2lkIDA7XG5cdFx0aWYgKCFwcmV2KSByZXR1cm4gW3tcblx0XHRcdG9wOiBcInJlcGxhY2VcIixcblx0XHRcdHBhdGg6IFwiXCIsXG5cdFx0XHR2YWx1ZTogbmV4dFxuXHRcdH1dO1xuXHRcdHJldHVybiBjb21wYXJlKHByZXYsIG5leHQpO1xuXHR9XG5cdGFzeW5jIHBhcnNlUGFydGlhbFJlc3VsdChnZW5lcmF0aW9ucykge1xuXHRcdHJldHVybiBwYXJzZVhNTE1hcmtkb3duKGdlbmVyYXRpb25zWzBdLnRleHQpO1xuXHR9XG5cdGFzeW5jIHBhcnNlKHRleHQpIHtcblx0XHRyZXR1cm4gcGFyc2VYTUxNYXJrZG93bih0ZXh0KTtcblx0fVxuXHRnZXRGb3JtYXRJbnN0cnVjdGlvbnMoKSB7XG5cdFx0Y29uc3Qgd2l0aFRhZ3MgPSAhISh0aGlzLnRhZ3MgJiYgdGhpcy50YWdzLmxlbmd0aCA+IDApO1xuXHRcdHJldHVybiB3aXRoVGFncyA/IFhNTF9GT1JNQVRfSU5TVFJVQ1RJT05TLnJlcGxhY2UoXCJ7dGFnc31cIiwgdGhpcy50YWdzPy5qb2luKFwiLCBcIikgPz8gXCJcIikgOiBYTUxfRk9STUFUX0lOU1RSVUNUSU9OUztcblx0fVxufTtcbmNvbnN0IHN0cmlwID0gKHRleHQpID0+IHRleHQuc3BsaXQoXCJcXG5cIikubWFwKChsaW5lKSA9PiBsaW5lLnJlcGxhY2UoL15cXHMrLywgXCJcIikpLmpvaW4oXCJcXG5cIikudHJpbSgpO1xuY29uc3QgcGFyc2VQYXJzZWRSZXN1bHQgPSAoaW5wdXQpID0+IHtcblx0aWYgKE9iamVjdC5rZXlzKGlucHV0KS5sZW5ndGggPT09IDApIHJldHVybiB7fTtcblx0Y29uc3QgcmVzdWx0ID0ge307XG5cdGlmIChpbnB1dC5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG5cdFx0cmVzdWx0W2lucHV0Lm5hbWVdID0gaW5wdXQuY2hpbGRyZW4ubWFwKHBhcnNlUGFyc2VkUmVzdWx0KTtcblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9IGVsc2Uge1xuXHRcdHJlc3VsdFtpbnB1dC5uYW1lXSA9IGlucHV0LnRleHQgPz8gdm9pZCAwO1xuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cbn07XG5mdW5jdGlvbiBwYXJzZVhNTE1hcmtkb3duKHMpIHtcblx0Y29uc3QgY2xlYW5lZFN0cmluZyA9IHN0cmlwKHMpO1xuXHRjb25zdCBwYXJzZXIgPSBzYXgucGFyc2VyKHRydWUpO1xuXHRsZXQgcGFyc2VkUmVzdWx0ID0ge307XG5cdGNvbnN0IGVsZW1lbnRTdGFjayA9IFtdO1xuXHRwYXJzZXIub25vcGVudGFnID0gKG5vZGUpID0+IHtcblx0XHRjb25zdCBlbGVtZW50ID0ge1xuXHRcdFx0bmFtZTogbm9kZS5uYW1lLFxuXHRcdFx0YXR0cmlidXRlczogbm9kZS5hdHRyaWJ1dGVzLFxuXHRcdFx0Y2hpbGRyZW46IFtdLFxuXHRcdFx0dGV4dDogXCJcIixcblx0XHRcdGlzU2VsZkNsb3Npbmc6IG5vZGUuaXNTZWxmQ2xvc2luZ1xuXHRcdH07XG5cdFx0aWYgKGVsZW1lbnRTdGFjay5sZW5ndGggPiAwKSB7XG5cdFx0XHRjb25zdCBwYXJlbnRFbGVtZW50ID0gZWxlbWVudFN0YWNrW2VsZW1lbnRTdGFjay5sZW5ndGggLSAxXTtcblx0XHRcdHBhcmVudEVsZW1lbnQuY2hpbGRyZW4ucHVzaChlbGVtZW50KTtcblx0XHR9IGVsc2UgcGFyc2VkUmVzdWx0ID0gZWxlbWVudDtcblx0XHRpZiAoIW5vZGUuaXNTZWxmQ2xvc2luZykgZWxlbWVudFN0YWNrLnB1c2goZWxlbWVudCk7XG5cdH07XG5cdHBhcnNlci5vbmNsb3NldGFnID0gKCkgPT4ge1xuXHRcdGlmIChlbGVtZW50U3RhY2subGVuZ3RoID4gMCkge1xuXHRcdFx0Y29uc3QgbGFzdEVsZW1lbnQgPSBlbGVtZW50U3RhY2sucG9wKCk7XG5cdFx0XHRpZiAoZWxlbWVudFN0YWNrLmxlbmd0aCA9PT0gMCAmJiBsYXN0RWxlbWVudCkgcGFyc2VkUmVzdWx0ID0gbGFzdEVsZW1lbnQ7XG5cdFx0fVxuXHR9O1xuXHRwYXJzZXIub250ZXh0ID0gKHRleHQpID0+IHtcblx0XHRpZiAoZWxlbWVudFN0YWNrLmxlbmd0aCA+IDApIHtcblx0XHRcdGNvbnN0IGN1cnJlbnRFbGVtZW50ID0gZWxlbWVudFN0YWNrW2VsZW1lbnRTdGFjay5sZW5ndGggLSAxXTtcblx0XHRcdGN1cnJlbnRFbGVtZW50LnRleHQgKz0gdGV4dDtcblx0XHR9XG5cdH07XG5cdHBhcnNlci5vbmF0dHJpYnV0ZSA9IChhdHRyKSA9PiB7XG5cdFx0aWYgKGVsZW1lbnRTdGFjay5sZW5ndGggPiAwKSB7XG5cdFx0XHRjb25zdCBjdXJyZW50RWxlbWVudCA9IGVsZW1lbnRTdGFja1tlbGVtZW50U3RhY2subGVuZ3RoIC0gMV07XG5cdFx0XHRjdXJyZW50RWxlbWVudC5hdHRyaWJ1dGVzW2F0dHIubmFtZV0gPSBhdHRyLnZhbHVlO1xuXHRcdH1cblx0fTtcblx0Y29uc3QgbWF0Y2ggPSAvYGBgKHhtbCk/KC4qKWBgYC9zLmV4ZWMoY2xlYW5lZFN0cmluZyk7XG5cdGNvbnN0IHhtbFN0cmluZyA9IG1hdGNoID8gbWF0Y2hbMl0gOiBjbGVhbmVkU3RyaW5nO1xuXHRwYXJzZXIud3JpdGUoeG1sU3RyaW5nKS5jbG9zZSgpO1xuXHRpZiAocGFyc2VkUmVzdWx0ICYmIHBhcnNlZFJlc3VsdC5uYW1lID09PSBcIj94bWxcIikgcGFyc2VkUmVzdWx0ID0gcGFyc2VkUmVzdWx0LmNoaWxkcmVuWzBdO1xuXHRyZXR1cm4gcGFyc2VQYXJzZWRSZXN1bHQocGFyc2VkUmVzdWx0KTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBYTUxPdXRwdXRQYXJzZXIsIFhNTF9GT1JNQVRfSU5TVFJVQ1RJT05TLCBwYXJzZVhNTE1hcmtkb3duIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD14bWwuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/xml.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/outputs.js":
/*!***********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/outputs.js ***!
  \***********************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatGenerationChunk: () => (/* binding */ ChatGenerationChunk),\n/* harmony export */   GenerationChunk: () => (/* binding */ GenerationChunk),\n/* harmony export */   RUN_KEY: () => (/* binding */ RUN_KEY),\n/* harmony export */   outputs_exports: () => (/* binding */ outputs_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n\n\n//#region src/outputs.ts\nvar outputs_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(outputs_exports, {\n\tChatGenerationChunk: () => ChatGenerationChunk,\n\tGenerationChunk: () => GenerationChunk,\n\tRUN_KEY: () => RUN_KEY\n});\nconst RUN_KEY = \"__run\";\n/**\n* Chunk of a single generation. Used for streaming.\n*/\nvar GenerationChunk = class GenerationChunk {\n\ttext;\n\tgenerationInfo;\n\tconstructor(fields) {\n\t\tthis.text = fields.text;\n\t\tthis.generationInfo = fields.generationInfo;\n\t}\n\tconcat(chunk) {\n\t\treturn new GenerationChunk({\n\t\t\ttext: this.text + chunk.text,\n\t\t\tgenerationInfo: {\n\t\t\t\t...this.generationInfo,\n\t\t\t\t...chunk.generationInfo\n\t\t\t}\n\t\t});\n\t}\n};\nvar ChatGenerationChunk = class ChatGenerationChunk extends GenerationChunk {\n\tmessage;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.message = fields.message;\n\t}\n\tconcat(chunk) {\n\t\treturn new ChatGenerationChunk({\n\t\t\ttext: this.text + chunk.text,\n\t\t\tgenerationInfo: {\n\t\t\t\t...this.generationInfo,\n\t\t\t\t...chunk.generationInfo\n\t\t\t},\n\t\t\tmessage: this.message.concat(chunk.message)\n\t\t});\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=outputs.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9vdXRwdXRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTBEOztBQUUxRDtBQUNBO0FBQ0Esc0VBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUMwRTtBQUMxRSIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3Qvb3V0cHV0cy5qcz84M2E1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fZXhwb3J0IH0gZnJvbSBcIi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL291dHB1dHMudHNcbnZhciBvdXRwdXRzX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KG91dHB1dHNfZXhwb3J0cywge1xuXHRDaGF0R2VuZXJhdGlvbkNodW5rOiAoKSA9PiBDaGF0R2VuZXJhdGlvbkNodW5rLFxuXHRHZW5lcmF0aW9uQ2h1bms6ICgpID0+IEdlbmVyYXRpb25DaHVuayxcblx0UlVOX0tFWTogKCkgPT4gUlVOX0tFWVxufSk7XG5jb25zdCBSVU5fS0VZID0gXCJfX3J1blwiO1xuLyoqXG4qIENodW5rIG9mIGEgc2luZ2xlIGdlbmVyYXRpb24uIFVzZWQgZm9yIHN0cmVhbWluZy5cbiovXG52YXIgR2VuZXJhdGlvbkNodW5rID0gY2xhc3MgR2VuZXJhdGlvbkNodW5rIHtcblx0dGV4dDtcblx0Z2VuZXJhdGlvbkluZm87XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdHRoaXMudGV4dCA9IGZpZWxkcy50ZXh0O1xuXHRcdHRoaXMuZ2VuZXJhdGlvbkluZm8gPSBmaWVsZHMuZ2VuZXJhdGlvbkluZm87XG5cdH1cblx0Y29uY2F0KGNodW5rKSB7XG5cdFx0cmV0dXJuIG5ldyBHZW5lcmF0aW9uQ2h1bmsoe1xuXHRcdFx0dGV4dDogdGhpcy50ZXh0ICsgY2h1bmsudGV4dCxcblx0XHRcdGdlbmVyYXRpb25JbmZvOiB7XG5cdFx0XHRcdC4uLnRoaXMuZ2VuZXJhdGlvbkluZm8sXG5cdFx0XHRcdC4uLmNodW5rLmdlbmVyYXRpb25JbmZvXG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cbn07XG52YXIgQ2hhdEdlbmVyYXRpb25DaHVuayA9IGNsYXNzIENoYXRHZW5lcmF0aW9uQ2h1bmsgZXh0ZW5kcyBHZW5lcmF0aW9uQ2h1bmsge1xuXHRtZXNzYWdlO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRzdXBlcihmaWVsZHMpO1xuXHRcdHRoaXMubWVzc2FnZSA9IGZpZWxkcy5tZXNzYWdlO1xuXHR9XG5cdGNvbmNhdChjaHVuaykge1xuXHRcdHJldHVybiBuZXcgQ2hhdEdlbmVyYXRpb25DaHVuayh7XG5cdFx0XHR0ZXh0OiB0aGlzLnRleHQgKyBjaHVuay50ZXh0LFxuXHRcdFx0Z2VuZXJhdGlvbkluZm86IHtcblx0XHRcdFx0Li4udGhpcy5nZW5lcmF0aW9uSW5mbyxcblx0XHRcdFx0Li4uY2h1bmsuZ2VuZXJhdGlvbkluZm9cblx0XHRcdH0sXG5cdFx0XHRtZXNzYWdlOiB0aGlzLm1lc3NhZ2UuY29uY2F0KGNodW5rLm1lc3NhZ2UpXG5cdFx0fSk7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQ2hhdEdlbmVyYXRpb25DaHVuaywgR2VuZXJhdGlvbkNodW5rLCBSVU5fS0VZLCBvdXRwdXRzX2V4cG9ydHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW91dHB1dHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/outputs.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompt_values.js":
/*!*****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompt_values.js ***!
  \*****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BasePromptValue: () => (/* binding */ BasePromptValue),\n/* harmony export */   ChatPromptValue: () => (/* binding */ ChatPromptValue),\n/* harmony export */   ImagePromptValue: () => (/* binding */ ImagePromptValue),\n/* harmony export */   StringPromptValue: () => (/* binding */ StringPromptValue),\n/* harmony export */   prompt_values_exports: () => (/* binding */ prompt_values_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _load_serializable_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./load/serializable.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/load/serializable.js\");\n/* harmony import */ var _messages_human_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./messages/human.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/human.js\");\n/* harmony import */ var _messages_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./messages/utils.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/utils.js\");\n\n\n\n\n\n//#region src/prompt_values.ts\nvar prompt_values_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(prompt_values_exports, {\n\tBasePromptValue: () => BasePromptValue,\n\tChatPromptValue: () => ChatPromptValue,\n\tImagePromptValue: () => ImagePromptValue,\n\tStringPromptValue: () => StringPromptValue\n});\n/**\n* Base PromptValue class. All prompt values should extend this class.\n*/\nvar BasePromptValue = class extends _load_serializable_js__WEBPACK_IMPORTED_MODULE_1__.Serializable {};\n/**\n* Represents a prompt value as a string. It extends the BasePromptValue\n* class and overrides the toString and toChatMessages methods.\n*/\nvar StringPromptValue = class extends BasePromptValue {\n\tstatic lc_name() {\n\t\treturn \"StringPromptValue\";\n\t}\n\tlc_namespace = [\"langchain_core\", \"prompt_values\"];\n\tlc_serializable = true;\n\tvalue;\n\tconstructor(value) {\n\t\tsuper({ value });\n\t\tthis.value = value;\n\t}\n\ttoString() {\n\t\treturn this.value;\n\t}\n\ttoChatMessages() {\n\t\treturn [new _messages_human_js__WEBPACK_IMPORTED_MODULE_2__.HumanMessage(this.value)];\n\t}\n};\n/**\n* Class that represents a chat prompt value. It extends the\n* BasePromptValue and includes an array of BaseMessage instances.\n*/\nvar ChatPromptValue = class extends BasePromptValue {\n\tlc_namespace = [\"langchain_core\", \"prompt_values\"];\n\tlc_serializable = true;\n\tstatic lc_name() {\n\t\treturn \"ChatPromptValue\";\n\t}\n\tmessages;\n\tconstructor(fields) {\n\t\tif (Array.isArray(fields)) fields = { messages: fields };\n\t\tsuper(fields);\n\t\tthis.messages = fields.messages;\n\t}\n\ttoString() {\n\t\treturn (0,_messages_utils_js__WEBPACK_IMPORTED_MODULE_3__.getBufferString)(this.messages);\n\t}\n\ttoChatMessages() {\n\t\treturn this.messages;\n\t}\n};\n/**\n* Class that represents an image prompt value. It extends the\n* BasePromptValue and includes an ImageURL instance.\n*/\nvar ImagePromptValue = class extends BasePromptValue {\n\tlc_namespace = [\"langchain_core\", \"prompt_values\"];\n\tlc_serializable = true;\n\tstatic lc_name() {\n\t\treturn \"ImagePromptValue\";\n\t}\n\timageUrl;\n\t/** @ignore */\n\tvalue;\n\tconstructor(fields) {\n\t\tif (!(\"imageUrl\" in fields)) fields = { imageUrl: fields };\n\t\tsuper(fields);\n\t\tthis.imageUrl = fields.imageUrl;\n\t}\n\ttoString() {\n\t\treturn this.imageUrl.url;\n\t}\n\ttoChatMessages() {\n\t\treturn [new _messages_human_js__WEBPACK_IMPORTED_MODULE_2__.HumanMessage({ content: [{\n\t\t\ttype: \"image_url\",\n\t\t\timage_url: {\n\t\t\t\tdetail: this.imageUrl.detail,\n\t\t\t\turl: this.imageUrl.url\n\t\t\t}\n\t\t}] })];\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=prompt_values.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9wcm9tcHRfdmFsdWVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUEwRDtBQUNKO0FBQ0g7QUFDRzs7QUFFdEQ7QUFDQTtBQUNBLHNFQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLCtEQUFZO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsT0FBTztBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDREQUFZO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLG1FQUFlO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyw0REFBWSxHQUFHO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLEdBQUc7QUFDTjtBQUNBOztBQUVBO0FBQ3dHO0FBQ3hHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9wcm9tcHRfdmFsdWVzLmpzPzA1NDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19leHBvcnQgfSBmcm9tIFwiLi9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmpzXCI7XG5pbXBvcnQgeyBTZXJpYWxpemFibGUgfSBmcm9tIFwiLi9sb2FkL3NlcmlhbGl6YWJsZS5qc1wiO1xuaW1wb3J0IHsgSHVtYW5NZXNzYWdlIH0gZnJvbSBcIi4vbWVzc2FnZXMvaHVtYW4uanNcIjtcbmltcG9ydCB7IGdldEJ1ZmZlclN0cmluZyB9IGZyb20gXCIuL21lc3NhZ2VzL3V0aWxzLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvcHJvbXB0X3ZhbHVlcy50c1xudmFyIHByb21wdF92YWx1ZXNfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQocHJvbXB0X3ZhbHVlc19leHBvcnRzLCB7XG5cdEJhc2VQcm9tcHRWYWx1ZTogKCkgPT4gQmFzZVByb21wdFZhbHVlLFxuXHRDaGF0UHJvbXB0VmFsdWU6ICgpID0+IENoYXRQcm9tcHRWYWx1ZSxcblx0SW1hZ2VQcm9tcHRWYWx1ZTogKCkgPT4gSW1hZ2VQcm9tcHRWYWx1ZSxcblx0U3RyaW5nUHJvbXB0VmFsdWU6ICgpID0+IFN0cmluZ1Byb21wdFZhbHVlXG59KTtcbi8qKlxuKiBCYXNlIFByb21wdFZhbHVlIGNsYXNzLiBBbGwgcHJvbXB0IHZhbHVlcyBzaG91bGQgZXh0ZW5kIHRoaXMgY2xhc3MuXG4qL1xudmFyIEJhc2VQcm9tcHRWYWx1ZSA9IGNsYXNzIGV4dGVuZHMgU2VyaWFsaXphYmxlIHt9O1xuLyoqXG4qIFJlcHJlc2VudHMgYSBwcm9tcHQgdmFsdWUgYXMgYSBzdHJpbmcuIEl0IGV4dGVuZHMgdGhlIEJhc2VQcm9tcHRWYWx1ZVxuKiBjbGFzcyBhbmQgb3ZlcnJpZGVzIHRoZSB0b1N0cmluZyBhbmQgdG9DaGF0TWVzc2FnZXMgbWV0aG9kcy5cbiovXG52YXIgU3RyaW5nUHJvbXB0VmFsdWUgPSBjbGFzcyBleHRlbmRzIEJhc2VQcm9tcHRWYWx1ZSB7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIlN0cmluZ1Byb21wdFZhbHVlXCI7XG5cdH1cblx0bGNfbmFtZXNwYWNlID0gW1wibGFuZ2NoYWluX2NvcmVcIiwgXCJwcm9tcHRfdmFsdWVzXCJdO1xuXHRsY19zZXJpYWxpemFibGUgPSB0cnVlO1xuXHR2YWx1ZTtcblx0Y29uc3RydWN0b3IodmFsdWUpIHtcblx0XHRzdXBlcih7IHZhbHVlIH0pO1xuXHRcdHRoaXMudmFsdWUgPSB2YWx1ZTtcblx0fVxuXHR0b1N0cmluZygpIHtcblx0XHRyZXR1cm4gdGhpcy52YWx1ZTtcblx0fVxuXHR0b0NoYXRNZXNzYWdlcygpIHtcblx0XHRyZXR1cm4gW25ldyBIdW1hbk1lc3NhZ2UodGhpcy52YWx1ZSldO1xuXHR9XG59O1xuLyoqXG4qIENsYXNzIHRoYXQgcmVwcmVzZW50cyBhIGNoYXQgcHJvbXB0IHZhbHVlLiBJdCBleHRlbmRzIHRoZVxuKiBCYXNlUHJvbXB0VmFsdWUgYW5kIGluY2x1ZGVzIGFuIGFycmF5IG9mIEJhc2VNZXNzYWdlIGluc3RhbmNlcy5cbiovXG52YXIgQ2hhdFByb21wdFZhbHVlID0gY2xhc3MgZXh0ZW5kcyBCYXNlUHJvbXB0VmFsdWUge1xuXHRsY19uYW1lc3BhY2UgPSBbXCJsYW5nY2hhaW5fY29yZVwiLCBcInByb21wdF92YWx1ZXNcIl07XG5cdGxjX3NlcmlhbGl6YWJsZSA9IHRydWU7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIkNoYXRQcm9tcHRWYWx1ZVwiO1xuXHR9XG5cdG1lc3NhZ2VzO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRpZiAoQXJyYXkuaXNBcnJheShmaWVsZHMpKSBmaWVsZHMgPSB7IG1lc3NhZ2VzOiBmaWVsZHMgfTtcblx0XHRzdXBlcihmaWVsZHMpO1xuXHRcdHRoaXMubWVzc2FnZXMgPSBmaWVsZHMubWVzc2FnZXM7XG5cdH1cblx0dG9TdHJpbmcoKSB7XG5cdFx0cmV0dXJuIGdldEJ1ZmZlclN0cmluZyh0aGlzLm1lc3NhZ2VzKTtcblx0fVxuXHR0b0NoYXRNZXNzYWdlcygpIHtcblx0XHRyZXR1cm4gdGhpcy5tZXNzYWdlcztcblx0fVxufTtcbi8qKlxuKiBDbGFzcyB0aGF0IHJlcHJlc2VudHMgYW4gaW1hZ2UgcHJvbXB0IHZhbHVlLiBJdCBleHRlbmRzIHRoZVxuKiBCYXNlUHJvbXB0VmFsdWUgYW5kIGluY2x1ZGVzIGFuIEltYWdlVVJMIGluc3RhbmNlLlxuKi9cbnZhciBJbWFnZVByb21wdFZhbHVlID0gY2xhc3MgZXh0ZW5kcyBCYXNlUHJvbXB0VmFsdWUge1xuXHRsY19uYW1lc3BhY2UgPSBbXCJsYW5nY2hhaW5fY29yZVwiLCBcInByb21wdF92YWx1ZXNcIl07XG5cdGxjX3NlcmlhbGl6YWJsZSA9IHRydWU7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIkltYWdlUHJvbXB0VmFsdWVcIjtcblx0fVxuXHRpbWFnZVVybDtcblx0LyoqIEBpZ25vcmUgKi9cblx0dmFsdWU7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdGlmICghKFwiaW1hZ2VVcmxcIiBpbiBmaWVsZHMpKSBmaWVsZHMgPSB7IGltYWdlVXJsOiBmaWVsZHMgfTtcblx0XHRzdXBlcihmaWVsZHMpO1xuXHRcdHRoaXMuaW1hZ2VVcmwgPSBmaWVsZHMuaW1hZ2VVcmw7XG5cdH1cblx0dG9TdHJpbmcoKSB7XG5cdFx0cmV0dXJuIHRoaXMuaW1hZ2VVcmwudXJsO1xuXHR9XG5cdHRvQ2hhdE1lc3NhZ2VzKCkge1xuXHRcdHJldHVybiBbbmV3IEh1bWFuTWVzc2FnZSh7IGNvbnRlbnQ6IFt7XG5cdFx0XHR0eXBlOiBcImltYWdlX3VybFwiLFxuXHRcdFx0aW1hZ2VfdXJsOiB7XG5cdFx0XHRcdGRldGFpbDogdGhpcy5pbWFnZVVybC5kZXRhaWwsXG5cdFx0XHRcdHVybDogdGhpcy5pbWFnZVVybC51cmxcblx0XHRcdH1cblx0XHR9XSB9KV07XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQmFzZVByb21wdFZhbHVlLCBDaGF0UHJvbXB0VmFsdWUsIEltYWdlUHJvbXB0VmFsdWUsIFN0cmluZ1Byb21wdFZhbHVlLCBwcm9tcHRfdmFsdWVzX2V4cG9ydHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb21wdF92YWx1ZXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompt_values.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/base.js":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/base.js ***!
  \****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BasePromptTemplate: () => (/* binding */ BasePromptTemplate)\n/* harmony export */ });\n/* harmony import */ var _runnables_base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../runnables/base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/base.js\");\n\n\n//#region src/prompts/base.ts\n/**\n* Base class for prompt templates. Exposes a format method that returns a\n* string prompt given a set of input values.\n*/\nvar BasePromptTemplate = class extends _runnables_base_js__WEBPACK_IMPORTED_MODULE_0__.Runnable {\n\tlc_serializable = true;\n\tlc_namespace = [\n\t\t\"langchain_core\",\n\t\t\"prompts\",\n\t\tthis._getPromptType()\n\t];\n\tget lc_attributes() {\n\t\treturn { partialVariables: void 0 };\n\t}\n\tinputVariables;\n\toutputParser;\n\tpartialVariables;\n\t/**\n\t* Metadata to be used for tracing.\n\t*/\n\tmetadata;\n\t/** Tags to be used for tracing. */\n\ttags;\n\tconstructor(input) {\n\t\tsuper(input);\n\t\tconst { inputVariables } = input;\n\t\tif (inputVariables.includes(\"stop\")) throw new Error(\"Cannot have an input variable named 'stop', as it is used internally, please rename.\");\n\t\tObject.assign(this, input);\n\t}\n\t/**\n\t* Merges partial variables and user variables.\n\t* @param userVariables The user variables to merge with the partial variables.\n\t* @returns A Promise that resolves to an object containing the merged variables.\n\t*/\n\tasync mergePartialAndUserVariables(userVariables) {\n\t\tconst partialVariables = this.partialVariables ?? {};\n\t\tconst partialValues = {};\n\t\tfor (const [key, value] of Object.entries(partialVariables)) if (typeof value === \"string\") partialValues[key] = value;\n\t\telse partialValues[key] = await value();\n\t\tconst allKwargs = {\n\t\t\t...partialValues,\n\t\t\t...userVariables\n\t\t};\n\t\treturn allKwargs;\n\t}\n\t/**\n\t* Invokes the prompt template with the given input and options.\n\t* @param input The input to invoke the prompt template with.\n\t* @param options Optional configuration for the callback.\n\t* @returns A Promise that resolves to the output of the prompt template.\n\t*/\n\tasync invoke(input, options) {\n\t\tconst metadata = {\n\t\t\t...this.metadata,\n\t\t\t...options?.metadata\n\t\t};\n\t\tconst tags = [...this.tags ?? [], ...options?.tags ?? []];\n\t\treturn this._callWithConfig((input$1) => this.formatPromptValue(input$1), input, {\n\t\t\t...options,\n\t\t\ttags,\n\t\t\tmetadata,\n\t\t\trunType: \"prompt\"\n\t\t});\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=base.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9wcm9tcHRzL2Jhc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBZ0Q7O0FBRWhEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsd0RBQVE7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxpQkFBaUI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDOEI7QUFDOUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3Byb21wdHMvYmFzZS5qcz85ZmJkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJ1bm5hYmxlIH0gZnJvbSBcIi4uL3J1bm5hYmxlcy9iYXNlLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvcHJvbXB0cy9iYXNlLnRzXG4vKipcbiogQmFzZSBjbGFzcyBmb3IgcHJvbXB0IHRlbXBsYXRlcy4gRXhwb3NlcyBhIGZvcm1hdCBtZXRob2QgdGhhdCByZXR1cm5zIGFcbiogc3RyaW5nIHByb21wdCBnaXZlbiBhIHNldCBvZiBpbnB1dCB2YWx1ZXMuXG4qL1xudmFyIEJhc2VQcm9tcHRUZW1wbGF0ZSA9IGNsYXNzIGV4dGVuZHMgUnVubmFibGUge1xuXHRsY19zZXJpYWxpemFibGUgPSB0cnVlO1xuXHRsY19uYW1lc3BhY2UgPSBbXG5cdFx0XCJsYW5nY2hhaW5fY29yZVwiLFxuXHRcdFwicHJvbXB0c1wiLFxuXHRcdHRoaXMuX2dldFByb21wdFR5cGUoKVxuXHRdO1xuXHRnZXQgbGNfYXR0cmlidXRlcygpIHtcblx0XHRyZXR1cm4geyBwYXJ0aWFsVmFyaWFibGVzOiB2b2lkIDAgfTtcblx0fVxuXHRpbnB1dFZhcmlhYmxlcztcblx0b3V0cHV0UGFyc2VyO1xuXHRwYXJ0aWFsVmFyaWFibGVzO1xuXHQvKipcblx0KiBNZXRhZGF0YSB0byBiZSB1c2VkIGZvciB0cmFjaW5nLlxuXHQqL1xuXHRtZXRhZGF0YTtcblx0LyoqIFRhZ3MgdG8gYmUgdXNlZCBmb3IgdHJhY2luZy4gKi9cblx0dGFncztcblx0Y29uc3RydWN0b3IoaW5wdXQpIHtcblx0XHRzdXBlcihpbnB1dCk7XG5cdFx0Y29uc3QgeyBpbnB1dFZhcmlhYmxlcyB9ID0gaW5wdXQ7XG5cdFx0aWYgKGlucHV0VmFyaWFibGVzLmluY2x1ZGVzKFwic3RvcFwiKSkgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGhhdmUgYW4gaW5wdXQgdmFyaWFibGUgbmFtZWQgJ3N0b3AnLCBhcyBpdCBpcyB1c2VkIGludGVybmFsbHksIHBsZWFzZSByZW5hbWUuXCIpO1xuXHRcdE9iamVjdC5hc3NpZ24odGhpcywgaW5wdXQpO1xuXHR9XG5cdC8qKlxuXHQqIE1lcmdlcyBwYXJ0aWFsIHZhcmlhYmxlcyBhbmQgdXNlciB2YXJpYWJsZXMuXG5cdCogQHBhcmFtIHVzZXJWYXJpYWJsZXMgVGhlIHVzZXIgdmFyaWFibGVzIHRvIG1lcmdlIHdpdGggdGhlIHBhcnRpYWwgdmFyaWFibGVzLlxuXHQqIEByZXR1cm5zIEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBtZXJnZWQgdmFyaWFibGVzLlxuXHQqL1xuXHRhc3luYyBtZXJnZVBhcnRpYWxBbmRVc2VyVmFyaWFibGVzKHVzZXJWYXJpYWJsZXMpIHtcblx0XHRjb25zdCBwYXJ0aWFsVmFyaWFibGVzID0gdGhpcy5wYXJ0aWFsVmFyaWFibGVzID8/IHt9O1xuXHRcdGNvbnN0IHBhcnRpYWxWYWx1ZXMgPSB7fTtcblx0XHRmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhwYXJ0aWFsVmFyaWFibGVzKSkgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikgcGFydGlhbFZhbHVlc1trZXldID0gdmFsdWU7XG5cdFx0ZWxzZSBwYXJ0aWFsVmFsdWVzW2tleV0gPSBhd2FpdCB2YWx1ZSgpO1xuXHRcdGNvbnN0IGFsbEt3YXJncyA9IHtcblx0XHRcdC4uLnBhcnRpYWxWYWx1ZXMsXG5cdFx0XHQuLi51c2VyVmFyaWFibGVzXG5cdFx0fTtcblx0XHRyZXR1cm4gYWxsS3dhcmdzO1xuXHR9XG5cdC8qKlxuXHQqIEludm9rZXMgdGhlIHByb21wdCB0ZW1wbGF0ZSB3aXRoIHRoZSBnaXZlbiBpbnB1dCBhbmQgb3B0aW9ucy5cblx0KiBAcGFyYW0gaW5wdXQgVGhlIGlucHV0IHRvIGludm9rZSB0aGUgcHJvbXB0IHRlbXBsYXRlIHdpdGguXG5cdCogQHBhcmFtIG9wdGlvbnMgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBmb3IgdGhlIGNhbGxiYWNrLlxuXHQqIEByZXR1cm5zIEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSBvdXRwdXQgb2YgdGhlIHByb21wdCB0ZW1wbGF0ZS5cblx0Ki9cblx0YXN5bmMgaW52b2tlKGlucHV0LCBvcHRpb25zKSB7XG5cdFx0Y29uc3QgbWV0YWRhdGEgPSB7XG5cdFx0XHQuLi50aGlzLm1ldGFkYXRhLFxuXHRcdFx0Li4ub3B0aW9ucz8ubWV0YWRhdGFcblx0XHR9O1xuXHRcdGNvbnN0IHRhZ3MgPSBbLi4udGhpcy50YWdzID8/IFtdLCAuLi5vcHRpb25zPy50YWdzID8/IFtdXTtcblx0XHRyZXR1cm4gdGhpcy5fY2FsbFdpdGhDb25maWcoKGlucHV0JDEpID0+IHRoaXMuZm9ybWF0UHJvbXB0VmFsdWUoaW5wdXQkMSksIGlucHV0LCB7XG5cdFx0XHQuLi5vcHRpb25zLFxuXHRcdFx0dGFncyxcblx0XHRcdG1ldGFkYXRhLFxuXHRcdFx0cnVuVHlwZTogXCJwcm9tcHRcIlxuXHRcdH0pO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEJhc2VQcm9tcHRUZW1wbGF0ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmFzZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/base.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/chat.js":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/chat.js ***!
  \****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AIMessagePromptTemplate: () => (/* binding */ AIMessagePromptTemplate),\n/* harmony export */   BaseChatPromptTemplate: () => (/* binding */ BaseChatPromptTemplate),\n/* harmony export */   BaseMessagePromptTemplate: () => (/* binding */ BaseMessagePromptTemplate),\n/* harmony export */   BaseMessageStringPromptTemplate: () => (/* binding */ BaseMessageStringPromptTemplate),\n/* harmony export */   ChatMessagePromptTemplate: () => (/* binding */ ChatMessagePromptTemplate),\n/* harmony export */   ChatPromptTemplate: () => (/* binding */ ChatPromptTemplate),\n/* harmony export */   HumanMessagePromptTemplate: () => (/* binding */ HumanMessagePromptTemplate),\n/* harmony export */   MessagesPlaceholder: () => (/* binding */ MessagesPlaceholder),\n/* harmony export */   SystemMessagePromptTemplate: () => (/* binding */ SystemMessagePromptTemplate)\n/* harmony export */ });\n/* harmony import */ var _messages_base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../messages/base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/base.js\");\n/* harmony import */ var _messages_ai_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../messages/ai.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/ai.js\");\n/* harmony import */ var _messages_chat_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../messages/chat.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/chat.js\");\n/* harmony import */ var _messages_human_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../messages/human.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/human.js\");\n/* harmony import */ var _messages_system_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../messages/system.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/system.js\");\n/* harmony import */ var _errors_index_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../errors/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/errors/index.js\");\n/* harmony import */ var _messages_utils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../messages/utils.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/utils.js\");\n/* harmony import */ var _runnables_base_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../runnables/base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/base.js\");\n/* harmony import */ var _messages_index_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../messages/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/index.js\");\n/* harmony import */ var _prompt_values_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../prompt_values.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompt_values.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/base.js\");\n/* harmony import */ var _string_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./string.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/string.js\");\n/* harmony import */ var _template_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./template.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/template.js\");\n/* harmony import */ var _prompt_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./prompt.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/prompt.js\");\n/* harmony import */ var _image_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./image.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/image.js\");\n/* harmony import */ var _dict_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./dict.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/dict.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//#region src/prompts/chat.ts\n/**\n* Abstract class that serves as a base for creating message prompt\n* templates. It defines how to format messages for different roles in a\n* conversation.\n*/\nvar BaseMessagePromptTemplate = class extends _runnables_base_js__WEBPACK_IMPORTED_MODULE_7__.Runnable {\n\tlc_namespace = [\n\t\t\"langchain_core\",\n\t\t\"prompts\",\n\t\t\"chat\"\n\t];\n\tlc_serializable = true;\n\t/**\n\t* Calls the formatMessages method with the provided input and options.\n\t* @param input Input for the formatMessages method\n\t* @param options Optional BaseCallbackConfig\n\t* @returns Formatted output messages\n\t*/\n\tasync invoke(input, options) {\n\t\treturn this._callWithConfig((input$1) => this.formatMessages(input$1), input, {\n\t\t\t...options,\n\t\t\trunType: \"prompt\"\n\t\t});\n\t}\n};\n/**\n* Class that represents a placeholder for messages in a chat prompt. It\n* extends the BaseMessagePromptTemplate.\n*/\nvar MessagesPlaceholder = class extends BaseMessagePromptTemplate {\n\tstatic lc_name() {\n\t\treturn \"MessagesPlaceholder\";\n\t}\n\tvariableName;\n\toptional;\n\tconstructor(fields) {\n\t\tif (typeof fields === \"string\") fields = { variableName: fields };\n\t\tsuper(fields);\n\t\tthis.variableName = fields.variableName;\n\t\tthis.optional = fields.optional ?? false;\n\t}\n\tget inputVariables() {\n\t\treturn [this.variableName];\n\t}\n\tasync formatMessages(values) {\n\t\tconst input = values[this.variableName];\n\t\tif (this.optional && !input) return [];\n\t\telse if (!input) {\n\t\t\tconst error = /* @__PURE__ */ new Error(`Field \"${this.variableName}\" in prompt uses a MessagesPlaceholder, which expects an array of BaseMessages as an input value. Received: undefined`);\n\t\t\terror.name = \"InputFormatError\";\n\t\t\tthrow error;\n\t\t}\n\t\tlet formattedMessages;\n\t\ttry {\n\t\t\tif (Array.isArray(input)) formattedMessages = input.map(_messages_utils_js__WEBPACK_IMPORTED_MODULE_6__.coerceMessageLikeToMessage);\n\t\t\telse formattedMessages = [(0,_messages_utils_js__WEBPACK_IMPORTED_MODULE_6__.coerceMessageLikeToMessage)(input)];\n\t\t} catch (e) {\n\t\t\tconst readableInput = typeof input === \"string\" ? input : JSON.stringify(input, null, 2);\n\t\t\tconst error = new Error([\n\t\t\t\t`Field \"${this.variableName}\" in prompt uses a MessagesPlaceholder, which expects an array of BaseMessages or coerceable values as input.`,\n\t\t\t\t`Received value: ${readableInput}`,\n\t\t\t\t`Additional message: ${e.message}`\n\t\t\t].join(\"\\n\\n\"));\n\t\t\terror.name = \"InputFormatError\";\n\t\t\terror.lc_error_code = e.lc_error_code;\n\t\t\tthrow error;\n\t\t}\n\t\treturn formattedMessages;\n\t}\n};\n/**\n* Abstract class that serves as a base for creating message string prompt\n* templates. It extends the BaseMessagePromptTemplate.\n*/\nvar BaseMessageStringPromptTemplate = class extends BaseMessagePromptTemplate {\n\tprompt;\n\tconstructor(fields) {\n\t\tif (!(\"prompt\" in fields)) fields = { prompt: fields };\n\t\tsuper(fields);\n\t\tthis.prompt = fields.prompt;\n\t}\n\tget inputVariables() {\n\t\treturn this.prompt.inputVariables;\n\t}\n\tasync formatMessages(values) {\n\t\treturn [await this.format(values)];\n\t}\n};\n/**\n* Abstract class that serves as a base for creating chat prompt\n* templates. It extends the BasePromptTemplate.\n*/\nvar BaseChatPromptTemplate = class extends _base_js__WEBPACK_IMPORTED_MODULE_10__.BasePromptTemplate {\n\tconstructor(input) {\n\t\tsuper(input);\n\t}\n\tasync format(values) {\n\t\treturn (await this.formatPromptValue(values)).toString();\n\t}\n\tasync formatPromptValue(values) {\n\t\tconst resultMessages = await this.formatMessages(values);\n\t\treturn new _prompt_values_js__WEBPACK_IMPORTED_MODULE_9__.ChatPromptValue(resultMessages);\n\t}\n};\n/**\n* Class that represents a chat message prompt template. It extends the\n* BaseMessageStringPromptTemplate.\n*/\nvar ChatMessagePromptTemplate = class extends BaseMessageStringPromptTemplate {\n\tstatic lc_name() {\n\t\treturn \"ChatMessagePromptTemplate\";\n\t}\n\trole;\n\tconstructor(fields, role) {\n\t\tif (!(\"prompt\" in fields)) fields = {\n\t\t\tprompt: fields,\n\t\t\trole\n\t\t};\n\t\tsuper(fields);\n\t\tthis.role = fields.role;\n\t}\n\tasync format(values) {\n\t\treturn new _messages_chat_js__WEBPACK_IMPORTED_MODULE_2__.ChatMessage(await this.prompt.format(values), this.role);\n\t}\n\tstatic fromTemplate(template, role, options) {\n\t\treturn new this(_prompt_js__WEBPACK_IMPORTED_MODULE_13__.PromptTemplate.fromTemplate(template, { templateFormat: options?.templateFormat }), role);\n\t}\n};\nfunction isTextTemplateParam(param) {\n\tif (param === null || typeof param !== \"object\" || Array.isArray(param)) return false;\n\treturn Object.keys(param).length === 1 && \"text\" in param && typeof param.text === \"string\";\n}\nfunction isImageTemplateParam(param) {\n\tif (param === null || typeof param !== \"object\" || Array.isArray(param)) return false;\n\treturn \"image_url\" in param && (typeof param.image_url === \"string\" || typeof param.image_url === \"object\" && param.image_url !== null && \"url\" in param.image_url && typeof param.image_url.url === \"string\");\n}\nvar _StringImageMessagePromptTemplate = class extends BaseMessagePromptTemplate {\n\tlc_namespace = [\n\t\t\"langchain_core\",\n\t\t\"prompts\",\n\t\t\"chat\"\n\t];\n\tlc_serializable = true;\n\tinputVariables = [];\n\tadditionalOptions = {};\n\tprompt;\n\tmessageClass;\n\tstatic _messageClass() {\n\t\tthrow new Error(\"Can not invoke _messageClass from inside _StringImageMessagePromptTemplate\");\n\t}\n\tchatMessageClass;\n\tconstructor(fields, additionalOptions) {\n\t\tif (!(\"prompt\" in fields)) fields = { prompt: fields };\n\t\tsuper(fields);\n\t\tthis.prompt = fields.prompt;\n\t\tif (Array.isArray(this.prompt)) {\n\t\t\tlet inputVariables = [];\n\t\t\tthis.prompt.forEach((prompt) => {\n\t\t\t\tif (\"inputVariables\" in prompt) inputVariables = inputVariables.concat(prompt.inputVariables);\n\t\t\t});\n\t\t\tthis.inputVariables = inputVariables;\n\t\t} else this.inputVariables = this.prompt.inputVariables;\n\t\tthis.additionalOptions = additionalOptions ?? this.additionalOptions;\n\t}\n\tcreateMessage(content) {\n\t\tconst constructor = this.constructor;\n\t\tif (constructor._messageClass()) {\n\t\t\tconst MsgClass = constructor._messageClass();\n\t\t\treturn new MsgClass({ content });\n\t\t} else if (constructor.chatMessageClass) {\n\t\t\tconst MsgClass = constructor.chatMessageClass();\n\t\t\treturn new MsgClass({\n\t\t\t\tcontent,\n\t\t\t\trole: this.getRoleFromMessageClass(MsgClass.lc_name())\n\t\t\t});\n\t\t} else throw new Error(\"No message class defined\");\n\t}\n\tgetRoleFromMessageClass(name) {\n\t\tswitch (name) {\n\t\t\tcase \"HumanMessage\": return \"human\";\n\t\t\tcase \"AIMessage\": return \"ai\";\n\t\t\tcase \"SystemMessage\": return \"system\";\n\t\t\tcase \"ChatMessage\": return \"chat\";\n\t\t\tdefault: throw new Error(\"Invalid message class name\");\n\t\t}\n\t}\n\tstatic fromTemplate(template, additionalOptions) {\n\t\tif (typeof template === \"string\") return new this(_prompt_js__WEBPACK_IMPORTED_MODULE_13__.PromptTemplate.fromTemplate(template, additionalOptions));\n\t\tconst prompt = [];\n\t\tfor (const item of template) if (typeof item === \"string\") prompt.push(_prompt_js__WEBPACK_IMPORTED_MODULE_13__.PromptTemplate.fromTemplate(item, additionalOptions));\n\t\telse if (item === null) {} else if (isTextTemplateParam(item)) {\n\t\t\tlet text = \"\";\n\t\t\tif (typeof item.text === \"string\") text = item.text ?? \"\";\n\t\t\tconst options = {\n\t\t\t\t...additionalOptions,\n\t\t\t\tadditionalContentFields: item\n\t\t\t};\n\t\t\tprompt.push(_prompt_js__WEBPACK_IMPORTED_MODULE_13__.PromptTemplate.fromTemplate(text, options));\n\t\t} else if (isImageTemplateParam(item)) {\n\t\t\tlet imgTemplate = item.image_url ?? \"\";\n\t\t\tlet imgTemplateObject;\n\t\t\tlet inputVariables = [];\n\t\t\tif (typeof imgTemplate === \"string\") {\n\t\t\t\tlet parsedTemplate;\n\t\t\t\tif (additionalOptions?.templateFormat === \"mustache\") parsedTemplate = (0,_template_js__WEBPACK_IMPORTED_MODULE_12__.parseMustache)(imgTemplate);\n\t\t\t\telse parsedTemplate = (0,_template_js__WEBPACK_IMPORTED_MODULE_12__.parseFString)(imgTemplate);\n\t\t\t\tconst variables = parsedTemplate.flatMap((item$1) => item$1.type === \"variable\" ? [item$1.name] : []);\n\t\t\t\tif ((variables?.length ?? 0) > 0) {\n\t\t\t\t\tif (variables.length > 1) throw new Error(`Only one format variable allowed per image template.\\nGot: ${variables}\\nFrom: ${imgTemplate}`);\n\t\t\t\t\tinputVariables = [variables[0]];\n\t\t\t\t} else inputVariables = [];\n\t\t\t\timgTemplate = { url: imgTemplate };\n\t\t\t\timgTemplateObject = new _image_js__WEBPACK_IMPORTED_MODULE_14__.ImagePromptTemplate({\n\t\t\t\t\ttemplate: imgTemplate,\n\t\t\t\t\tinputVariables,\n\t\t\t\t\ttemplateFormat: additionalOptions?.templateFormat,\n\t\t\t\t\tadditionalContentFields: item\n\t\t\t\t});\n\t\t\t} else if (typeof imgTemplate === \"object\") {\n\t\t\t\tif (\"url\" in imgTemplate) {\n\t\t\t\t\tlet parsedTemplate;\n\t\t\t\t\tif (additionalOptions?.templateFormat === \"mustache\") parsedTemplate = (0,_template_js__WEBPACK_IMPORTED_MODULE_12__.parseMustache)(imgTemplate.url);\n\t\t\t\t\telse parsedTemplate = (0,_template_js__WEBPACK_IMPORTED_MODULE_12__.parseFString)(imgTemplate.url);\n\t\t\t\t\tinputVariables = parsedTemplate.flatMap((item$1) => item$1.type === \"variable\" ? [item$1.name] : []);\n\t\t\t\t} else inputVariables = [];\n\t\t\t\timgTemplateObject = new _image_js__WEBPACK_IMPORTED_MODULE_14__.ImagePromptTemplate({\n\t\t\t\t\ttemplate: imgTemplate,\n\t\t\t\t\tinputVariables,\n\t\t\t\t\ttemplateFormat: additionalOptions?.templateFormat,\n\t\t\t\t\tadditionalContentFields: item\n\t\t\t\t});\n\t\t\t} else throw new Error(\"Invalid image template\");\n\t\t\tprompt.push(imgTemplateObject);\n\t\t} else if (typeof item === \"object\") prompt.push(new _dict_js__WEBPACK_IMPORTED_MODULE_15__.DictPromptTemplate({\n\t\t\ttemplate: item,\n\t\t\ttemplateFormat: additionalOptions?.templateFormat\n\t\t}));\n\t\treturn new this({\n\t\t\tprompt,\n\t\t\tadditionalOptions\n\t\t});\n\t}\n\tasync format(input) {\n\t\tif (this.prompt instanceof _string_js__WEBPACK_IMPORTED_MODULE_11__.BaseStringPromptTemplate) {\n\t\t\tconst text = await this.prompt.format(input);\n\t\t\treturn this.createMessage(text);\n\t\t} else {\n\t\t\tconst content = [];\n\t\t\tfor (const prompt of this.prompt) {\n\t\t\t\tlet inputs = {};\n\t\t\t\tif (!(\"inputVariables\" in prompt)) throw new Error(`Prompt ${prompt} does not have inputVariables defined.`);\n\t\t\t\tfor (const item of prompt.inputVariables) {\n\t\t\t\t\tif (!inputs) inputs = { [item]: input[item] };\n\t\t\t\t\tinputs = {\n\t\t\t\t\t\t...inputs,\n\t\t\t\t\t\t[item]: input[item]\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (prompt instanceof _string_js__WEBPACK_IMPORTED_MODULE_11__.BaseStringPromptTemplate) {\n\t\t\t\t\tconst formatted = await prompt.format(inputs);\n\t\t\t\t\tlet additionalContentFields;\n\t\t\t\t\tif (\"additionalContentFields\" in prompt) additionalContentFields = prompt.additionalContentFields;\n\t\t\t\t\tif (formatted !== \"\") content.push({\n\t\t\t\t\t\t...additionalContentFields,\n\t\t\t\t\t\ttype: \"text\",\n\t\t\t\t\t\ttext: formatted\n\t\t\t\t\t});\n\t\t\t\t} else if (prompt instanceof _image_js__WEBPACK_IMPORTED_MODULE_14__.ImagePromptTemplate) {\n\t\t\t\t\tconst formatted = await prompt.format(inputs);\n\t\t\t\t\tlet additionalContentFields;\n\t\t\t\t\tif (\"additionalContentFields\" in prompt) additionalContentFields = prompt.additionalContentFields;\n\t\t\t\t\tcontent.push({\n\t\t\t\t\t\t...additionalContentFields,\n\t\t\t\t\t\ttype: \"image_url\",\n\t\t\t\t\t\timage_url: formatted\n\t\t\t\t\t});\n\t\t\t\t} else if (prompt instanceof _dict_js__WEBPACK_IMPORTED_MODULE_15__.DictPromptTemplate) {\n\t\t\t\t\tconst formatted = await prompt.format(inputs);\n\t\t\t\t\tlet additionalContentFields;\n\t\t\t\t\tif (\"additionalContentFields\" in prompt) additionalContentFields = prompt.additionalContentFields;\n\t\t\t\t\tcontent.push({\n\t\t\t\t\t\t...additionalContentFields,\n\t\t\t\t\t\t...formatted\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this.createMessage(content);\n\t\t}\n\t}\n\tasync formatMessages(values) {\n\t\treturn [await this.format(values)];\n\t}\n};\n/**\n* Class that represents a human message prompt template. It extends the\n* BaseMessageStringPromptTemplate.\n* @example\n* ```typescript\n* const message = HumanMessagePromptTemplate.fromTemplate(\"{text}\");\n* const formatted = await message.format({ text: \"Hello world!\" });\n*\n* const chatPrompt = ChatPromptTemplate.fromMessages([message]);\n* const formattedChatPrompt = await chatPrompt.invoke({\n*   text: \"Hello world!\",\n* });\n* ```\n*/\nvar HumanMessagePromptTemplate = class extends _StringImageMessagePromptTemplate {\n\tstatic _messageClass() {\n\t\treturn _messages_human_js__WEBPACK_IMPORTED_MODULE_3__.HumanMessage;\n\t}\n\tstatic lc_name() {\n\t\treturn \"HumanMessagePromptTemplate\";\n\t}\n};\n/**\n* Class that represents an AI message prompt template. It extends the\n* BaseMessageStringPromptTemplate.\n*/\nvar AIMessagePromptTemplate = class extends _StringImageMessagePromptTemplate {\n\tstatic _messageClass() {\n\t\treturn _messages_ai_js__WEBPACK_IMPORTED_MODULE_1__.AIMessage;\n\t}\n\tstatic lc_name() {\n\t\treturn \"AIMessagePromptTemplate\";\n\t}\n};\n/**\n* Class that represents a system message prompt template. It extends the\n* BaseMessageStringPromptTemplate.\n* @example\n* ```typescript\n* const message = SystemMessagePromptTemplate.fromTemplate(\"{text}\");\n* const formatted = await message.format({ text: \"Hello world!\" });\n*\n* const chatPrompt = ChatPromptTemplate.fromMessages([message]);\n* const formattedChatPrompt = await chatPrompt.invoke({\n*   text: \"Hello world!\",\n* });\n* ```\n*/\nvar SystemMessagePromptTemplate = class extends _StringImageMessagePromptTemplate {\n\tstatic _messageClass() {\n\t\treturn _messages_system_js__WEBPACK_IMPORTED_MODULE_4__.SystemMessage;\n\t}\n\tstatic lc_name() {\n\t\treturn \"SystemMessagePromptTemplate\";\n\t}\n};\nfunction _isBaseMessagePromptTemplate(baseMessagePromptTemplateLike) {\n\treturn typeof baseMessagePromptTemplateLike.formatMessages === \"function\";\n}\nfunction _coerceMessagePromptTemplateLike(messagePromptTemplateLike, extra) {\n\tif (_isBaseMessagePromptTemplate(messagePromptTemplateLike) || (0,_messages_base_js__WEBPACK_IMPORTED_MODULE_0__.isBaseMessage)(messagePromptTemplateLike)) return messagePromptTemplateLike;\n\tif (Array.isArray(messagePromptTemplateLike) && messagePromptTemplateLike[0] === \"placeholder\") {\n\t\tconst messageContent = messagePromptTemplateLike[1];\n\t\tif (extra?.templateFormat === \"mustache\" && typeof messageContent === \"string\" && messageContent.slice(0, 2) === \"{{\" && messageContent.slice(-2) === \"}}\") {\n\t\t\tconst variableName = messageContent.slice(2, -2);\n\t\t\treturn new MessagesPlaceholder({\n\t\t\t\tvariableName,\n\t\t\t\toptional: true\n\t\t\t});\n\t\t} else if (typeof messageContent === \"string\" && messageContent[0] === \"{\" && messageContent[messageContent.length - 1] === \"}\") {\n\t\t\tconst variableName = messageContent.slice(1, -1);\n\t\t\treturn new MessagesPlaceholder({\n\t\t\t\tvariableName,\n\t\t\t\toptional: true\n\t\t\t});\n\t\t}\n\t\tthrow new Error(`Invalid placeholder template for format ${extra?.templateFormat ?? `\"f-string\"`}: \"${messagePromptTemplateLike[1]}\". Expected a variable name surrounded by ${extra?.templateFormat === \"mustache\" ? \"double\" : \"single\"} curly braces.`);\n\t}\n\tconst message = (0,_messages_utils_js__WEBPACK_IMPORTED_MODULE_6__.coerceMessageLikeToMessage)(messagePromptTemplateLike);\n\tlet templateData;\n\tif (typeof message.content === \"string\") templateData = message.content;\n\telse templateData = message.content.map((item) => {\n\t\tif (\"text\" in item) return {\n\t\t\t...item,\n\t\t\ttext: item.text\n\t\t};\n\t\telse if (\"image_url\" in item) return {\n\t\t\t...item,\n\t\t\timage_url: item.image_url\n\t\t};\n\t\telse return item;\n\t});\n\tif (message._getType() === \"human\") return HumanMessagePromptTemplate.fromTemplate(templateData, extra);\n\telse if (message._getType() === \"ai\") return AIMessagePromptTemplate.fromTemplate(templateData, extra);\n\telse if (message._getType() === \"system\") return SystemMessagePromptTemplate.fromTemplate(templateData, extra);\n\telse if (_messages_chat_js__WEBPACK_IMPORTED_MODULE_2__.ChatMessage.isInstance(message)) return ChatMessagePromptTemplate.fromTemplate(message.content, message.role, extra);\n\telse throw new Error(`Could not coerce message prompt template from input. Received message type: \"${message._getType()}\".`);\n}\nfunction isMessagesPlaceholder(x) {\n\treturn x.constructor.lc_name() === \"MessagesPlaceholder\";\n}\n/**\n* Class that represents a chat prompt. It extends the\n* BaseChatPromptTemplate and uses an array of BaseMessagePromptTemplate\n* instances to format a series of messages for a conversation.\n* @example\n* ```typescript\n* const message = SystemMessagePromptTemplate.fromTemplate(\"{text}\");\n* const chatPrompt = ChatPromptTemplate.fromMessages([\n*   [\"ai\", \"You are a helpful assistant.\"],\n*   message,\n* ]);\n* const formattedChatPrompt = await chatPrompt.invoke({\n*   text: \"Hello world!\",\n* });\n* ```\n*/\nvar ChatPromptTemplate = class ChatPromptTemplate extends BaseChatPromptTemplate {\n\tstatic lc_name() {\n\t\treturn \"ChatPromptTemplate\";\n\t}\n\tget lc_aliases() {\n\t\treturn { promptMessages: \"messages\" };\n\t}\n\tpromptMessages;\n\tvalidateTemplate = true;\n\ttemplateFormat = \"f-string\";\n\tconstructor(input) {\n\t\tsuper(input);\n\t\tif (input.templateFormat === \"mustache\" && input.validateTemplate === void 0) this.validateTemplate = false;\n\t\tObject.assign(this, input);\n\t\tif (this.validateTemplate) {\n\t\t\tconst inputVariablesMessages = /* @__PURE__ */ new Set();\n\t\t\tfor (const promptMessage of this.promptMessages) {\n\t\t\t\tif (promptMessage instanceof _messages_base_js__WEBPACK_IMPORTED_MODULE_0__.BaseMessage) continue;\n\t\t\t\tfor (const inputVariable of promptMessage.inputVariables) inputVariablesMessages.add(inputVariable);\n\t\t\t}\n\t\t\tconst totalInputVariables = this.inputVariables;\n\t\t\tconst inputVariablesInstance = new Set(this.partialVariables ? totalInputVariables.concat(Object.keys(this.partialVariables)) : totalInputVariables);\n\t\t\tconst difference = new Set([...inputVariablesInstance].filter((x) => !inputVariablesMessages.has(x)));\n\t\t\tif (difference.size > 0) throw new Error(`Input variables \\`${[...difference]}\\` are not used in any of the prompt messages.`);\n\t\t\tconst otherDifference = new Set([...inputVariablesMessages].filter((x) => !inputVariablesInstance.has(x)));\n\t\t\tif (otherDifference.size > 0) throw new Error(`Input variables \\`${[...otherDifference]}\\` are used in prompt messages but not in the prompt template.`);\n\t\t}\n\t}\n\t_getPromptType() {\n\t\treturn \"chat\";\n\t}\n\tasync _parseImagePrompts(message, inputValues) {\n\t\tif (typeof message.content === \"string\") return message;\n\t\tconst formattedMessageContent = await Promise.all(message.content.map(async (item) => {\n\t\t\tif (item.type !== \"image_url\") return item;\n\t\t\tlet imageUrl = \"\";\n\t\t\tif (typeof item.image_url === \"string\") imageUrl = item.image_url;\n\t\t\telse if (typeof item.image_url === \"object\" && item.image_url !== null && \"url\" in item.image_url && typeof item.image_url.url === \"string\") imageUrl = item.image_url.url;\n\t\t\tconst promptTemplatePlaceholder = _prompt_js__WEBPACK_IMPORTED_MODULE_13__.PromptTemplate.fromTemplate(imageUrl, { templateFormat: this.templateFormat });\n\t\t\tconst formattedUrl = await promptTemplatePlaceholder.format(inputValues);\n\t\t\tif (typeof item.image_url === \"object\" && item.image_url !== null && \"url\" in item.image_url) item.image_url.url = formattedUrl;\n\t\t\telse item.image_url = formattedUrl;\n\t\t\treturn item;\n\t\t}));\n\t\tmessage.content = formattedMessageContent;\n\t\treturn message;\n\t}\n\tasync formatMessages(values) {\n\t\tconst allValues = await this.mergePartialAndUserVariables(values);\n\t\tlet resultMessages = [];\n\t\tfor (const promptMessage of this.promptMessages) if (promptMessage instanceof _messages_base_js__WEBPACK_IMPORTED_MODULE_0__.BaseMessage) resultMessages.push(await this._parseImagePrompts(promptMessage, allValues));\n\t\telse {\n\t\t\tlet inputValues;\n\t\t\tif (this.templateFormat === \"mustache\") inputValues = { ...allValues };\n\t\t\telse inputValues = promptMessage.inputVariables.reduce((acc, inputVariable) => {\n\t\t\t\tif (!(inputVariable in allValues) && !(isMessagesPlaceholder(promptMessage) && promptMessage.optional)) {\n\t\t\t\t\tconst error = (0,_errors_index_js__WEBPACK_IMPORTED_MODULE_5__.addLangChainErrorFields)(/* @__PURE__ */ new Error(`Missing value for input variable \\`${inputVariable.toString()}\\``), \"INVALID_PROMPT_INPUT\");\n\t\t\t\t\tthrow error;\n\t\t\t\t}\n\t\t\t\tacc[inputVariable] = allValues[inputVariable];\n\t\t\t\treturn acc;\n\t\t\t}, {});\n\t\t\tconst message = await promptMessage.formatMessages(inputValues);\n\t\t\tresultMessages = resultMessages.concat(message);\n\t\t}\n\t\treturn resultMessages;\n\t}\n\tasync partial(values) {\n\t\tconst newInputVariables = this.inputVariables.filter((iv) => !(iv in values));\n\t\tconst newPartialVariables = {\n\t\t\t...this.partialVariables ?? {},\n\t\t\t...values\n\t\t};\n\t\tconst promptDict = {\n\t\t\t...this,\n\t\t\tinputVariables: newInputVariables,\n\t\t\tpartialVariables: newPartialVariables\n\t\t};\n\t\treturn new ChatPromptTemplate(promptDict);\n\t}\n\tstatic fromTemplate(template, options) {\n\t\tconst prompt = _prompt_js__WEBPACK_IMPORTED_MODULE_13__.PromptTemplate.fromTemplate(template, options);\n\t\tconst humanTemplate = new HumanMessagePromptTemplate({ prompt });\n\t\treturn this.fromMessages([humanTemplate]);\n\t}\n\t/**\n\t* Create a chat model-specific prompt from individual chat messages\n\t* or message-like tuples.\n\t* @param promptMessages Messages to be passed to the chat model\n\t* @returns A new ChatPromptTemplate\n\t*/\n\tstatic fromMessages(promptMessages, extra) {\n\t\tconst flattenedMessages = promptMessages.reduce((acc, promptMessage) => acc.concat(promptMessage instanceof ChatPromptTemplate ? promptMessage.promptMessages : [_coerceMessagePromptTemplateLike(promptMessage, extra)]), []);\n\t\tconst flattenedPartialVariables = promptMessages.reduce((acc, promptMessage) => promptMessage instanceof ChatPromptTemplate ? Object.assign(acc, promptMessage.partialVariables) : acc, Object.create(null));\n\t\tconst inputVariables = /* @__PURE__ */ new Set();\n\t\tfor (const promptMessage of flattenedMessages) {\n\t\t\tif (promptMessage instanceof _messages_base_js__WEBPACK_IMPORTED_MODULE_0__.BaseMessage) continue;\n\t\t\tfor (const inputVariable of promptMessage.inputVariables) {\n\t\t\t\tif (inputVariable in flattenedPartialVariables) continue;\n\t\t\t\tinputVariables.add(inputVariable);\n\t\t\t}\n\t\t}\n\t\treturn new this({\n\t\t\t...extra,\n\t\t\tinputVariables: [...inputVariables],\n\t\t\tpromptMessages: flattenedMessages,\n\t\t\tpartialVariables: flattenedPartialVariables,\n\t\t\ttemplateFormat: extra?.templateFormat\n\t\t});\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=chat.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9wcm9tcHRzL2NoYXQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFpRTtBQUNuQjtBQUNJO0FBQ0U7QUFDRTtBQUNPO0FBQ0s7QUFDbEI7QUFDbEI7QUFDd0I7QUFDUDtBQUNRO0FBQ0s7QUFDZjtBQUNJO0FBQ0Y7O0FBRS9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4Qyx3REFBUTtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELGtCQUFrQjtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELDBFQUEwQjtBQUNyRiw2QkFBNkIsOEVBQTBCO0FBQ3ZELElBQUk7QUFDSjtBQUNBO0FBQ0EsY0FBYyxrQkFBa0I7QUFDaEMsdUJBQXVCLGNBQWM7QUFDckMsMkJBQTJCLFVBQVU7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMseURBQWtCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDhEQUFlO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDBEQUFXO0FBQ3hCO0FBQ0E7QUFDQSxrQkFBa0IsdURBQWMsMEJBQTBCLHlDQUF5QztBQUNuRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsU0FBUztBQUNsQyxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsdURBQWM7QUFDbEU7QUFDQSx5RUFBeUUsdURBQWM7QUFDdkYsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsdURBQWM7QUFDN0IsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkUsNERBQWE7QUFDeEYsMEJBQTBCLDJEQUFZO0FBQ3RDO0FBQ0E7QUFDQSw2R0FBNkcsVUFBVSxVQUFVLFlBQVk7QUFDN0k7QUFDQSxNQUFNO0FBQ04sb0JBQW9CO0FBQ3BCLDRCQUE0QiwyREFBbUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsS0FBSztBQUNMO0FBQ0E7QUFDQSw0RUFBNEUsNERBQWE7QUFDekYsMkJBQTJCLDJEQUFZO0FBQ3ZDO0FBQ0EsTUFBTTtBQUNOLDRCQUE0QiwyREFBbUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsS0FBSztBQUNMO0FBQ0EsSUFBSSxtREFBbUQseURBQWtCO0FBQ3pFO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSw2QkFBNkIsaUVBQXdCO0FBQ3JEO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFLFFBQVE7QUFDekU7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixpRUFBd0I7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sTUFBTSwyQkFBMkIsMkRBQW1CO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLE1BQU0sMkJBQTJCLHlEQUFrQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxLQUFLO0FBQ2pFLDJDQUEyQyxzQkFBc0I7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDREQUFZO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHNEQUFTO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELEtBQUs7QUFDbEUsMkNBQTJDLHNCQUFzQjtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsOERBQWE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLGdFQUFhO0FBQzdFO0FBQ0E7QUFDQSxzSEFBc0gscUNBQXFDO0FBQzNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLElBQUksdUVBQXVFLHFEQUFxRDtBQUNoSTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLDZEQUE2RCxzQ0FBc0MsS0FBSyw2QkFBNkIsNENBQTRDLDREQUE0RDtBQUM3TztBQUNBLGlCQUFpQiw4RUFBMEI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBLFVBQVUsMERBQVc7QUFDckIsc0dBQXNHLG1CQUFtQjtBQUN6SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxLQUFLO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLDBEQUFXO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsZ0JBQWdCO0FBQ2pGO0FBQ0Esc0VBQXNFLHFCQUFxQjtBQUMzRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsdURBQWMsMEJBQTBCLHFDQUFxQztBQUNsSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRkFBZ0YsMERBQVc7QUFDM0Y7QUFDQTtBQUNBLDJEQUEyRDtBQUMzRDtBQUNBO0FBQ0EsbUJBQW1CLHlFQUF1QixpRUFBaUUseUJBQXlCO0FBQ3BJO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxJQUFJO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix1REFBYztBQUMvQix5REFBeUQsUUFBUTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQywwREFBVztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDb1A7QUFDcFAiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3Byb21wdHMvY2hhdC5qcz8xOTU1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhc2VNZXNzYWdlLCBpc0Jhc2VNZXNzYWdlIH0gZnJvbSBcIi4uL21lc3NhZ2VzL2Jhc2UuanNcIjtcbmltcG9ydCB7IEFJTWVzc2FnZSB9IGZyb20gXCIuLi9tZXNzYWdlcy9haS5qc1wiO1xuaW1wb3J0IHsgQ2hhdE1lc3NhZ2UgfSBmcm9tIFwiLi4vbWVzc2FnZXMvY2hhdC5qc1wiO1xuaW1wb3J0IHsgSHVtYW5NZXNzYWdlIH0gZnJvbSBcIi4uL21lc3NhZ2VzL2h1bWFuLmpzXCI7XG5pbXBvcnQgeyBTeXN0ZW1NZXNzYWdlIH0gZnJvbSBcIi4uL21lc3NhZ2VzL3N5c3RlbS5qc1wiO1xuaW1wb3J0IHsgYWRkTGFuZ0NoYWluRXJyb3JGaWVsZHMgfSBmcm9tIFwiLi4vZXJyb3JzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBjb2VyY2VNZXNzYWdlTGlrZVRvTWVzc2FnZSB9IGZyb20gXCIuLi9tZXNzYWdlcy91dGlscy5qc1wiO1xuaW1wb3J0IHsgUnVubmFibGUgfSBmcm9tIFwiLi4vcnVubmFibGVzL2Jhc2UuanNcIjtcbmltcG9ydCBcIi4uL21lc3NhZ2VzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBDaGF0UHJvbXB0VmFsdWUgfSBmcm9tIFwiLi4vcHJvbXB0X3ZhbHVlcy5qc1wiO1xuaW1wb3J0IHsgQmFzZVByb21wdFRlbXBsYXRlIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgQmFzZVN0cmluZ1Byb21wdFRlbXBsYXRlIH0gZnJvbSBcIi4vc3RyaW5nLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUZTdHJpbmcsIHBhcnNlTXVzdGFjaGUgfSBmcm9tIFwiLi90ZW1wbGF0ZS5qc1wiO1xuaW1wb3J0IHsgUHJvbXB0VGVtcGxhdGUgfSBmcm9tIFwiLi9wcm9tcHQuanNcIjtcbmltcG9ydCB7IEltYWdlUHJvbXB0VGVtcGxhdGUgfSBmcm9tIFwiLi9pbWFnZS5qc1wiO1xuaW1wb3J0IHsgRGljdFByb21wdFRlbXBsYXRlIH0gZnJvbSBcIi4vZGljdC5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3Byb21wdHMvY2hhdC50c1xuLyoqXG4qIEFic3RyYWN0IGNsYXNzIHRoYXQgc2VydmVzIGFzIGEgYmFzZSBmb3IgY3JlYXRpbmcgbWVzc2FnZSBwcm9tcHRcbiogdGVtcGxhdGVzLiBJdCBkZWZpbmVzIGhvdyB0byBmb3JtYXQgbWVzc2FnZXMgZm9yIGRpZmZlcmVudCByb2xlcyBpbiBhXG4qIGNvbnZlcnNhdGlvbi5cbiovXG52YXIgQmFzZU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSA9IGNsYXNzIGV4dGVuZHMgUnVubmFibGUge1xuXHRsY19uYW1lc3BhY2UgPSBbXG5cdFx0XCJsYW5nY2hhaW5fY29yZVwiLFxuXHRcdFwicHJvbXB0c1wiLFxuXHRcdFwiY2hhdFwiXG5cdF07XG5cdGxjX3NlcmlhbGl6YWJsZSA9IHRydWU7XG5cdC8qKlxuXHQqIENhbGxzIHRoZSBmb3JtYXRNZXNzYWdlcyBtZXRob2Qgd2l0aCB0aGUgcHJvdmlkZWQgaW5wdXQgYW5kIG9wdGlvbnMuXG5cdCogQHBhcmFtIGlucHV0IElucHV0IGZvciB0aGUgZm9ybWF0TWVzc2FnZXMgbWV0aG9kXG5cdCogQHBhcmFtIG9wdGlvbnMgT3B0aW9uYWwgQmFzZUNhbGxiYWNrQ29uZmlnXG5cdCogQHJldHVybnMgRm9ybWF0dGVkIG91dHB1dCBtZXNzYWdlc1xuXHQqL1xuXHRhc3luYyBpbnZva2UoaW5wdXQsIG9wdGlvbnMpIHtcblx0XHRyZXR1cm4gdGhpcy5fY2FsbFdpdGhDb25maWcoKGlucHV0JDEpID0+IHRoaXMuZm9ybWF0TWVzc2FnZXMoaW5wdXQkMSksIGlucHV0LCB7XG5cdFx0XHQuLi5vcHRpb25zLFxuXHRcdFx0cnVuVHlwZTogXCJwcm9tcHRcIlxuXHRcdH0pO1xuXHR9XG59O1xuLyoqXG4qIENsYXNzIHRoYXQgcmVwcmVzZW50cyBhIHBsYWNlaG9sZGVyIGZvciBtZXNzYWdlcyBpbiBhIGNoYXQgcHJvbXB0LiBJdFxuKiBleHRlbmRzIHRoZSBCYXNlTWVzc2FnZVByb21wdFRlbXBsYXRlLlxuKi9cbnZhciBNZXNzYWdlc1BsYWNlaG9sZGVyID0gY2xhc3MgZXh0ZW5kcyBCYXNlTWVzc2FnZVByb21wdFRlbXBsYXRlIHtcblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiTWVzc2FnZXNQbGFjZWhvbGRlclwiO1xuXHR9XG5cdHZhcmlhYmxlTmFtZTtcblx0b3B0aW9uYWw7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdGlmICh0eXBlb2YgZmllbGRzID09PSBcInN0cmluZ1wiKSBmaWVsZHMgPSB7IHZhcmlhYmxlTmFtZTogZmllbGRzIH07XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLnZhcmlhYmxlTmFtZSA9IGZpZWxkcy52YXJpYWJsZU5hbWU7XG5cdFx0dGhpcy5vcHRpb25hbCA9IGZpZWxkcy5vcHRpb25hbCA/PyBmYWxzZTtcblx0fVxuXHRnZXQgaW5wdXRWYXJpYWJsZXMoKSB7XG5cdFx0cmV0dXJuIFt0aGlzLnZhcmlhYmxlTmFtZV07XG5cdH1cblx0YXN5bmMgZm9ybWF0TWVzc2FnZXModmFsdWVzKSB7XG5cdFx0Y29uc3QgaW5wdXQgPSB2YWx1ZXNbdGhpcy52YXJpYWJsZU5hbWVdO1xuXHRcdGlmICh0aGlzLm9wdGlvbmFsICYmICFpbnB1dCkgcmV0dXJuIFtdO1xuXHRcdGVsc2UgaWYgKCFpbnB1dCkge1xuXHRcdFx0Y29uc3QgZXJyb3IgPSAvKiBAX19QVVJFX18gKi8gbmV3IEVycm9yKGBGaWVsZCBcIiR7dGhpcy52YXJpYWJsZU5hbWV9XCIgaW4gcHJvbXB0IHVzZXMgYSBNZXNzYWdlc1BsYWNlaG9sZGVyLCB3aGljaCBleHBlY3RzIGFuIGFycmF5IG9mIEJhc2VNZXNzYWdlcyBhcyBhbiBpbnB1dCB2YWx1ZS4gUmVjZWl2ZWQ6IHVuZGVmaW5lZGApO1xuXHRcdFx0ZXJyb3IubmFtZSA9IFwiSW5wdXRGb3JtYXRFcnJvclwiO1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXHRcdGxldCBmb3JtYXR0ZWRNZXNzYWdlcztcblx0XHR0cnkge1xuXHRcdFx0aWYgKEFycmF5LmlzQXJyYXkoaW5wdXQpKSBmb3JtYXR0ZWRNZXNzYWdlcyA9IGlucHV0Lm1hcChjb2VyY2VNZXNzYWdlTGlrZVRvTWVzc2FnZSk7XG5cdFx0XHRlbHNlIGZvcm1hdHRlZE1lc3NhZ2VzID0gW2NvZXJjZU1lc3NhZ2VMaWtlVG9NZXNzYWdlKGlucHV0KV07XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0Y29uc3QgcmVhZGFibGVJbnB1dCA9IHR5cGVvZiBpbnB1dCA9PT0gXCJzdHJpbmdcIiA/IGlucHV0IDogSlNPTi5zdHJpbmdpZnkoaW5wdXQsIG51bGwsIDIpO1xuXHRcdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoW1xuXHRcdFx0XHRgRmllbGQgXCIke3RoaXMudmFyaWFibGVOYW1lfVwiIGluIHByb21wdCB1c2VzIGEgTWVzc2FnZXNQbGFjZWhvbGRlciwgd2hpY2ggZXhwZWN0cyBhbiBhcnJheSBvZiBCYXNlTWVzc2FnZXMgb3IgY29lcmNlYWJsZSB2YWx1ZXMgYXMgaW5wdXQuYCxcblx0XHRcdFx0YFJlY2VpdmVkIHZhbHVlOiAke3JlYWRhYmxlSW5wdXR9YCxcblx0XHRcdFx0YEFkZGl0aW9uYWwgbWVzc2FnZTogJHtlLm1lc3NhZ2V9YFxuXHRcdFx0XS5qb2luKFwiXFxuXFxuXCIpKTtcblx0XHRcdGVycm9yLm5hbWUgPSBcIklucHV0Rm9ybWF0RXJyb3JcIjtcblx0XHRcdGVycm9yLmxjX2Vycm9yX2NvZGUgPSBlLmxjX2Vycm9yX2NvZGU7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cdFx0cmV0dXJuIGZvcm1hdHRlZE1lc3NhZ2VzO1xuXHR9XG59O1xuLyoqXG4qIEFic3RyYWN0IGNsYXNzIHRoYXQgc2VydmVzIGFzIGEgYmFzZSBmb3IgY3JlYXRpbmcgbWVzc2FnZSBzdHJpbmcgcHJvbXB0XG4qIHRlbXBsYXRlcy4gSXQgZXh0ZW5kcyB0aGUgQmFzZU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZS5cbiovXG52YXIgQmFzZU1lc3NhZ2VTdHJpbmdQcm9tcHRUZW1wbGF0ZSA9IGNsYXNzIGV4dGVuZHMgQmFzZU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSB7XG5cdHByb21wdDtcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0aWYgKCEoXCJwcm9tcHRcIiBpbiBmaWVsZHMpKSBmaWVsZHMgPSB7IHByb21wdDogZmllbGRzIH07XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLnByb21wdCA9IGZpZWxkcy5wcm9tcHQ7XG5cdH1cblx0Z2V0IGlucHV0VmFyaWFibGVzKCkge1xuXHRcdHJldHVybiB0aGlzLnByb21wdC5pbnB1dFZhcmlhYmxlcztcblx0fVxuXHRhc3luYyBmb3JtYXRNZXNzYWdlcyh2YWx1ZXMpIHtcblx0XHRyZXR1cm4gW2F3YWl0IHRoaXMuZm9ybWF0KHZhbHVlcyldO1xuXHR9XG59O1xuLyoqXG4qIEFic3RyYWN0IGNsYXNzIHRoYXQgc2VydmVzIGFzIGEgYmFzZSBmb3IgY3JlYXRpbmcgY2hhdCBwcm9tcHRcbiogdGVtcGxhdGVzLiBJdCBleHRlbmRzIHRoZSBCYXNlUHJvbXB0VGVtcGxhdGUuXG4qL1xudmFyIEJhc2VDaGF0UHJvbXB0VGVtcGxhdGUgPSBjbGFzcyBleHRlbmRzIEJhc2VQcm9tcHRUZW1wbGF0ZSB7XG5cdGNvbnN0cnVjdG9yKGlucHV0KSB7XG5cdFx0c3VwZXIoaW5wdXQpO1xuXHR9XG5cdGFzeW5jIGZvcm1hdCh2YWx1ZXMpIHtcblx0XHRyZXR1cm4gKGF3YWl0IHRoaXMuZm9ybWF0UHJvbXB0VmFsdWUodmFsdWVzKSkudG9TdHJpbmcoKTtcblx0fVxuXHRhc3luYyBmb3JtYXRQcm9tcHRWYWx1ZSh2YWx1ZXMpIHtcblx0XHRjb25zdCByZXN1bHRNZXNzYWdlcyA9IGF3YWl0IHRoaXMuZm9ybWF0TWVzc2FnZXModmFsdWVzKTtcblx0XHRyZXR1cm4gbmV3IENoYXRQcm9tcHRWYWx1ZShyZXN1bHRNZXNzYWdlcyk7XG5cdH1cbn07XG4vKipcbiogQ2xhc3MgdGhhdCByZXByZXNlbnRzIGEgY2hhdCBtZXNzYWdlIHByb21wdCB0ZW1wbGF0ZS4gSXQgZXh0ZW5kcyB0aGVcbiogQmFzZU1lc3NhZ2VTdHJpbmdQcm9tcHRUZW1wbGF0ZS5cbiovXG52YXIgQ2hhdE1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSA9IGNsYXNzIGV4dGVuZHMgQmFzZU1lc3NhZ2VTdHJpbmdQcm9tcHRUZW1wbGF0ZSB7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIkNoYXRNZXNzYWdlUHJvbXB0VGVtcGxhdGVcIjtcblx0fVxuXHRyb2xlO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMsIHJvbGUpIHtcblx0XHRpZiAoIShcInByb21wdFwiIGluIGZpZWxkcykpIGZpZWxkcyA9IHtcblx0XHRcdHByb21wdDogZmllbGRzLFxuXHRcdFx0cm9sZVxuXHRcdH07XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLnJvbGUgPSBmaWVsZHMucm9sZTtcblx0fVxuXHRhc3luYyBmb3JtYXQodmFsdWVzKSB7XG5cdFx0cmV0dXJuIG5ldyBDaGF0TWVzc2FnZShhd2FpdCB0aGlzLnByb21wdC5mb3JtYXQodmFsdWVzKSwgdGhpcy5yb2xlKTtcblx0fVxuXHRzdGF0aWMgZnJvbVRlbXBsYXRlKHRlbXBsYXRlLCByb2xlLCBvcHRpb25zKSB7XG5cdFx0cmV0dXJuIG5ldyB0aGlzKFByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZSh0ZW1wbGF0ZSwgeyB0ZW1wbGF0ZUZvcm1hdDogb3B0aW9ucz8udGVtcGxhdGVGb3JtYXQgfSksIHJvbGUpO1xuXHR9XG59O1xuZnVuY3Rpb24gaXNUZXh0VGVtcGxhdGVQYXJhbShwYXJhbSkge1xuXHRpZiAocGFyYW0gPT09IG51bGwgfHwgdHlwZW9mIHBhcmFtICE9PSBcIm9iamVjdFwiIHx8IEFycmF5LmlzQXJyYXkocGFyYW0pKSByZXR1cm4gZmFsc2U7XG5cdHJldHVybiBPYmplY3Qua2V5cyhwYXJhbSkubGVuZ3RoID09PSAxICYmIFwidGV4dFwiIGluIHBhcmFtICYmIHR5cGVvZiBwYXJhbS50ZXh0ID09PSBcInN0cmluZ1wiO1xufVxuZnVuY3Rpb24gaXNJbWFnZVRlbXBsYXRlUGFyYW0ocGFyYW0pIHtcblx0aWYgKHBhcmFtID09PSBudWxsIHx8IHR5cGVvZiBwYXJhbSAhPT0gXCJvYmplY3RcIiB8fCBBcnJheS5pc0FycmF5KHBhcmFtKSkgcmV0dXJuIGZhbHNlO1xuXHRyZXR1cm4gXCJpbWFnZV91cmxcIiBpbiBwYXJhbSAmJiAodHlwZW9mIHBhcmFtLmltYWdlX3VybCA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgcGFyYW0uaW1hZ2VfdXJsID09PSBcIm9iamVjdFwiICYmIHBhcmFtLmltYWdlX3VybCAhPT0gbnVsbCAmJiBcInVybFwiIGluIHBhcmFtLmltYWdlX3VybCAmJiB0eXBlb2YgcGFyYW0uaW1hZ2VfdXJsLnVybCA9PT0gXCJzdHJpbmdcIik7XG59XG52YXIgX1N0cmluZ0ltYWdlTWVzc2FnZVByb21wdFRlbXBsYXRlID0gY2xhc3MgZXh0ZW5kcyBCYXNlTWVzc2FnZVByb21wdFRlbXBsYXRlIHtcblx0bGNfbmFtZXNwYWNlID0gW1xuXHRcdFwibGFuZ2NoYWluX2NvcmVcIixcblx0XHRcInByb21wdHNcIixcblx0XHRcImNoYXRcIlxuXHRdO1xuXHRsY19zZXJpYWxpemFibGUgPSB0cnVlO1xuXHRpbnB1dFZhcmlhYmxlcyA9IFtdO1xuXHRhZGRpdGlvbmFsT3B0aW9ucyA9IHt9O1xuXHRwcm9tcHQ7XG5cdG1lc3NhZ2VDbGFzcztcblx0c3RhdGljIF9tZXNzYWdlQ2xhc3MoKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiQ2FuIG5vdCBpbnZva2UgX21lc3NhZ2VDbGFzcyBmcm9tIGluc2lkZSBfU3RyaW5nSW1hZ2VNZXNzYWdlUHJvbXB0VGVtcGxhdGVcIik7XG5cdH1cblx0Y2hhdE1lc3NhZ2VDbGFzcztcblx0Y29uc3RydWN0b3IoZmllbGRzLCBhZGRpdGlvbmFsT3B0aW9ucykge1xuXHRcdGlmICghKFwicHJvbXB0XCIgaW4gZmllbGRzKSkgZmllbGRzID0geyBwcm9tcHQ6IGZpZWxkcyB9O1xuXHRcdHN1cGVyKGZpZWxkcyk7XG5cdFx0dGhpcy5wcm9tcHQgPSBmaWVsZHMucHJvbXB0O1xuXHRcdGlmIChBcnJheS5pc0FycmF5KHRoaXMucHJvbXB0KSkge1xuXHRcdFx0bGV0IGlucHV0VmFyaWFibGVzID0gW107XG5cdFx0XHR0aGlzLnByb21wdC5mb3JFYWNoKChwcm9tcHQpID0+IHtcblx0XHRcdFx0aWYgKFwiaW5wdXRWYXJpYWJsZXNcIiBpbiBwcm9tcHQpIGlucHV0VmFyaWFibGVzID0gaW5wdXRWYXJpYWJsZXMuY29uY2F0KHByb21wdC5pbnB1dFZhcmlhYmxlcyk7XG5cdFx0XHR9KTtcblx0XHRcdHRoaXMuaW5wdXRWYXJpYWJsZXMgPSBpbnB1dFZhcmlhYmxlcztcblx0XHR9IGVsc2UgdGhpcy5pbnB1dFZhcmlhYmxlcyA9IHRoaXMucHJvbXB0LmlucHV0VmFyaWFibGVzO1xuXHRcdHRoaXMuYWRkaXRpb25hbE9wdGlvbnMgPSBhZGRpdGlvbmFsT3B0aW9ucyA/PyB0aGlzLmFkZGl0aW9uYWxPcHRpb25zO1xuXHR9XG5cdGNyZWF0ZU1lc3NhZ2UoY29udGVudCkge1xuXHRcdGNvbnN0IGNvbnN0cnVjdG9yID0gdGhpcy5jb25zdHJ1Y3Rvcjtcblx0XHRpZiAoY29uc3RydWN0b3IuX21lc3NhZ2VDbGFzcygpKSB7XG5cdFx0XHRjb25zdCBNc2dDbGFzcyA9IGNvbnN0cnVjdG9yLl9tZXNzYWdlQ2xhc3MoKTtcblx0XHRcdHJldHVybiBuZXcgTXNnQ2xhc3MoeyBjb250ZW50IH0pO1xuXHRcdH0gZWxzZSBpZiAoY29uc3RydWN0b3IuY2hhdE1lc3NhZ2VDbGFzcykge1xuXHRcdFx0Y29uc3QgTXNnQ2xhc3MgPSBjb25zdHJ1Y3Rvci5jaGF0TWVzc2FnZUNsYXNzKCk7XG5cdFx0XHRyZXR1cm4gbmV3IE1zZ0NsYXNzKHtcblx0XHRcdFx0Y29udGVudCxcblx0XHRcdFx0cm9sZTogdGhpcy5nZXRSb2xlRnJvbU1lc3NhZ2VDbGFzcyhNc2dDbGFzcy5sY19uYW1lKCkpXG5cdFx0XHR9KTtcblx0XHR9IGVsc2UgdGhyb3cgbmV3IEVycm9yKFwiTm8gbWVzc2FnZSBjbGFzcyBkZWZpbmVkXCIpO1xuXHR9XG5cdGdldFJvbGVGcm9tTWVzc2FnZUNsYXNzKG5hbWUpIHtcblx0XHRzd2l0Y2ggKG5hbWUpIHtcblx0XHRcdGNhc2UgXCJIdW1hbk1lc3NhZ2VcIjogcmV0dXJuIFwiaHVtYW5cIjtcblx0XHRcdGNhc2UgXCJBSU1lc3NhZ2VcIjogcmV0dXJuIFwiYWlcIjtcblx0XHRcdGNhc2UgXCJTeXN0ZW1NZXNzYWdlXCI6IHJldHVybiBcInN5c3RlbVwiO1xuXHRcdFx0Y2FzZSBcIkNoYXRNZXNzYWdlXCI6IHJldHVybiBcImNoYXRcIjtcblx0XHRcdGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgbWVzc2FnZSBjbGFzcyBuYW1lXCIpO1xuXHRcdH1cblx0fVxuXHRzdGF0aWMgZnJvbVRlbXBsYXRlKHRlbXBsYXRlLCBhZGRpdGlvbmFsT3B0aW9ucykge1xuXHRcdGlmICh0eXBlb2YgdGVtcGxhdGUgPT09IFwic3RyaW5nXCIpIHJldHVybiBuZXcgdGhpcyhQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUodGVtcGxhdGUsIGFkZGl0aW9uYWxPcHRpb25zKSk7XG5cdFx0Y29uc3QgcHJvbXB0ID0gW107XG5cdFx0Zm9yIChjb25zdCBpdGVtIG9mIHRlbXBsYXRlKSBpZiAodHlwZW9mIGl0ZW0gPT09IFwic3RyaW5nXCIpIHByb21wdC5wdXNoKFByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZShpdGVtLCBhZGRpdGlvbmFsT3B0aW9ucykpO1xuXHRcdGVsc2UgaWYgKGl0ZW0gPT09IG51bGwpIHt9IGVsc2UgaWYgKGlzVGV4dFRlbXBsYXRlUGFyYW0oaXRlbSkpIHtcblx0XHRcdGxldCB0ZXh0ID0gXCJcIjtcblx0XHRcdGlmICh0eXBlb2YgaXRlbS50ZXh0ID09PSBcInN0cmluZ1wiKSB0ZXh0ID0gaXRlbS50ZXh0ID8/IFwiXCI7XG5cdFx0XHRjb25zdCBvcHRpb25zID0ge1xuXHRcdFx0XHQuLi5hZGRpdGlvbmFsT3B0aW9ucyxcblx0XHRcdFx0YWRkaXRpb25hbENvbnRlbnRGaWVsZHM6IGl0ZW1cblx0XHRcdH07XG5cdFx0XHRwcm9tcHQucHVzaChQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUodGV4dCwgb3B0aW9ucykpO1xuXHRcdH0gZWxzZSBpZiAoaXNJbWFnZVRlbXBsYXRlUGFyYW0oaXRlbSkpIHtcblx0XHRcdGxldCBpbWdUZW1wbGF0ZSA9IGl0ZW0uaW1hZ2VfdXJsID8/IFwiXCI7XG5cdFx0XHRsZXQgaW1nVGVtcGxhdGVPYmplY3Q7XG5cdFx0XHRsZXQgaW5wdXRWYXJpYWJsZXMgPSBbXTtcblx0XHRcdGlmICh0eXBlb2YgaW1nVGVtcGxhdGUgPT09IFwic3RyaW5nXCIpIHtcblx0XHRcdFx0bGV0IHBhcnNlZFRlbXBsYXRlO1xuXHRcdFx0XHRpZiAoYWRkaXRpb25hbE9wdGlvbnM/LnRlbXBsYXRlRm9ybWF0ID09PSBcIm11c3RhY2hlXCIpIHBhcnNlZFRlbXBsYXRlID0gcGFyc2VNdXN0YWNoZShpbWdUZW1wbGF0ZSk7XG5cdFx0XHRcdGVsc2UgcGFyc2VkVGVtcGxhdGUgPSBwYXJzZUZTdHJpbmcoaW1nVGVtcGxhdGUpO1xuXHRcdFx0XHRjb25zdCB2YXJpYWJsZXMgPSBwYXJzZWRUZW1wbGF0ZS5mbGF0TWFwKChpdGVtJDEpID0+IGl0ZW0kMS50eXBlID09PSBcInZhcmlhYmxlXCIgPyBbaXRlbSQxLm5hbWVdIDogW10pO1xuXHRcdFx0XHRpZiAoKHZhcmlhYmxlcz8ubGVuZ3RoID8/IDApID4gMCkge1xuXHRcdFx0XHRcdGlmICh2YXJpYWJsZXMubGVuZ3RoID4gMSkgdGhyb3cgbmV3IEVycm9yKGBPbmx5IG9uZSBmb3JtYXQgdmFyaWFibGUgYWxsb3dlZCBwZXIgaW1hZ2UgdGVtcGxhdGUuXFxuR290OiAke3ZhcmlhYmxlc31cXG5Gcm9tOiAke2ltZ1RlbXBsYXRlfWApO1xuXHRcdFx0XHRcdGlucHV0VmFyaWFibGVzID0gW3ZhcmlhYmxlc1swXV07XG5cdFx0XHRcdH0gZWxzZSBpbnB1dFZhcmlhYmxlcyA9IFtdO1xuXHRcdFx0XHRpbWdUZW1wbGF0ZSA9IHsgdXJsOiBpbWdUZW1wbGF0ZSB9O1xuXHRcdFx0XHRpbWdUZW1wbGF0ZU9iamVjdCA9IG5ldyBJbWFnZVByb21wdFRlbXBsYXRlKHtcblx0XHRcdFx0XHR0ZW1wbGF0ZTogaW1nVGVtcGxhdGUsXG5cdFx0XHRcdFx0aW5wdXRWYXJpYWJsZXMsXG5cdFx0XHRcdFx0dGVtcGxhdGVGb3JtYXQ6IGFkZGl0aW9uYWxPcHRpb25zPy50ZW1wbGF0ZUZvcm1hdCxcblx0XHRcdFx0XHRhZGRpdGlvbmFsQ29udGVudEZpZWxkczogaXRlbVxuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIGltZ1RlbXBsYXRlID09PSBcIm9iamVjdFwiKSB7XG5cdFx0XHRcdGlmIChcInVybFwiIGluIGltZ1RlbXBsYXRlKSB7XG5cdFx0XHRcdFx0bGV0IHBhcnNlZFRlbXBsYXRlO1xuXHRcdFx0XHRcdGlmIChhZGRpdGlvbmFsT3B0aW9ucz8udGVtcGxhdGVGb3JtYXQgPT09IFwibXVzdGFjaGVcIikgcGFyc2VkVGVtcGxhdGUgPSBwYXJzZU11c3RhY2hlKGltZ1RlbXBsYXRlLnVybCk7XG5cdFx0XHRcdFx0ZWxzZSBwYXJzZWRUZW1wbGF0ZSA9IHBhcnNlRlN0cmluZyhpbWdUZW1wbGF0ZS51cmwpO1xuXHRcdFx0XHRcdGlucHV0VmFyaWFibGVzID0gcGFyc2VkVGVtcGxhdGUuZmxhdE1hcCgoaXRlbSQxKSA9PiBpdGVtJDEudHlwZSA9PT0gXCJ2YXJpYWJsZVwiID8gW2l0ZW0kMS5uYW1lXSA6IFtdKTtcblx0XHRcdFx0fSBlbHNlIGlucHV0VmFyaWFibGVzID0gW107XG5cdFx0XHRcdGltZ1RlbXBsYXRlT2JqZWN0ID0gbmV3IEltYWdlUHJvbXB0VGVtcGxhdGUoe1xuXHRcdFx0XHRcdHRlbXBsYXRlOiBpbWdUZW1wbGF0ZSxcblx0XHRcdFx0XHRpbnB1dFZhcmlhYmxlcyxcblx0XHRcdFx0XHR0ZW1wbGF0ZUZvcm1hdDogYWRkaXRpb25hbE9wdGlvbnM/LnRlbXBsYXRlRm9ybWF0LFxuXHRcdFx0XHRcdGFkZGl0aW9uYWxDb250ZW50RmllbGRzOiBpdGVtXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaW1hZ2UgdGVtcGxhdGVcIik7XG5cdFx0XHRwcm9tcHQucHVzaChpbWdUZW1wbGF0ZU9iamVjdCk7XG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgaXRlbSA9PT0gXCJvYmplY3RcIikgcHJvbXB0LnB1c2gobmV3IERpY3RQcm9tcHRUZW1wbGF0ZSh7XG5cdFx0XHR0ZW1wbGF0ZTogaXRlbSxcblx0XHRcdHRlbXBsYXRlRm9ybWF0OiBhZGRpdGlvbmFsT3B0aW9ucz8udGVtcGxhdGVGb3JtYXRcblx0XHR9KSk7XG5cdFx0cmV0dXJuIG5ldyB0aGlzKHtcblx0XHRcdHByb21wdCxcblx0XHRcdGFkZGl0aW9uYWxPcHRpb25zXG5cdFx0fSk7XG5cdH1cblx0YXN5bmMgZm9ybWF0KGlucHV0KSB7XG5cdFx0aWYgKHRoaXMucHJvbXB0IGluc3RhbmNlb2YgQmFzZVN0cmluZ1Byb21wdFRlbXBsYXRlKSB7XG5cdFx0XHRjb25zdCB0ZXh0ID0gYXdhaXQgdGhpcy5wcm9tcHQuZm9ybWF0KGlucHV0KTtcblx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZU1lc3NhZ2UodGV4dCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnN0IGNvbnRlbnQgPSBbXTtcblx0XHRcdGZvciAoY29uc3QgcHJvbXB0IG9mIHRoaXMucHJvbXB0KSB7XG5cdFx0XHRcdGxldCBpbnB1dHMgPSB7fTtcblx0XHRcdFx0aWYgKCEoXCJpbnB1dFZhcmlhYmxlc1wiIGluIHByb21wdCkpIHRocm93IG5ldyBFcnJvcihgUHJvbXB0ICR7cHJvbXB0fSBkb2VzIG5vdCBoYXZlIGlucHV0VmFyaWFibGVzIGRlZmluZWQuYCk7XG5cdFx0XHRcdGZvciAoY29uc3QgaXRlbSBvZiBwcm9tcHQuaW5wdXRWYXJpYWJsZXMpIHtcblx0XHRcdFx0XHRpZiAoIWlucHV0cykgaW5wdXRzID0geyBbaXRlbV06IGlucHV0W2l0ZW1dIH07XG5cdFx0XHRcdFx0aW5wdXRzID0ge1xuXHRcdFx0XHRcdFx0Li4uaW5wdXRzLFxuXHRcdFx0XHRcdFx0W2l0ZW1dOiBpbnB1dFtpdGVtXVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHByb21wdCBpbnN0YW5jZW9mIEJhc2VTdHJpbmdQcm9tcHRUZW1wbGF0ZSkge1xuXHRcdFx0XHRcdGNvbnN0IGZvcm1hdHRlZCA9IGF3YWl0IHByb21wdC5mb3JtYXQoaW5wdXRzKTtcblx0XHRcdFx0XHRsZXQgYWRkaXRpb25hbENvbnRlbnRGaWVsZHM7XG5cdFx0XHRcdFx0aWYgKFwiYWRkaXRpb25hbENvbnRlbnRGaWVsZHNcIiBpbiBwcm9tcHQpIGFkZGl0aW9uYWxDb250ZW50RmllbGRzID0gcHJvbXB0LmFkZGl0aW9uYWxDb250ZW50RmllbGRzO1xuXHRcdFx0XHRcdGlmIChmb3JtYXR0ZWQgIT09IFwiXCIpIGNvbnRlbnQucHVzaCh7XG5cdFx0XHRcdFx0XHQuLi5hZGRpdGlvbmFsQ29udGVudEZpZWxkcyxcblx0XHRcdFx0XHRcdHR5cGU6IFwidGV4dFwiLFxuXHRcdFx0XHRcdFx0dGV4dDogZm9ybWF0dGVkXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0gZWxzZSBpZiAocHJvbXB0IGluc3RhbmNlb2YgSW1hZ2VQcm9tcHRUZW1wbGF0ZSkge1xuXHRcdFx0XHRcdGNvbnN0IGZvcm1hdHRlZCA9IGF3YWl0IHByb21wdC5mb3JtYXQoaW5wdXRzKTtcblx0XHRcdFx0XHRsZXQgYWRkaXRpb25hbENvbnRlbnRGaWVsZHM7XG5cdFx0XHRcdFx0aWYgKFwiYWRkaXRpb25hbENvbnRlbnRGaWVsZHNcIiBpbiBwcm9tcHQpIGFkZGl0aW9uYWxDb250ZW50RmllbGRzID0gcHJvbXB0LmFkZGl0aW9uYWxDb250ZW50RmllbGRzO1xuXHRcdFx0XHRcdGNvbnRlbnQucHVzaCh7XG5cdFx0XHRcdFx0XHQuLi5hZGRpdGlvbmFsQ29udGVudEZpZWxkcyxcblx0XHRcdFx0XHRcdHR5cGU6IFwiaW1hZ2VfdXJsXCIsXG5cdFx0XHRcdFx0XHRpbWFnZV91cmw6IGZvcm1hdHRlZFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHByb21wdCBpbnN0YW5jZW9mIERpY3RQcm9tcHRUZW1wbGF0ZSkge1xuXHRcdFx0XHRcdGNvbnN0IGZvcm1hdHRlZCA9IGF3YWl0IHByb21wdC5mb3JtYXQoaW5wdXRzKTtcblx0XHRcdFx0XHRsZXQgYWRkaXRpb25hbENvbnRlbnRGaWVsZHM7XG5cdFx0XHRcdFx0aWYgKFwiYWRkaXRpb25hbENvbnRlbnRGaWVsZHNcIiBpbiBwcm9tcHQpIGFkZGl0aW9uYWxDb250ZW50RmllbGRzID0gcHJvbXB0LmFkZGl0aW9uYWxDb250ZW50RmllbGRzO1xuXHRcdFx0XHRcdGNvbnRlbnQucHVzaCh7XG5cdFx0XHRcdFx0XHQuLi5hZGRpdGlvbmFsQ29udGVudEZpZWxkcyxcblx0XHRcdFx0XHRcdC4uLmZvcm1hdHRlZFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcy5jcmVhdGVNZXNzYWdlKGNvbnRlbnQpO1xuXHRcdH1cblx0fVxuXHRhc3luYyBmb3JtYXRNZXNzYWdlcyh2YWx1ZXMpIHtcblx0XHRyZXR1cm4gW2F3YWl0IHRoaXMuZm9ybWF0KHZhbHVlcyldO1xuXHR9XG59O1xuLyoqXG4qIENsYXNzIHRoYXQgcmVwcmVzZW50cyBhIGh1bWFuIG1lc3NhZ2UgcHJvbXB0IHRlbXBsYXRlLiBJdCBleHRlbmRzIHRoZVxuKiBCYXNlTWVzc2FnZVN0cmluZ1Byb21wdFRlbXBsYXRlLlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIGNvbnN0IG1lc3NhZ2UgPSBIdW1hbk1lc3NhZ2VQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUoXCJ7dGV4dH1cIik7XG4qIGNvbnN0IGZvcm1hdHRlZCA9IGF3YWl0IG1lc3NhZ2UuZm9ybWF0KHsgdGV4dDogXCJIZWxsbyB3b3JsZCFcIiB9KTtcbipcbiogY29uc3QgY2hhdFByb21wdCA9IENoYXRQcm9tcHRUZW1wbGF0ZS5mcm9tTWVzc2FnZXMoW21lc3NhZ2VdKTtcbiogY29uc3QgZm9ybWF0dGVkQ2hhdFByb21wdCA9IGF3YWl0IGNoYXRQcm9tcHQuaW52b2tlKHtcbiogICB0ZXh0OiBcIkhlbGxvIHdvcmxkIVwiLFxuKiB9KTtcbiogYGBgXG4qL1xudmFyIEh1bWFuTWVzc2FnZVByb21wdFRlbXBsYXRlID0gY2xhc3MgZXh0ZW5kcyBfU3RyaW5nSW1hZ2VNZXNzYWdlUHJvbXB0VGVtcGxhdGUge1xuXHRzdGF0aWMgX21lc3NhZ2VDbGFzcygpIHtcblx0XHRyZXR1cm4gSHVtYW5NZXNzYWdlO1xuXHR9XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIkh1bWFuTWVzc2FnZVByb21wdFRlbXBsYXRlXCI7XG5cdH1cbn07XG4vKipcbiogQ2xhc3MgdGhhdCByZXByZXNlbnRzIGFuIEFJIG1lc3NhZ2UgcHJvbXB0IHRlbXBsYXRlLiBJdCBleHRlbmRzIHRoZVxuKiBCYXNlTWVzc2FnZVN0cmluZ1Byb21wdFRlbXBsYXRlLlxuKi9cbnZhciBBSU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSA9IGNsYXNzIGV4dGVuZHMgX1N0cmluZ0ltYWdlTWVzc2FnZVByb21wdFRlbXBsYXRlIHtcblx0c3RhdGljIF9tZXNzYWdlQ2xhc3MoKSB7XG5cdFx0cmV0dXJuIEFJTWVzc2FnZTtcblx0fVxuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJBSU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZVwiO1xuXHR9XG59O1xuLyoqXG4qIENsYXNzIHRoYXQgcmVwcmVzZW50cyBhIHN5c3RlbSBtZXNzYWdlIHByb21wdCB0ZW1wbGF0ZS4gSXQgZXh0ZW5kcyB0aGVcbiogQmFzZU1lc3NhZ2VTdHJpbmdQcm9tcHRUZW1wbGF0ZS5cbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBtZXNzYWdlID0gU3lzdGVtTWVzc2FnZVByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZShcInt0ZXh0fVwiKTtcbiogY29uc3QgZm9ybWF0dGVkID0gYXdhaXQgbWVzc2FnZS5mb3JtYXQoeyB0ZXh0OiBcIkhlbGxvIHdvcmxkIVwiIH0pO1xuKlxuKiBjb25zdCBjaGF0UHJvbXB0ID0gQ2hhdFByb21wdFRlbXBsYXRlLmZyb21NZXNzYWdlcyhbbWVzc2FnZV0pO1xuKiBjb25zdCBmb3JtYXR0ZWRDaGF0UHJvbXB0ID0gYXdhaXQgY2hhdFByb21wdC5pbnZva2Uoe1xuKiAgIHRleHQ6IFwiSGVsbG8gd29ybGQhXCIsXG4qIH0pO1xuKiBgYGBcbiovXG52YXIgU3lzdGVtTWVzc2FnZVByb21wdFRlbXBsYXRlID0gY2xhc3MgZXh0ZW5kcyBfU3RyaW5nSW1hZ2VNZXNzYWdlUHJvbXB0VGVtcGxhdGUge1xuXHRzdGF0aWMgX21lc3NhZ2VDbGFzcygpIHtcblx0XHRyZXR1cm4gU3lzdGVtTWVzc2FnZTtcblx0fVxuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJTeXN0ZW1NZXNzYWdlUHJvbXB0VGVtcGxhdGVcIjtcblx0fVxufTtcbmZ1bmN0aW9uIF9pc0Jhc2VNZXNzYWdlUHJvbXB0VGVtcGxhdGUoYmFzZU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZUxpa2UpIHtcblx0cmV0dXJuIHR5cGVvZiBiYXNlTWVzc2FnZVByb21wdFRlbXBsYXRlTGlrZS5mb3JtYXRNZXNzYWdlcyA9PT0gXCJmdW5jdGlvblwiO1xufVxuZnVuY3Rpb24gX2NvZXJjZU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZUxpa2UobWVzc2FnZVByb21wdFRlbXBsYXRlTGlrZSwgZXh0cmEpIHtcblx0aWYgKF9pc0Jhc2VNZXNzYWdlUHJvbXB0VGVtcGxhdGUobWVzc2FnZVByb21wdFRlbXBsYXRlTGlrZSkgfHwgaXNCYXNlTWVzc2FnZShtZXNzYWdlUHJvbXB0VGVtcGxhdGVMaWtlKSkgcmV0dXJuIG1lc3NhZ2VQcm9tcHRUZW1wbGF0ZUxpa2U7XG5cdGlmIChBcnJheS5pc0FycmF5KG1lc3NhZ2VQcm9tcHRUZW1wbGF0ZUxpa2UpICYmIG1lc3NhZ2VQcm9tcHRUZW1wbGF0ZUxpa2VbMF0gPT09IFwicGxhY2Vob2xkZXJcIikge1xuXHRcdGNvbnN0IG1lc3NhZ2VDb250ZW50ID0gbWVzc2FnZVByb21wdFRlbXBsYXRlTGlrZVsxXTtcblx0XHRpZiAoZXh0cmE/LnRlbXBsYXRlRm9ybWF0ID09PSBcIm11c3RhY2hlXCIgJiYgdHlwZW9mIG1lc3NhZ2VDb250ZW50ID09PSBcInN0cmluZ1wiICYmIG1lc3NhZ2VDb250ZW50LnNsaWNlKDAsIDIpID09PSBcInt7XCIgJiYgbWVzc2FnZUNvbnRlbnQuc2xpY2UoLTIpID09PSBcIn19XCIpIHtcblx0XHRcdGNvbnN0IHZhcmlhYmxlTmFtZSA9IG1lc3NhZ2VDb250ZW50LnNsaWNlKDIsIC0yKTtcblx0XHRcdHJldHVybiBuZXcgTWVzc2FnZXNQbGFjZWhvbGRlcih7XG5cdFx0XHRcdHZhcmlhYmxlTmFtZSxcblx0XHRcdFx0b3B0aW9uYWw6IHRydWVcblx0XHRcdH0pO1xuXHRcdH0gZWxzZSBpZiAodHlwZW9mIG1lc3NhZ2VDb250ZW50ID09PSBcInN0cmluZ1wiICYmIG1lc3NhZ2VDb250ZW50WzBdID09PSBcIntcIiAmJiBtZXNzYWdlQ29udGVudFttZXNzYWdlQ29udGVudC5sZW5ndGggLSAxXSA9PT0gXCJ9XCIpIHtcblx0XHRcdGNvbnN0IHZhcmlhYmxlTmFtZSA9IG1lc3NhZ2VDb250ZW50LnNsaWNlKDEsIC0xKTtcblx0XHRcdHJldHVybiBuZXcgTWVzc2FnZXNQbGFjZWhvbGRlcih7XG5cdFx0XHRcdHZhcmlhYmxlTmFtZSxcblx0XHRcdFx0b3B0aW9uYWw6IHRydWVcblx0XHRcdH0pO1xuXHRcdH1cblx0XHR0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgcGxhY2Vob2xkZXIgdGVtcGxhdGUgZm9yIGZvcm1hdCAke2V4dHJhPy50ZW1wbGF0ZUZvcm1hdCA/PyBgXCJmLXN0cmluZ1wiYH06IFwiJHttZXNzYWdlUHJvbXB0VGVtcGxhdGVMaWtlWzFdfVwiLiBFeHBlY3RlZCBhIHZhcmlhYmxlIG5hbWUgc3Vycm91bmRlZCBieSAke2V4dHJhPy50ZW1wbGF0ZUZvcm1hdCA9PT0gXCJtdXN0YWNoZVwiID8gXCJkb3VibGVcIiA6IFwic2luZ2xlXCJ9IGN1cmx5IGJyYWNlcy5gKTtcblx0fVxuXHRjb25zdCBtZXNzYWdlID0gY29lcmNlTWVzc2FnZUxpa2VUb01lc3NhZ2UobWVzc2FnZVByb21wdFRlbXBsYXRlTGlrZSk7XG5cdGxldCB0ZW1wbGF0ZURhdGE7XG5cdGlmICh0eXBlb2YgbWVzc2FnZS5jb250ZW50ID09PSBcInN0cmluZ1wiKSB0ZW1wbGF0ZURhdGEgPSBtZXNzYWdlLmNvbnRlbnQ7XG5cdGVsc2UgdGVtcGxhdGVEYXRhID0gbWVzc2FnZS5jb250ZW50Lm1hcCgoaXRlbSkgPT4ge1xuXHRcdGlmIChcInRleHRcIiBpbiBpdGVtKSByZXR1cm4ge1xuXHRcdFx0Li4uaXRlbSxcblx0XHRcdHRleHQ6IGl0ZW0udGV4dFxuXHRcdH07XG5cdFx0ZWxzZSBpZiAoXCJpbWFnZV91cmxcIiBpbiBpdGVtKSByZXR1cm4ge1xuXHRcdFx0Li4uaXRlbSxcblx0XHRcdGltYWdlX3VybDogaXRlbS5pbWFnZV91cmxcblx0XHR9O1xuXHRcdGVsc2UgcmV0dXJuIGl0ZW07XG5cdH0pO1xuXHRpZiAobWVzc2FnZS5fZ2V0VHlwZSgpID09PSBcImh1bWFuXCIpIHJldHVybiBIdW1hbk1lc3NhZ2VQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUodGVtcGxhdGVEYXRhLCBleHRyYSk7XG5cdGVsc2UgaWYgKG1lc3NhZ2UuX2dldFR5cGUoKSA9PT0gXCJhaVwiKSByZXR1cm4gQUlNZXNzYWdlUHJvbXB0VGVtcGxhdGUuZnJvbVRlbXBsYXRlKHRlbXBsYXRlRGF0YSwgZXh0cmEpO1xuXHRlbHNlIGlmIChtZXNzYWdlLl9nZXRUeXBlKCkgPT09IFwic3lzdGVtXCIpIHJldHVybiBTeXN0ZW1NZXNzYWdlUHJvbXB0VGVtcGxhdGUuZnJvbVRlbXBsYXRlKHRlbXBsYXRlRGF0YSwgZXh0cmEpO1xuXHRlbHNlIGlmIChDaGF0TWVzc2FnZS5pc0luc3RhbmNlKG1lc3NhZ2UpKSByZXR1cm4gQ2hhdE1lc3NhZ2VQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUobWVzc2FnZS5jb250ZW50LCBtZXNzYWdlLnJvbGUsIGV4dHJhKTtcblx0ZWxzZSB0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBjb2VyY2UgbWVzc2FnZSBwcm9tcHQgdGVtcGxhdGUgZnJvbSBpbnB1dC4gUmVjZWl2ZWQgbWVzc2FnZSB0eXBlOiBcIiR7bWVzc2FnZS5fZ2V0VHlwZSgpfVwiLmApO1xufVxuZnVuY3Rpb24gaXNNZXNzYWdlc1BsYWNlaG9sZGVyKHgpIHtcblx0cmV0dXJuIHguY29uc3RydWN0b3IubGNfbmFtZSgpID09PSBcIk1lc3NhZ2VzUGxhY2Vob2xkZXJcIjtcbn1cbi8qKlxuKiBDbGFzcyB0aGF0IHJlcHJlc2VudHMgYSBjaGF0IHByb21wdC4gSXQgZXh0ZW5kcyB0aGVcbiogQmFzZUNoYXRQcm9tcHRUZW1wbGF0ZSBhbmQgdXNlcyBhbiBhcnJheSBvZiBCYXNlTWVzc2FnZVByb21wdFRlbXBsYXRlXG4qIGluc3RhbmNlcyB0byBmb3JtYXQgYSBzZXJpZXMgb2YgbWVzc2FnZXMgZm9yIGEgY29udmVyc2F0aW9uLlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIGNvbnN0IG1lc3NhZ2UgPSBTeXN0ZW1NZXNzYWdlUHJvbXB0VGVtcGxhdGUuZnJvbVRlbXBsYXRlKFwie3RleHR9XCIpO1xuKiBjb25zdCBjaGF0UHJvbXB0ID0gQ2hhdFByb21wdFRlbXBsYXRlLmZyb21NZXNzYWdlcyhbXG4qICAgW1wiYWlcIiwgXCJZb3UgYXJlIGEgaGVscGZ1bCBhc3Npc3RhbnQuXCJdLFxuKiAgIG1lc3NhZ2UsXG4qIF0pO1xuKiBjb25zdCBmb3JtYXR0ZWRDaGF0UHJvbXB0ID0gYXdhaXQgY2hhdFByb21wdC5pbnZva2Uoe1xuKiAgIHRleHQ6IFwiSGVsbG8gd29ybGQhXCIsXG4qIH0pO1xuKiBgYGBcbiovXG52YXIgQ2hhdFByb21wdFRlbXBsYXRlID0gY2xhc3MgQ2hhdFByb21wdFRlbXBsYXRlIGV4dGVuZHMgQmFzZUNoYXRQcm9tcHRUZW1wbGF0ZSB7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIkNoYXRQcm9tcHRUZW1wbGF0ZVwiO1xuXHR9XG5cdGdldCBsY19hbGlhc2VzKCkge1xuXHRcdHJldHVybiB7IHByb21wdE1lc3NhZ2VzOiBcIm1lc3NhZ2VzXCIgfTtcblx0fVxuXHRwcm9tcHRNZXNzYWdlcztcblx0dmFsaWRhdGVUZW1wbGF0ZSA9IHRydWU7XG5cdHRlbXBsYXRlRm9ybWF0ID0gXCJmLXN0cmluZ1wiO1xuXHRjb25zdHJ1Y3RvcihpbnB1dCkge1xuXHRcdHN1cGVyKGlucHV0KTtcblx0XHRpZiAoaW5wdXQudGVtcGxhdGVGb3JtYXQgPT09IFwibXVzdGFjaGVcIiAmJiBpbnB1dC52YWxpZGF0ZVRlbXBsYXRlID09PSB2b2lkIDApIHRoaXMudmFsaWRhdGVUZW1wbGF0ZSA9IGZhbHNlO1xuXHRcdE9iamVjdC5hc3NpZ24odGhpcywgaW5wdXQpO1xuXHRcdGlmICh0aGlzLnZhbGlkYXRlVGVtcGxhdGUpIHtcblx0XHRcdGNvbnN0IGlucHV0VmFyaWFibGVzTWVzc2FnZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuXHRcdFx0Zm9yIChjb25zdCBwcm9tcHRNZXNzYWdlIG9mIHRoaXMucHJvbXB0TWVzc2FnZXMpIHtcblx0XHRcdFx0aWYgKHByb21wdE1lc3NhZ2UgaW5zdGFuY2VvZiBCYXNlTWVzc2FnZSkgY29udGludWU7XG5cdFx0XHRcdGZvciAoY29uc3QgaW5wdXRWYXJpYWJsZSBvZiBwcm9tcHRNZXNzYWdlLmlucHV0VmFyaWFibGVzKSBpbnB1dFZhcmlhYmxlc01lc3NhZ2VzLmFkZChpbnB1dFZhcmlhYmxlKTtcblx0XHRcdH1cblx0XHRcdGNvbnN0IHRvdGFsSW5wdXRWYXJpYWJsZXMgPSB0aGlzLmlucHV0VmFyaWFibGVzO1xuXHRcdFx0Y29uc3QgaW5wdXRWYXJpYWJsZXNJbnN0YW5jZSA9IG5ldyBTZXQodGhpcy5wYXJ0aWFsVmFyaWFibGVzID8gdG90YWxJbnB1dFZhcmlhYmxlcy5jb25jYXQoT2JqZWN0LmtleXModGhpcy5wYXJ0aWFsVmFyaWFibGVzKSkgOiB0b3RhbElucHV0VmFyaWFibGVzKTtcblx0XHRcdGNvbnN0IGRpZmZlcmVuY2UgPSBuZXcgU2V0KFsuLi5pbnB1dFZhcmlhYmxlc0luc3RhbmNlXS5maWx0ZXIoKHgpID0+ICFpbnB1dFZhcmlhYmxlc01lc3NhZ2VzLmhhcyh4KSkpO1xuXHRcdFx0aWYgKGRpZmZlcmVuY2Uuc2l6ZSA+IDApIHRocm93IG5ldyBFcnJvcihgSW5wdXQgdmFyaWFibGVzIFxcYCR7Wy4uLmRpZmZlcmVuY2VdfVxcYCBhcmUgbm90IHVzZWQgaW4gYW55IG9mIHRoZSBwcm9tcHQgbWVzc2FnZXMuYCk7XG5cdFx0XHRjb25zdCBvdGhlckRpZmZlcmVuY2UgPSBuZXcgU2V0KFsuLi5pbnB1dFZhcmlhYmxlc01lc3NhZ2VzXS5maWx0ZXIoKHgpID0+ICFpbnB1dFZhcmlhYmxlc0luc3RhbmNlLmhhcyh4KSkpO1xuXHRcdFx0aWYgKG90aGVyRGlmZmVyZW5jZS5zaXplID4gMCkgdGhyb3cgbmV3IEVycm9yKGBJbnB1dCB2YXJpYWJsZXMgXFxgJHtbLi4ub3RoZXJEaWZmZXJlbmNlXX1cXGAgYXJlIHVzZWQgaW4gcHJvbXB0IG1lc3NhZ2VzIGJ1dCBub3QgaW4gdGhlIHByb21wdCB0ZW1wbGF0ZS5gKTtcblx0XHR9XG5cdH1cblx0X2dldFByb21wdFR5cGUoKSB7XG5cdFx0cmV0dXJuIFwiY2hhdFwiO1xuXHR9XG5cdGFzeW5jIF9wYXJzZUltYWdlUHJvbXB0cyhtZXNzYWdlLCBpbnB1dFZhbHVlcykge1xuXHRcdGlmICh0eXBlb2YgbWVzc2FnZS5jb250ZW50ID09PSBcInN0cmluZ1wiKSByZXR1cm4gbWVzc2FnZTtcblx0XHRjb25zdCBmb3JtYXR0ZWRNZXNzYWdlQ29udGVudCA9IGF3YWl0IFByb21pc2UuYWxsKG1lc3NhZ2UuY29udGVudC5tYXAoYXN5bmMgKGl0ZW0pID0+IHtcblx0XHRcdGlmIChpdGVtLnR5cGUgIT09IFwiaW1hZ2VfdXJsXCIpIHJldHVybiBpdGVtO1xuXHRcdFx0bGV0IGltYWdlVXJsID0gXCJcIjtcblx0XHRcdGlmICh0eXBlb2YgaXRlbS5pbWFnZV91cmwgPT09IFwic3RyaW5nXCIpIGltYWdlVXJsID0gaXRlbS5pbWFnZV91cmw7XG5cdFx0XHRlbHNlIGlmICh0eXBlb2YgaXRlbS5pbWFnZV91cmwgPT09IFwib2JqZWN0XCIgJiYgaXRlbS5pbWFnZV91cmwgIT09IG51bGwgJiYgXCJ1cmxcIiBpbiBpdGVtLmltYWdlX3VybCAmJiB0eXBlb2YgaXRlbS5pbWFnZV91cmwudXJsID09PSBcInN0cmluZ1wiKSBpbWFnZVVybCA9IGl0ZW0uaW1hZ2VfdXJsLnVybDtcblx0XHRcdGNvbnN0IHByb21wdFRlbXBsYXRlUGxhY2Vob2xkZXIgPSBQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUoaW1hZ2VVcmwsIHsgdGVtcGxhdGVGb3JtYXQ6IHRoaXMudGVtcGxhdGVGb3JtYXQgfSk7XG5cdFx0XHRjb25zdCBmb3JtYXR0ZWRVcmwgPSBhd2FpdCBwcm9tcHRUZW1wbGF0ZVBsYWNlaG9sZGVyLmZvcm1hdChpbnB1dFZhbHVlcyk7XG5cdFx0XHRpZiAodHlwZW9mIGl0ZW0uaW1hZ2VfdXJsID09PSBcIm9iamVjdFwiICYmIGl0ZW0uaW1hZ2VfdXJsICE9PSBudWxsICYmIFwidXJsXCIgaW4gaXRlbS5pbWFnZV91cmwpIGl0ZW0uaW1hZ2VfdXJsLnVybCA9IGZvcm1hdHRlZFVybDtcblx0XHRcdGVsc2UgaXRlbS5pbWFnZV91cmwgPSBmb3JtYXR0ZWRVcmw7XG5cdFx0XHRyZXR1cm4gaXRlbTtcblx0XHR9KSk7XG5cdFx0bWVzc2FnZS5jb250ZW50ID0gZm9ybWF0dGVkTWVzc2FnZUNvbnRlbnQ7XG5cdFx0cmV0dXJuIG1lc3NhZ2U7XG5cdH1cblx0YXN5bmMgZm9ybWF0TWVzc2FnZXModmFsdWVzKSB7XG5cdFx0Y29uc3QgYWxsVmFsdWVzID0gYXdhaXQgdGhpcy5tZXJnZVBhcnRpYWxBbmRVc2VyVmFyaWFibGVzKHZhbHVlcyk7XG5cdFx0bGV0IHJlc3VsdE1lc3NhZ2VzID0gW107XG5cdFx0Zm9yIChjb25zdCBwcm9tcHRNZXNzYWdlIG9mIHRoaXMucHJvbXB0TWVzc2FnZXMpIGlmIChwcm9tcHRNZXNzYWdlIGluc3RhbmNlb2YgQmFzZU1lc3NhZ2UpIHJlc3VsdE1lc3NhZ2VzLnB1c2goYXdhaXQgdGhpcy5fcGFyc2VJbWFnZVByb21wdHMocHJvbXB0TWVzc2FnZSwgYWxsVmFsdWVzKSk7XG5cdFx0ZWxzZSB7XG5cdFx0XHRsZXQgaW5wdXRWYWx1ZXM7XG5cdFx0XHRpZiAodGhpcy50ZW1wbGF0ZUZvcm1hdCA9PT0gXCJtdXN0YWNoZVwiKSBpbnB1dFZhbHVlcyA9IHsgLi4uYWxsVmFsdWVzIH07XG5cdFx0XHRlbHNlIGlucHV0VmFsdWVzID0gcHJvbXB0TWVzc2FnZS5pbnB1dFZhcmlhYmxlcy5yZWR1Y2UoKGFjYywgaW5wdXRWYXJpYWJsZSkgPT4ge1xuXHRcdFx0XHRpZiAoIShpbnB1dFZhcmlhYmxlIGluIGFsbFZhbHVlcykgJiYgIShpc01lc3NhZ2VzUGxhY2Vob2xkZXIocHJvbXB0TWVzc2FnZSkgJiYgcHJvbXB0TWVzc2FnZS5vcHRpb25hbCkpIHtcblx0XHRcdFx0XHRjb25zdCBlcnJvciA9IGFkZExhbmdDaGFpbkVycm9yRmllbGRzKC8qIEBfX1BVUkVfXyAqLyBuZXcgRXJyb3IoYE1pc3NpbmcgdmFsdWUgZm9yIGlucHV0IHZhcmlhYmxlIFxcYCR7aW5wdXRWYXJpYWJsZS50b1N0cmluZygpfVxcYGApLCBcIklOVkFMSURfUFJPTVBUX0lOUFVUXCIpO1xuXHRcdFx0XHRcdHRocm93IGVycm9yO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGFjY1tpbnB1dFZhcmlhYmxlXSA9IGFsbFZhbHVlc1tpbnB1dFZhcmlhYmxlXTtcblx0XHRcdFx0cmV0dXJuIGFjYztcblx0XHRcdH0sIHt9KTtcblx0XHRcdGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCBwcm9tcHRNZXNzYWdlLmZvcm1hdE1lc3NhZ2VzKGlucHV0VmFsdWVzKTtcblx0XHRcdHJlc3VsdE1lc3NhZ2VzID0gcmVzdWx0TWVzc2FnZXMuY29uY2F0KG1lc3NhZ2UpO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0TWVzc2FnZXM7XG5cdH1cblx0YXN5bmMgcGFydGlhbCh2YWx1ZXMpIHtcblx0XHRjb25zdCBuZXdJbnB1dFZhcmlhYmxlcyA9IHRoaXMuaW5wdXRWYXJpYWJsZXMuZmlsdGVyKChpdikgPT4gIShpdiBpbiB2YWx1ZXMpKTtcblx0XHRjb25zdCBuZXdQYXJ0aWFsVmFyaWFibGVzID0ge1xuXHRcdFx0Li4udGhpcy5wYXJ0aWFsVmFyaWFibGVzID8/IHt9LFxuXHRcdFx0Li4udmFsdWVzXG5cdFx0fTtcblx0XHRjb25zdCBwcm9tcHREaWN0ID0ge1xuXHRcdFx0Li4udGhpcyxcblx0XHRcdGlucHV0VmFyaWFibGVzOiBuZXdJbnB1dFZhcmlhYmxlcyxcblx0XHRcdHBhcnRpYWxWYXJpYWJsZXM6IG5ld1BhcnRpYWxWYXJpYWJsZXNcblx0XHR9O1xuXHRcdHJldHVybiBuZXcgQ2hhdFByb21wdFRlbXBsYXRlKHByb21wdERpY3QpO1xuXHR9XG5cdHN0YXRpYyBmcm9tVGVtcGxhdGUodGVtcGxhdGUsIG9wdGlvbnMpIHtcblx0XHRjb25zdCBwcm9tcHQgPSBQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUodGVtcGxhdGUsIG9wdGlvbnMpO1xuXHRcdGNvbnN0IGh1bWFuVGVtcGxhdGUgPSBuZXcgSHVtYW5NZXNzYWdlUHJvbXB0VGVtcGxhdGUoeyBwcm9tcHQgfSk7XG5cdFx0cmV0dXJuIHRoaXMuZnJvbU1lc3NhZ2VzKFtodW1hblRlbXBsYXRlXSk7XG5cdH1cblx0LyoqXG5cdCogQ3JlYXRlIGEgY2hhdCBtb2RlbC1zcGVjaWZpYyBwcm9tcHQgZnJvbSBpbmRpdmlkdWFsIGNoYXQgbWVzc2FnZXNcblx0KiBvciBtZXNzYWdlLWxpa2UgdHVwbGVzLlxuXHQqIEBwYXJhbSBwcm9tcHRNZXNzYWdlcyBNZXNzYWdlcyB0byBiZSBwYXNzZWQgdG8gdGhlIGNoYXQgbW9kZWxcblx0KiBAcmV0dXJucyBBIG5ldyBDaGF0UHJvbXB0VGVtcGxhdGVcblx0Ki9cblx0c3RhdGljIGZyb21NZXNzYWdlcyhwcm9tcHRNZXNzYWdlcywgZXh0cmEpIHtcblx0XHRjb25zdCBmbGF0dGVuZWRNZXNzYWdlcyA9IHByb21wdE1lc3NhZ2VzLnJlZHVjZSgoYWNjLCBwcm9tcHRNZXNzYWdlKSA9PiBhY2MuY29uY2F0KHByb21wdE1lc3NhZ2UgaW5zdGFuY2VvZiBDaGF0UHJvbXB0VGVtcGxhdGUgPyBwcm9tcHRNZXNzYWdlLnByb21wdE1lc3NhZ2VzIDogW19jb2VyY2VNZXNzYWdlUHJvbXB0VGVtcGxhdGVMaWtlKHByb21wdE1lc3NhZ2UsIGV4dHJhKV0pLCBbXSk7XG5cdFx0Y29uc3QgZmxhdHRlbmVkUGFydGlhbFZhcmlhYmxlcyA9IHByb21wdE1lc3NhZ2VzLnJlZHVjZSgoYWNjLCBwcm9tcHRNZXNzYWdlKSA9PiBwcm9tcHRNZXNzYWdlIGluc3RhbmNlb2YgQ2hhdFByb21wdFRlbXBsYXRlID8gT2JqZWN0LmFzc2lnbihhY2MsIHByb21wdE1lc3NhZ2UucGFydGlhbFZhcmlhYmxlcykgOiBhY2MsIE9iamVjdC5jcmVhdGUobnVsbCkpO1xuXHRcdGNvbnN0IGlucHV0VmFyaWFibGVzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcblx0XHRmb3IgKGNvbnN0IHByb21wdE1lc3NhZ2Ugb2YgZmxhdHRlbmVkTWVzc2FnZXMpIHtcblx0XHRcdGlmIChwcm9tcHRNZXNzYWdlIGluc3RhbmNlb2YgQmFzZU1lc3NhZ2UpIGNvbnRpbnVlO1xuXHRcdFx0Zm9yIChjb25zdCBpbnB1dFZhcmlhYmxlIG9mIHByb21wdE1lc3NhZ2UuaW5wdXRWYXJpYWJsZXMpIHtcblx0XHRcdFx0aWYgKGlucHV0VmFyaWFibGUgaW4gZmxhdHRlbmVkUGFydGlhbFZhcmlhYmxlcykgY29udGludWU7XG5cdFx0XHRcdGlucHV0VmFyaWFibGVzLmFkZChpbnB1dFZhcmlhYmxlKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG5ldyB0aGlzKHtcblx0XHRcdC4uLmV4dHJhLFxuXHRcdFx0aW5wdXRWYXJpYWJsZXM6IFsuLi5pbnB1dFZhcmlhYmxlc10sXG5cdFx0XHRwcm9tcHRNZXNzYWdlczogZmxhdHRlbmVkTWVzc2FnZXMsXG5cdFx0XHRwYXJ0aWFsVmFyaWFibGVzOiBmbGF0dGVuZWRQYXJ0aWFsVmFyaWFibGVzLFxuXHRcdFx0dGVtcGxhdGVGb3JtYXQ6IGV4dHJhPy50ZW1wbGF0ZUZvcm1hdFxuXHRcdH0pO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEFJTWVzc2FnZVByb21wdFRlbXBsYXRlLCBCYXNlQ2hhdFByb21wdFRlbXBsYXRlLCBCYXNlTWVzc2FnZVByb21wdFRlbXBsYXRlLCBCYXNlTWVzc2FnZVN0cmluZ1Byb21wdFRlbXBsYXRlLCBDaGF0TWVzc2FnZVByb21wdFRlbXBsYXRlLCBDaGF0UHJvbXB0VGVtcGxhdGUsIEh1bWFuTWVzc2FnZVByb21wdFRlbXBsYXRlLCBNZXNzYWdlc1BsYWNlaG9sZGVyLCBTeXN0ZW1NZXNzYWdlUHJvbXB0VGVtcGxhdGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoYXQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/chat.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/dict.js":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/dict.js ***!
  \****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DictPromptTemplate: () => (/* binding */ DictPromptTemplate)\n/* harmony export */ });\n/* harmony import */ var _runnables_base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../runnables/base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/base.js\");\n/* harmony import */ var _template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./template.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/template.js\");\n\n\n\n//#region src/prompts/dict.ts\nvar DictPromptTemplate = class extends _runnables_base_js__WEBPACK_IMPORTED_MODULE_0__.Runnable {\n\tlc_namespace = [\n\t\t\"langchain_core\",\n\t\t\"prompts\",\n\t\t\"dict\"\n\t];\n\tlc_serializable = true;\n\ttemplate;\n\ttemplateFormat;\n\tinputVariables;\n\tstatic lc_name() {\n\t\treturn \"DictPromptTemplate\";\n\t}\n\tconstructor(fields) {\n\t\tconst templateFormat = fields.templateFormat ?? \"f-string\";\n\t\tconst inputVariables = _getInputVariables(fields.template, templateFormat);\n\t\tsuper({\n\t\t\tinputVariables,\n\t\t\t...fields\n\t\t});\n\t\tthis.template = fields.template;\n\t\tthis.templateFormat = templateFormat;\n\t\tthis.inputVariables = inputVariables;\n\t}\n\tasync format(values) {\n\t\treturn _insertInputVariables(this.template, values, this.templateFormat);\n\t}\n\tasync invoke(values) {\n\t\treturn await this._callWithConfig(this.format.bind(this), values, { runType: \"prompt\" });\n\t}\n};\nfunction _getInputVariables(template, templateFormat) {\n\tconst inputVariables = [];\n\tfor (const v of Object.values(template)) if (typeof v === \"string\") (0,_template_js__WEBPACK_IMPORTED_MODULE_1__.parseTemplate)(v, templateFormat).forEach((t) => {\n\t\tif (t.type === \"variable\") inputVariables.push(t.name);\n\t});\n\telse if (Array.isArray(v)) {\n\t\tfor (const x of v) if (typeof x === \"string\") (0,_template_js__WEBPACK_IMPORTED_MODULE_1__.parseTemplate)(x, templateFormat).forEach((t) => {\n\t\t\tif (t.type === \"variable\") inputVariables.push(t.name);\n\t\t});\n\t\telse if (typeof x === \"object\") inputVariables.push(..._getInputVariables(x, templateFormat));\n\t} else if (typeof v === \"object\" && v !== null) inputVariables.push(..._getInputVariables(v, templateFormat));\n\treturn Array.from(new Set(inputVariables));\n}\nfunction _insertInputVariables(template, inputs, templateFormat) {\n\tconst formatted = {};\n\tfor (const [k, v] of Object.entries(template)) if (typeof v === \"string\") formatted[k] = (0,_template_js__WEBPACK_IMPORTED_MODULE_1__.renderTemplate)(v, templateFormat, inputs);\n\telse if (Array.isArray(v)) {\n\t\tconst formattedV = [];\n\t\tfor (const x of v) if (typeof x === \"string\") formattedV.push((0,_template_js__WEBPACK_IMPORTED_MODULE_1__.renderTemplate)(x, templateFormat, inputs));\n\t\telse if (typeof x === \"object\") formattedV.push(_insertInputVariables(x, inputs, templateFormat));\n\t\tformatted[k] = formattedV;\n\t} else if (typeof v === \"object\" && v !== null) formatted[k] = _insertInputVariables(v, inputs, templateFormat);\n\telse formatted[k] = v;\n\treturn formatted;\n}\n\n//#endregion\n\n//# sourceMappingURL=dict.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9wcm9tcHRzL2RpY3QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdEO0FBQ2M7O0FBRTlEO0FBQ0EsdUNBQXVDLHdEQUFRO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0VBQXNFLG1CQUFtQjtBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSwyREFBYTtBQUNsRjtBQUNBLEVBQUU7QUFDRjtBQUNBLGdEQUFnRCwyREFBYTtBQUM3RDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBGQUEwRiw0REFBYztBQUN4RztBQUNBO0FBQ0EsZ0VBQWdFLDREQUFjO0FBQzlFO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQzhCO0FBQzlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9wcm9tcHRzL2RpY3QuanM/MjRkMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSdW5uYWJsZSB9IGZyb20gXCIuLi9ydW5uYWJsZXMvYmFzZS5qc1wiO1xuaW1wb3J0IHsgcGFyc2VUZW1wbGF0ZSwgcmVuZGVyVGVtcGxhdGUgfSBmcm9tIFwiLi90ZW1wbGF0ZS5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3Byb21wdHMvZGljdC50c1xudmFyIERpY3RQcm9tcHRUZW1wbGF0ZSA9IGNsYXNzIGV4dGVuZHMgUnVubmFibGUge1xuXHRsY19uYW1lc3BhY2UgPSBbXG5cdFx0XCJsYW5nY2hhaW5fY29yZVwiLFxuXHRcdFwicHJvbXB0c1wiLFxuXHRcdFwiZGljdFwiXG5cdF07XG5cdGxjX3NlcmlhbGl6YWJsZSA9IHRydWU7XG5cdHRlbXBsYXRlO1xuXHR0ZW1wbGF0ZUZvcm1hdDtcblx0aW5wdXRWYXJpYWJsZXM7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIkRpY3RQcm9tcHRUZW1wbGF0ZVwiO1xuXHR9XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdGNvbnN0IHRlbXBsYXRlRm9ybWF0ID0gZmllbGRzLnRlbXBsYXRlRm9ybWF0ID8/IFwiZi1zdHJpbmdcIjtcblx0XHRjb25zdCBpbnB1dFZhcmlhYmxlcyA9IF9nZXRJbnB1dFZhcmlhYmxlcyhmaWVsZHMudGVtcGxhdGUsIHRlbXBsYXRlRm9ybWF0KTtcblx0XHRzdXBlcih7XG5cdFx0XHRpbnB1dFZhcmlhYmxlcyxcblx0XHRcdC4uLmZpZWxkc1xuXHRcdH0pO1xuXHRcdHRoaXMudGVtcGxhdGUgPSBmaWVsZHMudGVtcGxhdGU7XG5cdFx0dGhpcy50ZW1wbGF0ZUZvcm1hdCA9IHRlbXBsYXRlRm9ybWF0O1xuXHRcdHRoaXMuaW5wdXRWYXJpYWJsZXMgPSBpbnB1dFZhcmlhYmxlcztcblx0fVxuXHRhc3luYyBmb3JtYXQodmFsdWVzKSB7XG5cdFx0cmV0dXJuIF9pbnNlcnRJbnB1dFZhcmlhYmxlcyh0aGlzLnRlbXBsYXRlLCB2YWx1ZXMsIHRoaXMudGVtcGxhdGVGb3JtYXQpO1xuXHR9XG5cdGFzeW5jIGludm9rZSh2YWx1ZXMpIHtcblx0XHRyZXR1cm4gYXdhaXQgdGhpcy5fY2FsbFdpdGhDb25maWcodGhpcy5mb3JtYXQuYmluZCh0aGlzKSwgdmFsdWVzLCB7IHJ1blR5cGU6IFwicHJvbXB0XCIgfSk7XG5cdH1cbn07XG5mdW5jdGlvbiBfZ2V0SW5wdXRWYXJpYWJsZXModGVtcGxhdGUsIHRlbXBsYXRlRm9ybWF0KSB7XG5cdGNvbnN0IGlucHV0VmFyaWFibGVzID0gW107XG5cdGZvciAoY29uc3QgdiBvZiBPYmplY3QudmFsdWVzKHRlbXBsYXRlKSkgaWYgKHR5cGVvZiB2ID09PSBcInN0cmluZ1wiKSBwYXJzZVRlbXBsYXRlKHYsIHRlbXBsYXRlRm9ybWF0KS5mb3JFYWNoKCh0KSA9PiB7XG5cdFx0aWYgKHQudHlwZSA9PT0gXCJ2YXJpYWJsZVwiKSBpbnB1dFZhcmlhYmxlcy5wdXNoKHQubmFtZSk7XG5cdH0pO1xuXHRlbHNlIGlmIChBcnJheS5pc0FycmF5KHYpKSB7XG5cdFx0Zm9yIChjb25zdCB4IG9mIHYpIGlmICh0eXBlb2YgeCA9PT0gXCJzdHJpbmdcIikgcGFyc2VUZW1wbGF0ZSh4LCB0ZW1wbGF0ZUZvcm1hdCkuZm9yRWFjaCgodCkgPT4ge1xuXHRcdFx0aWYgKHQudHlwZSA9PT0gXCJ2YXJpYWJsZVwiKSBpbnB1dFZhcmlhYmxlcy5wdXNoKHQubmFtZSk7XG5cdFx0fSk7XG5cdFx0ZWxzZSBpZiAodHlwZW9mIHggPT09IFwib2JqZWN0XCIpIGlucHV0VmFyaWFibGVzLnB1c2goLi4uX2dldElucHV0VmFyaWFibGVzKHgsIHRlbXBsYXRlRm9ybWF0KSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIHYgPT09IFwib2JqZWN0XCIgJiYgdiAhPT0gbnVsbCkgaW5wdXRWYXJpYWJsZXMucHVzaCguLi5fZ2V0SW5wdXRWYXJpYWJsZXModiwgdGVtcGxhdGVGb3JtYXQpKTtcblx0cmV0dXJuIEFycmF5LmZyb20obmV3IFNldChpbnB1dFZhcmlhYmxlcykpO1xufVxuZnVuY3Rpb24gX2luc2VydElucHV0VmFyaWFibGVzKHRlbXBsYXRlLCBpbnB1dHMsIHRlbXBsYXRlRm9ybWF0KSB7XG5cdGNvbnN0IGZvcm1hdHRlZCA9IHt9O1xuXHRmb3IgKGNvbnN0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyh0ZW1wbGF0ZSkpIGlmICh0eXBlb2YgdiA9PT0gXCJzdHJpbmdcIikgZm9ybWF0dGVkW2tdID0gcmVuZGVyVGVtcGxhdGUodiwgdGVtcGxhdGVGb3JtYXQsIGlucHV0cyk7XG5cdGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodikpIHtcblx0XHRjb25zdCBmb3JtYXR0ZWRWID0gW107XG5cdFx0Zm9yIChjb25zdCB4IG9mIHYpIGlmICh0eXBlb2YgeCA9PT0gXCJzdHJpbmdcIikgZm9ybWF0dGVkVi5wdXNoKHJlbmRlclRlbXBsYXRlKHgsIHRlbXBsYXRlRm9ybWF0LCBpbnB1dHMpKTtcblx0XHRlbHNlIGlmICh0eXBlb2YgeCA9PT0gXCJvYmplY3RcIikgZm9ybWF0dGVkVi5wdXNoKF9pbnNlcnRJbnB1dFZhcmlhYmxlcyh4LCBpbnB1dHMsIHRlbXBsYXRlRm9ybWF0KSk7XG5cdFx0Zm9ybWF0dGVkW2tdID0gZm9ybWF0dGVkVjtcblx0fSBlbHNlIGlmICh0eXBlb2YgdiA9PT0gXCJvYmplY3RcIiAmJiB2ICE9PSBudWxsKSBmb3JtYXR0ZWRba10gPSBfaW5zZXJ0SW5wdXRWYXJpYWJsZXModiwgaW5wdXRzLCB0ZW1wbGF0ZUZvcm1hdCk7XG5cdGVsc2UgZm9ybWF0dGVkW2tdID0gdjtcblx0cmV0dXJuIGZvcm1hdHRlZDtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBEaWN0UHJvbXB0VGVtcGxhdGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRpY3QuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/dict.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/few_shot.js":
/*!********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/few_shot.js ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FewShotChatMessagePromptTemplate: () => (/* binding */ FewShotChatMessagePromptTemplate),\n/* harmony export */   FewShotPromptTemplate: () => (/* binding */ FewShotPromptTemplate)\n/* harmony export */ });\n/* harmony import */ var _string_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./string.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/string.js\");\n/* harmony import */ var _template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./template.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/template.js\");\n/* harmony import */ var _prompt_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./prompt.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/prompt.js\");\n/* harmony import */ var _chat_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chat.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/chat.js\");\n\n\n\n\n\n//#region src/prompts/few_shot.ts\n/**\n* Prompt template that contains few-shot examples.\n* @augments BasePromptTemplate\n* @augments FewShotPromptTemplateInput\n* @example\n* ```typescript\n* const examplePrompt = PromptTemplate.fromTemplate(\n*   \"Input: {input}\\nOutput: {output}\",\n* );\n*\n* const exampleSelector = await SemanticSimilarityExampleSelector.fromExamples(\n*   [\n*     { input: \"happy\", output: \"sad\" },\n*     { input: \"tall\", output: \"short\" },\n*     { input: \"energetic\", output: \"lethargic\" },\n*     { input: \"sunny\", output: \"gloomy\" },\n*     { input: \"windy\", output: \"calm\" },\n*   ],\n*   new OpenAIEmbeddings(),\n*   HNSWLib,\n*   { k: 1 },\n* );\n*\n* const dynamicPrompt = new FewShotPromptTemplate({\n*   exampleSelector,\n*   examplePrompt,\n*   prefix: \"Give the antonym of every input\",\n*   suffix: \"Input: {adjective}\\nOutput:\",\n*   inputVariables: [\"adjective\"],\n* });\n*\n* // Format the dynamic prompt with the input 'rainy'\n* console.log(await dynamicPrompt.format({ adjective: \"rainy\" }));\n*\n* ```\n*/\nvar FewShotPromptTemplate = class FewShotPromptTemplate extends _string_js__WEBPACK_IMPORTED_MODULE_0__.BaseStringPromptTemplate {\n\tlc_serializable = false;\n\texamples;\n\texampleSelector;\n\texamplePrompt;\n\tsuffix = \"\";\n\texampleSeparator = \"\\n\\n\";\n\tprefix = \"\";\n\ttemplateFormat = \"f-string\";\n\tvalidateTemplate = true;\n\tconstructor(input) {\n\t\tsuper(input);\n\t\tObject.assign(this, input);\n\t\tif (this.examples !== void 0 && this.exampleSelector !== void 0) throw new Error(\"Only one of 'examples' and 'example_selector' should be provided\");\n\t\tif (this.examples === void 0 && this.exampleSelector === void 0) throw new Error(\"One of 'examples' and 'example_selector' should be provided\");\n\t\tif (this.validateTemplate) {\n\t\t\tlet totalInputVariables = this.inputVariables;\n\t\t\tif (this.partialVariables) totalInputVariables = totalInputVariables.concat(Object.keys(this.partialVariables));\n\t\t\t(0,_template_js__WEBPACK_IMPORTED_MODULE_1__.checkValidTemplate)(this.prefix + this.suffix, this.templateFormat, totalInputVariables);\n\t\t}\n\t}\n\t_getPromptType() {\n\t\treturn \"few_shot\";\n\t}\n\tstatic lc_name() {\n\t\treturn \"FewShotPromptTemplate\";\n\t}\n\tasync getExamples(inputVariables) {\n\t\tif (this.examples !== void 0) return this.examples;\n\t\tif (this.exampleSelector !== void 0) return this.exampleSelector.selectExamples(inputVariables);\n\t\tthrow new Error(\"One of 'examples' and 'example_selector' should be provided\");\n\t}\n\tasync partial(values) {\n\t\tconst newInputVariables = this.inputVariables.filter((iv) => !(iv in values));\n\t\tconst newPartialVariables = {\n\t\t\t...this.partialVariables ?? {},\n\t\t\t...values\n\t\t};\n\t\tconst promptDict = {\n\t\t\t...this,\n\t\t\tinputVariables: newInputVariables,\n\t\t\tpartialVariables: newPartialVariables\n\t\t};\n\t\treturn new FewShotPromptTemplate(promptDict);\n\t}\n\t/**\n\t* Formats the prompt with the given values.\n\t* @param values The values to format the prompt with.\n\t* @returns A promise that resolves to a string representing the formatted prompt.\n\t*/\n\tasync format(values) {\n\t\tconst allValues = await this.mergePartialAndUserVariables(values);\n\t\tconst examples = await this.getExamples(allValues);\n\t\tconst exampleStrings = await Promise.all(examples.map((example) => this.examplePrompt.format(example)));\n\t\tconst template = [\n\t\t\tthis.prefix,\n\t\t\t...exampleStrings,\n\t\t\tthis.suffix\n\t\t].join(this.exampleSeparator);\n\t\treturn (0,_template_js__WEBPACK_IMPORTED_MODULE_1__.renderTemplate)(template, this.templateFormat, allValues);\n\t}\n\tserialize() {\n\t\tif (this.exampleSelector || !this.examples) throw new Error(\"Serializing an example selector is not currently supported\");\n\t\tif (this.outputParser !== void 0) throw new Error(\"Serializing an output parser is not currently supported\");\n\t\treturn {\n\t\t\t_type: this._getPromptType(),\n\t\t\tinput_variables: this.inputVariables,\n\t\t\texample_prompt: this.examplePrompt.serialize(),\n\t\t\texample_separator: this.exampleSeparator,\n\t\t\tsuffix: this.suffix,\n\t\t\tprefix: this.prefix,\n\t\t\ttemplate_format: this.templateFormat,\n\t\t\texamples: this.examples\n\t\t};\n\t}\n\tstatic async deserialize(data) {\n\t\tconst { example_prompt } = data;\n\t\tif (!example_prompt) throw new Error(\"Missing example prompt\");\n\t\tconst examplePrompt = await _prompt_js__WEBPACK_IMPORTED_MODULE_2__.PromptTemplate.deserialize(example_prompt);\n\t\tlet examples;\n\t\tif (Array.isArray(data.examples)) examples = data.examples;\n\t\telse throw new Error(\"Invalid examples format. Only list or string are supported.\");\n\t\treturn new FewShotPromptTemplate({\n\t\t\tinputVariables: data.input_variables,\n\t\t\texamplePrompt,\n\t\t\texamples,\n\t\t\texampleSeparator: data.example_separator,\n\t\t\tprefix: data.prefix,\n\t\t\tsuffix: data.suffix,\n\t\t\ttemplateFormat: data.template_format\n\t\t});\n\t}\n};\n/**\n* Chat prompt template that contains few-shot examples.\n* @augments BasePromptTemplateInput\n* @augments FewShotChatMessagePromptTemplateInput\n*/\nvar FewShotChatMessagePromptTemplate = class FewShotChatMessagePromptTemplate extends _chat_js__WEBPACK_IMPORTED_MODULE_3__.BaseChatPromptTemplate {\n\tlc_serializable = true;\n\texamples;\n\texampleSelector;\n\texamplePrompt;\n\tsuffix = \"\";\n\texampleSeparator = \"\\n\\n\";\n\tprefix = \"\";\n\ttemplateFormat = \"f-string\";\n\tvalidateTemplate = true;\n\t_getPromptType() {\n\t\treturn \"few_shot_chat\";\n\t}\n\tstatic lc_name() {\n\t\treturn \"FewShotChatMessagePromptTemplate\";\n\t}\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.examples = fields.examples;\n\t\tthis.examplePrompt = fields.examplePrompt;\n\t\tthis.exampleSeparator = fields.exampleSeparator ?? \"\\n\\n\";\n\t\tthis.exampleSelector = fields.exampleSelector;\n\t\tthis.prefix = fields.prefix ?? \"\";\n\t\tthis.suffix = fields.suffix ?? \"\";\n\t\tthis.templateFormat = fields.templateFormat ?? \"f-string\";\n\t\tthis.validateTemplate = fields.validateTemplate ?? true;\n\t\tif (this.examples !== void 0 && this.exampleSelector !== void 0) throw new Error(\"Only one of 'examples' and 'example_selector' should be provided\");\n\t\tif (this.examples === void 0 && this.exampleSelector === void 0) throw new Error(\"One of 'examples' and 'example_selector' should be provided\");\n\t\tif (this.validateTemplate) {\n\t\t\tlet totalInputVariables = this.inputVariables;\n\t\t\tif (this.partialVariables) totalInputVariables = totalInputVariables.concat(Object.keys(this.partialVariables));\n\t\t\t(0,_template_js__WEBPACK_IMPORTED_MODULE_1__.checkValidTemplate)(this.prefix + this.suffix, this.templateFormat, totalInputVariables);\n\t\t}\n\t}\n\tasync getExamples(inputVariables) {\n\t\tif (this.examples !== void 0) return this.examples;\n\t\tif (this.exampleSelector !== void 0) return this.exampleSelector.selectExamples(inputVariables);\n\t\tthrow new Error(\"One of 'examples' and 'example_selector' should be provided\");\n\t}\n\t/**\n\t* Formats the list of values and returns a list of formatted messages.\n\t* @param values The values to format the prompt with.\n\t* @returns A promise that resolves to a string representing the formatted prompt.\n\t*/\n\tasync formatMessages(values) {\n\t\tconst allValues = await this.mergePartialAndUserVariables(values);\n\t\tlet examples = await this.getExamples(allValues);\n\t\texamples = examples.map((example) => {\n\t\t\tconst result = {};\n\t\t\tthis.examplePrompt.inputVariables.forEach((inputVariable) => {\n\t\t\t\tresult[inputVariable] = example[inputVariable];\n\t\t\t});\n\t\t\treturn result;\n\t\t});\n\t\tconst messages = [];\n\t\tfor (const example of examples) {\n\t\t\tconst exampleMessages = await this.examplePrompt.formatMessages(example);\n\t\t\tmessages.push(...exampleMessages);\n\t\t}\n\t\treturn messages;\n\t}\n\t/**\n\t* Formats the prompt with the given values.\n\t* @param values The values to format the prompt with.\n\t* @returns A promise that resolves to a string representing the formatted prompt.\n\t*/\n\tasync format(values) {\n\t\tconst allValues = await this.mergePartialAndUserVariables(values);\n\t\tconst examples = await this.getExamples(allValues);\n\t\tconst exampleMessages = await Promise.all(examples.map((example) => this.examplePrompt.formatMessages(example)));\n\t\tconst exampleStrings = exampleMessages.flat().map((message) => message.content);\n\t\tconst template = [\n\t\t\tthis.prefix,\n\t\t\t...exampleStrings,\n\t\t\tthis.suffix\n\t\t].join(this.exampleSeparator);\n\t\treturn (0,_template_js__WEBPACK_IMPORTED_MODULE_1__.renderTemplate)(template, this.templateFormat, allValues);\n\t}\n\t/**\n\t* Partially formats the prompt with the given values.\n\t* @param values The values to partially format the prompt with.\n\t* @returns A promise that resolves to an instance of `FewShotChatMessagePromptTemplate` with the given values partially formatted.\n\t*/\n\tasync partial(values) {\n\t\tconst newInputVariables = this.inputVariables.filter((variable) => !(variable in values));\n\t\tconst newPartialVariables = {\n\t\t\t...this.partialVariables ?? {},\n\t\t\t...values\n\t\t};\n\t\tconst promptDict = {\n\t\t\t...this,\n\t\t\tinputVariables: newInputVariables,\n\t\t\tpartialVariables: newPartialVariables\n\t\t};\n\t\treturn new FewShotChatMessagePromptTemplate(promptDict);\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=few_shot.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9wcm9tcHRzL2Zld19zaG90LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUF1RDtBQUNZO0FBQ3RCO0FBQ007O0FBRW5EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE1BQU0sV0FBVyxPQUFPO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwrQkFBK0I7QUFDdkMsUUFBUSxnQ0FBZ0M7QUFDeEMsUUFBUSx5Q0FBeUM7QUFDakQsUUFBUSxrQ0FBa0M7QUFDMUMsUUFBUSxnQ0FBZ0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsTUFBTSxNQUFNO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLFVBQVU7QUFDL0I7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLDJDQUEyQyxvQkFBb0I7QUFDL0Q7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLGdFQUF3QjtBQUN4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxnRUFBa0I7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsNERBQWM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGlCQUFpQjtBQUMzQjtBQUNBLDhCQUE4QixzREFBYztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0ZBQXNGLDREQUFzQjtBQUM1RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLGdFQUFrQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsNERBQWM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ21FO0FBQ25FIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9wcm9tcHRzL2Zld19zaG90LmpzPzA5MDMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzZVN0cmluZ1Byb21wdFRlbXBsYXRlIH0gZnJvbSBcIi4vc3RyaW5nLmpzXCI7XG5pbXBvcnQgeyBjaGVja1ZhbGlkVGVtcGxhdGUsIHJlbmRlclRlbXBsYXRlIH0gZnJvbSBcIi4vdGVtcGxhdGUuanNcIjtcbmltcG9ydCB7IFByb21wdFRlbXBsYXRlIH0gZnJvbSBcIi4vcHJvbXB0LmpzXCI7XG5pbXBvcnQgeyBCYXNlQ2hhdFByb21wdFRlbXBsYXRlIH0gZnJvbSBcIi4vY2hhdC5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3Byb21wdHMvZmV3X3Nob3QudHNcbi8qKlxuKiBQcm9tcHQgdGVtcGxhdGUgdGhhdCBjb250YWlucyBmZXctc2hvdCBleGFtcGxlcy5cbiogQGF1Z21lbnRzIEJhc2VQcm9tcHRUZW1wbGF0ZVxuKiBAYXVnbWVudHMgRmV3U2hvdFByb21wdFRlbXBsYXRlSW5wdXRcbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBleGFtcGxlUHJvbXB0ID0gUHJvbXB0VGVtcGxhdGUuZnJvbVRlbXBsYXRlKFxuKiAgIFwiSW5wdXQ6IHtpbnB1dH1cXG5PdXRwdXQ6IHtvdXRwdXR9XCIsXG4qICk7XG4qXG4qIGNvbnN0IGV4YW1wbGVTZWxlY3RvciA9IGF3YWl0IFNlbWFudGljU2ltaWxhcml0eUV4YW1wbGVTZWxlY3Rvci5mcm9tRXhhbXBsZXMoXG4qICAgW1xuKiAgICAgeyBpbnB1dDogXCJoYXBweVwiLCBvdXRwdXQ6IFwic2FkXCIgfSxcbiogICAgIHsgaW5wdXQ6IFwidGFsbFwiLCBvdXRwdXQ6IFwic2hvcnRcIiB9LFxuKiAgICAgeyBpbnB1dDogXCJlbmVyZ2V0aWNcIiwgb3V0cHV0OiBcImxldGhhcmdpY1wiIH0sXG4qICAgICB7IGlucHV0OiBcInN1bm55XCIsIG91dHB1dDogXCJnbG9vbXlcIiB9LFxuKiAgICAgeyBpbnB1dDogXCJ3aW5keVwiLCBvdXRwdXQ6IFwiY2FsbVwiIH0sXG4qICAgXSxcbiogICBuZXcgT3BlbkFJRW1iZWRkaW5ncygpLFxuKiAgIEhOU1dMaWIsXG4qICAgeyBrOiAxIH0sXG4qICk7XG4qXG4qIGNvbnN0IGR5bmFtaWNQcm9tcHQgPSBuZXcgRmV3U2hvdFByb21wdFRlbXBsYXRlKHtcbiogICBleGFtcGxlU2VsZWN0b3IsXG4qICAgZXhhbXBsZVByb21wdCxcbiogICBwcmVmaXg6IFwiR2l2ZSB0aGUgYW50b255bSBvZiBldmVyeSBpbnB1dFwiLFxuKiAgIHN1ZmZpeDogXCJJbnB1dDoge2FkamVjdGl2ZX1cXG5PdXRwdXQ6XCIsXG4qICAgaW5wdXRWYXJpYWJsZXM6IFtcImFkamVjdGl2ZVwiXSxcbiogfSk7XG4qXG4qIC8vIEZvcm1hdCB0aGUgZHluYW1pYyBwcm9tcHQgd2l0aCB0aGUgaW5wdXQgJ3JhaW55J1xuKiBjb25zb2xlLmxvZyhhd2FpdCBkeW5hbWljUHJvbXB0LmZvcm1hdCh7IGFkamVjdGl2ZTogXCJyYWlueVwiIH0pKTtcbipcbiogYGBgXG4qL1xudmFyIEZld1Nob3RQcm9tcHRUZW1wbGF0ZSA9IGNsYXNzIEZld1Nob3RQcm9tcHRUZW1wbGF0ZSBleHRlbmRzIEJhc2VTdHJpbmdQcm9tcHRUZW1wbGF0ZSB7XG5cdGxjX3NlcmlhbGl6YWJsZSA9IGZhbHNlO1xuXHRleGFtcGxlcztcblx0ZXhhbXBsZVNlbGVjdG9yO1xuXHRleGFtcGxlUHJvbXB0O1xuXHRzdWZmaXggPSBcIlwiO1xuXHRleGFtcGxlU2VwYXJhdG9yID0gXCJcXG5cXG5cIjtcblx0cHJlZml4ID0gXCJcIjtcblx0dGVtcGxhdGVGb3JtYXQgPSBcImYtc3RyaW5nXCI7XG5cdHZhbGlkYXRlVGVtcGxhdGUgPSB0cnVlO1xuXHRjb25zdHJ1Y3RvcihpbnB1dCkge1xuXHRcdHN1cGVyKGlucHV0KTtcblx0XHRPYmplY3QuYXNzaWduKHRoaXMsIGlucHV0KTtcblx0XHRpZiAodGhpcy5leGFtcGxlcyAhPT0gdm9pZCAwICYmIHRoaXMuZXhhbXBsZVNlbGVjdG9yICE9PSB2b2lkIDApIHRocm93IG5ldyBFcnJvcihcIk9ubHkgb25lIG9mICdleGFtcGxlcycgYW5kICdleGFtcGxlX3NlbGVjdG9yJyBzaG91bGQgYmUgcHJvdmlkZWRcIik7XG5cdFx0aWYgKHRoaXMuZXhhbXBsZXMgPT09IHZvaWQgMCAmJiB0aGlzLmV4YW1wbGVTZWxlY3RvciA9PT0gdm9pZCAwKSB0aHJvdyBuZXcgRXJyb3IoXCJPbmUgb2YgJ2V4YW1wbGVzJyBhbmQgJ2V4YW1wbGVfc2VsZWN0b3InIHNob3VsZCBiZSBwcm92aWRlZFwiKTtcblx0XHRpZiAodGhpcy52YWxpZGF0ZVRlbXBsYXRlKSB7XG5cdFx0XHRsZXQgdG90YWxJbnB1dFZhcmlhYmxlcyA9IHRoaXMuaW5wdXRWYXJpYWJsZXM7XG5cdFx0XHRpZiAodGhpcy5wYXJ0aWFsVmFyaWFibGVzKSB0b3RhbElucHV0VmFyaWFibGVzID0gdG90YWxJbnB1dFZhcmlhYmxlcy5jb25jYXQoT2JqZWN0LmtleXModGhpcy5wYXJ0aWFsVmFyaWFibGVzKSk7XG5cdFx0XHRjaGVja1ZhbGlkVGVtcGxhdGUodGhpcy5wcmVmaXggKyB0aGlzLnN1ZmZpeCwgdGhpcy50ZW1wbGF0ZUZvcm1hdCwgdG90YWxJbnB1dFZhcmlhYmxlcyk7XG5cdFx0fVxuXHR9XG5cdF9nZXRQcm9tcHRUeXBlKCkge1xuXHRcdHJldHVybiBcImZld19zaG90XCI7XG5cdH1cblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiRmV3U2hvdFByb21wdFRlbXBsYXRlXCI7XG5cdH1cblx0YXN5bmMgZ2V0RXhhbXBsZXMoaW5wdXRWYXJpYWJsZXMpIHtcblx0XHRpZiAodGhpcy5leGFtcGxlcyAhPT0gdm9pZCAwKSByZXR1cm4gdGhpcy5leGFtcGxlcztcblx0XHRpZiAodGhpcy5leGFtcGxlU2VsZWN0b3IgIT09IHZvaWQgMCkgcmV0dXJuIHRoaXMuZXhhbXBsZVNlbGVjdG9yLnNlbGVjdEV4YW1wbGVzKGlucHV0VmFyaWFibGVzKTtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJPbmUgb2YgJ2V4YW1wbGVzJyBhbmQgJ2V4YW1wbGVfc2VsZWN0b3InIHNob3VsZCBiZSBwcm92aWRlZFwiKTtcblx0fVxuXHRhc3luYyBwYXJ0aWFsKHZhbHVlcykge1xuXHRcdGNvbnN0IG5ld0lucHV0VmFyaWFibGVzID0gdGhpcy5pbnB1dFZhcmlhYmxlcy5maWx0ZXIoKGl2KSA9PiAhKGl2IGluIHZhbHVlcykpO1xuXHRcdGNvbnN0IG5ld1BhcnRpYWxWYXJpYWJsZXMgPSB7XG5cdFx0XHQuLi50aGlzLnBhcnRpYWxWYXJpYWJsZXMgPz8ge30sXG5cdFx0XHQuLi52YWx1ZXNcblx0XHR9O1xuXHRcdGNvbnN0IHByb21wdERpY3QgPSB7XG5cdFx0XHQuLi50aGlzLFxuXHRcdFx0aW5wdXRWYXJpYWJsZXM6IG5ld0lucHV0VmFyaWFibGVzLFxuXHRcdFx0cGFydGlhbFZhcmlhYmxlczogbmV3UGFydGlhbFZhcmlhYmxlc1xuXHRcdH07XG5cdFx0cmV0dXJuIG5ldyBGZXdTaG90UHJvbXB0VGVtcGxhdGUocHJvbXB0RGljdCk7XG5cdH1cblx0LyoqXG5cdCogRm9ybWF0cyB0aGUgcHJvbXB0IHdpdGggdGhlIGdpdmVuIHZhbHVlcy5cblx0KiBAcGFyYW0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gZm9ybWF0IHRoZSBwcm9tcHQgd2l0aC5cblx0KiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGZvcm1hdHRlZCBwcm9tcHQuXG5cdCovXG5cdGFzeW5jIGZvcm1hdCh2YWx1ZXMpIHtcblx0XHRjb25zdCBhbGxWYWx1ZXMgPSBhd2FpdCB0aGlzLm1lcmdlUGFydGlhbEFuZFVzZXJWYXJpYWJsZXModmFsdWVzKTtcblx0XHRjb25zdCBleGFtcGxlcyA9IGF3YWl0IHRoaXMuZ2V0RXhhbXBsZXMoYWxsVmFsdWVzKTtcblx0XHRjb25zdCBleGFtcGxlU3RyaW5ncyA9IGF3YWl0IFByb21pc2UuYWxsKGV4YW1wbGVzLm1hcCgoZXhhbXBsZSkgPT4gdGhpcy5leGFtcGxlUHJvbXB0LmZvcm1hdChleGFtcGxlKSkpO1xuXHRcdGNvbnN0IHRlbXBsYXRlID0gW1xuXHRcdFx0dGhpcy5wcmVmaXgsXG5cdFx0XHQuLi5leGFtcGxlU3RyaW5ncyxcblx0XHRcdHRoaXMuc3VmZml4XG5cdFx0XS5qb2luKHRoaXMuZXhhbXBsZVNlcGFyYXRvcik7XG5cdFx0cmV0dXJuIHJlbmRlclRlbXBsYXRlKHRlbXBsYXRlLCB0aGlzLnRlbXBsYXRlRm9ybWF0LCBhbGxWYWx1ZXMpO1xuXHR9XG5cdHNlcmlhbGl6ZSgpIHtcblx0XHRpZiAodGhpcy5leGFtcGxlU2VsZWN0b3IgfHwgIXRoaXMuZXhhbXBsZXMpIHRocm93IG5ldyBFcnJvcihcIlNlcmlhbGl6aW5nIGFuIGV4YW1wbGUgc2VsZWN0b3IgaXMgbm90IGN1cnJlbnRseSBzdXBwb3J0ZWRcIik7XG5cdFx0aWYgKHRoaXMub3V0cHV0UGFyc2VyICE9PSB2b2lkIDApIHRocm93IG5ldyBFcnJvcihcIlNlcmlhbGl6aW5nIGFuIG91dHB1dCBwYXJzZXIgaXMgbm90IGN1cnJlbnRseSBzdXBwb3J0ZWRcIik7XG5cdFx0cmV0dXJuIHtcblx0XHRcdF90eXBlOiB0aGlzLl9nZXRQcm9tcHRUeXBlKCksXG5cdFx0XHRpbnB1dF92YXJpYWJsZXM6IHRoaXMuaW5wdXRWYXJpYWJsZXMsXG5cdFx0XHRleGFtcGxlX3Byb21wdDogdGhpcy5leGFtcGxlUHJvbXB0LnNlcmlhbGl6ZSgpLFxuXHRcdFx0ZXhhbXBsZV9zZXBhcmF0b3I6IHRoaXMuZXhhbXBsZVNlcGFyYXRvcixcblx0XHRcdHN1ZmZpeDogdGhpcy5zdWZmaXgsXG5cdFx0XHRwcmVmaXg6IHRoaXMucHJlZml4LFxuXHRcdFx0dGVtcGxhdGVfZm9ybWF0OiB0aGlzLnRlbXBsYXRlRm9ybWF0LFxuXHRcdFx0ZXhhbXBsZXM6IHRoaXMuZXhhbXBsZXNcblx0XHR9O1xuXHR9XG5cdHN0YXRpYyBhc3luYyBkZXNlcmlhbGl6ZShkYXRhKSB7XG5cdFx0Y29uc3QgeyBleGFtcGxlX3Byb21wdCB9ID0gZGF0YTtcblx0XHRpZiAoIWV4YW1wbGVfcHJvbXB0KSB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIGV4YW1wbGUgcHJvbXB0XCIpO1xuXHRcdGNvbnN0IGV4YW1wbGVQcm9tcHQgPSBhd2FpdCBQcm9tcHRUZW1wbGF0ZS5kZXNlcmlhbGl6ZShleGFtcGxlX3Byb21wdCk7XG5cdFx0bGV0IGV4YW1wbGVzO1xuXHRcdGlmIChBcnJheS5pc0FycmF5KGRhdGEuZXhhbXBsZXMpKSBleGFtcGxlcyA9IGRhdGEuZXhhbXBsZXM7XG5cdFx0ZWxzZSB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGV4YW1wbGVzIGZvcm1hdC4gT25seSBsaXN0IG9yIHN0cmluZyBhcmUgc3VwcG9ydGVkLlwiKTtcblx0XHRyZXR1cm4gbmV3IEZld1Nob3RQcm9tcHRUZW1wbGF0ZSh7XG5cdFx0XHRpbnB1dFZhcmlhYmxlczogZGF0YS5pbnB1dF92YXJpYWJsZXMsXG5cdFx0XHRleGFtcGxlUHJvbXB0LFxuXHRcdFx0ZXhhbXBsZXMsXG5cdFx0XHRleGFtcGxlU2VwYXJhdG9yOiBkYXRhLmV4YW1wbGVfc2VwYXJhdG9yLFxuXHRcdFx0cHJlZml4OiBkYXRhLnByZWZpeCxcblx0XHRcdHN1ZmZpeDogZGF0YS5zdWZmaXgsXG5cdFx0XHR0ZW1wbGF0ZUZvcm1hdDogZGF0YS50ZW1wbGF0ZV9mb3JtYXRcblx0XHR9KTtcblx0fVxufTtcbi8qKlxuKiBDaGF0IHByb21wdCB0ZW1wbGF0ZSB0aGF0IGNvbnRhaW5zIGZldy1zaG90IGV4YW1wbGVzLlxuKiBAYXVnbWVudHMgQmFzZVByb21wdFRlbXBsYXRlSW5wdXRcbiogQGF1Z21lbnRzIEZld1Nob3RDaGF0TWVzc2FnZVByb21wdFRlbXBsYXRlSW5wdXRcbiovXG52YXIgRmV3U2hvdENoYXRNZXNzYWdlUHJvbXB0VGVtcGxhdGUgPSBjbGFzcyBGZXdTaG90Q2hhdE1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSBleHRlbmRzIEJhc2VDaGF0UHJvbXB0VGVtcGxhdGUge1xuXHRsY19zZXJpYWxpemFibGUgPSB0cnVlO1xuXHRleGFtcGxlcztcblx0ZXhhbXBsZVNlbGVjdG9yO1xuXHRleGFtcGxlUHJvbXB0O1xuXHRzdWZmaXggPSBcIlwiO1xuXHRleGFtcGxlU2VwYXJhdG9yID0gXCJcXG5cXG5cIjtcblx0cHJlZml4ID0gXCJcIjtcblx0dGVtcGxhdGVGb3JtYXQgPSBcImYtc3RyaW5nXCI7XG5cdHZhbGlkYXRlVGVtcGxhdGUgPSB0cnVlO1xuXHRfZ2V0UHJvbXB0VHlwZSgpIHtcblx0XHRyZXR1cm4gXCJmZXdfc2hvdF9jaGF0XCI7XG5cdH1cblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiRmV3U2hvdENoYXRNZXNzYWdlUHJvbXB0VGVtcGxhdGVcIjtcblx0fVxuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRzdXBlcihmaWVsZHMpO1xuXHRcdHRoaXMuZXhhbXBsZXMgPSBmaWVsZHMuZXhhbXBsZXM7XG5cdFx0dGhpcy5leGFtcGxlUHJvbXB0ID0gZmllbGRzLmV4YW1wbGVQcm9tcHQ7XG5cdFx0dGhpcy5leGFtcGxlU2VwYXJhdG9yID0gZmllbGRzLmV4YW1wbGVTZXBhcmF0b3IgPz8gXCJcXG5cXG5cIjtcblx0XHR0aGlzLmV4YW1wbGVTZWxlY3RvciA9IGZpZWxkcy5leGFtcGxlU2VsZWN0b3I7XG5cdFx0dGhpcy5wcmVmaXggPSBmaWVsZHMucHJlZml4ID8/IFwiXCI7XG5cdFx0dGhpcy5zdWZmaXggPSBmaWVsZHMuc3VmZml4ID8/IFwiXCI7XG5cdFx0dGhpcy50ZW1wbGF0ZUZvcm1hdCA9IGZpZWxkcy50ZW1wbGF0ZUZvcm1hdCA/PyBcImYtc3RyaW5nXCI7XG5cdFx0dGhpcy52YWxpZGF0ZVRlbXBsYXRlID0gZmllbGRzLnZhbGlkYXRlVGVtcGxhdGUgPz8gdHJ1ZTtcblx0XHRpZiAodGhpcy5leGFtcGxlcyAhPT0gdm9pZCAwICYmIHRoaXMuZXhhbXBsZVNlbGVjdG9yICE9PSB2b2lkIDApIHRocm93IG5ldyBFcnJvcihcIk9ubHkgb25lIG9mICdleGFtcGxlcycgYW5kICdleGFtcGxlX3NlbGVjdG9yJyBzaG91bGQgYmUgcHJvdmlkZWRcIik7XG5cdFx0aWYgKHRoaXMuZXhhbXBsZXMgPT09IHZvaWQgMCAmJiB0aGlzLmV4YW1wbGVTZWxlY3RvciA9PT0gdm9pZCAwKSB0aHJvdyBuZXcgRXJyb3IoXCJPbmUgb2YgJ2V4YW1wbGVzJyBhbmQgJ2V4YW1wbGVfc2VsZWN0b3InIHNob3VsZCBiZSBwcm92aWRlZFwiKTtcblx0XHRpZiAodGhpcy52YWxpZGF0ZVRlbXBsYXRlKSB7XG5cdFx0XHRsZXQgdG90YWxJbnB1dFZhcmlhYmxlcyA9IHRoaXMuaW5wdXRWYXJpYWJsZXM7XG5cdFx0XHRpZiAodGhpcy5wYXJ0aWFsVmFyaWFibGVzKSB0b3RhbElucHV0VmFyaWFibGVzID0gdG90YWxJbnB1dFZhcmlhYmxlcy5jb25jYXQoT2JqZWN0LmtleXModGhpcy5wYXJ0aWFsVmFyaWFibGVzKSk7XG5cdFx0XHRjaGVja1ZhbGlkVGVtcGxhdGUodGhpcy5wcmVmaXggKyB0aGlzLnN1ZmZpeCwgdGhpcy50ZW1wbGF0ZUZvcm1hdCwgdG90YWxJbnB1dFZhcmlhYmxlcyk7XG5cdFx0fVxuXHR9XG5cdGFzeW5jIGdldEV4YW1wbGVzKGlucHV0VmFyaWFibGVzKSB7XG5cdFx0aWYgKHRoaXMuZXhhbXBsZXMgIT09IHZvaWQgMCkgcmV0dXJuIHRoaXMuZXhhbXBsZXM7XG5cdFx0aWYgKHRoaXMuZXhhbXBsZVNlbGVjdG9yICE9PSB2b2lkIDApIHJldHVybiB0aGlzLmV4YW1wbGVTZWxlY3Rvci5zZWxlY3RFeGFtcGxlcyhpbnB1dFZhcmlhYmxlcyk7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiT25lIG9mICdleGFtcGxlcycgYW5kICdleGFtcGxlX3NlbGVjdG9yJyBzaG91bGQgYmUgcHJvdmlkZWRcIik7XG5cdH1cblx0LyoqXG5cdCogRm9ybWF0cyB0aGUgbGlzdCBvZiB2YWx1ZXMgYW5kIHJldHVybnMgYSBsaXN0IG9mIGZvcm1hdHRlZCBtZXNzYWdlcy5cblx0KiBAcGFyYW0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gZm9ybWF0IHRoZSBwcm9tcHQgd2l0aC5cblx0KiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGZvcm1hdHRlZCBwcm9tcHQuXG5cdCovXG5cdGFzeW5jIGZvcm1hdE1lc3NhZ2VzKHZhbHVlcykge1xuXHRcdGNvbnN0IGFsbFZhbHVlcyA9IGF3YWl0IHRoaXMubWVyZ2VQYXJ0aWFsQW5kVXNlclZhcmlhYmxlcyh2YWx1ZXMpO1xuXHRcdGxldCBleGFtcGxlcyA9IGF3YWl0IHRoaXMuZ2V0RXhhbXBsZXMoYWxsVmFsdWVzKTtcblx0XHRleGFtcGxlcyA9IGV4YW1wbGVzLm1hcCgoZXhhbXBsZSkgPT4ge1xuXHRcdFx0Y29uc3QgcmVzdWx0ID0ge307XG5cdFx0XHR0aGlzLmV4YW1wbGVQcm9tcHQuaW5wdXRWYXJpYWJsZXMuZm9yRWFjaCgoaW5wdXRWYXJpYWJsZSkgPT4ge1xuXHRcdFx0XHRyZXN1bHRbaW5wdXRWYXJpYWJsZV0gPSBleGFtcGxlW2lucHV0VmFyaWFibGVdO1xuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH0pO1xuXHRcdGNvbnN0IG1lc3NhZ2VzID0gW107XG5cdFx0Zm9yIChjb25zdCBleGFtcGxlIG9mIGV4YW1wbGVzKSB7XG5cdFx0XHRjb25zdCBleGFtcGxlTWVzc2FnZXMgPSBhd2FpdCB0aGlzLmV4YW1wbGVQcm9tcHQuZm9ybWF0TWVzc2FnZXMoZXhhbXBsZSk7XG5cdFx0XHRtZXNzYWdlcy5wdXNoKC4uLmV4YW1wbGVNZXNzYWdlcyk7XG5cdFx0fVxuXHRcdHJldHVybiBtZXNzYWdlcztcblx0fVxuXHQvKipcblx0KiBGb3JtYXRzIHRoZSBwcm9tcHQgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzLlxuXHQqIEBwYXJhbSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBmb3JtYXQgdGhlIHByb21wdCB3aXRoLlxuXHQqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgZm9ybWF0dGVkIHByb21wdC5cblx0Ki9cblx0YXN5bmMgZm9ybWF0KHZhbHVlcykge1xuXHRcdGNvbnN0IGFsbFZhbHVlcyA9IGF3YWl0IHRoaXMubWVyZ2VQYXJ0aWFsQW5kVXNlclZhcmlhYmxlcyh2YWx1ZXMpO1xuXHRcdGNvbnN0IGV4YW1wbGVzID0gYXdhaXQgdGhpcy5nZXRFeGFtcGxlcyhhbGxWYWx1ZXMpO1xuXHRcdGNvbnN0IGV4YW1wbGVNZXNzYWdlcyA9IGF3YWl0IFByb21pc2UuYWxsKGV4YW1wbGVzLm1hcCgoZXhhbXBsZSkgPT4gdGhpcy5leGFtcGxlUHJvbXB0LmZvcm1hdE1lc3NhZ2VzKGV4YW1wbGUpKSk7XG5cdFx0Y29uc3QgZXhhbXBsZVN0cmluZ3MgPSBleGFtcGxlTWVzc2FnZXMuZmxhdCgpLm1hcCgobWVzc2FnZSkgPT4gbWVzc2FnZS5jb250ZW50KTtcblx0XHRjb25zdCB0ZW1wbGF0ZSA9IFtcblx0XHRcdHRoaXMucHJlZml4LFxuXHRcdFx0Li4uZXhhbXBsZVN0cmluZ3MsXG5cdFx0XHR0aGlzLnN1ZmZpeFxuXHRcdF0uam9pbih0aGlzLmV4YW1wbGVTZXBhcmF0b3IpO1xuXHRcdHJldHVybiByZW5kZXJUZW1wbGF0ZSh0ZW1wbGF0ZSwgdGhpcy50ZW1wbGF0ZUZvcm1hdCwgYWxsVmFsdWVzKTtcblx0fVxuXHQvKipcblx0KiBQYXJ0aWFsbHkgZm9ybWF0cyB0aGUgcHJvbXB0IHdpdGggdGhlIGdpdmVuIHZhbHVlcy5cblx0KiBAcGFyYW0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcGFydGlhbGx5IGZvcm1hdCB0aGUgcHJvbXB0IHdpdGguXG5cdCogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYW4gaW5zdGFuY2Ugb2YgYEZld1Nob3RDaGF0TWVzc2FnZVByb21wdFRlbXBsYXRlYCB3aXRoIHRoZSBnaXZlbiB2YWx1ZXMgcGFydGlhbGx5IGZvcm1hdHRlZC5cblx0Ki9cblx0YXN5bmMgcGFydGlhbCh2YWx1ZXMpIHtcblx0XHRjb25zdCBuZXdJbnB1dFZhcmlhYmxlcyA9IHRoaXMuaW5wdXRWYXJpYWJsZXMuZmlsdGVyKCh2YXJpYWJsZSkgPT4gISh2YXJpYWJsZSBpbiB2YWx1ZXMpKTtcblx0XHRjb25zdCBuZXdQYXJ0aWFsVmFyaWFibGVzID0ge1xuXHRcdFx0Li4udGhpcy5wYXJ0aWFsVmFyaWFibGVzID8/IHt9LFxuXHRcdFx0Li4udmFsdWVzXG5cdFx0fTtcblx0XHRjb25zdCBwcm9tcHREaWN0ID0ge1xuXHRcdFx0Li4udGhpcyxcblx0XHRcdGlucHV0VmFyaWFibGVzOiBuZXdJbnB1dFZhcmlhYmxlcyxcblx0XHRcdHBhcnRpYWxWYXJpYWJsZXM6IG5ld1BhcnRpYWxWYXJpYWJsZXNcblx0XHR9O1xuXHRcdHJldHVybiBuZXcgRmV3U2hvdENoYXRNZXNzYWdlUHJvbXB0VGVtcGxhdGUocHJvbXB0RGljdCk7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgRmV3U2hvdENoYXRNZXNzYWdlUHJvbXB0VGVtcGxhdGUsIEZld1Nob3RQcm9tcHRUZW1wbGF0ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmV3X3Nob3QuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/few_shot.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/image.js":
/*!*****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/image.js ***!
  \*****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ImagePromptTemplate: () => (/* binding */ ImagePromptTemplate)\n/* harmony export */ });\n/* harmony import */ var _prompt_values_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../prompt_values.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompt_values.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/base.js\");\n/* harmony import */ var _template_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./template.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/template.js\");\n\n\n\n\n//#region src/prompts/image.ts\n/**\n* An image prompt template for a multimodal model.\n*/\nvar ImagePromptTemplate = class ImagePromptTemplate extends _base_js__WEBPACK_IMPORTED_MODULE_1__.BasePromptTemplate {\n\tstatic lc_name() {\n\t\treturn \"ImagePromptTemplate\";\n\t}\n\tlc_namespace = [\n\t\t\"langchain_core\",\n\t\t\"prompts\",\n\t\t\"image\"\n\t];\n\ttemplate;\n\ttemplateFormat = \"f-string\";\n\tvalidateTemplate = true;\n\t/**\n\t* Additional fields which should be included inside\n\t* the message content array if using a complex message\n\t* content.\n\t*/\n\tadditionalContentFields;\n\tconstructor(input) {\n\t\tsuper(input);\n\t\tthis.template = input.template;\n\t\tthis.templateFormat = input.templateFormat ?? this.templateFormat;\n\t\tthis.validateTemplate = input.validateTemplate ?? this.validateTemplate;\n\t\tthis.additionalContentFields = input.additionalContentFields;\n\t\tif (this.validateTemplate) {\n\t\t\tlet totalInputVariables = this.inputVariables;\n\t\t\tif (this.partialVariables) totalInputVariables = totalInputVariables.concat(Object.keys(this.partialVariables));\n\t\t\t(0,_template_js__WEBPACK_IMPORTED_MODULE_2__.checkValidTemplate)([{\n\t\t\t\ttype: \"image_url\",\n\t\t\t\timage_url: this.template\n\t\t\t}], this.templateFormat, totalInputVariables);\n\t\t}\n\t}\n\t_getPromptType() {\n\t\treturn \"prompt\";\n\t}\n\t/**\n\t* Partially applies values to the prompt template.\n\t* @param values The values to be partially applied to the prompt template.\n\t* @returns A new instance of ImagePromptTemplate with the partially applied values.\n\t*/\n\tasync partial(values) {\n\t\tconst newInputVariables = this.inputVariables.filter((iv) => !(iv in values));\n\t\tconst newPartialVariables = {\n\t\t\t...this.partialVariables ?? {},\n\t\t\t...values\n\t\t};\n\t\tconst promptDict = {\n\t\t\t...this,\n\t\t\tinputVariables: newInputVariables,\n\t\t\tpartialVariables: newPartialVariables\n\t\t};\n\t\treturn new ImagePromptTemplate(promptDict);\n\t}\n\t/**\n\t* Formats the prompt template with the provided values.\n\t* @param values The values to be used to format the prompt template.\n\t* @returns A promise that resolves to a string which is the formatted prompt.\n\t*/\n\tasync format(values) {\n\t\tconst formatted = {};\n\t\tfor (const [key, value] of Object.entries(this.template)) if (typeof value === \"string\") formatted[key] = (0,_template_js__WEBPACK_IMPORTED_MODULE_2__.renderTemplate)(value, this.templateFormat, values);\n\t\telse formatted[key] = value;\n\t\tconst url = values.url || formatted.url;\n\t\tconst detail = values.detail || formatted.detail;\n\t\tif (!url) throw new Error(\"Must provide either an image URL.\");\n\t\tif (typeof url !== \"string\") throw new Error(\"url must be a string.\");\n\t\tconst output = { url };\n\t\tif (detail) output.detail = detail;\n\t\treturn output;\n\t}\n\t/**\n\t* Formats the prompt given the input values and returns a formatted\n\t* prompt value.\n\t* @param values The input values to format the prompt.\n\t* @returns A Promise that resolves to a formatted prompt value.\n\t*/\n\tasync formatPromptValue(values) {\n\t\tconst formattedPrompt = await this.format(values);\n\t\treturn new _prompt_values_js__WEBPACK_IMPORTED_MODULE_0__.ImagePromptValue(formattedPrompt);\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=image.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9wcm9tcHRzL2ltYWdlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBdUQ7QUFDUjtBQUNvQjs7QUFFbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsd0RBQWtCO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLGdFQUFrQjtBQUNyQjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEdBQTRHLDREQUFjO0FBQzFIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsK0RBQWdCO0FBQzdCO0FBQ0E7O0FBRUE7QUFDK0I7QUFDL0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3Byb21wdHMvaW1hZ2UuanM/ODMyOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbWFnZVByb21wdFZhbHVlIH0gZnJvbSBcIi4uL3Byb21wdF92YWx1ZXMuanNcIjtcbmltcG9ydCB7IEJhc2VQcm9tcHRUZW1wbGF0ZSB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCB7IGNoZWNrVmFsaWRUZW1wbGF0ZSwgcmVuZGVyVGVtcGxhdGUgfSBmcm9tIFwiLi90ZW1wbGF0ZS5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3Byb21wdHMvaW1hZ2UudHNcbi8qKlxuKiBBbiBpbWFnZSBwcm9tcHQgdGVtcGxhdGUgZm9yIGEgbXVsdGltb2RhbCBtb2RlbC5cbiovXG52YXIgSW1hZ2VQcm9tcHRUZW1wbGF0ZSA9IGNsYXNzIEltYWdlUHJvbXB0VGVtcGxhdGUgZXh0ZW5kcyBCYXNlUHJvbXB0VGVtcGxhdGUge1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJJbWFnZVByb21wdFRlbXBsYXRlXCI7XG5cdH1cblx0bGNfbmFtZXNwYWNlID0gW1xuXHRcdFwibGFuZ2NoYWluX2NvcmVcIixcblx0XHRcInByb21wdHNcIixcblx0XHRcImltYWdlXCJcblx0XTtcblx0dGVtcGxhdGU7XG5cdHRlbXBsYXRlRm9ybWF0ID0gXCJmLXN0cmluZ1wiO1xuXHR2YWxpZGF0ZVRlbXBsYXRlID0gdHJ1ZTtcblx0LyoqXG5cdCogQWRkaXRpb25hbCBmaWVsZHMgd2hpY2ggc2hvdWxkIGJlIGluY2x1ZGVkIGluc2lkZVxuXHQqIHRoZSBtZXNzYWdlIGNvbnRlbnQgYXJyYXkgaWYgdXNpbmcgYSBjb21wbGV4IG1lc3NhZ2Vcblx0KiBjb250ZW50LlxuXHQqL1xuXHRhZGRpdGlvbmFsQ29udGVudEZpZWxkcztcblx0Y29uc3RydWN0b3IoaW5wdXQpIHtcblx0XHRzdXBlcihpbnB1dCk7XG5cdFx0dGhpcy50ZW1wbGF0ZSA9IGlucHV0LnRlbXBsYXRlO1xuXHRcdHRoaXMudGVtcGxhdGVGb3JtYXQgPSBpbnB1dC50ZW1wbGF0ZUZvcm1hdCA/PyB0aGlzLnRlbXBsYXRlRm9ybWF0O1xuXHRcdHRoaXMudmFsaWRhdGVUZW1wbGF0ZSA9IGlucHV0LnZhbGlkYXRlVGVtcGxhdGUgPz8gdGhpcy52YWxpZGF0ZVRlbXBsYXRlO1xuXHRcdHRoaXMuYWRkaXRpb25hbENvbnRlbnRGaWVsZHMgPSBpbnB1dC5hZGRpdGlvbmFsQ29udGVudEZpZWxkcztcblx0XHRpZiAodGhpcy52YWxpZGF0ZVRlbXBsYXRlKSB7XG5cdFx0XHRsZXQgdG90YWxJbnB1dFZhcmlhYmxlcyA9IHRoaXMuaW5wdXRWYXJpYWJsZXM7XG5cdFx0XHRpZiAodGhpcy5wYXJ0aWFsVmFyaWFibGVzKSB0b3RhbElucHV0VmFyaWFibGVzID0gdG90YWxJbnB1dFZhcmlhYmxlcy5jb25jYXQoT2JqZWN0LmtleXModGhpcy5wYXJ0aWFsVmFyaWFibGVzKSk7XG5cdFx0XHRjaGVja1ZhbGlkVGVtcGxhdGUoW3tcblx0XHRcdFx0dHlwZTogXCJpbWFnZV91cmxcIixcblx0XHRcdFx0aW1hZ2VfdXJsOiB0aGlzLnRlbXBsYXRlXG5cdFx0XHR9XSwgdGhpcy50ZW1wbGF0ZUZvcm1hdCwgdG90YWxJbnB1dFZhcmlhYmxlcyk7XG5cdFx0fVxuXHR9XG5cdF9nZXRQcm9tcHRUeXBlKCkge1xuXHRcdHJldHVybiBcInByb21wdFwiO1xuXHR9XG5cdC8qKlxuXHQqIFBhcnRpYWxseSBhcHBsaWVzIHZhbHVlcyB0byB0aGUgcHJvbXB0IHRlbXBsYXRlLlxuXHQqIEBwYXJhbSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZCB0byB0aGUgcHJvbXB0IHRlbXBsYXRlLlxuXHQqIEByZXR1cm5zIEEgbmV3IGluc3RhbmNlIG9mIEltYWdlUHJvbXB0VGVtcGxhdGUgd2l0aCB0aGUgcGFydGlhbGx5IGFwcGxpZWQgdmFsdWVzLlxuXHQqL1xuXHRhc3luYyBwYXJ0aWFsKHZhbHVlcykge1xuXHRcdGNvbnN0IG5ld0lucHV0VmFyaWFibGVzID0gdGhpcy5pbnB1dFZhcmlhYmxlcy5maWx0ZXIoKGl2KSA9PiAhKGl2IGluIHZhbHVlcykpO1xuXHRcdGNvbnN0IG5ld1BhcnRpYWxWYXJpYWJsZXMgPSB7XG5cdFx0XHQuLi50aGlzLnBhcnRpYWxWYXJpYWJsZXMgPz8ge30sXG5cdFx0XHQuLi52YWx1ZXNcblx0XHR9O1xuXHRcdGNvbnN0IHByb21wdERpY3QgPSB7XG5cdFx0XHQuLi50aGlzLFxuXHRcdFx0aW5wdXRWYXJpYWJsZXM6IG5ld0lucHV0VmFyaWFibGVzLFxuXHRcdFx0cGFydGlhbFZhcmlhYmxlczogbmV3UGFydGlhbFZhcmlhYmxlc1xuXHRcdH07XG5cdFx0cmV0dXJuIG5ldyBJbWFnZVByb21wdFRlbXBsYXRlKHByb21wdERpY3QpO1xuXHR9XG5cdC8qKlxuXHQqIEZvcm1hdHMgdGhlIHByb21wdCB0ZW1wbGF0ZSB3aXRoIHRoZSBwcm92aWRlZCB2YWx1ZXMuXG5cdCogQHBhcmFtIHZhbHVlcyBUaGUgdmFsdWVzIHRvIGJlIHVzZWQgdG8gZm9ybWF0IHRoZSBwcm9tcHQgdGVtcGxhdGUuXG5cdCogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYSBzdHJpbmcgd2hpY2ggaXMgdGhlIGZvcm1hdHRlZCBwcm9tcHQuXG5cdCovXG5cdGFzeW5jIGZvcm1hdCh2YWx1ZXMpIHtcblx0XHRjb25zdCBmb3JtYXR0ZWQgPSB7fTtcblx0XHRmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLnRlbXBsYXRlKSkgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikgZm9ybWF0dGVkW2tleV0gPSByZW5kZXJUZW1wbGF0ZSh2YWx1ZSwgdGhpcy50ZW1wbGF0ZUZvcm1hdCwgdmFsdWVzKTtcblx0XHRlbHNlIGZvcm1hdHRlZFtrZXldID0gdmFsdWU7XG5cdFx0Y29uc3QgdXJsID0gdmFsdWVzLnVybCB8fCBmb3JtYXR0ZWQudXJsO1xuXHRcdGNvbnN0IGRldGFpbCA9IHZhbHVlcy5kZXRhaWwgfHwgZm9ybWF0dGVkLmRldGFpbDtcblx0XHRpZiAoIXVybCkgdGhyb3cgbmV3IEVycm9yKFwiTXVzdCBwcm92aWRlIGVpdGhlciBhbiBpbWFnZSBVUkwuXCIpO1xuXHRcdGlmICh0eXBlb2YgdXJsICE9PSBcInN0cmluZ1wiKSB0aHJvdyBuZXcgRXJyb3IoXCJ1cmwgbXVzdCBiZSBhIHN0cmluZy5cIik7XG5cdFx0Y29uc3Qgb3V0cHV0ID0geyB1cmwgfTtcblx0XHRpZiAoZGV0YWlsKSBvdXRwdXQuZGV0YWlsID0gZGV0YWlsO1xuXHRcdHJldHVybiBvdXRwdXQ7XG5cdH1cblx0LyoqXG5cdCogRm9ybWF0cyB0aGUgcHJvbXB0IGdpdmVuIHRoZSBpbnB1dCB2YWx1ZXMgYW5kIHJldHVybnMgYSBmb3JtYXR0ZWRcblx0KiBwcm9tcHQgdmFsdWUuXG5cdCogQHBhcmFtIHZhbHVlcyBUaGUgaW5wdXQgdmFsdWVzIHRvIGZvcm1hdCB0aGUgcHJvbXB0LlxuXHQqIEByZXR1cm5zIEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGEgZm9ybWF0dGVkIHByb21wdCB2YWx1ZS5cblx0Ki9cblx0YXN5bmMgZm9ybWF0UHJvbXB0VmFsdWUodmFsdWVzKSB7XG5cdFx0Y29uc3QgZm9ybWF0dGVkUHJvbXB0ID0gYXdhaXQgdGhpcy5mb3JtYXQodmFsdWVzKTtcblx0XHRyZXR1cm4gbmV3IEltYWdlUHJvbXB0VmFsdWUoZm9ybWF0dGVkUHJvbXB0KTtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBJbWFnZVByb21wdFRlbXBsYXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/image.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/index.js":
/*!*****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/index.js ***!
  \*****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AIMessagePromptTemplate: () => (/* reexport safe */ _chat_js__WEBPACK_IMPORTED_MODULE_7__.AIMessagePromptTemplate),\n/* harmony export */   BaseChatPromptTemplate: () => (/* reexport safe */ _chat_js__WEBPACK_IMPORTED_MODULE_7__.BaseChatPromptTemplate),\n/* harmony export */   BaseMessagePromptTemplate: () => (/* reexport safe */ _chat_js__WEBPACK_IMPORTED_MODULE_7__.BaseMessagePromptTemplate),\n/* harmony export */   BaseMessageStringPromptTemplate: () => (/* reexport safe */ _chat_js__WEBPACK_IMPORTED_MODULE_7__.BaseMessageStringPromptTemplate),\n/* harmony export */   BasePromptTemplate: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_1__.BasePromptTemplate),\n/* harmony export */   BaseStringPromptTemplate: () => (/* reexport safe */ _string_js__WEBPACK_IMPORTED_MODULE_2__.BaseStringPromptTemplate),\n/* harmony export */   ChatMessagePromptTemplate: () => (/* reexport safe */ _chat_js__WEBPACK_IMPORTED_MODULE_7__.ChatMessagePromptTemplate),\n/* harmony export */   ChatPromptTemplate: () => (/* reexport safe */ _chat_js__WEBPACK_IMPORTED_MODULE_7__.ChatPromptTemplate),\n/* harmony export */   DEFAULT_FORMATTER_MAPPING: () => (/* reexport safe */ _template_js__WEBPACK_IMPORTED_MODULE_3__.DEFAULT_FORMATTER_MAPPING),\n/* harmony export */   DEFAULT_PARSER_MAPPING: () => (/* reexport safe */ _template_js__WEBPACK_IMPORTED_MODULE_3__.DEFAULT_PARSER_MAPPING),\n/* harmony export */   DictPromptTemplate: () => (/* reexport safe */ _dict_js__WEBPACK_IMPORTED_MODULE_6__.DictPromptTemplate),\n/* harmony export */   FewShotChatMessagePromptTemplate: () => (/* reexport safe */ _few_shot_js__WEBPACK_IMPORTED_MODULE_8__.FewShotChatMessagePromptTemplate),\n/* harmony export */   FewShotPromptTemplate: () => (/* reexport safe */ _few_shot_js__WEBPACK_IMPORTED_MODULE_8__.FewShotPromptTemplate),\n/* harmony export */   HumanMessagePromptTemplate: () => (/* reexport safe */ _chat_js__WEBPACK_IMPORTED_MODULE_7__.HumanMessagePromptTemplate),\n/* harmony export */   ImagePromptTemplate: () => (/* reexport safe */ _image_js__WEBPACK_IMPORTED_MODULE_5__.ImagePromptTemplate),\n/* harmony export */   MessagesPlaceholder: () => (/* reexport safe */ _chat_js__WEBPACK_IMPORTED_MODULE_7__.MessagesPlaceholder),\n/* harmony export */   PipelinePromptTemplate: () => (/* reexport safe */ _pipeline_js__WEBPACK_IMPORTED_MODULE_9__.PipelinePromptTemplate),\n/* harmony export */   PromptTemplate: () => (/* reexport safe */ _prompt_js__WEBPACK_IMPORTED_MODULE_4__.PromptTemplate),\n/* harmony export */   StructuredPrompt: () => (/* reexport safe */ _structured_js__WEBPACK_IMPORTED_MODULE_10__.StructuredPrompt),\n/* harmony export */   SystemMessagePromptTemplate: () => (/* reexport safe */ _chat_js__WEBPACK_IMPORTED_MODULE_7__.SystemMessagePromptTemplate),\n/* harmony export */   checkValidTemplate: () => (/* reexport safe */ _template_js__WEBPACK_IMPORTED_MODULE_3__.checkValidTemplate),\n/* harmony export */   interpolateFString: () => (/* reexport safe */ _template_js__WEBPACK_IMPORTED_MODULE_3__.interpolateFString),\n/* harmony export */   interpolateMustache: () => (/* reexport safe */ _template_js__WEBPACK_IMPORTED_MODULE_3__.interpolateMustache),\n/* harmony export */   parseFString: () => (/* reexport safe */ _template_js__WEBPACK_IMPORTED_MODULE_3__.parseFString),\n/* harmony export */   parseMustache: () => (/* reexport safe */ _template_js__WEBPACK_IMPORTED_MODULE_3__.parseMustache),\n/* harmony export */   parseTemplate: () => (/* reexport safe */ _template_js__WEBPACK_IMPORTED_MODULE_3__.parseTemplate),\n/* harmony export */   prompts_exports: () => (/* binding */ prompts_exports),\n/* harmony export */   renderTemplate: () => (/* reexport safe */ _template_js__WEBPACK_IMPORTED_MODULE_3__.renderTemplate)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/base.js\");\n/* harmony import */ var _string_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./string.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/string.js\");\n/* harmony import */ var _template_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./template.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/template.js\");\n/* harmony import */ var _prompt_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./prompt.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/prompt.js\");\n/* harmony import */ var _image_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./image.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/image.js\");\n/* harmony import */ var _dict_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./dict.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/dict.js\");\n/* harmony import */ var _chat_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./chat.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/chat.js\");\n/* harmony import */ var _few_shot_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./few_shot.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/few_shot.js\");\n/* harmony import */ var _pipeline_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./pipeline.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/pipeline.js\");\n/* harmony import */ var _structured_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./structured.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/structured.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n//#region src/prompts/index.ts\nvar prompts_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(prompts_exports, {\n\tAIMessagePromptTemplate: () => _chat_js__WEBPACK_IMPORTED_MODULE_7__.AIMessagePromptTemplate,\n\tBaseChatPromptTemplate: () => _chat_js__WEBPACK_IMPORTED_MODULE_7__.BaseChatPromptTemplate,\n\tBaseMessagePromptTemplate: () => _chat_js__WEBPACK_IMPORTED_MODULE_7__.BaseMessagePromptTemplate,\n\tBaseMessageStringPromptTemplate: () => _chat_js__WEBPACK_IMPORTED_MODULE_7__.BaseMessageStringPromptTemplate,\n\tBasePromptTemplate: () => _base_js__WEBPACK_IMPORTED_MODULE_1__.BasePromptTemplate,\n\tBaseStringPromptTemplate: () => _string_js__WEBPACK_IMPORTED_MODULE_2__.BaseStringPromptTemplate,\n\tChatMessagePromptTemplate: () => _chat_js__WEBPACK_IMPORTED_MODULE_7__.ChatMessagePromptTemplate,\n\tChatPromptTemplate: () => _chat_js__WEBPACK_IMPORTED_MODULE_7__.ChatPromptTemplate,\n\tDEFAULT_FORMATTER_MAPPING: () => _template_js__WEBPACK_IMPORTED_MODULE_3__.DEFAULT_FORMATTER_MAPPING,\n\tDEFAULT_PARSER_MAPPING: () => _template_js__WEBPACK_IMPORTED_MODULE_3__.DEFAULT_PARSER_MAPPING,\n\tDictPromptTemplate: () => _dict_js__WEBPACK_IMPORTED_MODULE_6__.DictPromptTemplate,\n\tFewShotChatMessagePromptTemplate: () => _few_shot_js__WEBPACK_IMPORTED_MODULE_8__.FewShotChatMessagePromptTemplate,\n\tFewShotPromptTemplate: () => _few_shot_js__WEBPACK_IMPORTED_MODULE_8__.FewShotPromptTemplate,\n\tHumanMessagePromptTemplate: () => _chat_js__WEBPACK_IMPORTED_MODULE_7__.HumanMessagePromptTemplate,\n\tImagePromptTemplate: () => _image_js__WEBPACK_IMPORTED_MODULE_5__.ImagePromptTemplate,\n\tMessagesPlaceholder: () => _chat_js__WEBPACK_IMPORTED_MODULE_7__.MessagesPlaceholder,\n\tPipelinePromptTemplate: () => _pipeline_js__WEBPACK_IMPORTED_MODULE_9__.PipelinePromptTemplate,\n\tPromptTemplate: () => _prompt_js__WEBPACK_IMPORTED_MODULE_4__.PromptTemplate,\n\tStructuredPrompt: () => _structured_js__WEBPACK_IMPORTED_MODULE_10__.StructuredPrompt,\n\tSystemMessagePromptTemplate: () => _chat_js__WEBPACK_IMPORTED_MODULE_7__.SystemMessagePromptTemplate,\n\tcheckValidTemplate: () => _template_js__WEBPACK_IMPORTED_MODULE_3__.checkValidTemplate,\n\tinterpolateFString: () => _template_js__WEBPACK_IMPORTED_MODULE_3__.interpolateFString,\n\tinterpolateMustache: () => _template_js__WEBPACK_IMPORTED_MODULE_3__.interpolateMustache,\n\tparseFString: () => _template_js__WEBPACK_IMPORTED_MODULE_3__.parseFString,\n\tparseMustache: () => _template_js__WEBPACK_IMPORTED_MODULE_3__.parseMustache,\n\tparseTemplate: () => _template_js__WEBPACK_IMPORTED_MODULE_3__.parseTemplate,\n\trenderTemplate: () => _template_js__WEBPACK_IMPORTED_MODULE_3__.renderTemplate\n});\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9wcm9tcHRzL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEyRDtBQUNaO0FBQ1E7QUFDb0o7QUFDOUo7QUFDSTtBQUNGO0FBQ3NOO0FBQzdLO0FBQ2pDO0FBQ0o7O0FBRW5EO0FBQ0E7QUFDQSxzRUFBUTtBQUNSLGdDQUFnQyw2REFBdUI7QUFDdkQsK0JBQStCLDREQUFzQjtBQUNyRCxrQ0FBa0MsK0RBQXlCO0FBQzNELHdDQUF3QyxxRUFBK0I7QUFDdkUsMkJBQTJCLHdEQUFrQjtBQUM3QyxpQ0FBaUMsZ0VBQXdCO0FBQ3pELGtDQUFrQywrREFBeUI7QUFDM0QsMkJBQTJCLHdEQUFrQjtBQUM3QyxrQ0FBa0MsbUVBQXlCO0FBQzNELCtCQUErQixnRUFBc0I7QUFDckQsMkJBQTJCLHdEQUFrQjtBQUM3Qyx5Q0FBeUMsMEVBQWdDO0FBQ3pFLDhCQUE4QiwrREFBcUI7QUFDbkQsbUNBQW1DLGdFQUEwQjtBQUM3RCw0QkFBNEIsMERBQW1CO0FBQy9DLDRCQUE0Qix5REFBbUI7QUFDL0MsK0JBQStCLGdFQUFzQjtBQUNyRCx1QkFBdUIsc0RBQWM7QUFDckMseUJBQXlCLDZEQUFnQjtBQUN6QyxvQ0FBb0MsaUVBQTJCO0FBQy9ELDJCQUEyQiw0REFBa0I7QUFDN0MsMkJBQTJCLDREQUFrQjtBQUM3Qyw0QkFBNEIsNkRBQW1CO0FBQy9DLHFCQUFxQixzREFBWTtBQUNqQyxzQkFBc0IsdURBQWE7QUFDbkMsc0JBQXNCLHVEQUFhO0FBQ25DLHVCQUF1Qix3REFBYztBQUNyQyxDQUFDOztBQUVEO0FBQzJuQjtBQUMzbkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3Byb21wdHMvaW5kZXguanM/NWZkNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2V4cG9ydCB9IGZyb20gXCIuLi9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmpzXCI7XG5pbXBvcnQgeyBCYXNlUHJvbXB0VGVtcGxhdGUgfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5pbXBvcnQgeyBCYXNlU3RyaW5nUHJvbXB0VGVtcGxhdGUgfSBmcm9tIFwiLi9zdHJpbmcuanNcIjtcbmltcG9ydCB7IERFRkFVTFRfRk9STUFUVEVSX01BUFBJTkcsIERFRkFVTFRfUEFSU0VSX01BUFBJTkcsIGNoZWNrVmFsaWRUZW1wbGF0ZSwgaW50ZXJwb2xhdGVGU3RyaW5nLCBpbnRlcnBvbGF0ZU11c3RhY2hlLCBwYXJzZUZTdHJpbmcsIHBhcnNlTXVzdGFjaGUsIHBhcnNlVGVtcGxhdGUsIHJlbmRlclRlbXBsYXRlIH0gZnJvbSBcIi4vdGVtcGxhdGUuanNcIjtcbmltcG9ydCB7IFByb21wdFRlbXBsYXRlIH0gZnJvbSBcIi4vcHJvbXB0LmpzXCI7XG5pbXBvcnQgeyBJbWFnZVByb21wdFRlbXBsYXRlIH0gZnJvbSBcIi4vaW1hZ2UuanNcIjtcbmltcG9ydCB7IERpY3RQcm9tcHRUZW1wbGF0ZSB9IGZyb20gXCIuL2RpY3QuanNcIjtcbmltcG9ydCB7IEFJTWVzc2FnZVByb21wdFRlbXBsYXRlLCBCYXNlQ2hhdFByb21wdFRlbXBsYXRlLCBCYXNlTWVzc2FnZVByb21wdFRlbXBsYXRlLCBCYXNlTWVzc2FnZVN0cmluZ1Byb21wdFRlbXBsYXRlLCBDaGF0TWVzc2FnZVByb21wdFRlbXBsYXRlLCBDaGF0UHJvbXB0VGVtcGxhdGUsIEh1bWFuTWVzc2FnZVByb21wdFRlbXBsYXRlLCBNZXNzYWdlc1BsYWNlaG9sZGVyLCBTeXN0ZW1NZXNzYWdlUHJvbXB0VGVtcGxhdGUgfSBmcm9tIFwiLi9jaGF0LmpzXCI7XG5pbXBvcnQgeyBGZXdTaG90Q2hhdE1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSwgRmV3U2hvdFByb21wdFRlbXBsYXRlIH0gZnJvbSBcIi4vZmV3X3Nob3QuanNcIjtcbmltcG9ydCB7IFBpcGVsaW5lUHJvbXB0VGVtcGxhdGUgfSBmcm9tIFwiLi9waXBlbGluZS5qc1wiO1xuaW1wb3J0IHsgU3RydWN0dXJlZFByb21wdCB9IGZyb20gXCIuL3N0cnVjdHVyZWQuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9wcm9tcHRzL2luZGV4LnRzXG52YXIgcHJvbXB0c19leHBvcnRzID0ge307XG5fX2V4cG9ydChwcm9tcHRzX2V4cG9ydHMsIHtcblx0QUlNZXNzYWdlUHJvbXB0VGVtcGxhdGU6ICgpID0+IEFJTWVzc2FnZVByb21wdFRlbXBsYXRlLFxuXHRCYXNlQ2hhdFByb21wdFRlbXBsYXRlOiAoKSA9PiBCYXNlQ2hhdFByb21wdFRlbXBsYXRlLFxuXHRCYXNlTWVzc2FnZVByb21wdFRlbXBsYXRlOiAoKSA9PiBCYXNlTWVzc2FnZVByb21wdFRlbXBsYXRlLFxuXHRCYXNlTWVzc2FnZVN0cmluZ1Byb21wdFRlbXBsYXRlOiAoKSA9PiBCYXNlTWVzc2FnZVN0cmluZ1Byb21wdFRlbXBsYXRlLFxuXHRCYXNlUHJvbXB0VGVtcGxhdGU6ICgpID0+IEJhc2VQcm9tcHRUZW1wbGF0ZSxcblx0QmFzZVN0cmluZ1Byb21wdFRlbXBsYXRlOiAoKSA9PiBCYXNlU3RyaW5nUHJvbXB0VGVtcGxhdGUsXG5cdENoYXRNZXNzYWdlUHJvbXB0VGVtcGxhdGU6ICgpID0+IENoYXRNZXNzYWdlUHJvbXB0VGVtcGxhdGUsXG5cdENoYXRQcm9tcHRUZW1wbGF0ZTogKCkgPT4gQ2hhdFByb21wdFRlbXBsYXRlLFxuXHRERUZBVUxUX0ZPUk1BVFRFUl9NQVBQSU5HOiAoKSA9PiBERUZBVUxUX0ZPUk1BVFRFUl9NQVBQSU5HLFxuXHRERUZBVUxUX1BBUlNFUl9NQVBQSU5HOiAoKSA9PiBERUZBVUxUX1BBUlNFUl9NQVBQSU5HLFxuXHREaWN0UHJvbXB0VGVtcGxhdGU6ICgpID0+IERpY3RQcm9tcHRUZW1wbGF0ZSxcblx0RmV3U2hvdENoYXRNZXNzYWdlUHJvbXB0VGVtcGxhdGU6ICgpID0+IEZld1Nob3RDaGF0TWVzc2FnZVByb21wdFRlbXBsYXRlLFxuXHRGZXdTaG90UHJvbXB0VGVtcGxhdGU6ICgpID0+IEZld1Nob3RQcm9tcHRUZW1wbGF0ZSxcblx0SHVtYW5NZXNzYWdlUHJvbXB0VGVtcGxhdGU6ICgpID0+IEh1bWFuTWVzc2FnZVByb21wdFRlbXBsYXRlLFxuXHRJbWFnZVByb21wdFRlbXBsYXRlOiAoKSA9PiBJbWFnZVByb21wdFRlbXBsYXRlLFxuXHRNZXNzYWdlc1BsYWNlaG9sZGVyOiAoKSA9PiBNZXNzYWdlc1BsYWNlaG9sZGVyLFxuXHRQaXBlbGluZVByb21wdFRlbXBsYXRlOiAoKSA9PiBQaXBlbGluZVByb21wdFRlbXBsYXRlLFxuXHRQcm9tcHRUZW1wbGF0ZTogKCkgPT4gUHJvbXB0VGVtcGxhdGUsXG5cdFN0cnVjdHVyZWRQcm9tcHQ6ICgpID0+IFN0cnVjdHVyZWRQcm9tcHQsXG5cdFN5c3RlbU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZTogKCkgPT4gU3lzdGVtTWVzc2FnZVByb21wdFRlbXBsYXRlLFxuXHRjaGVja1ZhbGlkVGVtcGxhdGU6ICgpID0+IGNoZWNrVmFsaWRUZW1wbGF0ZSxcblx0aW50ZXJwb2xhdGVGU3RyaW5nOiAoKSA9PiBpbnRlcnBvbGF0ZUZTdHJpbmcsXG5cdGludGVycG9sYXRlTXVzdGFjaGU6ICgpID0+IGludGVycG9sYXRlTXVzdGFjaGUsXG5cdHBhcnNlRlN0cmluZzogKCkgPT4gcGFyc2VGU3RyaW5nLFxuXHRwYXJzZU11c3RhY2hlOiAoKSA9PiBwYXJzZU11c3RhY2hlLFxuXHRwYXJzZVRlbXBsYXRlOiAoKSA9PiBwYXJzZVRlbXBsYXRlLFxuXHRyZW5kZXJUZW1wbGF0ZTogKCkgPT4gcmVuZGVyVGVtcGxhdGVcbn0pO1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEFJTWVzc2FnZVByb21wdFRlbXBsYXRlLCBCYXNlQ2hhdFByb21wdFRlbXBsYXRlLCBCYXNlTWVzc2FnZVByb21wdFRlbXBsYXRlLCBCYXNlTWVzc2FnZVN0cmluZ1Byb21wdFRlbXBsYXRlLCBCYXNlUHJvbXB0VGVtcGxhdGUsIEJhc2VTdHJpbmdQcm9tcHRUZW1wbGF0ZSwgQ2hhdE1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSwgQ2hhdFByb21wdFRlbXBsYXRlLCBERUZBVUxUX0ZPUk1BVFRFUl9NQVBQSU5HLCBERUZBVUxUX1BBUlNFUl9NQVBQSU5HLCBEaWN0UHJvbXB0VGVtcGxhdGUsIEZld1Nob3RDaGF0TWVzc2FnZVByb21wdFRlbXBsYXRlLCBGZXdTaG90UHJvbXB0VGVtcGxhdGUsIEh1bWFuTWVzc2FnZVByb21wdFRlbXBsYXRlLCBJbWFnZVByb21wdFRlbXBsYXRlLCBNZXNzYWdlc1BsYWNlaG9sZGVyLCBQaXBlbGluZVByb21wdFRlbXBsYXRlLCBQcm9tcHRUZW1wbGF0ZSwgU3RydWN0dXJlZFByb21wdCwgU3lzdGVtTWVzc2FnZVByb21wdFRlbXBsYXRlLCBjaGVja1ZhbGlkVGVtcGxhdGUsIGludGVycG9sYXRlRlN0cmluZywgaW50ZXJwb2xhdGVNdXN0YWNoZSwgcGFyc2VGU3RyaW5nLCBwYXJzZU11c3RhY2hlLCBwYXJzZVRlbXBsYXRlLCBwcm9tcHRzX2V4cG9ydHMsIHJlbmRlclRlbXBsYXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/pipeline.js":
/*!********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/pipeline.js ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PipelinePromptTemplate: () => (/* binding */ PipelinePromptTemplate)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/base.js\");\n/* harmony import */ var _chat_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chat.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/chat.js\");\n\n\n\n//#region src/prompts/pipeline.ts\n/**\n* Class that handles a sequence of prompts, each of which may require\n* different input variables. Includes methods for formatting these\n* prompts, extracting required input values, and handling partial\n* prompts.\n* @example\n* ```typescript\n* const composedPrompt = new PipelinePromptTemplate({\n*   pipelinePrompts: [\n*     {\n*       name: \"introduction\",\n*       prompt: PromptTemplate.fromTemplate(`You are impersonating {person}.`),\n*     },\n*     {\n*       name: \"example\",\n*       prompt: PromptTemplate.fromTemplate(\n*         `Here's an example of an interaction:\n* Q: {example_q}\n* A: {example_a}`,\n*       ),\n*     },\n*     {\n*       name: \"start\",\n*       prompt: PromptTemplate.fromTemplate(\n*         `Now, do this for real!\n* Q: {input}\n* A:`,\n*       ),\n*     },\n*   ],\n*   finalPrompt: PromptTemplate.fromTemplate(\n*     `{introduction}\n* {example}\n* {start}`,\n*   ),\n* });\n*\n* const formattedPrompt = await composedPrompt.format({\n*   person: \"Elon Musk\",\n*   example_q: `What's your favorite car?`,\n*   example_a: \"Tesla\",\n*   input: `What's your favorite social media site?`,\n* });\n* ```\n*/\nvar PipelinePromptTemplate = class PipelinePromptTemplate extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BasePromptTemplate {\n\tstatic lc_name() {\n\t\treturn \"PipelinePromptTemplate\";\n\t}\n\tpipelinePrompts;\n\tfinalPrompt;\n\tconstructor(input) {\n\t\tsuper({\n\t\t\t...input,\n\t\t\tinputVariables: []\n\t\t});\n\t\tthis.pipelinePrompts = input.pipelinePrompts;\n\t\tthis.finalPrompt = input.finalPrompt;\n\t\tthis.inputVariables = this.computeInputValues();\n\t}\n\t/**\n\t* Computes the input values required by the pipeline prompts.\n\t* @returns Array of input values required by the pipeline prompts.\n\t*/\n\tcomputeInputValues() {\n\t\tconst intermediateValues = this.pipelinePrompts.map((pipelinePrompt) => pipelinePrompt.name);\n\t\tconst inputValues = this.pipelinePrompts.map((pipelinePrompt) => pipelinePrompt.prompt.inputVariables.filter((inputValue) => !intermediateValues.includes(inputValue))).flat();\n\t\treturn [...new Set(inputValues)];\n\t}\n\tstatic extractRequiredInputValues(allValues, requiredValueNames) {\n\t\treturn requiredValueNames.reduce((requiredValues, valueName) => {\n\t\t\trequiredValues[valueName] = allValues[valueName];\n\t\t\treturn requiredValues;\n\t\t}, {});\n\t}\n\t/**\n\t* Formats the pipeline prompts based on the provided input values.\n\t* @param values Input values to format the pipeline prompts.\n\t* @returns Promise that resolves with the formatted input values.\n\t*/\n\tasync formatPipelinePrompts(values) {\n\t\tconst allValues = await this.mergePartialAndUserVariables(values);\n\t\tfor (const { name: pipelinePromptName, prompt: pipelinePrompt } of this.pipelinePrompts) {\n\t\t\tconst pipelinePromptInputValues = PipelinePromptTemplate.extractRequiredInputValues(allValues, pipelinePrompt.inputVariables);\n\t\t\tif (pipelinePrompt instanceof _chat_js__WEBPACK_IMPORTED_MODULE_1__.ChatPromptTemplate) allValues[pipelinePromptName] = await pipelinePrompt.formatMessages(pipelinePromptInputValues);\n\t\t\telse allValues[pipelinePromptName] = await pipelinePrompt.format(pipelinePromptInputValues);\n\t\t}\n\t\treturn PipelinePromptTemplate.extractRequiredInputValues(allValues, this.finalPrompt.inputVariables);\n\t}\n\t/**\n\t* Formats the final prompt value based on the provided input values.\n\t* @param values Input values to format the final prompt value.\n\t* @returns Promise that resolves with the formatted final prompt value.\n\t*/\n\tasync formatPromptValue(values) {\n\t\treturn this.finalPrompt.formatPromptValue(await this.formatPipelinePrompts(values));\n\t}\n\tasync format(values) {\n\t\treturn this.finalPrompt.format(await this.formatPipelinePrompts(values));\n\t}\n\t/**\n\t* Handles partial prompts, which are prompts that have been partially\n\t* filled with input values.\n\t* @param values Partial input values.\n\t* @returns Promise that resolves with a new PipelinePromptTemplate instance with updated input variables.\n\t*/\n\tasync partial(values) {\n\t\tconst promptDict = { ...this };\n\t\tpromptDict.inputVariables = this.inputVariables.filter((iv) => !(iv in values));\n\t\tpromptDict.partialVariables = {\n\t\t\t...this.partialVariables ?? {},\n\t\t\t...values\n\t\t};\n\t\treturn new PipelinePromptTemplate(promptDict);\n\t}\n\tserialize() {\n\t\tthrow new Error(\"Not implemented.\");\n\t}\n\t_getPromptType() {\n\t\treturn \"pipeline\";\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=pipeline.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9wcm9tcHRzL3BpcGVsaW5lLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUErQztBQUNBOztBQUUvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRUFBb0UsT0FBTztBQUMzRSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sTUFBTSxVQUFVO0FBQ2hCO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLFFBQVE7QUFDUixHQUFHO0FBQ0gsR0FBRyxNQUFNO0FBQ1Q7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxrRUFBa0Usd0RBQWtCO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxJQUFJO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsbURBQW1EO0FBQ2xFO0FBQ0EsaUNBQWlDLHdEQUFrQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDa0M7QUFDbEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3Byb21wdHMvcGlwZWxpbmUuanM/OTk3OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYXNlUHJvbXB0VGVtcGxhdGUgfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5pbXBvcnQgeyBDaGF0UHJvbXB0VGVtcGxhdGUgfSBmcm9tIFwiLi9jaGF0LmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvcHJvbXB0cy9waXBlbGluZS50c1xuLyoqXG4qIENsYXNzIHRoYXQgaGFuZGxlcyBhIHNlcXVlbmNlIG9mIHByb21wdHMsIGVhY2ggb2Ygd2hpY2ggbWF5IHJlcXVpcmVcbiogZGlmZmVyZW50IGlucHV0IHZhcmlhYmxlcy4gSW5jbHVkZXMgbWV0aG9kcyBmb3IgZm9ybWF0dGluZyB0aGVzZVxuKiBwcm9tcHRzLCBleHRyYWN0aW5nIHJlcXVpcmVkIGlucHV0IHZhbHVlcywgYW5kIGhhbmRsaW5nIHBhcnRpYWxcbiogcHJvbXB0cy5cbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBjb21wb3NlZFByb21wdCA9IG5ldyBQaXBlbGluZVByb21wdFRlbXBsYXRlKHtcbiogICBwaXBlbGluZVByb21wdHM6IFtcbiogICAgIHtcbiogICAgICAgbmFtZTogXCJpbnRyb2R1Y3Rpb25cIixcbiogICAgICAgcHJvbXB0OiBQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUoYFlvdSBhcmUgaW1wZXJzb25hdGluZyB7cGVyc29ufS5gKSxcbiogICAgIH0sXG4qICAgICB7XG4qICAgICAgIG5hbWU6IFwiZXhhbXBsZVwiLFxuKiAgICAgICBwcm9tcHQ6IFByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZShcbiogICAgICAgICBgSGVyZSdzIGFuIGV4YW1wbGUgb2YgYW4gaW50ZXJhY3Rpb246XG4qIFE6IHtleGFtcGxlX3F9XG4qIEE6IHtleGFtcGxlX2F9YCxcbiogICAgICAgKSxcbiogICAgIH0sXG4qICAgICB7XG4qICAgICAgIG5hbWU6IFwic3RhcnRcIixcbiogICAgICAgcHJvbXB0OiBQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUoXG4qICAgICAgICAgYE5vdywgZG8gdGhpcyBmb3IgcmVhbCFcbiogUToge2lucHV0fVxuKiBBOmAsXG4qICAgICAgICksXG4qICAgICB9LFxuKiAgIF0sXG4qICAgZmluYWxQcm9tcHQ6IFByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZShcbiogICAgIGB7aW50cm9kdWN0aW9ufVxuKiB7ZXhhbXBsZX1cbioge3N0YXJ0fWAsXG4qICAgKSxcbiogfSk7XG4qXG4qIGNvbnN0IGZvcm1hdHRlZFByb21wdCA9IGF3YWl0IGNvbXBvc2VkUHJvbXB0LmZvcm1hdCh7XG4qICAgcGVyc29uOiBcIkVsb24gTXVza1wiLFxuKiAgIGV4YW1wbGVfcTogYFdoYXQncyB5b3VyIGZhdm9yaXRlIGNhcj9gLFxuKiAgIGV4YW1wbGVfYTogXCJUZXNsYVwiLFxuKiAgIGlucHV0OiBgV2hhdCdzIHlvdXIgZmF2b3JpdGUgc29jaWFsIG1lZGlhIHNpdGU/YCxcbiogfSk7XG4qIGBgYFxuKi9cbnZhciBQaXBlbGluZVByb21wdFRlbXBsYXRlID0gY2xhc3MgUGlwZWxpbmVQcm9tcHRUZW1wbGF0ZSBleHRlbmRzIEJhc2VQcm9tcHRUZW1wbGF0ZSB7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIlBpcGVsaW5lUHJvbXB0VGVtcGxhdGVcIjtcblx0fVxuXHRwaXBlbGluZVByb21wdHM7XG5cdGZpbmFsUHJvbXB0O1xuXHRjb25zdHJ1Y3RvcihpbnB1dCkge1xuXHRcdHN1cGVyKHtcblx0XHRcdC4uLmlucHV0LFxuXHRcdFx0aW5wdXRWYXJpYWJsZXM6IFtdXG5cdFx0fSk7XG5cdFx0dGhpcy5waXBlbGluZVByb21wdHMgPSBpbnB1dC5waXBlbGluZVByb21wdHM7XG5cdFx0dGhpcy5maW5hbFByb21wdCA9IGlucHV0LmZpbmFsUHJvbXB0O1xuXHRcdHRoaXMuaW5wdXRWYXJpYWJsZXMgPSB0aGlzLmNvbXB1dGVJbnB1dFZhbHVlcygpO1xuXHR9XG5cdC8qKlxuXHQqIENvbXB1dGVzIHRoZSBpbnB1dCB2YWx1ZXMgcmVxdWlyZWQgYnkgdGhlIHBpcGVsaW5lIHByb21wdHMuXG5cdCogQHJldHVybnMgQXJyYXkgb2YgaW5wdXQgdmFsdWVzIHJlcXVpcmVkIGJ5IHRoZSBwaXBlbGluZSBwcm9tcHRzLlxuXHQqL1xuXHRjb21wdXRlSW5wdXRWYWx1ZXMoKSB7XG5cdFx0Y29uc3QgaW50ZXJtZWRpYXRlVmFsdWVzID0gdGhpcy5waXBlbGluZVByb21wdHMubWFwKChwaXBlbGluZVByb21wdCkgPT4gcGlwZWxpbmVQcm9tcHQubmFtZSk7XG5cdFx0Y29uc3QgaW5wdXRWYWx1ZXMgPSB0aGlzLnBpcGVsaW5lUHJvbXB0cy5tYXAoKHBpcGVsaW5lUHJvbXB0KSA9PiBwaXBlbGluZVByb21wdC5wcm9tcHQuaW5wdXRWYXJpYWJsZXMuZmlsdGVyKChpbnB1dFZhbHVlKSA9PiAhaW50ZXJtZWRpYXRlVmFsdWVzLmluY2x1ZGVzKGlucHV0VmFsdWUpKSkuZmxhdCgpO1xuXHRcdHJldHVybiBbLi4ubmV3IFNldChpbnB1dFZhbHVlcyldO1xuXHR9XG5cdHN0YXRpYyBleHRyYWN0UmVxdWlyZWRJbnB1dFZhbHVlcyhhbGxWYWx1ZXMsIHJlcXVpcmVkVmFsdWVOYW1lcykge1xuXHRcdHJldHVybiByZXF1aXJlZFZhbHVlTmFtZXMucmVkdWNlKChyZXF1aXJlZFZhbHVlcywgdmFsdWVOYW1lKSA9PiB7XG5cdFx0XHRyZXF1aXJlZFZhbHVlc1t2YWx1ZU5hbWVdID0gYWxsVmFsdWVzW3ZhbHVlTmFtZV07XG5cdFx0XHRyZXR1cm4gcmVxdWlyZWRWYWx1ZXM7XG5cdFx0fSwge30pO1xuXHR9XG5cdC8qKlxuXHQqIEZvcm1hdHMgdGhlIHBpcGVsaW5lIHByb21wdHMgYmFzZWQgb24gdGhlIHByb3ZpZGVkIGlucHV0IHZhbHVlcy5cblx0KiBAcGFyYW0gdmFsdWVzIElucHV0IHZhbHVlcyB0byBmb3JtYXQgdGhlIHBpcGVsaW5lIHByb21wdHMuXG5cdCogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIGZvcm1hdHRlZCBpbnB1dCB2YWx1ZXMuXG5cdCovXG5cdGFzeW5jIGZvcm1hdFBpcGVsaW5lUHJvbXB0cyh2YWx1ZXMpIHtcblx0XHRjb25zdCBhbGxWYWx1ZXMgPSBhd2FpdCB0aGlzLm1lcmdlUGFydGlhbEFuZFVzZXJWYXJpYWJsZXModmFsdWVzKTtcblx0XHRmb3IgKGNvbnN0IHsgbmFtZTogcGlwZWxpbmVQcm9tcHROYW1lLCBwcm9tcHQ6IHBpcGVsaW5lUHJvbXB0IH0gb2YgdGhpcy5waXBlbGluZVByb21wdHMpIHtcblx0XHRcdGNvbnN0IHBpcGVsaW5lUHJvbXB0SW5wdXRWYWx1ZXMgPSBQaXBlbGluZVByb21wdFRlbXBsYXRlLmV4dHJhY3RSZXF1aXJlZElucHV0VmFsdWVzKGFsbFZhbHVlcywgcGlwZWxpbmVQcm9tcHQuaW5wdXRWYXJpYWJsZXMpO1xuXHRcdFx0aWYgKHBpcGVsaW5lUHJvbXB0IGluc3RhbmNlb2YgQ2hhdFByb21wdFRlbXBsYXRlKSBhbGxWYWx1ZXNbcGlwZWxpbmVQcm9tcHROYW1lXSA9IGF3YWl0IHBpcGVsaW5lUHJvbXB0LmZvcm1hdE1lc3NhZ2VzKHBpcGVsaW5lUHJvbXB0SW5wdXRWYWx1ZXMpO1xuXHRcdFx0ZWxzZSBhbGxWYWx1ZXNbcGlwZWxpbmVQcm9tcHROYW1lXSA9IGF3YWl0IHBpcGVsaW5lUHJvbXB0LmZvcm1hdChwaXBlbGluZVByb21wdElucHV0VmFsdWVzKTtcblx0XHR9XG5cdFx0cmV0dXJuIFBpcGVsaW5lUHJvbXB0VGVtcGxhdGUuZXh0cmFjdFJlcXVpcmVkSW5wdXRWYWx1ZXMoYWxsVmFsdWVzLCB0aGlzLmZpbmFsUHJvbXB0LmlucHV0VmFyaWFibGVzKTtcblx0fVxuXHQvKipcblx0KiBGb3JtYXRzIHRoZSBmaW5hbCBwcm9tcHQgdmFsdWUgYmFzZWQgb24gdGhlIHByb3ZpZGVkIGlucHV0IHZhbHVlcy5cblx0KiBAcGFyYW0gdmFsdWVzIElucHV0IHZhbHVlcyB0byBmb3JtYXQgdGhlIGZpbmFsIHByb21wdCB2YWx1ZS5cblx0KiBAcmV0dXJucyBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgZm9ybWF0dGVkIGZpbmFsIHByb21wdCB2YWx1ZS5cblx0Ki9cblx0YXN5bmMgZm9ybWF0UHJvbXB0VmFsdWUodmFsdWVzKSB7XG5cdFx0cmV0dXJuIHRoaXMuZmluYWxQcm9tcHQuZm9ybWF0UHJvbXB0VmFsdWUoYXdhaXQgdGhpcy5mb3JtYXRQaXBlbGluZVByb21wdHModmFsdWVzKSk7XG5cdH1cblx0YXN5bmMgZm9ybWF0KHZhbHVlcykge1xuXHRcdHJldHVybiB0aGlzLmZpbmFsUHJvbXB0LmZvcm1hdChhd2FpdCB0aGlzLmZvcm1hdFBpcGVsaW5lUHJvbXB0cyh2YWx1ZXMpKTtcblx0fVxuXHQvKipcblx0KiBIYW5kbGVzIHBhcnRpYWwgcHJvbXB0cywgd2hpY2ggYXJlIHByb21wdHMgdGhhdCBoYXZlIGJlZW4gcGFydGlhbGx5XG5cdCogZmlsbGVkIHdpdGggaW5wdXQgdmFsdWVzLlxuXHQqIEBwYXJhbSB2YWx1ZXMgUGFydGlhbCBpbnB1dCB2YWx1ZXMuXG5cdCogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggYSBuZXcgUGlwZWxpbmVQcm9tcHRUZW1wbGF0ZSBpbnN0YW5jZSB3aXRoIHVwZGF0ZWQgaW5wdXQgdmFyaWFibGVzLlxuXHQqL1xuXHRhc3luYyBwYXJ0aWFsKHZhbHVlcykge1xuXHRcdGNvbnN0IHByb21wdERpY3QgPSB7IC4uLnRoaXMgfTtcblx0XHRwcm9tcHREaWN0LmlucHV0VmFyaWFibGVzID0gdGhpcy5pbnB1dFZhcmlhYmxlcy5maWx0ZXIoKGl2KSA9PiAhKGl2IGluIHZhbHVlcykpO1xuXHRcdHByb21wdERpY3QucGFydGlhbFZhcmlhYmxlcyA9IHtcblx0XHRcdC4uLnRoaXMucGFydGlhbFZhcmlhYmxlcyA/PyB7fSxcblx0XHRcdC4uLnZhbHVlc1xuXHRcdH07XG5cdFx0cmV0dXJuIG5ldyBQaXBlbGluZVByb21wdFRlbXBsYXRlKHByb21wdERpY3QpO1xuXHR9XG5cdHNlcmlhbGl6ZSgpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWQuXCIpO1xuXHR9XG5cdF9nZXRQcm9tcHRUeXBlKCkge1xuXHRcdHJldHVybiBcInBpcGVsaW5lXCI7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgUGlwZWxpbmVQcm9tcHRUZW1wbGF0ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGlwZWxpbmUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/pipeline.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/prompt.js":
/*!******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/prompt.js ***!
  \******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PromptTemplate: () => (/* binding */ PromptTemplate)\n/* harmony export */ });\n/* harmony import */ var _string_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./string.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/string.js\");\n/* harmony import */ var _template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./template.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/template.js\");\n\n\n\n//#region src/prompts/prompt.ts\n/**\n* Schema to represent a basic prompt for an LLM.\n* @augments BasePromptTemplate\n* @augments PromptTemplateInput\n*\n* @example\n* ```ts\n* import { PromptTemplate } from \"langchain/prompts\";\n*\n* const prompt = new PromptTemplate({\n*   inputVariables: [\"foo\"],\n*   template: \"Say {foo}\",\n* });\n* ```\n*/\nvar PromptTemplate = class PromptTemplate extends _string_js__WEBPACK_IMPORTED_MODULE_0__.BaseStringPromptTemplate {\n\tstatic lc_name() {\n\t\treturn \"PromptTemplate\";\n\t}\n\ttemplate;\n\ttemplateFormat = \"f-string\";\n\tvalidateTemplate = true;\n\t/**\n\t* Additional fields which should be included inside\n\t* the message content array if using a complex message\n\t* content.\n\t*/\n\tadditionalContentFields;\n\tconstructor(input) {\n\t\tsuper(input);\n\t\tif (input.templateFormat === \"mustache\" && input.validateTemplate === void 0) this.validateTemplate = false;\n\t\tObject.assign(this, input);\n\t\tif (this.validateTemplate) {\n\t\t\tif (this.templateFormat === \"mustache\") throw new Error(\"Mustache templates cannot be validated.\");\n\t\t\tlet totalInputVariables = this.inputVariables;\n\t\t\tif (this.partialVariables) totalInputVariables = totalInputVariables.concat(Object.keys(this.partialVariables));\n\t\t\t(0,_template_js__WEBPACK_IMPORTED_MODULE_1__.checkValidTemplate)(this.template, this.templateFormat, totalInputVariables);\n\t\t}\n\t}\n\t_getPromptType() {\n\t\treturn \"prompt\";\n\t}\n\t/**\n\t* Formats the prompt template with the provided values.\n\t* @param values The values to be used to format the prompt template.\n\t* @returns A promise that resolves to a string which is the formatted prompt.\n\t*/\n\tasync format(values) {\n\t\tconst allValues = await this.mergePartialAndUserVariables(values);\n\t\treturn (0,_template_js__WEBPACK_IMPORTED_MODULE_1__.renderTemplate)(this.template, this.templateFormat, allValues);\n\t}\n\t/**\n\t* Take examples in list format with prefix and suffix to create a prompt.\n\t*\n\t* Intended to be used a a way to dynamically create a prompt from examples.\n\t*\n\t* @param examples - List of examples to use in the prompt.\n\t* @param suffix - String to go after the list of examples. Should generally set up the user's input.\n\t* @param inputVariables - A list of variable names the final prompt template will expect\n\t* @param exampleSeparator - The separator to use in between examples\n\t* @param prefix - String that should go before any examples. Generally includes examples.\n\t*\n\t* @returns The final prompt template generated.\n\t*/\n\tstatic fromExamples(examples, suffix, inputVariables, exampleSeparator = \"\\n\\n\", prefix = \"\") {\n\t\tconst template = [\n\t\t\tprefix,\n\t\t\t...examples,\n\t\t\tsuffix\n\t\t].join(exampleSeparator);\n\t\treturn new PromptTemplate({\n\t\t\tinputVariables,\n\t\t\ttemplate\n\t\t});\n\t}\n\tstatic fromTemplate(template, options) {\n\t\tconst { templateFormat = \"f-string\",...rest } = options ?? {};\n\t\tconst names = /* @__PURE__ */ new Set();\n\t\t(0,_template_js__WEBPACK_IMPORTED_MODULE_1__.parseTemplate)(template, templateFormat).forEach((node) => {\n\t\t\tif (node.type === \"variable\") names.add(node.name);\n\t\t});\n\t\treturn new PromptTemplate({\n\t\t\tinputVariables: [...names],\n\t\t\ttemplateFormat,\n\t\t\ttemplate,\n\t\t\t...rest\n\t\t});\n\t}\n\t/**\n\t* Partially applies values to the prompt template.\n\t* @param values The values to be partially applied to the prompt template.\n\t* @returns A new instance of PromptTemplate with the partially applied values.\n\t*/\n\tasync partial(values) {\n\t\tconst newInputVariables = this.inputVariables.filter((iv) => !(iv in values));\n\t\tconst newPartialVariables = {\n\t\t\t...this.partialVariables ?? {},\n\t\t\t...values\n\t\t};\n\t\tconst promptDict = {\n\t\t\t...this,\n\t\t\tinputVariables: newInputVariables,\n\t\t\tpartialVariables: newPartialVariables\n\t\t};\n\t\treturn new PromptTemplate(promptDict);\n\t}\n\tserialize() {\n\t\tif (this.outputParser !== void 0) throw new Error(\"Cannot serialize a prompt template with an output parser\");\n\t\treturn {\n\t\t\t_type: this._getPromptType(),\n\t\t\tinput_variables: this.inputVariables,\n\t\t\ttemplate: this.template,\n\t\t\ttemplate_format: this.templateFormat\n\t\t};\n\t}\n\tstatic async deserialize(data) {\n\t\tif (!data.template) throw new Error(\"Prompt template must have a template\");\n\t\tconst res = new PromptTemplate({\n\t\t\tinputVariables: data.input_variables,\n\t\t\ttemplate: data.template,\n\t\t\ttemplateFormat: data.template_format\n\t\t});\n\t\treturn res;\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=prompt.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9wcm9tcHRzL3Byb21wdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBdUQ7QUFDMkI7O0FBRWxGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGlCQUFpQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsSUFBSTtBQUN4QixHQUFHO0FBQ0g7QUFDQTtBQUNBLGtEQUFrRCxnRUFBd0I7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsZ0VBQWtCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsNERBQWM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsVUFBVSxzQ0FBc0M7QUFDaEQ7QUFDQSxFQUFFLDJEQUFhO0FBQ2Y7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUMwQjtBQUMxQiIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvcHJvbXB0cy9wcm9tcHQuanM/ZDViZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYXNlU3RyaW5nUHJvbXB0VGVtcGxhdGUgfSBmcm9tIFwiLi9zdHJpbmcuanNcIjtcbmltcG9ydCB7IGNoZWNrVmFsaWRUZW1wbGF0ZSwgcGFyc2VUZW1wbGF0ZSwgcmVuZGVyVGVtcGxhdGUgfSBmcm9tIFwiLi90ZW1wbGF0ZS5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3Byb21wdHMvcHJvbXB0LnRzXG4vKipcbiogU2NoZW1hIHRvIHJlcHJlc2VudCBhIGJhc2ljIHByb21wdCBmb3IgYW4gTExNLlxuKiBAYXVnbWVudHMgQmFzZVByb21wdFRlbXBsYXRlXG4qIEBhdWdtZW50cyBQcm9tcHRUZW1wbGF0ZUlucHV0XG4qXG4qIEBleGFtcGxlXG4qIGBgYHRzXG4qIGltcG9ydCB7IFByb21wdFRlbXBsYXRlIH0gZnJvbSBcImxhbmdjaGFpbi9wcm9tcHRzXCI7XG4qXG4qIGNvbnN0IHByb21wdCA9IG5ldyBQcm9tcHRUZW1wbGF0ZSh7XG4qICAgaW5wdXRWYXJpYWJsZXM6IFtcImZvb1wiXSxcbiogICB0ZW1wbGF0ZTogXCJTYXkge2Zvb31cIixcbiogfSk7XG4qIGBgYFxuKi9cbnZhciBQcm9tcHRUZW1wbGF0ZSA9IGNsYXNzIFByb21wdFRlbXBsYXRlIGV4dGVuZHMgQmFzZVN0cmluZ1Byb21wdFRlbXBsYXRlIHtcblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiUHJvbXB0VGVtcGxhdGVcIjtcblx0fVxuXHR0ZW1wbGF0ZTtcblx0dGVtcGxhdGVGb3JtYXQgPSBcImYtc3RyaW5nXCI7XG5cdHZhbGlkYXRlVGVtcGxhdGUgPSB0cnVlO1xuXHQvKipcblx0KiBBZGRpdGlvbmFsIGZpZWxkcyB3aGljaCBzaG91bGQgYmUgaW5jbHVkZWQgaW5zaWRlXG5cdCogdGhlIG1lc3NhZ2UgY29udGVudCBhcnJheSBpZiB1c2luZyBhIGNvbXBsZXggbWVzc2FnZVxuXHQqIGNvbnRlbnQuXG5cdCovXG5cdGFkZGl0aW9uYWxDb250ZW50RmllbGRzO1xuXHRjb25zdHJ1Y3RvcihpbnB1dCkge1xuXHRcdHN1cGVyKGlucHV0KTtcblx0XHRpZiAoaW5wdXQudGVtcGxhdGVGb3JtYXQgPT09IFwibXVzdGFjaGVcIiAmJiBpbnB1dC52YWxpZGF0ZVRlbXBsYXRlID09PSB2b2lkIDApIHRoaXMudmFsaWRhdGVUZW1wbGF0ZSA9IGZhbHNlO1xuXHRcdE9iamVjdC5hc3NpZ24odGhpcywgaW5wdXQpO1xuXHRcdGlmICh0aGlzLnZhbGlkYXRlVGVtcGxhdGUpIHtcblx0XHRcdGlmICh0aGlzLnRlbXBsYXRlRm9ybWF0ID09PSBcIm11c3RhY2hlXCIpIHRocm93IG5ldyBFcnJvcihcIk11c3RhY2hlIHRlbXBsYXRlcyBjYW5ub3QgYmUgdmFsaWRhdGVkLlwiKTtcblx0XHRcdGxldCB0b3RhbElucHV0VmFyaWFibGVzID0gdGhpcy5pbnB1dFZhcmlhYmxlcztcblx0XHRcdGlmICh0aGlzLnBhcnRpYWxWYXJpYWJsZXMpIHRvdGFsSW5wdXRWYXJpYWJsZXMgPSB0b3RhbElucHV0VmFyaWFibGVzLmNvbmNhdChPYmplY3Qua2V5cyh0aGlzLnBhcnRpYWxWYXJpYWJsZXMpKTtcblx0XHRcdGNoZWNrVmFsaWRUZW1wbGF0ZSh0aGlzLnRlbXBsYXRlLCB0aGlzLnRlbXBsYXRlRm9ybWF0LCB0b3RhbElucHV0VmFyaWFibGVzKTtcblx0XHR9XG5cdH1cblx0X2dldFByb21wdFR5cGUoKSB7XG5cdFx0cmV0dXJuIFwicHJvbXB0XCI7XG5cdH1cblx0LyoqXG5cdCogRm9ybWF0cyB0aGUgcHJvbXB0IHRlbXBsYXRlIHdpdGggdGhlIHByb3ZpZGVkIHZhbHVlcy5cblx0KiBAcGFyYW0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gYmUgdXNlZCB0byBmb3JtYXQgdGhlIHByb21wdCB0ZW1wbGF0ZS5cblx0KiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIHN0cmluZyB3aGljaCBpcyB0aGUgZm9ybWF0dGVkIHByb21wdC5cblx0Ki9cblx0YXN5bmMgZm9ybWF0KHZhbHVlcykge1xuXHRcdGNvbnN0IGFsbFZhbHVlcyA9IGF3YWl0IHRoaXMubWVyZ2VQYXJ0aWFsQW5kVXNlclZhcmlhYmxlcyh2YWx1ZXMpO1xuXHRcdHJldHVybiByZW5kZXJUZW1wbGF0ZSh0aGlzLnRlbXBsYXRlLCB0aGlzLnRlbXBsYXRlRm9ybWF0LCBhbGxWYWx1ZXMpO1xuXHR9XG5cdC8qKlxuXHQqIFRha2UgZXhhbXBsZXMgaW4gbGlzdCBmb3JtYXQgd2l0aCBwcmVmaXggYW5kIHN1ZmZpeCB0byBjcmVhdGUgYSBwcm9tcHQuXG5cdCpcblx0KiBJbnRlbmRlZCB0byBiZSB1c2VkIGEgYSB3YXkgdG8gZHluYW1pY2FsbHkgY3JlYXRlIGEgcHJvbXB0IGZyb20gZXhhbXBsZXMuXG5cdCpcblx0KiBAcGFyYW0gZXhhbXBsZXMgLSBMaXN0IG9mIGV4YW1wbGVzIHRvIHVzZSBpbiB0aGUgcHJvbXB0LlxuXHQqIEBwYXJhbSBzdWZmaXggLSBTdHJpbmcgdG8gZ28gYWZ0ZXIgdGhlIGxpc3Qgb2YgZXhhbXBsZXMuIFNob3VsZCBnZW5lcmFsbHkgc2V0IHVwIHRoZSB1c2VyJ3MgaW5wdXQuXG5cdCogQHBhcmFtIGlucHV0VmFyaWFibGVzIC0gQSBsaXN0IG9mIHZhcmlhYmxlIG5hbWVzIHRoZSBmaW5hbCBwcm9tcHQgdGVtcGxhdGUgd2lsbCBleHBlY3Rcblx0KiBAcGFyYW0gZXhhbXBsZVNlcGFyYXRvciAtIFRoZSBzZXBhcmF0b3IgdG8gdXNlIGluIGJldHdlZW4gZXhhbXBsZXNcblx0KiBAcGFyYW0gcHJlZml4IC0gU3RyaW5nIHRoYXQgc2hvdWxkIGdvIGJlZm9yZSBhbnkgZXhhbXBsZXMuIEdlbmVyYWxseSBpbmNsdWRlcyBleGFtcGxlcy5cblx0KlxuXHQqIEByZXR1cm5zIFRoZSBmaW5hbCBwcm9tcHQgdGVtcGxhdGUgZ2VuZXJhdGVkLlxuXHQqL1xuXHRzdGF0aWMgZnJvbUV4YW1wbGVzKGV4YW1wbGVzLCBzdWZmaXgsIGlucHV0VmFyaWFibGVzLCBleGFtcGxlU2VwYXJhdG9yID0gXCJcXG5cXG5cIiwgcHJlZml4ID0gXCJcIikge1xuXHRcdGNvbnN0IHRlbXBsYXRlID0gW1xuXHRcdFx0cHJlZml4LFxuXHRcdFx0Li4uZXhhbXBsZXMsXG5cdFx0XHRzdWZmaXhcblx0XHRdLmpvaW4oZXhhbXBsZVNlcGFyYXRvcik7XG5cdFx0cmV0dXJuIG5ldyBQcm9tcHRUZW1wbGF0ZSh7XG5cdFx0XHRpbnB1dFZhcmlhYmxlcyxcblx0XHRcdHRlbXBsYXRlXG5cdFx0fSk7XG5cdH1cblx0c3RhdGljIGZyb21UZW1wbGF0ZSh0ZW1wbGF0ZSwgb3B0aW9ucykge1xuXHRcdGNvbnN0IHsgdGVtcGxhdGVGb3JtYXQgPSBcImYtc3RyaW5nXCIsLi4ucmVzdCB9ID0gb3B0aW9ucyA/PyB7fTtcblx0XHRjb25zdCBuYW1lcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG5cdFx0cGFyc2VUZW1wbGF0ZSh0ZW1wbGF0ZSwgdGVtcGxhdGVGb3JtYXQpLmZvckVhY2goKG5vZGUpID0+IHtcblx0XHRcdGlmIChub2RlLnR5cGUgPT09IFwidmFyaWFibGVcIikgbmFtZXMuYWRkKG5vZGUubmFtZSk7XG5cdFx0fSk7XG5cdFx0cmV0dXJuIG5ldyBQcm9tcHRUZW1wbGF0ZSh7XG5cdFx0XHRpbnB1dFZhcmlhYmxlczogWy4uLm5hbWVzXSxcblx0XHRcdHRlbXBsYXRlRm9ybWF0LFxuXHRcdFx0dGVtcGxhdGUsXG5cdFx0XHQuLi5yZXN0XG5cdFx0fSk7XG5cdH1cblx0LyoqXG5cdCogUGFydGlhbGx5IGFwcGxpZXMgdmFsdWVzIHRvIHRoZSBwcm9tcHQgdGVtcGxhdGUuXG5cdCogQHBhcmFtIHZhbHVlcyBUaGUgdmFsdWVzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkIHRvIHRoZSBwcm9tcHQgdGVtcGxhdGUuXG5cdCogQHJldHVybnMgQSBuZXcgaW5zdGFuY2Ugb2YgUHJvbXB0VGVtcGxhdGUgd2l0aCB0aGUgcGFydGlhbGx5IGFwcGxpZWQgdmFsdWVzLlxuXHQqL1xuXHRhc3luYyBwYXJ0aWFsKHZhbHVlcykge1xuXHRcdGNvbnN0IG5ld0lucHV0VmFyaWFibGVzID0gdGhpcy5pbnB1dFZhcmlhYmxlcy5maWx0ZXIoKGl2KSA9PiAhKGl2IGluIHZhbHVlcykpO1xuXHRcdGNvbnN0IG5ld1BhcnRpYWxWYXJpYWJsZXMgPSB7XG5cdFx0XHQuLi50aGlzLnBhcnRpYWxWYXJpYWJsZXMgPz8ge30sXG5cdFx0XHQuLi52YWx1ZXNcblx0XHR9O1xuXHRcdGNvbnN0IHByb21wdERpY3QgPSB7XG5cdFx0XHQuLi50aGlzLFxuXHRcdFx0aW5wdXRWYXJpYWJsZXM6IG5ld0lucHV0VmFyaWFibGVzLFxuXHRcdFx0cGFydGlhbFZhcmlhYmxlczogbmV3UGFydGlhbFZhcmlhYmxlc1xuXHRcdH07XG5cdFx0cmV0dXJuIG5ldyBQcm9tcHRUZW1wbGF0ZShwcm9tcHREaWN0KTtcblx0fVxuXHRzZXJpYWxpemUoKSB7XG5cdFx0aWYgKHRoaXMub3V0cHV0UGFyc2VyICE9PSB2b2lkIDApIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBzZXJpYWxpemUgYSBwcm9tcHQgdGVtcGxhdGUgd2l0aCBhbiBvdXRwdXQgcGFyc2VyXCIpO1xuXHRcdHJldHVybiB7XG5cdFx0XHRfdHlwZTogdGhpcy5fZ2V0UHJvbXB0VHlwZSgpLFxuXHRcdFx0aW5wdXRfdmFyaWFibGVzOiB0aGlzLmlucHV0VmFyaWFibGVzLFxuXHRcdFx0dGVtcGxhdGU6IHRoaXMudGVtcGxhdGUsXG5cdFx0XHR0ZW1wbGF0ZV9mb3JtYXQ6IHRoaXMudGVtcGxhdGVGb3JtYXRcblx0XHR9O1xuXHR9XG5cdHN0YXRpYyBhc3luYyBkZXNlcmlhbGl6ZShkYXRhKSB7XG5cdFx0aWYgKCFkYXRhLnRlbXBsYXRlKSB0aHJvdyBuZXcgRXJyb3IoXCJQcm9tcHQgdGVtcGxhdGUgbXVzdCBoYXZlIGEgdGVtcGxhdGVcIik7XG5cdFx0Y29uc3QgcmVzID0gbmV3IFByb21wdFRlbXBsYXRlKHtcblx0XHRcdGlucHV0VmFyaWFibGVzOiBkYXRhLmlucHV0X3ZhcmlhYmxlcyxcblx0XHRcdHRlbXBsYXRlOiBkYXRhLnRlbXBsYXRlLFxuXHRcdFx0dGVtcGxhdGVGb3JtYXQ6IGRhdGEudGVtcGxhdGVfZm9ybWF0XG5cdFx0fSk7XG5cdFx0cmV0dXJuIHJlcztcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBQcm9tcHRUZW1wbGF0ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvbXB0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/prompt.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/string.js":
/*!******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/string.js ***!
  \******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseStringPromptTemplate: () => (/* binding */ BaseStringPromptTemplate)\n/* harmony export */ });\n/* harmony import */ var _prompt_values_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../prompt_values.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompt_values.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/base.js\");\n\n\n\n//#region src/prompts/string.ts\n/**\n* Base class for string prompt templates. It extends the\n* BasePromptTemplate class and overrides the formatPromptValue method to\n* return a StringPromptValue.\n*/\nvar BaseStringPromptTemplate = class extends _base_js__WEBPACK_IMPORTED_MODULE_1__.BasePromptTemplate {\n\t/**\n\t* Formats the prompt given the input values and returns a formatted\n\t* prompt value.\n\t* @param values The input values to format the prompt.\n\t* @returns A Promise that resolves to a formatted prompt value.\n\t*/\n\tasync formatPromptValue(values) {\n\t\tconst formattedPrompt = await this.format(values);\n\t\treturn new _prompt_values_js__WEBPACK_IMPORTED_MODULE_0__.StringPromptValue(formattedPrompt);\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=string.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9wcm9tcHRzL3N0cmluZy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBd0Q7QUFDVDs7QUFFL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLHdEQUFrQjtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxnRUFBaUI7QUFDOUI7QUFDQTs7QUFFQTtBQUNvQztBQUNwQyIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvcHJvbXB0cy9zdHJpbmcuanM/YTdlNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTdHJpbmdQcm9tcHRWYWx1ZSB9IGZyb20gXCIuLi9wcm9tcHRfdmFsdWVzLmpzXCI7XG5pbXBvcnQgeyBCYXNlUHJvbXB0VGVtcGxhdGUgfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvcHJvbXB0cy9zdHJpbmcudHNcbi8qKlxuKiBCYXNlIGNsYXNzIGZvciBzdHJpbmcgcHJvbXB0IHRlbXBsYXRlcy4gSXQgZXh0ZW5kcyB0aGVcbiogQmFzZVByb21wdFRlbXBsYXRlIGNsYXNzIGFuZCBvdmVycmlkZXMgdGhlIGZvcm1hdFByb21wdFZhbHVlIG1ldGhvZCB0b1xuKiByZXR1cm4gYSBTdHJpbmdQcm9tcHRWYWx1ZS5cbiovXG52YXIgQmFzZVN0cmluZ1Byb21wdFRlbXBsYXRlID0gY2xhc3MgZXh0ZW5kcyBCYXNlUHJvbXB0VGVtcGxhdGUge1xuXHQvKipcblx0KiBGb3JtYXRzIHRoZSBwcm9tcHQgZ2l2ZW4gdGhlIGlucHV0IHZhbHVlcyBhbmQgcmV0dXJucyBhIGZvcm1hdHRlZFxuXHQqIHByb21wdCB2YWx1ZS5cblx0KiBAcGFyYW0gdmFsdWVzIFRoZSBpbnB1dCB2YWx1ZXMgdG8gZm9ybWF0IHRoZSBwcm9tcHQuXG5cdCogQHJldHVybnMgQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYSBmb3JtYXR0ZWQgcHJvbXB0IHZhbHVlLlxuXHQqL1xuXHRhc3luYyBmb3JtYXRQcm9tcHRWYWx1ZSh2YWx1ZXMpIHtcblx0XHRjb25zdCBmb3JtYXR0ZWRQcm9tcHQgPSBhd2FpdCB0aGlzLmZvcm1hdCh2YWx1ZXMpO1xuXHRcdHJldHVybiBuZXcgU3RyaW5nUHJvbXB0VmFsdWUoZm9ybWF0dGVkUHJvbXB0KTtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBCYXNlU3RyaW5nUHJvbXB0VGVtcGxhdGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0cmluZy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/string.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/structured.js":
/*!**********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/structured.js ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StructuredPrompt: () => (/* binding */ StructuredPrompt)\n/* harmony export */ });\n/* harmony import */ var _runnables_base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../runnables/base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/base.js\");\n/* harmony import */ var _chat_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chat.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/chat.js\");\n\n\n\n//#region src/prompts/structured.ts\nfunction isWithStructuredOutput(x) {\n\treturn typeof x === \"object\" && x != null && \"withStructuredOutput\" in x && typeof x.withStructuredOutput === \"function\";\n}\nfunction isRunnableBinding(x) {\n\treturn typeof x === \"object\" && x != null && \"lc_id\" in x && Array.isArray(x.lc_id) && x.lc_id.join(\"/\") === \"langchain_core/runnables/RunnableBinding\";\n}\nvar StructuredPrompt = class StructuredPrompt extends _chat_js__WEBPACK_IMPORTED_MODULE_1__.ChatPromptTemplate {\n\tschema;\n\tmethod;\n\tlc_namespace = [\n\t\t\"langchain_core\",\n\t\t\"prompts\",\n\t\t\"structured\"\n\t];\n\tget lc_aliases() {\n\t\treturn {\n\t\t\t...super.lc_aliases,\n\t\t\tschema: \"schema_\"\n\t\t};\n\t}\n\tconstructor(input) {\n\t\tsuper(input);\n\t\tthis.schema = input.schema;\n\t\tthis.method = input.method;\n\t}\n\tpipe(coerceable) {\n\t\tif (isWithStructuredOutput(coerceable)) return super.pipe(coerceable.withStructuredOutput(this.schema));\n\t\tif (isRunnableBinding(coerceable) && isWithStructuredOutput(coerceable.bound)) return super.pipe(new _runnables_base_js__WEBPACK_IMPORTED_MODULE_0__.RunnableBinding({\n\t\t\tbound: coerceable.bound.withStructuredOutput(this.schema, ...this.method ? [{ method: this.method }] : []),\n\t\t\tkwargs: coerceable.kwargs ?? {},\n\t\t\tconfig: coerceable.config,\n\t\t\tconfigFactories: coerceable.configFactories\n\t\t}));\n\t\tthrow new Error(`Structured prompts need to be piped to a language model that supports the \"withStructuredOutput()\" method.`);\n\t}\n\tstatic fromMessagesAndSchema(promptMessages, schema, method) {\n\t\treturn StructuredPrompt.fromMessages(promptMessages, {\n\t\t\tschema,\n\t\t\tmethod\n\t\t});\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=structured.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9wcm9tcHRzL3N0cnVjdHVyZWQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXVEO0FBQ1I7O0FBRS9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELHdEQUFrQjtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUdBQXVHLCtEQUFlO0FBQ3RILGlGQUFpRixxQkFBcUI7QUFDdEcsa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDNEI7QUFDNUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3Byb21wdHMvc3RydWN0dXJlZC5qcz80NDk3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJ1bm5hYmxlQmluZGluZyB9IGZyb20gXCIuLi9ydW5uYWJsZXMvYmFzZS5qc1wiO1xuaW1wb3J0IHsgQ2hhdFByb21wdFRlbXBsYXRlIH0gZnJvbSBcIi4vY2hhdC5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3Byb21wdHMvc3RydWN0dXJlZC50c1xuZnVuY3Rpb24gaXNXaXRoU3RydWN0dXJlZE91dHB1dCh4KSB7XG5cdHJldHVybiB0eXBlb2YgeCA9PT0gXCJvYmplY3RcIiAmJiB4ICE9IG51bGwgJiYgXCJ3aXRoU3RydWN0dXJlZE91dHB1dFwiIGluIHggJiYgdHlwZW9mIHgud2l0aFN0cnVjdHVyZWRPdXRwdXQgPT09IFwiZnVuY3Rpb25cIjtcbn1cbmZ1bmN0aW9uIGlzUnVubmFibGVCaW5kaW5nKHgpIHtcblx0cmV0dXJuIHR5cGVvZiB4ID09PSBcIm9iamVjdFwiICYmIHggIT0gbnVsbCAmJiBcImxjX2lkXCIgaW4geCAmJiBBcnJheS5pc0FycmF5KHgubGNfaWQpICYmIHgubGNfaWQuam9pbihcIi9cIikgPT09IFwibGFuZ2NoYWluX2NvcmUvcnVubmFibGVzL1J1bm5hYmxlQmluZGluZ1wiO1xufVxudmFyIFN0cnVjdHVyZWRQcm9tcHQgPSBjbGFzcyBTdHJ1Y3R1cmVkUHJvbXB0IGV4dGVuZHMgQ2hhdFByb21wdFRlbXBsYXRlIHtcblx0c2NoZW1hO1xuXHRtZXRob2Q7XG5cdGxjX25hbWVzcGFjZSA9IFtcblx0XHRcImxhbmdjaGFpbl9jb3JlXCIsXG5cdFx0XCJwcm9tcHRzXCIsXG5cdFx0XCJzdHJ1Y3R1cmVkXCJcblx0XTtcblx0Z2V0IGxjX2FsaWFzZXMoKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdC4uLnN1cGVyLmxjX2FsaWFzZXMsXG5cdFx0XHRzY2hlbWE6IFwic2NoZW1hX1wiXG5cdFx0fTtcblx0fVxuXHRjb25zdHJ1Y3RvcihpbnB1dCkge1xuXHRcdHN1cGVyKGlucHV0KTtcblx0XHR0aGlzLnNjaGVtYSA9IGlucHV0LnNjaGVtYTtcblx0XHR0aGlzLm1ldGhvZCA9IGlucHV0Lm1ldGhvZDtcblx0fVxuXHRwaXBlKGNvZXJjZWFibGUpIHtcblx0XHRpZiAoaXNXaXRoU3RydWN0dXJlZE91dHB1dChjb2VyY2VhYmxlKSkgcmV0dXJuIHN1cGVyLnBpcGUoY29lcmNlYWJsZS53aXRoU3RydWN0dXJlZE91dHB1dCh0aGlzLnNjaGVtYSkpO1xuXHRcdGlmIChpc1J1bm5hYmxlQmluZGluZyhjb2VyY2VhYmxlKSAmJiBpc1dpdGhTdHJ1Y3R1cmVkT3V0cHV0KGNvZXJjZWFibGUuYm91bmQpKSByZXR1cm4gc3VwZXIucGlwZShuZXcgUnVubmFibGVCaW5kaW5nKHtcblx0XHRcdGJvdW5kOiBjb2VyY2VhYmxlLmJvdW5kLndpdGhTdHJ1Y3R1cmVkT3V0cHV0KHRoaXMuc2NoZW1hLCAuLi50aGlzLm1ldGhvZCA/IFt7IG1ldGhvZDogdGhpcy5tZXRob2QgfV0gOiBbXSksXG5cdFx0XHRrd2FyZ3M6IGNvZXJjZWFibGUua3dhcmdzID8/IHt9LFxuXHRcdFx0Y29uZmlnOiBjb2VyY2VhYmxlLmNvbmZpZyxcblx0XHRcdGNvbmZpZ0ZhY3RvcmllczogY29lcmNlYWJsZS5jb25maWdGYWN0b3JpZXNcblx0XHR9KSk7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBTdHJ1Y3R1cmVkIHByb21wdHMgbmVlZCB0byBiZSBwaXBlZCB0byBhIGxhbmd1YWdlIG1vZGVsIHRoYXQgc3VwcG9ydHMgdGhlIFwid2l0aFN0cnVjdHVyZWRPdXRwdXQoKVwiIG1ldGhvZC5gKTtcblx0fVxuXHRzdGF0aWMgZnJvbU1lc3NhZ2VzQW5kU2NoZW1hKHByb21wdE1lc3NhZ2VzLCBzY2hlbWEsIG1ldGhvZCkge1xuXHRcdHJldHVybiBTdHJ1Y3R1cmVkUHJvbXB0LmZyb21NZXNzYWdlcyhwcm9tcHRNZXNzYWdlcywge1xuXHRcdFx0c2NoZW1hLFxuXHRcdFx0bWV0aG9kXG5cdFx0fSk7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgU3RydWN0dXJlZFByb21wdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RydWN0dXJlZC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/structured.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/template.js":
/*!********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/template.js ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_FORMATTER_MAPPING: () => (/* binding */ DEFAULT_FORMATTER_MAPPING),\n/* harmony export */   DEFAULT_PARSER_MAPPING: () => (/* binding */ DEFAULT_PARSER_MAPPING),\n/* harmony export */   checkValidTemplate: () => (/* binding */ checkValidTemplate),\n/* harmony export */   interpolateFString: () => (/* binding */ interpolateFString),\n/* harmony export */   interpolateMustache: () => (/* binding */ interpolateMustache),\n/* harmony export */   parseFString: () => (/* binding */ parseFString),\n/* harmony export */   parseMustache: () => (/* binding */ parseMustache),\n/* harmony export */   parseTemplate: () => (/* binding */ parseTemplate),\n/* harmony export */   renderTemplate: () => (/* binding */ renderTemplate)\n/* harmony export */ });\n/* harmony import */ var _errors_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/errors/index.js\");\n/* harmony import */ var mustache__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mustache */ \"(rsc)/./node_modules/.pnpm/mustache@4.2.0/node_modules/mustache/mustache.mjs\");\n\n\n\n//#region src/prompts/template.ts\nfunction configureMustache() {\n\tmustache__WEBPACK_IMPORTED_MODULE_1__[\"default\"].escape = (text) => text;\n}\nconst parseFString = (template) => {\n\tconst chars = template.split(\"\");\n\tconst nodes = [];\n\tconst nextBracket = (bracket, start) => {\n\t\tfor (let i$1 = start; i$1 < chars.length; i$1 += 1) if (bracket.includes(chars[i$1])) return i$1;\n\t\treturn -1;\n\t};\n\tlet i = 0;\n\twhile (i < chars.length) if (chars[i] === \"{\" && i + 1 < chars.length && chars[i + 1] === \"{\") {\n\t\tnodes.push({\n\t\t\ttype: \"literal\",\n\t\t\ttext: \"{\"\n\t\t});\n\t\ti += 2;\n\t} else if (chars[i] === \"}\" && i + 1 < chars.length && chars[i + 1] === \"}\") {\n\t\tnodes.push({\n\t\t\ttype: \"literal\",\n\t\t\ttext: \"}\"\n\t\t});\n\t\ti += 2;\n\t} else if (chars[i] === \"{\") {\n\t\tconst j = nextBracket(\"}\", i);\n\t\tif (j < 0) throw new Error(\"Unclosed '{' in template.\");\n\t\tnodes.push({\n\t\t\ttype: \"variable\",\n\t\t\tname: chars.slice(i + 1, j).join(\"\")\n\t\t});\n\t\ti = j + 1;\n\t} else if (chars[i] === \"}\") throw new Error(\"Single '}' in template.\");\n\telse {\n\t\tconst next = nextBracket(\"{}\", i);\n\t\tconst text = (next < 0 ? chars.slice(i) : chars.slice(i, next)).join(\"\");\n\t\tnodes.push({\n\t\t\ttype: \"literal\",\n\t\t\ttext\n\t\t});\n\t\ti = next < 0 ? chars.length : next;\n\t}\n\treturn nodes;\n};\n/**\n* Convert the result of mustache.parse into an array of ParsedTemplateNode,\n* to make it compatible with other LangChain string parsing template formats.\n*\n* @param {mustache.TemplateSpans} template The result of parsing a mustache template with the mustache.js library.\n* @param {string[]} context Array of section variable names for nested context\n* @returns {ParsedTemplateNode[]}\n*/\nconst mustacheTemplateToNodes = (template, context = []) => {\n\tconst nodes = [];\n\tfor (const temp of template) if (temp[0] === \"name\") {\n\t\tconst name = temp[1].includes(\".\") ? temp[1].split(\".\")[0] : temp[1];\n\t\tnodes.push({\n\t\t\ttype: \"variable\",\n\t\t\tname\n\t\t});\n\t} else if ([\n\t\t\"#\",\n\t\t\"&\",\n\t\t\"^\",\n\t\t\">\"\n\t].includes(temp[0])) {\n\t\tnodes.push({\n\t\t\ttype: \"variable\",\n\t\t\tname: temp[1]\n\t\t});\n\t\tif (temp[0] === \"#\" && temp.length > 4 && Array.isArray(temp[4])) {\n\t\t\tconst newContext = [...context, temp[1]];\n\t\t\tconst nestedNodes = mustacheTemplateToNodes(temp[4], newContext);\n\t\t\tnodes.push(...nestedNodes);\n\t\t}\n\t} else nodes.push({\n\t\ttype: \"literal\",\n\t\ttext: temp[1]\n\t});\n\treturn nodes;\n};\nconst parseMustache = (template) => {\n\tconfigureMustache();\n\tconst parsed = mustache__WEBPACK_IMPORTED_MODULE_1__[\"default\"].parse(template);\n\treturn mustacheTemplateToNodes(parsed);\n};\nconst interpolateFString = (template, values) => {\n\treturn parseFString(template).reduce((res, node) => {\n\t\tif (node.type === \"variable\") {\n\t\t\tif (node.name in values) {\n\t\t\t\tconst stringValue = typeof values[node.name] === \"string\" ? values[node.name] : JSON.stringify(values[node.name]);\n\t\t\t\treturn res + stringValue;\n\t\t\t}\n\t\t\tthrow new Error(`(f-string) Missing value for input ${node.name}`);\n\t\t}\n\t\treturn res + node.text;\n\t}, \"\");\n};\nconst interpolateMustache = (template, values) => {\n\tconfigureMustache();\n\treturn mustache__WEBPACK_IMPORTED_MODULE_1__[\"default\"].render(template, values);\n};\nconst DEFAULT_FORMATTER_MAPPING = {\n\t\"f-string\": interpolateFString,\n\tmustache: interpolateMustache\n};\nconst DEFAULT_PARSER_MAPPING = {\n\t\"f-string\": parseFString,\n\tmustache: parseMustache\n};\nconst renderTemplate = (template, templateFormat, inputValues) => {\n\ttry {\n\t\treturn DEFAULT_FORMATTER_MAPPING[templateFormat](template, inputValues);\n\t} catch (e) {\n\t\tconst error = (0,_errors_index_js__WEBPACK_IMPORTED_MODULE_0__.addLangChainErrorFields)(e, \"INVALID_PROMPT_INPUT\");\n\t\tthrow error;\n\t}\n};\nconst parseTemplate = (template, templateFormat) => DEFAULT_PARSER_MAPPING[templateFormat](template);\nconst checkValidTemplate = (template, templateFormat, inputVariables) => {\n\tif (!(templateFormat in DEFAULT_FORMATTER_MAPPING)) {\n\t\tconst validFormats = Object.keys(DEFAULT_FORMATTER_MAPPING);\n\t\tthrow new Error(`Invalid template format. Got \\`${templateFormat}\\`;\n                         should be one of ${validFormats}`);\n\t}\n\ttry {\n\t\tconst dummyInputs = inputVariables.reduce((acc, v) => {\n\t\t\tacc[v] = \"foo\";\n\t\t\treturn acc;\n\t\t}, {});\n\t\tif (Array.isArray(template)) template.forEach((message) => {\n\t\t\tif (message.type === \"text\" && \"text\" in message && typeof message.text === \"string\") renderTemplate(message.text, templateFormat, dummyInputs);\n\t\t\telse if (message.type === \"image_url\") {\n\t\t\t\tif (typeof message.image_url === \"string\") renderTemplate(message.image_url, templateFormat, dummyInputs);\n\t\t\t\telse if (typeof message.image_url === \"object\" && message.image_url !== null && \"url\" in message.image_url && typeof message.image_url.url === \"string\") {\n\t\t\t\t\tconst imageUrl = message.image_url.url;\n\t\t\t\t\trenderTemplate(imageUrl, templateFormat, dummyInputs);\n\t\t\t\t}\n\t\t\t} else throw new Error(`Invalid message template received. ${JSON.stringify(message, null, 2)}`);\n\t\t});\n\t\telse renderTemplate(template, templateFormat, dummyInputs);\n\t} catch (e) {\n\t\tthrow new Error(`Invalid prompt schema: ${e.message}`);\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=template.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9wcm9tcHRzL3RlbXBsYXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQTZEO0FBQzdCOztBQUVoQztBQUNBO0FBQ0EsQ0FBQyxnREFBUTtBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isb0JBQW9CO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxnREFBZ0Q7QUFDN0Y7QUFDQTtBQUNBLFdBQVc7QUFDWCxHQUFHO0FBQ0g7QUFDQSxHQUFHLHdCQUF3QixnREFBZ0Q7QUFDM0U7QUFDQTtBQUNBLFdBQVc7QUFDWCxHQUFHO0FBQ0g7QUFDQSxHQUFHLHdCQUF3QjtBQUMzQiwwQkFBMEI7QUFDMUIseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUcsd0JBQXdCLDZCQUE2QjtBQUN4RDtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSx3QkFBd0I7QUFDbEMsVUFBVSxVQUFVO0FBQ3BCLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixnREFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsVUFBVTtBQUNuRTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBLFFBQVEsZ0RBQVE7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILGdCQUFnQix5RUFBdUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsZUFBZTtBQUNuRSw0Q0FBNEMsYUFBYTtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxJQUFJO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssMkRBQTJELGlDQUFpQztBQUNqRyxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0gsNENBQTRDLFVBQVU7QUFDdEQ7QUFDQTs7QUFFQTtBQUNzTDtBQUN0TCIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvcHJvbXB0cy90ZW1wbGF0ZS5qcz82ODg0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFkZExhbmdDaGFpbkVycm9yRmllbGRzIH0gZnJvbSBcIi4uL2Vycm9ycy9pbmRleC5qc1wiO1xuaW1wb3J0IG11c3RhY2hlIGZyb20gXCJtdXN0YWNoZVwiO1xuXG4vLyNyZWdpb24gc3JjL3Byb21wdHMvdGVtcGxhdGUudHNcbmZ1bmN0aW9uIGNvbmZpZ3VyZU11c3RhY2hlKCkge1xuXHRtdXN0YWNoZS5lc2NhcGUgPSAodGV4dCkgPT4gdGV4dDtcbn1cbmNvbnN0IHBhcnNlRlN0cmluZyA9ICh0ZW1wbGF0ZSkgPT4ge1xuXHRjb25zdCBjaGFycyA9IHRlbXBsYXRlLnNwbGl0KFwiXCIpO1xuXHRjb25zdCBub2RlcyA9IFtdO1xuXHRjb25zdCBuZXh0QnJhY2tldCA9IChicmFja2V0LCBzdGFydCkgPT4ge1xuXHRcdGZvciAobGV0IGkkMSA9IHN0YXJ0OyBpJDEgPCBjaGFycy5sZW5ndGg7IGkkMSArPSAxKSBpZiAoYnJhY2tldC5pbmNsdWRlcyhjaGFyc1tpJDFdKSkgcmV0dXJuIGkkMTtcblx0XHRyZXR1cm4gLTE7XG5cdH07XG5cdGxldCBpID0gMDtcblx0d2hpbGUgKGkgPCBjaGFycy5sZW5ndGgpIGlmIChjaGFyc1tpXSA9PT0gXCJ7XCIgJiYgaSArIDEgPCBjaGFycy5sZW5ndGggJiYgY2hhcnNbaSArIDFdID09PSBcIntcIikge1xuXHRcdG5vZGVzLnB1c2goe1xuXHRcdFx0dHlwZTogXCJsaXRlcmFsXCIsXG5cdFx0XHR0ZXh0OiBcIntcIlxuXHRcdH0pO1xuXHRcdGkgKz0gMjtcblx0fSBlbHNlIGlmIChjaGFyc1tpXSA9PT0gXCJ9XCIgJiYgaSArIDEgPCBjaGFycy5sZW5ndGggJiYgY2hhcnNbaSArIDFdID09PSBcIn1cIikge1xuXHRcdG5vZGVzLnB1c2goe1xuXHRcdFx0dHlwZTogXCJsaXRlcmFsXCIsXG5cdFx0XHR0ZXh0OiBcIn1cIlxuXHRcdH0pO1xuXHRcdGkgKz0gMjtcblx0fSBlbHNlIGlmIChjaGFyc1tpXSA9PT0gXCJ7XCIpIHtcblx0XHRjb25zdCBqID0gbmV4dEJyYWNrZXQoXCJ9XCIsIGkpO1xuXHRcdGlmIChqIDwgMCkgdGhyb3cgbmV3IEVycm9yKFwiVW5jbG9zZWQgJ3snIGluIHRlbXBsYXRlLlwiKTtcblx0XHRub2Rlcy5wdXNoKHtcblx0XHRcdHR5cGU6IFwidmFyaWFibGVcIixcblx0XHRcdG5hbWU6IGNoYXJzLnNsaWNlKGkgKyAxLCBqKS5qb2luKFwiXCIpXG5cdFx0fSk7XG5cdFx0aSA9IGogKyAxO1xuXHR9IGVsc2UgaWYgKGNoYXJzW2ldID09PSBcIn1cIikgdGhyb3cgbmV3IEVycm9yKFwiU2luZ2xlICd9JyBpbiB0ZW1wbGF0ZS5cIik7XG5cdGVsc2Uge1xuXHRcdGNvbnN0IG5leHQgPSBuZXh0QnJhY2tldChcInt9XCIsIGkpO1xuXHRcdGNvbnN0IHRleHQgPSAobmV4dCA8IDAgPyBjaGFycy5zbGljZShpKSA6IGNoYXJzLnNsaWNlKGksIG5leHQpKS5qb2luKFwiXCIpO1xuXHRcdG5vZGVzLnB1c2goe1xuXHRcdFx0dHlwZTogXCJsaXRlcmFsXCIsXG5cdFx0XHR0ZXh0XG5cdFx0fSk7XG5cdFx0aSA9IG5leHQgPCAwID8gY2hhcnMubGVuZ3RoIDogbmV4dDtcblx0fVxuXHRyZXR1cm4gbm9kZXM7XG59O1xuLyoqXG4qIENvbnZlcnQgdGhlIHJlc3VsdCBvZiBtdXN0YWNoZS5wYXJzZSBpbnRvIGFuIGFycmF5IG9mIFBhcnNlZFRlbXBsYXRlTm9kZSxcbiogdG8gbWFrZSBpdCBjb21wYXRpYmxlIHdpdGggb3RoZXIgTGFuZ0NoYWluIHN0cmluZyBwYXJzaW5nIHRlbXBsYXRlIGZvcm1hdHMuXG4qXG4qIEBwYXJhbSB7bXVzdGFjaGUuVGVtcGxhdGVTcGFuc30gdGVtcGxhdGUgVGhlIHJlc3VsdCBvZiBwYXJzaW5nIGEgbXVzdGFjaGUgdGVtcGxhdGUgd2l0aCB0aGUgbXVzdGFjaGUuanMgbGlicmFyeS5cbiogQHBhcmFtIHtzdHJpbmdbXX0gY29udGV4dCBBcnJheSBvZiBzZWN0aW9uIHZhcmlhYmxlIG5hbWVzIGZvciBuZXN0ZWQgY29udGV4dFxuKiBAcmV0dXJucyB7UGFyc2VkVGVtcGxhdGVOb2RlW119XG4qL1xuY29uc3QgbXVzdGFjaGVUZW1wbGF0ZVRvTm9kZXMgPSAodGVtcGxhdGUsIGNvbnRleHQgPSBbXSkgPT4ge1xuXHRjb25zdCBub2RlcyA9IFtdO1xuXHRmb3IgKGNvbnN0IHRlbXAgb2YgdGVtcGxhdGUpIGlmICh0ZW1wWzBdID09PSBcIm5hbWVcIikge1xuXHRcdGNvbnN0IG5hbWUgPSB0ZW1wWzFdLmluY2x1ZGVzKFwiLlwiKSA/IHRlbXBbMV0uc3BsaXQoXCIuXCIpWzBdIDogdGVtcFsxXTtcblx0XHRub2Rlcy5wdXNoKHtcblx0XHRcdHR5cGU6IFwidmFyaWFibGVcIixcblx0XHRcdG5hbWVcblx0XHR9KTtcblx0fSBlbHNlIGlmIChbXG5cdFx0XCIjXCIsXG5cdFx0XCImXCIsXG5cdFx0XCJeXCIsXG5cdFx0XCI+XCJcblx0XS5pbmNsdWRlcyh0ZW1wWzBdKSkge1xuXHRcdG5vZGVzLnB1c2goe1xuXHRcdFx0dHlwZTogXCJ2YXJpYWJsZVwiLFxuXHRcdFx0bmFtZTogdGVtcFsxXVxuXHRcdH0pO1xuXHRcdGlmICh0ZW1wWzBdID09PSBcIiNcIiAmJiB0ZW1wLmxlbmd0aCA+IDQgJiYgQXJyYXkuaXNBcnJheSh0ZW1wWzRdKSkge1xuXHRcdFx0Y29uc3QgbmV3Q29udGV4dCA9IFsuLi5jb250ZXh0LCB0ZW1wWzFdXTtcblx0XHRcdGNvbnN0IG5lc3RlZE5vZGVzID0gbXVzdGFjaGVUZW1wbGF0ZVRvTm9kZXModGVtcFs0XSwgbmV3Q29udGV4dCk7XG5cdFx0XHRub2Rlcy5wdXNoKC4uLm5lc3RlZE5vZGVzKTtcblx0XHR9XG5cdH0gZWxzZSBub2Rlcy5wdXNoKHtcblx0XHR0eXBlOiBcImxpdGVyYWxcIixcblx0XHR0ZXh0OiB0ZW1wWzFdXG5cdH0pO1xuXHRyZXR1cm4gbm9kZXM7XG59O1xuY29uc3QgcGFyc2VNdXN0YWNoZSA9ICh0ZW1wbGF0ZSkgPT4ge1xuXHRjb25maWd1cmVNdXN0YWNoZSgpO1xuXHRjb25zdCBwYXJzZWQgPSBtdXN0YWNoZS5wYXJzZSh0ZW1wbGF0ZSk7XG5cdHJldHVybiBtdXN0YWNoZVRlbXBsYXRlVG9Ob2RlcyhwYXJzZWQpO1xufTtcbmNvbnN0IGludGVycG9sYXRlRlN0cmluZyA9ICh0ZW1wbGF0ZSwgdmFsdWVzKSA9PiB7XG5cdHJldHVybiBwYXJzZUZTdHJpbmcodGVtcGxhdGUpLnJlZHVjZSgocmVzLCBub2RlKSA9PiB7XG5cdFx0aWYgKG5vZGUudHlwZSA9PT0gXCJ2YXJpYWJsZVwiKSB7XG5cdFx0XHRpZiAobm9kZS5uYW1lIGluIHZhbHVlcykge1xuXHRcdFx0XHRjb25zdCBzdHJpbmdWYWx1ZSA9IHR5cGVvZiB2YWx1ZXNbbm9kZS5uYW1lXSA9PT0gXCJzdHJpbmdcIiA/IHZhbHVlc1tub2RlLm5hbWVdIDogSlNPTi5zdHJpbmdpZnkodmFsdWVzW25vZGUubmFtZV0pO1xuXHRcdFx0XHRyZXR1cm4gcmVzICsgc3RyaW5nVmFsdWU7XG5cdFx0XHR9XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYChmLXN0cmluZykgTWlzc2luZyB2YWx1ZSBmb3IgaW5wdXQgJHtub2RlLm5hbWV9YCk7XG5cdFx0fVxuXHRcdHJldHVybiByZXMgKyBub2RlLnRleHQ7XG5cdH0sIFwiXCIpO1xufTtcbmNvbnN0IGludGVycG9sYXRlTXVzdGFjaGUgPSAodGVtcGxhdGUsIHZhbHVlcykgPT4ge1xuXHRjb25maWd1cmVNdXN0YWNoZSgpO1xuXHRyZXR1cm4gbXVzdGFjaGUucmVuZGVyKHRlbXBsYXRlLCB2YWx1ZXMpO1xufTtcbmNvbnN0IERFRkFVTFRfRk9STUFUVEVSX01BUFBJTkcgPSB7XG5cdFwiZi1zdHJpbmdcIjogaW50ZXJwb2xhdGVGU3RyaW5nLFxuXHRtdXN0YWNoZTogaW50ZXJwb2xhdGVNdXN0YWNoZVxufTtcbmNvbnN0IERFRkFVTFRfUEFSU0VSX01BUFBJTkcgPSB7XG5cdFwiZi1zdHJpbmdcIjogcGFyc2VGU3RyaW5nLFxuXHRtdXN0YWNoZTogcGFyc2VNdXN0YWNoZVxufTtcbmNvbnN0IHJlbmRlclRlbXBsYXRlID0gKHRlbXBsYXRlLCB0ZW1wbGF0ZUZvcm1hdCwgaW5wdXRWYWx1ZXMpID0+IHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gREVGQVVMVF9GT1JNQVRURVJfTUFQUElOR1t0ZW1wbGF0ZUZvcm1hdF0odGVtcGxhdGUsIGlucHV0VmFsdWVzKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGNvbnN0IGVycm9yID0gYWRkTGFuZ0NoYWluRXJyb3JGaWVsZHMoZSwgXCJJTlZBTElEX1BST01QVF9JTlBVVFwiKTtcblx0XHR0aHJvdyBlcnJvcjtcblx0fVxufTtcbmNvbnN0IHBhcnNlVGVtcGxhdGUgPSAodGVtcGxhdGUsIHRlbXBsYXRlRm9ybWF0KSA9PiBERUZBVUxUX1BBUlNFUl9NQVBQSU5HW3RlbXBsYXRlRm9ybWF0XSh0ZW1wbGF0ZSk7XG5jb25zdCBjaGVja1ZhbGlkVGVtcGxhdGUgPSAodGVtcGxhdGUsIHRlbXBsYXRlRm9ybWF0LCBpbnB1dFZhcmlhYmxlcykgPT4ge1xuXHRpZiAoISh0ZW1wbGF0ZUZvcm1hdCBpbiBERUZBVUxUX0ZPUk1BVFRFUl9NQVBQSU5HKSkge1xuXHRcdGNvbnN0IHZhbGlkRm9ybWF0cyA9IE9iamVjdC5rZXlzKERFRkFVTFRfRk9STUFUVEVSX01BUFBJTkcpO1xuXHRcdHRocm93IG5ldyBFcnJvcihgSW52YWxpZCB0ZW1wbGF0ZSBmb3JtYXQuIEdvdCBcXGAke3RlbXBsYXRlRm9ybWF0fVxcYDtcbiAgICAgICAgICAgICAgICAgICAgICAgICBzaG91bGQgYmUgb25lIG9mICR7dmFsaWRGb3JtYXRzfWApO1xuXHR9XG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVtbXlJbnB1dHMgPSBpbnB1dFZhcmlhYmxlcy5yZWR1Y2UoKGFjYywgdikgPT4ge1xuXHRcdFx0YWNjW3ZdID0gXCJmb29cIjtcblx0XHRcdHJldHVybiBhY2M7XG5cdFx0fSwge30pO1xuXHRcdGlmIChBcnJheS5pc0FycmF5KHRlbXBsYXRlKSkgdGVtcGxhdGUuZm9yRWFjaCgobWVzc2FnZSkgPT4ge1xuXHRcdFx0aWYgKG1lc3NhZ2UudHlwZSA9PT0gXCJ0ZXh0XCIgJiYgXCJ0ZXh0XCIgaW4gbWVzc2FnZSAmJiB0eXBlb2YgbWVzc2FnZS50ZXh0ID09PSBcInN0cmluZ1wiKSByZW5kZXJUZW1wbGF0ZShtZXNzYWdlLnRleHQsIHRlbXBsYXRlRm9ybWF0LCBkdW1teUlucHV0cyk7XG5cdFx0XHRlbHNlIGlmIChtZXNzYWdlLnR5cGUgPT09IFwiaW1hZ2VfdXJsXCIpIHtcblx0XHRcdFx0aWYgKHR5cGVvZiBtZXNzYWdlLmltYWdlX3VybCA9PT0gXCJzdHJpbmdcIikgcmVuZGVyVGVtcGxhdGUobWVzc2FnZS5pbWFnZV91cmwsIHRlbXBsYXRlRm9ybWF0LCBkdW1teUlucHV0cyk7XG5cdFx0XHRcdGVsc2UgaWYgKHR5cGVvZiBtZXNzYWdlLmltYWdlX3VybCA9PT0gXCJvYmplY3RcIiAmJiBtZXNzYWdlLmltYWdlX3VybCAhPT0gbnVsbCAmJiBcInVybFwiIGluIG1lc3NhZ2UuaW1hZ2VfdXJsICYmIHR5cGVvZiBtZXNzYWdlLmltYWdlX3VybC51cmwgPT09IFwic3RyaW5nXCIpIHtcblx0XHRcdFx0XHRjb25zdCBpbWFnZVVybCA9IG1lc3NhZ2UuaW1hZ2VfdXJsLnVybDtcblx0XHRcdFx0XHRyZW5kZXJUZW1wbGF0ZShpbWFnZVVybCwgdGVtcGxhdGVGb3JtYXQsIGR1bW15SW5wdXRzKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBtZXNzYWdlIHRlbXBsYXRlIHJlY2VpdmVkLiAke0pTT04uc3RyaW5naWZ5KG1lc3NhZ2UsIG51bGwsIDIpfWApO1xuXHRcdH0pO1xuXHRcdGVsc2UgcmVuZGVyVGVtcGxhdGUodGVtcGxhdGUsIHRlbXBsYXRlRm9ybWF0LCBkdW1teUlucHV0cyk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgcHJvbXB0IHNjaGVtYTogJHtlLm1lc3NhZ2V9YCk7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgREVGQVVMVF9GT1JNQVRURVJfTUFQUElORywgREVGQVVMVF9QQVJTRVJfTUFQUElORywgY2hlY2tWYWxpZFRlbXBsYXRlLCBpbnRlcnBvbGF0ZUZTdHJpbmcsIGludGVycG9sYXRlTXVzdGFjaGUsIHBhcnNlRlN0cmluZywgcGFyc2VNdXN0YWNoZSwgcGFyc2VUZW1wbGF0ZSwgcmVuZGVyVGVtcGxhdGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRlbXBsYXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/prompts/template.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/retrievers/document_compressors/base.js":
/*!****************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/retrievers/document_compressors/base.js ***!
  \****************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseDocumentCompressor: () => (/* binding */ BaseDocumentCompressor),\n/* harmony export */   base_exports: () => (/* binding */ base_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n\n\n//#region src/retrievers/document_compressors/base.ts\nvar base_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(base_exports, { BaseDocumentCompressor: () => BaseDocumentCompressor });\n/**\n* Base Document Compression class. All compressors should extend this class.\n*/\nvar BaseDocumentCompressor = class {\n\tstatic isBaseDocumentCompressor(x) {\n\t\treturn x?.compressDocuments !== void 0;\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=base.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9yZXRyaWV2ZXJzL2RvY3VtZW50X2NvbXByZXNzb3JzL2Jhc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQThEOztBQUU5RDtBQUNBO0FBQ0Esc0VBQVEsaUJBQWlCLHNEQUFzRDtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ2dEO0FBQ2hEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9yZXRyaWV2ZXJzL2RvY3VtZW50X2NvbXByZXNzb3JzL2Jhc2UuanM/ZGQxOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2V4cG9ydCB9IGZyb20gXCIuLi8uLi9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvcmV0cmlldmVycy9kb2N1bWVudF9jb21wcmVzc29ycy9iYXNlLnRzXG52YXIgYmFzZV9leHBvcnRzID0ge307XG5fX2V4cG9ydChiYXNlX2V4cG9ydHMsIHsgQmFzZURvY3VtZW50Q29tcHJlc3NvcjogKCkgPT4gQmFzZURvY3VtZW50Q29tcHJlc3NvciB9KTtcbi8qKlxuKiBCYXNlIERvY3VtZW50IENvbXByZXNzaW9uIGNsYXNzLiBBbGwgY29tcHJlc3NvcnMgc2hvdWxkIGV4dGVuZCB0aGlzIGNsYXNzLlxuKi9cbnZhciBCYXNlRG9jdW1lbnRDb21wcmVzc29yID0gY2xhc3Mge1xuXHRzdGF0aWMgaXNCYXNlRG9jdW1lbnRDb21wcmVzc29yKHgpIHtcblx0XHRyZXR1cm4geD8uY29tcHJlc3NEb2N1bWVudHMgIT09IHZvaWQgMDtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBCYXNlRG9jdW1lbnRDb21wcmVzc29yLCBiYXNlX2V4cG9ydHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhc2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/retrievers/document_compressors/base.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/retrievers/index.js":
/*!********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/retrievers/index.js ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseRetriever: () => (/* binding */ BaseRetriever),\n/* harmony export */   retrievers_exports: () => (/* binding */ retrievers_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _callbacks_manager_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../callbacks/manager.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/callbacks/manager.js\");\n/* harmony import */ var _runnables_config_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../runnables/config.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/config.js\");\n/* harmony import */ var _runnables_base_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../runnables/base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/base.js\");\n\n\n\n\n\n//#region src/retrievers/index.ts\nvar retrievers_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(retrievers_exports, { BaseRetriever: () => BaseRetriever });\n/**\n* Abstract base class for a document retrieval system, designed to\n* process string queries and return the most relevant documents from a source.\n*\n* `BaseRetriever` provides common properties and methods for derived retrievers,\n* such as callbacks, tagging, and verbose logging. Custom retrieval systems\n* should extend this class and implement `_getRelevantDocuments` to define\n* the specific retrieval logic.\n*\n* @template Metadata - The type of metadata associated with each document,\n*                      defaulting to `Record<string, any>`.\n*/\nvar BaseRetriever = class extends _runnables_base_js__WEBPACK_IMPORTED_MODULE_3__.Runnable {\n\t/**\n\t* Optional callbacks to handle various events in the retrieval process.\n\t*/\n\tcallbacks;\n\t/**\n\t* Tags to label or categorize the retrieval operation.\n\t*/\n\ttags;\n\t/**\n\t* Metadata to provide additional context or information about the retrieval\n\t* operation.\n\t*/\n\tmetadata;\n\t/**\n\t* If set to `true`, enables verbose logging for the retrieval process.\n\t*/\n\tverbose;\n\t/**\n\t* Constructs a new `BaseRetriever` instance with optional configuration fields.\n\t*\n\t* @param fields - Optional input configuration that can include `callbacks`,\n\t*                 `tags`, `metadata`, and `verbose` settings for custom retriever behavior.\n\t*/\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.callbacks = fields?.callbacks;\n\t\tthis.tags = fields?.tags ?? [];\n\t\tthis.metadata = fields?.metadata ?? {};\n\t\tthis.verbose = fields?.verbose ?? false;\n\t}\n\t/**\n\t* TODO: This should be an abstract method, but we'd like to avoid breaking\n\t* changes to people currently using subclassed custom retrievers.\n\t* Change it on next major release.\n\t*/\n\t/**\n\t* Placeholder method for retrieving relevant documents based on a query.\n\t*\n\t* This method is intended to be implemented by subclasses and will be\n\t* converted to an abstract method in the next major release. Currently, it\n\t* throws an error if not implemented, ensuring that custom retrievers define\n\t* the specific retrieval logic.\n\t*\n\t* @param _query - The query string used to search for relevant documents.\n\t* @param _callbacks - (optional) Callback manager for managing callbacks\n\t*                     during retrieval.\n\t* @returns A promise resolving to an array of `DocumentInterface` instances relevant to the query.\n\t* @throws {Error} Throws an error indicating the method is not implemented.\n\t*/\n\t_getRelevantDocuments(_query, _callbacks) {\n\t\tthrow new Error(\"Not implemented!\");\n\t}\n\t/**\n\t* Executes a retrieval operation.\n\t*\n\t* @param input - The query string used to search for relevant documents.\n\t* @param options - (optional) Configuration options for the retrieval run,\n\t*                  which may include callbacks, tags, and metadata.\n\t* @returns A promise that resolves to an array of `DocumentInterface` instances\n\t*          representing the most relevant documents to the query.\n\t*/\n\tasync invoke(input, options) {\n\t\tconst parsedConfig = (0,_runnables_config_js__WEBPACK_IMPORTED_MODULE_2__.ensureConfig)((0,_callbacks_manager_js__WEBPACK_IMPORTED_MODULE_1__.parseCallbackConfigArg)(options));\n\t\tconst callbackManager_ = await _callbacks_manager_js__WEBPACK_IMPORTED_MODULE_1__.CallbackManager.configure(parsedConfig.callbacks, this.callbacks, parsedConfig.tags, this.tags, parsedConfig.metadata, this.metadata, { verbose: this.verbose });\n\t\tconst runManager = await callbackManager_?.handleRetrieverStart(this.toJSON(), input, parsedConfig.runId, void 0, void 0, void 0, parsedConfig.runName);\n\t\ttry {\n\t\t\tconst results = await this._getRelevantDocuments(input, runManager);\n\t\t\tawait runManager?.handleRetrieverEnd(results);\n\t\t\treturn results;\n\t\t} catch (error) {\n\t\t\tawait runManager?.handleRetrieverError(error);\n\t\t\tthrow error;\n\t\t}\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9yZXRyaWV2ZXJzL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUEyRDtBQUN1QjtBQUM1QjtBQUNOOztBQUVoRDtBQUNBO0FBQ0Esc0VBQVEsdUJBQXVCLG9DQUFvQztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0Msd0RBQVE7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksT0FBTztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGtFQUFZLENBQUMsNkVBQXNCO0FBQzFELGlDQUFpQyxrRUFBZSx5SEFBeUgsdUJBQXVCO0FBQ2hNO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUM2QztBQUM3QyIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvcmV0cmlldmVycy9pbmRleC5qcz9hMTZlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fZXhwb3J0IH0gZnJvbSBcIi4uL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuanNcIjtcbmltcG9ydCB7IENhbGxiYWNrTWFuYWdlciwgcGFyc2VDYWxsYmFja0NvbmZpZ0FyZyB9IGZyb20gXCIuLi9jYWxsYmFja3MvbWFuYWdlci5qc1wiO1xuaW1wb3J0IHsgZW5zdXJlQ29uZmlnIH0gZnJvbSBcIi4uL3J1bm5hYmxlcy9jb25maWcuanNcIjtcbmltcG9ydCB7IFJ1bm5hYmxlIH0gZnJvbSBcIi4uL3J1bm5hYmxlcy9iYXNlLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvcmV0cmlldmVycy9pbmRleC50c1xudmFyIHJldHJpZXZlcnNfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQocmV0cmlldmVyc19leHBvcnRzLCB7IEJhc2VSZXRyaWV2ZXI6ICgpID0+IEJhc2VSZXRyaWV2ZXIgfSk7XG4vKipcbiogQWJzdHJhY3QgYmFzZSBjbGFzcyBmb3IgYSBkb2N1bWVudCByZXRyaWV2YWwgc3lzdGVtLCBkZXNpZ25lZCB0b1xuKiBwcm9jZXNzIHN0cmluZyBxdWVyaWVzIGFuZCByZXR1cm4gdGhlIG1vc3QgcmVsZXZhbnQgZG9jdW1lbnRzIGZyb20gYSBzb3VyY2UuXG4qXG4qIGBCYXNlUmV0cmlldmVyYCBwcm92aWRlcyBjb21tb24gcHJvcGVydGllcyBhbmQgbWV0aG9kcyBmb3IgZGVyaXZlZCByZXRyaWV2ZXJzLFxuKiBzdWNoIGFzIGNhbGxiYWNrcywgdGFnZ2luZywgYW5kIHZlcmJvc2UgbG9nZ2luZy4gQ3VzdG9tIHJldHJpZXZhbCBzeXN0ZW1zXG4qIHNob3VsZCBleHRlbmQgdGhpcyBjbGFzcyBhbmQgaW1wbGVtZW50IGBfZ2V0UmVsZXZhbnREb2N1bWVudHNgIHRvIGRlZmluZVxuKiB0aGUgc3BlY2lmaWMgcmV0cmlldmFsIGxvZ2ljLlxuKlxuKiBAdGVtcGxhdGUgTWV0YWRhdGEgLSBUaGUgdHlwZSBvZiBtZXRhZGF0YSBhc3NvY2lhdGVkIHdpdGggZWFjaCBkb2N1bWVudCxcbiogICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdGluZyB0byBgUmVjb3JkPHN0cmluZywgYW55PmAuXG4qL1xudmFyIEJhc2VSZXRyaWV2ZXIgPSBjbGFzcyBleHRlbmRzIFJ1bm5hYmxlIHtcblx0LyoqXG5cdCogT3B0aW9uYWwgY2FsbGJhY2tzIHRvIGhhbmRsZSB2YXJpb3VzIGV2ZW50cyBpbiB0aGUgcmV0cmlldmFsIHByb2Nlc3MuXG5cdCovXG5cdGNhbGxiYWNrcztcblx0LyoqXG5cdCogVGFncyB0byBsYWJlbCBvciBjYXRlZ29yaXplIHRoZSByZXRyaWV2YWwgb3BlcmF0aW9uLlxuXHQqL1xuXHR0YWdzO1xuXHQvKipcblx0KiBNZXRhZGF0YSB0byBwcm92aWRlIGFkZGl0aW9uYWwgY29udGV4dCBvciBpbmZvcm1hdGlvbiBhYm91dCB0aGUgcmV0cmlldmFsXG5cdCogb3BlcmF0aW9uLlxuXHQqL1xuXHRtZXRhZGF0YTtcblx0LyoqXG5cdCogSWYgc2V0IHRvIGB0cnVlYCwgZW5hYmxlcyB2ZXJib3NlIGxvZ2dpbmcgZm9yIHRoZSByZXRyaWV2YWwgcHJvY2Vzcy5cblx0Ki9cblx0dmVyYm9zZTtcblx0LyoqXG5cdCogQ29uc3RydWN0cyBhIG5ldyBgQmFzZVJldHJpZXZlcmAgaW5zdGFuY2Ugd2l0aCBvcHRpb25hbCBjb25maWd1cmF0aW9uIGZpZWxkcy5cblx0KlxuXHQqIEBwYXJhbSBmaWVsZHMgLSBPcHRpb25hbCBpbnB1dCBjb25maWd1cmF0aW9uIHRoYXQgY2FuIGluY2x1ZGUgYGNhbGxiYWNrc2AsXG5cdCogICAgICAgICAgICAgICAgIGB0YWdzYCwgYG1ldGFkYXRhYCwgYW5kIGB2ZXJib3NlYCBzZXR0aW5ncyBmb3IgY3VzdG9tIHJldHJpZXZlciBiZWhhdmlvci5cblx0Ki9cblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLmNhbGxiYWNrcyA9IGZpZWxkcz8uY2FsbGJhY2tzO1xuXHRcdHRoaXMudGFncyA9IGZpZWxkcz8udGFncyA/PyBbXTtcblx0XHR0aGlzLm1ldGFkYXRhID0gZmllbGRzPy5tZXRhZGF0YSA/PyB7fTtcblx0XHR0aGlzLnZlcmJvc2UgPSBmaWVsZHM/LnZlcmJvc2UgPz8gZmFsc2U7XG5cdH1cblx0LyoqXG5cdCogVE9ETzogVGhpcyBzaG91bGQgYmUgYW4gYWJzdHJhY3QgbWV0aG9kLCBidXQgd2UnZCBsaWtlIHRvIGF2b2lkIGJyZWFraW5nXG5cdCogY2hhbmdlcyB0byBwZW9wbGUgY3VycmVudGx5IHVzaW5nIHN1YmNsYXNzZWQgY3VzdG9tIHJldHJpZXZlcnMuXG5cdCogQ2hhbmdlIGl0IG9uIG5leHQgbWFqb3IgcmVsZWFzZS5cblx0Ki9cblx0LyoqXG5cdCogUGxhY2Vob2xkZXIgbWV0aG9kIGZvciByZXRyaWV2aW5nIHJlbGV2YW50IGRvY3VtZW50cyBiYXNlZCBvbiBhIHF1ZXJ5LlxuXHQqXG5cdCogVGhpcyBtZXRob2QgaXMgaW50ZW5kZWQgdG8gYmUgaW1wbGVtZW50ZWQgYnkgc3ViY2xhc3NlcyBhbmQgd2lsbCBiZVxuXHQqIGNvbnZlcnRlZCB0byBhbiBhYnN0cmFjdCBtZXRob2QgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS4gQ3VycmVudGx5LCBpdFxuXHQqIHRocm93cyBhbiBlcnJvciBpZiBub3QgaW1wbGVtZW50ZWQsIGVuc3VyaW5nIHRoYXQgY3VzdG9tIHJldHJpZXZlcnMgZGVmaW5lXG5cdCogdGhlIHNwZWNpZmljIHJldHJpZXZhbCBsb2dpYy5cblx0KlxuXHQqIEBwYXJhbSBfcXVlcnkgLSBUaGUgcXVlcnkgc3RyaW5nIHVzZWQgdG8gc2VhcmNoIGZvciByZWxldmFudCBkb2N1bWVudHMuXG5cdCogQHBhcmFtIF9jYWxsYmFja3MgLSAob3B0aW9uYWwpIENhbGxiYWNrIG1hbmFnZXIgZm9yIG1hbmFnaW5nIGNhbGxiYWNrc1xuXHQqICAgICAgICAgICAgICAgICAgICAgZHVyaW5nIHJldHJpZXZhbC5cblx0KiBAcmV0dXJucyBBIHByb21pc2UgcmVzb2x2aW5nIHRvIGFuIGFycmF5IG9mIGBEb2N1bWVudEludGVyZmFjZWAgaW5zdGFuY2VzIHJlbGV2YW50IHRvIHRoZSBxdWVyeS5cblx0KiBAdGhyb3dzIHtFcnJvcn0gVGhyb3dzIGFuIGVycm9yIGluZGljYXRpbmcgdGhlIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQuXG5cdCovXG5cdF9nZXRSZWxldmFudERvY3VtZW50cyhfcXVlcnksIF9jYWxsYmFja3MpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWQhXCIpO1xuXHR9XG5cdC8qKlxuXHQqIEV4ZWN1dGVzIGEgcmV0cmlldmFsIG9wZXJhdGlvbi5cblx0KlxuXHQqIEBwYXJhbSBpbnB1dCAtIFRoZSBxdWVyeSBzdHJpbmcgdXNlZCB0byBzZWFyY2ggZm9yIHJlbGV2YW50IGRvY3VtZW50cy5cblx0KiBAcGFyYW0gb3B0aW9ucyAtIChvcHRpb25hbCkgQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgcmV0cmlldmFsIHJ1bixcblx0KiAgICAgICAgICAgICAgICAgIHdoaWNoIG1heSBpbmNsdWRlIGNhbGxiYWNrcywgdGFncywgYW5kIG1ldGFkYXRhLlxuXHQqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGFuIGFycmF5IG9mIGBEb2N1bWVudEludGVyZmFjZWAgaW5zdGFuY2VzXG5cdCogICAgICAgICAgcmVwcmVzZW50aW5nIHRoZSBtb3N0IHJlbGV2YW50IGRvY3VtZW50cyB0byB0aGUgcXVlcnkuXG5cdCovXG5cdGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuXHRcdGNvbnN0IHBhcnNlZENvbmZpZyA9IGVuc3VyZUNvbmZpZyhwYXJzZUNhbGxiYWNrQ29uZmlnQXJnKG9wdGlvbnMpKTtcblx0XHRjb25zdCBjYWxsYmFja01hbmFnZXJfID0gYXdhaXQgQ2FsbGJhY2tNYW5hZ2VyLmNvbmZpZ3VyZShwYXJzZWRDb25maWcuY2FsbGJhY2tzLCB0aGlzLmNhbGxiYWNrcywgcGFyc2VkQ29uZmlnLnRhZ3MsIHRoaXMudGFncywgcGFyc2VkQ29uZmlnLm1ldGFkYXRhLCB0aGlzLm1ldGFkYXRhLCB7IHZlcmJvc2U6IHRoaXMudmVyYm9zZSB9KTtcblx0XHRjb25zdCBydW5NYW5hZ2VyID0gYXdhaXQgY2FsbGJhY2tNYW5hZ2VyXz8uaGFuZGxlUmV0cmlldmVyU3RhcnQodGhpcy50b0pTT04oKSwgaW5wdXQsIHBhcnNlZENvbmZpZy5ydW5JZCwgdm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgcGFyc2VkQ29uZmlnLnJ1bk5hbWUpO1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCByZXN1bHRzID0gYXdhaXQgdGhpcy5fZ2V0UmVsZXZhbnREb2N1bWVudHMoaW5wdXQsIHJ1bk1hbmFnZXIpO1xuXHRcdFx0YXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlUmV0cmlldmVyRW5kKHJlc3VsdHMpO1xuXHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZVJldHJpZXZlckVycm9yKGVycm9yKTtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBCYXNlUmV0cmlldmVyLCByZXRyaWV2ZXJzX2V4cG9ydHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/retrievers/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/base.js":
/*!******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/base.js ***!
  \******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Runnable: () => (/* binding */ Runnable),\n/* harmony export */   RunnableAssign: () => (/* binding */ RunnableAssign),\n/* harmony export */   RunnableBinding: () => (/* binding */ RunnableBinding),\n/* harmony export */   RunnableEach: () => (/* binding */ RunnableEach),\n/* harmony export */   RunnableLambda: () => (/* binding */ RunnableLambda),\n/* harmony export */   RunnableMap: () => (/* binding */ RunnableMap),\n/* harmony export */   RunnableParallel: () => (/* binding */ RunnableParallel),\n/* harmony export */   RunnablePick: () => (/* binding */ RunnablePick),\n/* harmony export */   RunnableRetry: () => (/* binding */ RunnableRetry),\n/* harmony export */   RunnableSequence: () => (/* binding */ RunnableSequence),\n/* harmony export */   RunnableToolLike: () => (/* binding */ RunnableToolLike),\n/* harmony export */   RunnableWithFallbacks: () => (/* binding */ RunnableWithFallbacks),\n/* harmony export */   _coerceToDict: () => (/* binding */ _coerceToDict),\n/* harmony export */   _coerceToRunnable: () => (/* binding */ _coerceToRunnable)\n/* harmony export */ });\n/* harmony import */ var _load_serializable_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../load/serializable.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/load/serializable.js\");\n/* harmony import */ var _tools_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tools/utils.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tools/utils.js\");\n/* harmony import */ var _singletons_async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../singletons/async_local_storage/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/async_local_storage/index.js\");\n/* harmony import */ var _singletons_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../singletons/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/index.js\");\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./config.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/config.js\");\n/* harmony import */ var _utils_signal_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/signal.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/signal.js\");\n/* harmony import */ var _utils_stream_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/stream.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/stream.js\");\n/* harmony import */ var _tracers_log_stream_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../tracers/log_stream.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/log_stream.js\");\n/* harmony import */ var _tracers_event_stream_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../tracers/event_stream.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/event_stream.js\");\n/* harmony import */ var _utils_async_caller_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/async_caller.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/async_caller.js\");\n/* harmony import */ var _tracers_root_listener_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../tracers/root_listener.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/root_listener.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/utils.js\");\n/* harmony import */ var _utils_types_zod_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../utils/types/zod.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/types/zod.js\");\n/* harmony import */ var _graph_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./graph.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/graph.js\");\n/* harmony import */ var _wrappers_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./wrappers.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/wrappers.js\");\n/* harmony import */ var _iter_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./iter.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/iter.js\");\n/* harmony import */ var zod_v3__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! zod/v3 */ \"(rsc)/./node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.js\");\n/* harmony import */ var p_retry__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! p-retry */ \"(rsc)/./node_modules/.pnpm/p-retry@4.6.2/node_modules/p-retry/index.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/.pnpm/uuid@10.0.0/node_modules/uuid/dist/esm-node/v4.js\");\n/* harmony import */ var langsmith_singletons_traceable__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! langsmith/singletons/traceable */ \"(rsc)/./node_modules/.pnpm/langsmith@0.3.74_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/langsmith/singletons/traceable.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//#region src/runnables/base.ts\nfunction _coerceToDict(value, defaultKey) {\n\treturn value && !Array.isArray(value) && !(value instanceof Date) && typeof value === \"object\" ? value : { [defaultKey]: value };\n}\n/**\n* A Runnable is a generic unit of work that can be invoked, batched, streamed, and/or\n* transformed.\n*/\nvar Runnable = class extends _load_serializable_js__WEBPACK_IMPORTED_MODULE_0__.Serializable {\n\tlc_runnable = true;\n\tname;\n\tgetName(suffix) {\n\t\tconst name = this.name ?? this.constructor.lc_name() ?? this.constructor.name;\n\t\treturn suffix ? `${name}${suffix}` : name;\n\t}\n\t/**\n\t* Add retry logic to an existing runnable.\n\t* @param fields.stopAfterAttempt The number of attempts to retry.\n\t* @param fields.onFailedAttempt A function that is called when a retry fails.\n\t* @returns A new RunnableRetry that, when invoked, will retry according to the parameters.\n\t*/\n\twithRetry(fields) {\n\t\treturn new RunnableRetry({\n\t\t\tbound: this,\n\t\t\tkwargs: {},\n\t\t\tconfig: {},\n\t\t\tmaxAttemptNumber: fields?.stopAfterAttempt,\n\t\t\t...fields\n\t\t});\n\t}\n\t/**\n\t* Bind config to a Runnable, returning a new Runnable.\n\t* @param config New configuration parameters to attach to the new runnable.\n\t* @returns A new RunnableBinding with a config matching what's passed.\n\t*/\n\twithConfig(config) {\n\t\treturn new RunnableBinding({\n\t\t\tbound: this,\n\t\t\tconfig,\n\t\t\tkwargs: {}\n\t\t});\n\t}\n\t/**\n\t* Create a new runnable from the current one that will try invoking\n\t* other passed fallback runnables if the initial invocation fails.\n\t* @param fields.fallbacks Other runnables to call if the runnable errors.\n\t* @returns A new RunnableWithFallbacks.\n\t*/\n\twithFallbacks(fields) {\n\t\tconst fallbacks = Array.isArray(fields) ? fields : fields.fallbacks;\n\t\treturn new RunnableWithFallbacks({\n\t\t\trunnable: this,\n\t\t\tfallbacks\n\t\t});\n\t}\n\t_getOptionsList(options, length = 0) {\n\t\tif (Array.isArray(options) && options.length !== length) throw new Error(`Passed \"options\" must be an array with the same length as the inputs, but got ${options.length} options for ${length} inputs`);\n\t\tif (Array.isArray(options)) return options.map(_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig);\n\t\tif (length > 1 && !Array.isArray(options) && options.runId) {\n\t\t\tconsole.warn(\"Provided runId will be used only for the first element of the batch.\");\n\t\t\tconst subsequent = Object.fromEntries(Object.entries(options).filter(([key]) => key !== \"runId\"));\n\t\t\treturn Array.from({ length }, (_, i) => (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(i === 0 ? options : subsequent));\n\t\t}\n\t\treturn Array.from({ length }, () => (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options));\n\t}\n\tasync batch(inputs, options, batchOptions) {\n\t\tconst configList = this._getOptionsList(options ?? {}, inputs.length);\n\t\tconst maxConcurrency = configList[0]?.maxConcurrency ?? batchOptions?.maxConcurrency;\n\t\tconst caller = new _utils_async_caller_js__WEBPACK_IMPORTED_MODULE_9__.AsyncCaller({\n\t\t\tmaxConcurrency,\n\t\t\tonFailedAttempt: (e) => {\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t});\n\t\tconst batchCalls = inputs.map((input, i) => caller.call(async () => {\n\t\t\ttry {\n\t\t\t\tconst result = await this.invoke(input, configList[i]);\n\t\t\t\treturn result;\n\t\t\t} catch (e) {\n\t\t\t\tif (batchOptions?.returnExceptions) return e;\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t}));\n\t\treturn Promise.all(batchCalls);\n\t}\n\t/**\n\t* Default streaming implementation.\n\t* Subclasses should override this method if they support streaming output.\n\t* @param input\n\t* @param options\n\t*/\n\tasync *_streamIterator(input, options) {\n\t\tyield this.invoke(input, options);\n\t}\n\t/**\n\t* Stream output in chunks.\n\t* @param input\n\t* @param options\n\t* @returns A readable stream that is also an iterable.\n\t*/\n\tasync stream(input, options) {\n\t\tconst config = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options);\n\t\tconst wrappedGenerator = new _utils_stream_js__WEBPACK_IMPORTED_MODULE_6__.AsyncGeneratorWithSetup({\n\t\t\tgenerator: this._streamIterator(input, config),\n\t\t\tconfig\n\t\t});\n\t\tawait wrappedGenerator.setup;\n\t\treturn _utils_stream_js__WEBPACK_IMPORTED_MODULE_6__.IterableReadableStream.fromAsyncGenerator(wrappedGenerator);\n\t}\n\t_separateRunnableConfigFromCallOptions(options) {\n\t\tlet runnableConfig;\n\t\tif (options === void 0) runnableConfig = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options);\n\t\telse runnableConfig = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)({\n\t\t\tcallbacks: options.callbacks,\n\t\t\ttags: options.tags,\n\t\t\tmetadata: options.metadata,\n\t\t\trunName: options.runName,\n\t\t\tconfigurable: options.configurable,\n\t\t\trecursionLimit: options.recursionLimit,\n\t\t\tmaxConcurrency: options.maxConcurrency,\n\t\t\trunId: options.runId,\n\t\t\ttimeout: options.timeout,\n\t\t\tsignal: options.signal\n\t\t});\n\t\tconst callOptions = { ...options };\n\t\tdelete callOptions.callbacks;\n\t\tdelete callOptions.tags;\n\t\tdelete callOptions.metadata;\n\t\tdelete callOptions.runName;\n\t\tdelete callOptions.configurable;\n\t\tdelete callOptions.recursionLimit;\n\t\tdelete callOptions.maxConcurrency;\n\t\tdelete callOptions.runId;\n\t\tdelete callOptions.timeout;\n\t\tdelete callOptions.signal;\n\t\treturn [runnableConfig, callOptions];\n\t}\n\tasync _callWithConfig(func, input, options) {\n\t\tconst config = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options);\n\t\tconst callbackManager_ = await (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.getCallbackManagerForConfig)(config);\n\t\tconst runManager = await callbackManager_?.handleChainStart(this.toJSON(), _coerceToDict(input, \"input\"), config.runId, config?.runType, void 0, void 0, config?.runName ?? this.getName());\n\t\tdelete config.runId;\n\t\tlet output;\n\t\ttry {\n\t\t\tconst promise = func.call(this, input, config, runManager);\n\t\t\toutput = await (0,_utils_signal_js__WEBPACK_IMPORTED_MODULE_5__.raceWithSignal)(promise, options?.signal);\n\t\t} catch (e) {\n\t\t\tawait runManager?.handleChainError(e);\n\t\t\tthrow e;\n\t\t}\n\t\tawait runManager?.handleChainEnd(_coerceToDict(output, \"output\"));\n\t\treturn output;\n\t}\n\t/**\n\t* Internal method that handles batching and configuration for a runnable\n\t* It takes a function, input values, and optional configuration, and\n\t* returns a promise that resolves to the output values.\n\t* @param func The function to be executed for each input value.\n\t* @param input The input values to be processed.\n\t* @param config Optional configuration for the function execution.\n\t* @returns A promise that resolves to the output values.\n\t*/\n\tasync _batchWithConfig(func, inputs, options, batchOptions) {\n\t\tconst optionsList = this._getOptionsList(options ?? {}, inputs.length);\n\t\tconst callbackManagers = await Promise.all(optionsList.map(_config_js__WEBPACK_IMPORTED_MODULE_4__.getCallbackManagerForConfig));\n\t\tconst runManagers = await Promise.all(callbackManagers.map(async (callbackManager, i) => {\n\t\t\tconst handleStartRes = await callbackManager?.handleChainStart(this.toJSON(), _coerceToDict(inputs[i], \"input\"), optionsList[i].runId, optionsList[i].runType, void 0, void 0, optionsList[i].runName ?? this.getName());\n\t\t\tdelete optionsList[i].runId;\n\t\t\treturn handleStartRes;\n\t\t}));\n\t\tlet outputs;\n\t\ttry {\n\t\t\tconst promise = func.call(this, inputs, optionsList, runManagers, batchOptions);\n\t\t\toutputs = await (0,_utils_signal_js__WEBPACK_IMPORTED_MODULE_5__.raceWithSignal)(promise, optionsList?.[0]?.signal);\n\t\t} catch (e) {\n\t\t\tawait Promise.all(runManagers.map((runManager) => runManager?.handleChainError(e)));\n\t\t\tthrow e;\n\t\t}\n\t\tawait Promise.all(runManagers.map((runManager) => runManager?.handleChainEnd(_coerceToDict(outputs, \"output\"))));\n\t\treturn outputs;\n\t}\n\t/** @internal */\n\t_concatOutputChunks(first, second) {\n\t\treturn (0,_utils_stream_js__WEBPACK_IMPORTED_MODULE_6__.concat)(first, second);\n\t}\n\t/**\n\t* Helper method to transform an Iterator of Input values into an Iterator of\n\t* Output values, with callbacks.\n\t* Use this to implement `stream()` or `transform()` in Runnable subclasses.\n\t*/\n\tasync *_transformStreamWithConfig(inputGenerator, transformer, options) {\n\t\tlet finalInput;\n\t\tlet finalInputSupported = true;\n\t\tlet finalOutput;\n\t\tlet finalOutputSupported = true;\n\t\tconst config = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options);\n\t\tconst callbackManager_ = await (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.getCallbackManagerForConfig)(config);\n\t\tconst outerThis = this;\n\t\tasync function* wrapInputForTracing() {\n\t\t\tfor await (const chunk of inputGenerator) {\n\t\t\t\tif (finalInputSupported) if (finalInput === void 0) finalInput = chunk;\n\t\t\t\telse try {\n\t\t\t\t\tfinalInput = outerThis._concatOutputChunks(finalInput, chunk);\n\t\t\t\t} catch {\n\t\t\t\t\tfinalInput = void 0;\n\t\t\t\t\tfinalInputSupported = false;\n\t\t\t\t}\n\t\t\t\tyield chunk;\n\t\t\t}\n\t\t}\n\t\tlet runManager;\n\t\ttry {\n\t\t\tconst pipe = await (0,_utils_stream_js__WEBPACK_IMPORTED_MODULE_6__.pipeGeneratorWithSetup)(transformer.bind(this), wrapInputForTracing(), async () => callbackManager_?.handleChainStart(this.toJSON(), { input: \"\" }, config.runId, config.runType, void 0, void 0, config.runName ?? this.getName()), options?.signal, config);\n\t\t\tdelete config.runId;\n\t\t\trunManager = pipe.setup;\n\t\t\tconst streamEventsHandler = runManager?.handlers.find(_tracers_event_stream_js__WEBPACK_IMPORTED_MODULE_8__.isStreamEventsHandler);\n\t\t\tlet iterator = pipe.output;\n\t\t\tif (streamEventsHandler !== void 0 && runManager !== void 0) iterator = streamEventsHandler.tapOutputIterable(runManager.runId, iterator);\n\t\t\tconst streamLogHandler = runManager?.handlers.find(_tracers_log_stream_js__WEBPACK_IMPORTED_MODULE_7__.isLogStreamHandler);\n\t\t\tif (streamLogHandler !== void 0 && runManager !== void 0) iterator = streamLogHandler.tapOutputIterable(runManager.runId, iterator);\n\t\t\tfor await (const chunk of iterator) {\n\t\t\t\tyield chunk;\n\t\t\t\tif (finalOutputSupported) if (finalOutput === void 0) finalOutput = chunk;\n\t\t\t\telse try {\n\t\t\t\t\tfinalOutput = this._concatOutputChunks(finalOutput, chunk);\n\t\t\t\t} catch {\n\t\t\t\t\tfinalOutput = void 0;\n\t\t\t\t\tfinalOutputSupported = false;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tawait runManager?.handleChainError(e, void 0, void 0, void 0, { inputs: _coerceToDict(finalInput, \"input\") });\n\t\t\tthrow e;\n\t\t}\n\t\tawait runManager?.handleChainEnd(finalOutput ?? {}, void 0, void 0, void 0, { inputs: _coerceToDict(finalInput, \"input\") });\n\t}\n\tgetGraph(_) {\n\t\tconst graph = new _graph_js__WEBPACK_IMPORTED_MODULE_13__.Graph();\n\t\tconst inputNode = graph.addNode({\n\t\t\tname: `${this.getName()}Input`,\n\t\t\tschema: zod_v3__WEBPACK_IMPORTED_MODULE_18__.any()\n\t\t});\n\t\tconst runnableNode = graph.addNode(this);\n\t\tconst outputNode = graph.addNode({\n\t\t\tname: `${this.getName()}Output`,\n\t\t\tschema: zod_v3__WEBPACK_IMPORTED_MODULE_18__.any()\n\t\t});\n\t\tgraph.addEdge(inputNode, runnableNode);\n\t\tgraph.addEdge(runnableNode, outputNode);\n\t\treturn graph;\n\t}\n\t/**\n\t* Create a new runnable sequence that runs each individual runnable in series,\n\t* piping the output of one runnable into another runnable or runnable-like.\n\t* @param coerceable A runnable, function, or object whose values are functions or runnables.\n\t* @returns A new runnable sequence.\n\t*/\n\tpipe(coerceable) {\n\t\treturn new RunnableSequence({\n\t\t\tfirst: this,\n\t\t\tlast: _coerceToRunnable(coerceable)\n\t\t});\n\t}\n\t/**\n\t* Pick keys from the dict output of this runnable. Returns a new runnable.\n\t*/\n\tpick(keys) {\n\t\treturn this.pipe(new RunnablePick(keys));\n\t}\n\t/**\n\t* Assigns new fields to the dict output of this runnable. Returns a new runnable.\n\t*/\n\tassign(mapping) {\n\t\treturn this.pipe(new RunnableAssign(new RunnableMap({ steps: mapping })));\n\t}\n\t/**\n\t* Default implementation of transform, which buffers input and then calls stream.\n\t* Subclasses should override this method if they can start producing output while\n\t* input is still being generated.\n\t* @param generator\n\t* @param options\n\t*/\n\tasync *transform(generator, options) {\n\t\tlet finalChunk;\n\t\tfor await (const chunk of generator) if (finalChunk === void 0) finalChunk = chunk;\n\t\telse finalChunk = this._concatOutputChunks(finalChunk, chunk);\n\t\tyield* this._streamIterator(finalChunk, (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options));\n\t}\n\t/**\n\t* Stream all output from a runnable, as reported to the callback system.\n\t* This includes all inner runs of LLMs, Retrievers, Tools, etc.\n\t* Output is streamed as Log objects, which include a list of\n\t* jsonpatch ops that describe how the state of the run has changed in each\n\t* step, and the final state of the run.\n\t* The jsonpatch ops can be applied in order to construct state.\n\t* @param input\n\t* @param options\n\t* @param streamOptions\n\t*/\n\tasync *streamLog(input, options, streamOptions) {\n\t\tconst logStreamCallbackHandler = new _tracers_log_stream_js__WEBPACK_IMPORTED_MODULE_7__.LogStreamCallbackHandler({\n\t\t\t...streamOptions,\n\t\t\tautoClose: false,\n\t\t\t_schemaFormat: \"original\"\n\t\t});\n\t\tconst config = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options);\n\t\tyield* this._streamLog(input, logStreamCallbackHandler, config);\n\t}\n\tasync *_streamLog(input, logStreamCallbackHandler, config) {\n\t\tconst { callbacks } = config;\n\t\tif (callbacks === void 0) config.callbacks = [logStreamCallbackHandler];\n\t\telse if (Array.isArray(callbacks)) config.callbacks = callbacks.concat([logStreamCallbackHandler]);\n\t\telse {\n\t\t\tconst copiedCallbacks = callbacks.copy();\n\t\t\tcopiedCallbacks.addHandler(logStreamCallbackHandler, true);\n\t\t\tconfig.callbacks = copiedCallbacks;\n\t\t}\n\t\tconst runnableStreamPromise = this.stream(input, config);\n\t\tasync function consumeRunnableStream() {\n\t\t\ttry {\n\t\t\t\tconst runnableStream = await runnableStreamPromise;\n\t\t\t\tfor await (const chunk of runnableStream) {\n\t\t\t\t\tconst patch = new _tracers_log_stream_js__WEBPACK_IMPORTED_MODULE_7__.RunLogPatch({ ops: [{\n\t\t\t\t\t\top: \"add\",\n\t\t\t\t\t\tpath: \"/streamed_output/-\",\n\t\t\t\t\t\tvalue: chunk\n\t\t\t\t\t}] });\n\t\t\t\t\tawait logStreamCallbackHandler.writer.write(patch);\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tawait logStreamCallbackHandler.writer.close();\n\t\t\t}\n\t\t}\n\t\tconst runnableStreamConsumePromise = consumeRunnableStream();\n\t\ttry {\n\t\t\tfor await (const log of logStreamCallbackHandler) yield log;\n\t\t} finally {\n\t\t\tawait runnableStreamConsumePromise;\n\t\t}\n\t}\n\tstreamEvents(input, options, streamOptions) {\n\t\tlet stream;\n\t\tif (options.version === \"v1\") stream = this._streamEventsV1(input, options, streamOptions);\n\t\telse if (options.version === \"v2\") stream = this._streamEventsV2(input, options, streamOptions);\n\t\telse throw new Error(`Only versions \"v1\" and \"v2\" of the schema are currently supported.`);\n\t\tif (options.encoding === \"text/event-stream\") return (0,_wrappers_js__WEBPACK_IMPORTED_MODULE_14__.convertToHttpEventStream)(stream);\n\t\telse return _utils_stream_js__WEBPACK_IMPORTED_MODULE_6__.IterableReadableStream.fromAsyncGenerator(stream);\n\t}\n\tasync *_streamEventsV2(input, options, streamOptions) {\n\t\tconst eventStreamer = new _tracers_event_stream_js__WEBPACK_IMPORTED_MODULE_8__.EventStreamCallbackHandler({\n\t\t\t...streamOptions,\n\t\t\tautoClose: false\n\t\t});\n\t\tconst config = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options);\n\t\tconst runId = config.runId ?? (0,uuid__WEBPACK_IMPORTED_MODULE_19__[\"default\"])();\n\t\tconfig.runId = runId;\n\t\tconst callbacks = config.callbacks;\n\t\tif (callbacks === void 0) config.callbacks = [eventStreamer];\n\t\telse if (Array.isArray(callbacks)) config.callbacks = callbacks.concat(eventStreamer);\n\t\telse {\n\t\t\tconst copiedCallbacks = callbacks.copy();\n\t\t\tcopiedCallbacks.addHandler(eventStreamer, true);\n\t\t\tconfig.callbacks = copiedCallbacks;\n\t\t}\n\t\tconst abortController = new AbortController();\n\t\tconst outerThis = this;\n\t\tasync function consumeRunnableStream() {\n\t\t\tlet signal;\n\t\t\tlet listener = null;\n\t\t\ttry {\n\t\t\t\tif (options?.signal) if (\"any\" in AbortSignal) signal = AbortSignal.any([abortController.signal, options.signal]);\n\t\t\t\telse {\n\t\t\t\t\tsignal = options.signal;\n\t\t\t\t\tlistener = () => {\n\t\t\t\t\t\tabortController.abort();\n\t\t\t\t\t};\n\t\t\t\t\toptions.signal.addEventListener(\"abort\", listener, { once: true });\n\t\t\t\t}\n\t\t\t\telse signal = abortController.signal;\n\t\t\t\tconst runnableStream = await outerThis.stream(input, {\n\t\t\t\t\t...config,\n\t\t\t\t\tsignal\n\t\t\t\t});\n\t\t\t\tconst tappedStream = eventStreamer.tapOutputIterable(runId, runnableStream);\n\t\t\t\tfor await (const _ of tappedStream) if (abortController.signal.aborted) break;\n\t\t\t} finally {\n\t\t\t\tawait eventStreamer.finish();\n\t\t\t\tif (signal && listener) signal.removeEventListener(\"abort\", listener);\n\t\t\t}\n\t\t}\n\t\tconst runnableStreamConsumePromise = consumeRunnableStream();\n\t\tlet firstEventSent = false;\n\t\tlet firstEventRunId;\n\t\ttry {\n\t\t\tfor await (const event of eventStreamer) {\n\t\t\t\tif (!firstEventSent) {\n\t\t\t\t\tevent.data.input = input;\n\t\t\t\t\tfirstEventSent = true;\n\t\t\t\t\tfirstEventRunId = event.run_id;\n\t\t\t\t\tyield event;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (event.run_id === firstEventRunId && event.event.endsWith(\"_end\")) {\n\t\t\t\t\tif (event.data?.input) delete event.data.input;\n\t\t\t\t}\n\t\t\t\tyield event;\n\t\t\t}\n\t\t} finally {\n\t\t\tabortController.abort();\n\t\t\tawait runnableStreamConsumePromise;\n\t\t}\n\t}\n\tasync *_streamEventsV1(input, options, streamOptions) {\n\t\tlet runLog;\n\t\tlet hasEncounteredStartEvent = false;\n\t\tconst config = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options);\n\t\tconst rootTags = config.tags ?? [];\n\t\tconst rootMetadata = config.metadata ?? {};\n\t\tconst rootName = config.runName ?? this.getName();\n\t\tconst logStreamCallbackHandler = new _tracers_log_stream_js__WEBPACK_IMPORTED_MODULE_7__.LogStreamCallbackHandler({\n\t\t\t...streamOptions,\n\t\t\tautoClose: false,\n\t\t\t_schemaFormat: \"streaming_events\"\n\t\t});\n\t\tconst rootEventFilter = new _utils_js__WEBPACK_IMPORTED_MODULE_11__._RootEventFilter({ ...streamOptions });\n\t\tconst logStream = this._streamLog(input, logStreamCallbackHandler, config);\n\t\tfor await (const log of logStream) {\n\t\t\tif (!runLog) runLog = _tracers_log_stream_js__WEBPACK_IMPORTED_MODULE_7__.RunLog.fromRunLogPatch(log);\n\t\t\telse runLog = runLog.concat(log);\n\t\t\tif (runLog.state === void 0) throw new Error(`Internal error: \"streamEvents\" state is missing. Please open a bug report.`);\n\t\t\tif (!hasEncounteredStartEvent) {\n\t\t\t\thasEncounteredStartEvent = true;\n\t\t\t\tconst state$2 = { ...runLog.state };\n\t\t\t\tconst event = {\n\t\t\t\t\trun_id: state$2.id,\n\t\t\t\t\tevent: `on_${state$2.type}_start`,\n\t\t\t\t\tname: rootName,\n\t\t\t\t\ttags: rootTags,\n\t\t\t\t\tmetadata: rootMetadata,\n\t\t\t\t\tdata: { input }\n\t\t\t\t};\n\t\t\t\tif (rootEventFilter.includeEvent(event, state$2.type)) yield event;\n\t\t\t}\n\t\t\tconst paths = log.ops.filter((op) => op.path.startsWith(\"/logs/\")).map((op) => op.path.split(\"/\")[2]);\n\t\t\tconst dedupedPaths = [...new Set(paths)];\n\t\t\tfor (const path of dedupedPaths) {\n\t\t\t\tlet eventType;\n\t\t\t\tlet data = {};\n\t\t\t\tconst logEntry = runLog.state.logs[path];\n\t\t\t\tif (logEntry.end_time === void 0) if (logEntry.streamed_output.length > 0) eventType = \"stream\";\n\t\t\t\telse eventType = \"start\";\n\t\t\t\telse eventType = \"end\";\n\t\t\t\tif (eventType === \"start\") {\n\t\t\t\t\tif (logEntry.inputs !== void 0) data.input = logEntry.inputs;\n\t\t\t\t} else if (eventType === \"end\") {\n\t\t\t\t\tif (logEntry.inputs !== void 0) data.input = logEntry.inputs;\n\t\t\t\t\tdata.output = logEntry.final_output;\n\t\t\t\t} else if (eventType === \"stream\") {\n\t\t\t\t\tconst chunkCount = logEntry.streamed_output.length;\n\t\t\t\t\tif (chunkCount !== 1) throw new Error(`Expected exactly one chunk of streamed output, got ${chunkCount} instead. Encountered in: \"${logEntry.name}\"`);\n\t\t\t\t\tdata = { chunk: logEntry.streamed_output[0] };\n\t\t\t\t\tlogEntry.streamed_output = [];\n\t\t\t\t}\n\t\t\t\tyield {\n\t\t\t\t\tevent: `on_${logEntry.type}_${eventType}`,\n\t\t\t\t\tname: logEntry.name,\n\t\t\t\t\trun_id: logEntry.id,\n\t\t\t\t\ttags: logEntry.tags,\n\t\t\t\t\tmetadata: logEntry.metadata,\n\t\t\t\t\tdata\n\t\t\t\t};\n\t\t\t}\n\t\t\tconst { state: state$1 } = runLog;\n\t\t\tif (state$1.streamed_output.length > 0) {\n\t\t\t\tconst chunkCount = state$1.streamed_output.length;\n\t\t\t\tif (chunkCount !== 1) throw new Error(`Expected exactly one chunk of streamed output, got ${chunkCount} instead. Encountered in: \"${state$1.name}\"`);\n\t\t\t\tconst data = { chunk: state$1.streamed_output[0] };\n\t\t\t\tstate$1.streamed_output = [];\n\t\t\t\tconst event = {\n\t\t\t\t\tevent: `on_${state$1.type}_stream`,\n\t\t\t\t\trun_id: state$1.id,\n\t\t\t\t\ttags: rootTags,\n\t\t\t\t\tmetadata: rootMetadata,\n\t\t\t\t\tname: rootName,\n\t\t\t\t\tdata\n\t\t\t\t};\n\t\t\t\tif (rootEventFilter.includeEvent(event, state$1.type)) yield event;\n\t\t\t}\n\t\t}\n\t\tconst state = runLog?.state;\n\t\tif (state !== void 0) {\n\t\t\tconst event = {\n\t\t\t\tevent: `on_${state.type}_end`,\n\t\t\t\tname: rootName,\n\t\t\t\trun_id: state.id,\n\t\t\t\ttags: rootTags,\n\t\t\t\tmetadata: rootMetadata,\n\t\t\t\tdata: { output: state.final_output }\n\t\t\t};\n\t\t\tif (rootEventFilter.includeEvent(event, state.type)) yield event;\n\t\t}\n\t}\n\tstatic isRunnable(thing) {\n\t\treturn (0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.isRunnableInterface)(thing);\n\t}\n\t/**\n\t* Bind lifecycle listeners to a Runnable, returning a new Runnable.\n\t* The Run object contains information about the run, including its id,\n\t* type, input, output, error, startTime, endTime, and any tags or metadata\n\t* added to the run.\n\t*\n\t* @param {Object} params - The object containing the callback functions.\n\t* @param {(run: Run) => void} params.onStart - Called before the runnable starts running, with the Run object.\n\t* @param {(run: Run) => void} params.onEnd - Called after the runnable finishes running, with the Run object.\n\t* @param {(run: Run) => void} params.onError - Called if the runnable throws an error, with the Run object.\n\t*/\n\twithListeners({ onStart, onEnd, onError }) {\n\t\treturn new RunnableBinding({\n\t\t\tbound: this,\n\t\t\tconfig: {},\n\t\t\tconfigFactories: [(config) => ({ callbacks: [new _tracers_root_listener_js__WEBPACK_IMPORTED_MODULE_10__.RootListenersTracer({\n\t\t\t\tconfig,\n\t\t\t\tonStart,\n\t\t\t\tonEnd,\n\t\t\t\tonError\n\t\t\t})] })]\n\t\t});\n\t}\n\t/**\n\t* Convert a runnable to a tool. Return a new instance of `RunnableToolLike`\n\t* which contains the runnable, name, description and schema.\n\t*\n\t* @template {T extends RunInput = RunInput} RunInput - The input type of the runnable. Should be the same as the `RunInput` type of the runnable.\n\t*\n\t* @param fields\n\t* @param {string | undefined} [fields.name] The name of the tool. If not provided, it will default to the name of the runnable.\n\t* @param {string | undefined} [fields.description] The description of the tool. Falls back to the description on the Zod schema if not provided, or undefined if neither are provided.\n\t* @param {z.ZodType<T>} [fields.schema] The Zod schema for the input of the tool. Infers the Zod type from the input type of the runnable.\n\t* @returns {RunnableToolLike<z.ZodType<T>, RunOutput>} An instance of `RunnableToolLike` which is a runnable that can be used as a tool.\n\t*/\n\tasTool(fields) {\n\t\treturn convertRunnableToTool(this, fields);\n\t}\n};\n/**\n* Wraps a runnable and applies partial config upon invocation.\n*\n* @example\n* ```typescript\n* import {\n*   type RunnableConfig,\n*   RunnableLambda,\n* } from \"@langchain/core/runnables\";\n*\n* const enhanceProfile = (\n*   profile: Record<string, any>,\n*   config?: RunnableConfig\n* ) => {\n*   if (config?.configurable?.role) {\n*     return { ...profile, role: config.configurable.role };\n*   }\n*   return profile;\n* };\n*\n* const runnable = RunnableLambda.from(enhanceProfile);\n*\n* // Bind configuration to the runnable to set the user's role dynamically\n* const adminRunnable = runnable.withConfig({ configurable: { role: \"Admin\" } });\n* const userRunnable = runnable.withConfig({ configurable: { role: \"User\" } });\n*\n* const result1 = await adminRunnable.invoke({\n*   name: \"Alice\",\n*   email: \"alice@example.com\"\n* });\n*\n* // { name: \"Alice\", email: \"alice@example.com\", role: \"Admin\" }\n*\n* const result2 = await userRunnable.invoke({\n*   name: \"Bob\",\n*   email: \"bob@example.com\"\n* });\n*\n* // { name: \"Bob\", email: \"bob@example.com\", role: \"User\" }\n* ```\n*/\nvar RunnableBinding = class RunnableBinding extends Runnable {\n\tstatic lc_name() {\n\t\treturn \"RunnableBinding\";\n\t}\n\tlc_namespace = [\"langchain_core\", \"runnables\"];\n\tlc_serializable = true;\n\tbound;\n\tconfig;\n\tkwargs;\n\tconfigFactories;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.bound = fields.bound;\n\t\tthis.kwargs = fields.kwargs;\n\t\tthis.config = fields.config;\n\t\tthis.configFactories = fields.configFactories;\n\t}\n\tgetName(suffix) {\n\t\treturn this.bound.getName(suffix);\n\t}\n\tasync _mergeConfig(...options) {\n\t\tconst config = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.mergeConfigs)(this.config, ...options);\n\t\treturn (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.mergeConfigs)(config, ...this.configFactories ? await Promise.all(this.configFactories.map(async (configFactory) => await configFactory(config))) : []);\n\t}\n\twithConfig(config) {\n\t\treturn new this.constructor({\n\t\t\tbound: this.bound,\n\t\t\tkwargs: this.kwargs,\n\t\t\tconfig: {\n\t\t\t\t...this.config,\n\t\t\t\t...config\n\t\t\t}\n\t\t});\n\t}\n\twithRetry(fields) {\n\t\treturn new RunnableRetry({\n\t\t\tbound: this.bound,\n\t\t\tkwargs: this.kwargs,\n\t\t\tconfig: this.config,\n\t\t\tmaxAttemptNumber: fields?.stopAfterAttempt,\n\t\t\t...fields\n\t\t});\n\t}\n\tasync invoke(input, options) {\n\t\treturn this.bound.invoke(input, await this._mergeConfig(options, this.kwargs));\n\t}\n\tasync batch(inputs, options, batchOptions) {\n\t\tconst mergedOptions = Array.isArray(options) ? await Promise.all(options.map(async (individualOption) => this._mergeConfig((0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(individualOption), this.kwargs))) : await this._mergeConfig((0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options), this.kwargs);\n\t\treturn this.bound.batch(inputs, mergedOptions, batchOptions);\n\t}\n\t/** @internal */\n\t_concatOutputChunks(first, second) {\n\t\treturn this.bound._concatOutputChunks(first, second);\n\t}\n\tasync *_streamIterator(input, options) {\n\t\tyield* this.bound._streamIterator(input, await this._mergeConfig((0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options), this.kwargs));\n\t}\n\tasync stream(input, options) {\n\t\treturn this.bound.stream(input, await this._mergeConfig((0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options), this.kwargs));\n\t}\n\tasync *transform(generator, options) {\n\t\tyield* this.bound.transform(generator, await this._mergeConfig((0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options), this.kwargs));\n\t}\n\tstreamEvents(input, options, streamOptions) {\n\t\tconst outerThis = this;\n\t\tconst generator = async function* () {\n\t\t\tyield* outerThis.bound.streamEvents(input, {\n\t\t\t\t...await outerThis._mergeConfig((0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options), outerThis.kwargs),\n\t\t\t\tversion: options.version\n\t\t\t}, streamOptions);\n\t\t};\n\t\treturn _utils_stream_js__WEBPACK_IMPORTED_MODULE_6__.IterableReadableStream.fromAsyncGenerator(generator());\n\t}\n\tstatic isRunnableBinding(thing) {\n\t\treturn thing.bound && Runnable.isRunnable(thing.bound);\n\t}\n\t/**\n\t* Bind lifecycle listeners to a Runnable, returning a new Runnable.\n\t* The Run object contains information about the run, including its id,\n\t* type, input, output, error, startTime, endTime, and any tags or metadata\n\t* added to the run.\n\t*\n\t* @param {Object} params - The object containing the callback functions.\n\t* @param {(run: Run) => void} params.onStart - Called before the runnable starts running, with the Run object.\n\t* @param {(run: Run) => void} params.onEnd - Called after the runnable finishes running, with the Run object.\n\t* @param {(run: Run) => void} params.onError - Called if the runnable throws an error, with the Run object.\n\t*/\n\twithListeners({ onStart, onEnd, onError }) {\n\t\treturn new RunnableBinding({\n\t\t\tbound: this.bound,\n\t\t\tkwargs: this.kwargs,\n\t\t\tconfig: this.config,\n\t\t\tconfigFactories: [(config) => ({ callbacks: [new _tracers_root_listener_js__WEBPACK_IMPORTED_MODULE_10__.RootListenersTracer({\n\t\t\t\tconfig,\n\t\t\t\tonStart,\n\t\t\t\tonEnd,\n\t\t\t\tonError\n\t\t\t})] })]\n\t\t});\n\t}\n};\n/**\n* A runnable that delegates calls to another runnable\n* with each element of the input sequence.\n* @example\n* ```typescript\n* import { RunnableEach, RunnableLambda } from \"@langchain/core/runnables\";\n*\n* const toUpperCase = (input: string): string => input.toUpperCase();\n* const addGreeting = (input: string): string => `Hello, ${input}!`;\n*\n* const upperCaseLambda = RunnableLambda.from(toUpperCase);\n* const greetingLambda = RunnableLambda.from(addGreeting);\n*\n* const chain = new RunnableEach({\n*   bound: upperCaseLambda.pipe(greetingLambda),\n* });\n*\n* const result = await chain.invoke([\"alice\", \"bob\", \"carol\"])\n*\n* // [\"Hello, ALICE!\", \"Hello, BOB!\", \"Hello, CAROL!\"]\n* ```\n*/\nvar RunnableEach = class RunnableEach extends Runnable {\n\tstatic lc_name() {\n\t\treturn \"RunnableEach\";\n\t}\n\tlc_serializable = true;\n\tlc_namespace = [\"langchain_core\", \"runnables\"];\n\tbound;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.bound = fields.bound;\n\t}\n\t/**\n\t* Invokes the runnable with the specified input and configuration.\n\t* @param input The input to invoke the runnable with.\n\t* @param config The configuration to invoke the runnable with.\n\t* @returns A promise that resolves to the output of the runnable.\n\t*/\n\tasync invoke(inputs, config) {\n\t\treturn this._callWithConfig(this._invoke.bind(this), inputs, config);\n\t}\n\t/**\n\t* A helper method that is used to invoke the runnable with the specified input and configuration.\n\t* @param input The input to invoke the runnable with.\n\t* @param config The configuration to invoke the runnable with.\n\t* @returns A promise that resolves to the output of the runnable.\n\t*/\n\tasync _invoke(inputs, config, runManager) {\n\t\treturn this.bound.batch(inputs, (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.patchConfig)(config, { callbacks: runManager?.getChild() }));\n\t}\n\t/**\n\t* Bind lifecycle listeners to a Runnable, returning a new Runnable.\n\t* The Run object contains information about the run, including its id,\n\t* type, input, output, error, startTime, endTime, and any tags or metadata\n\t* added to the run.\n\t*\n\t* @param {Object} params - The object containing the callback functions.\n\t* @param {(run: Run) => void} params.onStart - Called before the runnable starts running, with the Run object.\n\t* @param {(run: Run) => void} params.onEnd - Called after the runnable finishes running, with the Run object.\n\t* @param {(run: Run) => void} params.onError - Called if the runnable throws an error, with the Run object.\n\t*/\n\twithListeners({ onStart, onEnd, onError }) {\n\t\treturn new RunnableEach({ bound: this.bound.withListeners({\n\t\t\tonStart,\n\t\t\tonEnd,\n\t\t\tonError\n\t\t}) });\n\t}\n};\n/**\n* Base class for runnables that can be retried a\n* specified number of times.\n* @example\n* ```typescript\n* import {\n*   RunnableLambda,\n*   RunnableRetry,\n* } from \"@langchain/core/runnables\";\n*\n* // Simulate an API call that fails\n* const simulateApiCall = (input: string): string => {\n*   console.log(`Attempting API call with input: ${input}`);\n*   throw new Error(\"API call failed due to network issue\");\n* };\n*\n* const apiCallLambda = RunnableLambda.from(simulateApiCall);\n*\n* // Apply retry logic using the .withRetry() method\n* const apiCallWithRetry = apiCallLambda.withRetry({ stopAfterAttempt: 3 });\n*\n* // Alternatively, create a RunnableRetry instance manually\n* const manualRetry = new RunnableRetry({\n*   bound: apiCallLambda,\n*   maxAttemptNumber: 3,\n*   config: {},\n* });\n*\n* // Example invocation using the .withRetry() method\n* const res = await apiCallWithRetry\n*   .invoke(\"Request 1\")\n*   .catch((error) => {\n*     console.error(\"Failed after multiple retries:\", error.message);\n*   });\n*\n* // Example invocation using the manual retry instance\n* const res2 = await manualRetry\n*   .invoke(\"Request 2\")\n*   .catch((error) => {\n*     console.error(\"Failed after multiple retries:\", error.message);\n*   });\n* ```\n*/\nvar RunnableRetry = class extends RunnableBinding {\n\tstatic lc_name() {\n\t\treturn \"RunnableRetry\";\n\t}\n\tlc_namespace = [\"langchain_core\", \"runnables\"];\n\tmaxAttemptNumber = 3;\n\tonFailedAttempt = () => {};\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.maxAttemptNumber = fields.maxAttemptNumber ?? this.maxAttemptNumber;\n\t\tthis.onFailedAttempt = fields.onFailedAttempt ?? this.onFailedAttempt;\n\t}\n\t_patchConfigForRetry(attempt, config, runManager) {\n\t\tconst tag = attempt > 1 ? `retry:attempt:${attempt}` : void 0;\n\t\treturn (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.patchConfig)(config, { callbacks: runManager?.getChild(tag) });\n\t}\n\tasync _invoke(input, config, runManager) {\n\t\treturn p_retry__WEBPACK_IMPORTED_MODULE_16__((attemptNumber) => super.invoke(input, this._patchConfigForRetry(attemptNumber, config, runManager)), {\n\t\t\tonFailedAttempt: (error) => this.onFailedAttempt(error, input),\n\t\t\tretries: Math.max(this.maxAttemptNumber - 1, 0),\n\t\t\trandomize: true\n\t\t});\n\t}\n\t/**\n\t* Method that invokes the runnable with the specified input, run manager,\n\t* and config. It handles the retry logic by catching any errors and\n\t* recursively invoking itself with the updated config for the next retry\n\t* attempt.\n\t* @param input The input for the runnable.\n\t* @param runManager The run manager for the runnable.\n\t* @param config The config for the runnable.\n\t* @returns A promise that resolves to the output of the runnable.\n\t*/\n\tasync invoke(input, config) {\n\t\treturn this._callWithConfig(this._invoke.bind(this), input, config);\n\t}\n\tasync _batch(inputs, configs, runManagers, batchOptions) {\n\t\tconst resultsMap = {};\n\t\ttry {\n\t\t\tawait p_retry__WEBPACK_IMPORTED_MODULE_16__(async (attemptNumber) => {\n\t\t\t\tconst remainingIndexes = inputs.map((_, i) => i).filter((i) => resultsMap[i.toString()] === void 0 || resultsMap[i.toString()] instanceof Error);\n\t\t\t\tconst remainingInputs = remainingIndexes.map((i) => inputs[i]);\n\t\t\t\tconst patchedConfigs = remainingIndexes.map((i) => this._patchConfigForRetry(attemptNumber, configs?.[i], runManagers?.[i]));\n\t\t\t\tconst results = await super.batch(remainingInputs, patchedConfigs, {\n\t\t\t\t\t...batchOptions,\n\t\t\t\t\treturnExceptions: true\n\t\t\t\t});\n\t\t\t\tlet firstException;\n\t\t\t\tfor (let i = 0; i < results.length; i += 1) {\n\t\t\t\t\tconst result = results[i];\n\t\t\t\t\tconst resultMapIndex = remainingIndexes[i];\n\t\t\t\t\tif (result instanceof Error) {\n\t\t\t\t\t\tif (firstException === void 0) {\n\t\t\t\t\t\t\tfirstException = result;\n\t\t\t\t\t\t\tfirstException.input = remainingInputs[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tresultsMap[resultMapIndex.toString()] = result;\n\t\t\t\t}\n\t\t\t\tif (firstException) throw firstException;\n\t\t\t\treturn results;\n\t\t\t}, {\n\t\t\t\tonFailedAttempt: (error) => this.onFailedAttempt(error, error.input),\n\t\t\t\tretries: Math.max(this.maxAttemptNumber - 1, 0),\n\t\t\t\trandomize: true\n\t\t\t});\n\t\t} catch (e) {\n\t\t\tif (batchOptions?.returnExceptions !== true) throw e;\n\t\t}\n\t\treturn Object.keys(resultsMap).sort((a, b) => parseInt(a, 10) - parseInt(b, 10)).map((key) => resultsMap[parseInt(key, 10)]);\n\t}\n\tasync batch(inputs, options, batchOptions) {\n\t\treturn this._batchWithConfig(this._batch.bind(this), inputs, options, batchOptions);\n\t}\n};\n/**\n* A sequence of runnables, where the output of each is the input of the next.\n* @example\n* ```typescript\n* const promptTemplate = PromptTemplate.fromTemplate(\n*   \"Tell me a joke about {topic}\",\n* );\n* const chain = RunnableSequence.from([promptTemplate, new ChatOpenAI({ model: \"gpt-4o-mini\" })]);\n* const result = await chain.invoke({ topic: \"bears\" });\n* ```\n*/\nvar RunnableSequence = class RunnableSequence extends Runnable {\n\tstatic lc_name() {\n\t\treturn \"RunnableSequence\";\n\t}\n\tfirst;\n\tmiddle = [];\n\tlast;\n\tomitSequenceTags = false;\n\tlc_serializable = true;\n\tlc_namespace = [\"langchain_core\", \"runnables\"];\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.first = fields.first;\n\t\tthis.middle = fields.middle ?? this.middle;\n\t\tthis.last = fields.last;\n\t\tthis.name = fields.name;\n\t\tthis.omitSequenceTags = fields.omitSequenceTags ?? this.omitSequenceTags;\n\t}\n\tget steps() {\n\t\treturn [\n\t\t\tthis.first,\n\t\t\t...this.middle,\n\t\t\tthis.last\n\t\t];\n\t}\n\tasync invoke(input, options) {\n\t\tconst config = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options);\n\t\tconst callbackManager_ = await (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.getCallbackManagerForConfig)(config);\n\t\tconst runManager = await callbackManager_?.handleChainStart(this.toJSON(), _coerceToDict(input, \"input\"), config.runId, void 0, void 0, void 0, config?.runName);\n\t\tdelete config.runId;\n\t\tlet nextStepInput = input;\n\t\tlet finalOutput;\n\t\ttry {\n\t\t\tconst initialSteps = [this.first, ...this.middle];\n\t\t\tfor (let i = 0; i < initialSteps.length; i += 1) {\n\t\t\t\tconst step = initialSteps[i];\n\t\t\t\tconst promise = step.invoke(nextStepInput, (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.patchConfig)(config, { callbacks: runManager?.getChild(this.omitSequenceTags ? void 0 : `seq:step:${i + 1}`) }));\n\t\t\t\tnextStepInput = await (0,_utils_signal_js__WEBPACK_IMPORTED_MODULE_5__.raceWithSignal)(promise, options?.signal);\n\t\t\t}\n\t\t\tif (options?.signal?.aborted) throw (0,_utils_signal_js__WEBPACK_IMPORTED_MODULE_5__.getAbortSignalError)(options.signal);\n\t\t\tfinalOutput = await this.last.invoke(nextStepInput, (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.patchConfig)(config, { callbacks: runManager?.getChild(this.omitSequenceTags ? void 0 : `seq:step:${this.steps.length}`) }));\n\t\t} catch (e) {\n\t\t\tawait runManager?.handleChainError(e);\n\t\t\tthrow e;\n\t\t}\n\t\tawait runManager?.handleChainEnd(_coerceToDict(finalOutput, \"output\"));\n\t\treturn finalOutput;\n\t}\n\tasync batch(inputs, options, batchOptions) {\n\t\tconst configList = this._getOptionsList(options ?? {}, inputs.length);\n\t\tconst callbackManagers = await Promise.all(configList.map(_config_js__WEBPACK_IMPORTED_MODULE_4__.getCallbackManagerForConfig));\n\t\tconst runManagers = await Promise.all(callbackManagers.map(async (callbackManager, i) => {\n\t\t\tconst handleStartRes = await callbackManager?.handleChainStart(this.toJSON(), _coerceToDict(inputs[i], \"input\"), configList[i].runId, void 0, void 0, void 0, configList[i].runName);\n\t\t\tdelete configList[i].runId;\n\t\t\treturn handleStartRes;\n\t\t}));\n\t\tlet nextStepInputs = inputs;\n\t\ttry {\n\t\t\tfor (let i = 0; i < this.steps.length; i += 1) {\n\t\t\t\tconst step = this.steps[i];\n\t\t\t\tconst promise = step.batch(nextStepInputs, runManagers.map((runManager, j) => {\n\t\t\t\t\tconst childRunManager = runManager?.getChild(this.omitSequenceTags ? void 0 : `seq:step:${i + 1}`);\n\t\t\t\t\treturn (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.patchConfig)(configList[j], { callbacks: childRunManager });\n\t\t\t\t}), batchOptions);\n\t\t\t\tnextStepInputs = await (0,_utils_signal_js__WEBPACK_IMPORTED_MODULE_5__.raceWithSignal)(promise, configList[0]?.signal);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tawait Promise.all(runManagers.map((runManager) => runManager?.handleChainError(e)));\n\t\t\tthrow e;\n\t\t}\n\t\tawait Promise.all(runManagers.map((runManager) => runManager?.handleChainEnd(_coerceToDict(nextStepInputs, \"output\"))));\n\t\treturn nextStepInputs;\n\t}\n\t/** @internal */\n\t_concatOutputChunks(first, second) {\n\t\treturn this.last._concatOutputChunks(first, second);\n\t}\n\tasync *_streamIterator(input, options) {\n\t\tconst callbackManager_ = await (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.getCallbackManagerForConfig)(options);\n\t\tconst { runId,...otherOptions } = options ?? {};\n\t\tconst runManager = await callbackManager_?.handleChainStart(this.toJSON(), _coerceToDict(input, \"input\"), runId, void 0, void 0, void 0, otherOptions?.runName);\n\t\tconst steps = [\n\t\t\tthis.first,\n\t\t\t...this.middle,\n\t\t\tthis.last\n\t\t];\n\t\tlet concatSupported = true;\n\t\tlet finalOutput;\n\t\tasync function* inputGenerator() {\n\t\t\tyield input;\n\t\t}\n\t\ttry {\n\t\t\tlet finalGenerator = steps[0].transform(inputGenerator(), (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.patchConfig)(otherOptions, { callbacks: runManager?.getChild(this.omitSequenceTags ? void 0 : `seq:step:1`) }));\n\t\t\tfor (let i = 1; i < steps.length; i += 1) {\n\t\t\t\tconst step = steps[i];\n\t\t\t\tfinalGenerator = await step.transform(finalGenerator, (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.patchConfig)(otherOptions, { callbacks: runManager?.getChild(this.omitSequenceTags ? void 0 : `seq:step:${i + 1}`) }));\n\t\t\t}\n\t\t\tfor await (const chunk of finalGenerator) {\n\t\t\t\toptions?.signal?.throwIfAborted();\n\t\t\t\tyield chunk;\n\t\t\t\tif (concatSupported) if (finalOutput === void 0) finalOutput = chunk;\n\t\t\t\telse try {\n\t\t\t\t\tfinalOutput = this._concatOutputChunks(finalOutput, chunk);\n\t\t\t\t} catch {\n\t\t\t\t\tfinalOutput = void 0;\n\t\t\t\t\tconcatSupported = false;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tawait runManager?.handleChainError(e);\n\t\t\tthrow e;\n\t\t}\n\t\tawait runManager?.handleChainEnd(_coerceToDict(finalOutput, \"output\"));\n\t}\n\tgetGraph(config) {\n\t\tconst graph = new _graph_js__WEBPACK_IMPORTED_MODULE_13__.Graph();\n\t\tlet currentLastNode = null;\n\t\tthis.steps.forEach((step, index) => {\n\t\t\tconst stepGraph = step.getGraph(config);\n\t\t\tif (index !== 0) stepGraph.trimFirstNode();\n\t\t\tif (index !== this.steps.length - 1) stepGraph.trimLastNode();\n\t\t\tgraph.extend(stepGraph);\n\t\t\tconst stepFirstNode = stepGraph.firstNode();\n\t\t\tif (!stepFirstNode) throw new Error(`Runnable ${step} has no first node`);\n\t\t\tif (currentLastNode) graph.addEdge(currentLastNode, stepFirstNode);\n\t\t\tcurrentLastNode = stepGraph.lastNode();\n\t\t});\n\t\treturn graph;\n\t}\n\tpipe(coerceable) {\n\t\tif (RunnableSequence.isRunnableSequence(coerceable)) return new RunnableSequence({\n\t\t\tfirst: this.first,\n\t\t\tmiddle: this.middle.concat([\n\t\t\t\tthis.last,\n\t\t\t\tcoerceable.first,\n\t\t\t\t...coerceable.middle\n\t\t\t]),\n\t\t\tlast: coerceable.last,\n\t\t\tname: this.name ?? coerceable.name\n\t\t});\n\t\telse return new RunnableSequence({\n\t\t\tfirst: this.first,\n\t\t\tmiddle: [...this.middle, this.last],\n\t\t\tlast: _coerceToRunnable(coerceable),\n\t\t\tname: this.name\n\t\t});\n\t}\n\tstatic isRunnableSequence(thing) {\n\t\treturn Array.isArray(thing.middle) && Runnable.isRunnable(thing);\n\t}\n\tstatic from([first, ...runnables], nameOrFields) {\n\t\tlet extra = {};\n\t\tif (typeof nameOrFields === \"string\") extra.name = nameOrFields;\n\t\telse if (nameOrFields !== void 0) extra = nameOrFields;\n\t\treturn new RunnableSequence({\n\t\t\t...extra,\n\t\t\tfirst: _coerceToRunnable(first),\n\t\t\tmiddle: runnables.slice(0, -1).map(_coerceToRunnable),\n\t\t\tlast: _coerceToRunnable(runnables[runnables.length - 1])\n\t\t});\n\t}\n};\n/**\n* A runnable that runs a mapping of runnables in parallel,\n* and returns a mapping of their outputs.\n* @example\n* ```typescript\n* const mapChain = RunnableMap.from({\n*   joke: PromptTemplate.fromTemplate(\"Tell me a joke about {topic}\").pipe(\n*     new ChatAnthropic({}),\n*   ),\n*   poem: PromptTemplate.fromTemplate(\"write a 2-line poem about {topic}\").pipe(\n*     new ChatAnthropic({}),\n*   ),\n* });\n* const result = await mapChain.invoke({ topic: \"bear\" });\n* ```\n*/\nvar RunnableMap = class RunnableMap extends Runnable {\n\tstatic lc_name() {\n\t\treturn \"RunnableMap\";\n\t}\n\tlc_namespace = [\"langchain_core\", \"runnables\"];\n\tlc_serializable = true;\n\tsteps;\n\tgetStepsKeys() {\n\t\treturn Object.keys(this.steps);\n\t}\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.steps = {};\n\t\tfor (const [key, value] of Object.entries(fields.steps)) this.steps[key] = _coerceToRunnable(value);\n\t}\n\tstatic from(steps) {\n\t\treturn new RunnableMap({ steps });\n\t}\n\tasync invoke(input, options) {\n\t\tconst config = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options);\n\t\tconst callbackManager_ = await (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.getCallbackManagerForConfig)(config);\n\t\tconst runManager = await callbackManager_?.handleChainStart(this.toJSON(), { input }, config.runId, void 0, void 0, void 0, config?.runName);\n\t\tdelete config.runId;\n\t\tconst output = {};\n\t\ttry {\n\t\t\tconst promises = Object.entries(this.steps).map(async ([key, runnable]) => {\n\t\t\t\toutput[key] = await runnable.invoke(input, (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.patchConfig)(config, { callbacks: runManager?.getChild(`map:key:${key}`) }));\n\t\t\t});\n\t\t\tawait (0,_utils_signal_js__WEBPACK_IMPORTED_MODULE_5__.raceWithSignal)(Promise.all(promises), options?.signal);\n\t\t} catch (e) {\n\t\t\tawait runManager?.handleChainError(e);\n\t\t\tthrow e;\n\t\t}\n\t\tawait runManager?.handleChainEnd(output);\n\t\treturn output;\n\t}\n\tasync *_transform(generator, runManager, options) {\n\t\tconst steps = { ...this.steps };\n\t\tconst inputCopies = (0,_utils_stream_js__WEBPACK_IMPORTED_MODULE_6__.atee)(generator, Object.keys(steps).length);\n\t\tconst tasks = new Map(Object.entries(steps).map(([key, runnable], i) => {\n\t\t\tconst gen = runnable.transform(inputCopies[i], (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.patchConfig)(options, { callbacks: runManager?.getChild(`map:key:${key}`) }));\n\t\t\treturn [key, gen.next().then((result) => ({\n\t\t\t\tkey,\n\t\t\t\tgen,\n\t\t\t\tresult\n\t\t\t}))];\n\t\t}));\n\t\twhile (tasks.size) {\n\t\t\tconst promise = Promise.race(tasks.values());\n\t\t\tconst { key, result, gen } = await (0,_utils_signal_js__WEBPACK_IMPORTED_MODULE_5__.raceWithSignal)(promise, options?.signal);\n\t\t\ttasks.delete(key);\n\t\t\tif (!result.done) {\n\t\t\t\tyield { [key]: result.value };\n\t\t\t\ttasks.set(key, gen.next().then((result$1) => ({\n\t\t\t\t\tkey,\n\t\t\t\t\tgen,\n\t\t\t\t\tresult: result$1\n\t\t\t\t})));\n\t\t\t}\n\t\t}\n\t}\n\ttransform(generator, options) {\n\t\treturn this._transformStreamWithConfig(generator, this._transform.bind(this), options);\n\t}\n\tasync stream(input, options) {\n\t\tasync function* generator() {\n\t\t\tyield input;\n\t\t}\n\t\tconst config = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options);\n\t\tconst wrappedGenerator = new _utils_stream_js__WEBPACK_IMPORTED_MODULE_6__.AsyncGeneratorWithSetup({\n\t\t\tgenerator: this.transform(generator(), config),\n\t\t\tconfig\n\t\t});\n\t\tawait wrappedGenerator.setup;\n\t\treturn _utils_stream_js__WEBPACK_IMPORTED_MODULE_6__.IterableReadableStream.fromAsyncGenerator(wrappedGenerator);\n\t}\n};\n/**\n* A runnable that wraps a traced LangSmith function.\n*/\nvar RunnableTraceable = class RunnableTraceable extends Runnable {\n\tlc_serializable = false;\n\tlc_namespace = [\"langchain_core\", \"runnables\"];\n\tfunc;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tif (!(0,langsmith_singletons_traceable__WEBPACK_IMPORTED_MODULE_17__.isTraceableFunction)(fields.func)) throw new Error(\"RunnableTraceable requires a function that is wrapped in traceable higher-order function\");\n\t\tthis.func = fields.func;\n\t}\n\tasync invoke(input, options) {\n\t\tconst [config] = this._getOptionsList(options ?? {}, 1);\n\t\tconst callbacks = await (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.getCallbackManagerForConfig)(config);\n\t\tconst promise = this.func((0,_config_js__WEBPACK_IMPORTED_MODULE_4__.patchConfig)(config, { callbacks }), input);\n\t\treturn (0,_utils_signal_js__WEBPACK_IMPORTED_MODULE_5__.raceWithSignal)(promise, config?.signal);\n\t}\n\tasync *_streamIterator(input, options) {\n\t\tconst [config] = this._getOptionsList(options ?? {}, 1);\n\t\tconst result = await this.invoke(input, options);\n\t\tif ((0,_iter_js__WEBPACK_IMPORTED_MODULE_15__.isAsyncIterable)(result)) {\n\t\t\tfor await (const item of result) {\n\t\t\t\tconfig?.signal?.throwIfAborted();\n\t\t\t\tyield item;\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tif ((0,_iter_js__WEBPACK_IMPORTED_MODULE_15__.isIterator)(result)) {\n\t\t\twhile (true) {\n\t\t\t\tconfig?.signal?.throwIfAborted();\n\t\t\t\tconst state = result.next();\n\t\t\t\tif (state.done) break;\n\t\t\t\tyield state.value;\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tyield result;\n\t}\n\tstatic from(func) {\n\t\treturn new RunnableTraceable({ func });\n\t}\n};\nfunction assertNonTraceableFunction(func) {\n\tif ((0,langsmith_singletons_traceable__WEBPACK_IMPORTED_MODULE_17__.isTraceableFunction)(func)) throw new Error(\"RunnableLambda requires a function that is not wrapped in traceable higher-order function. This shouldn't happen.\");\n}\n/**\n* A runnable that wraps an arbitrary function that takes a single argument.\n* @example\n* ```typescript\n* import { RunnableLambda } from \"@langchain/core/runnables\";\n*\n* const add = (input: { x: number; y: number }) => input.x + input.y;\n*\n* const multiply = (input: { value: number; multiplier: number }) =>\n*   input.value * input.multiplier;\n*\n* // Create runnables for the functions\n* const addLambda = RunnableLambda.from(add);\n* const multiplyLambda = RunnableLambda.from(multiply);\n*\n* // Chain the lambdas for a mathematical operation\n* const chainedLambda = addLambda.pipe((result) =>\n*   multiplyLambda.invoke({ value: result, multiplier: 2 })\n* );\n*\n* // Example invocation of the chainedLambda\n* const result = await chainedLambda.invoke({ x: 2, y: 3 });\n*\n* // Will log \"10\" (since (2 + 3) * 2 = 10)\n* ```\n*/\nvar RunnableLambda = class RunnableLambda extends Runnable {\n\tstatic lc_name() {\n\t\treturn \"RunnableLambda\";\n\t}\n\tlc_namespace = [\"langchain_core\", \"runnables\"];\n\tfunc;\n\tconstructor(fields) {\n\t\tif ((0,langsmith_singletons_traceable__WEBPACK_IMPORTED_MODULE_17__.isTraceableFunction)(fields.func)) return RunnableTraceable.from(fields.func);\n\t\tsuper(fields);\n\t\tassertNonTraceableFunction(fields.func);\n\t\tthis.func = fields.func;\n\t}\n\tstatic from(func) {\n\t\treturn new RunnableLambda({ func });\n\t}\n\tasync _invoke(input, config, runManager) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst childConfig = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.patchConfig)(config, {\n\t\t\t\tcallbacks: runManager?.getChild(),\n\t\t\t\trecursionLimit: (config?.recursionLimit ?? _config_js__WEBPACK_IMPORTED_MODULE_4__.DEFAULT_RECURSION_LIMIT) - 1\n\t\t\t});\n\t\t\t_singletons_async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_2__.AsyncLocalStorageProviderSingleton.runWithConfig((0,_config_js__WEBPACK_IMPORTED_MODULE_4__.pickRunnableConfigKeys)(childConfig), async () => {\n\t\t\t\ttry {\n\t\t\t\t\tlet output = await this.func(input, { ...childConfig });\n\t\t\t\t\tif (output && Runnable.isRunnable(output)) {\n\t\t\t\t\t\tif (config?.recursionLimit === 0) throw new Error(\"Recursion limit reached.\");\n\t\t\t\t\t\toutput = await output.invoke(input, {\n\t\t\t\t\t\t\t...childConfig,\n\t\t\t\t\t\t\trecursionLimit: (childConfig.recursionLimit ?? _config_js__WEBPACK_IMPORTED_MODULE_4__.DEFAULT_RECURSION_LIMIT) - 1\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if ((0,_iter_js__WEBPACK_IMPORTED_MODULE_15__.isAsyncIterable)(output)) {\n\t\t\t\t\t\tlet finalOutput;\n\t\t\t\t\t\tfor await (const chunk of (0,_iter_js__WEBPACK_IMPORTED_MODULE_15__.consumeAsyncIterableInContext)(childConfig, output)) {\n\t\t\t\t\t\t\tconfig?.signal?.throwIfAborted();\n\t\t\t\t\t\t\tif (finalOutput === void 0) finalOutput = chunk;\n\t\t\t\t\t\t\telse try {\n\t\t\t\t\t\t\t\tfinalOutput = this._concatOutputChunks(finalOutput, chunk);\n\t\t\t\t\t\t\t} catch {\n\t\t\t\t\t\t\t\tfinalOutput = chunk;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\toutput = finalOutput;\n\t\t\t\t\t} else if ((0,_iter_js__WEBPACK_IMPORTED_MODULE_15__.isIterableIterator)(output)) {\n\t\t\t\t\t\tlet finalOutput;\n\t\t\t\t\t\tfor (const chunk of (0,_iter_js__WEBPACK_IMPORTED_MODULE_15__.consumeIteratorInContext)(childConfig, output)) {\n\t\t\t\t\t\t\tconfig?.signal?.throwIfAborted();\n\t\t\t\t\t\t\tif (finalOutput === void 0) finalOutput = chunk;\n\t\t\t\t\t\t\telse try {\n\t\t\t\t\t\t\t\tfinalOutput = this._concatOutputChunks(finalOutput, chunk);\n\t\t\t\t\t\t\t} catch {\n\t\t\t\t\t\t\t\tfinalOutput = chunk;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\toutput = finalOutput;\n\t\t\t\t\t}\n\t\t\t\t\tresolve(output);\n\t\t\t\t} catch (e) {\n\t\t\t\t\treject(e);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\tasync invoke(input, options) {\n\t\treturn this._callWithConfig(this._invoke.bind(this), input, options);\n\t}\n\tasync *_transform(generator, runManager, config) {\n\t\tlet finalChunk;\n\t\tfor await (const chunk of generator) if (finalChunk === void 0) finalChunk = chunk;\n\t\telse try {\n\t\t\tfinalChunk = this._concatOutputChunks(finalChunk, chunk);\n\t\t} catch {\n\t\t\tfinalChunk = chunk;\n\t\t}\n\t\tconst childConfig = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.patchConfig)(config, {\n\t\t\tcallbacks: runManager?.getChild(),\n\t\t\trecursionLimit: (config?.recursionLimit ?? _config_js__WEBPACK_IMPORTED_MODULE_4__.DEFAULT_RECURSION_LIMIT) - 1\n\t\t});\n\t\tconst output = await new Promise((resolve, reject) => {\n\t\t\t_singletons_async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_2__.AsyncLocalStorageProviderSingleton.runWithConfig((0,_config_js__WEBPACK_IMPORTED_MODULE_4__.pickRunnableConfigKeys)(childConfig), async () => {\n\t\t\t\ttry {\n\t\t\t\t\tconst res = await this.func(finalChunk, {\n\t\t\t\t\t\t...childConfig,\n\t\t\t\t\t\tconfig: childConfig\n\t\t\t\t\t});\n\t\t\t\t\tresolve(res);\n\t\t\t\t} catch (e) {\n\t\t\t\t\treject(e);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\tif (output && Runnable.isRunnable(output)) {\n\t\t\tif (config?.recursionLimit === 0) throw new Error(\"Recursion limit reached.\");\n\t\t\tconst stream = await output.stream(finalChunk, childConfig);\n\t\t\tfor await (const chunk of stream) yield chunk;\n\t\t} else if ((0,_iter_js__WEBPACK_IMPORTED_MODULE_15__.isAsyncIterable)(output)) for await (const chunk of (0,_iter_js__WEBPACK_IMPORTED_MODULE_15__.consumeAsyncIterableInContext)(childConfig, output)) {\n\t\t\tconfig?.signal?.throwIfAborted();\n\t\t\tyield chunk;\n\t\t}\n\t\telse if ((0,_iter_js__WEBPACK_IMPORTED_MODULE_15__.isIterableIterator)(output)) for (const chunk of (0,_iter_js__WEBPACK_IMPORTED_MODULE_15__.consumeIteratorInContext)(childConfig, output)) {\n\t\t\tconfig?.signal?.throwIfAborted();\n\t\t\tyield chunk;\n\t\t}\n\t\telse yield output;\n\t}\n\ttransform(generator, options) {\n\t\treturn this._transformStreamWithConfig(generator, this._transform.bind(this), options);\n\t}\n\tasync stream(input, options) {\n\t\tasync function* generator() {\n\t\t\tyield input;\n\t\t}\n\t\tconst config = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options);\n\t\tconst wrappedGenerator = new _utils_stream_js__WEBPACK_IMPORTED_MODULE_6__.AsyncGeneratorWithSetup({\n\t\t\tgenerator: this.transform(generator(), config),\n\t\t\tconfig\n\t\t});\n\t\tawait wrappedGenerator.setup;\n\t\treturn _utils_stream_js__WEBPACK_IMPORTED_MODULE_6__.IterableReadableStream.fromAsyncGenerator(wrappedGenerator);\n\t}\n};\n/**\n* A runnable that runs a mapping of runnables in parallel,\n* and returns a mapping of their outputs.\n* @example\n* ```typescript\n* import {\n*   RunnableLambda,\n*   RunnableParallel,\n* } from \"@langchain/core/runnables\";\n*\n* const addYears = (age: number): number => age + 5;\n* const yearsToFifty = (age: number): number => 50 - age;\n* const yearsToHundred = (age: number): number => 100 - age;\n*\n* const addYearsLambda = RunnableLambda.from(addYears);\n* const milestoneFiftyLambda = RunnableLambda.from(yearsToFifty);\n* const milestoneHundredLambda = RunnableLambda.from(yearsToHundred);\n*\n* // Pipe will coerce objects into RunnableParallel by default, but we\n* // explicitly instantiate one here to demonstrate\n* const sequence = addYearsLambda.pipe(\n*   RunnableParallel.from({\n*     years_to_fifty: milestoneFiftyLambda,\n*     years_to_hundred: milestoneHundredLambda,\n*   })\n* );\n*\n* // Invoke the sequence with a single age input\n* const res = await sequence.invoke(25);\n*\n* // { years_to_fifty: 20, years_to_hundred: 70 }\n* ```\n*/\nvar RunnableParallel = class extends RunnableMap {};\n/**\n* A Runnable that can fallback to other Runnables if it fails.\n* External APIs (e.g., APIs for a language model) may at times experience\n* degraded performance or even downtime.\n*\n* In these cases, it can be useful to have a fallback Runnable that can be\n* used in place of the original Runnable (e.g., fallback to another LLM provider).\n*\n* Fallbacks can be defined at the level of a single Runnable, or at the level\n* of a chain of Runnables. Fallbacks are tried in order until one succeeds or\n* all fail.\n*\n* While you can instantiate a `RunnableWithFallbacks` directly, it is usually\n* more convenient to use the `withFallbacks` method on an existing Runnable.\n*\n* When streaming, fallbacks will only be called on failures during the initial\n* stream creation. Errors that occur after a stream starts will not fallback\n* to the next Runnable.\n*\n* @example\n* ```typescript\n* import {\n*   RunnableLambda,\n*   RunnableWithFallbacks,\n* } from \"@langchain/core/runnables\";\n*\n* const primaryOperation = (input: string): string => {\n*   if (input !== \"safe\") {\n*     throw new Error(\"Primary operation failed due to unsafe input\");\n*   }\n*   return `Processed: ${input}`;\n* };\n*\n* // Define a fallback operation that processes the input differently\n* const fallbackOperation = (input: string): string =>\n*   `Fallback processed: ${input}`;\n*\n* const primaryRunnable = RunnableLambda.from(primaryOperation);\n* const fallbackRunnable = RunnableLambda.from(fallbackOperation);\n*\n* // Apply the fallback logic using the .withFallbacks() method\n* const runnableWithFallback = primaryRunnable.withFallbacks([fallbackRunnable]);\n*\n* // Alternatively, create a RunnableWithFallbacks instance manually\n* const manualFallbackChain = new RunnableWithFallbacks({\n*   runnable: primaryRunnable,\n*   fallbacks: [fallbackRunnable],\n* });\n*\n* // Example invocation using .withFallbacks()\n* const res = await runnableWithFallback\n*   .invoke(\"unsafe input\")\n*   .catch((error) => {\n*     console.error(\"Failed after all attempts:\", error.message);\n*   });\n*\n* // \"Fallback processed: unsafe input\"\n*\n* // Example invocation using manual instantiation\n* const res = await manualFallbackChain\n*   .invoke(\"safe\")\n*   .catch((error) => {\n*     console.error(\"Failed after all attempts:\", error.message);\n*   });\n*\n* // \"Processed: safe\"\n* ```\n*/\nvar RunnableWithFallbacks = class extends Runnable {\n\tstatic lc_name() {\n\t\treturn \"RunnableWithFallbacks\";\n\t}\n\tlc_namespace = [\"langchain_core\", \"runnables\"];\n\tlc_serializable = true;\n\trunnable;\n\tfallbacks;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.runnable = fields.runnable;\n\t\tthis.fallbacks = fields.fallbacks;\n\t}\n\t*runnables() {\n\t\tyield this.runnable;\n\t\tfor (const fallback of this.fallbacks) yield fallback;\n\t}\n\tasync invoke(input, options) {\n\t\tconst config = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options);\n\t\tconst callbackManager_ = await (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.getCallbackManagerForConfig)(config);\n\t\tconst { runId,...otherConfigFields } = config;\n\t\tconst runManager = await callbackManager_?.handleChainStart(this.toJSON(), _coerceToDict(input, \"input\"), runId, void 0, void 0, void 0, otherConfigFields?.runName);\n\t\tconst childConfig = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.patchConfig)(otherConfigFields, { callbacks: runManager?.getChild() });\n\t\tconst res = await _singletons_async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_2__.AsyncLocalStorageProviderSingleton.runWithConfig(childConfig, async () => {\n\t\t\tlet firstError;\n\t\t\tfor (const runnable of this.runnables()) {\n\t\t\t\tconfig?.signal?.throwIfAborted();\n\t\t\t\ttry {\n\t\t\t\t\tconst output = await runnable.invoke(input, childConfig);\n\t\t\t\t\tawait runManager?.handleChainEnd(_coerceToDict(output, \"output\"));\n\t\t\t\t\treturn output;\n\t\t\t\t} catch (e) {\n\t\t\t\t\tif (firstError === void 0) firstError = e;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (firstError === void 0) throw new Error(\"No error stored at end of fallback.\");\n\t\t\tawait runManager?.handleChainError(firstError);\n\t\t\tthrow firstError;\n\t\t});\n\t\treturn res;\n\t}\n\tasync *_streamIterator(input, options) {\n\t\tconst config = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options);\n\t\tconst callbackManager_ = await (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.getCallbackManagerForConfig)(config);\n\t\tconst { runId,...otherConfigFields } = config;\n\t\tconst runManager = await callbackManager_?.handleChainStart(this.toJSON(), _coerceToDict(input, \"input\"), runId, void 0, void 0, void 0, otherConfigFields?.runName);\n\t\tlet firstError;\n\t\tlet stream;\n\t\tfor (const runnable of this.runnables()) {\n\t\t\tconfig?.signal?.throwIfAborted();\n\t\t\tconst childConfig = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.patchConfig)(otherConfigFields, { callbacks: runManager?.getChild() });\n\t\t\ttry {\n\t\t\t\tconst originalStream = await runnable.stream(input, childConfig);\n\t\t\t\tstream = (0,_iter_js__WEBPACK_IMPORTED_MODULE_15__.consumeAsyncIterableInContext)(childConfig, originalStream);\n\t\t\t\tbreak;\n\t\t\t} catch (e) {\n\t\t\t\tif (firstError === void 0) firstError = e;\n\t\t\t}\n\t\t}\n\t\tif (stream === void 0) {\n\t\t\tconst error = firstError ?? /* @__PURE__ */ new Error(\"No error stored at end of fallback.\");\n\t\t\tawait runManager?.handleChainError(error);\n\t\t\tthrow error;\n\t\t}\n\t\tlet output;\n\t\ttry {\n\t\t\tfor await (const chunk of stream) {\n\t\t\t\tyield chunk;\n\t\t\t\ttry {\n\t\t\t\t\toutput = output === void 0 ? output : this._concatOutputChunks(output, chunk);\n\t\t\t\t} catch {\n\t\t\t\t\toutput = void 0;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tawait runManager?.handleChainError(e);\n\t\t\tthrow e;\n\t\t}\n\t\tawait runManager?.handleChainEnd(_coerceToDict(output, \"output\"));\n\t}\n\tasync batch(inputs, options, batchOptions) {\n\t\tif (batchOptions?.returnExceptions) throw new Error(\"Not implemented.\");\n\t\tconst configList = this._getOptionsList(options ?? {}, inputs.length);\n\t\tconst callbackManagers = await Promise.all(configList.map((config) => (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.getCallbackManagerForConfig)(config)));\n\t\tconst runManagers = await Promise.all(callbackManagers.map(async (callbackManager, i) => {\n\t\t\tconst handleStartRes = await callbackManager?.handleChainStart(this.toJSON(), _coerceToDict(inputs[i], \"input\"), configList[i].runId, void 0, void 0, void 0, configList[i].runName);\n\t\t\tdelete configList[i].runId;\n\t\t\treturn handleStartRes;\n\t\t}));\n\t\tlet firstError;\n\t\tfor (const runnable of this.runnables()) {\n\t\t\tconfigList[0].signal?.throwIfAborted();\n\t\t\ttry {\n\t\t\t\tconst outputs = await runnable.batch(inputs, runManagers.map((runManager, j) => (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.patchConfig)(configList[j], { callbacks: runManager?.getChild() })), batchOptions);\n\t\t\t\tawait Promise.all(runManagers.map((runManager, i) => runManager?.handleChainEnd(_coerceToDict(outputs[i], \"output\"))));\n\t\t\t\treturn outputs;\n\t\t\t} catch (e) {\n\t\t\t\tif (firstError === void 0) firstError = e;\n\t\t\t}\n\t\t}\n\t\tif (!firstError) throw new Error(\"No error stored at end of fallbacks.\");\n\t\tawait Promise.all(runManagers.map((runManager) => runManager?.handleChainError(firstError)));\n\t\tthrow firstError;\n\t}\n};\nfunction _coerceToRunnable(coerceable) {\n\tif (typeof coerceable === \"function\") return new RunnableLambda({ func: coerceable });\n\telse if (Runnable.isRunnable(coerceable)) return coerceable;\n\telse if (!Array.isArray(coerceable) && typeof coerceable === \"object\") {\n\t\tconst runnables = {};\n\t\tfor (const [key, value] of Object.entries(coerceable)) runnables[key] = _coerceToRunnable(value);\n\t\treturn new RunnableMap({ steps: runnables });\n\t} else throw new Error(`Expected a Runnable, function or object.\\nInstead got an unsupported type.`);\n}\n/**\n* A runnable that assigns key-value pairs to inputs of type `Record<string, unknown>`.\n* @example\n* ```typescript\n* import {\n*   RunnableAssign,\n*   RunnableLambda,\n*   RunnableParallel,\n* } from \"@langchain/core/runnables\";\n*\n* const calculateAge = (x: { birthYear: number }): { age: number } => {\n*   const currentYear = new Date().getFullYear();\n*   return { age: currentYear - x.birthYear };\n* };\n*\n* const createGreeting = (x: { name: string }): { greeting: string } => {\n*   return { greeting: `Hello, ${x.name}!` };\n* };\n*\n* const mapper = RunnableParallel.from({\n*   age_step: RunnableLambda.from(calculateAge),\n*   greeting_step: RunnableLambda.from(createGreeting),\n* });\n*\n* const runnableAssign = new RunnableAssign({ mapper });\n*\n* const res = await runnableAssign.invoke({ name: \"Alice\", birthYear: 1990 });\n*\n* // { name: \"Alice\", birthYear: 1990, age_step: { age: 34 }, greeting_step: { greeting: \"Hello, Alice!\" } }\n* ```\n*/\nvar RunnableAssign = class extends Runnable {\n\tstatic lc_name() {\n\t\treturn \"RunnableAssign\";\n\t}\n\tlc_namespace = [\"langchain_core\", \"runnables\"];\n\tlc_serializable = true;\n\tmapper;\n\tconstructor(fields) {\n\t\tif (fields instanceof RunnableMap) fields = { mapper: fields };\n\t\tsuper(fields);\n\t\tthis.mapper = fields.mapper;\n\t}\n\tasync invoke(input, options) {\n\t\tconst mapperResult = await this.mapper.invoke(input, options);\n\t\treturn {\n\t\t\t...input,\n\t\t\t...mapperResult\n\t\t};\n\t}\n\tasync *_transform(generator, runManager, options) {\n\t\tconst mapperKeys = this.mapper.getStepsKeys();\n\t\tconst [forPassthrough, forMapper] = (0,_utils_stream_js__WEBPACK_IMPORTED_MODULE_6__.atee)(generator);\n\t\tconst mapperOutput = this.mapper.transform(forMapper, (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.patchConfig)(options, { callbacks: runManager?.getChild() }));\n\t\tconst firstMapperChunkPromise = mapperOutput.next();\n\t\tfor await (const chunk of forPassthrough) {\n\t\t\tif (typeof chunk !== \"object\" || Array.isArray(chunk)) throw new Error(`RunnableAssign can only be used with objects as input, got ${typeof chunk}`);\n\t\t\tconst filtered = Object.fromEntries(Object.entries(chunk).filter(([key]) => !mapperKeys.includes(key)));\n\t\t\tif (Object.keys(filtered).length > 0) yield filtered;\n\t\t}\n\t\tyield (await firstMapperChunkPromise).value;\n\t\tfor await (const chunk of mapperOutput) yield chunk;\n\t}\n\ttransform(generator, options) {\n\t\treturn this._transformStreamWithConfig(generator, this._transform.bind(this), options);\n\t}\n\tasync stream(input, options) {\n\t\tasync function* generator() {\n\t\t\tyield input;\n\t\t}\n\t\tconst config = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options);\n\t\tconst wrappedGenerator = new _utils_stream_js__WEBPACK_IMPORTED_MODULE_6__.AsyncGeneratorWithSetup({\n\t\t\tgenerator: this.transform(generator(), config),\n\t\t\tconfig\n\t\t});\n\t\tawait wrappedGenerator.setup;\n\t\treturn _utils_stream_js__WEBPACK_IMPORTED_MODULE_6__.IterableReadableStream.fromAsyncGenerator(wrappedGenerator);\n\t}\n};\n/**\n* A runnable that assigns key-value pairs to inputs of type `Record<string, unknown>`.\n* Useful for streaming, can be automatically created and chained by calling `runnable.pick();`.\n* @example\n* ```typescript\n* import { RunnablePick } from \"@langchain/core/runnables\";\n*\n* const inputData = {\n*   name: \"John\",\n*   age: 30,\n*   city: \"New York\",\n*   country: \"USA\",\n*   email: \"john.doe@example.com\",\n*   phone: \"+1234567890\",\n* };\n*\n* const basicInfoRunnable = new RunnablePick([\"name\", \"city\"]);\n*\n* // Example invocation\n* const res = await basicInfoRunnable.invoke(inputData);\n*\n* // { name: 'John', city: 'New York' }\n* ```\n*/\nvar RunnablePick = class extends Runnable {\n\tstatic lc_name() {\n\t\treturn \"RunnablePick\";\n\t}\n\tlc_namespace = [\"langchain_core\", \"runnables\"];\n\tlc_serializable = true;\n\tkeys;\n\tconstructor(fields) {\n\t\tif (typeof fields === \"string\" || Array.isArray(fields)) fields = { keys: fields };\n\t\tsuper(fields);\n\t\tthis.keys = fields.keys;\n\t}\n\tasync _pick(input) {\n\t\tif (typeof this.keys === \"string\") return input[this.keys];\n\t\telse {\n\t\t\tconst picked = this.keys.map((key) => [key, input[key]]).filter((v) => v[1] !== void 0);\n\t\t\treturn picked.length === 0 ? void 0 : Object.fromEntries(picked);\n\t\t}\n\t}\n\tasync invoke(input, options) {\n\t\treturn this._callWithConfig(this._pick.bind(this), input, options);\n\t}\n\tasync *_transform(generator) {\n\t\tfor await (const chunk of generator) {\n\t\t\tconst picked = await this._pick(chunk);\n\t\t\tif (picked !== void 0) yield picked;\n\t\t}\n\t}\n\ttransform(generator, options) {\n\t\treturn this._transformStreamWithConfig(generator, this._transform.bind(this), options);\n\t}\n\tasync stream(input, options) {\n\t\tasync function* generator() {\n\t\t\tyield input;\n\t\t}\n\t\tconst config = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options);\n\t\tconst wrappedGenerator = new _utils_stream_js__WEBPACK_IMPORTED_MODULE_6__.AsyncGeneratorWithSetup({\n\t\t\tgenerator: this.transform(generator(), config),\n\t\t\tconfig\n\t\t});\n\t\tawait wrappedGenerator.setup;\n\t\treturn _utils_stream_js__WEBPACK_IMPORTED_MODULE_6__.IterableReadableStream.fromAsyncGenerator(wrappedGenerator);\n\t}\n};\nvar RunnableToolLike = class extends RunnableBinding {\n\tname;\n\tdescription;\n\tschema;\n\tconstructor(fields) {\n\t\tconst sequence = RunnableSequence.from([RunnableLambda.from(async (input) => {\n\t\t\tlet toolInput;\n\t\t\tif ((0,_tools_utils_js__WEBPACK_IMPORTED_MODULE_1__._isToolCall)(input)) try {\n\t\t\t\ttoolInput = await (0,_utils_types_zod_js__WEBPACK_IMPORTED_MODULE_12__.interopParseAsync)(this.schema, input.args);\n\t\t\t} catch {\n\t\t\t\tthrow new _tools_utils_js__WEBPACK_IMPORTED_MODULE_1__.ToolInputParsingException(`Received tool input did not match expected schema`, JSON.stringify(input.args));\n\t\t\t}\n\t\t\telse toolInput = input;\n\t\t\treturn toolInput;\n\t\t}).withConfig({ runName: `${fields.name}:parse_input` }), fields.bound]).withConfig({ runName: fields.name });\n\t\tsuper({\n\t\t\tbound: sequence,\n\t\t\tconfig: fields.config ?? {}\n\t\t});\n\t\tthis.name = fields.name;\n\t\tthis.description = fields.description;\n\t\tthis.schema = fields.schema;\n\t}\n\tstatic lc_name() {\n\t\treturn \"RunnableToolLike\";\n\t}\n};\n/**\n* Given a runnable and a Zod schema, convert the runnable to a tool.\n*\n* @template RunInput The input type for the runnable.\n* @template RunOutput The output type for the runnable.\n*\n* @param {Runnable<RunInput, RunOutput>} runnable The runnable to convert to a tool.\n* @param fields\n* @param {string | undefined} [fields.name] The name of the tool. If not provided, it will default to the name of the runnable.\n* @param {string | undefined} [fields.description] The description of the tool. Falls back to the description on the Zod schema if not provided, or undefined if neither are provided.\n* @param {InteropZodType<RunInput>} [fields.schema] The Zod schema for the input of the tool. Infers the Zod type from the input type of the runnable.\n* @returns {RunnableToolLike<InteropZodType<RunInput>, RunOutput>} An instance of `RunnableToolLike` which is a runnable that can be used as a tool.\n*/\nfunction convertRunnableToTool(runnable, fields) {\n\tconst name = fields.name ?? runnable.getName();\n\tconst description = fields.description ?? (0,_utils_types_zod_js__WEBPACK_IMPORTED_MODULE_12__.getSchemaDescription)(fields.schema);\n\tif ((0,_utils_types_zod_js__WEBPACK_IMPORTED_MODULE_12__.isSimpleStringZodSchema)(fields.schema)) return new RunnableToolLike({\n\t\tname,\n\t\tdescription,\n\t\tschema: zod_v3__WEBPACK_IMPORTED_MODULE_18__.object({ input: zod_v3__WEBPACK_IMPORTED_MODULE_18__.string() }).transform((input) => input.input),\n\t\tbound: runnable\n\t});\n\treturn new RunnableToolLike({\n\t\tname,\n\t\tdescription,\n\t\tschema: fields.schema,\n\t\tbound: runnable\n\t});\n}\n\n//#endregion\n\n//# sourceMappingURL=base.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9ydW5uYWJsZXMvYmFzZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXVEO0FBQ29CO0FBQ3FCO0FBQ2hFO0FBQ29IO0FBQzNFO0FBQ2tEO0FBQ2Q7QUFDZDtBQUN4QztBQUNXO0FBQ0M7QUFDc0M7QUFDdEU7QUFDc0I7QUFDNEU7QUFDMUc7QUFDRTtBQUNIO0FBQzJDOztBQUVyRTtBQUNBO0FBQ0EsNEdBQTRHO0FBQzVHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsK0RBQVk7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsS0FBSyxFQUFFLE9BQU87QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsYUFBYTtBQUNiO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLDRKQUE0SixnQkFBZ0IsY0FBYyxRQUFRO0FBQ2xNLGlEQUFpRCxvREFBWTtBQUM3RDtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsUUFBUSxZQUFZLHdEQUFZO0FBQ3ZEO0FBQ0Esc0JBQXNCLFFBQVEsUUFBUSx3REFBWTtBQUNsRDtBQUNBO0FBQ0EsdURBQXVEO0FBQ3ZEO0FBQ0EscUJBQXFCLCtEQUFXO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsd0RBQVk7QUFDN0IsK0JBQStCLHFFQUF1QjtBQUN0RDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsU0FBUyxvRUFBc0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLHdEQUFZO0FBQ3ZELHdCQUF3Qix3REFBWTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsd0RBQVk7QUFDN0IsaUNBQWlDLHVFQUEyQjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGdFQUFjO0FBQ2hDLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RDtBQUN4RCw2REFBNkQsbUVBQTJCO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixnRUFBYztBQUNqQyxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsd0RBQU07QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHdEQUFZO0FBQzdCLGlDQUFpQyx1RUFBMkI7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isd0VBQXNCLGdIQUFnSCxXQUFXO0FBQ3ZLO0FBQ0E7QUFDQSx5REFBeUQsMkVBQXFCO0FBQzlFO0FBQ0E7QUFDQSxzREFBc0Qsc0VBQWtCO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixtRUFBbUUsNENBQTRDO0FBQy9HO0FBQ0E7QUFDQSxvREFBb0QsNEJBQTRCLDRDQUE0QztBQUM1SDtBQUNBO0FBQ0Esb0JBQW9CLDZDQUFLO0FBQ3pCO0FBQ0EsWUFBWSxlQUFlO0FBQzNCLFdBQVcsd0NBQUs7QUFDaEIsR0FBRztBQUNIO0FBQ0E7QUFDQSxZQUFZLGVBQWU7QUFDM0IsV0FBVyx3Q0FBSztBQUNoQixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELGdCQUFnQjtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsd0RBQVk7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsNEVBQXdCO0FBQy9EO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxpQkFBaUIsd0RBQVk7QUFDN0I7QUFDQTtBQUNBO0FBQ0EsVUFBVSxZQUFZO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwrREFBVyxHQUFHO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLE1BQU0sR0FBRztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsdUVBQXdCO0FBQy9FLGNBQWMsb0VBQXNCO0FBQ3BDO0FBQ0E7QUFDQSw0QkFBNEIsZ0ZBQTBCO0FBQ3REO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsaUJBQWlCLHdEQUFZO0FBQzdCLGdDQUFnQyxpREFBRTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsWUFBWTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHdEQUFZO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyw0RUFBd0I7QUFDL0Q7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILDhCQUE4Qix3REFBZ0IsR0FBRyxrQkFBa0I7QUFDbkU7QUFDQTtBQUNBLHlCQUF5QiwwREFBTTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0Esa0JBQWtCLGFBQWE7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLGlHQUFpRyxZQUFZLDRCQUE0QixjQUFjO0FBQ3ZKLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsY0FBYyxHQUFHLFVBQVU7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGlCQUFpQjtBQUM1QjtBQUNBO0FBQ0EsZ0dBQWdHLFlBQVksNEJBQTRCLGFBQWE7QUFDckosbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQSxrQkFBa0IsYUFBYTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsV0FBVztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUywrREFBbUI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxvQkFBb0I7QUFDL0IsV0FBVyxvQkFBb0I7QUFDL0IsV0FBVyxvQkFBb0I7QUFDL0I7QUFDQSxpQkFBaUIseUJBQXlCO0FBQzFDO0FBQ0E7QUFDQSxhQUFhO0FBQ2Isb0NBQW9DLGdCQUFnQiwyRUFBbUI7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLElBQUk7QUFDUixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsK0JBQStCO0FBQzdDO0FBQ0E7QUFDQSxXQUFXLG9CQUFvQjtBQUMvQixXQUFXLG9CQUFvQjtBQUMvQixXQUFXLGNBQWM7QUFDekIsYUFBYSwyQ0FBMkM7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLGdCQUFnQixpQkFBaUI7QUFDL0UsNkNBQTZDLGdCQUFnQixnQkFBZ0I7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix3REFBWTtBQUM3QixTQUFTLHdEQUFZO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2SEFBNkgsd0RBQVksNkRBQTZELHdEQUFZO0FBQ2xOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLHdEQUFZO0FBQy9FO0FBQ0E7QUFDQSwwREFBMEQsd0RBQVk7QUFDdEU7QUFDQTtBQUNBLGlFQUFpRSx3REFBWTtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLHdEQUFZO0FBQ2hEO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsU0FBUyxvRUFBc0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxvQkFBb0I7QUFDL0IsV0FBVyxvQkFBb0I7QUFDL0IsV0FBVyxvQkFBb0I7QUFDL0I7QUFDQSxpQkFBaUIseUJBQXlCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLGdCQUFnQiwyRUFBbUI7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLElBQUk7QUFDUixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLCtCQUErQjtBQUMxQztBQUNBO0FBQ0EsMkRBQTJELE1BQU07QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyx1REFBVyxXQUFXLG1DQUFtQztBQUMzRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLG9CQUFvQjtBQUMvQixXQUFXLG9CQUFvQjtBQUMvQixXQUFXLG9CQUFvQjtBQUMvQjtBQUNBLGlCQUFpQix5QkFBeUI7QUFDMUMsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLEdBQUcsR0FBRztBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxNQUFNO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxxQkFBcUI7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsUUFBUTtBQUNyRCxTQUFTLHVEQUFXLFdBQVcsc0NBQXNDO0FBQ3JFO0FBQ0E7QUFDQSxTQUFTLHFDQUFNO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHFDQUFNO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esb0JBQW9CLG9CQUFvQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixNQUFNO0FBQ2pDO0FBQ0Esd0VBQXdFLHNCQUFzQjtBQUM5RixzQ0FBc0MsZ0JBQWdCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHdEQUFZO0FBQzdCLGlDQUFpQyx1RUFBMkI7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHlCQUF5QjtBQUM1QztBQUNBLCtDQUErQyx1REFBVyxXQUFXLDZFQUE2RSxNQUFNLElBQUk7QUFDNUosMEJBQTBCLGdFQUFjO0FBQ3hDO0FBQ0EsdUNBQXVDLHFFQUFtQjtBQUMxRCx1REFBdUQsdURBQVcsV0FBVyw2RUFBNkUsa0JBQWtCLElBQUk7QUFDaEwsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVEO0FBQ3ZELDREQUE0RCxtRUFBMkI7QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLG1CQUFtQix1QkFBdUI7QUFDMUM7QUFDQTtBQUNBLCtGQUErRixNQUFNO0FBQ3JHLFlBQVksdURBQVcsa0JBQWtCLDRCQUE0QjtBQUNyRSxLQUFLO0FBQ0wsMkJBQTJCLGdFQUFjO0FBQ3pDO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsdUVBQTJCO0FBQzVELFVBQVUsd0JBQXdCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCx1REFBVyxpQkFBaUIsZ0ZBQWdGO0FBQ3pLLG1CQUFtQixrQkFBa0I7QUFDckM7QUFDQSwwREFBMEQsdURBQVcsaUJBQWlCLDZFQUE2RSxNQUFNLElBQUk7QUFDN0s7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDZDQUFLO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELE1BQU07QUFDekQ7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELE1BQU07QUFDbkUsMEJBQTBCO0FBQzFCO0FBQ0Esa0VBQWtFLE1BQU07QUFDeEUsMEJBQTBCO0FBQzFCO0FBQ0EsR0FBRztBQUNILHlDQUF5QyxlQUFlO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixPQUFPO0FBQ2xDO0FBQ0E7QUFDQSxpQkFBaUIsd0RBQVk7QUFDN0IsaUNBQWlDLHVFQUEyQjtBQUM1RCwrRUFBK0UsT0FBTztBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyx1REFBVyxXQUFXLDJDQUEyQyxJQUFJLElBQUk7QUFDeEgsSUFBSTtBQUNKLFNBQVMsZ0VBQWM7QUFDdkIsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCLHNCQUFzQixzREFBSTtBQUMxQjtBQUNBLGtEQUFrRCx1REFBVyxZQUFZLDJDQUEyQyxJQUFJLElBQUk7QUFDNUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNIO0FBQ0E7QUFDQSxXQUFXLG1CQUFtQixRQUFRLGdFQUFjO0FBQ3BEO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsd0RBQVk7QUFDN0IsK0JBQStCLHFFQUF1QjtBQUN0RDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsU0FBUyxvRUFBc0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sb0ZBQW1CO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRDtBQUNyRCwwQkFBMEIsdUVBQTJCO0FBQ3JELDRCQUE0Qix1REFBVyxXQUFXLFdBQVc7QUFDN0QsU0FBUyxnRUFBYztBQUN2QjtBQUNBO0FBQ0EscURBQXFEO0FBQ3JEO0FBQ0EsTUFBTSwwREFBZTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLHFEQUFVO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsTUFBTTtBQUN2QztBQUNBO0FBQ0E7QUFDQSxLQUFLLG9GQUFtQjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpQkFBaUI7QUFDNUI7QUFDQSx3QkFBd0IsV0FBVyxXQUFXO0FBQzlDO0FBQ0EsNkJBQTZCLGVBQWUsb0JBQW9CO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsOEJBQThCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxZQUFZO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLG9GQUFtQjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLE1BQU07QUFDcEM7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHVEQUFXO0FBQ2xDO0FBQ0EsK0NBQStDLCtEQUF1QjtBQUN0RSxJQUFJO0FBQ0osR0FBRyx3R0FBa0MsZUFBZSxrRUFBc0I7QUFDMUU7QUFDQSwyQ0FBMkMsZ0JBQWdCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELCtEQUF1QjtBQUM3RSxPQUFPO0FBQ1AsT0FBTyxTQUFTLDBEQUFlO0FBQy9CO0FBQ0EsZ0NBQWdDLHdFQUE2QjtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sU0FBUyw2REFBa0I7QUFDbEM7QUFDQSwwQkFBMEIsbUVBQXdCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLHNCQUFzQix1REFBVztBQUNqQztBQUNBLDhDQUE4QywrREFBdUI7QUFDckUsR0FBRztBQUNIO0FBQ0EsR0FBRyx3R0FBa0MsZUFBZSxrRUFBc0I7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLFNBQVMsMERBQWUsb0NBQW9DLHdFQUE2QjtBQUM3RjtBQUNBO0FBQ0E7QUFDQSxXQUFXLDZEQUFrQiw4QkFBOEIsbUVBQXdCO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix3REFBWTtBQUM3QiwrQkFBK0IscUVBQXVCO0FBQ3REO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxTQUFTLG9FQUFzQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixNQUFNO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLE1BQU07QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix3REFBWTtBQUM3QixpQ0FBaUMsdUVBQTJCO0FBQzVELFVBQVUsNkJBQTZCO0FBQ3ZDO0FBQ0Esc0JBQXNCLHVEQUFXLHNCQUFzQixtQ0FBbUM7QUFDMUYsb0JBQW9CLHdHQUFrQztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHdEQUFZO0FBQzdCLGlDQUFpQyx1RUFBMkI7QUFDNUQsVUFBVSw2QkFBNkI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix1REFBVyxzQkFBc0IsbUNBQW1DO0FBQzNGO0FBQ0E7QUFDQSxhQUFhLHdFQUE2QjtBQUMxQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RDtBQUN2RCx3RUFBd0UsdUVBQTJCO0FBQ25HO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0ZBQW9GLHVEQUFXLGtCQUFrQixtQ0FBbUM7QUFDcEo7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsa0JBQWtCO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGtCQUFrQjtBQUM3QyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsNkJBQTZCLG1CQUFtQixLQUFLLGNBQWM7QUFDbkU7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLCtCQUErQixjQUFjLEtBQUssbUJBQW1CO0FBQ3JFLGFBQWEsb0JBQW9CLE9BQU87QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLDhDQUE4QyxRQUFRO0FBQ3REO0FBQ0EsNENBQTRDLGdDQUFnQztBQUM1RTtBQUNBLE9BQU8sNENBQTRDLFNBQVMsbUJBQW1CO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdEO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxzREFBSTtBQUMxQyx3REFBd0QsdURBQVcsWUFBWSxtQ0FBbUM7QUFDbEg7QUFDQTtBQUNBLHdJQUF3SSxhQUFhO0FBQ3JKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHdEQUFZO0FBQzdCLCtCQUErQixxRUFBdUI7QUFDdEQ7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLFNBQVMsb0VBQXNCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkZBQTZGO0FBQzdGO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0VBQXNFO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsd0RBQVk7QUFDN0IsK0JBQStCLHFFQUF1QjtBQUN0RDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsU0FBUyxvRUFBc0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyw0REFBVztBQUNsQixzQkFBc0IsdUVBQWlCO0FBQ3ZDLEtBQUs7QUFDTCxjQUFjLHNFQUF5QjtBQUN2QztBQUNBO0FBQ0E7QUFDQSxHQUFHLGVBQWUsWUFBWSxZQUFZLGVBQWUsK0JBQStCLHNCQUFzQjtBQUM5RztBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsK0JBQStCO0FBQ3pDO0FBQ0EsVUFBVSxvQkFBb0I7QUFDOUIsVUFBVSxvQkFBb0I7QUFDOUIsVUFBVSwwQkFBMEI7QUFDcEMsWUFBWSx1REFBdUQ7QUFDbkU7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLDBFQUFvQjtBQUMvRCxLQUFLLDZFQUF1QjtBQUM1QjtBQUNBO0FBQ0EsVUFBVSwyQ0FBUSxHQUFHLE9BQU8sMkNBQVEsSUFBSTtBQUN4QztBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQzRPO0FBQzVPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9ydW5uYWJsZXMvYmFzZS5qcz9mZjVmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNlcmlhbGl6YWJsZSB9IGZyb20gXCIuLi9sb2FkL3NlcmlhbGl6YWJsZS5qc1wiO1xuaW1wb3J0IHsgVG9vbElucHV0UGFyc2luZ0V4Y2VwdGlvbiwgX2lzVG9vbENhbGwgfSBmcm9tIFwiLi4vdG9vbHMvdXRpbHMuanNcIjtcbmltcG9ydCB7IEFzeW5jTG9jYWxTdG9yYWdlUHJvdmlkZXJTaW5nbGV0b24gfSBmcm9tIFwiLi4vc2luZ2xldG9ucy9hc3luY19sb2NhbF9zdG9yYWdlL2luZGV4LmpzXCI7XG5pbXBvcnQgXCIuLi9zaW5nbGV0b25zL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBERUZBVUxUX1JFQ1VSU0lPTl9MSU1JVCwgZW5zdXJlQ29uZmlnLCBnZXRDYWxsYmFja01hbmFnZXJGb3JDb25maWcsIG1lcmdlQ29uZmlncywgcGF0Y2hDb25maWcsIHBpY2tSdW5uYWJsZUNvbmZpZ0tleXMgfSBmcm9tIFwiLi9jb25maWcuanNcIjtcbmltcG9ydCB7IGdldEFib3J0U2lnbmFsRXJyb3IsIHJhY2VXaXRoU2lnbmFsIH0gZnJvbSBcIi4uL3V0aWxzL3NpZ25hbC5qc1wiO1xuaW1wb3J0IHsgQXN5bmNHZW5lcmF0b3JXaXRoU2V0dXAsIEl0ZXJhYmxlUmVhZGFibGVTdHJlYW0sIGF0ZWUsIGNvbmNhdCwgcGlwZUdlbmVyYXRvcldpdGhTZXR1cCB9IGZyb20gXCIuLi91dGlscy9zdHJlYW0uanNcIjtcbmltcG9ydCB7IExvZ1N0cmVhbUNhbGxiYWNrSGFuZGxlciwgUnVuTG9nLCBSdW5Mb2dQYXRjaCwgaXNMb2dTdHJlYW1IYW5kbGVyIH0gZnJvbSBcIi4uL3RyYWNlcnMvbG9nX3N0cmVhbS5qc1wiO1xuaW1wb3J0IHsgRXZlbnRTdHJlYW1DYWxsYmFja0hhbmRsZXIsIGlzU3RyZWFtRXZlbnRzSGFuZGxlciB9IGZyb20gXCIuLi90cmFjZXJzL2V2ZW50X3N0cmVhbS5qc1wiO1xuaW1wb3J0IHsgQXN5bmNDYWxsZXIgfSBmcm9tIFwiLi4vdXRpbHMvYXN5bmNfY2FsbGVyLmpzXCI7XG5pbXBvcnQgeyBSb290TGlzdGVuZXJzVHJhY2VyIH0gZnJvbSBcIi4uL3RyYWNlcnMvcm9vdF9saXN0ZW5lci5qc1wiO1xuaW1wb3J0IHsgX1Jvb3RFdmVudEZpbHRlciwgaXNSdW5uYWJsZUludGVyZmFjZSB9IGZyb20gXCIuL3V0aWxzLmpzXCI7XG5pbXBvcnQgeyBnZXRTY2hlbWFEZXNjcmlwdGlvbiwgaW50ZXJvcFBhcnNlQXN5bmMsIGlzU2ltcGxlU3RyaW5nWm9kU2NoZW1hIH0gZnJvbSBcIi4uL3V0aWxzL3R5cGVzL3pvZC5qc1wiO1xuaW1wb3J0IHsgR3JhcGggfSBmcm9tIFwiLi9ncmFwaC5qc1wiO1xuaW1wb3J0IHsgY29udmVydFRvSHR0cEV2ZW50U3RyZWFtIH0gZnJvbSBcIi4vd3JhcHBlcnMuanNcIjtcbmltcG9ydCB7IGNvbnN1bWVBc3luY0l0ZXJhYmxlSW5Db250ZXh0LCBjb25zdW1lSXRlcmF0b3JJbkNvbnRleHQsIGlzQXN5bmNJdGVyYWJsZSwgaXNJdGVyYWJsZUl0ZXJhdG9yLCBpc0l0ZXJhdG9yIH0gZnJvbSBcIi4vaXRlci5qc1wiO1xuaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2QvdjNcIjtcbmltcG9ydCBwUmV0cnkgZnJvbSBcInAtcmV0cnlcIjtcbmltcG9ydCB7IHY0IH0gZnJvbSBcInV1aWRcIjtcbmltcG9ydCB7IGlzVHJhY2VhYmxlRnVuY3Rpb24gfSBmcm9tIFwibGFuZ3NtaXRoL3NpbmdsZXRvbnMvdHJhY2VhYmxlXCI7XG5cbi8vI3JlZ2lvbiBzcmMvcnVubmFibGVzL2Jhc2UudHNcbmZ1bmN0aW9uIF9jb2VyY2VUb0RpY3QodmFsdWUsIGRlZmF1bHRLZXkpIHtcblx0cmV0dXJuIHZhbHVlICYmICFBcnJheS5pc0FycmF5KHZhbHVlKSAmJiAhKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiID8gdmFsdWUgOiB7IFtkZWZhdWx0S2V5XTogdmFsdWUgfTtcbn1cbi8qKlxuKiBBIFJ1bm5hYmxlIGlzIGEgZ2VuZXJpYyB1bml0IG9mIHdvcmsgdGhhdCBjYW4gYmUgaW52b2tlZCwgYmF0Y2hlZCwgc3RyZWFtZWQsIGFuZC9vclxuKiB0cmFuc2Zvcm1lZC5cbiovXG52YXIgUnVubmFibGUgPSBjbGFzcyBleHRlbmRzIFNlcmlhbGl6YWJsZSB7XG5cdGxjX3J1bm5hYmxlID0gdHJ1ZTtcblx0bmFtZTtcblx0Z2V0TmFtZShzdWZmaXgpIHtcblx0XHRjb25zdCBuYW1lID0gdGhpcy5uYW1lID8/IHRoaXMuY29uc3RydWN0b3IubGNfbmFtZSgpID8/IHRoaXMuY29uc3RydWN0b3IubmFtZTtcblx0XHRyZXR1cm4gc3VmZml4ID8gYCR7bmFtZX0ke3N1ZmZpeH1gIDogbmFtZTtcblx0fVxuXHQvKipcblx0KiBBZGQgcmV0cnkgbG9naWMgdG8gYW4gZXhpc3RpbmcgcnVubmFibGUuXG5cdCogQHBhcmFtIGZpZWxkcy5zdG9wQWZ0ZXJBdHRlbXB0IFRoZSBudW1iZXIgb2YgYXR0ZW1wdHMgdG8gcmV0cnkuXG5cdCogQHBhcmFtIGZpZWxkcy5vbkZhaWxlZEF0dGVtcHQgQSBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aGVuIGEgcmV0cnkgZmFpbHMuXG5cdCogQHJldHVybnMgQSBuZXcgUnVubmFibGVSZXRyeSB0aGF0LCB3aGVuIGludm9rZWQsIHdpbGwgcmV0cnkgYWNjb3JkaW5nIHRvIHRoZSBwYXJhbWV0ZXJzLlxuXHQqL1xuXHR3aXRoUmV0cnkoZmllbGRzKSB7XG5cdFx0cmV0dXJuIG5ldyBSdW5uYWJsZVJldHJ5KHtcblx0XHRcdGJvdW5kOiB0aGlzLFxuXHRcdFx0a3dhcmdzOiB7fSxcblx0XHRcdGNvbmZpZzoge30sXG5cdFx0XHRtYXhBdHRlbXB0TnVtYmVyOiBmaWVsZHM/LnN0b3BBZnRlckF0dGVtcHQsXG5cdFx0XHQuLi5maWVsZHNcblx0XHR9KTtcblx0fVxuXHQvKipcblx0KiBCaW5kIGNvbmZpZyB0byBhIFJ1bm5hYmxlLCByZXR1cm5pbmcgYSBuZXcgUnVubmFibGUuXG5cdCogQHBhcmFtIGNvbmZpZyBOZXcgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzIHRvIGF0dGFjaCB0byB0aGUgbmV3IHJ1bm5hYmxlLlxuXHQqIEByZXR1cm5zIEEgbmV3IFJ1bm5hYmxlQmluZGluZyB3aXRoIGEgY29uZmlnIG1hdGNoaW5nIHdoYXQncyBwYXNzZWQuXG5cdCovXG5cdHdpdGhDb25maWcoY29uZmlnKSB7XG5cdFx0cmV0dXJuIG5ldyBSdW5uYWJsZUJpbmRpbmcoe1xuXHRcdFx0Ym91bmQ6IHRoaXMsXG5cdFx0XHRjb25maWcsXG5cdFx0XHRrd2FyZ3M6IHt9XG5cdFx0fSk7XG5cdH1cblx0LyoqXG5cdCogQ3JlYXRlIGEgbmV3IHJ1bm5hYmxlIGZyb20gdGhlIGN1cnJlbnQgb25lIHRoYXQgd2lsbCB0cnkgaW52b2tpbmdcblx0KiBvdGhlciBwYXNzZWQgZmFsbGJhY2sgcnVubmFibGVzIGlmIHRoZSBpbml0aWFsIGludm9jYXRpb24gZmFpbHMuXG5cdCogQHBhcmFtIGZpZWxkcy5mYWxsYmFja3MgT3RoZXIgcnVubmFibGVzIHRvIGNhbGwgaWYgdGhlIHJ1bm5hYmxlIGVycm9ycy5cblx0KiBAcmV0dXJucyBBIG5ldyBSdW5uYWJsZVdpdGhGYWxsYmFja3MuXG5cdCovXG5cdHdpdGhGYWxsYmFja3MoZmllbGRzKSB7XG5cdFx0Y29uc3QgZmFsbGJhY2tzID0gQXJyYXkuaXNBcnJheShmaWVsZHMpID8gZmllbGRzIDogZmllbGRzLmZhbGxiYWNrcztcblx0XHRyZXR1cm4gbmV3IFJ1bm5hYmxlV2l0aEZhbGxiYWNrcyh7XG5cdFx0XHRydW5uYWJsZTogdGhpcyxcblx0XHRcdGZhbGxiYWNrc1xuXHRcdH0pO1xuXHR9XG5cdF9nZXRPcHRpb25zTGlzdChvcHRpb25zLCBsZW5ndGggPSAwKSB7XG5cdFx0aWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucykgJiYgb3B0aW9ucy5sZW5ndGggIT09IGxlbmd0aCkgdGhyb3cgbmV3IEVycm9yKGBQYXNzZWQgXCJvcHRpb25zXCIgbXVzdCBiZSBhbiBhcnJheSB3aXRoIHRoZSBzYW1lIGxlbmd0aCBhcyB0aGUgaW5wdXRzLCBidXQgZ290ICR7b3B0aW9ucy5sZW5ndGh9IG9wdGlvbnMgZm9yICR7bGVuZ3RofSBpbnB1dHNgKTtcblx0XHRpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zKSkgcmV0dXJuIG9wdGlvbnMubWFwKGVuc3VyZUNvbmZpZyk7XG5cdFx0aWYgKGxlbmd0aCA+IDEgJiYgIUFycmF5LmlzQXJyYXkob3B0aW9ucykgJiYgb3B0aW9ucy5ydW5JZCkge1xuXHRcdFx0Y29uc29sZS53YXJuKFwiUHJvdmlkZWQgcnVuSWQgd2lsbCBiZSB1c2VkIG9ubHkgZm9yIHRoZSBmaXJzdCBlbGVtZW50IG9mIHRoZSBiYXRjaC5cIik7XG5cdFx0XHRjb25zdCBzdWJzZXF1ZW50ID0gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKG9wdGlvbnMpLmZpbHRlcigoW2tleV0pID0+IGtleSAhPT0gXCJydW5JZFwiKSk7XG5cdFx0XHRyZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aCB9LCAoXywgaSkgPT4gZW5zdXJlQ29uZmlnKGkgPT09IDAgPyBvcHRpb25zIDogc3Vic2VxdWVudCkpO1xuXHRcdH1cblx0XHRyZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aCB9LCAoKSA9PiBlbnN1cmVDb25maWcob3B0aW9ucykpO1xuXHR9XG5cdGFzeW5jIGJhdGNoKGlucHV0cywgb3B0aW9ucywgYmF0Y2hPcHRpb25zKSB7XG5cdFx0Y29uc3QgY29uZmlnTGlzdCA9IHRoaXMuX2dldE9wdGlvbnNMaXN0KG9wdGlvbnMgPz8ge30sIGlucHV0cy5sZW5ndGgpO1xuXHRcdGNvbnN0IG1heENvbmN1cnJlbmN5ID0gY29uZmlnTGlzdFswXT8ubWF4Q29uY3VycmVuY3kgPz8gYmF0Y2hPcHRpb25zPy5tYXhDb25jdXJyZW5jeTtcblx0XHRjb25zdCBjYWxsZXIgPSBuZXcgQXN5bmNDYWxsZXIoe1xuXHRcdFx0bWF4Q29uY3VycmVuY3ksXG5cdFx0XHRvbkZhaWxlZEF0dGVtcHQ6IChlKSA9PiB7XG5cdFx0XHRcdHRocm93IGU7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0Y29uc3QgYmF0Y2hDYWxscyA9IGlucHV0cy5tYXAoKGlucHV0LCBpKSA9PiBjYWxsZXIuY2FsbChhc3luYyAoKSA9PiB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmludm9rZShpbnB1dCwgY29uZmlnTGlzdFtpXSk7XG5cdFx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdGlmIChiYXRjaE9wdGlvbnM/LnJldHVybkV4Y2VwdGlvbnMpIHJldHVybiBlO1xuXHRcdFx0XHR0aHJvdyBlO1xuXHRcdFx0fVxuXHRcdH0pKTtcblx0XHRyZXR1cm4gUHJvbWlzZS5hbGwoYmF0Y2hDYWxscyk7XG5cdH1cblx0LyoqXG5cdCogRGVmYXVsdCBzdHJlYW1pbmcgaW1wbGVtZW50YXRpb24uXG5cdCogU3ViY2xhc3NlcyBzaG91bGQgb3ZlcnJpZGUgdGhpcyBtZXRob2QgaWYgdGhleSBzdXBwb3J0IHN0cmVhbWluZyBvdXRwdXQuXG5cdCogQHBhcmFtIGlucHV0XG5cdCogQHBhcmFtIG9wdGlvbnNcblx0Ki9cblx0YXN5bmMgKl9zdHJlYW1JdGVyYXRvcihpbnB1dCwgb3B0aW9ucykge1xuXHRcdHlpZWxkIHRoaXMuaW52b2tlKGlucHV0LCBvcHRpb25zKTtcblx0fVxuXHQvKipcblx0KiBTdHJlYW0gb3V0cHV0IGluIGNodW5rcy5cblx0KiBAcGFyYW0gaW5wdXRcblx0KiBAcGFyYW0gb3B0aW9uc1xuXHQqIEByZXR1cm5zIEEgcmVhZGFibGUgc3RyZWFtIHRoYXQgaXMgYWxzbyBhbiBpdGVyYWJsZS5cblx0Ki9cblx0YXN5bmMgc3RyZWFtKGlucHV0LCBvcHRpb25zKSB7XG5cdFx0Y29uc3QgY29uZmlnID0gZW5zdXJlQ29uZmlnKG9wdGlvbnMpO1xuXHRcdGNvbnN0IHdyYXBwZWRHZW5lcmF0b3IgPSBuZXcgQXN5bmNHZW5lcmF0b3JXaXRoU2V0dXAoe1xuXHRcdFx0Z2VuZXJhdG9yOiB0aGlzLl9zdHJlYW1JdGVyYXRvcihpbnB1dCwgY29uZmlnKSxcblx0XHRcdGNvbmZpZ1xuXHRcdH0pO1xuXHRcdGF3YWl0IHdyYXBwZWRHZW5lcmF0b3Iuc2V0dXA7XG5cdFx0cmV0dXJuIEl0ZXJhYmxlUmVhZGFibGVTdHJlYW0uZnJvbUFzeW5jR2VuZXJhdG9yKHdyYXBwZWRHZW5lcmF0b3IpO1xuXHR9XG5cdF9zZXBhcmF0ZVJ1bm5hYmxlQ29uZmlnRnJvbUNhbGxPcHRpb25zKG9wdGlvbnMpIHtcblx0XHRsZXQgcnVubmFibGVDb25maWc7XG5cdFx0aWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgcnVubmFibGVDb25maWcgPSBlbnN1cmVDb25maWcob3B0aW9ucyk7XG5cdFx0ZWxzZSBydW5uYWJsZUNvbmZpZyA9IGVuc3VyZUNvbmZpZyh7XG5cdFx0XHRjYWxsYmFja3M6IG9wdGlvbnMuY2FsbGJhY2tzLFxuXHRcdFx0dGFnczogb3B0aW9ucy50YWdzLFxuXHRcdFx0bWV0YWRhdGE6IG9wdGlvbnMubWV0YWRhdGEsXG5cdFx0XHRydW5OYW1lOiBvcHRpb25zLnJ1bk5hbWUsXG5cdFx0XHRjb25maWd1cmFibGU6IG9wdGlvbnMuY29uZmlndXJhYmxlLFxuXHRcdFx0cmVjdXJzaW9uTGltaXQ6IG9wdGlvbnMucmVjdXJzaW9uTGltaXQsXG5cdFx0XHRtYXhDb25jdXJyZW5jeTogb3B0aW9ucy5tYXhDb25jdXJyZW5jeSxcblx0XHRcdHJ1bklkOiBvcHRpb25zLnJ1bklkLFxuXHRcdFx0dGltZW91dDogb3B0aW9ucy50aW1lb3V0LFxuXHRcdFx0c2lnbmFsOiBvcHRpb25zLnNpZ25hbFxuXHRcdH0pO1xuXHRcdGNvbnN0IGNhbGxPcHRpb25zID0geyAuLi5vcHRpb25zIH07XG5cdFx0ZGVsZXRlIGNhbGxPcHRpb25zLmNhbGxiYWNrcztcblx0XHRkZWxldGUgY2FsbE9wdGlvbnMudGFncztcblx0XHRkZWxldGUgY2FsbE9wdGlvbnMubWV0YWRhdGE7XG5cdFx0ZGVsZXRlIGNhbGxPcHRpb25zLnJ1bk5hbWU7XG5cdFx0ZGVsZXRlIGNhbGxPcHRpb25zLmNvbmZpZ3VyYWJsZTtcblx0XHRkZWxldGUgY2FsbE9wdGlvbnMucmVjdXJzaW9uTGltaXQ7XG5cdFx0ZGVsZXRlIGNhbGxPcHRpb25zLm1heENvbmN1cnJlbmN5O1xuXHRcdGRlbGV0ZSBjYWxsT3B0aW9ucy5ydW5JZDtcblx0XHRkZWxldGUgY2FsbE9wdGlvbnMudGltZW91dDtcblx0XHRkZWxldGUgY2FsbE9wdGlvbnMuc2lnbmFsO1xuXHRcdHJldHVybiBbcnVubmFibGVDb25maWcsIGNhbGxPcHRpb25zXTtcblx0fVxuXHRhc3luYyBfY2FsbFdpdGhDb25maWcoZnVuYywgaW5wdXQsIG9wdGlvbnMpIHtcblx0XHRjb25zdCBjb25maWcgPSBlbnN1cmVDb25maWcob3B0aW9ucyk7XG5cdFx0Y29uc3QgY2FsbGJhY2tNYW5hZ2VyXyA9IGF3YWl0IGdldENhbGxiYWNrTWFuYWdlckZvckNvbmZpZyhjb25maWcpO1xuXHRcdGNvbnN0IHJ1bk1hbmFnZXIgPSBhd2FpdCBjYWxsYmFja01hbmFnZXJfPy5oYW5kbGVDaGFpblN0YXJ0KHRoaXMudG9KU09OKCksIF9jb2VyY2VUb0RpY3QoaW5wdXQsIFwiaW5wdXRcIiksIGNvbmZpZy5ydW5JZCwgY29uZmlnPy5ydW5UeXBlLCB2b2lkIDAsIHZvaWQgMCwgY29uZmlnPy5ydW5OYW1lID8/IHRoaXMuZ2V0TmFtZSgpKTtcblx0XHRkZWxldGUgY29uZmlnLnJ1bklkO1xuXHRcdGxldCBvdXRwdXQ7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHByb21pc2UgPSBmdW5jLmNhbGwodGhpcywgaW5wdXQsIGNvbmZpZywgcnVuTWFuYWdlcik7XG5cdFx0XHRvdXRwdXQgPSBhd2FpdCByYWNlV2l0aFNpZ25hbChwcm9taXNlLCBvcHRpb25zPy5zaWduYWwpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRXJyb3IoZSk7XG5cdFx0XHR0aHJvdyBlO1xuXHRcdH1cblx0XHRhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVDaGFpbkVuZChfY29lcmNlVG9EaWN0KG91dHB1dCwgXCJvdXRwdXRcIikpO1xuXHRcdHJldHVybiBvdXRwdXQ7XG5cdH1cblx0LyoqXG5cdCogSW50ZXJuYWwgbWV0aG9kIHRoYXQgaGFuZGxlcyBiYXRjaGluZyBhbmQgY29uZmlndXJhdGlvbiBmb3IgYSBydW5uYWJsZVxuXHQqIEl0IHRha2VzIGEgZnVuY3Rpb24sIGlucHV0IHZhbHVlcywgYW5kIG9wdGlvbmFsIGNvbmZpZ3VyYXRpb24sIGFuZFxuXHQqIHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIG91dHB1dCB2YWx1ZXMuXG5cdCogQHBhcmFtIGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGJlIGV4ZWN1dGVkIGZvciBlYWNoIGlucHV0IHZhbHVlLlxuXHQqIEBwYXJhbSBpbnB1dCBUaGUgaW5wdXQgdmFsdWVzIHRvIGJlIHByb2Nlc3NlZC5cblx0KiBAcGFyYW0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBmdW5jdGlvbiBleGVjdXRpb24uXG5cdCogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIG91dHB1dCB2YWx1ZXMuXG5cdCovXG5cdGFzeW5jIF9iYXRjaFdpdGhDb25maWcoZnVuYywgaW5wdXRzLCBvcHRpb25zLCBiYXRjaE9wdGlvbnMpIHtcblx0XHRjb25zdCBvcHRpb25zTGlzdCA9IHRoaXMuX2dldE9wdGlvbnNMaXN0KG9wdGlvbnMgPz8ge30sIGlucHV0cy5sZW5ndGgpO1xuXHRcdGNvbnN0IGNhbGxiYWNrTWFuYWdlcnMgPSBhd2FpdCBQcm9taXNlLmFsbChvcHRpb25zTGlzdC5tYXAoZ2V0Q2FsbGJhY2tNYW5hZ2VyRm9yQ29uZmlnKSk7XG5cdFx0Y29uc3QgcnVuTWFuYWdlcnMgPSBhd2FpdCBQcm9taXNlLmFsbChjYWxsYmFja01hbmFnZXJzLm1hcChhc3luYyAoY2FsbGJhY2tNYW5hZ2VyLCBpKSA9PiB7XG5cdFx0XHRjb25zdCBoYW5kbGVTdGFydFJlcyA9IGF3YWl0IGNhbGxiYWNrTWFuYWdlcj8uaGFuZGxlQ2hhaW5TdGFydCh0aGlzLnRvSlNPTigpLCBfY29lcmNlVG9EaWN0KGlucHV0c1tpXSwgXCJpbnB1dFwiKSwgb3B0aW9uc0xpc3RbaV0ucnVuSWQsIG9wdGlvbnNMaXN0W2ldLnJ1blR5cGUsIHZvaWQgMCwgdm9pZCAwLCBvcHRpb25zTGlzdFtpXS5ydW5OYW1lID8/IHRoaXMuZ2V0TmFtZSgpKTtcblx0XHRcdGRlbGV0ZSBvcHRpb25zTGlzdFtpXS5ydW5JZDtcblx0XHRcdHJldHVybiBoYW5kbGVTdGFydFJlcztcblx0XHR9KSk7XG5cdFx0bGV0IG91dHB1dHM7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHByb21pc2UgPSBmdW5jLmNhbGwodGhpcywgaW5wdXRzLCBvcHRpb25zTGlzdCwgcnVuTWFuYWdlcnMsIGJhdGNoT3B0aW9ucyk7XG5cdFx0XHRvdXRwdXRzID0gYXdhaXQgcmFjZVdpdGhTaWduYWwocHJvbWlzZSwgb3B0aW9uc0xpc3Q/LlswXT8uc2lnbmFsKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRhd2FpdCBQcm9taXNlLmFsbChydW5NYW5hZ2Vycy5tYXAoKHJ1bk1hbmFnZXIpID0+IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRXJyb3IoZSkpKTtcblx0XHRcdHRocm93IGU7XG5cdFx0fVxuXHRcdGF3YWl0IFByb21pc2UuYWxsKHJ1bk1hbmFnZXJzLm1hcCgocnVuTWFuYWdlcikgPT4gcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FbmQoX2NvZXJjZVRvRGljdChvdXRwdXRzLCBcIm91dHB1dFwiKSkpKTtcblx0XHRyZXR1cm4gb3V0cHV0cztcblx0fVxuXHQvKiogQGludGVybmFsICovXG5cdF9jb25jYXRPdXRwdXRDaHVua3MoZmlyc3QsIHNlY29uZCkge1xuXHRcdHJldHVybiBjb25jYXQoZmlyc3QsIHNlY29uZCk7XG5cdH1cblx0LyoqXG5cdCogSGVscGVyIG1ldGhvZCB0byB0cmFuc2Zvcm0gYW4gSXRlcmF0b3Igb2YgSW5wdXQgdmFsdWVzIGludG8gYW4gSXRlcmF0b3Igb2Zcblx0KiBPdXRwdXQgdmFsdWVzLCB3aXRoIGNhbGxiYWNrcy5cblx0KiBVc2UgdGhpcyB0byBpbXBsZW1lbnQgYHN0cmVhbSgpYCBvciBgdHJhbnNmb3JtKClgIGluIFJ1bm5hYmxlIHN1YmNsYXNzZXMuXG5cdCovXG5cdGFzeW5jICpfdHJhbnNmb3JtU3RyZWFtV2l0aENvbmZpZyhpbnB1dEdlbmVyYXRvciwgdHJhbnNmb3JtZXIsIG9wdGlvbnMpIHtcblx0XHRsZXQgZmluYWxJbnB1dDtcblx0XHRsZXQgZmluYWxJbnB1dFN1cHBvcnRlZCA9IHRydWU7XG5cdFx0bGV0IGZpbmFsT3V0cHV0O1xuXHRcdGxldCBmaW5hbE91dHB1dFN1cHBvcnRlZCA9IHRydWU7XG5cdFx0Y29uc3QgY29uZmlnID0gZW5zdXJlQ29uZmlnKG9wdGlvbnMpO1xuXHRcdGNvbnN0IGNhbGxiYWNrTWFuYWdlcl8gPSBhd2FpdCBnZXRDYWxsYmFja01hbmFnZXJGb3JDb25maWcoY29uZmlnKTtcblx0XHRjb25zdCBvdXRlclRoaXMgPSB0aGlzO1xuXHRcdGFzeW5jIGZ1bmN0aW9uKiB3cmFwSW5wdXRGb3JUcmFjaW5nKCkge1xuXHRcdFx0Zm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBpbnB1dEdlbmVyYXRvcikge1xuXHRcdFx0XHRpZiAoZmluYWxJbnB1dFN1cHBvcnRlZCkgaWYgKGZpbmFsSW5wdXQgPT09IHZvaWQgMCkgZmluYWxJbnB1dCA9IGNodW5rO1xuXHRcdFx0XHRlbHNlIHRyeSB7XG5cdFx0XHRcdFx0ZmluYWxJbnB1dCA9IG91dGVyVGhpcy5fY29uY2F0T3V0cHV0Q2h1bmtzKGZpbmFsSW5wdXQsIGNodW5rKTtcblx0XHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdFx0ZmluYWxJbnB1dCA9IHZvaWQgMDtcblx0XHRcdFx0XHRmaW5hbElucHV0U3VwcG9ydGVkID0gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0eWllbGQgY2h1bms7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGxldCBydW5NYW5hZ2VyO1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBwaXBlID0gYXdhaXQgcGlwZUdlbmVyYXRvcldpdGhTZXR1cCh0cmFuc2Zvcm1lci5iaW5kKHRoaXMpLCB3cmFwSW5wdXRGb3JUcmFjaW5nKCksIGFzeW5jICgpID0+IGNhbGxiYWNrTWFuYWdlcl8/LmhhbmRsZUNoYWluU3RhcnQodGhpcy50b0pTT04oKSwgeyBpbnB1dDogXCJcIiB9LCBjb25maWcucnVuSWQsIGNvbmZpZy5ydW5UeXBlLCB2b2lkIDAsIHZvaWQgMCwgY29uZmlnLnJ1bk5hbWUgPz8gdGhpcy5nZXROYW1lKCkpLCBvcHRpb25zPy5zaWduYWwsIGNvbmZpZyk7XG5cdFx0XHRkZWxldGUgY29uZmlnLnJ1bklkO1xuXHRcdFx0cnVuTWFuYWdlciA9IHBpcGUuc2V0dXA7XG5cdFx0XHRjb25zdCBzdHJlYW1FdmVudHNIYW5kbGVyID0gcnVuTWFuYWdlcj8uaGFuZGxlcnMuZmluZChpc1N0cmVhbUV2ZW50c0hhbmRsZXIpO1xuXHRcdFx0bGV0IGl0ZXJhdG9yID0gcGlwZS5vdXRwdXQ7XG5cdFx0XHRpZiAoc3RyZWFtRXZlbnRzSGFuZGxlciAhPT0gdm9pZCAwICYmIHJ1bk1hbmFnZXIgIT09IHZvaWQgMCkgaXRlcmF0b3IgPSBzdHJlYW1FdmVudHNIYW5kbGVyLnRhcE91dHB1dEl0ZXJhYmxlKHJ1bk1hbmFnZXIucnVuSWQsIGl0ZXJhdG9yKTtcblx0XHRcdGNvbnN0IHN0cmVhbUxvZ0hhbmRsZXIgPSBydW5NYW5hZ2VyPy5oYW5kbGVycy5maW5kKGlzTG9nU3RyZWFtSGFuZGxlcik7XG5cdFx0XHRpZiAoc3RyZWFtTG9nSGFuZGxlciAhPT0gdm9pZCAwICYmIHJ1bk1hbmFnZXIgIT09IHZvaWQgMCkgaXRlcmF0b3IgPSBzdHJlYW1Mb2dIYW5kbGVyLnRhcE91dHB1dEl0ZXJhYmxlKHJ1bk1hbmFnZXIucnVuSWQsIGl0ZXJhdG9yKTtcblx0XHRcdGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgaXRlcmF0b3IpIHtcblx0XHRcdFx0eWllbGQgY2h1bms7XG5cdFx0XHRcdGlmIChmaW5hbE91dHB1dFN1cHBvcnRlZCkgaWYgKGZpbmFsT3V0cHV0ID09PSB2b2lkIDApIGZpbmFsT3V0cHV0ID0gY2h1bms7XG5cdFx0XHRcdGVsc2UgdHJ5IHtcblx0XHRcdFx0XHRmaW5hbE91dHB1dCA9IHRoaXMuX2NvbmNhdE91dHB1dENodW5rcyhmaW5hbE91dHB1dCwgY2h1bmspO1xuXHRcdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0XHRmaW5hbE91dHB1dCA9IHZvaWQgMDtcblx0XHRcdFx0XHRmaW5hbE91dHB1dFN1cHBvcnRlZCA9IGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0YXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FcnJvcihlLCB2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCB7IGlucHV0czogX2NvZXJjZVRvRGljdChmaW5hbElucHV0LCBcImlucHV0XCIpIH0pO1xuXHRcdFx0dGhyb3cgZTtcblx0XHR9XG5cdFx0YXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FbmQoZmluYWxPdXRwdXQgPz8ge30sIHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIHsgaW5wdXRzOiBfY29lcmNlVG9EaWN0KGZpbmFsSW5wdXQsIFwiaW5wdXRcIikgfSk7XG5cdH1cblx0Z2V0R3JhcGgoXykge1xuXHRcdGNvbnN0IGdyYXBoID0gbmV3IEdyYXBoKCk7XG5cdFx0Y29uc3QgaW5wdXROb2RlID0gZ3JhcGguYWRkTm9kZSh7XG5cdFx0XHRuYW1lOiBgJHt0aGlzLmdldE5hbWUoKX1JbnB1dGAsXG5cdFx0XHRzY2hlbWE6IHouYW55KClcblx0XHR9KTtcblx0XHRjb25zdCBydW5uYWJsZU5vZGUgPSBncmFwaC5hZGROb2RlKHRoaXMpO1xuXHRcdGNvbnN0IG91dHB1dE5vZGUgPSBncmFwaC5hZGROb2RlKHtcblx0XHRcdG5hbWU6IGAke3RoaXMuZ2V0TmFtZSgpfU91dHB1dGAsXG5cdFx0XHRzY2hlbWE6IHouYW55KClcblx0XHR9KTtcblx0XHRncmFwaC5hZGRFZGdlKGlucHV0Tm9kZSwgcnVubmFibGVOb2RlKTtcblx0XHRncmFwaC5hZGRFZGdlKHJ1bm5hYmxlTm9kZSwgb3V0cHV0Tm9kZSk7XG5cdFx0cmV0dXJuIGdyYXBoO1xuXHR9XG5cdC8qKlxuXHQqIENyZWF0ZSBhIG5ldyBydW5uYWJsZSBzZXF1ZW5jZSB0aGF0IHJ1bnMgZWFjaCBpbmRpdmlkdWFsIHJ1bm5hYmxlIGluIHNlcmllcyxcblx0KiBwaXBpbmcgdGhlIG91dHB1dCBvZiBvbmUgcnVubmFibGUgaW50byBhbm90aGVyIHJ1bm5hYmxlIG9yIHJ1bm5hYmxlLWxpa2UuXG5cdCogQHBhcmFtIGNvZXJjZWFibGUgQSBydW5uYWJsZSwgZnVuY3Rpb24sIG9yIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIGZ1bmN0aW9ucyBvciBydW5uYWJsZXMuXG5cdCogQHJldHVybnMgQSBuZXcgcnVubmFibGUgc2VxdWVuY2UuXG5cdCovXG5cdHBpcGUoY29lcmNlYWJsZSkge1xuXHRcdHJldHVybiBuZXcgUnVubmFibGVTZXF1ZW5jZSh7XG5cdFx0XHRmaXJzdDogdGhpcyxcblx0XHRcdGxhc3Q6IF9jb2VyY2VUb1J1bm5hYmxlKGNvZXJjZWFibGUpXG5cdFx0fSk7XG5cdH1cblx0LyoqXG5cdCogUGljayBrZXlzIGZyb20gdGhlIGRpY3Qgb3V0cHV0IG9mIHRoaXMgcnVubmFibGUuIFJldHVybnMgYSBuZXcgcnVubmFibGUuXG5cdCovXG5cdHBpY2soa2V5cykge1xuXHRcdHJldHVybiB0aGlzLnBpcGUobmV3IFJ1bm5hYmxlUGljayhrZXlzKSk7XG5cdH1cblx0LyoqXG5cdCogQXNzaWducyBuZXcgZmllbGRzIHRvIHRoZSBkaWN0IG91dHB1dCBvZiB0aGlzIHJ1bm5hYmxlLiBSZXR1cm5zIGEgbmV3IHJ1bm5hYmxlLlxuXHQqL1xuXHRhc3NpZ24obWFwcGluZykge1xuXHRcdHJldHVybiB0aGlzLnBpcGUobmV3IFJ1bm5hYmxlQXNzaWduKG5ldyBSdW5uYWJsZU1hcCh7IHN0ZXBzOiBtYXBwaW5nIH0pKSk7XG5cdH1cblx0LyoqXG5cdCogRGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBvZiB0cmFuc2Zvcm0sIHdoaWNoIGJ1ZmZlcnMgaW5wdXQgYW5kIHRoZW4gY2FsbHMgc3RyZWFtLlxuXHQqIFN1YmNsYXNzZXMgc2hvdWxkIG92ZXJyaWRlIHRoaXMgbWV0aG9kIGlmIHRoZXkgY2FuIHN0YXJ0IHByb2R1Y2luZyBvdXRwdXQgd2hpbGVcblx0KiBpbnB1dCBpcyBzdGlsbCBiZWluZyBnZW5lcmF0ZWQuXG5cdCogQHBhcmFtIGdlbmVyYXRvclxuXHQqIEBwYXJhbSBvcHRpb25zXG5cdCovXG5cdGFzeW5jICp0cmFuc2Zvcm0oZ2VuZXJhdG9yLCBvcHRpb25zKSB7XG5cdFx0bGV0IGZpbmFsQ2h1bms7XG5cdFx0Zm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBnZW5lcmF0b3IpIGlmIChmaW5hbENodW5rID09PSB2b2lkIDApIGZpbmFsQ2h1bmsgPSBjaHVuaztcblx0XHRlbHNlIGZpbmFsQ2h1bmsgPSB0aGlzLl9jb25jYXRPdXRwdXRDaHVua3MoZmluYWxDaHVuaywgY2h1bmspO1xuXHRcdHlpZWxkKiB0aGlzLl9zdHJlYW1JdGVyYXRvcihmaW5hbENodW5rLCBlbnN1cmVDb25maWcob3B0aW9ucykpO1xuXHR9XG5cdC8qKlxuXHQqIFN0cmVhbSBhbGwgb3V0cHV0IGZyb20gYSBydW5uYWJsZSwgYXMgcmVwb3J0ZWQgdG8gdGhlIGNhbGxiYWNrIHN5c3RlbS5cblx0KiBUaGlzIGluY2x1ZGVzIGFsbCBpbm5lciBydW5zIG9mIExMTXMsIFJldHJpZXZlcnMsIFRvb2xzLCBldGMuXG5cdCogT3V0cHV0IGlzIHN0cmVhbWVkIGFzIExvZyBvYmplY3RzLCB3aGljaCBpbmNsdWRlIGEgbGlzdCBvZlxuXHQqIGpzb25wYXRjaCBvcHMgdGhhdCBkZXNjcmliZSBob3cgdGhlIHN0YXRlIG9mIHRoZSBydW4gaGFzIGNoYW5nZWQgaW4gZWFjaFxuXHQqIHN0ZXAsIGFuZCB0aGUgZmluYWwgc3RhdGUgb2YgdGhlIHJ1bi5cblx0KiBUaGUganNvbnBhdGNoIG9wcyBjYW4gYmUgYXBwbGllZCBpbiBvcmRlciB0byBjb25zdHJ1Y3Qgc3RhdGUuXG5cdCogQHBhcmFtIGlucHV0XG5cdCogQHBhcmFtIG9wdGlvbnNcblx0KiBAcGFyYW0gc3RyZWFtT3B0aW9uc1xuXHQqL1xuXHRhc3luYyAqc3RyZWFtTG9nKGlucHV0LCBvcHRpb25zLCBzdHJlYW1PcHRpb25zKSB7XG5cdFx0Y29uc3QgbG9nU3RyZWFtQ2FsbGJhY2tIYW5kbGVyID0gbmV3IExvZ1N0cmVhbUNhbGxiYWNrSGFuZGxlcih7XG5cdFx0XHQuLi5zdHJlYW1PcHRpb25zLFxuXHRcdFx0YXV0b0Nsb3NlOiBmYWxzZSxcblx0XHRcdF9zY2hlbWFGb3JtYXQ6IFwib3JpZ2luYWxcIlxuXHRcdH0pO1xuXHRcdGNvbnN0IGNvbmZpZyA9IGVuc3VyZUNvbmZpZyhvcHRpb25zKTtcblx0XHR5aWVsZCogdGhpcy5fc3RyZWFtTG9nKGlucHV0LCBsb2dTdHJlYW1DYWxsYmFja0hhbmRsZXIsIGNvbmZpZyk7XG5cdH1cblx0YXN5bmMgKl9zdHJlYW1Mb2coaW5wdXQsIGxvZ1N0cmVhbUNhbGxiYWNrSGFuZGxlciwgY29uZmlnKSB7XG5cdFx0Y29uc3QgeyBjYWxsYmFja3MgfSA9IGNvbmZpZztcblx0XHRpZiAoY2FsbGJhY2tzID09PSB2b2lkIDApIGNvbmZpZy5jYWxsYmFja3MgPSBbbG9nU3RyZWFtQ2FsbGJhY2tIYW5kbGVyXTtcblx0XHRlbHNlIGlmIChBcnJheS5pc0FycmF5KGNhbGxiYWNrcykpIGNvbmZpZy5jYWxsYmFja3MgPSBjYWxsYmFja3MuY29uY2F0KFtsb2dTdHJlYW1DYWxsYmFja0hhbmRsZXJdKTtcblx0XHRlbHNlIHtcblx0XHRcdGNvbnN0IGNvcGllZENhbGxiYWNrcyA9IGNhbGxiYWNrcy5jb3B5KCk7XG5cdFx0XHRjb3BpZWRDYWxsYmFja3MuYWRkSGFuZGxlcihsb2dTdHJlYW1DYWxsYmFja0hhbmRsZXIsIHRydWUpO1xuXHRcdFx0Y29uZmlnLmNhbGxiYWNrcyA9IGNvcGllZENhbGxiYWNrcztcblx0XHR9XG5cdFx0Y29uc3QgcnVubmFibGVTdHJlYW1Qcm9taXNlID0gdGhpcy5zdHJlYW0oaW5wdXQsIGNvbmZpZyk7XG5cdFx0YXN5bmMgZnVuY3Rpb24gY29uc3VtZVJ1bm5hYmxlU3RyZWFtKCkge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29uc3QgcnVubmFibGVTdHJlYW0gPSBhd2FpdCBydW5uYWJsZVN0cmVhbVByb21pc2U7XG5cdFx0XHRcdGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgcnVubmFibGVTdHJlYW0pIHtcblx0XHRcdFx0XHRjb25zdCBwYXRjaCA9IG5ldyBSdW5Mb2dQYXRjaCh7IG9wczogW3tcblx0XHRcdFx0XHRcdG9wOiBcImFkZFwiLFxuXHRcdFx0XHRcdFx0cGF0aDogXCIvc3RyZWFtZWRfb3V0cHV0Ly1cIixcblx0XHRcdFx0XHRcdHZhbHVlOiBjaHVua1xuXHRcdFx0XHRcdH1dIH0pO1xuXHRcdFx0XHRcdGF3YWl0IGxvZ1N0cmVhbUNhbGxiYWNrSGFuZGxlci53cml0ZXIud3JpdGUocGF0Y2gpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGZpbmFsbHkge1xuXHRcdFx0XHRhd2FpdCBsb2dTdHJlYW1DYWxsYmFja0hhbmRsZXIud3JpdGVyLmNsb3NlKCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGNvbnN0IHJ1bm5hYmxlU3RyZWFtQ29uc3VtZVByb21pc2UgPSBjb25zdW1lUnVubmFibGVTdHJlYW0oKTtcblx0XHR0cnkge1xuXHRcdFx0Zm9yIGF3YWl0IChjb25zdCBsb2cgb2YgbG9nU3RyZWFtQ2FsbGJhY2tIYW5kbGVyKSB5aWVsZCBsb2c7XG5cdFx0fSBmaW5hbGx5IHtcblx0XHRcdGF3YWl0IHJ1bm5hYmxlU3RyZWFtQ29uc3VtZVByb21pc2U7XG5cdFx0fVxuXHR9XG5cdHN0cmVhbUV2ZW50cyhpbnB1dCwgb3B0aW9ucywgc3RyZWFtT3B0aW9ucykge1xuXHRcdGxldCBzdHJlYW07XG5cdFx0aWYgKG9wdGlvbnMudmVyc2lvbiA9PT0gXCJ2MVwiKSBzdHJlYW0gPSB0aGlzLl9zdHJlYW1FdmVudHNWMShpbnB1dCwgb3B0aW9ucywgc3RyZWFtT3B0aW9ucyk7XG5cdFx0ZWxzZSBpZiAob3B0aW9ucy52ZXJzaW9uID09PSBcInYyXCIpIHN0cmVhbSA9IHRoaXMuX3N0cmVhbUV2ZW50c1YyKGlucHV0LCBvcHRpb25zLCBzdHJlYW1PcHRpb25zKTtcblx0XHRlbHNlIHRocm93IG5ldyBFcnJvcihgT25seSB2ZXJzaW9ucyBcInYxXCIgYW5kIFwidjJcIiBvZiB0aGUgc2NoZW1hIGFyZSBjdXJyZW50bHkgc3VwcG9ydGVkLmApO1xuXHRcdGlmIChvcHRpb25zLmVuY29kaW5nID09PSBcInRleHQvZXZlbnQtc3RyZWFtXCIpIHJldHVybiBjb252ZXJ0VG9IdHRwRXZlbnRTdHJlYW0oc3RyZWFtKTtcblx0XHRlbHNlIHJldHVybiBJdGVyYWJsZVJlYWRhYmxlU3RyZWFtLmZyb21Bc3luY0dlbmVyYXRvcihzdHJlYW0pO1xuXHR9XG5cdGFzeW5jICpfc3RyZWFtRXZlbnRzVjIoaW5wdXQsIG9wdGlvbnMsIHN0cmVhbU9wdGlvbnMpIHtcblx0XHRjb25zdCBldmVudFN0cmVhbWVyID0gbmV3IEV2ZW50U3RyZWFtQ2FsbGJhY2tIYW5kbGVyKHtcblx0XHRcdC4uLnN0cmVhbU9wdGlvbnMsXG5cdFx0XHRhdXRvQ2xvc2U6IGZhbHNlXG5cdFx0fSk7XG5cdFx0Y29uc3QgY29uZmlnID0gZW5zdXJlQ29uZmlnKG9wdGlvbnMpO1xuXHRcdGNvbnN0IHJ1bklkID0gY29uZmlnLnJ1bklkID8/IHY0KCk7XG5cdFx0Y29uZmlnLnJ1bklkID0gcnVuSWQ7XG5cdFx0Y29uc3QgY2FsbGJhY2tzID0gY29uZmlnLmNhbGxiYWNrcztcblx0XHRpZiAoY2FsbGJhY2tzID09PSB2b2lkIDApIGNvbmZpZy5jYWxsYmFja3MgPSBbZXZlbnRTdHJlYW1lcl07XG5cdFx0ZWxzZSBpZiAoQXJyYXkuaXNBcnJheShjYWxsYmFja3MpKSBjb25maWcuY2FsbGJhY2tzID0gY2FsbGJhY2tzLmNvbmNhdChldmVudFN0cmVhbWVyKTtcblx0XHRlbHNlIHtcblx0XHRcdGNvbnN0IGNvcGllZENhbGxiYWNrcyA9IGNhbGxiYWNrcy5jb3B5KCk7XG5cdFx0XHRjb3BpZWRDYWxsYmFja3MuYWRkSGFuZGxlcihldmVudFN0cmVhbWVyLCB0cnVlKTtcblx0XHRcdGNvbmZpZy5jYWxsYmFja3MgPSBjb3BpZWRDYWxsYmFja3M7XG5cdFx0fVxuXHRcdGNvbnN0IGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcblx0XHRjb25zdCBvdXRlclRoaXMgPSB0aGlzO1xuXHRcdGFzeW5jIGZ1bmN0aW9uIGNvbnN1bWVSdW5uYWJsZVN0cmVhbSgpIHtcblx0XHRcdGxldCBzaWduYWw7XG5cdFx0XHRsZXQgbGlzdGVuZXIgPSBudWxsO1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0aWYgKG9wdGlvbnM/LnNpZ25hbCkgaWYgKFwiYW55XCIgaW4gQWJvcnRTaWduYWwpIHNpZ25hbCA9IEFib3J0U2lnbmFsLmFueShbYWJvcnRDb250cm9sbGVyLnNpZ25hbCwgb3B0aW9ucy5zaWduYWxdKTtcblx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0c2lnbmFsID0gb3B0aW9ucy5zaWduYWw7XG5cdFx0XHRcdFx0bGlzdGVuZXIgPSAoKSA9PiB7XG5cdFx0XHRcdFx0XHRhYm9ydENvbnRyb2xsZXIuYWJvcnQoKTtcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdG9wdGlvbnMuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBsaXN0ZW5lciwgeyBvbmNlOiB0cnVlIH0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Ugc2lnbmFsID0gYWJvcnRDb250cm9sbGVyLnNpZ25hbDtcblx0XHRcdFx0Y29uc3QgcnVubmFibGVTdHJlYW0gPSBhd2FpdCBvdXRlclRoaXMuc3RyZWFtKGlucHV0LCB7XG5cdFx0XHRcdFx0Li4uY29uZmlnLFxuXHRcdFx0XHRcdHNpZ25hbFxuXHRcdFx0XHR9KTtcblx0XHRcdFx0Y29uc3QgdGFwcGVkU3RyZWFtID0gZXZlbnRTdHJlYW1lci50YXBPdXRwdXRJdGVyYWJsZShydW5JZCwgcnVubmFibGVTdHJlYW0pO1xuXHRcdFx0XHRmb3IgYXdhaXQgKGNvbnN0IF8gb2YgdGFwcGVkU3RyZWFtKSBpZiAoYWJvcnRDb250cm9sbGVyLnNpZ25hbC5hYm9ydGVkKSBicmVhaztcblx0XHRcdH0gZmluYWxseSB7XG5cdFx0XHRcdGF3YWl0IGV2ZW50U3RyZWFtZXIuZmluaXNoKCk7XG5cdFx0XHRcdGlmIChzaWduYWwgJiYgbGlzdGVuZXIpIHNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgbGlzdGVuZXIpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRjb25zdCBydW5uYWJsZVN0cmVhbUNvbnN1bWVQcm9taXNlID0gY29uc3VtZVJ1bm5hYmxlU3RyZWFtKCk7XG5cdFx0bGV0IGZpcnN0RXZlbnRTZW50ID0gZmFsc2U7XG5cdFx0bGV0IGZpcnN0RXZlbnRSdW5JZDtcblx0XHR0cnkge1xuXHRcdFx0Zm9yIGF3YWl0IChjb25zdCBldmVudCBvZiBldmVudFN0cmVhbWVyKSB7XG5cdFx0XHRcdGlmICghZmlyc3RFdmVudFNlbnQpIHtcblx0XHRcdFx0XHRldmVudC5kYXRhLmlucHV0ID0gaW5wdXQ7XG5cdFx0XHRcdFx0Zmlyc3RFdmVudFNlbnQgPSB0cnVlO1xuXHRcdFx0XHRcdGZpcnN0RXZlbnRSdW5JZCA9IGV2ZW50LnJ1bl9pZDtcblx0XHRcdFx0XHR5aWVsZCBldmVudDtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoZXZlbnQucnVuX2lkID09PSBmaXJzdEV2ZW50UnVuSWQgJiYgZXZlbnQuZXZlbnQuZW5kc1dpdGgoXCJfZW5kXCIpKSB7XG5cdFx0XHRcdFx0aWYgKGV2ZW50LmRhdGE/LmlucHV0KSBkZWxldGUgZXZlbnQuZGF0YS5pbnB1dDtcblx0XHRcdFx0fVxuXHRcdFx0XHR5aWVsZCBldmVudDtcblx0XHRcdH1cblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0YWJvcnRDb250cm9sbGVyLmFib3J0KCk7XG5cdFx0XHRhd2FpdCBydW5uYWJsZVN0cmVhbUNvbnN1bWVQcm9taXNlO1xuXHRcdH1cblx0fVxuXHRhc3luYyAqX3N0cmVhbUV2ZW50c1YxKGlucHV0LCBvcHRpb25zLCBzdHJlYW1PcHRpb25zKSB7XG5cdFx0bGV0IHJ1bkxvZztcblx0XHRsZXQgaGFzRW5jb3VudGVyZWRTdGFydEV2ZW50ID0gZmFsc2U7XG5cdFx0Y29uc3QgY29uZmlnID0gZW5zdXJlQ29uZmlnKG9wdGlvbnMpO1xuXHRcdGNvbnN0IHJvb3RUYWdzID0gY29uZmlnLnRhZ3MgPz8gW107XG5cdFx0Y29uc3Qgcm9vdE1ldGFkYXRhID0gY29uZmlnLm1ldGFkYXRhID8/IHt9O1xuXHRcdGNvbnN0IHJvb3ROYW1lID0gY29uZmlnLnJ1bk5hbWUgPz8gdGhpcy5nZXROYW1lKCk7XG5cdFx0Y29uc3QgbG9nU3RyZWFtQ2FsbGJhY2tIYW5kbGVyID0gbmV3IExvZ1N0cmVhbUNhbGxiYWNrSGFuZGxlcih7XG5cdFx0XHQuLi5zdHJlYW1PcHRpb25zLFxuXHRcdFx0YXV0b0Nsb3NlOiBmYWxzZSxcblx0XHRcdF9zY2hlbWFGb3JtYXQ6IFwic3RyZWFtaW5nX2V2ZW50c1wiXG5cdFx0fSk7XG5cdFx0Y29uc3Qgcm9vdEV2ZW50RmlsdGVyID0gbmV3IF9Sb290RXZlbnRGaWx0ZXIoeyAuLi5zdHJlYW1PcHRpb25zIH0pO1xuXHRcdGNvbnN0IGxvZ1N0cmVhbSA9IHRoaXMuX3N0cmVhbUxvZyhpbnB1dCwgbG9nU3RyZWFtQ2FsbGJhY2tIYW5kbGVyLCBjb25maWcpO1xuXHRcdGZvciBhd2FpdCAoY29uc3QgbG9nIG9mIGxvZ1N0cmVhbSkge1xuXHRcdFx0aWYgKCFydW5Mb2cpIHJ1bkxvZyA9IFJ1bkxvZy5mcm9tUnVuTG9nUGF0Y2gobG9nKTtcblx0XHRcdGVsc2UgcnVuTG9nID0gcnVuTG9nLmNvbmNhdChsb2cpO1xuXHRcdFx0aWYgKHJ1bkxvZy5zdGF0ZSA9PT0gdm9pZCAwKSB0aHJvdyBuZXcgRXJyb3IoYEludGVybmFsIGVycm9yOiBcInN0cmVhbUV2ZW50c1wiIHN0YXRlIGlzIG1pc3NpbmcuIFBsZWFzZSBvcGVuIGEgYnVnIHJlcG9ydC5gKTtcblx0XHRcdGlmICghaGFzRW5jb3VudGVyZWRTdGFydEV2ZW50KSB7XG5cdFx0XHRcdGhhc0VuY291bnRlcmVkU3RhcnRFdmVudCA9IHRydWU7XG5cdFx0XHRcdGNvbnN0IHN0YXRlJDIgPSB7IC4uLnJ1bkxvZy5zdGF0ZSB9O1xuXHRcdFx0XHRjb25zdCBldmVudCA9IHtcblx0XHRcdFx0XHRydW5faWQ6IHN0YXRlJDIuaWQsXG5cdFx0XHRcdFx0ZXZlbnQ6IGBvbl8ke3N0YXRlJDIudHlwZX1fc3RhcnRgLFxuXHRcdFx0XHRcdG5hbWU6IHJvb3ROYW1lLFxuXHRcdFx0XHRcdHRhZ3M6IHJvb3RUYWdzLFxuXHRcdFx0XHRcdG1ldGFkYXRhOiByb290TWV0YWRhdGEsXG5cdFx0XHRcdFx0ZGF0YTogeyBpbnB1dCB9XG5cdFx0XHRcdH07XG5cdFx0XHRcdGlmIChyb290RXZlbnRGaWx0ZXIuaW5jbHVkZUV2ZW50KGV2ZW50LCBzdGF0ZSQyLnR5cGUpKSB5aWVsZCBldmVudDtcblx0XHRcdH1cblx0XHRcdGNvbnN0IHBhdGhzID0gbG9nLm9wcy5maWx0ZXIoKG9wKSA9PiBvcC5wYXRoLnN0YXJ0c1dpdGgoXCIvbG9ncy9cIikpLm1hcCgob3ApID0+IG9wLnBhdGguc3BsaXQoXCIvXCIpWzJdKTtcblx0XHRcdGNvbnN0IGRlZHVwZWRQYXRocyA9IFsuLi5uZXcgU2V0KHBhdGhzKV07XG5cdFx0XHRmb3IgKGNvbnN0IHBhdGggb2YgZGVkdXBlZFBhdGhzKSB7XG5cdFx0XHRcdGxldCBldmVudFR5cGU7XG5cdFx0XHRcdGxldCBkYXRhID0ge307XG5cdFx0XHRcdGNvbnN0IGxvZ0VudHJ5ID0gcnVuTG9nLnN0YXRlLmxvZ3NbcGF0aF07XG5cdFx0XHRcdGlmIChsb2dFbnRyeS5lbmRfdGltZSA9PT0gdm9pZCAwKSBpZiAobG9nRW50cnkuc3RyZWFtZWRfb3V0cHV0Lmxlbmd0aCA+IDApIGV2ZW50VHlwZSA9IFwic3RyZWFtXCI7XG5cdFx0XHRcdGVsc2UgZXZlbnRUeXBlID0gXCJzdGFydFwiO1xuXHRcdFx0XHRlbHNlIGV2ZW50VHlwZSA9IFwiZW5kXCI7XG5cdFx0XHRcdGlmIChldmVudFR5cGUgPT09IFwic3RhcnRcIikge1xuXHRcdFx0XHRcdGlmIChsb2dFbnRyeS5pbnB1dHMgIT09IHZvaWQgMCkgZGF0YS5pbnB1dCA9IGxvZ0VudHJ5LmlucHV0cztcblx0XHRcdFx0fSBlbHNlIGlmIChldmVudFR5cGUgPT09IFwiZW5kXCIpIHtcblx0XHRcdFx0XHRpZiAobG9nRW50cnkuaW5wdXRzICE9PSB2b2lkIDApIGRhdGEuaW5wdXQgPSBsb2dFbnRyeS5pbnB1dHM7XG5cdFx0XHRcdFx0ZGF0YS5vdXRwdXQgPSBsb2dFbnRyeS5maW5hbF9vdXRwdXQ7XG5cdFx0XHRcdH0gZWxzZSBpZiAoZXZlbnRUeXBlID09PSBcInN0cmVhbVwiKSB7XG5cdFx0XHRcdFx0Y29uc3QgY2h1bmtDb3VudCA9IGxvZ0VudHJ5LnN0cmVhbWVkX291dHB1dC5sZW5ndGg7XG5cdFx0XHRcdFx0aWYgKGNodW5rQ291bnQgIT09IDEpIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgZXhhY3RseSBvbmUgY2h1bmsgb2Ygc3RyZWFtZWQgb3V0cHV0LCBnb3QgJHtjaHVua0NvdW50fSBpbnN0ZWFkLiBFbmNvdW50ZXJlZCBpbjogXCIke2xvZ0VudHJ5Lm5hbWV9XCJgKTtcblx0XHRcdFx0XHRkYXRhID0geyBjaHVuazogbG9nRW50cnkuc3RyZWFtZWRfb3V0cHV0WzBdIH07XG5cdFx0XHRcdFx0bG9nRW50cnkuc3RyZWFtZWRfb3V0cHV0ID0gW107XG5cdFx0XHRcdH1cblx0XHRcdFx0eWllbGQge1xuXHRcdFx0XHRcdGV2ZW50OiBgb25fJHtsb2dFbnRyeS50eXBlfV8ke2V2ZW50VHlwZX1gLFxuXHRcdFx0XHRcdG5hbWU6IGxvZ0VudHJ5Lm5hbWUsXG5cdFx0XHRcdFx0cnVuX2lkOiBsb2dFbnRyeS5pZCxcblx0XHRcdFx0XHR0YWdzOiBsb2dFbnRyeS50YWdzLFxuXHRcdFx0XHRcdG1ldGFkYXRhOiBsb2dFbnRyeS5tZXRhZGF0YSxcblx0XHRcdFx0XHRkYXRhXG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cdFx0XHRjb25zdCB7IHN0YXRlOiBzdGF0ZSQxIH0gPSBydW5Mb2c7XG5cdFx0XHRpZiAoc3RhdGUkMS5zdHJlYW1lZF9vdXRwdXQubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRjb25zdCBjaHVua0NvdW50ID0gc3RhdGUkMS5zdHJlYW1lZF9vdXRwdXQubGVuZ3RoO1xuXHRcdFx0XHRpZiAoY2h1bmtDb3VudCAhPT0gMSkgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBleGFjdGx5IG9uZSBjaHVuayBvZiBzdHJlYW1lZCBvdXRwdXQsIGdvdCAke2NodW5rQ291bnR9IGluc3RlYWQuIEVuY291bnRlcmVkIGluOiBcIiR7c3RhdGUkMS5uYW1lfVwiYCk7XG5cdFx0XHRcdGNvbnN0IGRhdGEgPSB7IGNodW5rOiBzdGF0ZSQxLnN0cmVhbWVkX291dHB1dFswXSB9O1xuXHRcdFx0XHRzdGF0ZSQxLnN0cmVhbWVkX291dHB1dCA9IFtdO1xuXHRcdFx0XHRjb25zdCBldmVudCA9IHtcblx0XHRcdFx0XHRldmVudDogYG9uXyR7c3RhdGUkMS50eXBlfV9zdHJlYW1gLFxuXHRcdFx0XHRcdHJ1bl9pZDogc3RhdGUkMS5pZCxcblx0XHRcdFx0XHR0YWdzOiByb290VGFncyxcblx0XHRcdFx0XHRtZXRhZGF0YTogcm9vdE1ldGFkYXRhLFxuXHRcdFx0XHRcdG5hbWU6IHJvb3ROYW1lLFxuXHRcdFx0XHRcdGRhdGFcblx0XHRcdFx0fTtcblx0XHRcdFx0aWYgKHJvb3RFdmVudEZpbHRlci5pbmNsdWRlRXZlbnQoZXZlbnQsIHN0YXRlJDEudHlwZSkpIHlpZWxkIGV2ZW50O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRjb25zdCBzdGF0ZSA9IHJ1bkxvZz8uc3RhdGU7XG5cdFx0aWYgKHN0YXRlICE9PSB2b2lkIDApIHtcblx0XHRcdGNvbnN0IGV2ZW50ID0ge1xuXHRcdFx0XHRldmVudDogYG9uXyR7c3RhdGUudHlwZX1fZW5kYCxcblx0XHRcdFx0bmFtZTogcm9vdE5hbWUsXG5cdFx0XHRcdHJ1bl9pZDogc3RhdGUuaWQsXG5cdFx0XHRcdHRhZ3M6IHJvb3RUYWdzLFxuXHRcdFx0XHRtZXRhZGF0YTogcm9vdE1ldGFkYXRhLFxuXHRcdFx0XHRkYXRhOiB7IG91dHB1dDogc3RhdGUuZmluYWxfb3V0cHV0IH1cblx0XHRcdH07XG5cdFx0XHRpZiAocm9vdEV2ZW50RmlsdGVyLmluY2x1ZGVFdmVudChldmVudCwgc3RhdGUudHlwZSkpIHlpZWxkIGV2ZW50O1xuXHRcdH1cblx0fVxuXHRzdGF0aWMgaXNSdW5uYWJsZSh0aGluZykge1xuXHRcdHJldHVybiBpc1J1bm5hYmxlSW50ZXJmYWNlKHRoaW5nKTtcblx0fVxuXHQvKipcblx0KiBCaW5kIGxpZmVjeWNsZSBsaXN0ZW5lcnMgdG8gYSBSdW5uYWJsZSwgcmV0dXJuaW5nIGEgbmV3IFJ1bm5hYmxlLlxuXHQqIFRoZSBSdW4gb2JqZWN0IGNvbnRhaW5zIGluZm9ybWF0aW9uIGFib3V0IHRoZSBydW4sIGluY2x1ZGluZyBpdHMgaWQsXG5cdCogdHlwZSwgaW5wdXQsIG91dHB1dCwgZXJyb3IsIHN0YXJ0VGltZSwgZW5kVGltZSwgYW5kIGFueSB0YWdzIG9yIG1ldGFkYXRhXG5cdCogYWRkZWQgdG8gdGhlIHJ1bi5cblx0KlxuXHQqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgLSBUaGUgb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGNhbGxiYWNrIGZ1bmN0aW9ucy5cblx0KiBAcGFyYW0geyhydW46IFJ1bikgPT4gdm9pZH0gcGFyYW1zLm9uU3RhcnQgLSBDYWxsZWQgYmVmb3JlIHRoZSBydW5uYWJsZSBzdGFydHMgcnVubmluZywgd2l0aCB0aGUgUnVuIG9iamVjdC5cblx0KiBAcGFyYW0geyhydW46IFJ1bikgPT4gdm9pZH0gcGFyYW1zLm9uRW5kIC0gQ2FsbGVkIGFmdGVyIHRoZSBydW5uYWJsZSBmaW5pc2hlcyBydW5uaW5nLCB3aXRoIHRoZSBSdW4gb2JqZWN0LlxuXHQqIEBwYXJhbSB7KHJ1bjogUnVuKSA9PiB2b2lkfSBwYXJhbXMub25FcnJvciAtIENhbGxlZCBpZiB0aGUgcnVubmFibGUgdGhyb3dzIGFuIGVycm9yLCB3aXRoIHRoZSBSdW4gb2JqZWN0LlxuXHQqL1xuXHR3aXRoTGlzdGVuZXJzKHsgb25TdGFydCwgb25FbmQsIG9uRXJyb3IgfSkge1xuXHRcdHJldHVybiBuZXcgUnVubmFibGVCaW5kaW5nKHtcblx0XHRcdGJvdW5kOiB0aGlzLFxuXHRcdFx0Y29uZmlnOiB7fSxcblx0XHRcdGNvbmZpZ0ZhY3RvcmllczogWyhjb25maWcpID0+ICh7IGNhbGxiYWNrczogW25ldyBSb290TGlzdGVuZXJzVHJhY2VyKHtcblx0XHRcdFx0Y29uZmlnLFxuXHRcdFx0XHRvblN0YXJ0LFxuXHRcdFx0XHRvbkVuZCxcblx0XHRcdFx0b25FcnJvclxuXHRcdFx0fSldIH0pXVxuXHRcdH0pO1xuXHR9XG5cdC8qKlxuXHQqIENvbnZlcnQgYSBydW5uYWJsZSB0byBhIHRvb2wuIFJldHVybiBhIG5ldyBpbnN0YW5jZSBvZiBgUnVubmFibGVUb29sTGlrZWBcblx0KiB3aGljaCBjb250YWlucyB0aGUgcnVubmFibGUsIG5hbWUsIGRlc2NyaXB0aW9uIGFuZCBzY2hlbWEuXG5cdCpcblx0KiBAdGVtcGxhdGUge1QgZXh0ZW5kcyBSdW5JbnB1dCA9IFJ1bklucHV0fSBSdW5JbnB1dCAtIFRoZSBpbnB1dCB0eXBlIG9mIHRoZSBydW5uYWJsZS4gU2hvdWxkIGJlIHRoZSBzYW1lIGFzIHRoZSBgUnVuSW5wdXRgIHR5cGUgb2YgdGhlIHJ1bm5hYmxlLlxuXHQqXG5cdCogQHBhcmFtIGZpZWxkc1xuXHQqIEBwYXJhbSB7c3RyaW5nIHwgdW5kZWZpbmVkfSBbZmllbGRzLm5hbWVdIFRoZSBuYW1lIG9mIHRoZSB0b29sLiBJZiBub3QgcHJvdmlkZWQsIGl0IHdpbGwgZGVmYXVsdCB0byB0aGUgbmFtZSBvZiB0aGUgcnVubmFibGUuXG5cdCogQHBhcmFtIHtzdHJpbmcgfCB1bmRlZmluZWR9IFtmaWVsZHMuZGVzY3JpcHRpb25dIFRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgdG9vbC4gRmFsbHMgYmFjayB0byB0aGUgZGVzY3JpcHRpb24gb24gdGhlIFpvZCBzY2hlbWEgaWYgbm90IHByb3ZpZGVkLCBvciB1bmRlZmluZWQgaWYgbmVpdGhlciBhcmUgcHJvdmlkZWQuXG5cdCogQHBhcmFtIHt6LlpvZFR5cGU8VD59IFtmaWVsZHMuc2NoZW1hXSBUaGUgWm9kIHNjaGVtYSBmb3IgdGhlIGlucHV0IG9mIHRoZSB0b29sLiBJbmZlcnMgdGhlIFpvZCB0eXBlIGZyb20gdGhlIGlucHV0IHR5cGUgb2YgdGhlIHJ1bm5hYmxlLlxuXHQqIEByZXR1cm5zIHtSdW5uYWJsZVRvb2xMaWtlPHouWm9kVHlwZTxUPiwgUnVuT3V0cHV0Pn0gQW4gaW5zdGFuY2Ugb2YgYFJ1bm5hYmxlVG9vbExpa2VgIHdoaWNoIGlzIGEgcnVubmFibGUgdGhhdCBjYW4gYmUgdXNlZCBhcyBhIHRvb2wuXG5cdCovXG5cdGFzVG9vbChmaWVsZHMpIHtcblx0XHRyZXR1cm4gY29udmVydFJ1bm5hYmxlVG9Ub29sKHRoaXMsIGZpZWxkcyk7XG5cdH1cbn07XG4vKipcbiogV3JhcHMgYSBydW5uYWJsZSBhbmQgYXBwbGllcyBwYXJ0aWFsIGNvbmZpZyB1cG9uIGludm9jYXRpb24uXG4qXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogaW1wb3J0IHtcbiogICB0eXBlIFJ1bm5hYmxlQ29uZmlnLFxuKiAgIFJ1bm5hYmxlTGFtYmRhLFxuKiB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvcnVubmFibGVzXCI7XG4qXG4qIGNvbnN0IGVuaGFuY2VQcm9maWxlID0gKFxuKiAgIHByb2ZpbGU6IFJlY29yZDxzdHJpbmcsIGFueT4sXG4qICAgY29uZmlnPzogUnVubmFibGVDb25maWdcbiogKSA9PiB7XG4qICAgaWYgKGNvbmZpZz8uY29uZmlndXJhYmxlPy5yb2xlKSB7XG4qICAgICByZXR1cm4geyAuLi5wcm9maWxlLCByb2xlOiBjb25maWcuY29uZmlndXJhYmxlLnJvbGUgfTtcbiogICB9XG4qICAgcmV0dXJuIHByb2ZpbGU7XG4qIH07XG4qXG4qIGNvbnN0IHJ1bm5hYmxlID0gUnVubmFibGVMYW1iZGEuZnJvbShlbmhhbmNlUHJvZmlsZSk7XG4qXG4qIC8vIEJpbmQgY29uZmlndXJhdGlvbiB0byB0aGUgcnVubmFibGUgdG8gc2V0IHRoZSB1c2VyJ3Mgcm9sZSBkeW5hbWljYWxseVxuKiBjb25zdCBhZG1pblJ1bm5hYmxlID0gcnVubmFibGUud2l0aENvbmZpZyh7IGNvbmZpZ3VyYWJsZTogeyByb2xlOiBcIkFkbWluXCIgfSB9KTtcbiogY29uc3QgdXNlclJ1bm5hYmxlID0gcnVubmFibGUud2l0aENvbmZpZyh7IGNvbmZpZ3VyYWJsZTogeyByb2xlOiBcIlVzZXJcIiB9IH0pO1xuKlxuKiBjb25zdCByZXN1bHQxID0gYXdhaXQgYWRtaW5SdW5uYWJsZS5pbnZva2Uoe1xuKiAgIG5hbWU6IFwiQWxpY2VcIixcbiogICBlbWFpbDogXCJhbGljZUBleGFtcGxlLmNvbVwiXG4qIH0pO1xuKlxuKiAvLyB7IG5hbWU6IFwiQWxpY2VcIiwgZW1haWw6IFwiYWxpY2VAZXhhbXBsZS5jb21cIiwgcm9sZTogXCJBZG1pblwiIH1cbipcbiogY29uc3QgcmVzdWx0MiA9IGF3YWl0IHVzZXJSdW5uYWJsZS5pbnZva2Uoe1xuKiAgIG5hbWU6IFwiQm9iXCIsXG4qICAgZW1haWw6IFwiYm9iQGV4YW1wbGUuY29tXCJcbiogfSk7XG4qXG4qIC8vIHsgbmFtZTogXCJCb2JcIiwgZW1haWw6IFwiYm9iQGV4YW1wbGUuY29tXCIsIHJvbGU6IFwiVXNlclwiIH1cbiogYGBgXG4qL1xudmFyIFJ1bm5hYmxlQmluZGluZyA9IGNsYXNzIFJ1bm5hYmxlQmluZGluZyBleHRlbmRzIFJ1bm5hYmxlIHtcblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiUnVubmFibGVCaW5kaW5nXCI7XG5cdH1cblx0bGNfbmFtZXNwYWNlID0gW1wibGFuZ2NoYWluX2NvcmVcIiwgXCJydW5uYWJsZXNcIl07XG5cdGxjX3NlcmlhbGl6YWJsZSA9IHRydWU7XG5cdGJvdW5kO1xuXHRjb25maWc7XG5cdGt3YXJncztcblx0Y29uZmlnRmFjdG9yaWVzO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRzdXBlcihmaWVsZHMpO1xuXHRcdHRoaXMuYm91bmQgPSBmaWVsZHMuYm91bmQ7XG5cdFx0dGhpcy5rd2FyZ3MgPSBmaWVsZHMua3dhcmdzO1xuXHRcdHRoaXMuY29uZmlnID0gZmllbGRzLmNvbmZpZztcblx0XHR0aGlzLmNvbmZpZ0ZhY3RvcmllcyA9IGZpZWxkcy5jb25maWdGYWN0b3JpZXM7XG5cdH1cblx0Z2V0TmFtZShzdWZmaXgpIHtcblx0XHRyZXR1cm4gdGhpcy5ib3VuZC5nZXROYW1lKHN1ZmZpeCk7XG5cdH1cblx0YXN5bmMgX21lcmdlQ29uZmlnKC4uLm9wdGlvbnMpIHtcblx0XHRjb25zdCBjb25maWcgPSBtZXJnZUNvbmZpZ3ModGhpcy5jb25maWcsIC4uLm9wdGlvbnMpO1xuXHRcdHJldHVybiBtZXJnZUNvbmZpZ3MoY29uZmlnLCAuLi50aGlzLmNvbmZpZ0ZhY3RvcmllcyA/IGF3YWl0IFByb21pc2UuYWxsKHRoaXMuY29uZmlnRmFjdG9yaWVzLm1hcChhc3luYyAoY29uZmlnRmFjdG9yeSkgPT4gYXdhaXQgY29uZmlnRmFjdG9yeShjb25maWcpKSkgOiBbXSk7XG5cdH1cblx0d2l0aENvbmZpZyhjb25maWcpIHtcblx0XHRyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3Ioe1xuXHRcdFx0Ym91bmQ6IHRoaXMuYm91bmQsXG5cdFx0XHRrd2FyZ3M6IHRoaXMua3dhcmdzLFxuXHRcdFx0Y29uZmlnOiB7XG5cdFx0XHRcdC4uLnRoaXMuY29uZmlnLFxuXHRcdFx0XHQuLi5jb25maWdcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXHR3aXRoUmV0cnkoZmllbGRzKSB7XG5cdFx0cmV0dXJuIG5ldyBSdW5uYWJsZVJldHJ5KHtcblx0XHRcdGJvdW5kOiB0aGlzLmJvdW5kLFxuXHRcdFx0a3dhcmdzOiB0aGlzLmt3YXJncyxcblx0XHRcdGNvbmZpZzogdGhpcy5jb25maWcsXG5cdFx0XHRtYXhBdHRlbXB0TnVtYmVyOiBmaWVsZHM/LnN0b3BBZnRlckF0dGVtcHQsXG5cdFx0XHQuLi5maWVsZHNcblx0XHR9KTtcblx0fVxuXHRhc3luYyBpbnZva2UoaW5wdXQsIG9wdGlvbnMpIHtcblx0XHRyZXR1cm4gdGhpcy5ib3VuZC5pbnZva2UoaW5wdXQsIGF3YWl0IHRoaXMuX21lcmdlQ29uZmlnKG9wdGlvbnMsIHRoaXMua3dhcmdzKSk7XG5cdH1cblx0YXN5bmMgYmF0Y2goaW5wdXRzLCBvcHRpb25zLCBiYXRjaE9wdGlvbnMpIHtcblx0XHRjb25zdCBtZXJnZWRPcHRpb25zID0gQXJyYXkuaXNBcnJheShvcHRpb25zKSA/IGF3YWl0IFByb21pc2UuYWxsKG9wdGlvbnMubWFwKGFzeW5jIChpbmRpdmlkdWFsT3B0aW9uKSA9PiB0aGlzLl9tZXJnZUNvbmZpZyhlbnN1cmVDb25maWcoaW5kaXZpZHVhbE9wdGlvbiksIHRoaXMua3dhcmdzKSkpIDogYXdhaXQgdGhpcy5fbWVyZ2VDb25maWcoZW5zdXJlQ29uZmlnKG9wdGlvbnMpLCB0aGlzLmt3YXJncyk7XG5cdFx0cmV0dXJuIHRoaXMuYm91bmQuYmF0Y2goaW5wdXRzLCBtZXJnZWRPcHRpb25zLCBiYXRjaE9wdGlvbnMpO1xuXHR9XG5cdC8qKiBAaW50ZXJuYWwgKi9cblx0X2NvbmNhdE91dHB1dENodW5rcyhmaXJzdCwgc2Vjb25kKSB7XG5cdFx0cmV0dXJuIHRoaXMuYm91bmQuX2NvbmNhdE91dHB1dENodW5rcyhmaXJzdCwgc2Vjb25kKTtcblx0fVxuXHRhc3luYyAqX3N0cmVhbUl0ZXJhdG9yKGlucHV0LCBvcHRpb25zKSB7XG5cdFx0eWllbGQqIHRoaXMuYm91bmQuX3N0cmVhbUl0ZXJhdG9yKGlucHV0LCBhd2FpdCB0aGlzLl9tZXJnZUNvbmZpZyhlbnN1cmVDb25maWcob3B0aW9ucyksIHRoaXMua3dhcmdzKSk7XG5cdH1cblx0YXN5bmMgc3RyZWFtKGlucHV0LCBvcHRpb25zKSB7XG5cdFx0cmV0dXJuIHRoaXMuYm91bmQuc3RyZWFtKGlucHV0LCBhd2FpdCB0aGlzLl9tZXJnZUNvbmZpZyhlbnN1cmVDb25maWcob3B0aW9ucyksIHRoaXMua3dhcmdzKSk7XG5cdH1cblx0YXN5bmMgKnRyYW5zZm9ybShnZW5lcmF0b3IsIG9wdGlvbnMpIHtcblx0XHR5aWVsZCogdGhpcy5ib3VuZC50cmFuc2Zvcm0oZ2VuZXJhdG9yLCBhd2FpdCB0aGlzLl9tZXJnZUNvbmZpZyhlbnN1cmVDb25maWcob3B0aW9ucyksIHRoaXMua3dhcmdzKSk7XG5cdH1cblx0c3RyZWFtRXZlbnRzKGlucHV0LCBvcHRpb25zLCBzdHJlYW1PcHRpb25zKSB7XG5cdFx0Y29uc3Qgb3V0ZXJUaGlzID0gdGhpcztcblx0XHRjb25zdCBnZW5lcmF0b3IgPSBhc3luYyBmdW5jdGlvbiogKCkge1xuXHRcdFx0eWllbGQqIG91dGVyVGhpcy5ib3VuZC5zdHJlYW1FdmVudHMoaW5wdXQsIHtcblx0XHRcdFx0Li4uYXdhaXQgb3V0ZXJUaGlzLl9tZXJnZUNvbmZpZyhlbnN1cmVDb25maWcob3B0aW9ucyksIG91dGVyVGhpcy5rd2FyZ3MpLFxuXHRcdFx0XHR2ZXJzaW9uOiBvcHRpb25zLnZlcnNpb25cblx0XHRcdH0sIHN0cmVhbU9wdGlvbnMpO1xuXHRcdH07XG5cdFx0cmV0dXJuIEl0ZXJhYmxlUmVhZGFibGVTdHJlYW0uZnJvbUFzeW5jR2VuZXJhdG9yKGdlbmVyYXRvcigpKTtcblx0fVxuXHRzdGF0aWMgaXNSdW5uYWJsZUJpbmRpbmcodGhpbmcpIHtcblx0XHRyZXR1cm4gdGhpbmcuYm91bmQgJiYgUnVubmFibGUuaXNSdW5uYWJsZSh0aGluZy5ib3VuZCk7XG5cdH1cblx0LyoqXG5cdCogQmluZCBsaWZlY3ljbGUgbGlzdGVuZXJzIHRvIGEgUnVubmFibGUsIHJldHVybmluZyBhIG5ldyBSdW5uYWJsZS5cblx0KiBUaGUgUnVuIG9iamVjdCBjb250YWlucyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgcnVuLCBpbmNsdWRpbmcgaXRzIGlkLFxuXHQqIHR5cGUsIGlucHV0LCBvdXRwdXQsIGVycm9yLCBzdGFydFRpbWUsIGVuZFRpbWUsIGFuZCBhbnkgdGFncyBvciBtZXRhZGF0YVxuXHQqIGFkZGVkIHRvIHRoZSBydW4uXG5cdCpcblx0KiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIC0gVGhlIG9iamVjdCBjb250YWluaW5nIHRoZSBjYWxsYmFjayBmdW5jdGlvbnMuXG5cdCogQHBhcmFtIHsocnVuOiBSdW4pID0+IHZvaWR9IHBhcmFtcy5vblN0YXJ0IC0gQ2FsbGVkIGJlZm9yZSB0aGUgcnVubmFibGUgc3RhcnRzIHJ1bm5pbmcsIHdpdGggdGhlIFJ1biBvYmplY3QuXG5cdCogQHBhcmFtIHsocnVuOiBSdW4pID0+IHZvaWR9IHBhcmFtcy5vbkVuZCAtIENhbGxlZCBhZnRlciB0aGUgcnVubmFibGUgZmluaXNoZXMgcnVubmluZywgd2l0aCB0aGUgUnVuIG9iamVjdC5cblx0KiBAcGFyYW0geyhydW46IFJ1bikgPT4gdm9pZH0gcGFyYW1zLm9uRXJyb3IgLSBDYWxsZWQgaWYgdGhlIHJ1bm5hYmxlIHRocm93cyBhbiBlcnJvciwgd2l0aCB0aGUgUnVuIG9iamVjdC5cblx0Ki9cblx0d2l0aExpc3RlbmVycyh7IG9uU3RhcnQsIG9uRW5kLCBvbkVycm9yIH0pIHtcblx0XHRyZXR1cm4gbmV3IFJ1bm5hYmxlQmluZGluZyh7XG5cdFx0XHRib3VuZDogdGhpcy5ib3VuZCxcblx0XHRcdGt3YXJnczogdGhpcy5rd2FyZ3MsXG5cdFx0XHRjb25maWc6IHRoaXMuY29uZmlnLFxuXHRcdFx0Y29uZmlnRmFjdG9yaWVzOiBbKGNvbmZpZykgPT4gKHsgY2FsbGJhY2tzOiBbbmV3IFJvb3RMaXN0ZW5lcnNUcmFjZXIoe1xuXHRcdFx0XHRjb25maWcsXG5cdFx0XHRcdG9uU3RhcnQsXG5cdFx0XHRcdG9uRW5kLFxuXHRcdFx0XHRvbkVycm9yXG5cdFx0XHR9KV0gfSldXG5cdFx0fSk7XG5cdH1cbn07XG4vKipcbiogQSBydW5uYWJsZSB0aGF0IGRlbGVnYXRlcyBjYWxscyB0byBhbm90aGVyIHJ1bm5hYmxlXG4qIHdpdGggZWFjaCBlbGVtZW50IG9mIHRoZSBpbnB1dCBzZXF1ZW5jZS5cbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiBpbXBvcnQgeyBSdW5uYWJsZUVhY2gsIFJ1bm5hYmxlTGFtYmRhIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9ydW5uYWJsZXNcIjtcbipcbiogY29uc3QgdG9VcHBlckNhc2UgPSAoaW5wdXQ6IHN0cmluZyk6IHN0cmluZyA9PiBpbnB1dC50b1VwcGVyQ2FzZSgpO1xuKiBjb25zdCBhZGRHcmVldGluZyA9IChpbnB1dDogc3RyaW5nKTogc3RyaW5nID0+IGBIZWxsbywgJHtpbnB1dH0hYDtcbipcbiogY29uc3QgdXBwZXJDYXNlTGFtYmRhID0gUnVubmFibGVMYW1iZGEuZnJvbSh0b1VwcGVyQ2FzZSk7XG4qIGNvbnN0IGdyZWV0aW5nTGFtYmRhID0gUnVubmFibGVMYW1iZGEuZnJvbShhZGRHcmVldGluZyk7XG4qXG4qIGNvbnN0IGNoYWluID0gbmV3IFJ1bm5hYmxlRWFjaCh7XG4qICAgYm91bmQ6IHVwcGVyQ2FzZUxhbWJkYS5waXBlKGdyZWV0aW5nTGFtYmRhKSxcbiogfSk7XG4qXG4qIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNoYWluLmludm9rZShbXCJhbGljZVwiLCBcImJvYlwiLCBcImNhcm9sXCJdKVxuKlxuKiAvLyBbXCJIZWxsbywgQUxJQ0UhXCIsIFwiSGVsbG8sIEJPQiFcIiwgXCJIZWxsbywgQ0FST0whXCJdXG4qIGBgYFxuKi9cbnZhciBSdW5uYWJsZUVhY2ggPSBjbGFzcyBSdW5uYWJsZUVhY2ggZXh0ZW5kcyBSdW5uYWJsZSB7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIlJ1bm5hYmxlRWFjaFwiO1xuXHR9XG5cdGxjX3NlcmlhbGl6YWJsZSA9IHRydWU7XG5cdGxjX25hbWVzcGFjZSA9IFtcImxhbmdjaGFpbl9jb3JlXCIsIFwicnVubmFibGVzXCJdO1xuXHRib3VuZDtcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLmJvdW5kID0gZmllbGRzLmJvdW5kO1xuXHR9XG5cdC8qKlxuXHQqIEludm9rZXMgdGhlIHJ1bm5hYmxlIHdpdGggdGhlIHNwZWNpZmllZCBpbnB1dCBhbmQgY29uZmlndXJhdGlvbi5cblx0KiBAcGFyYW0gaW5wdXQgVGhlIGlucHV0IHRvIGludm9rZSB0aGUgcnVubmFibGUgd2l0aC5cblx0KiBAcGFyYW0gY29uZmlnIFRoZSBjb25maWd1cmF0aW9uIHRvIGludm9rZSB0aGUgcnVubmFibGUgd2l0aC5cblx0KiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgb3V0cHV0IG9mIHRoZSBydW5uYWJsZS5cblx0Ki9cblx0YXN5bmMgaW52b2tlKGlucHV0cywgY29uZmlnKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2NhbGxXaXRoQ29uZmlnKHRoaXMuX2ludm9rZS5iaW5kKHRoaXMpLCBpbnB1dHMsIGNvbmZpZyk7XG5cdH1cblx0LyoqXG5cdCogQSBoZWxwZXIgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byBpbnZva2UgdGhlIHJ1bm5hYmxlIHdpdGggdGhlIHNwZWNpZmllZCBpbnB1dCBhbmQgY29uZmlndXJhdGlvbi5cblx0KiBAcGFyYW0gaW5wdXQgVGhlIGlucHV0IHRvIGludm9rZSB0aGUgcnVubmFibGUgd2l0aC5cblx0KiBAcGFyYW0gY29uZmlnIFRoZSBjb25maWd1cmF0aW9uIHRvIGludm9rZSB0aGUgcnVubmFibGUgd2l0aC5cblx0KiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgb3V0cHV0IG9mIHRoZSBydW5uYWJsZS5cblx0Ki9cblx0YXN5bmMgX2ludm9rZShpbnB1dHMsIGNvbmZpZywgcnVuTWFuYWdlcikge1xuXHRcdHJldHVybiB0aGlzLmJvdW5kLmJhdGNoKGlucHV0cywgcGF0Y2hDb25maWcoY29uZmlnLCB7IGNhbGxiYWNrczogcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoKSB9KSk7XG5cdH1cblx0LyoqXG5cdCogQmluZCBsaWZlY3ljbGUgbGlzdGVuZXJzIHRvIGEgUnVubmFibGUsIHJldHVybmluZyBhIG5ldyBSdW5uYWJsZS5cblx0KiBUaGUgUnVuIG9iamVjdCBjb250YWlucyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgcnVuLCBpbmNsdWRpbmcgaXRzIGlkLFxuXHQqIHR5cGUsIGlucHV0LCBvdXRwdXQsIGVycm9yLCBzdGFydFRpbWUsIGVuZFRpbWUsIGFuZCBhbnkgdGFncyBvciBtZXRhZGF0YVxuXHQqIGFkZGVkIHRvIHRoZSBydW4uXG5cdCpcblx0KiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIC0gVGhlIG9iamVjdCBjb250YWluaW5nIHRoZSBjYWxsYmFjayBmdW5jdGlvbnMuXG5cdCogQHBhcmFtIHsocnVuOiBSdW4pID0+IHZvaWR9IHBhcmFtcy5vblN0YXJ0IC0gQ2FsbGVkIGJlZm9yZSB0aGUgcnVubmFibGUgc3RhcnRzIHJ1bm5pbmcsIHdpdGggdGhlIFJ1biBvYmplY3QuXG5cdCogQHBhcmFtIHsocnVuOiBSdW4pID0+IHZvaWR9IHBhcmFtcy5vbkVuZCAtIENhbGxlZCBhZnRlciB0aGUgcnVubmFibGUgZmluaXNoZXMgcnVubmluZywgd2l0aCB0aGUgUnVuIG9iamVjdC5cblx0KiBAcGFyYW0geyhydW46IFJ1bikgPT4gdm9pZH0gcGFyYW1zLm9uRXJyb3IgLSBDYWxsZWQgaWYgdGhlIHJ1bm5hYmxlIHRocm93cyBhbiBlcnJvciwgd2l0aCB0aGUgUnVuIG9iamVjdC5cblx0Ki9cblx0d2l0aExpc3RlbmVycyh7IG9uU3RhcnQsIG9uRW5kLCBvbkVycm9yIH0pIHtcblx0XHRyZXR1cm4gbmV3IFJ1bm5hYmxlRWFjaCh7IGJvdW5kOiB0aGlzLmJvdW5kLndpdGhMaXN0ZW5lcnMoe1xuXHRcdFx0b25TdGFydCxcblx0XHRcdG9uRW5kLFxuXHRcdFx0b25FcnJvclxuXHRcdH0pIH0pO1xuXHR9XG59O1xuLyoqXG4qIEJhc2UgY2xhc3MgZm9yIHJ1bm5hYmxlcyB0aGF0IGNhbiBiZSByZXRyaWVkIGFcbiogc3BlY2lmaWVkIG51bWJlciBvZiB0aW1lcy5cbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiBpbXBvcnQge1xuKiAgIFJ1bm5hYmxlTGFtYmRhLFxuKiAgIFJ1bm5hYmxlUmV0cnksXG4qIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9ydW5uYWJsZXNcIjtcbipcbiogLy8gU2ltdWxhdGUgYW4gQVBJIGNhbGwgdGhhdCBmYWlsc1xuKiBjb25zdCBzaW11bGF0ZUFwaUNhbGwgPSAoaW5wdXQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4qICAgY29uc29sZS5sb2coYEF0dGVtcHRpbmcgQVBJIGNhbGwgd2l0aCBpbnB1dDogJHtpbnB1dH1gKTtcbiogICB0aHJvdyBuZXcgRXJyb3IoXCJBUEkgY2FsbCBmYWlsZWQgZHVlIHRvIG5ldHdvcmsgaXNzdWVcIik7XG4qIH07XG4qXG4qIGNvbnN0IGFwaUNhbGxMYW1iZGEgPSBSdW5uYWJsZUxhbWJkYS5mcm9tKHNpbXVsYXRlQXBpQ2FsbCk7XG4qXG4qIC8vIEFwcGx5IHJldHJ5IGxvZ2ljIHVzaW5nIHRoZSAud2l0aFJldHJ5KCkgbWV0aG9kXG4qIGNvbnN0IGFwaUNhbGxXaXRoUmV0cnkgPSBhcGlDYWxsTGFtYmRhLndpdGhSZXRyeSh7IHN0b3BBZnRlckF0dGVtcHQ6IDMgfSk7XG4qXG4qIC8vIEFsdGVybmF0aXZlbHksIGNyZWF0ZSBhIFJ1bm5hYmxlUmV0cnkgaW5zdGFuY2UgbWFudWFsbHlcbiogY29uc3QgbWFudWFsUmV0cnkgPSBuZXcgUnVubmFibGVSZXRyeSh7XG4qICAgYm91bmQ6IGFwaUNhbGxMYW1iZGEsXG4qICAgbWF4QXR0ZW1wdE51bWJlcjogMyxcbiogICBjb25maWc6IHt9LFxuKiB9KTtcbipcbiogLy8gRXhhbXBsZSBpbnZvY2F0aW9uIHVzaW5nIHRoZSAud2l0aFJldHJ5KCkgbWV0aG9kXG4qIGNvbnN0IHJlcyA9IGF3YWl0IGFwaUNhbGxXaXRoUmV0cnlcbiogICAuaW52b2tlKFwiUmVxdWVzdCAxXCIpXG4qICAgLmNhdGNoKChlcnJvcikgPT4ge1xuKiAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCBhZnRlciBtdWx0aXBsZSByZXRyaWVzOlwiLCBlcnJvci5tZXNzYWdlKTtcbiogICB9KTtcbipcbiogLy8gRXhhbXBsZSBpbnZvY2F0aW9uIHVzaW5nIHRoZSBtYW51YWwgcmV0cnkgaW5zdGFuY2VcbiogY29uc3QgcmVzMiA9IGF3YWl0IG1hbnVhbFJldHJ5XG4qICAgLmludm9rZShcIlJlcXVlc3QgMlwiKVxuKiAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiogICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgYWZ0ZXIgbXVsdGlwbGUgcmV0cmllczpcIiwgZXJyb3IubWVzc2FnZSk7XG4qICAgfSk7XG4qIGBgYFxuKi9cbnZhciBSdW5uYWJsZVJldHJ5ID0gY2xhc3MgZXh0ZW5kcyBSdW5uYWJsZUJpbmRpbmcge1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJSdW5uYWJsZVJldHJ5XCI7XG5cdH1cblx0bGNfbmFtZXNwYWNlID0gW1wibGFuZ2NoYWluX2NvcmVcIiwgXCJydW5uYWJsZXNcIl07XG5cdG1heEF0dGVtcHROdW1iZXIgPSAzO1xuXHRvbkZhaWxlZEF0dGVtcHQgPSAoKSA9PiB7fTtcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLm1heEF0dGVtcHROdW1iZXIgPSBmaWVsZHMubWF4QXR0ZW1wdE51bWJlciA/PyB0aGlzLm1heEF0dGVtcHROdW1iZXI7XG5cdFx0dGhpcy5vbkZhaWxlZEF0dGVtcHQgPSBmaWVsZHMub25GYWlsZWRBdHRlbXB0ID8/IHRoaXMub25GYWlsZWRBdHRlbXB0O1xuXHR9XG5cdF9wYXRjaENvbmZpZ0ZvclJldHJ5KGF0dGVtcHQsIGNvbmZpZywgcnVuTWFuYWdlcikge1xuXHRcdGNvbnN0IHRhZyA9IGF0dGVtcHQgPiAxID8gYHJldHJ5OmF0dGVtcHQ6JHthdHRlbXB0fWAgOiB2b2lkIDA7XG5cdFx0cmV0dXJuIHBhdGNoQ29uZmlnKGNvbmZpZywgeyBjYWxsYmFja3M6IHJ1bk1hbmFnZXI/LmdldENoaWxkKHRhZykgfSk7XG5cdH1cblx0YXN5bmMgX2ludm9rZShpbnB1dCwgY29uZmlnLCBydW5NYW5hZ2VyKSB7XG5cdFx0cmV0dXJuIHBSZXRyeSgoYXR0ZW1wdE51bWJlcikgPT4gc3VwZXIuaW52b2tlKGlucHV0LCB0aGlzLl9wYXRjaENvbmZpZ0ZvclJldHJ5KGF0dGVtcHROdW1iZXIsIGNvbmZpZywgcnVuTWFuYWdlcikpLCB7XG5cdFx0XHRvbkZhaWxlZEF0dGVtcHQ6IChlcnJvcikgPT4gdGhpcy5vbkZhaWxlZEF0dGVtcHQoZXJyb3IsIGlucHV0KSxcblx0XHRcdHJldHJpZXM6IE1hdGgubWF4KHRoaXMubWF4QXR0ZW1wdE51bWJlciAtIDEsIDApLFxuXHRcdFx0cmFuZG9taXplOiB0cnVlXG5cdFx0fSk7XG5cdH1cblx0LyoqXG5cdCogTWV0aG9kIHRoYXQgaW52b2tlcyB0aGUgcnVubmFibGUgd2l0aCB0aGUgc3BlY2lmaWVkIGlucHV0LCBydW4gbWFuYWdlcixcblx0KiBhbmQgY29uZmlnLiBJdCBoYW5kbGVzIHRoZSByZXRyeSBsb2dpYyBieSBjYXRjaGluZyBhbnkgZXJyb3JzIGFuZFxuXHQqIHJlY3Vyc2l2ZWx5IGludm9raW5nIGl0c2VsZiB3aXRoIHRoZSB1cGRhdGVkIGNvbmZpZyBmb3IgdGhlIG5leHQgcmV0cnlcblx0KiBhdHRlbXB0LlxuXHQqIEBwYXJhbSBpbnB1dCBUaGUgaW5wdXQgZm9yIHRoZSBydW5uYWJsZS5cblx0KiBAcGFyYW0gcnVuTWFuYWdlciBUaGUgcnVuIG1hbmFnZXIgZm9yIHRoZSBydW5uYWJsZS5cblx0KiBAcGFyYW0gY29uZmlnIFRoZSBjb25maWcgZm9yIHRoZSBydW5uYWJsZS5cblx0KiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgb3V0cHV0IG9mIHRoZSBydW5uYWJsZS5cblx0Ki9cblx0YXN5bmMgaW52b2tlKGlucHV0LCBjb25maWcpIHtcblx0XHRyZXR1cm4gdGhpcy5fY2FsbFdpdGhDb25maWcodGhpcy5faW52b2tlLmJpbmQodGhpcyksIGlucHV0LCBjb25maWcpO1xuXHR9XG5cdGFzeW5jIF9iYXRjaChpbnB1dHMsIGNvbmZpZ3MsIHJ1bk1hbmFnZXJzLCBiYXRjaE9wdGlvbnMpIHtcblx0XHRjb25zdCByZXN1bHRzTWFwID0ge307XG5cdFx0dHJ5IHtcblx0XHRcdGF3YWl0IHBSZXRyeShhc3luYyAoYXR0ZW1wdE51bWJlcikgPT4ge1xuXHRcdFx0XHRjb25zdCByZW1haW5pbmdJbmRleGVzID0gaW5wdXRzLm1hcCgoXywgaSkgPT4gaSkuZmlsdGVyKChpKSA9PiByZXN1bHRzTWFwW2kudG9TdHJpbmcoKV0gPT09IHZvaWQgMCB8fCByZXN1bHRzTWFwW2kudG9TdHJpbmcoKV0gaW5zdGFuY2VvZiBFcnJvcik7XG5cdFx0XHRcdGNvbnN0IHJlbWFpbmluZ0lucHV0cyA9IHJlbWFpbmluZ0luZGV4ZXMubWFwKChpKSA9PiBpbnB1dHNbaV0pO1xuXHRcdFx0XHRjb25zdCBwYXRjaGVkQ29uZmlncyA9IHJlbWFpbmluZ0luZGV4ZXMubWFwKChpKSA9PiB0aGlzLl9wYXRjaENvbmZpZ0ZvclJldHJ5KGF0dGVtcHROdW1iZXIsIGNvbmZpZ3M/LltpXSwgcnVuTWFuYWdlcnM/LltpXSkpO1xuXHRcdFx0XHRjb25zdCByZXN1bHRzID0gYXdhaXQgc3VwZXIuYmF0Y2gocmVtYWluaW5nSW5wdXRzLCBwYXRjaGVkQ29uZmlncywge1xuXHRcdFx0XHRcdC4uLmJhdGNoT3B0aW9ucyxcblx0XHRcdFx0XHRyZXR1cm5FeGNlcHRpb25zOiB0cnVlXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRsZXQgZmlyc3RFeGNlcHRpb247XG5cdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0cy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0XHRcdGNvbnN0IHJlc3VsdCA9IHJlc3VsdHNbaV07XG5cdFx0XHRcdFx0Y29uc3QgcmVzdWx0TWFwSW5kZXggPSByZW1haW5pbmdJbmRleGVzW2ldO1xuXHRcdFx0XHRcdGlmIChyZXN1bHQgaW5zdGFuY2VvZiBFcnJvcikge1xuXHRcdFx0XHRcdFx0aWYgKGZpcnN0RXhjZXB0aW9uID09PSB2b2lkIDApIHtcblx0XHRcdFx0XHRcdFx0Zmlyc3RFeGNlcHRpb24gPSByZXN1bHQ7XG5cdFx0XHRcdFx0XHRcdGZpcnN0RXhjZXB0aW9uLmlucHV0ID0gcmVtYWluaW5nSW5wdXRzW2ldO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXN1bHRzTWFwW3Jlc3VsdE1hcEluZGV4LnRvU3RyaW5nKCldID0gcmVzdWx0O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChmaXJzdEV4Y2VwdGlvbikgdGhyb3cgZmlyc3RFeGNlcHRpb247XG5cdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0fSwge1xuXHRcdFx0XHRvbkZhaWxlZEF0dGVtcHQ6IChlcnJvcikgPT4gdGhpcy5vbkZhaWxlZEF0dGVtcHQoZXJyb3IsIGVycm9yLmlucHV0KSxcblx0XHRcdFx0cmV0cmllczogTWF0aC5tYXgodGhpcy5tYXhBdHRlbXB0TnVtYmVyIC0gMSwgMCksXG5cdFx0XHRcdHJhbmRvbWl6ZTogdHJ1ZVxuXHRcdFx0fSk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0aWYgKGJhdGNoT3B0aW9ucz8ucmV0dXJuRXhjZXB0aW9ucyAhPT0gdHJ1ZSkgdGhyb3cgZTtcblx0XHR9XG5cdFx0cmV0dXJuIE9iamVjdC5rZXlzKHJlc3VsdHNNYXApLnNvcnQoKGEsIGIpID0+IHBhcnNlSW50KGEsIDEwKSAtIHBhcnNlSW50KGIsIDEwKSkubWFwKChrZXkpID0+IHJlc3VsdHNNYXBbcGFyc2VJbnQoa2V5LCAxMCldKTtcblx0fVxuXHRhc3luYyBiYXRjaChpbnB1dHMsIG9wdGlvbnMsIGJhdGNoT3B0aW9ucykge1xuXHRcdHJldHVybiB0aGlzLl9iYXRjaFdpdGhDb25maWcodGhpcy5fYmF0Y2guYmluZCh0aGlzKSwgaW5wdXRzLCBvcHRpb25zLCBiYXRjaE9wdGlvbnMpO1xuXHR9XG59O1xuLyoqXG4qIEEgc2VxdWVuY2Ugb2YgcnVubmFibGVzLCB3aGVyZSB0aGUgb3V0cHV0IG9mIGVhY2ggaXMgdGhlIGlucHV0IG9mIHRoZSBuZXh0LlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIGNvbnN0IHByb21wdFRlbXBsYXRlID0gUHJvbXB0VGVtcGxhdGUuZnJvbVRlbXBsYXRlKFxuKiAgIFwiVGVsbCBtZSBhIGpva2UgYWJvdXQge3RvcGljfVwiLFxuKiApO1xuKiBjb25zdCBjaGFpbiA9IFJ1bm5hYmxlU2VxdWVuY2UuZnJvbShbcHJvbXB0VGVtcGxhdGUsIG5ldyBDaGF0T3BlbkFJKHsgbW9kZWw6IFwiZ3B0LTRvLW1pbmlcIiB9KV0pO1xuKiBjb25zdCByZXN1bHQgPSBhd2FpdCBjaGFpbi5pbnZva2UoeyB0b3BpYzogXCJiZWFyc1wiIH0pO1xuKiBgYGBcbiovXG52YXIgUnVubmFibGVTZXF1ZW5jZSA9IGNsYXNzIFJ1bm5hYmxlU2VxdWVuY2UgZXh0ZW5kcyBSdW5uYWJsZSB7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIlJ1bm5hYmxlU2VxdWVuY2VcIjtcblx0fVxuXHRmaXJzdDtcblx0bWlkZGxlID0gW107XG5cdGxhc3Q7XG5cdG9taXRTZXF1ZW5jZVRhZ3MgPSBmYWxzZTtcblx0bGNfc2VyaWFsaXphYmxlID0gdHJ1ZTtcblx0bGNfbmFtZXNwYWNlID0gW1wibGFuZ2NoYWluX2NvcmVcIiwgXCJydW5uYWJsZXNcIl07XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdHN1cGVyKGZpZWxkcyk7XG5cdFx0dGhpcy5maXJzdCA9IGZpZWxkcy5maXJzdDtcblx0XHR0aGlzLm1pZGRsZSA9IGZpZWxkcy5taWRkbGUgPz8gdGhpcy5taWRkbGU7XG5cdFx0dGhpcy5sYXN0ID0gZmllbGRzLmxhc3Q7XG5cdFx0dGhpcy5uYW1lID0gZmllbGRzLm5hbWU7XG5cdFx0dGhpcy5vbWl0U2VxdWVuY2VUYWdzID0gZmllbGRzLm9taXRTZXF1ZW5jZVRhZ3MgPz8gdGhpcy5vbWl0U2VxdWVuY2VUYWdzO1xuXHR9XG5cdGdldCBzdGVwcygpIHtcblx0XHRyZXR1cm4gW1xuXHRcdFx0dGhpcy5maXJzdCxcblx0XHRcdC4uLnRoaXMubWlkZGxlLFxuXHRcdFx0dGhpcy5sYXN0XG5cdFx0XTtcblx0fVxuXHRhc3luYyBpbnZva2UoaW5wdXQsIG9wdGlvbnMpIHtcblx0XHRjb25zdCBjb25maWcgPSBlbnN1cmVDb25maWcob3B0aW9ucyk7XG5cdFx0Y29uc3QgY2FsbGJhY2tNYW5hZ2VyXyA9IGF3YWl0IGdldENhbGxiYWNrTWFuYWdlckZvckNvbmZpZyhjb25maWcpO1xuXHRcdGNvbnN0IHJ1bk1hbmFnZXIgPSBhd2FpdCBjYWxsYmFja01hbmFnZXJfPy5oYW5kbGVDaGFpblN0YXJ0KHRoaXMudG9KU09OKCksIF9jb2VyY2VUb0RpY3QoaW5wdXQsIFwiaW5wdXRcIiksIGNvbmZpZy5ydW5JZCwgdm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgY29uZmlnPy5ydW5OYW1lKTtcblx0XHRkZWxldGUgY29uZmlnLnJ1bklkO1xuXHRcdGxldCBuZXh0U3RlcElucHV0ID0gaW5wdXQ7XG5cdFx0bGV0IGZpbmFsT3V0cHV0O1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBpbml0aWFsU3RlcHMgPSBbdGhpcy5maXJzdCwgLi4udGhpcy5taWRkbGVdO1xuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBpbml0aWFsU3RlcHMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0Y29uc3Qgc3RlcCA9IGluaXRpYWxTdGVwc1tpXTtcblx0XHRcdFx0Y29uc3QgcHJvbWlzZSA9IHN0ZXAuaW52b2tlKG5leHRTdGVwSW5wdXQsIHBhdGNoQ29uZmlnKGNvbmZpZywgeyBjYWxsYmFja3M6IHJ1bk1hbmFnZXI/LmdldENoaWxkKHRoaXMub21pdFNlcXVlbmNlVGFncyA/IHZvaWQgMCA6IGBzZXE6c3RlcDoke2kgKyAxfWApIH0pKTtcblx0XHRcdFx0bmV4dFN0ZXBJbnB1dCA9IGF3YWl0IHJhY2VXaXRoU2lnbmFsKHByb21pc2UsIG9wdGlvbnM/LnNpZ25hbCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAob3B0aW9ucz8uc2lnbmFsPy5hYm9ydGVkKSB0aHJvdyBnZXRBYm9ydFNpZ25hbEVycm9yKG9wdGlvbnMuc2lnbmFsKTtcblx0XHRcdGZpbmFsT3V0cHV0ID0gYXdhaXQgdGhpcy5sYXN0Lmludm9rZShuZXh0U3RlcElucHV0LCBwYXRjaENvbmZpZyhjb25maWcsIHsgY2FsbGJhY2tzOiBydW5NYW5hZ2VyPy5nZXRDaGlsZCh0aGlzLm9taXRTZXF1ZW5jZVRhZ3MgPyB2b2lkIDAgOiBgc2VxOnN0ZXA6JHt0aGlzLnN0ZXBzLmxlbmd0aH1gKSB9KSk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0YXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FcnJvcihlKTtcblx0XHRcdHRocm93IGU7XG5cdFx0fVxuXHRcdGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRW5kKF9jb2VyY2VUb0RpY3QoZmluYWxPdXRwdXQsIFwib3V0cHV0XCIpKTtcblx0XHRyZXR1cm4gZmluYWxPdXRwdXQ7XG5cdH1cblx0YXN5bmMgYmF0Y2goaW5wdXRzLCBvcHRpb25zLCBiYXRjaE9wdGlvbnMpIHtcblx0XHRjb25zdCBjb25maWdMaXN0ID0gdGhpcy5fZ2V0T3B0aW9uc0xpc3Qob3B0aW9ucyA/PyB7fSwgaW5wdXRzLmxlbmd0aCk7XG5cdFx0Y29uc3QgY2FsbGJhY2tNYW5hZ2VycyA9IGF3YWl0IFByb21pc2UuYWxsKGNvbmZpZ0xpc3QubWFwKGdldENhbGxiYWNrTWFuYWdlckZvckNvbmZpZykpO1xuXHRcdGNvbnN0IHJ1bk1hbmFnZXJzID0gYXdhaXQgUHJvbWlzZS5hbGwoY2FsbGJhY2tNYW5hZ2Vycy5tYXAoYXN5bmMgKGNhbGxiYWNrTWFuYWdlciwgaSkgPT4ge1xuXHRcdFx0Y29uc3QgaGFuZGxlU3RhcnRSZXMgPSBhd2FpdCBjYWxsYmFja01hbmFnZXI/LmhhbmRsZUNoYWluU3RhcnQodGhpcy50b0pTT04oKSwgX2NvZXJjZVRvRGljdChpbnB1dHNbaV0sIFwiaW5wdXRcIiksIGNvbmZpZ0xpc3RbaV0ucnVuSWQsIHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGNvbmZpZ0xpc3RbaV0ucnVuTmFtZSk7XG5cdFx0XHRkZWxldGUgY29uZmlnTGlzdFtpXS5ydW5JZDtcblx0XHRcdHJldHVybiBoYW5kbGVTdGFydFJlcztcblx0XHR9KSk7XG5cdFx0bGV0IG5leHRTdGVwSW5wdXRzID0gaW5wdXRzO1xuXHRcdHRyeSB7XG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3RlcHMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0Y29uc3Qgc3RlcCA9IHRoaXMuc3RlcHNbaV07XG5cdFx0XHRcdGNvbnN0IHByb21pc2UgPSBzdGVwLmJhdGNoKG5leHRTdGVwSW5wdXRzLCBydW5NYW5hZ2Vycy5tYXAoKHJ1bk1hbmFnZXIsIGopID0+IHtcblx0XHRcdFx0XHRjb25zdCBjaGlsZFJ1bk1hbmFnZXIgPSBydW5NYW5hZ2VyPy5nZXRDaGlsZCh0aGlzLm9taXRTZXF1ZW5jZVRhZ3MgPyB2b2lkIDAgOiBgc2VxOnN0ZXA6JHtpICsgMX1gKTtcblx0XHRcdFx0XHRyZXR1cm4gcGF0Y2hDb25maWcoY29uZmlnTGlzdFtqXSwgeyBjYWxsYmFja3M6IGNoaWxkUnVuTWFuYWdlciB9KTtcblx0XHRcdFx0fSksIGJhdGNoT3B0aW9ucyk7XG5cdFx0XHRcdG5leHRTdGVwSW5wdXRzID0gYXdhaXQgcmFjZVdpdGhTaWduYWwocHJvbWlzZSwgY29uZmlnTGlzdFswXT8uc2lnbmFsKTtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRhd2FpdCBQcm9taXNlLmFsbChydW5NYW5hZ2Vycy5tYXAoKHJ1bk1hbmFnZXIpID0+IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRXJyb3IoZSkpKTtcblx0XHRcdHRocm93IGU7XG5cdFx0fVxuXHRcdGF3YWl0IFByb21pc2UuYWxsKHJ1bk1hbmFnZXJzLm1hcCgocnVuTWFuYWdlcikgPT4gcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FbmQoX2NvZXJjZVRvRGljdChuZXh0U3RlcElucHV0cywgXCJvdXRwdXRcIikpKSk7XG5cdFx0cmV0dXJuIG5leHRTdGVwSW5wdXRzO1xuXHR9XG5cdC8qKiBAaW50ZXJuYWwgKi9cblx0X2NvbmNhdE91dHB1dENodW5rcyhmaXJzdCwgc2Vjb25kKSB7XG5cdFx0cmV0dXJuIHRoaXMubGFzdC5fY29uY2F0T3V0cHV0Q2h1bmtzKGZpcnN0LCBzZWNvbmQpO1xuXHR9XG5cdGFzeW5jICpfc3RyZWFtSXRlcmF0b3IoaW5wdXQsIG9wdGlvbnMpIHtcblx0XHRjb25zdCBjYWxsYmFja01hbmFnZXJfID0gYXdhaXQgZ2V0Q2FsbGJhY2tNYW5hZ2VyRm9yQ29uZmlnKG9wdGlvbnMpO1xuXHRcdGNvbnN0IHsgcnVuSWQsLi4ub3RoZXJPcHRpb25zIH0gPSBvcHRpb25zID8/IHt9O1xuXHRcdGNvbnN0IHJ1bk1hbmFnZXIgPSBhd2FpdCBjYWxsYmFja01hbmFnZXJfPy5oYW5kbGVDaGFpblN0YXJ0KHRoaXMudG9KU09OKCksIF9jb2VyY2VUb0RpY3QoaW5wdXQsIFwiaW5wdXRcIiksIHJ1bklkLCB2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBvdGhlck9wdGlvbnM/LnJ1bk5hbWUpO1xuXHRcdGNvbnN0IHN0ZXBzID0gW1xuXHRcdFx0dGhpcy5maXJzdCxcblx0XHRcdC4uLnRoaXMubWlkZGxlLFxuXHRcdFx0dGhpcy5sYXN0XG5cdFx0XTtcblx0XHRsZXQgY29uY2F0U3VwcG9ydGVkID0gdHJ1ZTtcblx0XHRsZXQgZmluYWxPdXRwdXQ7XG5cdFx0YXN5bmMgZnVuY3Rpb24qIGlucHV0R2VuZXJhdG9yKCkge1xuXHRcdFx0eWllbGQgaW5wdXQ7XG5cdFx0fVxuXHRcdHRyeSB7XG5cdFx0XHRsZXQgZmluYWxHZW5lcmF0b3IgPSBzdGVwc1swXS50cmFuc2Zvcm0oaW5wdXRHZW5lcmF0b3IoKSwgcGF0Y2hDb25maWcob3RoZXJPcHRpb25zLCB7IGNhbGxiYWNrczogcnVuTWFuYWdlcj8uZ2V0Q2hpbGQodGhpcy5vbWl0U2VxdWVuY2VUYWdzID8gdm9pZCAwIDogYHNlcTpzdGVwOjFgKSB9KSk7XG5cdFx0XHRmb3IgKGxldCBpID0gMTsgaSA8IHN0ZXBzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdGNvbnN0IHN0ZXAgPSBzdGVwc1tpXTtcblx0XHRcdFx0ZmluYWxHZW5lcmF0b3IgPSBhd2FpdCBzdGVwLnRyYW5zZm9ybShmaW5hbEdlbmVyYXRvciwgcGF0Y2hDb25maWcob3RoZXJPcHRpb25zLCB7IGNhbGxiYWNrczogcnVuTWFuYWdlcj8uZ2V0Q2hpbGQodGhpcy5vbWl0U2VxdWVuY2VUYWdzID8gdm9pZCAwIDogYHNlcTpzdGVwOiR7aSArIDF9YCkgfSkpO1xuXHRcdFx0fVxuXHRcdFx0Zm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBmaW5hbEdlbmVyYXRvcikge1xuXHRcdFx0XHRvcHRpb25zPy5zaWduYWw/LnRocm93SWZBYm9ydGVkKCk7XG5cdFx0XHRcdHlpZWxkIGNodW5rO1xuXHRcdFx0XHRpZiAoY29uY2F0U3VwcG9ydGVkKSBpZiAoZmluYWxPdXRwdXQgPT09IHZvaWQgMCkgZmluYWxPdXRwdXQgPSBjaHVuaztcblx0XHRcdFx0ZWxzZSB0cnkge1xuXHRcdFx0XHRcdGZpbmFsT3V0cHV0ID0gdGhpcy5fY29uY2F0T3V0cHV0Q2h1bmtzKGZpbmFsT3V0cHV0LCBjaHVuayk7XG5cdFx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHRcdGZpbmFsT3V0cHV0ID0gdm9pZCAwO1xuXHRcdFx0XHRcdGNvbmNhdFN1cHBvcnRlZCA9IGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0YXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FcnJvcihlKTtcblx0XHRcdHRocm93IGU7XG5cdFx0fVxuXHRcdGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRW5kKF9jb2VyY2VUb0RpY3QoZmluYWxPdXRwdXQsIFwib3V0cHV0XCIpKTtcblx0fVxuXHRnZXRHcmFwaChjb25maWcpIHtcblx0XHRjb25zdCBncmFwaCA9IG5ldyBHcmFwaCgpO1xuXHRcdGxldCBjdXJyZW50TGFzdE5vZGUgPSBudWxsO1xuXHRcdHRoaXMuc3RlcHMuZm9yRWFjaCgoc3RlcCwgaW5kZXgpID0+IHtcblx0XHRcdGNvbnN0IHN0ZXBHcmFwaCA9IHN0ZXAuZ2V0R3JhcGgoY29uZmlnKTtcblx0XHRcdGlmIChpbmRleCAhPT0gMCkgc3RlcEdyYXBoLnRyaW1GaXJzdE5vZGUoKTtcblx0XHRcdGlmIChpbmRleCAhPT0gdGhpcy5zdGVwcy5sZW5ndGggLSAxKSBzdGVwR3JhcGgudHJpbUxhc3ROb2RlKCk7XG5cdFx0XHRncmFwaC5leHRlbmQoc3RlcEdyYXBoKTtcblx0XHRcdGNvbnN0IHN0ZXBGaXJzdE5vZGUgPSBzdGVwR3JhcGguZmlyc3ROb2RlKCk7XG5cdFx0XHRpZiAoIXN0ZXBGaXJzdE5vZGUpIHRocm93IG5ldyBFcnJvcihgUnVubmFibGUgJHtzdGVwfSBoYXMgbm8gZmlyc3Qgbm9kZWApO1xuXHRcdFx0aWYgKGN1cnJlbnRMYXN0Tm9kZSkgZ3JhcGguYWRkRWRnZShjdXJyZW50TGFzdE5vZGUsIHN0ZXBGaXJzdE5vZGUpO1xuXHRcdFx0Y3VycmVudExhc3ROb2RlID0gc3RlcEdyYXBoLmxhc3ROb2RlKCk7XG5cdFx0fSk7XG5cdFx0cmV0dXJuIGdyYXBoO1xuXHR9XG5cdHBpcGUoY29lcmNlYWJsZSkge1xuXHRcdGlmIChSdW5uYWJsZVNlcXVlbmNlLmlzUnVubmFibGVTZXF1ZW5jZShjb2VyY2VhYmxlKSkgcmV0dXJuIG5ldyBSdW5uYWJsZVNlcXVlbmNlKHtcblx0XHRcdGZpcnN0OiB0aGlzLmZpcnN0LFxuXHRcdFx0bWlkZGxlOiB0aGlzLm1pZGRsZS5jb25jYXQoW1xuXHRcdFx0XHR0aGlzLmxhc3QsXG5cdFx0XHRcdGNvZXJjZWFibGUuZmlyc3QsXG5cdFx0XHRcdC4uLmNvZXJjZWFibGUubWlkZGxlXG5cdFx0XHRdKSxcblx0XHRcdGxhc3Q6IGNvZXJjZWFibGUubGFzdCxcblx0XHRcdG5hbWU6IHRoaXMubmFtZSA/PyBjb2VyY2VhYmxlLm5hbWVcblx0XHR9KTtcblx0XHRlbHNlIHJldHVybiBuZXcgUnVubmFibGVTZXF1ZW5jZSh7XG5cdFx0XHRmaXJzdDogdGhpcy5maXJzdCxcblx0XHRcdG1pZGRsZTogWy4uLnRoaXMubWlkZGxlLCB0aGlzLmxhc3RdLFxuXHRcdFx0bGFzdDogX2NvZXJjZVRvUnVubmFibGUoY29lcmNlYWJsZSksXG5cdFx0XHRuYW1lOiB0aGlzLm5hbWVcblx0XHR9KTtcblx0fVxuXHRzdGF0aWMgaXNSdW5uYWJsZVNlcXVlbmNlKHRoaW5nKSB7XG5cdFx0cmV0dXJuIEFycmF5LmlzQXJyYXkodGhpbmcubWlkZGxlKSAmJiBSdW5uYWJsZS5pc1J1bm5hYmxlKHRoaW5nKTtcblx0fVxuXHRzdGF0aWMgZnJvbShbZmlyc3QsIC4uLnJ1bm5hYmxlc10sIG5hbWVPckZpZWxkcykge1xuXHRcdGxldCBleHRyYSA9IHt9O1xuXHRcdGlmICh0eXBlb2YgbmFtZU9yRmllbGRzID09PSBcInN0cmluZ1wiKSBleHRyYS5uYW1lID0gbmFtZU9yRmllbGRzO1xuXHRcdGVsc2UgaWYgKG5hbWVPckZpZWxkcyAhPT0gdm9pZCAwKSBleHRyYSA9IG5hbWVPckZpZWxkcztcblx0XHRyZXR1cm4gbmV3IFJ1bm5hYmxlU2VxdWVuY2Uoe1xuXHRcdFx0Li4uZXh0cmEsXG5cdFx0XHRmaXJzdDogX2NvZXJjZVRvUnVubmFibGUoZmlyc3QpLFxuXHRcdFx0bWlkZGxlOiBydW5uYWJsZXMuc2xpY2UoMCwgLTEpLm1hcChfY29lcmNlVG9SdW5uYWJsZSksXG5cdFx0XHRsYXN0OiBfY29lcmNlVG9SdW5uYWJsZShydW5uYWJsZXNbcnVubmFibGVzLmxlbmd0aCAtIDFdKVxuXHRcdH0pO1xuXHR9XG59O1xuLyoqXG4qIEEgcnVubmFibGUgdGhhdCBydW5zIGEgbWFwcGluZyBvZiBydW5uYWJsZXMgaW4gcGFyYWxsZWwsXG4qIGFuZCByZXR1cm5zIGEgbWFwcGluZyBvZiB0aGVpciBvdXRwdXRzLlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIGNvbnN0IG1hcENoYWluID0gUnVubmFibGVNYXAuZnJvbSh7XG4qICAgam9rZTogUHJvbXB0VGVtcGxhdGUuZnJvbVRlbXBsYXRlKFwiVGVsbCBtZSBhIGpva2UgYWJvdXQge3RvcGljfVwiKS5waXBlKFxuKiAgICAgbmV3IENoYXRBbnRocm9waWMoe30pLFxuKiAgICksXG4qICAgcG9lbTogUHJvbXB0VGVtcGxhdGUuZnJvbVRlbXBsYXRlKFwid3JpdGUgYSAyLWxpbmUgcG9lbSBhYm91dCB7dG9waWN9XCIpLnBpcGUoXG4qICAgICBuZXcgQ2hhdEFudGhyb3BpYyh7fSksXG4qICAgKSxcbiogfSk7XG4qIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG1hcENoYWluLmludm9rZSh7IHRvcGljOiBcImJlYXJcIiB9KTtcbiogYGBgXG4qL1xudmFyIFJ1bm5hYmxlTWFwID0gY2xhc3MgUnVubmFibGVNYXAgZXh0ZW5kcyBSdW5uYWJsZSB7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIlJ1bm5hYmxlTWFwXCI7XG5cdH1cblx0bGNfbmFtZXNwYWNlID0gW1wibGFuZ2NoYWluX2NvcmVcIiwgXCJydW5uYWJsZXNcIl07XG5cdGxjX3NlcmlhbGl6YWJsZSA9IHRydWU7XG5cdHN0ZXBzO1xuXHRnZXRTdGVwc0tleXMoKSB7XG5cdFx0cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuc3RlcHMpO1xuXHR9XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdHN1cGVyKGZpZWxkcyk7XG5cdFx0dGhpcy5zdGVwcyA9IHt9O1xuXHRcdGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGZpZWxkcy5zdGVwcykpIHRoaXMuc3RlcHNba2V5XSA9IF9jb2VyY2VUb1J1bm5hYmxlKHZhbHVlKTtcblx0fVxuXHRzdGF0aWMgZnJvbShzdGVwcykge1xuXHRcdHJldHVybiBuZXcgUnVubmFibGVNYXAoeyBzdGVwcyB9KTtcblx0fVxuXHRhc3luYyBpbnZva2UoaW5wdXQsIG9wdGlvbnMpIHtcblx0XHRjb25zdCBjb25maWcgPSBlbnN1cmVDb25maWcob3B0aW9ucyk7XG5cdFx0Y29uc3QgY2FsbGJhY2tNYW5hZ2VyXyA9IGF3YWl0IGdldENhbGxiYWNrTWFuYWdlckZvckNvbmZpZyhjb25maWcpO1xuXHRcdGNvbnN0IHJ1bk1hbmFnZXIgPSBhd2FpdCBjYWxsYmFja01hbmFnZXJfPy5oYW5kbGVDaGFpblN0YXJ0KHRoaXMudG9KU09OKCksIHsgaW5wdXQgfSwgY29uZmlnLnJ1bklkLCB2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBjb25maWc/LnJ1bk5hbWUpO1xuXHRcdGRlbGV0ZSBjb25maWcucnVuSWQ7XG5cdFx0Y29uc3Qgb3V0cHV0ID0ge307XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHByb21pc2VzID0gT2JqZWN0LmVudHJpZXModGhpcy5zdGVwcykubWFwKGFzeW5jIChba2V5LCBydW5uYWJsZV0pID0+IHtcblx0XHRcdFx0b3V0cHV0W2tleV0gPSBhd2FpdCBydW5uYWJsZS5pbnZva2UoaW5wdXQsIHBhdGNoQ29uZmlnKGNvbmZpZywgeyBjYWxsYmFja3M6IHJ1bk1hbmFnZXI/LmdldENoaWxkKGBtYXA6a2V5OiR7a2V5fWApIH0pKTtcblx0XHRcdH0pO1xuXHRcdFx0YXdhaXQgcmFjZVdpdGhTaWduYWwoUHJvbWlzZS5hbGwocHJvbWlzZXMpLCBvcHRpb25zPy5zaWduYWwpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRXJyb3IoZSk7XG5cdFx0XHR0aHJvdyBlO1xuXHRcdH1cblx0XHRhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVDaGFpbkVuZChvdXRwdXQpO1xuXHRcdHJldHVybiBvdXRwdXQ7XG5cdH1cblx0YXN5bmMgKl90cmFuc2Zvcm0oZ2VuZXJhdG9yLCBydW5NYW5hZ2VyLCBvcHRpb25zKSB7XG5cdFx0Y29uc3Qgc3RlcHMgPSB7IC4uLnRoaXMuc3RlcHMgfTtcblx0XHRjb25zdCBpbnB1dENvcGllcyA9IGF0ZWUoZ2VuZXJhdG9yLCBPYmplY3Qua2V5cyhzdGVwcykubGVuZ3RoKTtcblx0XHRjb25zdCB0YXNrcyA9IG5ldyBNYXAoT2JqZWN0LmVudHJpZXMoc3RlcHMpLm1hcCgoW2tleSwgcnVubmFibGVdLCBpKSA9PiB7XG5cdFx0XHRjb25zdCBnZW4gPSBydW5uYWJsZS50cmFuc2Zvcm0oaW5wdXRDb3BpZXNbaV0sIHBhdGNoQ29uZmlnKG9wdGlvbnMsIHsgY2FsbGJhY2tzOiBydW5NYW5hZ2VyPy5nZXRDaGlsZChgbWFwOmtleToke2tleX1gKSB9KSk7XG5cdFx0XHRyZXR1cm4gW2tleSwgZ2VuLm5leHQoKS50aGVuKChyZXN1bHQpID0+ICh7XG5cdFx0XHRcdGtleSxcblx0XHRcdFx0Z2VuLFxuXHRcdFx0XHRyZXN1bHRcblx0XHRcdH0pKV07XG5cdFx0fSkpO1xuXHRcdHdoaWxlICh0YXNrcy5zaXplKSB7XG5cdFx0XHRjb25zdCBwcm9taXNlID0gUHJvbWlzZS5yYWNlKHRhc2tzLnZhbHVlcygpKTtcblx0XHRcdGNvbnN0IHsga2V5LCByZXN1bHQsIGdlbiB9ID0gYXdhaXQgcmFjZVdpdGhTaWduYWwocHJvbWlzZSwgb3B0aW9ucz8uc2lnbmFsKTtcblx0XHRcdHRhc2tzLmRlbGV0ZShrZXkpO1xuXHRcdFx0aWYgKCFyZXN1bHQuZG9uZSkge1xuXHRcdFx0XHR5aWVsZCB7IFtrZXldOiByZXN1bHQudmFsdWUgfTtcblx0XHRcdFx0dGFza3Muc2V0KGtleSwgZ2VuLm5leHQoKS50aGVuKChyZXN1bHQkMSkgPT4gKHtcblx0XHRcdFx0XHRrZXksXG5cdFx0XHRcdFx0Z2VuLFxuXHRcdFx0XHRcdHJlc3VsdDogcmVzdWx0JDFcblx0XHRcdFx0fSkpKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0dHJhbnNmb3JtKGdlbmVyYXRvciwgb3B0aW9ucykge1xuXHRcdHJldHVybiB0aGlzLl90cmFuc2Zvcm1TdHJlYW1XaXRoQ29uZmlnKGdlbmVyYXRvciwgdGhpcy5fdHJhbnNmb3JtLmJpbmQodGhpcyksIG9wdGlvbnMpO1xuXHR9XG5cdGFzeW5jIHN0cmVhbShpbnB1dCwgb3B0aW9ucykge1xuXHRcdGFzeW5jIGZ1bmN0aW9uKiBnZW5lcmF0b3IoKSB7XG5cdFx0XHR5aWVsZCBpbnB1dDtcblx0XHR9XG5cdFx0Y29uc3QgY29uZmlnID0gZW5zdXJlQ29uZmlnKG9wdGlvbnMpO1xuXHRcdGNvbnN0IHdyYXBwZWRHZW5lcmF0b3IgPSBuZXcgQXN5bmNHZW5lcmF0b3JXaXRoU2V0dXAoe1xuXHRcdFx0Z2VuZXJhdG9yOiB0aGlzLnRyYW5zZm9ybShnZW5lcmF0b3IoKSwgY29uZmlnKSxcblx0XHRcdGNvbmZpZ1xuXHRcdH0pO1xuXHRcdGF3YWl0IHdyYXBwZWRHZW5lcmF0b3Iuc2V0dXA7XG5cdFx0cmV0dXJuIEl0ZXJhYmxlUmVhZGFibGVTdHJlYW0uZnJvbUFzeW5jR2VuZXJhdG9yKHdyYXBwZWRHZW5lcmF0b3IpO1xuXHR9XG59O1xuLyoqXG4qIEEgcnVubmFibGUgdGhhdCB3cmFwcyBhIHRyYWNlZCBMYW5nU21pdGggZnVuY3Rpb24uXG4qL1xudmFyIFJ1bm5hYmxlVHJhY2VhYmxlID0gY2xhc3MgUnVubmFibGVUcmFjZWFibGUgZXh0ZW5kcyBSdW5uYWJsZSB7XG5cdGxjX3NlcmlhbGl6YWJsZSA9IGZhbHNlO1xuXHRsY19uYW1lc3BhY2UgPSBbXCJsYW5nY2hhaW5fY29yZVwiLCBcInJ1bm5hYmxlc1wiXTtcblx0ZnVuYztcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHRpZiAoIWlzVHJhY2VhYmxlRnVuY3Rpb24oZmllbGRzLmZ1bmMpKSB0aHJvdyBuZXcgRXJyb3IoXCJSdW5uYWJsZVRyYWNlYWJsZSByZXF1aXJlcyBhIGZ1bmN0aW9uIHRoYXQgaXMgd3JhcHBlZCBpbiB0cmFjZWFibGUgaGlnaGVyLW9yZGVyIGZ1bmN0aW9uXCIpO1xuXHRcdHRoaXMuZnVuYyA9IGZpZWxkcy5mdW5jO1xuXHR9XG5cdGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuXHRcdGNvbnN0IFtjb25maWddID0gdGhpcy5fZ2V0T3B0aW9uc0xpc3Qob3B0aW9ucyA/PyB7fSwgMSk7XG5cdFx0Y29uc3QgY2FsbGJhY2tzID0gYXdhaXQgZ2V0Q2FsbGJhY2tNYW5hZ2VyRm9yQ29uZmlnKGNvbmZpZyk7XG5cdFx0Y29uc3QgcHJvbWlzZSA9IHRoaXMuZnVuYyhwYXRjaENvbmZpZyhjb25maWcsIHsgY2FsbGJhY2tzIH0pLCBpbnB1dCk7XG5cdFx0cmV0dXJuIHJhY2VXaXRoU2lnbmFsKHByb21pc2UsIGNvbmZpZz8uc2lnbmFsKTtcblx0fVxuXHRhc3luYyAqX3N0cmVhbUl0ZXJhdG9yKGlucHV0LCBvcHRpb25zKSB7XG5cdFx0Y29uc3QgW2NvbmZpZ10gPSB0aGlzLl9nZXRPcHRpb25zTGlzdChvcHRpb25zID8/IHt9LCAxKTtcblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmludm9rZShpbnB1dCwgb3B0aW9ucyk7XG5cdFx0aWYgKGlzQXN5bmNJdGVyYWJsZShyZXN1bHQpKSB7XG5cdFx0XHRmb3IgYXdhaXQgKGNvbnN0IGl0ZW0gb2YgcmVzdWx0KSB7XG5cdFx0XHRcdGNvbmZpZz8uc2lnbmFsPy50aHJvd0lmQWJvcnRlZCgpO1xuXHRcdFx0XHR5aWVsZCBpdGVtO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAoaXNJdGVyYXRvcihyZXN1bHQpKSB7XG5cdFx0XHR3aGlsZSAodHJ1ZSkge1xuXHRcdFx0XHRjb25maWc/LnNpZ25hbD8udGhyb3dJZkFib3J0ZWQoKTtcblx0XHRcdFx0Y29uc3Qgc3RhdGUgPSByZXN1bHQubmV4dCgpO1xuXHRcdFx0XHRpZiAoc3RhdGUuZG9uZSkgYnJlYWs7XG5cdFx0XHRcdHlpZWxkIHN0YXRlLnZhbHVlO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHR5aWVsZCByZXN1bHQ7XG5cdH1cblx0c3RhdGljIGZyb20oZnVuYykge1xuXHRcdHJldHVybiBuZXcgUnVubmFibGVUcmFjZWFibGUoeyBmdW5jIH0pO1xuXHR9XG59O1xuZnVuY3Rpb24gYXNzZXJ0Tm9uVHJhY2VhYmxlRnVuY3Rpb24oZnVuYykge1xuXHRpZiAoaXNUcmFjZWFibGVGdW5jdGlvbihmdW5jKSkgdGhyb3cgbmV3IEVycm9yKFwiUnVubmFibGVMYW1iZGEgcmVxdWlyZXMgYSBmdW5jdGlvbiB0aGF0IGlzIG5vdCB3cmFwcGVkIGluIHRyYWNlYWJsZSBoaWdoZXItb3JkZXIgZnVuY3Rpb24uIFRoaXMgc2hvdWxkbid0IGhhcHBlbi5cIik7XG59XG4vKipcbiogQSBydW5uYWJsZSB0aGF0IHdyYXBzIGFuIGFyYml0cmFyeSBmdW5jdGlvbiB0aGF0IHRha2VzIGEgc2luZ2xlIGFyZ3VtZW50LlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIGltcG9ydCB7IFJ1bm5hYmxlTGFtYmRhIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9ydW5uYWJsZXNcIjtcbipcbiogY29uc3QgYWRkID0gKGlucHV0OiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0pID0+IGlucHV0LnggKyBpbnB1dC55O1xuKlxuKiBjb25zdCBtdWx0aXBseSA9IChpbnB1dDogeyB2YWx1ZTogbnVtYmVyOyBtdWx0aXBsaWVyOiBudW1iZXIgfSkgPT5cbiogICBpbnB1dC52YWx1ZSAqIGlucHV0Lm11bHRpcGxpZXI7XG4qXG4qIC8vIENyZWF0ZSBydW5uYWJsZXMgZm9yIHRoZSBmdW5jdGlvbnNcbiogY29uc3QgYWRkTGFtYmRhID0gUnVubmFibGVMYW1iZGEuZnJvbShhZGQpO1xuKiBjb25zdCBtdWx0aXBseUxhbWJkYSA9IFJ1bm5hYmxlTGFtYmRhLmZyb20obXVsdGlwbHkpO1xuKlxuKiAvLyBDaGFpbiB0aGUgbGFtYmRhcyBmb3IgYSBtYXRoZW1hdGljYWwgb3BlcmF0aW9uXG4qIGNvbnN0IGNoYWluZWRMYW1iZGEgPSBhZGRMYW1iZGEucGlwZSgocmVzdWx0KSA9PlxuKiAgIG11bHRpcGx5TGFtYmRhLmludm9rZSh7IHZhbHVlOiByZXN1bHQsIG11bHRpcGxpZXI6IDIgfSlcbiogKTtcbipcbiogLy8gRXhhbXBsZSBpbnZvY2F0aW9uIG9mIHRoZSBjaGFpbmVkTGFtYmRhXG4qIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNoYWluZWRMYW1iZGEuaW52b2tlKHsgeDogMiwgeTogMyB9KTtcbipcbiogLy8gV2lsbCBsb2cgXCIxMFwiIChzaW5jZSAoMiArIDMpICogMiA9IDEwKVxuKiBgYGBcbiovXG52YXIgUnVubmFibGVMYW1iZGEgPSBjbGFzcyBSdW5uYWJsZUxhbWJkYSBleHRlbmRzIFJ1bm5hYmxlIHtcblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiUnVubmFibGVMYW1iZGFcIjtcblx0fVxuXHRsY19uYW1lc3BhY2UgPSBbXCJsYW5nY2hhaW5fY29yZVwiLCBcInJ1bm5hYmxlc1wiXTtcblx0ZnVuYztcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0aWYgKGlzVHJhY2VhYmxlRnVuY3Rpb24oZmllbGRzLmZ1bmMpKSByZXR1cm4gUnVubmFibGVUcmFjZWFibGUuZnJvbShmaWVsZHMuZnVuYyk7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHRhc3NlcnROb25UcmFjZWFibGVGdW5jdGlvbihmaWVsZHMuZnVuYyk7XG5cdFx0dGhpcy5mdW5jID0gZmllbGRzLmZ1bmM7XG5cdH1cblx0c3RhdGljIGZyb20oZnVuYykge1xuXHRcdHJldHVybiBuZXcgUnVubmFibGVMYW1iZGEoeyBmdW5jIH0pO1xuXHR9XG5cdGFzeW5jIF9pbnZva2UoaW5wdXQsIGNvbmZpZywgcnVuTWFuYWdlcikge1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRjb25zdCBjaGlsZENvbmZpZyA9IHBhdGNoQ29uZmlnKGNvbmZpZywge1xuXHRcdFx0XHRjYWxsYmFja3M6IHJ1bk1hbmFnZXI/LmdldENoaWxkKCksXG5cdFx0XHRcdHJlY3Vyc2lvbkxpbWl0OiAoY29uZmlnPy5yZWN1cnNpb25MaW1pdCA/PyBERUZBVUxUX1JFQ1VSU0lPTl9MSU1JVCkgLSAxXG5cdFx0XHR9KTtcblx0XHRcdEFzeW5jTG9jYWxTdG9yYWdlUHJvdmlkZXJTaW5nbGV0b24ucnVuV2l0aENvbmZpZyhwaWNrUnVubmFibGVDb25maWdLZXlzKGNoaWxkQ29uZmlnKSwgYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGxldCBvdXRwdXQgPSBhd2FpdCB0aGlzLmZ1bmMoaW5wdXQsIHsgLi4uY2hpbGRDb25maWcgfSk7XG5cdFx0XHRcdFx0aWYgKG91dHB1dCAmJiBSdW5uYWJsZS5pc1J1bm5hYmxlKG91dHB1dCkpIHtcblx0XHRcdFx0XHRcdGlmIChjb25maWc/LnJlY3Vyc2lvbkxpbWl0ID09PSAwKSB0aHJvdyBuZXcgRXJyb3IoXCJSZWN1cnNpb24gbGltaXQgcmVhY2hlZC5cIik7XG5cdFx0XHRcdFx0XHRvdXRwdXQgPSBhd2FpdCBvdXRwdXQuaW52b2tlKGlucHV0LCB7XG5cdFx0XHRcdFx0XHRcdC4uLmNoaWxkQ29uZmlnLFxuXHRcdFx0XHRcdFx0XHRyZWN1cnNpb25MaW1pdDogKGNoaWxkQ29uZmlnLnJlY3Vyc2lvbkxpbWl0ID8/IERFRkFVTFRfUkVDVVJTSU9OX0xJTUlUKSAtIDFcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoaXNBc3luY0l0ZXJhYmxlKG91dHB1dCkpIHtcblx0XHRcdFx0XHRcdGxldCBmaW5hbE91dHB1dDtcblx0XHRcdFx0XHRcdGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgY29uc3VtZUFzeW5jSXRlcmFibGVJbkNvbnRleHQoY2hpbGRDb25maWcsIG91dHB1dCkpIHtcblx0XHRcdFx0XHRcdFx0Y29uZmlnPy5zaWduYWw/LnRocm93SWZBYm9ydGVkKCk7XG5cdFx0XHRcdFx0XHRcdGlmIChmaW5hbE91dHB1dCA9PT0gdm9pZCAwKSBmaW5hbE91dHB1dCA9IGNodW5rO1xuXHRcdFx0XHRcdFx0XHRlbHNlIHRyeSB7XG5cdFx0XHRcdFx0XHRcdFx0ZmluYWxPdXRwdXQgPSB0aGlzLl9jb25jYXRPdXRwdXRDaHVua3MoZmluYWxPdXRwdXQsIGNodW5rKTtcblx0XHRcdFx0XHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdFx0XHRcdFx0ZmluYWxPdXRwdXQgPSBjaHVuaztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0b3V0cHV0ID0gZmluYWxPdXRwdXQ7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChpc0l0ZXJhYmxlSXRlcmF0b3Iob3V0cHV0KSkge1xuXHRcdFx0XHRcdFx0bGV0IGZpbmFsT3V0cHV0O1xuXHRcdFx0XHRcdFx0Zm9yIChjb25zdCBjaHVuayBvZiBjb25zdW1lSXRlcmF0b3JJbkNvbnRleHQoY2hpbGRDb25maWcsIG91dHB1dCkpIHtcblx0XHRcdFx0XHRcdFx0Y29uZmlnPy5zaWduYWw/LnRocm93SWZBYm9ydGVkKCk7XG5cdFx0XHRcdFx0XHRcdGlmIChmaW5hbE91dHB1dCA9PT0gdm9pZCAwKSBmaW5hbE91dHB1dCA9IGNodW5rO1xuXHRcdFx0XHRcdFx0XHRlbHNlIHRyeSB7XG5cdFx0XHRcdFx0XHRcdFx0ZmluYWxPdXRwdXQgPSB0aGlzLl9jb25jYXRPdXRwdXRDaHVua3MoZmluYWxPdXRwdXQsIGNodW5rKTtcblx0XHRcdFx0XHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdFx0XHRcdFx0ZmluYWxPdXRwdXQgPSBjaHVuaztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0b3V0cHV0ID0gZmluYWxPdXRwdXQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJlc29sdmUob3V0cHV0KTtcblx0XHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRcdHJlamVjdChlKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblx0YXN5bmMgaW52b2tlKGlucHV0LCBvcHRpb25zKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2NhbGxXaXRoQ29uZmlnKHRoaXMuX2ludm9rZS5iaW5kKHRoaXMpLCBpbnB1dCwgb3B0aW9ucyk7XG5cdH1cblx0YXN5bmMgKl90cmFuc2Zvcm0oZ2VuZXJhdG9yLCBydW5NYW5hZ2VyLCBjb25maWcpIHtcblx0XHRsZXQgZmluYWxDaHVuaztcblx0XHRmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIGdlbmVyYXRvcikgaWYgKGZpbmFsQ2h1bmsgPT09IHZvaWQgMCkgZmluYWxDaHVuayA9IGNodW5rO1xuXHRcdGVsc2UgdHJ5IHtcblx0XHRcdGZpbmFsQ2h1bmsgPSB0aGlzLl9jb25jYXRPdXRwdXRDaHVua3MoZmluYWxDaHVuaywgY2h1bmspO1xuXHRcdH0gY2F0Y2gge1xuXHRcdFx0ZmluYWxDaHVuayA9IGNodW5rO1xuXHRcdH1cblx0XHRjb25zdCBjaGlsZENvbmZpZyA9IHBhdGNoQ29uZmlnKGNvbmZpZywge1xuXHRcdFx0Y2FsbGJhY2tzOiBydW5NYW5hZ2VyPy5nZXRDaGlsZCgpLFxuXHRcdFx0cmVjdXJzaW9uTGltaXQ6IChjb25maWc/LnJlY3Vyc2lvbkxpbWl0ID8/IERFRkFVTFRfUkVDVVJTSU9OX0xJTUlUKSAtIDFcblx0XHR9KTtcblx0XHRjb25zdCBvdXRwdXQgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRBc3luY0xvY2FsU3RvcmFnZVByb3ZpZGVyU2luZ2xldG9uLnJ1bldpdGhDb25maWcocGlja1J1bm5hYmxlQ29uZmlnS2V5cyhjaGlsZENvbmZpZyksIGFzeW5jICgpID0+IHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRjb25zdCByZXMgPSBhd2FpdCB0aGlzLmZ1bmMoZmluYWxDaHVuaywge1xuXHRcdFx0XHRcdFx0Li4uY2hpbGRDb25maWcsXG5cdFx0XHRcdFx0XHRjb25maWc6IGNoaWxkQ29uZmlnXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0cmVzb2x2ZShyZXMpO1xuXHRcdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdFx0cmVqZWN0KGUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0XHRpZiAob3V0cHV0ICYmIFJ1bm5hYmxlLmlzUnVubmFibGUob3V0cHV0KSkge1xuXHRcdFx0aWYgKGNvbmZpZz8ucmVjdXJzaW9uTGltaXQgPT09IDApIHRocm93IG5ldyBFcnJvcihcIlJlY3Vyc2lvbiBsaW1pdCByZWFjaGVkLlwiKTtcblx0XHRcdGNvbnN0IHN0cmVhbSA9IGF3YWl0IG91dHB1dC5zdHJlYW0oZmluYWxDaHVuaywgY2hpbGRDb25maWcpO1xuXHRcdFx0Zm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBzdHJlYW0pIHlpZWxkIGNodW5rO1xuXHRcdH0gZWxzZSBpZiAoaXNBc3luY0l0ZXJhYmxlKG91dHB1dCkpIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgY29uc3VtZUFzeW5jSXRlcmFibGVJbkNvbnRleHQoY2hpbGRDb25maWcsIG91dHB1dCkpIHtcblx0XHRcdGNvbmZpZz8uc2lnbmFsPy50aHJvd0lmQWJvcnRlZCgpO1xuXHRcdFx0eWllbGQgY2h1bms7XG5cdFx0fVxuXHRcdGVsc2UgaWYgKGlzSXRlcmFibGVJdGVyYXRvcihvdXRwdXQpKSBmb3IgKGNvbnN0IGNodW5rIG9mIGNvbnN1bWVJdGVyYXRvckluQ29udGV4dChjaGlsZENvbmZpZywgb3V0cHV0KSkge1xuXHRcdFx0Y29uZmlnPy5zaWduYWw/LnRocm93SWZBYm9ydGVkKCk7XG5cdFx0XHR5aWVsZCBjaHVuaztcblx0XHR9XG5cdFx0ZWxzZSB5aWVsZCBvdXRwdXQ7XG5cdH1cblx0dHJhbnNmb3JtKGdlbmVyYXRvciwgb3B0aW9ucykge1xuXHRcdHJldHVybiB0aGlzLl90cmFuc2Zvcm1TdHJlYW1XaXRoQ29uZmlnKGdlbmVyYXRvciwgdGhpcy5fdHJhbnNmb3JtLmJpbmQodGhpcyksIG9wdGlvbnMpO1xuXHR9XG5cdGFzeW5jIHN0cmVhbShpbnB1dCwgb3B0aW9ucykge1xuXHRcdGFzeW5jIGZ1bmN0aW9uKiBnZW5lcmF0b3IoKSB7XG5cdFx0XHR5aWVsZCBpbnB1dDtcblx0XHR9XG5cdFx0Y29uc3QgY29uZmlnID0gZW5zdXJlQ29uZmlnKG9wdGlvbnMpO1xuXHRcdGNvbnN0IHdyYXBwZWRHZW5lcmF0b3IgPSBuZXcgQXN5bmNHZW5lcmF0b3JXaXRoU2V0dXAoe1xuXHRcdFx0Z2VuZXJhdG9yOiB0aGlzLnRyYW5zZm9ybShnZW5lcmF0b3IoKSwgY29uZmlnKSxcblx0XHRcdGNvbmZpZ1xuXHRcdH0pO1xuXHRcdGF3YWl0IHdyYXBwZWRHZW5lcmF0b3Iuc2V0dXA7XG5cdFx0cmV0dXJuIEl0ZXJhYmxlUmVhZGFibGVTdHJlYW0uZnJvbUFzeW5jR2VuZXJhdG9yKHdyYXBwZWRHZW5lcmF0b3IpO1xuXHR9XG59O1xuLyoqXG4qIEEgcnVubmFibGUgdGhhdCBydW5zIGEgbWFwcGluZyBvZiBydW5uYWJsZXMgaW4gcGFyYWxsZWwsXG4qIGFuZCByZXR1cm5zIGEgbWFwcGluZyBvZiB0aGVpciBvdXRwdXRzLlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIGltcG9ydCB7XG4qICAgUnVubmFibGVMYW1iZGEsXG4qICAgUnVubmFibGVQYXJhbGxlbCxcbiogfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3J1bm5hYmxlc1wiO1xuKlxuKiBjb25zdCBhZGRZZWFycyA9IChhZ2U6IG51bWJlcik6IG51bWJlciA9PiBhZ2UgKyA1O1xuKiBjb25zdCB5ZWFyc1RvRmlmdHkgPSAoYWdlOiBudW1iZXIpOiBudW1iZXIgPT4gNTAgLSBhZ2U7XG4qIGNvbnN0IHllYXJzVG9IdW5kcmVkID0gKGFnZTogbnVtYmVyKTogbnVtYmVyID0+IDEwMCAtIGFnZTtcbipcbiogY29uc3QgYWRkWWVhcnNMYW1iZGEgPSBSdW5uYWJsZUxhbWJkYS5mcm9tKGFkZFllYXJzKTtcbiogY29uc3QgbWlsZXN0b25lRmlmdHlMYW1iZGEgPSBSdW5uYWJsZUxhbWJkYS5mcm9tKHllYXJzVG9GaWZ0eSk7XG4qIGNvbnN0IG1pbGVzdG9uZUh1bmRyZWRMYW1iZGEgPSBSdW5uYWJsZUxhbWJkYS5mcm9tKHllYXJzVG9IdW5kcmVkKTtcbipcbiogLy8gUGlwZSB3aWxsIGNvZXJjZSBvYmplY3RzIGludG8gUnVubmFibGVQYXJhbGxlbCBieSBkZWZhdWx0LCBidXQgd2VcbiogLy8gZXhwbGljaXRseSBpbnN0YW50aWF0ZSBvbmUgaGVyZSB0byBkZW1vbnN0cmF0ZVxuKiBjb25zdCBzZXF1ZW5jZSA9IGFkZFllYXJzTGFtYmRhLnBpcGUoXG4qICAgUnVubmFibGVQYXJhbGxlbC5mcm9tKHtcbiogICAgIHllYXJzX3RvX2ZpZnR5OiBtaWxlc3RvbmVGaWZ0eUxhbWJkYSxcbiogICAgIHllYXJzX3RvX2h1bmRyZWQ6IG1pbGVzdG9uZUh1bmRyZWRMYW1iZGEsXG4qICAgfSlcbiogKTtcbipcbiogLy8gSW52b2tlIHRoZSBzZXF1ZW5jZSB3aXRoIGEgc2luZ2xlIGFnZSBpbnB1dFxuKiBjb25zdCByZXMgPSBhd2FpdCBzZXF1ZW5jZS5pbnZva2UoMjUpO1xuKlxuKiAvLyB7IHllYXJzX3RvX2ZpZnR5OiAyMCwgeWVhcnNfdG9faHVuZHJlZDogNzAgfVxuKiBgYGBcbiovXG52YXIgUnVubmFibGVQYXJhbGxlbCA9IGNsYXNzIGV4dGVuZHMgUnVubmFibGVNYXAge307XG4vKipcbiogQSBSdW5uYWJsZSB0aGF0IGNhbiBmYWxsYmFjayB0byBvdGhlciBSdW5uYWJsZXMgaWYgaXQgZmFpbHMuXG4qIEV4dGVybmFsIEFQSXMgKGUuZy4sIEFQSXMgZm9yIGEgbGFuZ3VhZ2UgbW9kZWwpIG1heSBhdCB0aW1lcyBleHBlcmllbmNlXG4qIGRlZ3JhZGVkIHBlcmZvcm1hbmNlIG9yIGV2ZW4gZG93bnRpbWUuXG4qXG4qIEluIHRoZXNlIGNhc2VzLCBpdCBjYW4gYmUgdXNlZnVsIHRvIGhhdmUgYSBmYWxsYmFjayBSdW5uYWJsZSB0aGF0IGNhbiBiZVxuKiB1c2VkIGluIHBsYWNlIG9mIHRoZSBvcmlnaW5hbCBSdW5uYWJsZSAoZS5nLiwgZmFsbGJhY2sgdG8gYW5vdGhlciBMTE0gcHJvdmlkZXIpLlxuKlxuKiBGYWxsYmFja3MgY2FuIGJlIGRlZmluZWQgYXQgdGhlIGxldmVsIG9mIGEgc2luZ2xlIFJ1bm5hYmxlLCBvciBhdCB0aGUgbGV2ZWxcbiogb2YgYSBjaGFpbiBvZiBSdW5uYWJsZXMuIEZhbGxiYWNrcyBhcmUgdHJpZWQgaW4gb3JkZXIgdW50aWwgb25lIHN1Y2NlZWRzIG9yXG4qIGFsbCBmYWlsLlxuKlxuKiBXaGlsZSB5b3UgY2FuIGluc3RhbnRpYXRlIGEgYFJ1bm5hYmxlV2l0aEZhbGxiYWNrc2AgZGlyZWN0bHksIGl0IGlzIHVzdWFsbHlcbiogbW9yZSBjb252ZW5pZW50IHRvIHVzZSB0aGUgYHdpdGhGYWxsYmFja3NgIG1ldGhvZCBvbiBhbiBleGlzdGluZyBSdW5uYWJsZS5cbipcbiogV2hlbiBzdHJlYW1pbmcsIGZhbGxiYWNrcyB3aWxsIG9ubHkgYmUgY2FsbGVkIG9uIGZhaWx1cmVzIGR1cmluZyB0aGUgaW5pdGlhbFxuKiBzdHJlYW0gY3JlYXRpb24uIEVycm9ycyB0aGF0IG9jY3VyIGFmdGVyIGEgc3RyZWFtIHN0YXJ0cyB3aWxsIG5vdCBmYWxsYmFja1xuKiB0byB0aGUgbmV4dCBSdW5uYWJsZS5cbipcbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiBpbXBvcnQge1xuKiAgIFJ1bm5hYmxlTGFtYmRhLFxuKiAgIFJ1bm5hYmxlV2l0aEZhbGxiYWNrcyxcbiogfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3J1bm5hYmxlc1wiO1xuKlxuKiBjb25zdCBwcmltYXJ5T3BlcmF0aW9uID0gKGlucHV0OiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuKiAgIGlmIChpbnB1dCAhPT0gXCJzYWZlXCIpIHtcbiogICAgIHRocm93IG5ldyBFcnJvcihcIlByaW1hcnkgb3BlcmF0aW9uIGZhaWxlZCBkdWUgdG8gdW5zYWZlIGlucHV0XCIpO1xuKiAgIH1cbiogICByZXR1cm4gYFByb2Nlc3NlZDogJHtpbnB1dH1gO1xuKiB9O1xuKlxuKiAvLyBEZWZpbmUgYSBmYWxsYmFjayBvcGVyYXRpb24gdGhhdCBwcm9jZXNzZXMgdGhlIGlucHV0IGRpZmZlcmVudGx5XG4qIGNvbnN0IGZhbGxiYWNrT3BlcmF0aW9uID0gKGlucHV0OiBzdHJpbmcpOiBzdHJpbmcgPT5cbiogICBgRmFsbGJhY2sgcHJvY2Vzc2VkOiAke2lucHV0fWA7XG4qXG4qIGNvbnN0IHByaW1hcnlSdW5uYWJsZSA9IFJ1bm5hYmxlTGFtYmRhLmZyb20ocHJpbWFyeU9wZXJhdGlvbik7XG4qIGNvbnN0IGZhbGxiYWNrUnVubmFibGUgPSBSdW5uYWJsZUxhbWJkYS5mcm9tKGZhbGxiYWNrT3BlcmF0aW9uKTtcbipcbiogLy8gQXBwbHkgdGhlIGZhbGxiYWNrIGxvZ2ljIHVzaW5nIHRoZSAud2l0aEZhbGxiYWNrcygpIG1ldGhvZFxuKiBjb25zdCBydW5uYWJsZVdpdGhGYWxsYmFjayA9IHByaW1hcnlSdW5uYWJsZS53aXRoRmFsbGJhY2tzKFtmYWxsYmFja1J1bm5hYmxlXSk7XG4qXG4qIC8vIEFsdGVybmF0aXZlbHksIGNyZWF0ZSBhIFJ1bm5hYmxlV2l0aEZhbGxiYWNrcyBpbnN0YW5jZSBtYW51YWxseVxuKiBjb25zdCBtYW51YWxGYWxsYmFja0NoYWluID0gbmV3IFJ1bm5hYmxlV2l0aEZhbGxiYWNrcyh7XG4qICAgcnVubmFibGU6IHByaW1hcnlSdW5uYWJsZSxcbiogICBmYWxsYmFja3M6IFtmYWxsYmFja1J1bm5hYmxlXSxcbiogfSk7XG4qXG4qIC8vIEV4YW1wbGUgaW52b2NhdGlvbiB1c2luZyAud2l0aEZhbGxiYWNrcygpXG4qIGNvbnN0IHJlcyA9IGF3YWl0IHJ1bm5hYmxlV2l0aEZhbGxiYWNrXG4qICAgLmludm9rZShcInVuc2FmZSBpbnB1dFwiKVxuKiAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiogICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgYWZ0ZXIgYWxsIGF0dGVtcHRzOlwiLCBlcnJvci5tZXNzYWdlKTtcbiogICB9KTtcbipcbiogLy8gXCJGYWxsYmFjayBwcm9jZXNzZWQ6IHVuc2FmZSBpbnB1dFwiXG4qXG4qIC8vIEV4YW1wbGUgaW52b2NhdGlvbiB1c2luZyBtYW51YWwgaW5zdGFudGlhdGlvblxuKiBjb25zdCByZXMgPSBhd2FpdCBtYW51YWxGYWxsYmFja0NoYWluXG4qICAgLmludm9rZShcInNhZmVcIilcbiogICAuY2F0Y2goKGVycm9yKSA9PiB7XG4qICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIGFmdGVyIGFsbCBhdHRlbXB0czpcIiwgZXJyb3IubWVzc2FnZSk7XG4qICAgfSk7XG4qXG4qIC8vIFwiUHJvY2Vzc2VkOiBzYWZlXCJcbiogYGBgXG4qL1xudmFyIFJ1bm5hYmxlV2l0aEZhbGxiYWNrcyA9IGNsYXNzIGV4dGVuZHMgUnVubmFibGUge1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJSdW5uYWJsZVdpdGhGYWxsYmFja3NcIjtcblx0fVxuXHRsY19uYW1lc3BhY2UgPSBbXCJsYW5nY2hhaW5fY29yZVwiLCBcInJ1bm5hYmxlc1wiXTtcblx0bGNfc2VyaWFsaXphYmxlID0gdHJ1ZTtcblx0cnVubmFibGU7XG5cdGZhbGxiYWNrcztcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLnJ1bm5hYmxlID0gZmllbGRzLnJ1bm5hYmxlO1xuXHRcdHRoaXMuZmFsbGJhY2tzID0gZmllbGRzLmZhbGxiYWNrcztcblx0fVxuXHQqcnVubmFibGVzKCkge1xuXHRcdHlpZWxkIHRoaXMucnVubmFibGU7XG5cdFx0Zm9yIChjb25zdCBmYWxsYmFjayBvZiB0aGlzLmZhbGxiYWNrcykgeWllbGQgZmFsbGJhY2s7XG5cdH1cblx0YXN5bmMgaW52b2tlKGlucHV0LCBvcHRpb25zKSB7XG5cdFx0Y29uc3QgY29uZmlnID0gZW5zdXJlQ29uZmlnKG9wdGlvbnMpO1xuXHRcdGNvbnN0IGNhbGxiYWNrTWFuYWdlcl8gPSBhd2FpdCBnZXRDYWxsYmFja01hbmFnZXJGb3JDb25maWcoY29uZmlnKTtcblx0XHRjb25zdCB7IHJ1bklkLC4uLm90aGVyQ29uZmlnRmllbGRzIH0gPSBjb25maWc7XG5cdFx0Y29uc3QgcnVuTWFuYWdlciA9IGF3YWl0IGNhbGxiYWNrTWFuYWdlcl8/LmhhbmRsZUNoYWluU3RhcnQodGhpcy50b0pTT04oKSwgX2NvZXJjZVRvRGljdChpbnB1dCwgXCJpbnB1dFwiKSwgcnVuSWQsIHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIG90aGVyQ29uZmlnRmllbGRzPy5ydW5OYW1lKTtcblx0XHRjb25zdCBjaGlsZENvbmZpZyA9IHBhdGNoQ29uZmlnKG90aGVyQ29uZmlnRmllbGRzLCB7IGNhbGxiYWNrczogcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoKSB9KTtcblx0XHRjb25zdCByZXMgPSBhd2FpdCBBc3luY0xvY2FsU3RvcmFnZVByb3ZpZGVyU2luZ2xldG9uLnJ1bldpdGhDb25maWcoY2hpbGRDb25maWcsIGFzeW5jICgpID0+IHtcblx0XHRcdGxldCBmaXJzdEVycm9yO1xuXHRcdFx0Zm9yIChjb25zdCBydW5uYWJsZSBvZiB0aGlzLnJ1bm5hYmxlcygpKSB7XG5cdFx0XHRcdGNvbmZpZz8uc2lnbmFsPy50aHJvd0lmQWJvcnRlZCgpO1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGNvbnN0IG91dHB1dCA9IGF3YWl0IHJ1bm5hYmxlLmludm9rZShpbnB1dCwgY2hpbGRDb25maWcpO1xuXHRcdFx0XHRcdGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRW5kKF9jb2VyY2VUb0RpY3Qob3V0cHV0LCBcIm91dHB1dFwiKSk7XG5cdFx0XHRcdFx0cmV0dXJuIG91dHB1dDtcblx0XHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRcdGlmIChmaXJzdEVycm9yID09PSB2b2lkIDApIGZpcnN0RXJyb3IgPSBlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAoZmlyc3RFcnJvciA9PT0gdm9pZCAwKSB0aHJvdyBuZXcgRXJyb3IoXCJObyBlcnJvciBzdG9yZWQgYXQgZW5kIG9mIGZhbGxiYWNrLlwiKTtcblx0XHRcdGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRXJyb3IoZmlyc3RFcnJvcik7XG5cdFx0XHR0aHJvdyBmaXJzdEVycm9yO1xuXHRcdH0pO1xuXHRcdHJldHVybiByZXM7XG5cdH1cblx0YXN5bmMgKl9zdHJlYW1JdGVyYXRvcihpbnB1dCwgb3B0aW9ucykge1xuXHRcdGNvbnN0IGNvbmZpZyA9IGVuc3VyZUNvbmZpZyhvcHRpb25zKTtcblx0XHRjb25zdCBjYWxsYmFja01hbmFnZXJfID0gYXdhaXQgZ2V0Q2FsbGJhY2tNYW5hZ2VyRm9yQ29uZmlnKGNvbmZpZyk7XG5cdFx0Y29uc3QgeyBydW5JZCwuLi5vdGhlckNvbmZpZ0ZpZWxkcyB9ID0gY29uZmlnO1xuXHRcdGNvbnN0IHJ1bk1hbmFnZXIgPSBhd2FpdCBjYWxsYmFja01hbmFnZXJfPy5oYW5kbGVDaGFpblN0YXJ0KHRoaXMudG9KU09OKCksIF9jb2VyY2VUb0RpY3QoaW5wdXQsIFwiaW5wdXRcIiksIHJ1bklkLCB2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBvdGhlckNvbmZpZ0ZpZWxkcz8ucnVuTmFtZSk7XG5cdFx0bGV0IGZpcnN0RXJyb3I7XG5cdFx0bGV0IHN0cmVhbTtcblx0XHRmb3IgKGNvbnN0IHJ1bm5hYmxlIG9mIHRoaXMucnVubmFibGVzKCkpIHtcblx0XHRcdGNvbmZpZz8uc2lnbmFsPy50aHJvd0lmQWJvcnRlZCgpO1xuXHRcdFx0Y29uc3QgY2hpbGRDb25maWcgPSBwYXRjaENvbmZpZyhvdGhlckNvbmZpZ0ZpZWxkcywgeyBjYWxsYmFja3M6IHJ1bk1hbmFnZXI/LmdldENoaWxkKCkgfSk7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCBvcmlnaW5hbFN0cmVhbSA9IGF3YWl0IHJ1bm5hYmxlLnN0cmVhbShpbnB1dCwgY2hpbGRDb25maWcpO1xuXHRcdFx0XHRzdHJlYW0gPSBjb25zdW1lQXN5bmNJdGVyYWJsZUluQ29udGV4dChjaGlsZENvbmZpZywgb3JpZ2luYWxTdHJlYW0pO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0aWYgKGZpcnN0RXJyb3IgPT09IHZvaWQgMCkgZmlyc3RFcnJvciA9IGU7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChzdHJlYW0gPT09IHZvaWQgMCkge1xuXHRcdFx0Y29uc3QgZXJyb3IgPSBmaXJzdEVycm9yID8/IC8qIEBfX1BVUkVfXyAqLyBuZXcgRXJyb3IoXCJObyBlcnJvciBzdG9yZWQgYXQgZW5kIG9mIGZhbGxiYWNrLlwiKTtcblx0XHRcdGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRXJyb3IoZXJyb3IpO1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXHRcdGxldCBvdXRwdXQ7XG5cdFx0dHJ5IHtcblx0XHRcdGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2Ygc3RyZWFtKSB7XG5cdFx0XHRcdHlpZWxkIGNodW5rO1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdG91dHB1dCA9IG91dHB1dCA9PT0gdm9pZCAwID8gb3V0cHV0IDogdGhpcy5fY29uY2F0T3V0cHV0Q2h1bmtzKG91dHB1dCwgY2h1bmspO1xuXHRcdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0XHRvdXRwdXQgPSB2b2lkIDA7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVDaGFpbkVycm9yKGUpO1xuXHRcdFx0dGhyb3cgZTtcblx0XHR9XG5cdFx0YXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FbmQoX2NvZXJjZVRvRGljdChvdXRwdXQsIFwib3V0cHV0XCIpKTtcblx0fVxuXHRhc3luYyBiYXRjaChpbnB1dHMsIG9wdGlvbnMsIGJhdGNoT3B0aW9ucykge1xuXHRcdGlmIChiYXRjaE9wdGlvbnM/LnJldHVybkV4Y2VwdGlvbnMpIHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZC5cIik7XG5cdFx0Y29uc3QgY29uZmlnTGlzdCA9IHRoaXMuX2dldE9wdGlvbnNMaXN0KG9wdGlvbnMgPz8ge30sIGlucHV0cy5sZW5ndGgpO1xuXHRcdGNvbnN0IGNhbGxiYWNrTWFuYWdlcnMgPSBhd2FpdCBQcm9taXNlLmFsbChjb25maWdMaXN0Lm1hcCgoY29uZmlnKSA9PiBnZXRDYWxsYmFja01hbmFnZXJGb3JDb25maWcoY29uZmlnKSkpO1xuXHRcdGNvbnN0IHJ1bk1hbmFnZXJzID0gYXdhaXQgUHJvbWlzZS5hbGwoY2FsbGJhY2tNYW5hZ2Vycy5tYXAoYXN5bmMgKGNhbGxiYWNrTWFuYWdlciwgaSkgPT4ge1xuXHRcdFx0Y29uc3QgaGFuZGxlU3RhcnRSZXMgPSBhd2FpdCBjYWxsYmFja01hbmFnZXI/LmhhbmRsZUNoYWluU3RhcnQodGhpcy50b0pTT04oKSwgX2NvZXJjZVRvRGljdChpbnB1dHNbaV0sIFwiaW5wdXRcIiksIGNvbmZpZ0xpc3RbaV0ucnVuSWQsIHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGNvbmZpZ0xpc3RbaV0ucnVuTmFtZSk7XG5cdFx0XHRkZWxldGUgY29uZmlnTGlzdFtpXS5ydW5JZDtcblx0XHRcdHJldHVybiBoYW5kbGVTdGFydFJlcztcblx0XHR9KSk7XG5cdFx0bGV0IGZpcnN0RXJyb3I7XG5cdFx0Zm9yIChjb25zdCBydW5uYWJsZSBvZiB0aGlzLnJ1bm5hYmxlcygpKSB7XG5cdFx0XHRjb25maWdMaXN0WzBdLnNpZ25hbD8udGhyb3dJZkFib3J0ZWQoKTtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGNvbnN0IG91dHB1dHMgPSBhd2FpdCBydW5uYWJsZS5iYXRjaChpbnB1dHMsIHJ1bk1hbmFnZXJzLm1hcCgocnVuTWFuYWdlciwgaikgPT4gcGF0Y2hDb25maWcoY29uZmlnTGlzdFtqXSwgeyBjYWxsYmFja3M6IHJ1bk1hbmFnZXI/LmdldENoaWxkKCkgfSkpLCBiYXRjaE9wdGlvbnMpO1xuXHRcdFx0XHRhd2FpdCBQcm9taXNlLmFsbChydW5NYW5hZ2Vycy5tYXAoKHJ1bk1hbmFnZXIsIGkpID0+IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRW5kKF9jb2VyY2VUb0RpY3Qob3V0cHV0c1tpXSwgXCJvdXRwdXRcIikpKSk7XG5cdFx0XHRcdHJldHVybiBvdXRwdXRzO1xuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRpZiAoZmlyc3RFcnJvciA9PT0gdm9pZCAwKSBmaXJzdEVycm9yID0gZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKCFmaXJzdEVycm9yKSB0aHJvdyBuZXcgRXJyb3IoXCJObyBlcnJvciBzdG9yZWQgYXQgZW5kIG9mIGZhbGxiYWNrcy5cIik7XG5cdFx0YXdhaXQgUHJvbWlzZS5hbGwocnVuTWFuYWdlcnMubWFwKChydW5NYW5hZ2VyKSA9PiBydW5NYW5hZ2VyPy5oYW5kbGVDaGFpbkVycm9yKGZpcnN0RXJyb3IpKSk7XG5cdFx0dGhyb3cgZmlyc3RFcnJvcjtcblx0fVxufTtcbmZ1bmN0aW9uIF9jb2VyY2VUb1J1bm5hYmxlKGNvZXJjZWFibGUpIHtcblx0aWYgKHR5cGVvZiBjb2VyY2VhYmxlID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBuZXcgUnVubmFibGVMYW1iZGEoeyBmdW5jOiBjb2VyY2VhYmxlIH0pO1xuXHRlbHNlIGlmIChSdW5uYWJsZS5pc1J1bm5hYmxlKGNvZXJjZWFibGUpKSByZXR1cm4gY29lcmNlYWJsZTtcblx0ZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkoY29lcmNlYWJsZSkgJiYgdHlwZW9mIGNvZXJjZWFibGUgPT09IFwib2JqZWN0XCIpIHtcblx0XHRjb25zdCBydW5uYWJsZXMgPSB7fTtcblx0XHRmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhjb2VyY2VhYmxlKSkgcnVubmFibGVzW2tleV0gPSBfY29lcmNlVG9SdW5uYWJsZSh2YWx1ZSk7XG5cdFx0cmV0dXJuIG5ldyBSdW5uYWJsZU1hcCh7IHN0ZXBzOiBydW5uYWJsZXMgfSk7XG5cdH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGEgUnVubmFibGUsIGZ1bmN0aW9uIG9yIG9iamVjdC5cXG5JbnN0ZWFkIGdvdCBhbiB1bnN1cHBvcnRlZCB0eXBlLmApO1xufVxuLyoqXG4qIEEgcnVubmFibGUgdGhhdCBhc3NpZ25zIGtleS12YWx1ZSBwYWlycyB0byBpbnB1dHMgb2YgdHlwZSBgUmVjb3JkPHN0cmluZywgdW5rbm93bj5gLlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIGltcG9ydCB7XG4qICAgUnVubmFibGVBc3NpZ24sXG4qICAgUnVubmFibGVMYW1iZGEsXG4qICAgUnVubmFibGVQYXJhbGxlbCxcbiogfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3J1bm5hYmxlc1wiO1xuKlxuKiBjb25zdCBjYWxjdWxhdGVBZ2UgPSAoeDogeyBiaXJ0aFllYXI6IG51bWJlciB9KTogeyBhZ2U6IG51bWJlciB9ID0+IHtcbiogICBjb25zdCBjdXJyZW50WWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTtcbiogICByZXR1cm4geyBhZ2U6IGN1cnJlbnRZZWFyIC0geC5iaXJ0aFllYXIgfTtcbiogfTtcbipcbiogY29uc3QgY3JlYXRlR3JlZXRpbmcgPSAoeDogeyBuYW1lOiBzdHJpbmcgfSk6IHsgZ3JlZXRpbmc6IHN0cmluZyB9ID0+IHtcbiogICByZXR1cm4geyBncmVldGluZzogYEhlbGxvLCAke3gubmFtZX0hYCB9O1xuKiB9O1xuKlxuKiBjb25zdCBtYXBwZXIgPSBSdW5uYWJsZVBhcmFsbGVsLmZyb20oe1xuKiAgIGFnZV9zdGVwOiBSdW5uYWJsZUxhbWJkYS5mcm9tKGNhbGN1bGF0ZUFnZSksXG4qICAgZ3JlZXRpbmdfc3RlcDogUnVubmFibGVMYW1iZGEuZnJvbShjcmVhdGVHcmVldGluZyksXG4qIH0pO1xuKlxuKiBjb25zdCBydW5uYWJsZUFzc2lnbiA9IG5ldyBSdW5uYWJsZUFzc2lnbih7IG1hcHBlciB9KTtcbipcbiogY29uc3QgcmVzID0gYXdhaXQgcnVubmFibGVBc3NpZ24uaW52b2tlKHsgbmFtZTogXCJBbGljZVwiLCBiaXJ0aFllYXI6IDE5OTAgfSk7XG4qXG4qIC8vIHsgbmFtZTogXCJBbGljZVwiLCBiaXJ0aFllYXI6IDE5OTAsIGFnZV9zdGVwOiB7IGFnZTogMzQgfSwgZ3JlZXRpbmdfc3RlcDogeyBncmVldGluZzogXCJIZWxsbywgQWxpY2UhXCIgfSB9XG4qIGBgYFxuKi9cbnZhciBSdW5uYWJsZUFzc2lnbiA9IGNsYXNzIGV4dGVuZHMgUnVubmFibGUge1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJSdW5uYWJsZUFzc2lnblwiO1xuXHR9XG5cdGxjX25hbWVzcGFjZSA9IFtcImxhbmdjaGFpbl9jb3JlXCIsIFwicnVubmFibGVzXCJdO1xuXHRsY19zZXJpYWxpemFibGUgPSB0cnVlO1xuXHRtYXBwZXI7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdGlmIChmaWVsZHMgaW5zdGFuY2VvZiBSdW5uYWJsZU1hcCkgZmllbGRzID0geyBtYXBwZXI6IGZpZWxkcyB9O1xuXHRcdHN1cGVyKGZpZWxkcyk7XG5cdFx0dGhpcy5tYXBwZXIgPSBmaWVsZHMubWFwcGVyO1xuXHR9XG5cdGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuXHRcdGNvbnN0IG1hcHBlclJlc3VsdCA9IGF3YWl0IHRoaXMubWFwcGVyLmludm9rZShpbnB1dCwgb3B0aW9ucyk7XG5cdFx0cmV0dXJuIHtcblx0XHRcdC4uLmlucHV0LFxuXHRcdFx0Li4ubWFwcGVyUmVzdWx0XG5cdFx0fTtcblx0fVxuXHRhc3luYyAqX3RyYW5zZm9ybShnZW5lcmF0b3IsIHJ1bk1hbmFnZXIsIG9wdGlvbnMpIHtcblx0XHRjb25zdCBtYXBwZXJLZXlzID0gdGhpcy5tYXBwZXIuZ2V0U3RlcHNLZXlzKCk7XG5cdFx0Y29uc3QgW2ZvclBhc3N0aHJvdWdoLCBmb3JNYXBwZXJdID0gYXRlZShnZW5lcmF0b3IpO1xuXHRcdGNvbnN0IG1hcHBlck91dHB1dCA9IHRoaXMubWFwcGVyLnRyYW5zZm9ybShmb3JNYXBwZXIsIHBhdGNoQ29uZmlnKG9wdGlvbnMsIHsgY2FsbGJhY2tzOiBydW5NYW5hZ2VyPy5nZXRDaGlsZCgpIH0pKTtcblx0XHRjb25zdCBmaXJzdE1hcHBlckNodW5rUHJvbWlzZSA9IG1hcHBlck91dHB1dC5uZXh0KCk7XG5cdFx0Zm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBmb3JQYXNzdGhyb3VnaCkge1xuXHRcdFx0aWYgKHR5cGVvZiBjaHVuayAhPT0gXCJvYmplY3RcIiB8fCBBcnJheS5pc0FycmF5KGNodW5rKSkgdGhyb3cgbmV3IEVycm9yKGBSdW5uYWJsZUFzc2lnbiBjYW4gb25seSBiZSB1c2VkIHdpdGggb2JqZWN0cyBhcyBpbnB1dCwgZ290ICR7dHlwZW9mIGNodW5rfWApO1xuXHRcdFx0Y29uc3QgZmlsdGVyZWQgPSBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMoY2h1bmspLmZpbHRlcigoW2tleV0pID0+ICFtYXBwZXJLZXlzLmluY2x1ZGVzKGtleSkpKTtcblx0XHRcdGlmIChPYmplY3Qua2V5cyhmaWx0ZXJlZCkubGVuZ3RoID4gMCkgeWllbGQgZmlsdGVyZWQ7XG5cdFx0fVxuXHRcdHlpZWxkIChhd2FpdCBmaXJzdE1hcHBlckNodW5rUHJvbWlzZSkudmFsdWU7XG5cdFx0Zm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBtYXBwZXJPdXRwdXQpIHlpZWxkIGNodW5rO1xuXHR9XG5cdHRyYW5zZm9ybShnZW5lcmF0b3IsIG9wdGlvbnMpIHtcblx0XHRyZXR1cm4gdGhpcy5fdHJhbnNmb3JtU3RyZWFtV2l0aENvbmZpZyhnZW5lcmF0b3IsIHRoaXMuX3RyYW5zZm9ybS5iaW5kKHRoaXMpLCBvcHRpb25zKTtcblx0fVxuXHRhc3luYyBzdHJlYW0oaW5wdXQsIG9wdGlvbnMpIHtcblx0XHRhc3luYyBmdW5jdGlvbiogZ2VuZXJhdG9yKCkge1xuXHRcdFx0eWllbGQgaW5wdXQ7XG5cdFx0fVxuXHRcdGNvbnN0IGNvbmZpZyA9IGVuc3VyZUNvbmZpZyhvcHRpb25zKTtcblx0XHRjb25zdCB3cmFwcGVkR2VuZXJhdG9yID0gbmV3IEFzeW5jR2VuZXJhdG9yV2l0aFNldHVwKHtcblx0XHRcdGdlbmVyYXRvcjogdGhpcy50cmFuc2Zvcm0oZ2VuZXJhdG9yKCksIGNvbmZpZyksXG5cdFx0XHRjb25maWdcblx0XHR9KTtcblx0XHRhd2FpdCB3cmFwcGVkR2VuZXJhdG9yLnNldHVwO1xuXHRcdHJldHVybiBJdGVyYWJsZVJlYWRhYmxlU3RyZWFtLmZyb21Bc3luY0dlbmVyYXRvcih3cmFwcGVkR2VuZXJhdG9yKTtcblx0fVxufTtcbi8qKlxuKiBBIHJ1bm5hYmxlIHRoYXQgYXNzaWducyBrZXktdmFsdWUgcGFpcnMgdG8gaW5wdXRzIG9mIHR5cGUgYFJlY29yZDxzdHJpbmcsIHVua25vd24+YC5cbiogVXNlZnVsIGZvciBzdHJlYW1pbmcsIGNhbiBiZSBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgYW5kIGNoYWluZWQgYnkgY2FsbGluZyBgcnVubmFibGUucGljaygpO2AuXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogaW1wb3J0IHsgUnVubmFibGVQaWNrIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9ydW5uYWJsZXNcIjtcbipcbiogY29uc3QgaW5wdXREYXRhID0ge1xuKiAgIG5hbWU6IFwiSm9oblwiLFxuKiAgIGFnZTogMzAsXG4qICAgY2l0eTogXCJOZXcgWW9ya1wiLFxuKiAgIGNvdW50cnk6IFwiVVNBXCIsXG4qICAgZW1haWw6IFwiam9obi5kb2VAZXhhbXBsZS5jb21cIixcbiogICBwaG9uZTogXCIrMTIzNDU2Nzg5MFwiLFxuKiB9O1xuKlxuKiBjb25zdCBiYXNpY0luZm9SdW5uYWJsZSA9IG5ldyBSdW5uYWJsZVBpY2soW1wibmFtZVwiLCBcImNpdHlcIl0pO1xuKlxuKiAvLyBFeGFtcGxlIGludm9jYXRpb25cbiogY29uc3QgcmVzID0gYXdhaXQgYmFzaWNJbmZvUnVubmFibGUuaW52b2tlKGlucHV0RGF0YSk7XG4qXG4qIC8vIHsgbmFtZTogJ0pvaG4nLCBjaXR5OiAnTmV3IFlvcmsnIH1cbiogYGBgXG4qL1xudmFyIFJ1bm5hYmxlUGljayA9IGNsYXNzIGV4dGVuZHMgUnVubmFibGUge1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJSdW5uYWJsZVBpY2tcIjtcblx0fVxuXHRsY19uYW1lc3BhY2UgPSBbXCJsYW5nY2hhaW5fY29yZVwiLCBcInJ1bm5hYmxlc1wiXTtcblx0bGNfc2VyaWFsaXphYmxlID0gdHJ1ZTtcblx0a2V5cztcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0aWYgKHR5cGVvZiBmaWVsZHMgPT09IFwic3RyaW5nXCIgfHwgQXJyYXkuaXNBcnJheShmaWVsZHMpKSBmaWVsZHMgPSB7IGtleXM6IGZpZWxkcyB9O1xuXHRcdHN1cGVyKGZpZWxkcyk7XG5cdFx0dGhpcy5rZXlzID0gZmllbGRzLmtleXM7XG5cdH1cblx0YXN5bmMgX3BpY2soaW5wdXQpIHtcblx0XHRpZiAodHlwZW9mIHRoaXMua2V5cyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIGlucHV0W3RoaXMua2V5c107XG5cdFx0ZWxzZSB7XG5cdFx0XHRjb25zdCBwaWNrZWQgPSB0aGlzLmtleXMubWFwKChrZXkpID0+IFtrZXksIGlucHV0W2tleV1dKS5maWx0ZXIoKHYpID0+IHZbMV0gIT09IHZvaWQgMCk7XG5cdFx0XHRyZXR1cm4gcGlja2VkLmxlbmd0aCA9PT0gMCA/IHZvaWQgMCA6IE9iamVjdC5mcm9tRW50cmllcyhwaWNrZWQpO1xuXHRcdH1cblx0fVxuXHRhc3luYyBpbnZva2UoaW5wdXQsIG9wdGlvbnMpIHtcblx0XHRyZXR1cm4gdGhpcy5fY2FsbFdpdGhDb25maWcodGhpcy5fcGljay5iaW5kKHRoaXMpLCBpbnB1dCwgb3B0aW9ucyk7XG5cdH1cblx0YXN5bmMgKl90cmFuc2Zvcm0oZ2VuZXJhdG9yKSB7XG5cdFx0Zm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBnZW5lcmF0b3IpIHtcblx0XHRcdGNvbnN0IHBpY2tlZCA9IGF3YWl0IHRoaXMuX3BpY2soY2h1bmspO1xuXHRcdFx0aWYgKHBpY2tlZCAhPT0gdm9pZCAwKSB5aWVsZCBwaWNrZWQ7XG5cdFx0fVxuXHR9XG5cdHRyYW5zZm9ybShnZW5lcmF0b3IsIG9wdGlvbnMpIHtcblx0XHRyZXR1cm4gdGhpcy5fdHJhbnNmb3JtU3RyZWFtV2l0aENvbmZpZyhnZW5lcmF0b3IsIHRoaXMuX3RyYW5zZm9ybS5iaW5kKHRoaXMpLCBvcHRpb25zKTtcblx0fVxuXHRhc3luYyBzdHJlYW0oaW5wdXQsIG9wdGlvbnMpIHtcblx0XHRhc3luYyBmdW5jdGlvbiogZ2VuZXJhdG9yKCkge1xuXHRcdFx0eWllbGQgaW5wdXQ7XG5cdFx0fVxuXHRcdGNvbnN0IGNvbmZpZyA9IGVuc3VyZUNvbmZpZyhvcHRpb25zKTtcblx0XHRjb25zdCB3cmFwcGVkR2VuZXJhdG9yID0gbmV3IEFzeW5jR2VuZXJhdG9yV2l0aFNldHVwKHtcblx0XHRcdGdlbmVyYXRvcjogdGhpcy50cmFuc2Zvcm0oZ2VuZXJhdG9yKCksIGNvbmZpZyksXG5cdFx0XHRjb25maWdcblx0XHR9KTtcblx0XHRhd2FpdCB3cmFwcGVkR2VuZXJhdG9yLnNldHVwO1xuXHRcdHJldHVybiBJdGVyYWJsZVJlYWRhYmxlU3RyZWFtLmZyb21Bc3luY0dlbmVyYXRvcih3cmFwcGVkR2VuZXJhdG9yKTtcblx0fVxufTtcbnZhciBSdW5uYWJsZVRvb2xMaWtlID0gY2xhc3MgZXh0ZW5kcyBSdW5uYWJsZUJpbmRpbmcge1xuXHRuYW1lO1xuXHRkZXNjcmlwdGlvbjtcblx0c2NoZW1hO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRjb25zdCBzZXF1ZW5jZSA9IFJ1bm5hYmxlU2VxdWVuY2UuZnJvbShbUnVubmFibGVMYW1iZGEuZnJvbShhc3luYyAoaW5wdXQpID0+IHtcblx0XHRcdGxldCB0b29sSW5wdXQ7XG5cdFx0XHRpZiAoX2lzVG9vbENhbGwoaW5wdXQpKSB0cnkge1xuXHRcdFx0XHR0b29sSW5wdXQgPSBhd2FpdCBpbnRlcm9wUGFyc2VBc3luYyh0aGlzLnNjaGVtYSwgaW5wdXQuYXJncyk7XG5cdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0dGhyb3cgbmV3IFRvb2xJbnB1dFBhcnNpbmdFeGNlcHRpb24oYFJlY2VpdmVkIHRvb2wgaW5wdXQgZGlkIG5vdCBtYXRjaCBleHBlY3RlZCBzY2hlbWFgLCBKU09OLnN0cmluZ2lmeShpbnB1dC5hcmdzKSk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHRvb2xJbnB1dCA9IGlucHV0O1xuXHRcdFx0cmV0dXJuIHRvb2xJbnB1dDtcblx0XHR9KS53aXRoQ29uZmlnKHsgcnVuTmFtZTogYCR7ZmllbGRzLm5hbWV9OnBhcnNlX2lucHV0YCB9KSwgZmllbGRzLmJvdW5kXSkud2l0aENvbmZpZyh7IHJ1bk5hbWU6IGZpZWxkcy5uYW1lIH0pO1xuXHRcdHN1cGVyKHtcblx0XHRcdGJvdW5kOiBzZXF1ZW5jZSxcblx0XHRcdGNvbmZpZzogZmllbGRzLmNvbmZpZyA/PyB7fVxuXHRcdH0pO1xuXHRcdHRoaXMubmFtZSA9IGZpZWxkcy5uYW1lO1xuXHRcdHRoaXMuZGVzY3JpcHRpb24gPSBmaWVsZHMuZGVzY3JpcHRpb247XG5cdFx0dGhpcy5zY2hlbWEgPSBmaWVsZHMuc2NoZW1hO1xuXHR9XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIlJ1bm5hYmxlVG9vbExpa2VcIjtcblx0fVxufTtcbi8qKlxuKiBHaXZlbiBhIHJ1bm5hYmxlIGFuZCBhIFpvZCBzY2hlbWEsIGNvbnZlcnQgdGhlIHJ1bm5hYmxlIHRvIGEgdG9vbC5cbipcbiogQHRlbXBsYXRlIFJ1bklucHV0IFRoZSBpbnB1dCB0eXBlIGZvciB0aGUgcnVubmFibGUuXG4qIEB0ZW1wbGF0ZSBSdW5PdXRwdXQgVGhlIG91dHB1dCB0eXBlIGZvciB0aGUgcnVubmFibGUuXG4qXG4qIEBwYXJhbSB7UnVubmFibGU8UnVuSW5wdXQsIFJ1bk91dHB1dD59IHJ1bm5hYmxlIFRoZSBydW5uYWJsZSB0byBjb252ZXJ0IHRvIGEgdG9vbC5cbiogQHBhcmFtIGZpZWxkc1xuKiBAcGFyYW0ge3N0cmluZyB8IHVuZGVmaW5lZH0gW2ZpZWxkcy5uYW1lXSBUaGUgbmFtZSBvZiB0aGUgdG9vbC4gSWYgbm90IHByb3ZpZGVkLCBpdCB3aWxsIGRlZmF1bHQgdG8gdGhlIG5hbWUgb2YgdGhlIHJ1bm5hYmxlLlxuKiBAcGFyYW0ge3N0cmluZyB8IHVuZGVmaW5lZH0gW2ZpZWxkcy5kZXNjcmlwdGlvbl0gVGhlIGRlc2NyaXB0aW9uIG9mIHRoZSB0b29sLiBGYWxscyBiYWNrIHRvIHRoZSBkZXNjcmlwdGlvbiBvbiB0aGUgWm9kIHNjaGVtYSBpZiBub3QgcHJvdmlkZWQsIG9yIHVuZGVmaW5lZCBpZiBuZWl0aGVyIGFyZSBwcm92aWRlZC5cbiogQHBhcmFtIHtJbnRlcm9wWm9kVHlwZTxSdW5JbnB1dD59IFtmaWVsZHMuc2NoZW1hXSBUaGUgWm9kIHNjaGVtYSBmb3IgdGhlIGlucHV0IG9mIHRoZSB0b29sLiBJbmZlcnMgdGhlIFpvZCB0eXBlIGZyb20gdGhlIGlucHV0IHR5cGUgb2YgdGhlIHJ1bm5hYmxlLlxuKiBAcmV0dXJucyB7UnVubmFibGVUb29sTGlrZTxJbnRlcm9wWm9kVHlwZTxSdW5JbnB1dD4sIFJ1bk91dHB1dD59IEFuIGluc3RhbmNlIG9mIGBSdW5uYWJsZVRvb2xMaWtlYCB3aGljaCBpcyBhIHJ1bm5hYmxlIHRoYXQgY2FuIGJlIHVzZWQgYXMgYSB0b29sLlxuKi9cbmZ1bmN0aW9uIGNvbnZlcnRSdW5uYWJsZVRvVG9vbChydW5uYWJsZSwgZmllbGRzKSB7XG5cdGNvbnN0IG5hbWUgPSBmaWVsZHMubmFtZSA/PyBydW5uYWJsZS5nZXROYW1lKCk7XG5cdGNvbnN0IGRlc2NyaXB0aW9uID0gZmllbGRzLmRlc2NyaXB0aW9uID8/IGdldFNjaGVtYURlc2NyaXB0aW9uKGZpZWxkcy5zY2hlbWEpO1xuXHRpZiAoaXNTaW1wbGVTdHJpbmdab2RTY2hlbWEoZmllbGRzLnNjaGVtYSkpIHJldHVybiBuZXcgUnVubmFibGVUb29sTGlrZSh7XG5cdFx0bmFtZSxcblx0XHRkZXNjcmlwdGlvbixcblx0XHRzY2hlbWE6IHoub2JqZWN0KHsgaW5wdXQ6IHouc3RyaW5nKCkgfSkudHJhbnNmb3JtKChpbnB1dCkgPT4gaW5wdXQuaW5wdXQpLFxuXHRcdGJvdW5kOiBydW5uYWJsZVxuXHR9KTtcblx0cmV0dXJuIG5ldyBSdW5uYWJsZVRvb2xMaWtlKHtcblx0XHRuYW1lLFxuXHRcdGRlc2NyaXB0aW9uLFxuXHRcdHNjaGVtYTogZmllbGRzLnNjaGVtYSxcblx0XHRib3VuZDogcnVubmFibGVcblx0fSk7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgUnVubmFibGUsIFJ1bm5hYmxlQXNzaWduLCBSdW5uYWJsZUJpbmRpbmcsIFJ1bm5hYmxlRWFjaCwgUnVubmFibGVMYW1iZGEsIFJ1bm5hYmxlTWFwLCBSdW5uYWJsZVBhcmFsbGVsLCBSdW5uYWJsZVBpY2ssIFJ1bm5hYmxlUmV0cnksIFJ1bm5hYmxlU2VxdWVuY2UsIFJ1bm5hYmxlVG9vbExpa2UsIFJ1bm5hYmxlV2l0aEZhbGxiYWNrcywgX2NvZXJjZVRvRGljdCwgX2NvZXJjZVRvUnVubmFibGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhc2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/base.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/branch.js":
/*!********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/branch.js ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RunnableBranch: () => (/* binding */ RunnableBranch)\n/* harmony export */ });\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/config.js\");\n/* harmony import */ var _utils_stream_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/stream.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/stream.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/base.js\");\n\n\n\n\n//#region src/runnables/branch.ts\n/**\n* Class that represents a runnable branch. The RunnableBranch is\n* initialized with an array of branches and a default branch. When invoked,\n* it evaluates the condition of each branch in order and executes the\n* corresponding branch if the condition is true. If none of the conditions\n* are true, it executes the default branch.\n* @example\n* ```typescript\n* const branch = RunnableBranch.from([\n*   [\n*     (x: { topic: string; question: string }) =>\n*       x.topic.toLowerCase().includes(\"anthropic\"),\n*     anthropicChain,\n*   ],\n*   [\n*     (x: { topic: string; question: string }) =>\n*       x.topic.toLowerCase().includes(\"langchain\"),\n*     langChainChain,\n*   ],\n*   generalChain,\n* ]);\n*\n* const fullChain = RunnableSequence.from([\n*   {\n*     topic: classificationChain,\n*     question: (input: { question: string }) => input.question,\n*   },\n*   branch,\n* ]);\n*\n* const result = await fullChain.invoke({\n*   question: \"how do I use LangChain?\",\n* });\n* ```\n*/\nvar RunnableBranch = class extends _base_js__WEBPACK_IMPORTED_MODULE_2__.Runnable {\n\tstatic lc_name() {\n\t\treturn \"RunnableBranch\";\n\t}\n\tlc_namespace = [\"langchain_core\", \"runnables\"];\n\tlc_serializable = true;\n\tdefault;\n\tbranches;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.branches = fields.branches;\n\t\tthis.default = fields.default;\n\t}\n\t/**\n\t* Convenience method for instantiating a RunnableBranch from\n\t* RunnableLikes (objects, functions, or Runnables).\n\t*\n\t* Each item in the input except for the last one should be a\n\t* tuple with two items. The first is a \"condition\" RunnableLike that\n\t* returns \"true\" if the second RunnableLike in the tuple should run.\n\t*\n\t* The final item in the input should be a RunnableLike that acts as a\n\t* default branch if no other branches match.\n\t*\n\t* @example\n\t* ```ts\n\t* import { RunnableBranch } from \"@langchain/core/runnables\";\n\t*\n\t* const branch = RunnableBranch.from([\n\t*   [(x: number) => x > 0, (x: number) => x + 1],\n\t*   [(x: number) => x < 0, (x: number) => x - 1],\n\t*   (x: number) => x\n\t* ]);\n\t* ```\n\t* @param branches An array where the every item except the last is a tuple of [condition, runnable]\n\t*   pairs. The last item is a default runnable which is invoked if no other condition matches.\n\t* @returns A new RunnableBranch.\n\t*/\n\tstatic from(branches) {\n\t\tif (branches.length < 1) throw new Error(\"RunnableBranch requires at least one branch\");\n\t\tconst branchLikes = branches.slice(0, -1);\n\t\tconst coercedBranches = branchLikes.map(([condition, runnable]) => [(0,_base_js__WEBPACK_IMPORTED_MODULE_2__._coerceToRunnable)(condition), (0,_base_js__WEBPACK_IMPORTED_MODULE_2__._coerceToRunnable)(runnable)]);\n\t\tconst defaultBranch = (0,_base_js__WEBPACK_IMPORTED_MODULE_2__._coerceToRunnable)(branches[branches.length - 1]);\n\t\treturn new this({\n\t\t\tbranches: coercedBranches,\n\t\t\tdefault: defaultBranch\n\t\t});\n\t}\n\tasync _invoke(input, config, runManager) {\n\t\tlet result;\n\t\tfor (let i = 0; i < this.branches.length; i += 1) {\n\t\t\tconst [condition, branchRunnable] = this.branches[i];\n\t\t\tconst conditionValue = await condition.invoke(input, (0,_config_js__WEBPACK_IMPORTED_MODULE_0__.patchConfig)(config, { callbacks: runManager?.getChild(`condition:${i + 1}`) }));\n\t\t\tif (conditionValue) {\n\t\t\t\tresult = await branchRunnable.invoke(input, (0,_config_js__WEBPACK_IMPORTED_MODULE_0__.patchConfig)(config, { callbacks: runManager?.getChild(`branch:${i + 1}`) }));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (!result) result = await this.default.invoke(input, (0,_config_js__WEBPACK_IMPORTED_MODULE_0__.patchConfig)(config, { callbacks: runManager?.getChild(\"branch:default\") }));\n\t\treturn result;\n\t}\n\tasync invoke(input, config = {}) {\n\t\treturn this._callWithConfig(this._invoke, input, config);\n\t}\n\tasync *_streamIterator(input, config) {\n\t\tconst callbackManager_ = await (0,_config_js__WEBPACK_IMPORTED_MODULE_0__.getCallbackManagerForConfig)(config);\n\t\tconst runManager = await callbackManager_?.handleChainStart(this.toJSON(), (0,_base_js__WEBPACK_IMPORTED_MODULE_2__._coerceToDict)(input, \"input\"), config?.runId, void 0, void 0, void 0, config?.runName);\n\t\tlet finalOutput;\n\t\tlet finalOutputSupported = true;\n\t\tlet stream;\n\t\ttry {\n\t\t\tfor (let i = 0; i < this.branches.length; i += 1) {\n\t\t\t\tconst [condition, branchRunnable] = this.branches[i];\n\t\t\t\tconst conditionValue = await condition.invoke(input, (0,_config_js__WEBPACK_IMPORTED_MODULE_0__.patchConfig)(config, { callbacks: runManager?.getChild(`condition:${i + 1}`) }));\n\t\t\t\tif (conditionValue) {\n\t\t\t\t\tstream = await branchRunnable.stream(input, (0,_config_js__WEBPACK_IMPORTED_MODULE_0__.patchConfig)(config, { callbacks: runManager?.getChild(`branch:${i + 1}`) }));\n\t\t\t\t\tfor await (const chunk of stream) {\n\t\t\t\t\t\tyield chunk;\n\t\t\t\t\t\tif (finalOutputSupported) if (finalOutput === void 0) finalOutput = chunk;\n\t\t\t\t\t\telse try {\n\t\t\t\t\t\t\tfinalOutput = (0,_utils_stream_js__WEBPACK_IMPORTED_MODULE_1__.concat)(finalOutput, chunk);\n\t\t\t\t\t\t} catch {\n\t\t\t\t\t\t\tfinalOutput = void 0;\n\t\t\t\t\t\t\tfinalOutputSupported = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (stream === void 0) {\n\t\t\t\tstream = await this.default.stream(input, (0,_config_js__WEBPACK_IMPORTED_MODULE_0__.patchConfig)(config, { callbacks: runManager?.getChild(\"branch:default\") }));\n\t\t\t\tfor await (const chunk of stream) {\n\t\t\t\t\tyield chunk;\n\t\t\t\t\tif (finalOutputSupported) if (finalOutput === void 0) finalOutput = chunk;\n\t\t\t\t\telse try {\n\t\t\t\t\t\tfinalOutput = (0,_utils_stream_js__WEBPACK_IMPORTED_MODULE_1__.concat)(finalOutput, chunk);\n\t\t\t\t\t} catch {\n\t\t\t\t\t\tfinalOutput = void 0;\n\t\t\t\t\t\tfinalOutputSupported = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tawait runManager?.handleChainError(e);\n\t\t\tthrow e;\n\t\t}\n\t\tawait runManager?.handleChainEnd(finalOutput ?? {});\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=branch.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9ydW5uYWJsZXMvYnJhbmNoLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBdUU7QUFDM0I7QUFDMkI7O0FBRXZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGVBQWUsa0JBQWtCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxlQUFlLGtCQUFrQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsa0JBQWtCO0FBQzVDLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxtQ0FBbUMsOENBQVE7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGlCQUFpQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0VBQXNFLDJEQUFpQixhQUFhLDJEQUFpQjtBQUNySCx3QkFBd0IsMkRBQWlCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsMEJBQTBCO0FBQzVDO0FBQ0Esd0RBQXdELHVEQUFXLFdBQVcsNkNBQTZDLE1BQU0sSUFBSTtBQUNySTtBQUNBLGdEQUFnRCx1REFBVyxXQUFXLDBDQUEwQyxNQUFNLElBQUk7QUFDMUg7QUFDQTtBQUNBO0FBQ0EseURBQXlELHVEQUFXLFdBQVcsbURBQW1EO0FBQ2xJO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHVFQUEyQjtBQUM1RCw2RUFBNkUsdURBQWE7QUFDMUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsMEJBQTBCO0FBQzdDO0FBQ0EseURBQXlELHVEQUFXLFdBQVcsNkNBQTZDLE1BQU0sSUFBSTtBQUN0STtBQUNBLGlEQUFpRCx1REFBVyxXQUFXLDBDQUEwQyxNQUFNLElBQUk7QUFDM0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsd0RBQU07QUFDM0IsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsdURBQVcsV0FBVyxtREFBbUQ7QUFDdkg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isd0RBQU07QUFDMUIsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0Esb0RBQW9EO0FBQ3BEO0FBQ0E7O0FBRUE7QUFDMEI7QUFDMUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3J1bm5hYmxlcy9icmFuY2guanM/OGVjZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRDYWxsYmFja01hbmFnZXJGb3JDb25maWcsIHBhdGNoQ29uZmlnIH0gZnJvbSBcIi4vY29uZmlnLmpzXCI7XG5pbXBvcnQgeyBjb25jYXQgfSBmcm9tIFwiLi4vdXRpbHMvc3RyZWFtLmpzXCI7XG5pbXBvcnQgeyBSdW5uYWJsZSwgX2NvZXJjZVRvRGljdCwgX2NvZXJjZVRvUnVubmFibGUgfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvcnVubmFibGVzL2JyYW5jaC50c1xuLyoqXG4qIENsYXNzIHRoYXQgcmVwcmVzZW50cyBhIHJ1bm5hYmxlIGJyYW5jaC4gVGhlIFJ1bm5hYmxlQnJhbmNoIGlzXG4qIGluaXRpYWxpemVkIHdpdGggYW4gYXJyYXkgb2YgYnJhbmNoZXMgYW5kIGEgZGVmYXVsdCBicmFuY2guIFdoZW4gaW52b2tlZCxcbiogaXQgZXZhbHVhdGVzIHRoZSBjb25kaXRpb24gb2YgZWFjaCBicmFuY2ggaW4gb3JkZXIgYW5kIGV4ZWN1dGVzIHRoZVxuKiBjb3JyZXNwb25kaW5nIGJyYW5jaCBpZiB0aGUgY29uZGl0aW9uIGlzIHRydWUuIElmIG5vbmUgb2YgdGhlIGNvbmRpdGlvbnNcbiogYXJlIHRydWUsIGl0IGV4ZWN1dGVzIHRoZSBkZWZhdWx0IGJyYW5jaC5cbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBicmFuY2ggPSBSdW5uYWJsZUJyYW5jaC5mcm9tKFtcbiogICBbXG4qICAgICAoeDogeyB0b3BpYzogc3RyaW5nOyBxdWVzdGlvbjogc3RyaW5nIH0pID0+XG4qICAgICAgIHgudG9waWMudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcImFudGhyb3BpY1wiKSxcbiogICAgIGFudGhyb3BpY0NoYWluLFxuKiAgIF0sXG4qICAgW1xuKiAgICAgKHg6IHsgdG9waWM6IHN0cmluZzsgcXVlc3Rpb246IHN0cmluZyB9KSA9PlxuKiAgICAgICB4LnRvcGljLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJsYW5nY2hhaW5cIiksXG4qICAgICBsYW5nQ2hhaW5DaGFpbixcbiogICBdLFxuKiAgIGdlbmVyYWxDaGFpbixcbiogXSk7XG4qXG4qIGNvbnN0IGZ1bGxDaGFpbiA9IFJ1bm5hYmxlU2VxdWVuY2UuZnJvbShbXG4qICAge1xuKiAgICAgdG9waWM6IGNsYXNzaWZpY2F0aW9uQ2hhaW4sXG4qICAgICBxdWVzdGlvbjogKGlucHV0OiB7IHF1ZXN0aW9uOiBzdHJpbmcgfSkgPT4gaW5wdXQucXVlc3Rpb24sXG4qICAgfSxcbiogICBicmFuY2gsXG4qIF0pO1xuKlxuKiBjb25zdCByZXN1bHQgPSBhd2FpdCBmdWxsQ2hhaW4uaW52b2tlKHtcbiogICBxdWVzdGlvbjogXCJob3cgZG8gSSB1c2UgTGFuZ0NoYWluP1wiLFxuKiB9KTtcbiogYGBgXG4qL1xudmFyIFJ1bm5hYmxlQnJhbmNoID0gY2xhc3MgZXh0ZW5kcyBSdW5uYWJsZSB7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIlJ1bm5hYmxlQnJhbmNoXCI7XG5cdH1cblx0bGNfbmFtZXNwYWNlID0gW1wibGFuZ2NoYWluX2NvcmVcIiwgXCJydW5uYWJsZXNcIl07XG5cdGxjX3NlcmlhbGl6YWJsZSA9IHRydWU7XG5cdGRlZmF1bHQ7XG5cdGJyYW5jaGVzO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRzdXBlcihmaWVsZHMpO1xuXHRcdHRoaXMuYnJhbmNoZXMgPSBmaWVsZHMuYnJhbmNoZXM7XG5cdFx0dGhpcy5kZWZhdWx0ID0gZmllbGRzLmRlZmF1bHQ7XG5cdH1cblx0LyoqXG5cdCogQ29udmVuaWVuY2UgbWV0aG9kIGZvciBpbnN0YW50aWF0aW5nIGEgUnVubmFibGVCcmFuY2ggZnJvbVxuXHQqIFJ1bm5hYmxlTGlrZXMgKG9iamVjdHMsIGZ1bmN0aW9ucywgb3IgUnVubmFibGVzKS5cblx0KlxuXHQqIEVhY2ggaXRlbSBpbiB0aGUgaW5wdXQgZXhjZXB0IGZvciB0aGUgbGFzdCBvbmUgc2hvdWxkIGJlIGFcblx0KiB0dXBsZSB3aXRoIHR3byBpdGVtcy4gVGhlIGZpcnN0IGlzIGEgXCJjb25kaXRpb25cIiBSdW5uYWJsZUxpa2UgdGhhdFxuXHQqIHJldHVybnMgXCJ0cnVlXCIgaWYgdGhlIHNlY29uZCBSdW5uYWJsZUxpa2UgaW4gdGhlIHR1cGxlIHNob3VsZCBydW4uXG5cdCpcblx0KiBUaGUgZmluYWwgaXRlbSBpbiB0aGUgaW5wdXQgc2hvdWxkIGJlIGEgUnVubmFibGVMaWtlIHRoYXQgYWN0cyBhcyBhXG5cdCogZGVmYXVsdCBicmFuY2ggaWYgbm8gb3RoZXIgYnJhbmNoZXMgbWF0Y2guXG5cdCpcblx0KiBAZXhhbXBsZVxuXHQqIGBgYHRzXG5cdCogaW1wb3J0IHsgUnVubmFibGVCcmFuY2ggfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3J1bm5hYmxlc1wiO1xuXHQqXG5cdCogY29uc3QgYnJhbmNoID0gUnVubmFibGVCcmFuY2guZnJvbShbXG5cdCogICBbKHg6IG51bWJlcikgPT4geCA+IDAsICh4OiBudW1iZXIpID0+IHggKyAxXSxcblx0KiAgIFsoeDogbnVtYmVyKSA9PiB4IDwgMCwgKHg6IG51bWJlcikgPT4geCAtIDFdLFxuXHQqICAgKHg6IG51bWJlcikgPT4geFxuXHQqIF0pO1xuXHQqIGBgYFxuXHQqIEBwYXJhbSBicmFuY2hlcyBBbiBhcnJheSB3aGVyZSB0aGUgZXZlcnkgaXRlbSBleGNlcHQgdGhlIGxhc3QgaXMgYSB0dXBsZSBvZiBbY29uZGl0aW9uLCBydW5uYWJsZV1cblx0KiAgIHBhaXJzLiBUaGUgbGFzdCBpdGVtIGlzIGEgZGVmYXVsdCBydW5uYWJsZSB3aGljaCBpcyBpbnZva2VkIGlmIG5vIG90aGVyIGNvbmRpdGlvbiBtYXRjaGVzLlxuXHQqIEByZXR1cm5zIEEgbmV3IFJ1bm5hYmxlQnJhbmNoLlxuXHQqL1xuXHRzdGF0aWMgZnJvbShicmFuY2hlcykge1xuXHRcdGlmIChicmFuY2hlcy5sZW5ndGggPCAxKSB0aHJvdyBuZXcgRXJyb3IoXCJSdW5uYWJsZUJyYW5jaCByZXF1aXJlcyBhdCBsZWFzdCBvbmUgYnJhbmNoXCIpO1xuXHRcdGNvbnN0IGJyYW5jaExpa2VzID0gYnJhbmNoZXMuc2xpY2UoMCwgLTEpO1xuXHRcdGNvbnN0IGNvZXJjZWRCcmFuY2hlcyA9IGJyYW5jaExpa2VzLm1hcCgoW2NvbmRpdGlvbiwgcnVubmFibGVdKSA9PiBbX2NvZXJjZVRvUnVubmFibGUoY29uZGl0aW9uKSwgX2NvZXJjZVRvUnVubmFibGUocnVubmFibGUpXSk7XG5cdFx0Y29uc3QgZGVmYXVsdEJyYW5jaCA9IF9jb2VyY2VUb1J1bm5hYmxlKGJyYW5jaGVzW2JyYW5jaGVzLmxlbmd0aCAtIDFdKTtcblx0XHRyZXR1cm4gbmV3IHRoaXMoe1xuXHRcdFx0YnJhbmNoZXM6IGNvZXJjZWRCcmFuY2hlcyxcblx0XHRcdGRlZmF1bHQ6IGRlZmF1bHRCcmFuY2hcblx0XHR9KTtcblx0fVxuXHRhc3luYyBfaW52b2tlKGlucHV0LCBjb25maWcsIHJ1bk1hbmFnZXIpIHtcblx0XHRsZXQgcmVzdWx0O1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5icmFuY2hlcy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0Y29uc3QgW2NvbmRpdGlvbiwgYnJhbmNoUnVubmFibGVdID0gdGhpcy5icmFuY2hlc1tpXTtcblx0XHRcdGNvbnN0IGNvbmRpdGlvblZhbHVlID0gYXdhaXQgY29uZGl0aW9uLmludm9rZShpbnB1dCwgcGF0Y2hDb25maWcoY29uZmlnLCB7IGNhbGxiYWNrczogcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoYGNvbmRpdGlvbjoke2kgKyAxfWApIH0pKTtcblx0XHRcdGlmIChjb25kaXRpb25WYWx1ZSkge1xuXHRcdFx0XHRyZXN1bHQgPSBhd2FpdCBicmFuY2hSdW5uYWJsZS5pbnZva2UoaW5wdXQsIHBhdGNoQ29uZmlnKGNvbmZpZywgeyBjYWxsYmFja3M6IHJ1bk1hbmFnZXI/LmdldENoaWxkKGBicmFuY2g6JHtpICsgMX1gKSB9KSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoIXJlc3VsdCkgcmVzdWx0ID0gYXdhaXQgdGhpcy5kZWZhdWx0Lmludm9rZShpbnB1dCwgcGF0Y2hDb25maWcoY29uZmlnLCB7IGNhbGxiYWNrczogcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoXCJicmFuY2g6ZGVmYXVsdFwiKSB9KSk7XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fVxuXHRhc3luYyBpbnZva2UoaW5wdXQsIGNvbmZpZyA9IHt9KSB7XG5cdFx0cmV0dXJuIHRoaXMuX2NhbGxXaXRoQ29uZmlnKHRoaXMuX2ludm9rZSwgaW5wdXQsIGNvbmZpZyk7XG5cdH1cblx0YXN5bmMgKl9zdHJlYW1JdGVyYXRvcihpbnB1dCwgY29uZmlnKSB7XG5cdFx0Y29uc3QgY2FsbGJhY2tNYW5hZ2VyXyA9IGF3YWl0IGdldENhbGxiYWNrTWFuYWdlckZvckNvbmZpZyhjb25maWcpO1xuXHRcdGNvbnN0IHJ1bk1hbmFnZXIgPSBhd2FpdCBjYWxsYmFja01hbmFnZXJfPy5oYW5kbGVDaGFpblN0YXJ0KHRoaXMudG9KU09OKCksIF9jb2VyY2VUb0RpY3QoaW5wdXQsIFwiaW5wdXRcIiksIGNvbmZpZz8ucnVuSWQsIHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGNvbmZpZz8ucnVuTmFtZSk7XG5cdFx0bGV0IGZpbmFsT3V0cHV0O1xuXHRcdGxldCBmaW5hbE91dHB1dFN1cHBvcnRlZCA9IHRydWU7XG5cdFx0bGV0IHN0cmVhbTtcblx0XHR0cnkge1xuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmJyYW5jaGVzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdGNvbnN0IFtjb25kaXRpb24sIGJyYW5jaFJ1bm5hYmxlXSA9IHRoaXMuYnJhbmNoZXNbaV07XG5cdFx0XHRcdGNvbnN0IGNvbmRpdGlvblZhbHVlID0gYXdhaXQgY29uZGl0aW9uLmludm9rZShpbnB1dCwgcGF0Y2hDb25maWcoY29uZmlnLCB7IGNhbGxiYWNrczogcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoYGNvbmRpdGlvbjoke2kgKyAxfWApIH0pKTtcblx0XHRcdFx0aWYgKGNvbmRpdGlvblZhbHVlKSB7XG5cdFx0XHRcdFx0c3RyZWFtID0gYXdhaXQgYnJhbmNoUnVubmFibGUuc3RyZWFtKGlucHV0LCBwYXRjaENvbmZpZyhjb25maWcsIHsgY2FsbGJhY2tzOiBydW5NYW5hZ2VyPy5nZXRDaGlsZChgYnJhbmNoOiR7aSArIDF9YCkgfSkpO1xuXHRcdFx0XHRcdGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2Ygc3RyZWFtKSB7XG5cdFx0XHRcdFx0XHR5aWVsZCBjaHVuaztcblx0XHRcdFx0XHRcdGlmIChmaW5hbE91dHB1dFN1cHBvcnRlZCkgaWYgKGZpbmFsT3V0cHV0ID09PSB2b2lkIDApIGZpbmFsT3V0cHV0ID0gY2h1bms7XG5cdFx0XHRcdFx0XHRlbHNlIHRyeSB7XG5cdFx0XHRcdFx0XHRcdGZpbmFsT3V0cHV0ID0gY29uY2F0KGZpbmFsT3V0cHV0LCBjaHVuayk7XG5cdFx0XHRcdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0XHRcdFx0ZmluYWxPdXRwdXQgPSB2b2lkIDA7XG5cdFx0XHRcdFx0XHRcdGZpbmFsT3V0cHV0U3VwcG9ydGVkID0gZmFsc2U7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAoc3RyZWFtID09PSB2b2lkIDApIHtcblx0XHRcdFx0c3RyZWFtID0gYXdhaXQgdGhpcy5kZWZhdWx0LnN0cmVhbShpbnB1dCwgcGF0Y2hDb25maWcoY29uZmlnLCB7IGNhbGxiYWNrczogcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoXCJicmFuY2g6ZGVmYXVsdFwiKSB9KSk7XG5cdFx0XHRcdGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2Ygc3RyZWFtKSB7XG5cdFx0XHRcdFx0eWllbGQgY2h1bms7XG5cdFx0XHRcdFx0aWYgKGZpbmFsT3V0cHV0U3VwcG9ydGVkKSBpZiAoZmluYWxPdXRwdXQgPT09IHZvaWQgMCkgZmluYWxPdXRwdXQgPSBjaHVuaztcblx0XHRcdFx0XHRlbHNlIHRyeSB7XG5cdFx0XHRcdFx0XHRmaW5hbE91dHB1dCA9IGNvbmNhdChmaW5hbE91dHB1dCwgY2h1bmspO1xuXHRcdFx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHRcdFx0ZmluYWxPdXRwdXQgPSB2b2lkIDA7XG5cdFx0XHRcdFx0XHRmaW5hbE91dHB1dFN1cHBvcnRlZCA9IGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRXJyb3IoZSk7XG5cdFx0XHR0aHJvdyBlO1xuXHRcdH1cblx0XHRhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVDaGFpbkVuZChmaW5hbE91dHB1dCA/PyB7fSk7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgUnVubmFibGVCcmFuY2ggfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJyYW5jaC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/branch.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/config.js":
/*!********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/config.js ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_RECURSION_LIMIT: () => (/* binding */ DEFAULT_RECURSION_LIMIT),\n/* harmony export */   ensureConfig: () => (/* binding */ ensureConfig),\n/* harmony export */   getCallbackManagerForConfig: () => (/* binding */ getCallbackManagerForConfig),\n/* harmony export */   mergeConfigs: () => (/* binding */ mergeConfigs),\n/* harmony export */   patchConfig: () => (/* binding */ patchConfig),\n/* harmony export */   pickRunnableConfigKeys: () => (/* binding */ pickRunnableConfigKeys)\n/* harmony export */ });\n/* harmony import */ var _callbacks_manager_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../callbacks/manager.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/callbacks/manager.js\");\n/* harmony import */ var _singletons_async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../singletons/async_local_storage/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/async_local_storage/index.js\");\n/* harmony import */ var _singletons_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../singletons/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/index.js\");\n\n\n\n\n//#region src/runnables/config.ts\nconst DEFAULT_RECURSION_LIMIT = 25;\nasync function getCallbackManagerForConfig(config) {\n\treturn _callbacks_manager_js__WEBPACK_IMPORTED_MODULE_0__.CallbackManager._configureSync(config?.callbacks, void 0, config?.tags, void 0, config?.metadata);\n}\nfunction mergeConfigs(...configs) {\n\tconst copy = {};\n\tfor (const options of configs.filter((c) => !!c)) for (const key of Object.keys(options)) if (key === \"metadata\") copy[key] = {\n\t\t...copy[key],\n\t\t...options[key]\n\t};\n\telse if (key === \"tags\") {\n\t\tconst baseKeys = copy[key] ?? [];\n\t\tcopy[key] = [...new Set(baseKeys.concat(options[key] ?? []))];\n\t} else if (key === \"configurable\") copy[key] = {\n\t\t...copy[key],\n\t\t...options[key]\n\t};\n\telse if (key === \"timeout\") {\n\t\tif (copy.timeout === void 0) copy.timeout = options.timeout;\n\t\telse if (options.timeout !== void 0) copy.timeout = Math.min(copy.timeout, options.timeout);\n\t} else if (key === \"signal\") {\n\t\tif (copy.signal === void 0) copy.signal = options.signal;\n\t\telse if (options.signal !== void 0) if (\"any\" in AbortSignal) copy.signal = AbortSignal.any([copy.signal, options.signal]);\n\t\telse copy.signal = options.signal;\n\t} else if (key === \"callbacks\") {\n\t\tconst baseCallbacks = copy.callbacks;\n\t\tconst providedCallbacks = options.callbacks;\n\t\tif (Array.isArray(providedCallbacks)) if (!baseCallbacks) copy.callbacks = providedCallbacks;\n\t\telse if (Array.isArray(baseCallbacks)) copy.callbacks = baseCallbacks.concat(providedCallbacks);\n\t\telse {\n\t\t\tconst manager = baseCallbacks.copy();\n\t\t\tfor (const callback of providedCallbacks) manager.addHandler((0,_callbacks_manager_js__WEBPACK_IMPORTED_MODULE_0__.ensureHandler)(callback), true);\n\t\t\tcopy.callbacks = manager;\n\t\t}\n\t\telse if (providedCallbacks) if (!baseCallbacks) copy.callbacks = providedCallbacks;\n\t\telse if (Array.isArray(baseCallbacks)) {\n\t\t\tconst manager = providedCallbacks.copy();\n\t\t\tfor (const callback of baseCallbacks) manager.addHandler((0,_callbacks_manager_js__WEBPACK_IMPORTED_MODULE_0__.ensureHandler)(callback), true);\n\t\t\tcopy.callbacks = manager;\n\t\t} else copy.callbacks = new _callbacks_manager_js__WEBPACK_IMPORTED_MODULE_0__.CallbackManager(providedCallbacks._parentRunId, {\n\t\t\thandlers: baseCallbacks.handlers.concat(providedCallbacks.handlers),\n\t\t\tinheritableHandlers: baseCallbacks.inheritableHandlers.concat(providedCallbacks.inheritableHandlers),\n\t\t\ttags: Array.from(new Set(baseCallbacks.tags.concat(providedCallbacks.tags))),\n\t\t\tinheritableTags: Array.from(new Set(baseCallbacks.inheritableTags.concat(providedCallbacks.inheritableTags))),\n\t\t\tmetadata: {\n\t\t\t\t...baseCallbacks.metadata,\n\t\t\t\t...providedCallbacks.metadata\n\t\t\t}\n\t\t});\n\t} else {\n\t\tconst typedKey = key;\n\t\tcopy[typedKey] = options[typedKey] ?? copy[typedKey];\n\t}\n\treturn copy;\n}\nconst PRIMITIVES = new Set([\n\t\"string\",\n\t\"number\",\n\t\"boolean\"\n]);\n/**\n* Ensure that a passed config is an object with all required keys present.\n*/\nfunction ensureConfig(config) {\n\tconst implicitConfig = _singletons_async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_1__.AsyncLocalStorageProviderSingleton.getRunnableConfig();\n\tlet empty = {\n\t\ttags: [],\n\t\tmetadata: {},\n\t\trecursionLimit: 25,\n\t\trunId: void 0\n\t};\n\tif (implicitConfig) {\n\t\tconst { runId, runName,...rest } = implicitConfig;\n\t\tempty = Object.entries(rest).reduce((currentConfig, [key, value]) => {\n\t\t\tif (value !== void 0) currentConfig[key] = value;\n\t\t\treturn currentConfig;\n\t\t}, empty);\n\t}\n\tif (config) empty = Object.entries(config).reduce((currentConfig, [key, value]) => {\n\t\tif (value !== void 0) currentConfig[key] = value;\n\t\treturn currentConfig;\n\t}, empty);\n\tif (empty?.configurable) {\n\t\tfor (const key of Object.keys(empty.configurable)) if (PRIMITIVES.has(typeof empty.configurable[key]) && !empty.metadata?.[key]) {\n\t\t\tif (!empty.metadata) empty.metadata = {};\n\t\t\tempty.metadata[key] = empty.configurable[key];\n\t\t}\n\t}\n\tif (empty.timeout !== void 0) {\n\t\tif (empty.timeout <= 0) throw new Error(\"Timeout must be a positive number\");\n\t\tconst timeoutSignal = AbortSignal.timeout(empty.timeout);\n\t\tif (empty.signal !== void 0) {\n\t\t\tif (\"any\" in AbortSignal) empty.signal = AbortSignal.any([empty.signal, timeoutSignal]);\n\t\t} else empty.signal = timeoutSignal;\n\t\tdelete empty.timeout;\n\t}\n\treturn empty;\n}\n/**\n* Helper function that patches runnable configs with updated properties.\n*/\nfunction patchConfig(config = {}, { callbacks, maxConcurrency, recursionLimit, runName, configurable, runId } = {}) {\n\tconst newConfig = ensureConfig(config);\n\tif (callbacks !== void 0) {\n\t\t/**\n\t\t* If we're replacing callbacks we need to unset runName\n\t\t* since that should apply only to the same run as the original callbacks\n\t\t*/\n\t\tdelete newConfig.runName;\n\t\tnewConfig.callbacks = callbacks;\n\t}\n\tif (recursionLimit !== void 0) newConfig.recursionLimit = recursionLimit;\n\tif (maxConcurrency !== void 0) newConfig.maxConcurrency = maxConcurrency;\n\tif (runName !== void 0) newConfig.runName = runName;\n\tif (configurable !== void 0) newConfig.configurable = {\n\t\t...newConfig.configurable,\n\t\t...configurable\n\t};\n\tif (runId !== void 0) delete newConfig.runId;\n\treturn newConfig;\n}\nfunction pickRunnableConfigKeys(config) {\n\treturn config ? {\n\t\tconfigurable: config.configurable,\n\t\trecursionLimit: config.recursionLimit,\n\t\tcallbacks: config.callbacks,\n\t\ttags: config.tags,\n\t\tmetadata: config.metadata,\n\t\tmaxConcurrency: config.maxConcurrency,\n\t\ttimeout: config.timeout,\n\t\tsignal: config.signal\n\t} : void 0;\n}\n\n//#endregion\n\n//# sourceMappingURL=config.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9ydW5uYWJsZXMvY29uZmlnLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUF5RTtBQUN1QjtBQUNoRTs7QUFFaEM7QUFDQTtBQUNBO0FBQ0EsUUFBUSxrRUFBZTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSxvRUFBYTtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELG9FQUFhO0FBQ3pFO0FBQ0EsSUFBSSwwQkFBMEIsa0VBQWU7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix3R0FBa0M7QUFDMUQ7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUseUJBQXlCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLElBQUksMEVBQTBFLElBQUk7QUFDbEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNpSTtBQUNqSSIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvcnVubmFibGVzL2NvbmZpZy5qcz85MGU4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENhbGxiYWNrTWFuYWdlciwgZW5zdXJlSGFuZGxlciB9IGZyb20gXCIuLi9jYWxsYmFja3MvbWFuYWdlci5qc1wiO1xuaW1wb3J0IHsgQXN5bmNMb2NhbFN0b3JhZ2VQcm92aWRlclNpbmdsZXRvbiB9IGZyb20gXCIuLi9zaW5nbGV0b25zL2FzeW5jX2xvY2FsX3N0b3JhZ2UvaW5kZXguanNcIjtcbmltcG9ydCBcIi4uL3NpbmdsZXRvbnMvaW5kZXguanNcIjtcblxuLy8jcmVnaW9uIHNyYy9ydW5uYWJsZXMvY29uZmlnLnRzXG5jb25zdCBERUZBVUxUX1JFQ1VSU0lPTl9MSU1JVCA9IDI1O1xuYXN5bmMgZnVuY3Rpb24gZ2V0Q2FsbGJhY2tNYW5hZ2VyRm9yQ29uZmlnKGNvbmZpZykge1xuXHRyZXR1cm4gQ2FsbGJhY2tNYW5hZ2VyLl9jb25maWd1cmVTeW5jKGNvbmZpZz8uY2FsbGJhY2tzLCB2b2lkIDAsIGNvbmZpZz8udGFncywgdm9pZCAwLCBjb25maWc/Lm1ldGFkYXRhKTtcbn1cbmZ1bmN0aW9uIG1lcmdlQ29uZmlncyguLi5jb25maWdzKSB7XG5cdGNvbnN0IGNvcHkgPSB7fTtcblx0Zm9yIChjb25zdCBvcHRpb25zIG9mIGNvbmZpZ3MuZmlsdGVyKChjKSA9PiAhIWMpKSBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhvcHRpb25zKSkgaWYgKGtleSA9PT0gXCJtZXRhZGF0YVwiKSBjb3B5W2tleV0gPSB7XG5cdFx0Li4uY29weVtrZXldLFxuXHRcdC4uLm9wdGlvbnNba2V5XVxuXHR9O1xuXHRlbHNlIGlmIChrZXkgPT09IFwidGFnc1wiKSB7XG5cdFx0Y29uc3QgYmFzZUtleXMgPSBjb3B5W2tleV0gPz8gW107XG5cdFx0Y29weVtrZXldID0gWy4uLm5ldyBTZXQoYmFzZUtleXMuY29uY2F0KG9wdGlvbnNba2V5XSA/PyBbXSkpXTtcblx0fSBlbHNlIGlmIChrZXkgPT09IFwiY29uZmlndXJhYmxlXCIpIGNvcHlba2V5XSA9IHtcblx0XHQuLi5jb3B5W2tleV0sXG5cdFx0Li4ub3B0aW9uc1trZXldXG5cdH07XG5cdGVsc2UgaWYgKGtleSA9PT0gXCJ0aW1lb3V0XCIpIHtcblx0XHRpZiAoY29weS50aW1lb3V0ID09PSB2b2lkIDApIGNvcHkudGltZW91dCA9IG9wdGlvbnMudGltZW91dDtcblx0XHRlbHNlIGlmIChvcHRpb25zLnRpbWVvdXQgIT09IHZvaWQgMCkgY29weS50aW1lb3V0ID0gTWF0aC5taW4oY29weS50aW1lb3V0LCBvcHRpb25zLnRpbWVvdXQpO1xuXHR9IGVsc2UgaWYgKGtleSA9PT0gXCJzaWduYWxcIikge1xuXHRcdGlmIChjb3B5LnNpZ25hbCA9PT0gdm9pZCAwKSBjb3B5LnNpZ25hbCA9IG9wdGlvbnMuc2lnbmFsO1xuXHRcdGVsc2UgaWYgKG9wdGlvbnMuc2lnbmFsICE9PSB2b2lkIDApIGlmIChcImFueVwiIGluIEFib3J0U2lnbmFsKSBjb3B5LnNpZ25hbCA9IEFib3J0U2lnbmFsLmFueShbY29weS5zaWduYWwsIG9wdGlvbnMuc2lnbmFsXSk7XG5cdFx0ZWxzZSBjb3B5LnNpZ25hbCA9IG9wdGlvbnMuc2lnbmFsO1xuXHR9IGVsc2UgaWYgKGtleSA9PT0gXCJjYWxsYmFja3NcIikge1xuXHRcdGNvbnN0IGJhc2VDYWxsYmFja3MgPSBjb3B5LmNhbGxiYWNrcztcblx0XHRjb25zdCBwcm92aWRlZENhbGxiYWNrcyA9IG9wdGlvbnMuY2FsbGJhY2tzO1xuXHRcdGlmIChBcnJheS5pc0FycmF5KHByb3ZpZGVkQ2FsbGJhY2tzKSkgaWYgKCFiYXNlQ2FsbGJhY2tzKSBjb3B5LmNhbGxiYWNrcyA9IHByb3ZpZGVkQ2FsbGJhY2tzO1xuXHRcdGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYmFzZUNhbGxiYWNrcykpIGNvcHkuY2FsbGJhY2tzID0gYmFzZUNhbGxiYWNrcy5jb25jYXQocHJvdmlkZWRDYWxsYmFja3MpO1xuXHRcdGVsc2Uge1xuXHRcdFx0Y29uc3QgbWFuYWdlciA9IGJhc2VDYWxsYmFja3MuY29weSgpO1xuXHRcdFx0Zm9yIChjb25zdCBjYWxsYmFjayBvZiBwcm92aWRlZENhbGxiYWNrcykgbWFuYWdlci5hZGRIYW5kbGVyKGVuc3VyZUhhbmRsZXIoY2FsbGJhY2spLCB0cnVlKTtcblx0XHRcdGNvcHkuY2FsbGJhY2tzID0gbWFuYWdlcjtcblx0XHR9XG5cdFx0ZWxzZSBpZiAocHJvdmlkZWRDYWxsYmFja3MpIGlmICghYmFzZUNhbGxiYWNrcykgY29weS5jYWxsYmFja3MgPSBwcm92aWRlZENhbGxiYWNrcztcblx0XHRlbHNlIGlmIChBcnJheS5pc0FycmF5KGJhc2VDYWxsYmFja3MpKSB7XG5cdFx0XHRjb25zdCBtYW5hZ2VyID0gcHJvdmlkZWRDYWxsYmFja3MuY29weSgpO1xuXHRcdFx0Zm9yIChjb25zdCBjYWxsYmFjayBvZiBiYXNlQ2FsbGJhY2tzKSBtYW5hZ2VyLmFkZEhhbmRsZXIoZW5zdXJlSGFuZGxlcihjYWxsYmFjayksIHRydWUpO1xuXHRcdFx0Y29weS5jYWxsYmFja3MgPSBtYW5hZ2VyO1xuXHRcdH0gZWxzZSBjb3B5LmNhbGxiYWNrcyA9IG5ldyBDYWxsYmFja01hbmFnZXIocHJvdmlkZWRDYWxsYmFja3MuX3BhcmVudFJ1bklkLCB7XG5cdFx0XHRoYW5kbGVyczogYmFzZUNhbGxiYWNrcy5oYW5kbGVycy5jb25jYXQocHJvdmlkZWRDYWxsYmFja3MuaGFuZGxlcnMpLFxuXHRcdFx0aW5oZXJpdGFibGVIYW5kbGVyczogYmFzZUNhbGxiYWNrcy5pbmhlcml0YWJsZUhhbmRsZXJzLmNvbmNhdChwcm92aWRlZENhbGxiYWNrcy5pbmhlcml0YWJsZUhhbmRsZXJzKSxcblx0XHRcdHRhZ3M6IEFycmF5LmZyb20obmV3IFNldChiYXNlQ2FsbGJhY2tzLnRhZ3MuY29uY2F0KHByb3ZpZGVkQ2FsbGJhY2tzLnRhZ3MpKSksXG5cdFx0XHRpbmhlcml0YWJsZVRhZ3M6IEFycmF5LmZyb20obmV3IFNldChiYXNlQ2FsbGJhY2tzLmluaGVyaXRhYmxlVGFncy5jb25jYXQocHJvdmlkZWRDYWxsYmFja3MuaW5oZXJpdGFibGVUYWdzKSkpLFxuXHRcdFx0bWV0YWRhdGE6IHtcblx0XHRcdFx0Li4uYmFzZUNhbGxiYWNrcy5tZXRhZGF0YSxcblx0XHRcdFx0Li4ucHJvdmlkZWRDYWxsYmFja3MubWV0YWRhdGFcblx0XHRcdH1cblx0XHR9KTtcblx0fSBlbHNlIHtcblx0XHRjb25zdCB0eXBlZEtleSA9IGtleTtcblx0XHRjb3B5W3R5cGVkS2V5XSA9IG9wdGlvbnNbdHlwZWRLZXldID8/IGNvcHlbdHlwZWRLZXldO1xuXHR9XG5cdHJldHVybiBjb3B5O1xufVxuY29uc3QgUFJJTUlUSVZFUyA9IG5ldyBTZXQoW1xuXHRcInN0cmluZ1wiLFxuXHRcIm51bWJlclwiLFxuXHRcImJvb2xlYW5cIlxuXSk7XG4vKipcbiogRW5zdXJlIHRoYXQgYSBwYXNzZWQgY29uZmlnIGlzIGFuIG9iamVjdCB3aXRoIGFsbCByZXF1aXJlZCBrZXlzIHByZXNlbnQuXG4qL1xuZnVuY3Rpb24gZW5zdXJlQ29uZmlnKGNvbmZpZykge1xuXHRjb25zdCBpbXBsaWNpdENvbmZpZyA9IEFzeW5jTG9jYWxTdG9yYWdlUHJvdmlkZXJTaW5nbGV0b24uZ2V0UnVubmFibGVDb25maWcoKTtcblx0bGV0IGVtcHR5ID0ge1xuXHRcdHRhZ3M6IFtdLFxuXHRcdG1ldGFkYXRhOiB7fSxcblx0XHRyZWN1cnNpb25MaW1pdDogMjUsXG5cdFx0cnVuSWQ6IHZvaWQgMFxuXHR9O1xuXHRpZiAoaW1wbGljaXRDb25maWcpIHtcblx0XHRjb25zdCB7IHJ1bklkLCBydW5OYW1lLC4uLnJlc3QgfSA9IGltcGxpY2l0Q29uZmlnO1xuXHRcdGVtcHR5ID0gT2JqZWN0LmVudHJpZXMocmVzdCkucmVkdWNlKChjdXJyZW50Q29uZmlnLCBba2V5LCB2YWx1ZV0pID0+IHtcblx0XHRcdGlmICh2YWx1ZSAhPT0gdm9pZCAwKSBjdXJyZW50Q29uZmlnW2tleV0gPSB2YWx1ZTtcblx0XHRcdHJldHVybiBjdXJyZW50Q29uZmlnO1xuXHRcdH0sIGVtcHR5KTtcblx0fVxuXHRpZiAoY29uZmlnKSBlbXB0eSA9IE9iamVjdC5lbnRyaWVzKGNvbmZpZykucmVkdWNlKChjdXJyZW50Q29uZmlnLCBba2V5LCB2YWx1ZV0pID0+IHtcblx0XHRpZiAodmFsdWUgIT09IHZvaWQgMCkgY3VycmVudENvbmZpZ1trZXldID0gdmFsdWU7XG5cdFx0cmV0dXJuIGN1cnJlbnRDb25maWc7XG5cdH0sIGVtcHR5KTtcblx0aWYgKGVtcHR5Py5jb25maWd1cmFibGUpIHtcblx0XHRmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhlbXB0eS5jb25maWd1cmFibGUpKSBpZiAoUFJJTUlUSVZFUy5oYXModHlwZW9mIGVtcHR5LmNvbmZpZ3VyYWJsZVtrZXldKSAmJiAhZW1wdHkubWV0YWRhdGE/LltrZXldKSB7XG5cdFx0XHRpZiAoIWVtcHR5Lm1ldGFkYXRhKSBlbXB0eS5tZXRhZGF0YSA9IHt9O1xuXHRcdFx0ZW1wdHkubWV0YWRhdGFba2V5XSA9IGVtcHR5LmNvbmZpZ3VyYWJsZVtrZXldO1xuXHRcdH1cblx0fVxuXHRpZiAoZW1wdHkudGltZW91dCAhPT0gdm9pZCAwKSB7XG5cdFx0aWYgKGVtcHR5LnRpbWVvdXQgPD0gMCkgdGhyb3cgbmV3IEVycm9yKFwiVGltZW91dCBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyXCIpO1xuXHRcdGNvbnN0IHRpbWVvdXRTaWduYWwgPSBBYm9ydFNpZ25hbC50aW1lb3V0KGVtcHR5LnRpbWVvdXQpO1xuXHRcdGlmIChlbXB0eS5zaWduYWwgIT09IHZvaWQgMCkge1xuXHRcdFx0aWYgKFwiYW55XCIgaW4gQWJvcnRTaWduYWwpIGVtcHR5LnNpZ25hbCA9IEFib3J0U2lnbmFsLmFueShbZW1wdHkuc2lnbmFsLCB0aW1lb3V0U2lnbmFsXSk7XG5cdFx0fSBlbHNlIGVtcHR5LnNpZ25hbCA9IHRpbWVvdXRTaWduYWw7XG5cdFx0ZGVsZXRlIGVtcHR5LnRpbWVvdXQ7XG5cdH1cblx0cmV0dXJuIGVtcHR5O1xufVxuLyoqXG4qIEhlbHBlciBmdW5jdGlvbiB0aGF0IHBhdGNoZXMgcnVubmFibGUgY29uZmlncyB3aXRoIHVwZGF0ZWQgcHJvcGVydGllcy5cbiovXG5mdW5jdGlvbiBwYXRjaENvbmZpZyhjb25maWcgPSB7fSwgeyBjYWxsYmFja3MsIG1heENvbmN1cnJlbmN5LCByZWN1cnNpb25MaW1pdCwgcnVuTmFtZSwgY29uZmlndXJhYmxlLCBydW5JZCB9ID0ge30pIHtcblx0Y29uc3QgbmV3Q29uZmlnID0gZW5zdXJlQ29uZmlnKGNvbmZpZyk7XG5cdGlmIChjYWxsYmFja3MgIT09IHZvaWQgMCkge1xuXHRcdC8qKlxuXHRcdCogSWYgd2UncmUgcmVwbGFjaW5nIGNhbGxiYWNrcyB3ZSBuZWVkIHRvIHVuc2V0IHJ1bk5hbWVcblx0XHQqIHNpbmNlIHRoYXQgc2hvdWxkIGFwcGx5IG9ubHkgdG8gdGhlIHNhbWUgcnVuIGFzIHRoZSBvcmlnaW5hbCBjYWxsYmFja3Ncblx0XHQqL1xuXHRcdGRlbGV0ZSBuZXdDb25maWcucnVuTmFtZTtcblx0XHRuZXdDb25maWcuY2FsbGJhY2tzID0gY2FsbGJhY2tzO1xuXHR9XG5cdGlmIChyZWN1cnNpb25MaW1pdCAhPT0gdm9pZCAwKSBuZXdDb25maWcucmVjdXJzaW9uTGltaXQgPSByZWN1cnNpb25MaW1pdDtcblx0aWYgKG1heENvbmN1cnJlbmN5ICE9PSB2b2lkIDApIG5ld0NvbmZpZy5tYXhDb25jdXJyZW5jeSA9IG1heENvbmN1cnJlbmN5O1xuXHRpZiAocnVuTmFtZSAhPT0gdm9pZCAwKSBuZXdDb25maWcucnVuTmFtZSA9IHJ1bk5hbWU7XG5cdGlmIChjb25maWd1cmFibGUgIT09IHZvaWQgMCkgbmV3Q29uZmlnLmNvbmZpZ3VyYWJsZSA9IHtcblx0XHQuLi5uZXdDb25maWcuY29uZmlndXJhYmxlLFxuXHRcdC4uLmNvbmZpZ3VyYWJsZVxuXHR9O1xuXHRpZiAocnVuSWQgIT09IHZvaWQgMCkgZGVsZXRlIG5ld0NvbmZpZy5ydW5JZDtcblx0cmV0dXJuIG5ld0NvbmZpZztcbn1cbmZ1bmN0aW9uIHBpY2tSdW5uYWJsZUNvbmZpZ0tleXMoY29uZmlnKSB7XG5cdHJldHVybiBjb25maWcgPyB7XG5cdFx0Y29uZmlndXJhYmxlOiBjb25maWcuY29uZmlndXJhYmxlLFxuXHRcdHJlY3Vyc2lvbkxpbWl0OiBjb25maWcucmVjdXJzaW9uTGltaXQsXG5cdFx0Y2FsbGJhY2tzOiBjb25maWcuY2FsbGJhY2tzLFxuXHRcdHRhZ3M6IGNvbmZpZy50YWdzLFxuXHRcdG1ldGFkYXRhOiBjb25maWcubWV0YWRhdGEsXG5cdFx0bWF4Q29uY3VycmVuY3k6IGNvbmZpZy5tYXhDb25jdXJyZW5jeSxcblx0XHR0aW1lb3V0OiBjb25maWcudGltZW91dCxcblx0XHRzaWduYWw6IGNvbmZpZy5zaWduYWxcblx0fSA6IHZvaWQgMDtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBERUZBVUxUX1JFQ1VSU0lPTl9MSU1JVCwgZW5zdXJlQ29uZmlnLCBnZXRDYWxsYmFja01hbmFnZXJGb3JDb25maWcsIG1lcmdlQ29uZmlncywgcGF0Y2hDb25maWcsIHBpY2tSdW5uYWJsZUNvbmZpZ0tleXMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmZpZy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/config.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/graph.js":
/*!*******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/graph.js ***!
  \*******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Graph: () => (/* binding */ Graph),\n/* harmony export */   graph_exports: () => (/* binding */ graph_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/utils.js\");\n/* harmony import */ var _graph_mermaid_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./graph_mermaid.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/graph_mermaid.js\");\n/* harmony import */ var _utils_json_schema_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/json_schema.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/json_schema.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/.pnpm/uuid@10.0.0/node_modules/uuid/dist/esm-node/validate.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/.pnpm/uuid@10.0.0/node_modules/uuid/dist/esm-node/v4.js\");\n\n\n\n\n\n\n//#region src/runnables/graph.ts\nvar graph_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(graph_exports, { Graph: () => Graph });\nfunction nodeDataStr(id, data) {\n\tif (id !== void 0 && !(0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(id)) return id;\n\telse if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isRunnableInterface)(data)) try {\n\t\tlet dataStr = data.getName();\n\t\tdataStr = dataStr.startsWith(\"Runnable\") ? dataStr.slice(8) : dataStr;\n\t\treturn dataStr;\n\t} catch {\n\t\treturn data.getName();\n\t}\n\telse return data.name ?? \"UnknownSchema\";\n}\nfunction nodeDataJson(node) {\n\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isRunnableInterface)(node.data)) return {\n\t\ttype: \"runnable\",\n\t\tdata: {\n\t\t\tid: node.data.lc_id,\n\t\t\tname: node.data.getName()\n\t\t}\n\t};\n\telse return {\n\t\ttype: \"schema\",\n\t\tdata: {\n\t\t\t...(0,_utils_json_schema_js__WEBPACK_IMPORTED_MODULE_3__.toJsonSchema)(node.data.schema),\n\t\t\ttitle: node.data.name\n\t\t}\n\t};\n}\nvar Graph = class Graph {\n\tnodes = {};\n\tedges = [];\n\tconstructor(params) {\n\t\tthis.nodes = params?.nodes ?? this.nodes;\n\t\tthis.edges = params?.edges ?? this.edges;\n\t}\n\ttoJSON() {\n\t\tconst stableNodeIds = {};\n\t\tObject.values(this.nodes).forEach((node, i) => {\n\t\t\tstableNodeIds[node.id] = (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(node.id) ? i : node.id;\n\t\t});\n\t\treturn {\n\t\t\tnodes: Object.values(this.nodes).map((node) => ({\n\t\t\t\tid: stableNodeIds[node.id],\n\t\t\t\t...nodeDataJson(node)\n\t\t\t})),\n\t\t\tedges: this.edges.map((edge) => {\n\t\t\t\tconst item = {\n\t\t\t\t\tsource: stableNodeIds[edge.source],\n\t\t\t\t\ttarget: stableNodeIds[edge.target]\n\t\t\t\t};\n\t\t\t\tif (typeof edge.data !== \"undefined\") item.data = edge.data;\n\t\t\t\tif (typeof edge.conditional !== \"undefined\") item.conditional = edge.conditional;\n\t\t\t\treturn item;\n\t\t\t})\n\t\t};\n\t}\n\taddNode(data, id, metadata) {\n\t\tif (id !== void 0 && this.nodes[id] !== void 0) throw new Error(`Node with id ${id} already exists`);\n\t\tconst nodeId = id ?? (0,uuid__WEBPACK_IMPORTED_MODULE_5__[\"default\"])();\n\t\tconst node = {\n\t\t\tid: nodeId,\n\t\t\tdata,\n\t\t\tname: nodeDataStr(id, data),\n\t\t\tmetadata\n\t\t};\n\t\tthis.nodes[nodeId] = node;\n\t\treturn node;\n\t}\n\tremoveNode(node) {\n\t\tdelete this.nodes[node.id];\n\t\tthis.edges = this.edges.filter((edge) => edge.source !== node.id && edge.target !== node.id);\n\t}\n\taddEdge(source, target, data, conditional) {\n\t\tif (this.nodes[source.id] === void 0) throw new Error(`Source node ${source.id} not in graph`);\n\t\tif (this.nodes[target.id] === void 0) throw new Error(`Target node ${target.id} not in graph`);\n\t\tconst edge = {\n\t\t\tsource: source.id,\n\t\t\ttarget: target.id,\n\t\t\tdata,\n\t\t\tconditional\n\t\t};\n\t\tthis.edges.push(edge);\n\t\treturn edge;\n\t}\n\tfirstNode() {\n\t\treturn _firstNode(this);\n\t}\n\tlastNode() {\n\t\treturn _lastNode(this);\n\t}\n\t/**\n\t* Add all nodes and edges from another graph.\n\t* Note this doesn't check for duplicates, nor does it connect the graphs.\n\t*/\n\textend(graph, prefix = \"\") {\n\t\tlet finalPrefix = prefix;\n\t\tconst nodeIds = Object.values(graph.nodes).map((node) => node.id);\n\t\tif (nodeIds.every(uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])) finalPrefix = \"\";\n\t\tconst prefixed = (id) => {\n\t\t\treturn finalPrefix ? `${finalPrefix}:${id}` : id;\n\t\t};\n\t\tObject.entries(graph.nodes).forEach(([key, value]) => {\n\t\t\tthis.nodes[prefixed(key)] = {\n\t\t\t\t...value,\n\t\t\t\tid: prefixed(key)\n\t\t\t};\n\t\t});\n\t\tconst newEdges = graph.edges.map((edge) => {\n\t\t\treturn {\n\t\t\t\t...edge,\n\t\t\t\tsource: prefixed(edge.source),\n\t\t\t\ttarget: prefixed(edge.target)\n\t\t\t};\n\t\t});\n\t\tthis.edges = [...this.edges, ...newEdges];\n\t\tconst first = graph.firstNode();\n\t\tconst last = graph.lastNode();\n\t\treturn [first ? {\n\t\t\tid: prefixed(first.id),\n\t\t\tdata: first.data\n\t\t} : void 0, last ? {\n\t\t\tid: prefixed(last.id),\n\t\t\tdata: last.data\n\t\t} : void 0];\n\t}\n\ttrimFirstNode() {\n\t\tconst firstNode = this.firstNode();\n\t\tif (firstNode && _firstNode(this, [firstNode.id])) this.removeNode(firstNode);\n\t}\n\ttrimLastNode() {\n\t\tconst lastNode = this.lastNode();\n\t\tif (lastNode && _lastNode(this, [lastNode.id])) this.removeNode(lastNode);\n\t}\n\t/**\n\t* Return a new graph with all nodes re-identified,\n\t* using their unique, readable names where possible.\n\t*/\n\treid() {\n\t\tconst nodeLabels = Object.fromEntries(Object.values(this.nodes).map((node) => [node.id, node.name]));\n\t\tconst nodeLabelCounts = /* @__PURE__ */ new Map();\n\t\tObject.values(nodeLabels).forEach((label) => {\n\t\t\tnodeLabelCounts.set(label, (nodeLabelCounts.get(label) || 0) + 1);\n\t\t});\n\t\tconst getNodeId = (nodeId) => {\n\t\t\tconst label = nodeLabels[nodeId];\n\t\t\tif ((0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(nodeId) && nodeLabelCounts.get(label) === 1) return label;\n\t\t\telse return nodeId;\n\t\t};\n\t\treturn new Graph({\n\t\t\tnodes: Object.fromEntries(Object.entries(this.nodes).map(([id, node]) => [getNodeId(id), {\n\t\t\t\t...node,\n\t\t\t\tid: getNodeId(id)\n\t\t\t}])),\n\t\t\tedges: this.edges.map((edge) => ({\n\t\t\t\t...edge,\n\t\t\t\tsource: getNodeId(edge.source),\n\t\t\t\ttarget: getNodeId(edge.target)\n\t\t\t}))\n\t\t});\n\t}\n\tdrawMermaid(params) {\n\t\tconst { withStyles, curveStyle, nodeColors = {\n\t\t\tdefault: \"fill:#f2f0ff,line-height:1.2\",\n\t\t\tfirst: \"fill-opacity:0\",\n\t\t\tlast: \"fill:#bfb6fc\"\n\t\t}, wrapLabelNWords } = params ?? {};\n\t\tconst graph = this.reid();\n\t\tconst firstNode = graph.firstNode();\n\t\tconst lastNode = graph.lastNode();\n\t\treturn (0,_graph_mermaid_js__WEBPACK_IMPORTED_MODULE_2__.drawMermaid)(graph.nodes, graph.edges, {\n\t\t\tfirstNode: firstNode?.id,\n\t\t\tlastNode: lastNode?.id,\n\t\t\twithStyles,\n\t\t\tcurveStyle,\n\t\t\tnodeColors,\n\t\t\twrapLabelNWords\n\t\t});\n\t}\n\tasync drawMermaidPng(params) {\n\t\tconst mermaidSyntax = this.drawMermaid(params);\n\t\treturn (0,_graph_mermaid_js__WEBPACK_IMPORTED_MODULE_2__.drawMermaidImage)(mermaidSyntax, { backgroundColor: params?.backgroundColor });\n\t}\n};\n/**\n* Find the single node that is not a target of any edge.\n* Exclude nodes/sources with ids in the exclude list.\n* If there is no such node, or there are multiple, return undefined.\n* When drawing the graph, this node would be the origin.\n*/\nfunction _firstNode(graph, exclude = []) {\n\tconst targets = new Set(graph.edges.filter((edge) => !exclude.includes(edge.source)).map((edge) => edge.target));\n\tconst found = [];\n\tfor (const node of Object.values(graph.nodes)) if (!exclude.includes(node.id) && !targets.has(node.id)) found.push(node);\n\treturn found.length === 1 ? found[0] : void 0;\n}\n/**\n* Find the single node that is not a source of any edge.\n* Exclude nodes/targets with ids in the exclude list.\n* If there is no such node, or there are multiple, return undefined.\n* When drawing the graph, this node would be the destination.\n*/\nfunction _lastNode(graph, exclude = []) {\n\tconst sources = new Set(graph.edges.filter((edge) => !exclude.includes(edge.target)).map((edge) => edge.source));\n\tconst found = [];\n\tfor (const node of Object.values(graph.nodes)) if (!exclude.includes(node.id) && !sources.has(node.id)) found.push(node);\n\treturn found.length === 1 ? found[0] : void 0;\n}\n\n//#endregion\n\n//# sourceMappingURL=graph.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9ydW5uYWJsZXMvZ3JhcGguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBMkQ7QUFDVjtBQUNrQjtBQUNaO0FBQ25COztBQUVwQztBQUNBO0FBQ0Esc0VBQVEsa0JBQWtCLG9CQUFvQjtBQUM5QztBQUNBLHVCQUF1QixnREFBUTtBQUMvQixVQUFVLDhEQUFtQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssOERBQW1CO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sbUVBQVk7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixnREFBUTtBQUNwQyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxrRkFBa0YsSUFBSTtBQUN0Rix1QkFBdUIsZ0RBQUU7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVFQUF1RSxXQUFXO0FBQ2xGLHVFQUF1RSxXQUFXO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDRDQUFRO0FBQzVCO0FBQ0EsMkJBQTJCLFlBQVksR0FBRyxHQUFHO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxPQUFPLGdEQUFRO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7QUFDSDtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLEdBQUcsb0JBQW9CO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLFNBQVMsOERBQVc7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFNBQVMsbUVBQWdCLGtCQUFrQiwwQ0FBMEM7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNnQztBQUNoQyIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvcnVubmFibGVzL2dyYXBoLmpzPzk5ODIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19leHBvcnQgfSBmcm9tIFwiLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5qc1wiO1xuaW1wb3J0IHsgaXNSdW5uYWJsZUludGVyZmFjZSB9IGZyb20gXCIuL3V0aWxzLmpzXCI7XG5pbXBvcnQgeyBkcmF3TWVybWFpZCwgZHJhd01lcm1haWRJbWFnZSB9IGZyb20gXCIuL2dyYXBoX21lcm1haWQuanNcIjtcbmltcG9ydCB7IHRvSnNvblNjaGVtYSB9IGZyb20gXCIuLi91dGlscy9qc29uX3NjaGVtYS5qc1wiO1xuaW1wb3J0IHsgdjQsIHZhbGlkYXRlIH0gZnJvbSBcInV1aWRcIjtcblxuLy8jcmVnaW9uIHNyYy9ydW5uYWJsZXMvZ3JhcGgudHNcbnZhciBncmFwaF9leHBvcnRzID0ge307XG5fX2V4cG9ydChncmFwaF9leHBvcnRzLCB7IEdyYXBoOiAoKSA9PiBHcmFwaCB9KTtcbmZ1bmN0aW9uIG5vZGVEYXRhU3RyKGlkLCBkYXRhKSB7XG5cdGlmIChpZCAhPT0gdm9pZCAwICYmICF2YWxpZGF0ZShpZCkpIHJldHVybiBpZDtcblx0ZWxzZSBpZiAoaXNSdW5uYWJsZUludGVyZmFjZShkYXRhKSkgdHJ5IHtcblx0XHRsZXQgZGF0YVN0ciA9IGRhdGEuZ2V0TmFtZSgpO1xuXHRcdGRhdGFTdHIgPSBkYXRhU3RyLnN0YXJ0c1dpdGgoXCJSdW5uYWJsZVwiKSA/IGRhdGFTdHIuc2xpY2UoOCkgOiBkYXRhU3RyO1xuXHRcdHJldHVybiBkYXRhU3RyO1xuXHR9IGNhdGNoIHtcblx0XHRyZXR1cm4gZGF0YS5nZXROYW1lKCk7XG5cdH1cblx0ZWxzZSByZXR1cm4gZGF0YS5uYW1lID8/IFwiVW5rbm93blNjaGVtYVwiO1xufVxuZnVuY3Rpb24gbm9kZURhdGFKc29uKG5vZGUpIHtcblx0aWYgKGlzUnVubmFibGVJbnRlcmZhY2Uobm9kZS5kYXRhKSkgcmV0dXJuIHtcblx0XHR0eXBlOiBcInJ1bm5hYmxlXCIsXG5cdFx0ZGF0YToge1xuXHRcdFx0aWQ6IG5vZGUuZGF0YS5sY19pZCxcblx0XHRcdG5hbWU6IG5vZGUuZGF0YS5nZXROYW1lKClcblx0XHR9XG5cdH07XG5cdGVsc2UgcmV0dXJuIHtcblx0XHR0eXBlOiBcInNjaGVtYVwiLFxuXHRcdGRhdGE6IHtcblx0XHRcdC4uLnRvSnNvblNjaGVtYShub2RlLmRhdGEuc2NoZW1hKSxcblx0XHRcdHRpdGxlOiBub2RlLmRhdGEubmFtZVxuXHRcdH1cblx0fTtcbn1cbnZhciBHcmFwaCA9IGNsYXNzIEdyYXBoIHtcblx0bm9kZXMgPSB7fTtcblx0ZWRnZXMgPSBbXTtcblx0Y29uc3RydWN0b3IocGFyYW1zKSB7XG5cdFx0dGhpcy5ub2RlcyA9IHBhcmFtcz8ubm9kZXMgPz8gdGhpcy5ub2Rlcztcblx0XHR0aGlzLmVkZ2VzID0gcGFyYW1zPy5lZGdlcyA/PyB0aGlzLmVkZ2VzO1xuXHR9XG5cdHRvSlNPTigpIHtcblx0XHRjb25zdCBzdGFibGVOb2RlSWRzID0ge307XG5cdFx0T2JqZWN0LnZhbHVlcyh0aGlzLm5vZGVzKS5mb3JFYWNoKChub2RlLCBpKSA9PiB7XG5cdFx0XHRzdGFibGVOb2RlSWRzW25vZGUuaWRdID0gdmFsaWRhdGUobm9kZS5pZCkgPyBpIDogbm9kZS5pZDtcblx0XHR9KTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0bm9kZXM6IE9iamVjdC52YWx1ZXModGhpcy5ub2RlcykubWFwKChub2RlKSA9PiAoe1xuXHRcdFx0XHRpZDogc3RhYmxlTm9kZUlkc1tub2RlLmlkXSxcblx0XHRcdFx0Li4ubm9kZURhdGFKc29uKG5vZGUpXG5cdFx0XHR9KSksXG5cdFx0XHRlZGdlczogdGhpcy5lZGdlcy5tYXAoKGVkZ2UpID0+IHtcblx0XHRcdFx0Y29uc3QgaXRlbSA9IHtcblx0XHRcdFx0XHRzb3VyY2U6IHN0YWJsZU5vZGVJZHNbZWRnZS5zb3VyY2VdLFxuXHRcdFx0XHRcdHRhcmdldDogc3RhYmxlTm9kZUlkc1tlZGdlLnRhcmdldF1cblx0XHRcdFx0fTtcblx0XHRcdFx0aWYgKHR5cGVvZiBlZGdlLmRhdGEgIT09IFwidW5kZWZpbmVkXCIpIGl0ZW0uZGF0YSA9IGVkZ2UuZGF0YTtcblx0XHRcdFx0aWYgKHR5cGVvZiBlZGdlLmNvbmRpdGlvbmFsICE9PSBcInVuZGVmaW5lZFwiKSBpdGVtLmNvbmRpdGlvbmFsID0gZWRnZS5jb25kaXRpb25hbDtcblx0XHRcdFx0cmV0dXJuIGl0ZW07XG5cdFx0XHR9KVxuXHRcdH07XG5cdH1cblx0YWRkTm9kZShkYXRhLCBpZCwgbWV0YWRhdGEpIHtcblx0XHRpZiAoaWQgIT09IHZvaWQgMCAmJiB0aGlzLm5vZGVzW2lkXSAhPT0gdm9pZCAwKSB0aHJvdyBuZXcgRXJyb3IoYE5vZGUgd2l0aCBpZCAke2lkfSBhbHJlYWR5IGV4aXN0c2ApO1xuXHRcdGNvbnN0IG5vZGVJZCA9IGlkID8/IHY0KCk7XG5cdFx0Y29uc3Qgbm9kZSA9IHtcblx0XHRcdGlkOiBub2RlSWQsXG5cdFx0XHRkYXRhLFxuXHRcdFx0bmFtZTogbm9kZURhdGFTdHIoaWQsIGRhdGEpLFxuXHRcdFx0bWV0YWRhdGFcblx0XHR9O1xuXHRcdHRoaXMubm9kZXNbbm9kZUlkXSA9IG5vZGU7XG5cdFx0cmV0dXJuIG5vZGU7XG5cdH1cblx0cmVtb3ZlTm9kZShub2RlKSB7XG5cdFx0ZGVsZXRlIHRoaXMubm9kZXNbbm9kZS5pZF07XG5cdFx0dGhpcy5lZGdlcyA9IHRoaXMuZWRnZXMuZmlsdGVyKChlZGdlKSA9PiBlZGdlLnNvdXJjZSAhPT0gbm9kZS5pZCAmJiBlZGdlLnRhcmdldCAhPT0gbm9kZS5pZCk7XG5cdH1cblx0YWRkRWRnZShzb3VyY2UsIHRhcmdldCwgZGF0YSwgY29uZGl0aW9uYWwpIHtcblx0XHRpZiAodGhpcy5ub2Rlc1tzb3VyY2UuaWRdID09PSB2b2lkIDApIHRocm93IG5ldyBFcnJvcihgU291cmNlIG5vZGUgJHtzb3VyY2UuaWR9IG5vdCBpbiBncmFwaGApO1xuXHRcdGlmICh0aGlzLm5vZGVzW3RhcmdldC5pZF0gPT09IHZvaWQgMCkgdGhyb3cgbmV3IEVycm9yKGBUYXJnZXQgbm9kZSAke3RhcmdldC5pZH0gbm90IGluIGdyYXBoYCk7XG5cdFx0Y29uc3QgZWRnZSA9IHtcblx0XHRcdHNvdXJjZTogc291cmNlLmlkLFxuXHRcdFx0dGFyZ2V0OiB0YXJnZXQuaWQsXG5cdFx0XHRkYXRhLFxuXHRcdFx0Y29uZGl0aW9uYWxcblx0XHR9O1xuXHRcdHRoaXMuZWRnZXMucHVzaChlZGdlKTtcblx0XHRyZXR1cm4gZWRnZTtcblx0fVxuXHRmaXJzdE5vZGUoKSB7XG5cdFx0cmV0dXJuIF9maXJzdE5vZGUodGhpcyk7XG5cdH1cblx0bGFzdE5vZGUoKSB7XG5cdFx0cmV0dXJuIF9sYXN0Tm9kZSh0aGlzKTtcblx0fVxuXHQvKipcblx0KiBBZGQgYWxsIG5vZGVzIGFuZCBlZGdlcyBmcm9tIGFub3RoZXIgZ3JhcGguXG5cdCogTm90ZSB0aGlzIGRvZXNuJ3QgY2hlY2sgZm9yIGR1cGxpY2F0ZXMsIG5vciBkb2VzIGl0IGNvbm5lY3QgdGhlIGdyYXBocy5cblx0Ki9cblx0ZXh0ZW5kKGdyYXBoLCBwcmVmaXggPSBcIlwiKSB7XG5cdFx0bGV0IGZpbmFsUHJlZml4ID0gcHJlZml4O1xuXHRcdGNvbnN0IG5vZGVJZHMgPSBPYmplY3QudmFsdWVzKGdyYXBoLm5vZGVzKS5tYXAoKG5vZGUpID0+IG5vZGUuaWQpO1xuXHRcdGlmIChub2RlSWRzLmV2ZXJ5KHZhbGlkYXRlKSkgZmluYWxQcmVmaXggPSBcIlwiO1xuXHRcdGNvbnN0IHByZWZpeGVkID0gKGlkKSA9PiB7XG5cdFx0XHRyZXR1cm4gZmluYWxQcmVmaXggPyBgJHtmaW5hbFByZWZpeH06JHtpZH1gIDogaWQ7XG5cdFx0fTtcblx0XHRPYmplY3QuZW50cmllcyhncmFwaC5ub2RlcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG5cdFx0XHR0aGlzLm5vZGVzW3ByZWZpeGVkKGtleSldID0ge1xuXHRcdFx0XHQuLi52YWx1ZSxcblx0XHRcdFx0aWQ6IHByZWZpeGVkKGtleSlcblx0XHRcdH07XG5cdFx0fSk7XG5cdFx0Y29uc3QgbmV3RWRnZXMgPSBncmFwaC5lZGdlcy5tYXAoKGVkZ2UpID0+IHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdC4uLmVkZ2UsXG5cdFx0XHRcdHNvdXJjZTogcHJlZml4ZWQoZWRnZS5zb3VyY2UpLFxuXHRcdFx0XHR0YXJnZXQ6IHByZWZpeGVkKGVkZ2UudGFyZ2V0KVxuXHRcdFx0fTtcblx0XHR9KTtcblx0XHR0aGlzLmVkZ2VzID0gWy4uLnRoaXMuZWRnZXMsIC4uLm5ld0VkZ2VzXTtcblx0XHRjb25zdCBmaXJzdCA9IGdyYXBoLmZpcnN0Tm9kZSgpO1xuXHRcdGNvbnN0IGxhc3QgPSBncmFwaC5sYXN0Tm9kZSgpO1xuXHRcdHJldHVybiBbZmlyc3QgPyB7XG5cdFx0XHRpZDogcHJlZml4ZWQoZmlyc3QuaWQpLFxuXHRcdFx0ZGF0YTogZmlyc3QuZGF0YVxuXHRcdH0gOiB2b2lkIDAsIGxhc3QgPyB7XG5cdFx0XHRpZDogcHJlZml4ZWQobGFzdC5pZCksXG5cdFx0XHRkYXRhOiBsYXN0LmRhdGFcblx0XHR9IDogdm9pZCAwXTtcblx0fVxuXHR0cmltRmlyc3ROb2RlKCkge1xuXHRcdGNvbnN0IGZpcnN0Tm9kZSA9IHRoaXMuZmlyc3ROb2RlKCk7XG5cdFx0aWYgKGZpcnN0Tm9kZSAmJiBfZmlyc3ROb2RlKHRoaXMsIFtmaXJzdE5vZGUuaWRdKSkgdGhpcy5yZW1vdmVOb2RlKGZpcnN0Tm9kZSk7XG5cdH1cblx0dHJpbUxhc3ROb2RlKCkge1xuXHRcdGNvbnN0IGxhc3ROb2RlID0gdGhpcy5sYXN0Tm9kZSgpO1xuXHRcdGlmIChsYXN0Tm9kZSAmJiBfbGFzdE5vZGUodGhpcywgW2xhc3ROb2RlLmlkXSkpIHRoaXMucmVtb3ZlTm9kZShsYXN0Tm9kZSk7XG5cdH1cblx0LyoqXG5cdCogUmV0dXJuIGEgbmV3IGdyYXBoIHdpdGggYWxsIG5vZGVzIHJlLWlkZW50aWZpZWQsXG5cdCogdXNpbmcgdGhlaXIgdW5pcXVlLCByZWFkYWJsZSBuYW1lcyB3aGVyZSBwb3NzaWJsZS5cblx0Ki9cblx0cmVpZCgpIHtcblx0XHRjb25zdCBub2RlTGFiZWxzID0gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC52YWx1ZXModGhpcy5ub2RlcykubWFwKChub2RlKSA9PiBbbm9kZS5pZCwgbm9kZS5uYW1lXSkpO1xuXHRcdGNvbnN0IG5vZGVMYWJlbENvdW50cyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG5cdFx0T2JqZWN0LnZhbHVlcyhub2RlTGFiZWxzKS5mb3JFYWNoKChsYWJlbCkgPT4ge1xuXHRcdFx0bm9kZUxhYmVsQ291bnRzLnNldChsYWJlbCwgKG5vZGVMYWJlbENvdW50cy5nZXQobGFiZWwpIHx8IDApICsgMSk7XG5cdFx0fSk7XG5cdFx0Y29uc3QgZ2V0Tm9kZUlkID0gKG5vZGVJZCkgPT4ge1xuXHRcdFx0Y29uc3QgbGFiZWwgPSBub2RlTGFiZWxzW25vZGVJZF07XG5cdFx0XHRpZiAodmFsaWRhdGUobm9kZUlkKSAmJiBub2RlTGFiZWxDb3VudHMuZ2V0KGxhYmVsKSA9PT0gMSkgcmV0dXJuIGxhYmVsO1xuXHRcdFx0ZWxzZSByZXR1cm4gbm9kZUlkO1xuXHRcdH07XG5cdFx0cmV0dXJuIG5ldyBHcmFwaCh7XG5cdFx0XHRub2RlczogT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHRoaXMubm9kZXMpLm1hcCgoW2lkLCBub2RlXSkgPT4gW2dldE5vZGVJZChpZCksIHtcblx0XHRcdFx0Li4ubm9kZSxcblx0XHRcdFx0aWQ6IGdldE5vZGVJZChpZClcblx0XHRcdH1dKSksXG5cdFx0XHRlZGdlczogdGhpcy5lZGdlcy5tYXAoKGVkZ2UpID0+ICh7XG5cdFx0XHRcdC4uLmVkZ2UsXG5cdFx0XHRcdHNvdXJjZTogZ2V0Tm9kZUlkKGVkZ2Uuc291cmNlKSxcblx0XHRcdFx0dGFyZ2V0OiBnZXROb2RlSWQoZWRnZS50YXJnZXQpXG5cdFx0XHR9KSlcblx0XHR9KTtcblx0fVxuXHRkcmF3TWVybWFpZChwYXJhbXMpIHtcblx0XHRjb25zdCB7IHdpdGhTdHlsZXMsIGN1cnZlU3R5bGUsIG5vZGVDb2xvcnMgPSB7XG5cdFx0XHRkZWZhdWx0OiBcImZpbGw6I2YyZjBmZixsaW5lLWhlaWdodDoxLjJcIixcblx0XHRcdGZpcnN0OiBcImZpbGwtb3BhY2l0eTowXCIsXG5cdFx0XHRsYXN0OiBcImZpbGw6I2JmYjZmY1wiXG5cdFx0fSwgd3JhcExhYmVsTldvcmRzIH0gPSBwYXJhbXMgPz8ge307XG5cdFx0Y29uc3QgZ3JhcGggPSB0aGlzLnJlaWQoKTtcblx0XHRjb25zdCBmaXJzdE5vZGUgPSBncmFwaC5maXJzdE5vZGUoKTtcblx0XHRjb25zdCBsYXN0Tm9kZSA9IGdyYXBoLmxhc3ROb2RlKCk7XG5cdFx0cmV0dXJuIGRyYXdNZXJtYWlkKGdyYXBoLm5vZGVzLCBncmFwaC5lZGdlcywge1xuXHRcdFx0Zmlyc3ROb2RlOiBmaXJzdE5vZGU/LmlkLFxuXHRcdFx0bGFzdE5vZGU6IGxhc3ROb2RlPy5pZCxcblx0XHRcdHdpdGhTdHlsZXMsXG5cdFx0XHRjdXJ2ZVN0eWxlLFxuXHRcdFx0bm9kZUNvbG9ycyxcblx0XHRcdHdyYXBMYWJlbE5Xb3Jkc1xuXHRcdH0pO1xuXHR9XG5cdGFzeW5jIGRyYXdNZXJtYWlkUG5nKHBhcmFtcykge1xuXHRcdGNvbnN0IG1lcm1haWRTeW50YXggPSB0aGlzLmRyYXdNZXJtYWlkKHBhcmFtcyk7XG5cdFx0cmV0dXJuIGRyYXdNZXJtYWlkSW1hZ2UobWVybWFpZFN5bnRheCwgeyBiYWNrZ3JvdW5kQ29sb3I6IHBhcmFtcz8uYmFja2dyb3VuZENvbG9yIH0pO1xuXHR9XG59O1xuLyoqXG4qIEZpbmQgdGhlIHNpbmdsZSBub2RlIHRoYXQgaXMgbm90IGEgdGFyZ2V0IG9mIGFueSBlZGdlLlxuKiBFeGNsdWRlIG5vZGVzL3NvdXJjZXMgd2l0aCBpZHMgaW4gdGhlIGV4Y2x1ZGUgbGlzdC5cbiogSWYgdGhlcmUgaXMgbm8gc3VjaCBub2RlLCBvciB0aGVyZSBhcmUgbXVsdGlwbGUsIHJldHVybiB1bmRlZmluZWQuXG4qIFdoZW4gZHJhd2luZyB0aGUgZ3JhcGgsIHRoaXMgbm9kZSB3b3VsZCBiZSB0aGUgb3JpZ2luLlxuKi9cbmZ1bmN0aW9uIF9maXJzdE5vZGUoZ3JhcGgsIGV4Y2x1ZGUgPSBbXSkge1xuXHRjb25zdCB0YXJnZXRzID0gbmV3IFNldChncmFwaC5lZGdlcy5maWx0ZXIoKGVkZ2UpID0+ICFleGNsdWRlLmluY2x1ZGVzKGVkZ2Uuc291cmNlKSkubWFwKChlZGdlKSA9PiBlZGdlLnRhcmdldCkpO1xuXHRjb25zdCBmb3VuZCA9IFtdO1xuXHRmb3IgKGNvbnN0IG5vZGUgb2YgT2JqZWN0LnZhbHVlcyhncmFwaC5ub2RlcykpIGlmICghZXhjbHVkZS5pbmNsdWRlcyhub2RlLmlkKSAmJiAhdGFyZ2V0cy5oYXMobm9kZS5pZCkpIGZvdW5kLnB1c2gobm9kZSk7XG5cdHJldHVybiBmb3VuZC5sZW5ndGggPT09IDEgPyBmb3VuZFswXSA6IHZvaWQgMDtcbn1cbi8qKlxuKiBGaW5kIHRoZSBzaW5nbGUgbm9kZSB0aGF0IGlzIG5vdCBhIHNvdXJjZSBvZiBhbnkgZWRnZS5cbiogRXhjbHVkZSBub2Rlcy90YXJnZXRzIHdpdGggaWRzIGluIHRoZSBleGNsdWRlIGxpc3QuXG4qIElmIHRoZXJlIGlzIG5vIHN1Y2ggbm9kZSwgb3IgdGhlcmUgYXJlIG11bHRpcGxlLCByZXR1cm4gdW5kZWZpbmVkLlxuKiBXaGVuIGRyYXdpbmcgdGhlIGdyYXBoLCB0aGlzIG5vZGUgd291bGQgYmUgdGhlIGRlc3RpbmF0aW9uLlxuKi9cbmZ1bmN0aW9uIF9sYXN0Tm9kZShncmFwaCwgZXhjbHVkZSA9IFtdKSB7XG5cdGNvbnN0IHNvdXJjZXMgPSBuZXcgU2V0KGdyYXBoLmVkZ2VzLmZpbHRlcigoZWRnZSkgPT4gIWV4Y2x1ZGUuaW5jbHVkZXMoZWRnZS50YXJnZXQpKS5tYXAoKGVkZ2UpID0+IGVkZ2Uuc291cmNlKSk7XG5cdGNvbnN0IGZvdW5kID0gW107XG5cdGZvciAoY29uc3Qgbm9kZSBvZiBPYmplY3QudmFsdWVzKGdyYXBoLm5vZGVzKSkgaWYgKCFleGNsdWRlLmluY2x1ZGVzKG5vZGUuaWQpICYmICFzb3VyY2VzLmhhcyhub2RlLmlkKSkgZm91bmQucHVzaChub2RlKTtcblx0cmV0dXJuIGZvdW5kLmxlbmd0aCA9PT0gMSA/IGZvdW5kWzBdIDogdm9pZCAwO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEdyYXBoLCBncmFwaF9leHBvcnRzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ncmFwaC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/graph.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/graph_mermaid.js":
/*!***************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/graph_mermaid.js ***!
  \***************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   drawMermaid: () => (/* binding */ drawMermaid),\n/* harmony export */   drawMermaidImage: () => (/* binding */ drawMermaidImage)\n/* harmony export */ });\n//#region src/runnables/graph_mermaid.ts\nfunction _escapeNodeLabel(nodeLabel) {\n\treturn nodeLabel.replace(/[^a-zA-Z-_0-9]/g, \"_\");\n}\nconst MARKDOWN_SPECIAL_CHARS = [\n\t\"*\",\n\t\"_\",\n\t\"`\"\n];\nfunction _generateMermaidGraphStyles(nodeColors) {\n\tlet styles = \"\";\n\tfor (const [className, color] of Object.entries(nodeColors)) styles += `\\tclassDef ${className} ${color};\\n`;\n\treturn styles;\n}\n/**\n* Draws a Mermaid graph using the provided graph data\n*/\nfunction drawMermaid(nodes, edges, config) {\n\tconst { firstNode, lastNode, nodeColors, withStyles = true, curveStyle = \"linear\", wrapLabelNWords = 9 } = config ?? {};\n\tlet mermaidGraph = withStyles ? `%%{init: {'flowchart': {'curve': '${curveStyle}'}}}%%\\ngraph TD;\\n` : \"graph TD;\\n\";\n\tif (withStyles) {\n\t\tconst defaultClassLabel = \"default\";\n\t\tconst formatDict = { [defaultClassLabel]: \"{0}({1})\" };\n\t\tif (firstNode !== void 0) formatDict[firstNode] = \"{0}([{1}]):::first\";\n\t\tif (lastNode !== void 0) formatDict[lastNode] = \"{0}([{1}]):::last\";\n\t\tfor (const [key, node] of Object.entries(nodes)) {\n\t\t\tconst nodeName = node.name.split(\":\").pop() ?? \"\";\n\t\t\tconst label = MARKDOWN_SPECIAL_CHARS.some((char) => nodeName.startsWith(char) && nodeName.endsWith(char)) ? `<p>${nodeName}</p>` : nodeName;\n\t\t\tlet finalLabel = label;\n\t\t\tif (Object.keys(node.metadata ?? {}).length) finalLabel += `<hr/><small><em>${Object.entries(node.metadata ?? {}).map(([k, v]) => `${k} = ${v}`).join(\"\\n\")}</em></small>`;\n\t\t\tconst nodeLabel = (formatDict[key] ?? formatDict[defaultClassLabel]).replace(\"{0}\", _escapeNodeLabel(key)).replace(\"{1}\", finalLabel);\n\t\t\tmermaidGraph += `\\t${nodeLabel}\\n`;\n\t\t}\n\t}\n\tconst edgeGroups = {};\n\tfor (const edge of edges) {\n\t\tconst srcParts = edge.source.split(\":\");\n\t\tconst tgtParts = edge.target.split(\":\");\n\t\tconst commonPrefix = srcParts.filter((src, i) => src === tgtParts[i]).join(\":\");\n\t\tif (!edgeGroups[commonPrefix]) edgeGroups[commonPrefix] = [];\n\t\tedgeGroups[commonPrefix].push(edge);\n\t}\n\tconst seenSubgraphs = /* @__PURE__ */ new Set();\n\tfunction addSubgraph(edges$1, prefix) {\n\t\tconst selfLoop = edges$1.length === 1 && edges$1[0].source === edges$1[0].target;\n\t\tif (prefix && !selfLoop) {\n\t\t\tconst subgraph = prefix.split(\":\").pop();\n\t\t\tif (seenSubgraphs.has(subgraph)) throw new Error(`Found duplicate subgraph '${subgraph}' -- this likely means that you're reusing a subgraph node with the same name. Please adjust your graph to have subgraph nodes with unique names.`);\n\t\t\tseenSubgraphs.add(subgraph);\n\t\t\tmermaidGraph += `\\tsubgraph ${subgraph}\\n`;\n\t\t}\n\t\tfor (const edge of edges$1) {\n\t\t\tconst { source, target, data, conditional } = edge;\n\t\t\tlet edgeLabel = \"\";\n\t\t\tif (data !== void 0) {\n\t\t\t\tlet edgeData = data;\n\t\t\t\tconst words = edgeData.split(\" \");\n\t\t\t\tif (words.length > wrapLabelNWords) edgeData = Array.from({ length: Math.ceil(words.length / wrapLabelNWords) }, (_, i) => words.slice(i * wrapLabelNWords, (i + 1) * wrapLabelNWords).join(\" \")).join(\"&nbsp;<br>&nbsp;\");\n\t\t\t\tedgeLabel = conditional ? ` -. &nbsp;${edgeData}&nbsp; .-> ` : ` -- &nbsp;${edgeData}&nbsp; --> `;\n\t\t\t} else edgeLabel = conditional ? \" -.-> \" : \" --> \";\n\t\t\tmermaidGraph += `\\t${_escapeNodeLabel(source)}${edgeLabel}${_escapeNodeLabel(target)};\\n`;\n\t\t}\n\t\tfor (const nestedPrefix in edgeGroups) if (nestedPrefix.startsWith(`${prefix}:`) && nestedPrefix !== prefix) addSubgraph(edgeGroups[nestedPrefix], nestedPrefix);\n\t\tif (prefix && !selfLoop) mermaidGraph += \"\tend\\n\";\n\t}\n\taddSubgraph(edgeGroups[\"\"] ?? [], \"\");\n\tfor (const prefix in edgeGroups) if (!prefix.includes(\":\") && prefix !== \"\") addSubgraph(edgeGroups[prefix], prefix);\n\tif (withStyles) mermaidGraph += _generateMermaidGraphStyles(nodeColors ?? {});\n\treturn mermaidGraph;\n}\n/**\n* Renders Mermaid graph using the Mermaid.INK API.\n*\n* @example\n* ```javascript\n* const image = await drawMermaidImage(mermaidSyntax, {\n*   backgroundColor: \"white\",\n*   imageType: \"png\",\n* });\n* fs.writeFileSync(\"image.png\", image);\n* ```\n*\n* @param mermaidSyntax - The Mermaid syntax to render.\n* @param config - The configuration for the image.\n* @returns The image as a Blob.\n*/\nasync function drawMermaidImage(mermaidSyntax, config) {\n\tlet backgroundColor = config?.backgroundColor ?? \"white\";\n\tconst imageType = config?.imageType ?? \"png\";\n\tconst mermaidSyntaxEncoded = btoa(mermaidSyntax);\n\tif (backgroundColor !== void 0) {\n\t\tconst hexColorPattern = /^#(?:[0-9a-fA-F]{3}){1,2}$/;\n\t\tif (!hexColorPattern.test(backgroundColor)) backgroundColor = `!${backgroundColor}`;\n\t}\n\tconst imageUrl = `https://mermaid.ink/img/${mermaidSyntaxEncoded}?bgColor=${backgroundColor}&type=${imageType}`;\n\tconst res = await fetch(imageUrl);\n\tif (!res.ok) throw new Error([\n\t\t`Failed to render the graph using the Mermaid.INK API.`,\n\t\t`Status code: ${res.status}`,\n\t\t`Status text: ${res.statusText}`\n\t].join(\"\\n\"));\n\tconst content = await res.blob();\n\treturn content;\n}\n\n//#endregion\n\n//# sourceMappingURL=graph_mermaid.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9ydW5uYWJsZXMvZ3JhcGhfbWVybWFpZC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRkFBc0YsV0FBVyxFQUFFLE9BQU87QUFDMUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxpR0FBaUc7QUFDMUcscUNBQXFDLE9BQU8sY0FBYyxZQUFZLFdBQVcsSUFBSSxhQUFhLGdCQUFnQjtBQUNsSDtBQUNBO0FBQ0EsdUJBQXVCLHVCQUF1QixFQUFFLEVBQUUsRUFBRTtBQUNwRCxzREFBc0QsRUFBRSxHQUFHLEVBQUU7QUFDN0Qsb0RBQW9ELEVBQUUsR0FBRyxFQUFFO0FBQzNEO0FBQ0E7QUFDQSxxSEFBcUgsU0FBUztBQUM5SDtBQUNBLHNDQUFzQywyQ0FBMkMsa0NBQWtDLHFCQUFxQixHQUFHLElBQUksRUFBRSxjQUFjO0FBQy9KLGtGQUFrRixFQUFFLG9DQUFvQyxFQUFFO0FBQzFILHdCQUF3QixVQUFVO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlGQUFpRixTQUFTO0FBQzFGO0FBQ0EsaUNBQWlDLFNBQVM7QUFDMUM7QUFDQTtBQUNBLFdBQVcsb0NBQW9DO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLG1EQUFtRCwrRkFBK0YsVUFBVTtBQUM1Tix5Q0FBeUMsRUFBRSxTQUFTLE9BQU8sbUJBQW1CLEVBQUUsU0FBUyxPQUFPO0FBQ2hHLEtBQUs7QUFDTCx3QkFBd0IseUJBQXlCLEVBQUUsVUFBVSxFQUFFLDBCQUEwQjtBQUN6RjtBQUNBLHdFQUF3RSxPQUFPO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkVBQTZFO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxFQUFFLEVBQUUsSUFBSTtBQUNwRCxvRUFBb0UsZ0JBQWdCO0FBQ3BGO0FBQ0EsNkNBQTZDLHFCQUFxQixXQUFXLGdCQUFnQixRQUFRLFVBQVU7QUFDL0c7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFdBQVc7QUFDN0Isa0JBQWtCLGVBQWU7QUFDakM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDeUM7QUFDekMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3J1bm5hYmxlcy9ncmFwaF9tZXJtYWlkLmpzPzQ3ZjciXSwic291cmNlc0NvbnRlbnQiOlsiLy8jcmVnaW9uIHNyYy9ydW5uYWJsZXMvZ3JhcGhfbWVybWFpZC50c1xuZnVuY3Rpb24gX2VzY2FwZU5vZGVMYWJlbChub2RlTGFiZWwpIHtcblx0cmV0dXJuIG5vZGVMYWJlbC5yZXBsYWNlKC9bXmEtekEtWi1fMC05XS9nLCBcIl9cIik7XG59XG5jb25zdCBNQVJLRE9XTl9TUEVDSUFMX0NIQVJTID0gW1xuXHRcIipcIixcblx0XCJfXCIsXG5cdFwiYFwiXG5dO1xuZnVuY3Rpb24gX2dlbmVyYXRlTWVybWFpZEdyYXBoU3R5bGVzKG5vZGVDb2xvcnMpIHtcblx0bGV0IHN0eWxlcyA9IFwiXCI7XG5cdGZvciAoY29uc3QgW2NsYXNzTmFtZSwgY29sb3JdIG9mIE9iamVjdC5lbnRyaWVzKG5vZGVDb2xvcnMpKSBzdHlsZXMgKz0gYFxcdGNsYXNzRGVmICR7Y2xhc3NOYW1lfSAke2NvbG9yfTtcXG5gO1xuXHRyZXR1cm4gc3R5bGVzO1xufVxuLyoqXG4qIERyYXdzIGEgTWVybWFpZCBncmFwaCB1c2luZyB0aGUgcHJvdmlkZWQgZ3JhcGggZGF0YVxuKi9cbmZ1bmN0aW9uIGRyYXdNZXJtYWlkKG5vZGVzLCBlZGdlcywgY29uZmlnKSB7XG5cdGNvbnN0IHsgZmlyc3ROb2RlLCBsYXN0Tm9kZSwgbm9kZUNvbG9ycywgd2l0aFN0eWxlcyA9IHRydWUsIGN1cnZlU3R5bGUgPSBcImxpbmVhclwiLCB3cmFwTGFiZWxOV29yZHMgPSA5IH0gPSBjb25maWcgPz8ge307XG5cdGxldCBtZXJtYWlkR3JhcGggPSB3aXRoU3R5bGVzID8gYCUle2luaXQ6IHsnZmxvd2NoYXJ0JzogeydjdXJ2ZSc6ICcke2N1cnZlU3R5bGV9J319fSUlXFxuZ3JhcGggVEQ7XFxuYCA6IFwiZ3JhcGggVEQ7XFxuXCI7XG5cdGlmICh3aXRoU3R5bGVzKSB7XG5cdFx0Y29uc3QgZGVmYXVsdENsYXNzTGFiZWwgPSBcImRlZmF1bHRcIjtcblx0XHRjb25zdCBmb3JtYXREaWN0ID0geyBbZGVmYXVsdENsYXNzTGFiZWxdOiBcInswfSh7MX0pXCIgfTtcblx0XHRpZiAoZmlyc3ROb2RlICE9PSB2b2lkIDApIGZvcm1hdERpY3RbZmlyc3ROb2RlXSA9IFwiezB9KFt7MX1dKTo6OmZpcnN0XCI7XG5cdFx0aWYgKGxhc3ROb2RlICE9PSB2b2lkIDApIGZvcm1hdERpY3RbbGFzdE5vZGVdID0gXCJ7MH0oW3sxfV0pOjo6bGFzdFwiO1xuXHRcdGZvciAoY29uc3QgW2tleSwgbm9kZV0gb2YgT2JqZWN0LmVudHJpZXMobm9kZXMpKSB7XG5cdFx0XHRjb25zdCBub2RlTmFtZSA9IG5vZGUubmFtZS5zcGxpdChcIjpcIikucG9wKCkgPz8gXCJcIjtcblx0XHRcdGNvbnN0IGxhYmVsID0gTUFSS0RPV05fU1BFQ0lBTF9DSEFSUy5zb21lKChjaGFyKSA9PiBub2RlTmFtZS5zdGFydHNXaXRoKGNoYXIpICYmIG5vZGVOYW1lLmVuZHNXaXRoKGNoYXIpKSA/IGA8cD4ke25vZGVOYW1lfTwvcD5gIDogbm9kZU5hbWU7XG5cdFx0XHRsZXQgZmluYWxMYWJlbCA9IGxhYmVsO1xuXHRcdFx0aWYgKE9iamVjdC5rZXlzKG5vZGUubWV0YWRhdGEgPz8ge30pLmxlbmd0aCkgZmluYWxMYWJlbCArPSBgPGhyLz48c21hbGw+PGVtPiR7T2JqZWN0LmVudHJpZXMobm9kZS5tZXRhZGF0YSA/PyB7fSkubWFwKChbaywgdl0pID0+IGAke2t9ID0gJHt2fWApLmpvaW4oXCJcXG5cIil9PC9lbT48L3NtYWxsPmA7XG5cdFx0XHRjb25zdCBub2RlTGFiZWwgPSAoZm9ybWF0RGljdFtrZXldID8/IGZvcm1hdERpY3RbZGVmYXVsdENsYXNzTGFiZWxdKS5yZXBsYWNlKFwiezB9XCIsIF9lc2NhcGVOb2RlTGFiZWwoa2V5KSkucmVwbGFjZShcInsxfVwiLCBmaW5hbExhYmVsKTtcblx0XHRcdG1lcm1haWRHcmFwaCArPSBgXFx0JHtub2RlTGFiZWx9XFxuYDtcblx0XHR9XG5cdH1cblx0Y29uc3QgZWRnZUdyb3VwcyA9IHt9O1xuXHRmb3IgKGNvbnN0IGVkZ2Ugb2YgZWRnZXMpIHtcblx0XHRjb25zdCBzcmNQYXJ0cyA9IGVkZ2Uuc291cmNlLnNwbGl0KFwiOlwiKTtcblx0XHRjb25zdCB0Z3RQYXJ0cyA9IGVkZ2UudGFyZ2V0LnNwbGl0KFwiOlwiKTtcblx0XHRjb25zdCBjb21tb25QcmVmaXggPSBzcmNQYXJ0cy5maWx0ZXIoKHNyYywgaSkgPT4gc3JjID09PSB0Z3RQYXJ0c1tpXSkuam9pbihcIjpcIik7XG5cdFx0aWYgKCFlZGdlR3JvdXBzW2NvbW1vblByZWZpeF0pIGVkZ2VHcm91cHNbY29tbW9uUHJlZml4XSA9IFtdO1xuXHRcdGVkZ2VHcm91cHNbY29tbW9uUHJlZml4XS5wdXNoKGVkZ2UpO1xuXHR9XG5cdGNvbnN0IHNlZW5TdWJncmFwaHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuXHRmdW5jdGlvbiBhZGRTdWJncmFwaChlZGdlcyQxLCBwcmVmaXgpIHtcblx0XHRjb25zdCBzZWxmTG9vcCA9IGVkZ2VzJDEubGVuZ3RoID09PSAxICYmIGVkZ2VzJDFbMF0uc291cmNlID09PSBlZGdlcyQxWzBdLnRhcmdldDtcblx0XHRpZiAocHJlZml4ICYmICFzZWxmTG9vcCkge1xuXHRcdFx0Y29uc3Qgc3ViZ3JhcGggPSBwcmVmaXguc3BsaXQoXCI6XCIpLnBvcCgpO1xuXHRcdFx0aWYgKHNlZW5TdWJncmFwaHMuaGFzKHN1YmdyYXBoKSkgdGhyb3cgbmV3IEVycm9yKGBGb3VuZCBkdXBsaWNhdGUgc3ViZ3JhcGggJyR7c3ViZ3JhcGh9JyAtLSB0aGlzIGxpa2VseSBtZWFucyB0aGF0IHlvdSdyZSByZXVzaW5nIGEgc3ViZ3JhcGggbm9kZSB3aXRoIHRoZSBzYW1lIG5hbWUuIFBsZWFzZSBhZGp1c3QgeW91ciBncmFwaCB0byBoYXZlIHN1YmdyYXBoIG5vZGVzIHdpdGggdW5pcXVlIG5hbWVzLmApO1xuXHRcdFx0c2VlblN1YmdyYXBocy5hZGQoc3ViZ3JhcGgpO1xuXHRcdFx0bWVybWFpZEdyYXBoICs9IGBcXHRzdWJncmFwaCAke3N1YmdyYXBofVxcbmA7XG5cdFx0fVxuXHRcdGZvciAoY29uc3QgZWRnZSBvZiBlZGdlcyQxKSB7XG5cdFx0XHRjb25zdCB7IHNvdXJjZSwgdGFyZ2V0LCBkYXRhLCBjb25kaXRpb25hbCB9ID0gZWRnZTtcblx0XHRcdGxldCBlZGdlTGFiZWwgPSBcIlwiO1xuXHRcdFx0aWYgKGRhdGEgIT09IHZvaWQgMCkge1xuXHRcdFx0XHRsZXQgZWRnZURhdGEgPSBkYXRhO1xuXHRcdFx0XHRjb25zdCB3b3JkcyA9IGVkZ2VEYXRhLnNwbGl0KFwiIFwiKTtcblx0XHRcdFx0aWYgKHdvcmRzLmxlbmd0aCA+IHdyYXBMYWJlbE5Xb3JkcykgZWRnZURhdGEgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiBNYXRoLmNlaWwod29yZHMubGVuZ3RoIC8gd3JhcExhYmVsTldvcmRzKSB9LCAoXywgaSkgPT4gd29yZHMuc2xpY2UoaSAqIHdyYXBMYWJlbE5Xb3JkcywgKGkgKyAxKSAqIHdyYXBMYWJlbE5Xb3Jkcykuam9pbihcIiBcIikpLmpvaW4oXCImbmJzcDs8YnI+Jm5ic3A7XCIpO1xuXHRcdFx0XHRlZGdlTGFiZWwgPSBjb25kaXRpb25hbCA/IGAgLS4gJm5ic3A7JHtlZGdlRGF0YX0mbmJzcDsgLi0+IGAgOiBgIC0tICZuYnNwOyR7ZWRnZURhdGF9Jm5ic3A7IC0tPiBgO1xuXHRcdFx0fSBlbHNlIGVkZ2VMYWJlbCA9IGNvbmRpdGlvbmFsID8gXCIgLS4tPiBcIiA6IFwiIC0tPiBcIjtcblx0XHRcdG1lcm1haWRHcmFwaCArPSBgXFx0JHtfZXNjYXBlTm9kZUxhYmVsKHNvdXJjZSl9JHtlZGdlTGFiZWx9JHtfZXNjYXBlTm9kZUxhYmVsKHRhcmdldCl9O1xcbmA7XG5cdFx0fVxuXHRcdGZvciAoY29uc3QgbmVzdGVkUHJlZml4IGluIGVkZ2VHcm91cHMpIGlmIChuZXN0ZWRQcmVmaXguc3RhcnRzV2l0aChgJHtwcmVmaXh9OmApICYmIG5lc3RlZFByZWZpeCAhPT0gcHJlZml4KSBhZGRTdWJncmFwaChlZGdlR3JvdXBzW25lc3RlZFByZWZpeF0sIG5lc3RlZFByZWZpeCk7XG5cdFx0aWYgKHByZWZpeCAmJiAhc2VsZkxvb3ApIG1lcm1haWRHcmFwaCArPSBcIlx0ZW5kXFxuXCI7XG5cdH1cblx0YWRkU3ViZ3JhcGgoZWRnZUdyb3Vwc1tcIlwiXSA/PyBbXSwgXCJcIik7XG5cdGZvciAoY29uc3QgcHJlZml4IGluIGVkZ2VHcm91cHMpIGlmICghcHJlZml4LmluY2x1ZGVzKFwiOlwiKSAmJiBwcmVmaXggIT09IFwiXCIpIGFkZFN1YmdyYXBoKGVkZ2VHcm91cHNbcHJlZml4XSwgcHJlZml4KTtcblx0aWYgKHdpdGhTdHlsZXMpIG1lcm1haWRHcmFwaCArPSBfZ2VuZXJhdGVNZXJtYWlkR3JhcGhTdHlsZXMobm9kZUNvbG9ycyA/PyB7fSk7XG5cdHJldHVybiBtZXJtYWlkR3JhcGg7XG59XG4vKipcbiogUmVuZGVycyBNZXJtYWlkIGdyYXBoIHVzaW5nIHRoZSBNZXJtYWlkLklOSyBBUEkuXG4qXG4qIEBleGFtcGxlXG4qIGBgYGphdmFzY3JpcHRcbiogY29uc3QgaW1hZ2UgPSBhd2FpdCBkcmF3TWVybWFpZEltYWdlKG1lcm1haWRTeW50YXgsIHtcbiogICBiYWNrZ3JvdW5kQ29sb3I6IFwid2hpdGVcIixcbiogICBpbWFnZVR5cGU6IFwicG5nXCIsXG4qIH0pO1xuKiBmcy53cml0ZUZpbGVTeW5jKFwiaW1hZ2UucG5nXCIsIGltYWdlKTtcbiogYGBgXG4qXG4qIEBwYXJhbSBtZXJtYWlkU3ludGF4IC0gVGhlIE1lcm1haWQgc3ludGF4IHRvIHJlbmRlci5cbiogQHBhcmFtIGNvbmZpZyAtIFRoZSBjb25maWd1cmF0aW9uIGZvciB0aGUgaW1hZ2UuXG4qIEByZXR1cm5zIFRoZSBpbWFnZSBhcyBhIEJsb2IuXG4qL1xuYXN5bmMgZnVuY3Rpb24gZHJhd01lcm1haWRJbWFnZShtZXJtYWlkU3ludGF4LCBjb25maWcpIHtcblx0bGV0IGJhY2tncm91bmRDb2xvciA9IGNvbmZpZz8uYmFja2dyb3VuZENvbG9yID8/IFwid2hpdGVcIjtcblx0Y29uc3QgaW1hZ2VUeXBlID0gY29uZmlnPy5pbWFnZVR5cGUgPz8gXCJwbmdcIjtcblx0Y29uc3QgbWVybWFpZFN5bnRheEVuY29kZWQgPSBidG9hKG1lcm1haWRTeW50YXgpO1xuXHRpZiAoYmFja2dyb3VuZENvbG9yICE9PSB2b2lkIDApIHtcblx0XHRjb25zdCBoZXhDb2xvclBhdHRlcm4gPSAvXiMoPzpbMC05YS1mQS1GXXszfSl7MSwyfSQvO1xuXHRcdGlmICghaGV4Q29sb3JQYXR0ZXJuLnRlc3QoYmFja2dyb3VuZENvbG9yKSkgYmFja2dyb3VuZENvbG9yID0gYCEke2JhY2tncm91bmRDb2xvcn1gO1xuXHR9XG5cdGNvbnN0IGltYWdlVXJsID0gYGh0dHBzOi8vbWVybWFpZC5pbmsvaW1nLyR7bWVybWFpZFN5bnRheEVuY29kZWR9P2JnQ29sb3I9JHtiYWNrZ3JvdW5kQ29sb3J9JnR5cGU9JHtpbWFnZVR5cGV9YDtcblx0Y29uc3QgcmVzID0gYXdhaXQgZmV0Y2goaW1hZ2VVcmwpO1xuXHRpZiAoIXJlcy5vaykgdGhyb3cgbmV3IEVycm9yKFtcblx0XHRgRmFpbGVkIHRvIHJlbmRlciB0aGUgZ3JhcGggdXNpbmcgdGhlIE1lcm1haWQuSU5LIEFQSS5gLFxuXHRcdGBTdGF0dXMgY29kZTogJHtyZXMuc3RhdHVzfWAsXG5cdFx0YFN0YXR1cyB0ZXh0OiAke3Jlcy5zdGF0dXNUZXh0fWBcblx0XS5qb2luKFwiXFxuXCIpKTtcblx0Y29uc3QgY29udGVudCA9IGF3YWl0IHJlcy5ibG9iKCk7XG5cdHJldHVybiBjb250ZW50O1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IGRyYXdNZXJtYWlkLCBkcmF3TWVybWFpZEltYWdlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ncmFwaF9tZXJtYWlkLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/graph_mermaid.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/history.js":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/history.js ***!
  \*********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RunnableWithMessageHistory: () => (/* binding */ RunnableWithMessageHistory)\n/* harmony export */ });\n/* harmony import */ var _messages_base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../messages/base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/base.js\");\n/* harmony import */ var _messages_ai_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../messages/ai.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/ai.js\");\n/* harmony import */ var _messages_human_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../messages/human.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/human.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/base.js\");\n/* harmony import */ var _messages_index_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../messages/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/index.js\");\n/* harmony import */ var _passthrough_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./passthrough.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/passthrough.js\");\n\n\n\n\n\n\n\n//#region src/runnables/history.ts\n/**\n* Wraps a LCEL chain and manages history. It appends input messages\n* and chain outputs as history, and adds the current history messages to\n* the chain input.\n* @example\n* ```typescript\n* // pnpm install @langchain/anthropic @langchain/community @upstash/redis\n*\n* import {\n*   ChatPromptTemplate,\n*   MessagesPlaceholder,\n* } from \"@langchain/core/prompts\";\n* import { ChatAnthropic } from \"@langchain/anthropic\";\n* import { UpstashRedisChatMessageHistory } from \"@langchain/community/stores/message/upstash_redis\";\n* // For demos, you can also use an in-memory store:\n* // import { ChatMessageHistory } from \"@langchain/classic/stores/message/in_memory\";\n*\n* const prompt = ChatPromptTemplate.fromMessages([\n*   [\"system\", \"You're an assistant who's good at {ability}\"],\n*   new MessagesPlaceholder(\"history\"),\n*   [\"human\", \"{question}\"],\n* ]);\n*\n* const chain = prompt.pipe(new ChatAnthropic({}));\n*\n* const chainWithHistory = new RunnableWithMessageHistory({\n*   runnable: chain,\n*   getMessageHistory: (sessionId) =>\n*     new UpstashRedisChatMessageHistory({\n*       sessionId,\n*       config: {\n*         url: process.env.UPSTASH_REDIS_REST_URL!,\n*         token: process.env.UPSTASH_REDIS_REST_TOKEN!,\n*       },\n*     }),\n*   inputMessagesKey: \"question\",\n*   historyMessagesKey: \"history\",\n* });\n*\n* const result = await chainWithHistory.invoke(\n*   {\n*     ability: \"math\",\n*     question: \"What does cosine mean?\",\n*   },\n*   {\n*     configurable: {\n*       sessionId: \"some_string_identifying_a_user\",\n*     },\n*   }\n* );\n*\n* const result2 = await chainWithHistory.invoke(\n*   {\n*     ability: \"math\",\n*     question: \"What's its inverse?\",\n*   },\n*   {\n*     configurable: {\n*       sessionId: \"some_string_identifying_a_user\",\n*     },\n*   }\n* );\n* ```\n*/\nvar RunnableWithMessageHistory = class extends _base_js__WEBPACK_IMPORTED_MODULE_3__.RunnableBinding {\n\trunnable;\n\tinputMessagesKey;\n\toutputMessagesKey;\n\thistoryMessagesKey;\n\tgetMessageHistory;\n\tconstructor(fields) {\n\t\tlet historyChain = _base_js__WEBPACK_IMPORTED_MODULE_3__.RunnableLambda.from((input, options) => this._enterHistory(input, options ?? {})).withConfig({ runName: \"loadHistory\" });\n\t\tconst messagesKey = fields.historyMessagesKey ?? fields.inputMessagesKey;\n\t\tif (messagesKey) historyChain = _passthrough_js__WEBPACK_IMPORTED_MODULE_5__.RunnablePassthrough.assign({ [messagesKey]: historyChain }).withConfig({ runName: \"insertHistory\" });\n\t\tconst bound = historyChain.pipe(fields.runnable.withListeners({ onEnd: (run, config$1) => this._exitHistory(run, config$1 ?? {}) })).withConfig({ runName: \"RunnableWithMessageHistory\" });\n\t\tconst config = fields.config ?? {};\n\t\tsuper({\n\t\t\t...fields,\n\t\t\tconfig,\n\t\t\tbound\n\t\t});\n\t\tthis.runnable = fields.runnable;\n\t\tthis.getMessageHistory = fields.getMessageHistory;\n\t\tthis.inputMessagesKey = fields.inputMessagesKey;\n\t\tthis.outputMessagesKey = fields.outputMessagesKey;\n\t\tthis.historyMessagesKey = fields.historyMessagesKey;\n\t}\n\t_getInputMessages(inputValue) {\n\t\tlet parsedInputValue;\n\t\tif (typeof inputValue === \"object\" && !Array.isArray(inputValue) && !(0,_messages_base_js__WEBPACK_IMPORTED_MODULE_0__.isBaseMessage)(inputValue)) {\n\t\t\tlet key;\n\t\t\tif (this.inputMessagesKey) key = this.inputMessagesKey;\n\t\t\telse if (Object.keys(inputValue).length === 1) key = Object.keys(inputValue)[0];\n\t\t\telse key = \"input\";\n\t\t\tif (Array.isArray(inputValue[key]) && Array.isArray(inputValue[key][0])) parsedInputValue = inputValue[key][0];\n\t\t\telse parsedInputValue = inputValue[key];\n\t\t} else parsedInputValue = inputValue;\n\t\tif (typeof parsedInputValue === \"string\") return [new _messages_human_js__WEBPACK_IMPORTED_MODULE_2__.HumanMessage(parsedInputValue)];\n\t\telse if (Array.isArray(parsedInputValue)) return parsedInputValue;\n\t\telse if ((0,_messages_base_js__WEBPACK_IMPORTED_MODULE_0__.isBaseMessage)(parsedInputValue)) return [parsedInputValue];\n\t\telse throw new Error(`Expected a string, BaseMessage, or array of BaseMessages.\\nGot ${JSON.stringify(parsedInputValue, null, 2)}`);\n\t}\n\t_getOutputMessages(outputValue) {\n\t\tlet parsedOutputValue;\n\t\tif (!Array.isArray(outputValue) && !(0,_messages_base_js__WEBPACK_IMPORTED_MODULE_0__.isBaseMessage)(outputValue) && typeof outputValue !== \"string\") {\n\t\t\tlet key;\n\t\t\tif (this.outputMessagesKey !== void 0) key = this.outputMessagesKey;\n\t\t\telse if (Object.keys(outputValue).length === 1) key = Object.keys(outputValue)[0];\n\t\t\telse key = \"output\";\n\t\t\tif (outputValue.generations !== void 0) parsedOutputValue = outputValue.generations[0][0].message;\n\t\t\telse parsedOutputValue = outputValue[key];\n\t\t} else parsedOutputValue = outputValue;\n\t\tif (typeof parsedOutputValue === \"string\") return [new _messages_ai_js__WEBPACK_IMPORTED_MODULE_1__.AIMessage(parsedOutputValue)];\n\t\telse if (Array.isArray(parsedOutputValue)) return parsedOutputValue;\n\t\telse if ((0,_messages_base_js__WEBPACK_IMPORTED_MODULE_0__.isBaseMessage)(parsedOutputValue)) return [parsedOutputValue];\n\t\telse throw new Error(`Expected a string, BaseMessage, or array of BaseMessages. Received: ${JSON.stringify(parsedOutputValue, null, 2)}`);\n\t}\n\tasync _enterHistory(input, kwargs) {\n\t\tconst history = kwargs?.configurable?.messageHistory;\n\t\tconst messages = await history.getMessages();\n\t\tif (this.historyMessagesKey === void 0) return messages.concat(this._getInputMessages(input));\n\t\treturn messages;\n\t}\n\tasync _exitHistory(run, config) {\n\t\tconst history = config.configurable?.messageHistory;\n\t\tlet inputs;\n\t\tif (Array.isArray(run.inputs) && Array.isArray(run.inputs[0])) inputs = run.inputs[0];\n\t\telse inputs = run.inputs;\n\t\tlet inputMessages = this._getInputMessages(inputs);\n\t\tif (this.historyMessagesKey === void 0) {\n\t\t\tconst existingMessages = await history.getMessages();\n\t\t\tinputMessages = inputMessages.slice(existingMessages.length);\n\t\t}\n\t\tconst outputValue = run.outputs;\n\t\tif (!outputValue) throw new Error(`Output values from 'Run' undefined. Run: ${JSON.stringify(run, null, 2)}`);\n\t\tconst outputMessages = this._getOutputMessages(outputValue);\n\t\tawait history.addMessages([...inputMessages, ...outputMessages]);\n\t}\n\tasync _mergeConfig(...configs) {\n\t\tconst config = await super._mergeConfig(...configs);\n\t\tif (!config.configurable || !config.configurable.sessionId) {\n\t\t\tconst exampleInput = { [this.inputMessagesKey ?? \"input\"]: \"foo\" };\n\t\t\tconst exampleConfig = { configurable: { sessionId: \"123\" } };\n\t\t\tthrow new Error(`sessionId is required. Pass it in as part of the config argument to .invoke() or .stream()\\neg. chain.invoke(${JSON.stringify(exampleInput)}, ${JSON.stringify(exampleConfig)})`);\n\t\t}\n\t\tconst { sessionId } = config.configurable;\n\t\tconfig.configurable.messageHistory = await this.getMessageHistory(sessionId);\n\t\treturn config;\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=history.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9ydW5uYWJsZXMvaGlzdG9yeS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQW9EO0FBQ047QUFDTTtBQUNRO0FBQzlCO0FBQ3lCOztBQUV2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osV0FBVyxnQkFBZ0I7QUFDM0IsV0FBVyxpQ0FBaUM7QUFDNUM7QUFDQSxjQUFjLHFCQUFxQjtBQUNuQztBQUNBO0FBQ0EsbURBQW1ELFFBQVE7QUFDM0Q7QUFDQSxnQkFBZ0IsU0FBUztBQUN6QjtBQUNBO0FBQ0EsZ0RBQWdEO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MscURBQWU7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLG9EQUFjLGlFQUFpRSxnQkFBZ0Isd0JBQXdCO0FBQzVJO0FBQ0Esa0NBQWtDLGdFQUFtQixVQUFVLDZCQUE2QixlQUFlLDBCQUEwQjtBQUNySSxrRUFBa0UsK0RBQStELEdBQUcsZ0JBQWdCLHVDQUF1QztBQUMzTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RUFBdUUsZ0VBQWE7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLHdEQUF3RCw0REFBWTtBQUNwRTtBQUNBLFdBQVcsZ0VBQWE7QUFDeEIseUZBQXlGLDBDQUEwQztBQUNuSTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsZ0VBQWE7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLHlEQUF5RCxzREFBUztBQUNsRTtBQUNBLFdBQVcsZ0VBQWE7QUFDeEIsOEZBQThGLDJDQUEyQztBQUN6STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRkFBZ0YsNkJBQTZCO0FBQzdHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQiwyQkFBMkIsZ0JBQWdCO0FBQzNDLG1JQUFtSSw2QkFBNkIsSUFBSSw4QkFBOEI7QUFDbE07QUFDQSxVQUFVLFlBQVk7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDc0M7QUFDdEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3J1bm5hYmxlcy9oaXN0b3J5LmpzPzM1ZmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNCYXNlTWVzc2FnZSB9IGZyb20gXCIuLi9tZXNzYWdlcy9iYXNlLmpzXCI7XG5pbXBvcnQgeyBBSU1lc3NhZ2UgfSBmcm9tIFwiLi4vbWVzc2FnZXMvYWkuanNcIjtcbmltcG9ydCB7IEh1bWFuTWVzc2FnZSB9IGZyb20gXCIuLi9tZXNzYWdlcy9odW1hbi5qc1wiO1xuaW1wb3J0IHsgUnVubmFibGVCaW5kaW5nLCBSdW5uYWJsZUxhbWJkYSB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCBcIi4uL21lc3NhZ2VzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBSdW5uYWJsZVBhc3N0aHJvdWdoIH0gZnJvbSBcIi4vcGFzc3Rocm91Z2guanNcIjtcblxuLy8jcmVnaW9uIHNyYy9ydW5uYWJsZXMvaGlzdG9yeS50c1xuLyoqXG4qIFdyYXBzIGEgTENFTCBjaGFpbiBhbmQgbWFuYWdlcyBoaXN0b3J5LiBJdCBhcHBlbmRzIGlucHV0IG1lc3NhZ2VzXG4qIGFuZCBjaGFpbiBvdXRwdXRzIGFzIGhpc3RvcnksIGFuZCBhZGRzIHRoZSBjdXJyZW50IGhpc3RvcnkgbWVzc2FnZXMgdG9cbiogdGhlIGNoYWluIGlucHV0LlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIC8vIHBucG0gaW5zdGFsbCBAbGFuZ2NoYWluL2FudGhyb3BpYyBAbGFuZ2NoYWluL2NvbW11bml0eSBAdXBzdGFzaC9yZWRpc1xuKlxuKiBpbXBvcnQge1xuKiAgIENoYXRQcm9tcHRUZW1wbGF0ZSxcbiogICBNZXNzYWdlc1BsYWNlaG9sZGVyLFxuKiB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvcHJvbXB0c1wiO1xuKiBpbXBvcnQgeyBDaGF0QW50aHJvcGljIH0gZnJvbSBcIkBsYW5nY2hhaW4vYW50aHJvcGljXCI7XG4qIGltcG9ydCB7IFVwc3Rhc2hSZWRpc0NoYXRNZXNzYWdlSGlzdG9yeSB9IGZyb20gXCJAbGFuZ2NoYWluL2NvbW11bml0eS9zdG9yZXMvbWVzc2FnZS91cHN0YXNoX3JlZGlzXCI7XG4qIC8vIEZvciBkZW1vcywgeW91IGNhbiBhbHNvIHVzZSBhbiBpbi1tZW1vcnkgc3RvcmU6XG4qIC8vIGltcG9ydCB7IENoYXRNZXNzYWdlSGlzdG9yeSB9IGZyb20gXCJAbGFuZ2NoYWluL2NsYXNzaWMvc3RvcmVzL21lc3NhZ2UvaW5fbWVtb3J5XCI7XG4qXG4qIGNvbnN0IHByb21wdCA9IENoYXRQcm9tcHRUZW1wbGF0ZS5mcm9tTWVzc2FnZXMoW1xuKiAgIFtcInN5c3RlbVwiLCBcIllvdSdyZSBhbiBhc3Npc3RhbnQgd2hvJ3MgZ29vZCBhdCB7YWJpbGl0eX1cIl0sXG4qICAgbmV3IE1lc3NhZ2VzUGxhY2Vob2xkZXIoXCJoaXN0b3J5XCIpLFxuKiAgIFtcImh1bWFuXCIsIFwie3F1ZXN0aW9ufVwiXSxcbiogXSk7XG4qXG4qIGNvbnN0IGNoYWluID0gcHJvbXB0LnBpcGUobmV3IENoYXRBbnRocm9waWMoe30pKTtcbipcbiogY29uc3QgY2hhaW5XaXRoSGlzdG9yeSA9IG5ldyBSdW5uYWJsZVdpdGhNZXNzYWdlSGlzdG9yeSh7XG4qICAgcnVubmFibGU6IGNoYWluLFxuKiAgIGdldE1lc3NhZ2VIaXN0b3J5OiAoc2Vzc2lvbklkKSA9PlxuKiAgICAgbmV3IFVwc3Rhc2hSZWRpc0NoYXRNZXNzYWdlSGlzdG9yeSh7XG4qICAgICAgIHNlc3Npb25JZCxcbiogICAgICAgY29uZmlnOiB7XG4qICAgICAgICAgdXJsOiBwcm9jZXNzLmVudi5VUFNUQVNIX1JFRElTX1JFU1RfVVJMISxcbiogICAgICAgICB0b2tlbjogcHJvY2Vzcy5lbnYuVVBTVEFTSF9SRURJU19SRVNUX1RPS0VOISxcbiogICAgICAgfSxcbiogICAgIH0pLFxuKiAgIGlucHV0TWVzc2FnZXNLZXk6IFwicXVlc3Rpb25cIixcbiogICBoaXN0b3J5TWVzc2FnZXNLZXk6IFwiaGlzdG9yeVwiLFxuKiB9KTtcbipcbiogY29uc3QgcmVzdWx0ID0gYXdhaXQgY2hhaW5XaXRoSGlzdG9yeS5pbnZva2UoXG4qICAge1xuKiAgICAgYWJpbGl0eTogXCJtYXRoXCIsXG4qICAgICBxdWVzdGlvbjogXCJXaGF0IGRvZXMgY29zaW5lIG1lYW4/XCIsXG4qICAgfSxcbiogICB7XG4qICAgICBjb25maWd1cmFibGU6IHtcbiogICAgICAgc2Vzc2lvbklkOiBcInNvbWVfc3RyaW5nX2lkZW50aWZ5aW5nX2FfdXNlclwiLFxuKiAgICAgfSxcbiogICB9XG4qICk7XG4qXG4qIGNvbnN0IHJlc3VsdDIgPSBhd2FpdCBjaGFpbldpdGhIaXN0b3J5Lmludm9rZShcbiogICB7XG4qICAgICBhYmlsaXR5OiBcIm1hdGhcIixcbiogICAgIHF1ZXN0aW9uOiBcIldoYXQncyBpdHMgaW52ZXJzZT9cIixcbiogICB9LFxuKiAgIHtcbiogICAgIGNvbmZpZ3VyYWJsZToge1xuKiAgICAgICBzZXNzaW9uSWQ6IFwic29tZV9zdHJpbmdfaWRlbnRpZnlpbmdfYV91c2VyXCIsXG4qICAgICB9LFxuKiAgIH1cbiogKTtcbiogYGBgXG4qL1xudmFyIFJ1bm5hYmxlV2l0aE1lc3NhZ2VIaXN0b3J5ID0gY2xhc3MgZXh0ZW5kcyBSdW5uYWJsZUJpbmRpbmcge1xuXHRydW5uYWJsZTtcblx0aW5wdXRNZXNzYWdlc0tleTtcblx0b3V0cHV0TWVzc2FnZXNLZXk7XG5cdGhpc3RvcnlNZXNzYWdlc0tleTtcblx0Z2V0TWVzc2FnZUhpc3Rvcnk7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdGxldCBoaXN0b3J5Q2hhaW4gPSBSdW5uYWJsZUxhbWJkYS5mcm9tKChpbnB1dCwgb3B0aW9ucykgPT4gdGhpcy5fZW50ZXJIaXN0b3J5KGlucHV0LCBvcHRpb25zID8/IHt9KSkud2l0aENvbmZpZyh7IHJ1bk5hbWU6IFwibG9hZEhpc3RvcnlcIiB9KTtcblx0XHRjb25zdCBtZXNzYWdlc0tleSA9IGZpZWxkcy5oaXN0b3J5TWVzc2FnZXNLZXkgPz8gZmllbGRzLmlucHV0TWVzc2FnZXNLZXk7XG5cdFx0aWYgKG1lc3NhZ2VzS2V5KSBoaXN0b3J5Q2hhaW4gPSBSdW5uYWJsZVBhc3N0aHJvdWdoLmFzc2lnbih7IFttZXNzYWdlc0tleV06IGhpc3RvcnlDaGFpbiB9KS53aXRoQ29uZmlnKHsgcnVuTmFtZTogXCJpbnNlcnRIaXN0b3J5XCIgfSk7XG5cdFx0Y29uc3QgYm91bmQgPSBoaXN0b3J5Q2hhaW4ucGlwZShmaWVsZHMucnVubmFibGUud2l0aExpc3RlbmVycyh7IG9uRW5kOiAocnVuLCBjb25maWckMSkgPT4gdGhpcy5fZXhpdEhpc3RvcnkocnVuLCBjb25maWckMSA/PyB7fSkgfSkpLndpdGhDb25maWcoeyBydW5OYW1lOiBcIlJ1bm5hYmxlV2l0aE1lc3NhZ2VIaXN0b3J5XCIgfSk7XG5cdFx0Y29uc3QgY29uZmlnID0gZmllbGRzLmNvbmZpZyA/PyB7fTtcblx0XHRzdXBlcih7XG5cdFx0XHQuLi5maWVsZHMsXG5cdFx0XHRjb25maWcsXG5cdFx0XHRib3VuZFxuXHRcdH0pO1xuXHRcdHRoaXMucnVubmFibGUgPSBmaWVsZHMucnVubmFibGU7XG5cdFx0dGhpcy5nZXRNZXNzYWdlSGlzdG9yeSA9IGZpZWxkcy5nZXRNZXNzYWdlSGlzdG9yeTtcblx0XHR0aGlzLmlucHV0TWVzc2FnZXNLZXkgPSBmaWVsZHMuaW5wdXRNZXNzYWdlc0tleTtcblx0XHR0aGlzLm91dHB1dE1lc3NhZ2VzS2V5ID0gZmllbGRzLm91dHB1dE1lc3NhZ2VzS2V5O1xuXHRcdHRoaXMuaGlzdG9yeU1lc3NhZ2VzS2V5ID0gZmllbGRzLmhpc3RvcnlNZXNzYWdlc0tleTtcblx0fVxuXHRfZ2V0SW5wdXRNZXNzYWdlcyhpbnB1dFZhbHVlKSB7XG5cdFx0bGV0IHBhcnNlZElucHV0VmFsdWU7XG5cdFx0aWYgKHR5cGVvZiBpbnB1dFZhbHVlID09PSBcIm9iamVjdFwiICYmICFBcnJheS5pc0FycmF5KGlucHV0VmFsdWUpICYmICFpc0Jhc2VNZXNzYWdlKGlucHV0VmFsdWUpKSB7XG5cdFx0XHRsZXQga2V5O1xuXHRcdFx0aWYgKHRoaXMuaW5wdXRNZXNzYWdlc0tleSkga2V5ID0gdGhpcy5pbnB1dE1lc3NhZ2VzS2V5O1xuXHRcdFx0ZWxzZSBpZiAoT2JqZWN0LmtleXMoaW5wdXRWYWx1ZSkubGVuZ3RoID09PSAxKSBrZXkgPSBPYmplY3Qua2V5cyhpbnB1dFZhbHVlKVswXTtcblx0XHRcdGVsc2Uga2V5ID0gXCJpbnB1dFwiO1xuXHRcdFx0aWYgKEFycmF5LmlzQXJyYXkoaW5wdXRWYWx1ZVtrZXldKSAmJiBBcnJheS5pc0FycmF5KGlucHV0VmFsdWVba2V5XVswXSkpIHBhcnNlZElucHV0VmFsdWUgPSBpbnB1dFZhbHVlW2tleV1bMF07XG5cdFx0XHRlbHNlIHBhcnNlZElucHV0VmFsdWUgPSBpbnB1dFZhbHVlW2tleV07XG5cdFx0fSBlbHNlIHBhcnNlZElucHV0VmFsdWUgPSBpbnB1dFZhbHVlO1xuXHRcdGlmICh0eXBlb2YgcGFyc2VkSW5wdXRWYWx1ZSA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIFtuZXcgSHVtYW5NZXNzYWdlKHBhcnNlZElucHV0VmFsdWUpXTtcblx0XHRlbHNlIGlmIChBcnJheS5pc0FycmF5KHBhcnNlZElucHV0VmFsdWUpKSByZXR1cm4gcGFyc2VkSW5wdXRWYWx1ZTtcblx0XHRlbHNlIGlmIChpc0Jhc2VNZXNzYWdlKHBhcnNlZElucHV0VmFsdWUpKSByZXR1cm4gW3BhcnNlZElucHV0VmFsdWVdO1xuXHRcdGVsc2UgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBhIHN0cmluZywgQmFzZU1lc3NhZ2UsIG9yIGFycmF5IG9mIEJhc2VNZXNzYWdlcy5cXG5Hb3QgJHtKU09OLnN0cmluZ2lmeShwYXJzZWRJbnB1dFZhbHVlLCBudWxsLCAyKX1gKTtcblx0fVxuXHRfZ2V0T3V0cHV0TWVzc2FnZXMob3V0cHV0VmFsdWUpIHtcblx0XHRsZXQgcGFyc2VkT3V0cHV0VmFsdWU7XG5cdFx0aWYgKCFBcnJheS5pc0FycmF5KG91dHB1dFZhbHVlKSAmJiAhaXNCYXNlTWVzc2FnZShvdXRwdXRWYWx1ZSkgJiYgdHlwZW9mIG91dHB1dFZhbHVlICE9PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRsZXQga2V5O1xuXHRcdFx0aWYgKHRoaXMub3V0cHV0TWVzc2FnZXNLZXkgIT09IHZvaWQgMCkga2V5ID0gdGhpcy5vdXRwdXRNZXNzYWdlc0tleTtcblx0XHRcdGVsc2UgaWYgKE9iamVjdC5rZXlzKG91dHB1dFZhbHVlKS5sZW5ndGggPT09IDEpIGtleSA9IE9iamVjdC5rZXlzKG91dHB1dFZhbHVlKVswXTtcblx0XHRcdGVsc2Uga2V5ID0gXCJvdXRwdXRcIjtcblx0XHRcdGlmIChvdXRwdXRWYWx1ZS5nZW5lcmF0aW9ucyAhPT0gdm9pZCAwKSBwYXJzZWRPdXRwdXRWYWx1ZSA9IG91dHB1dFZhbHVlLmdlbmVyYXRpb25zWzBdWzBdLm1lc3NhZ2U7XG5cdFx0XHRlbHNlIHBhcnNlZE91dHB1dFZhbHVlID0gb3V0cHV0VmFsdWVba2V5XTtcblx0XHR9IGVsc2UgcGFyc2VkT3V0cHV0VmFsdWUgPSBvdXRwdXRWYWx1ZTtcblx0XHRpZiAodHlwZW9mIHBhcnNlZE91dHB1dFZhbHVlID09PSBcInN0cmluZ1wiKSByZXR1cm4gW25ldyBBSU1lc3NhZ2UocGFyc2VkT3V0cHV0VmFsdWUpXTtcblx0XHRlbHNlIGlmIChBcnJheS5pc0FycmF5KHBhcnNlZE91dHB1dFZhbHVlKSkgcmV0dXJuIHBhcnNlZE91dHB1dFZhbHVlO1xuXHRcdGVsc2UgaWYgKGlzQmFzZU1lc3NhZ2UocGFyc2VkT3V0cHV0VmFsdWUpKSByZXR1cm4gW3BhcnNlZE91dHB1dFZhbHVlXTtcblx0XHRlbHNlIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgYSBzdHJpbmcsIEJhc2VNZXNzYWdlLCBvciBhcnJheSBvZiBCYXNlTWVzc2FnZXMuIFJlY2VpdmVkOiAke0pTT04uc3RyaW5naWZ5KHBhcnNlZE91dHB1dFZhbHVlLCBudWxsLCAyKX1gKTtcblx0fVxuXHRhc3luYyBfZW50ZXJIaXN0b3J5KGlucHV0LCBrd2FyZ3MpIHtcblx0XHRjb25zdCBoaXN0b3J5ID0ga3dhcmdzPy5jb25maWd1cmFibGU/Lm1lc3NhZ2VIaXN0b3J5O1xuXHRcdGNvbnN0IG1lc3NhZ2VzID0gYXdhaXQgaGlzdG9yeS5nZXRNZXNzYWdlcygpO1xuXHRcdGlmICh0aGlzLmhpc3RvcnlNZXNzYWdlc0tleSA9PT0gdm9pZCAwKSByZXR1cm4gbWVzc2FnZXMuY29uY2F0KHRoaXMuX2dldElucHV0TWVzc2FnZXMoaW5wdXQpKTtcblx0XHRyZXR1cm4gbWVzc2FnZXM7XG5cdH1cblx0YXN5bmMgX2V4aXRIaXN0b3J5KHJ1biwgY29uZmlnKSB7XG5cdFx0Y29uc3QgaGlzdG9yeSA9IGNvbmZpZy5jb25maWd1cmFibGU/Lm1lc3NhZ2VIaXN0b3J5O1xuXHRcdGxldCBpbnB1dHM7XG5cdFx0aWYgKEFycmF5LmlzQXJyYXkocnVuLmlucHV0cykgJiYgQXJyYXkuaXNBcnJheShydW4uaW5wdXRzWzBdKSkgaW5wdXRzID0gcnVuLmlucHV0c1swXTtcblx0XHRlbHNlIGlucHV0cyA9IHJ1bi5pbnB1dHM7XG5cdFx0bGV0IGlucHV0TWVzc2FnZXMgPSB0aGlzLl9nZXRJbnB1dE1lc3NhZ2VzKGlucHV0cyk7XG5cdFx0aWYgKHRoaXMuaGlzdG9yeU1lc3NhZ2VzS2V5ID09PSB2b2lkIDApIHtcblx0XHRcdGNvbnN0IGV4aXN0aW5nTWVzc2FnZXMgPSBhd2FpdCBoaXN0b3J5LmdldE1lc3NhZ2VzKCk7XG5cdFx0XHRpbnB1dE1lc3NhZ2VzID0gaW5wdXRNZXNzYWdlcy5zbGljZShleGlzdGluZ01lc3NhZ2VzLmxlbmd0aCk7XG5cdFx0fVxuXHRcdGNvbnN0IG91dHB1dFZhbHVlID0gcnVuLm91dHB1dHM7XG5cdFx0aWYgKCFvdXRwdXRWYWx1ZSkgdGhyb3cgbmV3IEVycm9yKGBPdXRwdXQgdmFsdWVzIGZyb20gJ1J1bicgdW5kZWZpbmVkLiBSdW46ICR7SlNPTi5zdHJpbmdpZnkocnVuLCBudWxsLCAyKX1gKTtcblx0XHRjb25zdCBvdXRwdXRNZXNzYWdlcyA9IHRoaXMuX2dldE91dHB1dE1lc3NhZ2VzKG91dHB1dFZhbHVlKTtcblx0XHRhd2FpdCBoaXN0b3J5LmFkZE1lc3NhZ2VzKFsuLi5pbnB1dE1lc3NhZ2VzLCAuLi5vdXRwdXRNZXNzYWdlc10pO1xuXHR9XG5cdGFzeW5jIF9tZXJnZUNvbmZpZyguLi5jb25maWdzKSB7XG5cdFx0Y29uc3QgY29uZmlnID0gYXdhaXQgc3VwZXIuX21lcmdlQ29uZmlnKC4uLmNvbmZpZ3MpO1xuXHRcdGlmICghY29uZmlnLmNvbmZpZ3VyYWJsZSB8fCAhY29uZmlnLmNvbmZpZ3VyYWJsZS5zZXNzaW9uSWQpIHtcblx0XHRcdGNvbnN0IGV4YW1wbGVJbnB1dCA9IHsgW3RoaXMuaW5wdXRNZXNzYWdlc0tleSA/PyBcImlucHV0XCJdOiBcImZvb1wiIH07XG5cdFx0XHRjb25zdCBleGFtcGxlQ29uZmlnID0geyBjb25maWd1cmFibGU6IHsgc2Vzc2lvbklkOiBcIjEyM1wiIH0gfTtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgc2Vzc2lvbklkIGlzIHJlcXVpcmVkLiBQYXNzIGl0IGluIGFzIHBhcnQgb2YgdGhlIGNvbmZpZyBhcmd1bWVudCB0byAuaW52b2tlKCkgb3IgLnN0cmVhbSgpXFxuZWcuIGNoYWluLmludm9rZSgke0pTT04uc3RyaW5naWZ5KGV4YW1wbGVJbnB1dCl9LCAke0pTT04uc3RyaW5naWZ5KGV4YW1wbGVDb25maWcpfSlgKTtcblx0XHR9XG5cdFx0Y29uc3QgeyBzZXNzaW9uSWQgfSA9IGNvbmZpZy5jb25maWd1cmFibGU7XG5cdFx0Y29uZmlnLmNvbmZpZ3VyYWJsZS5tZXNzYWdlSGlzdG9yeSA9IGF3YWl0IHRoaXMuZ2V0TWVzc2FnZUhpc3Rvcnkoc2Vzc2lvbklkKTtcblx0XHRyZXR1cm4gY29uZmlnO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IFJ1bm5hYmxlV2l0aE1lc3NhZ2VIaXN0b3J5IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1oaXN0b3J5LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/history.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/index.js":
/*!*******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/index.js ***!
  \*******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RouterRunnable: () => (/* reexport safe */ _router_js__WEBPACK_IMPORTED_MODULE_4__.RouterRunnable),\n/* harmony export */   Runnable: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_2__.Runnable),\n/* harmony export */   RunnableAssign: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_2__.RunnableAssign),\n/* harmony export */   RunnableBinding: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_2__.RunnableBinding),\n/* harmony export */   RunnableBranch: () => (/* reexport safe */ _branch_js__WEBPACK_IMPORTED_MODULE_5__.RunnableBranch),\n/* harmony export */   RunnableEach: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_2__.RunnableEach),\n/* harmony export */   RunnableLambda: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_2__.RunnableLambda),\n/* harmony export */   RunnableMap: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_2__.RunnableMap),\n/* harmony export */   RunnableParallel: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_2__.RunnableParallel),\n/* harmony export */   RunnablePassthrough: () => (/* reexport safe */ _passthrough_js__WEBPACK_IMPORTED_MODULE_3__.RunnablePassthrough),\n/* harmony export */   RunnablePick: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_2__.RunnablePick),\n/* harmony export */   RunnableRetry: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_2__.RunnableRetry),\n/* harmony export */   RunnableSequence: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_2__.RunnableSequence),\n/* harmony export */   RunnableToolLike: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_2__.RunnableToolLike),\n/* harmony export */   RunnableWithFallbacks: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_2__.RunnableWithFallbacks),\n/* harmony export */   RunnableWithMessageHistory: () => (/* reexport safe */ _history_js__WEBPACK_IMPORTED_MODULE_6__.RunnableWithMessageHistory),\n/* harmony export */   _coerceToRunnable: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_2__._coerceToRunnable),\n/* harmony export */   ensureConfig: () => (/* reexport safe */ _config_js__WEBPACK_IMPORTED_MODULE_1__.ensureConfig),\n/* harmony export */   getCallbackManagerForConfig: () => (/* reexport safe */ _config_js__WEBPACK_IMPORTED_MODULE_1__.getCallbackManagerForConfig),\n/* harmony export */   mergeConfigs: () => (/* reexport safe */ _config_js__WEBPACK_IMPORTED_MODULE_1__.mergeConfigs),\n/* harmony export */   patchConfig: () => (/* reexport safe */ _config_js__WEBPACK_IMPORTED_MODULE_1__.patchConfig),\n/* harmony export */   pickRunnableConfigKeys: () => (/* reexport safe */ _config_js__WEBPACK_IMPORTED_MODULE_1__.pickRunnableConfigKeys),\n/* harmony export */   runnables_exports: () => (/* binding */ runnables_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./config.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/config.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/base.js\");\n/* harmony import */ var _passthrough_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./passthrough.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/passthrough.js\");\n/* harmony import */ var _router_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./router.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/router.js\");\n/* harmony import */ var _branch_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./branch.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/branch.js\");\n/* harmony import */ var _history_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./history.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/history.js\");\n\n\n\n\n\n\n\n\n//#region src/runnables/index.ts\nvar runnables_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(runnables_exports, {\n\tRouterRunnable: () => _router_js__WEBPACK_IMPORTED_MODULE_4__.RouterRunnable,\n\tRunnable: () => _base_js__WEBPACK_IMPORTED_MODULE_2__.Runnable,\n\tRunnableAssign: () => _base_js__WEBPACK_IMPORTED_MODULE_2__.RunnableAssign,\n\tRunnableBinding: () => _base_js__WEBPACK_IMPORTED_MODULE_2__.RunnableBinding,\n\tRunnableBranch: () => _branch_js__WEBPACK_IMPORTED_MODULE_5__.RunnableBranch,\n\tRunnableEach: () => _base_js__WEBPACK_IMPORTED_MODULE_2__.RunnableEach,\n\tRunnableLambda: () => _base_js__WEBPACK_IMPORTED_MODULE_2__.RunnableLambda,\n\tRunnableMap: () => _base_js__WEBPACK_IMPORTED_MODULE_2__.RunnableMap,\n\tRunnableParallel: () => _base_js__WEBPACK_IMPORTED_MODULE_2__.RunnableParallel,\n\tRunnablePassthrough: () => _passthrough_js__WEBPACK_IMPORTED_MODULE_3__.RunnablePassthrough,\n\tRunnablePick: () => _base_js__WEBPACK_IMPORTED_MODULE_2__.RunnablePick,\n\tRunnableRetry: () => _base_js__WEBPACK_IMPORTED_MODULE_2__.RunnableRetry,\n\tRunnableSequence: () => _base_js__WEBPACK_IMPORTED_MODULE_2__.RunnableSequence,\n\tRunnableToolLike: () => _base_js__WEBPACK_IMPORTED_MODULE_2__.RunnableToolLike,\n\tRunnableWithFallbacks: () => _base_js__WEBPACK_IMPORTED_MODULE_2__.RunnableWithFallbacks,\n\tRunnableWithMessageHistory: () => _history_js__WEBPACK_IMPORTED_MODULE_6__.RunnableWithMessageHistory,\n\t_coerceToRunnable: () => _base_js__WEBPACK_IMPORTED_MODULE_2__._coerceToRunnable,\n\tensureConfig: () => _config_js__WEBPACK_IMPORTED_MODULE_1__.ensureConfig,\n\tgetCallbackManagerForConfig: () => _config_js__WEBPACK_IMPORTED_MODULE_1__.getCallbackManagerForConfig,\n\tmergeConfigs: () => _config_js__WEBPACK_IMPORTED_MODULE_1__.mergeConfigs,\n\tpatchConfig: () => _config_js__WEBPACK_IMPORTED_MODULE_1__.patchConfig,\n\tpickRunnableConfigKeys: () => _config_js__WEBPACK_IMPORTED_MODULE_1__.pickRunnableConfigKeys\n});\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9ydW5uYWJsZXMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTJEO0FBQ2dFO0FBQ21IO0FBQ3ZMO0FBQ1Y7QUFDQTtBQUNhOztBQUUxRDtBQUNBO0FBQ0Esc0VBQVE7QUFDUix1QkFBdUIsc0RBQWM7QUFDckMsaUJBQWlCLDhDQUFRO0FBQ3pCLHVCQUF1QixvREFBYztBQUNyQyx3QkFBd0IscURBQWU7QUFDdkMsdUJBQXVCLHNEQUFjO0FBQ3JDLHFCQUFxQixrREFBWTtBQUNqQyx1QkFBdUIsb0RBQWM7QUFDckMsb0JBQW9CLGlEQUFXO0FBQy9CLHlCQUF5QixzREFBZ0I7QUFDekMsNEJBQTRCLGdFQUFtQjtBQUMvQyxxQkFBcUIsa0RBQVk7QUFDakMsc0JBQXNCLG1EQUFhO0FBQ25DLHlCQUF5QixzREFBZ0I7QUFDekMseUJBQXlCLHNEQUFnQjtBQUN6Qyw4QkFBOEIsMkRBQXFCO0FBQ25ELG1DQUFtQyxtRUFBMEI7QUFDN0QsMEJBQTBCLHVEQUFpQjtBQUMzQyxxQkFBcUIsb0RBQVk7QUFDakMsb0NBQW9DLG1FQUEyQjtBQUMvRCxxQkFBcUIsb0RBQVk7QUFDakMsb0JBQW9CLG1EQUFXO0FBQy9CLCtCQUErQiw4REFBc0I7QUFDckQsQ0FBQzs7QUFFRDtBQUMrWjtBQUMvWiIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvcnVubmFibGVzL2luZGV4LmpzP2RiOWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19leHBvcnQgfSBmcm9tIFwiLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5qc1wiO1xuaW1wb3J0IHsgZW5zdXJlQ29uZmlnLCBnZXRDYWxsYmFja01hbmFnZXJGb3JDb25maWcsIG1lcmdlQ29uZmlncywgcGF0Y2hDb25maWcsIHBpY2tSdW5uYWJsZUNvbmZpZ0tleXMgfSBmcm9tIFwiLi9jb25maWcuanNcIjtcbmltcG9ydCB7IFJ1bm5hYmxlLCBSdW5uYWJsZUFzc2lnbiwgUnVubmFibGVCaW5kaW5nLCBSdW5uYWJsZUVhY2gsIFJ1bm5hYmxlTGFtYmRhLCBSdW5uYWJsZU1hcCwgUnVubmFibGVQYXJhbGxlbCwgUnVubmFibGVQaWNrLCBSdW5uYWJsZVJldHJ5LCBSdW5uYWJsZVNlcXVlbmNlLCBSdW5uYWJsZVRvb2xMaWtlLCBSdW5uYWJsZVdpdGhGYWxsYmFja3MsIF9jb2VyY2VUb1J1bm5hYmxlIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgUnVubmFibGVQYXNzdGhyb3VnaCB9IGZyb20gXCIuL3Bhc3N0aHJvdWdoLmpzXCI7XG5pbXBvcnQgeyBSb3V0ZXJSdW5uYWJsZSB9IGZyb20gXCIuL3JvdXRlci5qc1wiO1xuaW1wb3J0IHsgUnVubmFibGVCcmFuY2ggfSBmcm9tIFwiLi9icmFuY2guanNcIjtcbmltcG9ydCB7IFJ1bm5hYmxlV2l0aE1lc3NhZ2VIaXN0b3J5IH0gZnJvbSBcIi4vaGlzdG9yeS5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3J1bm5hYmxlcy9pbmRleC50c1xudmFyIHJ1bm5hYmxlc19leHBvcnRzID0ge307XG5fX2V4cG9ydChydW5uYWJsZXNfZXhwb3J0cywge1xuXHRSb3V0ZXJSdW5uYWJsZTogKCkgPT4gUm91dGVyUnVubmFibGUsXG5cdFJ1bm5hYmxlOiAoKSA9PiBSdW5uYWJsZSxcblx0UnVubmFibGVBc3NpZ246ICgpID0+IFJ1bm5hYmxlQXNzaWduLFxuXHRSdW5uYWJsZUJpbmRpbmc6ICgpID0+IFJ1bm5hYmxlQmluZGluZyxcblx0UnVubmFibGVCcmFuY2g6ICgpID0+IFJ1bm5hYmxlQnJhbmNoLFxuXHRSdW5uYWJsZUVhY2g6ICgpID0+IFJ1bm5hYmxlRWFjaCxcblx0UnVubmFibGVMYW1iZGE6ICgpID0+IFJ1bm5hYmxlTGFtYmRhLFxuXHRSdW5uYWJsZU1hcDogKCkgPT4gUnVubmFibGVNYXAsXG5cdFJ1bm5hYmxlUGFyYWxsZWw6ICgpID0+IFJ1bm5hYmxlUGFyYWxsZWwsXG5cdFJ1bm5hYmxlUGFzc3Rocm91Z2g6ICgpID0+IFJ1bm5hYmxlUGFzc3Rocm91Z2gsXG5cdFJ1bm5hYmxlUGljazogKCkgPT4gUnVubmFibGVQaWNrLFxuXHRSdW5uYWJsZVJldHJ5OiAoKSA9PiBSdW5uYWJsZVJldHJ5LFxuXHRSdW5uYWJsZVNlcXVlbmNlOiAoKSA9PiBSdW5uYWJsZVNlcXVlbmNlLFxuXHRSdW5uYWJsZVRvb2xMaWtlOiAoKSA9PiBSdW5uYWJsZVRvb2xMaWtlLFxuXHRSdW5uYWJsZVdpdGhGYWxsYmFja3M6ICgpID0+IFJ1bm5hYmxlV2l0aEZhbGxiYWNrcyxcblx0UnVubmFibGVXaXRoTWVzc2FnZUhpc3Rvcnk6ICgpID0+IFJ1bm5hYmxlV2l0aE1lc3NhZ2VIaXN0b3J5LFxuXHRfY29lcmNlVG9SdW5uYWJsZTogKCkgPT4gX2NvZXJjZVRvUnVubmFibGUsXG5cdGVuc3VyZUNvbmZpZzogKCkgPT4gZW5zdXJlQ29uZmlnLFxuXHRnZXRDYWxsYmFja01hbmFnZXJGb3JDb25maWc6ICgpID0+IGdldENhbGxiYWNrTWFuYWdlckZvckNvbmZpZyxcblx0bWVyZ2VDb25maWdzOiAoKSA9PiBtZXJnZUNvbmZpZ3MsXG5cdHBhdGNoQ29uZmlnOiAoKSA9PiBwYXRjaENvbmZpZyxcblx0cGlja1J1bm5hYmxlQ29uZmlnS2V5czogKCkgPT4gcGlja1J1bm5hYmxlQ29uZmlnS2V5c1xufSk7XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgUm91dGVyUnVubmFibGUsIFJ1bm5hYmxlLCBSdW5uYWJsZUFzc2lnbiwgUnVubmFibGVCaW5kaW5nLCBSdW5uYWJsZUJyYW5jaCwgUnVubmFibGVFYWNoLCBSdW5uYWJsZUxhbWJkYSwgUnVubmFibGVNYXAsIFJ1bm5hYmxlUGFyYWxsZWwsIFJ1bm5hYmxlUGFzc3Rocm91Z2gsIFJ1bm5hYmxlUGljaywgUnVubmFibGVSZXRyeSwgUnVubmFibGVTZXF1ZW5jZSwgUnVubmFibGVUb29sTGlrZSwgUnVubmFibGVXaXRoRmFsbGJhY2tzLCBSdW5uYWJsZVdpdGhNZXNzYWdlSGlzdG9yeSwgX2NvZXJjZVRvUnVubmFibGUsIGVuc3VyZUNvbmZpZywgZ2V0Q2FsbGJhY2tNYW5hZ2VyRm9yQ29uZmlnLCBtZXJnZUNvbmZpZ3MsIHBhdGNoQ29uZmlnLCBwaWNrUnVubmFibGVDb25maWdLZXlzLCBydW5uYWJsZXNfZXhwb3J0cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/iter.js":
/*!******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/iter.js ***!
  \******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   consumeAsyncIterableInContext: () => (/* binding */ consumeAsyncIterableInContext),\n/* harmony export */   consumeIteratorInContext: () => (/* binding */ consumeIteratorInContext),\n/* harmony export */   isAsyncIterable: () => (/* binding */ isAsyncIterable),\n/* harmony export */   isIterableIterator: () => (/* binding */ isIterableIterator),\n/* harmony export */   isIterator: () => (/* binding */ isIterator)\n/* harmony export */ });\n/* harmony import */ var _singletons_async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../singletons/async_local_storage/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/async_local_storage/index.js\");\n/* harmony import */ var _singletons_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../singletons/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/index.js\");\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./config.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/config.js\");\n\n\n\n\n//#region src/runnables/iter.ts\nfunction isIterableIterator(thing) {\n\treturn typeof thing === \"object\" && thing !== null && typeof thing[Symbol.iterator] === \"function\" && typeof thing.next === \"function\";\n}\nconst isIterator = (x) => x != null && typeof x === \"object\" && \"next\" in x && typeof x.next === \"function\";\nfunction isAsyncIterable(thing) {\n\treturn typeof thing === \"object\" && thing !== null && typeof thing[Symbol.asyncIterator] === \"function\";\n}\nfunction* consumeIteratorInContext(context, iter) {\n\twhile (true) {\n\t\tconst { value, done } = _singletons_async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_0__.AsyncLocalStorageProviderSingleton.runWithConfig((0,_config_js__WEBPACK_IMPORTED_MODULE_2__.pickRunnableConfigKeys)(context), iter.next.bind(iter), true);\n\t\tif (done) break;\n\t\telse yield value;\n\t}\n}\nasync function* consumeAsyncIterableInContext(context, iter) {\n\tconst iterator = iter[Symbol.asyncIterator]();\n\twhile (true) {\n\t\tconst { value, done } = await _singletons_async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_0__.AsyncLocalStorageProviderSingleton.runWithConfig((0,_config_js__WEBPACK_IMPORTED_MODULE_2__.pickRunnableConfigKeys)(context), iterator.next.bind(iter), true);\n\t\tif (done) break;\n\t\telse yield value;\n\t}\n}\n\n//#endregion\n\n//# sourceMappingURL=iter.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9ydW5uYWJsZXMvaXRlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFnRztBQUNoRTtBQUNxQjs7QUFFckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGNBQWMsRUFBRSx3R0FBa0MsZUFBZSxrRUFBc0I7QUFDakc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGNBQWMsUUFBUSx3R0FBa0MsZUFBZSxrRUFBc0I7QUFDdkc7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDb0g7QUFDcEgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3J1bm5hYmxlcy9pdGVyLmpzP2I5NjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXN5bmNMb2NhbFN0b3JhZ2VQcm92aWRlclNpbmdsZXRvbiB9IGZyb20gXCIuLi9zaW5nbGV0b25zL2FzeW5jX2xvY2FsX3N0b3JhZ2UvaW5kZXguanNcIjtcbmltcG9ydCBcIi4uL3NpbmdsZXRvbnMvaW5kZXguanNcIjtcbmltcG9ydCB7IHBpY2tSdW5uYWJsZUNvbmZpZ0tleXMgfSBmcm9tIFwiLi9jb25maWcuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9ydW5uYWJsZXMvaXRlci50c1xuZnVuY3Rpb24gaXNJdGVyYWJsZUl0ZXJhdG9yKHRoaW5nKSB7XG5cdHJldHVybiB0eXBlb2YgdGhpbmcgPT09IFwib2JqZWN0XCIgJiYgdGhpbmcgIT09IG51bGwgJiYgdHlwZW9mIHRoaW5nW1N5bWJvbC5pdGVyYXRvcl0gPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgdGhpbmcubmV4dCA9PT0gXCJmdW5jdGlvblwiO1xufVxuY29uc3QgaXNJdGVyYXRvciA9ICh4KSA9PiB4ICE9IG51bGwgJiYgdHlwZW9mIHggPT09IFwib2JqZWN0XCIgJiYgXCJuZXh0XCIgaW4geCAmJiB0eXBlb2YgeC5uZXh0ID09PSBcImZ1bmN0aW9uXCI7XG5mdW5jdGlvbiBpc0FzeW5jSXRlcmFibGUodGhpbmcpIHtcblx0cmV0dXJuIHR5cGVvZiB0aGluZyA9PT0gXCJvYmplY3RcIiAmJiB0aGluZyAhPT0gbnVsbCAmJiB0eXBlb2YgdGhpbmdbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID09PSBcImZ1bmN0aW9uXCI7XG59XG5mdW5jdGlvbiogY29uc3VtZUl0ZXJhdG9ySW5Db250ZXh0KGNvbnRleHQsIGl0ZXIpIHtcblx0d2hpbGUgKHRydWUpIHtcblx0XHRjb25zdCB7IHZhbHVlLCBkb25lIH0gPSBBc3luY0xvY2FsU3RvcmFnZVByb3ZpZGVyU2luZ2xldG9uLnJ1bldpdGhDb25maWcocGlja1J1bm5hYmxlQ29uZmlnS2V5cyhjb250ZXh0KSwgaXRlci5uZXh0LmJpbmQoaXRlciksIHRydWUpO1xuXHRcdGlmIChkb25lKSBicmVhaztcblx0XHRlbHNlIHlpZWxkIHZhbHVlO1xuXHR9XG59XG5hc3luYyBmdW5jdGlvbiogY29uc3VtZUFzeW5jSXRlcmFibGVJbkNvbnRleHQoY29udGV4dCwgaXRlcikge1xuXHRjb25zdCBpdGVyYXRvciA9IGl0ZXJbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk7XG5cdHdoaWxlICh0cnVlKSB7XG5cdFx0Y29uc3QgeyB2YWx1ZSwgZG9uZSB9ID0gYXdhaXQgQXN5bmNMb2NhbFN0b3JhZ2VQcm92aWRlclNpbmdsZXRvbi5ydW5XaXRoQ29uZmlnKHBpY2tSdW5uYWJsZUNvbmZpZ0tleXMoY29udGV4dCksIGl0ZXJhdG9yLm5leHQuYmluZChpdGVyKSwgdHJ1ZSk7XG5cdFx0aWYgKGRvbmUpIGJyZWFrO1xuXHRcdGVsc2UgeWllbGQgdmFsdWU7XG5cdH1cbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBjb25zdW1lQXN5bmNJdGVyYWJsZUluQ29udGV4dCwgY29uc3VtZUl0ZXJhdG9ySW5Db250ZXh0LCBpc0FzeW5jSXRlcmFibGUsIGlzSXRlcmFibGVJdGVyYXRvciwgaXNJdGVyYXRvciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXRlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/iter.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/passthrough.js":
/*!*************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/passthrough.js ***!
  \*************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RunnablePassthrough: () => (/* binding */ RunnablePassthrough)\n/* harmony export */ });\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/config.js\");\n/* harmony import */ var _utils_stream_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/stream.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/stream.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/base.js\");\n\n\n\n\n//#region src/runnables/passthrough.ts\n/**\n* A runnable to passthrough inputs unchanged or with additional keys.\n*\n* This runnable behaves almost like the identity function, except that it\n* can be configured to add additional keys to the output, if the input is\n* an object.\n*\n* The example below demonstrates how to use `RunnablePassthrough to\n* passthrough the input from the `.invoke()`\n*\n* @example\n* ```typescript\n* const chain = RunnableSequence.from([\n*   {\n*     question: new RunnablePassthrough(),\n*     context: async () => loadContextFromStore(),\n*   },\n*   prompt,\n*   llm,\n*   outputParser,\n* ]);\n* const response = await chain.invoke(\n*   \"I can pass a single string instead of an object since I'm using `RunnablePassthrough`.\"\n* );\n* ```\n*/\nvar RunnablePassthrough = class extends _base_js__WEBPACK_IMPORTED_MODULE_2__.Runnable {\n\tstatic lc_name() {\n\t\treturn \"RunnablePassthrough\";\n\t}\n\tlc_namespace = [\"langchain_core\", \"runnables\"];\n\tlc_serializable = true;\n\tfunc;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tif (fields) this.func = fields.func;\n\t}\n\tasync invoke(input, options) {\n\t\tconst config = (0,_config_js__WEBPACK_IMPORTED_MODULE_0__.ensureConfig)(options);\n\t\tif (this.func) await this.func(input, config);\n\t\treturn this._callWithConfig((input$1) => Promise.resolve(input$1), input, config);\n\t}\n\tasync *transform(generator, options) {\n\t\tconst config = (0,_config_js__WEBPACK_IMPORTED_MODULE_0__.ensureConfig)(options);\n\t\tlet finalOutput;\n\t\tlet finalOutputSupported = true;\n\t\tfor await (const chunk of this._transformStreamWithConfig(generator, (input) => input, config)) {\n\t\t\tyield chunk;\n\t\t\tif (finalOutputSupported) if (finalOutput === void 0) finalOutput = chunk;\n\t\t\telse try {\n\t\t\t\tfinalOutput = (0,_utils_stream_js__WEBPACK_IMPORTED_MODULE_1__.concat)(finalOutput, chunk);\n\t\t\t} catch {\n\t\t\t\tfinalOutput = void 0;\n\t\t\t\tfinalOutputSupported = false;\n\t\t\t}\n\t\t}\n\t\tif (this.func && finalOutput !== void 0) await this.func(finalOutput, config);\n\t}\n\t/**\n\t* A runnable that assigns key-value pairs to the input.\n\t*\n\t* The example below shows how you could use it with an inline function.\n\t*\n\t* @example\n\t* ```typescript\n\t* const prompt =\n\t*   PromptTemplate.fromTemplate(`Write a SQL query to answer the question using the following schema: {schema}\n\t* Question: {question}\n\t* SQL Query:`);\n\t*\n\t* // The `RunnablePassthrough.assign()` is used here to passthrough the input from the `.invoke()`\n\t* // call (in this example it's the question), along with any inputs passed to the `.assign()` method.\n\t* // In this case, we're passing the schema.\n\t* const sqlQueryGeneratorChain = RunnableSequence.from([\n\t*   RunnablePassthrough.assign({\n\t*     schema: async () => db.getTableInfo(),\n\t*   }),\n\t*   prompt,\n\t*   new ChatOpenAI({ model: \"gpt-4o-mini\" }).withConfig({ stop: [\"\\nSQLResult:\"] }),\n\t*   new StringOutputParser(),\n\t* ]);\n\t* const result = await sqlQueryGeneratorChain.invoke({\n\t*   question: \"How many employees are there?\",\n\t* });\n\t* ```\n\t*/\n\tstatic assign(mapping) {\n\t\treturn new _base_js__WEBPACK_IMPORTED_MODULE_2__.RunnableAssign(new _base_js__WEBPACK_IMPORTED_MODULE_2__.RunnableMap({ steps: mapping }));\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=passthrough.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9ydW5uYWJsZXMvcGFzc3Rocm91Z2guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEyQztBQUNDO0FBQ3NCOztBQUVsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3Qyw4Q0FBUTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHdEQUFZO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHdEQUFZO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix3REFBTTtBQUN4QixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdHQUF3RztBQUN4RyxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLHNCQUFzQixzQkFBc0IsZUFBZSx3QkFBd0I7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsYUFBYSxvREFBYyxLQUFLLGlEQUFXLEdBQUcsZ0JBQWdCO0FBQzlEO0FBQ0E7O0FBRUE7QUFDK0I7QUFDL0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3J1bm5hYmxlcy9wYXNzdGhyb3VnaC5qcz81YmUyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGVuc3VyZUNvbmZpZyB9IGZyb20gXCIuL2NvbmZpZy5qc1wiO1xuaW1wb3J0IHsgY29uY2F0IH0gZnJvbSBcIi4uL3V0aWxzL3N0cmVhbS5qc1wiO1xuaW1wb3J0IHsgUnVubmFibGUsIFJ1bm5hYmxlQXNzaWduLCBSdW5uYWJsZU1hcCB9IGZyb20gXCIuL2Jhc2UuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9ydW5uYWJsZXMvcGFzc3Rocm91Z2gudHNcbi8qKlxuKiBBIHJ1bm5hYmxlIHRvIHBhc3N0aHJvdWdoIGlucHV0cyB1bmNoYW5nZWQgb3Igd2l0aCBhZGRpdGlvbmFsIGtleXMuXG4qXG4qIFRoaXMgcnVubmFibGUgYmVoYXZlcyBhbG1vc3QgbGlrZSB0aGUgaWRlbnRpdHkgZnVuY3Rpb24sIGV4Y2VwdCB0aGF0IGl0XG4qIGNhbiBiZSBjb25maWd1cmVkIHRvIGFkZCBhZGRpdGlvbmFsIGtleXMgdG8gdGhlIG91dHB1dCwgaWYgdGhlIGlucHV0IGlzXG4qIGFuIG9iamVjdC5cbipcbiogVGhlIGV4YW1wbGUgYmVsb3cgZGVtb25zdHJhdGVzIGhvdyB0byB1c2UgYFJ1bm5hYmxlUGFzc3Rocm91Z2ggdG9cbiogcGFzc3Rocm91Z2ggdGhlIGlucHV0IGZyb20gdGhlIGAuaW52b2tlKClgXG4qXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogY29uc3QgY2hhaW4gPSBSdW5uYWJsZVNlcXVlbmNlLmZyb20oW1xuKiAgIHtcbiogICAgIHF1ZXN0aW9uOiBuZXcgUnVubmFibGVQYXNzdGhyb3VnaCgpLFxuKiAgICAgY29udGV4dDogYXN5bmMgKCkgPT4gbG9hZENvbnRleHRGcm9tU3RvcmUoKSxcbiogICB9LFxuKiAgIHByb21wdCxcbiogICBsbG0sXG4qICAgb3V0cHV0UGFyc2VyLFxuKiBdKTtcbiogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjaGFpbi5pbnZva2UoXG4qICAgXCJJIGNhbiBwYXNzIGEgc2luZ2xlIHN0cmluZyBpbnN0ZWFkIG9mIGFuIG9iamVjdCBzaW5jZSBJJ20gdXNpbmcgYFJ1bm5hYmxlUGFzc3Rocm91Z2hgLlwiXG4qICk7XG4qIGBgYFxuKi9cbnZhciBSdW5uYWJsZVBhc3N0aHJvdWdoID0gY2xhc3MgZXh0ZW5kcyBSdW5uYWJsZSB7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIlJ1bm5hYmxlUGFzc3Rocm91Z2hcIjtcblx0fVxuXHRsY19uYW1lc3BhY2UgPSBbXCJsYW5nY2hhaW5fY29yZVwiLCBcInJ1bm5hYmxlc1wiXTtcblx0bGNfc2VyaWFsaXphYmxlID0gdHJ1ZTtcblx0ZnVuYztcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHRpZiAoZmllbGRzKSB0aGlzLmZ1bmMgPSBmaWVsZHMuZnVuYztcblx0fVxuXHRhc3luYyBpbnZva2UoaW5wdXQsIG9wdGlvbnMpIHtcblx0XHRjb25zdCBjb25maWcgPSBlbnN1cmVDb25maWcob3B0aW9ucyk7XG5cdFx0aWYgKHRoaXMuZnVuYykgYXdhaXQgdGhpcy5mdW5jKGlucHV0LCBjb25maWcpO1xuXHRcdHJldHVybiB0aGlzLl9jYWxsV2l0aENvbmZpZygoaW5wdXQkMSkgPT4gUHJvbWlzZS5yZXNvbHZlKGlucHV0JDEpLCBpbnB1dCwgY29uZmlnKTtcblx0fVxuXHRhc3luYyAqdHJhbnNmb3JtKGdlbmVyYXRvciwgb3B0aW9ucykge1xuXHRcdGNvbnN0IGNvbmZpZyA9IGVuc3VyZUNvbmZpZyhvcHRpb25zKTtcblx0XHRsZXQgZmluYWxPdXRwdXQ7XG5cdFx0bGV0IGZpbmFsT3V0cHV0U3VwcG9ydGVkID0gdHJ1ZTtcblx0XHRmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHRoaXMuX3RyYW5zZm9ybVN0cmVhbVdpdGhDb25maWcoZ2VuZXJhdG9yLCAoaW5wdXQpID0+IGlucHV0LCBjb25maWcpKSB7XG5cdFx0XHR5aWVsZCBjaHVuaztcblx0XHRcdGlmIChmaW5hbE91dHB1dFN1cHBvcnRlZCkgaWYgKGZpbmFsT3V0cHV0ID09PSB2b2lkIDApIGZpbmFsT3V0cHV0ID0gY2h1bms7XG5cdFx0XHRlbHNlIHRyeSB7XG5cdFx0XHRcdGZpbmFsT3V0cHV0ID0gY29uY2F0KGZpbmFsT3V0cHV0LCBjaHVuayk7XG5cdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0ZmluYWxPdXRwdXQgPSB2b2lkIDA7XG5cdFx0XHRcdGZpbmFsT3V0cHV0U3VwcG9ydGVkID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmICh0aGlzLmZ1bmMgJiYgZmluYWxPdXRwdXQgIT09IHZvaWQgMCkgYXdhaXQgdGhpcy5mdW5jKGZpbmFsT3V0cHV0LCBjb25maWcpO1xuXHR9XG5cdC8qKlxuXHQqIEEgcnVubmFibGUgdGhhdCBhc3NpZ25zIGtleS12YWx1ZSBwYWlycyB0byB0aGUgaW5wdXQuXG5cdCpcblx0KiBUaGUgZXhhbXBsZSBiZWxvdyBzaG93cyBob3cgeW91IGNvdWxkIHVzZSBpdCB3aXRoIGFuIGlubGluZSBmdW5jdGlvbi5cblx0KlxuXHQqIEBleGFtcGxlXG5cdCogYGBgdHlwZXNjcmlwdFxuXHQqIGNvbnN0IHByb21wdCA9XG5cdCogICBQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUoYFdyaXRlIGEgU1FMIHF1ZXJ5IHRvIGFuc3dlciB0aGUgcXVlc3Rpb24gdXNpbmcgdGhlIGZvbGxvd2luZyBzY2hlbWE6IHtzY2hlbWF9XG5cdCogUXVlc3Rpb246IHtxdWVzdGlvbn1cblx0KiBTUUwgUXVlcnk6YCk7XG5cdCpcblx0KiAvLyBUaGUgYFJ1bm5hYmxlUGFzc3Rocm91Z2guYXNzaWduKClgIGlzIHVzZWQgaGVyZSB0byBwYXNzdGhyb3VnaCB0aGUgaW5wdXQgZnJvbSB0aGUgYC5pbnZva2UoKWBcblx0KiAvLyBjYWxsIChpbiB0aGlzIGV4YW1wbGUgaXQncyB0aGUgcXVlc3Rpb24pLCBhbG9uZyB3aXRoIGFueSBpbnB1dHMgcGFzc2VkIHRvIHRoZSBgLmFzc2lnbigpYCBtZXRob2QuXG5cdCogLy8gSW4gdGhpcyBjYXNlLCB3ZSdyZSBwYXNzaW5nIHRoZSBzY2hlbWEuXG5cdCogY29uc3Qgc3FsUXVlcnlHZW5lcmF0b3JDaGFpbiA9IFJ1bm5hYmxlU2VxdWVuY2UuZnJvbShbXG5cdCogICBSdW5uYWJsZVBhc3N0aHJvdWdoLmFzc2lnbih7XG5cdCogICAgIHNjaGVtYTogYXN5bmMgKCkgPT4gZGIuZ2V0VGFibGVJbmZvKCksXG5cdCogICB9KSxcblx0KiAgIHByb21wdCxcblx0KiAgIG5ldyBDaGF0T3BlbkFJKHsgbW9kZWw6IFwiZ3B0LTRvLW1pbmlcIiB9KS53aXRoQ29uZmlnKHsgc3RvcDogW1wiXFxuU1FMUmVzdWx0OlwiXSB9KSxcblx0KiAgIG5ldyBTdHJpbmdPdXRwdXRQYXJzZXIoKSxcblx0KiBdKTtcblx0KiBjb25zdCByZXN1bHQgPSBhd2FpdCBzcWxRdWVyeUdlbmVyYXRvckNoYWluLmludm9rZSh7XG5cdCogICBxdWVzdGlvbjogXCJIb3cgbWFueSBlbXBsb3llZXMgYXJlIHRoZXJlP1wiLFxuXHQqIH0pO1xuXHQqIGBgYFxuXHQqL1xuXHRzdGF0aWMgYXNzaWduKG1hcHBpbmcpIHtcblx0XHRyZXR1cm4gbmV3IFJ1bm5hYmxlQXNzaWduKG5ldyBSdW5uYWJsZU1hcCh7IHN0ZXBzOiBtYXBwaW5nIH0pKTtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBSdW5uYWJsZVBhc3N0aHJvdWdoIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXNzdGhyb3VnaC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/passthrough.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/router.js":
/*!********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/router.js ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RouterRunnable: () => (/* binding */ RouterRunnable)\n/* harmony export */ });\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/config.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/base.js\");\n\n\n\n//#region src/runnables/router.ts\n/**\n* A runnable that routes to a set of runnables based on Input['key'].\n* Returns the output of the selected runnable.\n* @example\n* ```typescript\n* import { RouterRunnable, RunnableLambda } from \"@langchain/core/runnables\";\n*\n* const router = new RouterRunnable({\n*   runnables: {\n*     toUpperCase: RunnableLambda.from((text: string) => text.toUpperCase()),\n*     reverseText: RunnableLambda.from((text: string) =>\n*       text.split(\"\").reverse().join(\"\")\n*     ),\n*   },\n* });\n*\n* // Invoke the 'reverseText' runnable\n* const result1 = router.invoke({ key: \"reverseText\", input: \"Hello World\" });\n*\n* // \"dlroW olleH\"\n*\n* // Invoke the 'toUpperCase' runnable\n* const result2 = router.invoke({ key: \"toUpperCase\", input: \"Hello World\" });\n*\n* // \"HELLO WORLD\"\n* ```\n*/\nvar RouterRunnable = class extends _base_js__WEBPACK_IMPORTED_MODULE_1__.Runnable {\n\tstatic lc_name() {\n\t\treturn \"RouterRunnable\";\n\t}\n\tlc_namespace = [\"langchain_core\", \"runnables\"];\n\tlc_serializable = true;\n\trunnables;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.runnables = fields.runnables;\n\t}\n\tasync invoke(input, options) {\n\t\tconst { key, input: actualInput } = input;\n\t\tconst runnable = this.runnables[key];\n\t\tif (runnable === void 0) throw new Error(`No runnable associated with key \"${key}\".`);\n\t\treturn runnable.invoke(actualInput, (0,_config_js__WEBPACK_IMPORTED_MODULE_0__.ensureConfig)(options));\n\t}\n\tasync batch(inputs, options, batchOptions) {\n\t\tconst keys = inputs.map((input) => input.key);\n\t\tconst actualInputs = inputs.map((input) => input.input);\n\t\tconst missingKey = keys.find((key) => this.runnables[key] === void 0);\n\t\tif (missingKey !== void 0) throw new Error(`One or more keys do not have a corresponding runnable.`);\n\t\tconst runnables = keys.map((key) => this.runnables[key]);\n\t\tconst optionsList = this._getOptionsList(options ?? {}, inputs.length);\n\t\tconst maxConcurrency = optionsList[0]?.maxConcurrency ?? batchOptions?.maxConcurrency;\n\t\tconst batchSize = maxConcurrency && maxConcurrency > 0 ? maxConcurrency : inputs.length;\n\t\tconst batchResults = [];\n\t\tfor (let i = 0; i < actualInputs.length; i += batchSize) {\n\t\t\tconst batchPromises = actualInputs.slice(i, i + batchSize).map((actualInput, i$1) => runnables[i$1].invoke(actualInput, optionsList[i$1]));\n\t\t\tconst batchResult = await Promise.all(batchPromises);\n\t\t\tbatchResults.push(batchResult);\n\t\t}\n\t\treturn batchResults.flat();\n\t}\n\tasync stream(input, options) {\n\t\tconst { key, input: actualInput } = input;\n\t\tconst runnable = this.runnables[key];\n\t\tif (runnable === void 0) throw new Error(`No runnable associated with key \"${key}\".`);\n\t\treturn runnable.stream(actualInput, options);\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=router.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9ydW5uYWJsZXMvcm91dGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEyQztBQUNOOztBQUVyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGlDQUFpQztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBLGtDQUFrQywwQ0FBMEM7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsMENBQTBDO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLDhDQUFRO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLDBCQUEwQjtBQUNwQztBQUNBLCtFQUErRSxJQUFJO0FBQ25GLHNDQUFzQyx3REFBWTtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RDtBQUN4RDtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IseUJBQXlCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSwwQkFBMEI7QUFDcEM7QUFDQSwrRUFBK0UsSUFBSTtBQUNuRjtBQUNBO0FBQ0E7O0FBRUE7QUFDMEI7QUFDMUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3J1bm5hYmxlcy9yb3V0ZXIuanM/MjliMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBlbnN1cmVDb25maWcgfSBmcm9tIFwiLi9jb25maWcuanNcIjtcbmltcG9ydCB7IFJ1bm5hYmxlIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3J1bm5hYmxlcy9yb3V0ZXIudHNcbi8qKlxuKiBBIHJ1bm5hYmxlIHRoYXQgcm91dGVzIHRvIGEgc2V0IG9mIHJ1bm5hYmxlcyBiYXNlZCBvbiBJbnB1dFsna2V5J10uXG4qIFJldHVybnMgdGhlIG91dHB1dCBvZiB0aGUgc2VsZWN0ZWQgcnVubmFibGUuXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogaW1wb3J0IHsgUm91dGVyUnVubmFibGUsIFJ1bm5hYmxlTGFtYmRhIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9ydW5uYWJsZXNcIjtcbipcbiogY29uc3Qgcm91dGVyID0gbmV3IFJvdXRlclJ1bm5hYmxlKHtcbiogICBydW5uYWJsZXM6IHtcbiogICAgIHRvVXBwZXJDYXNlOiBSdW5uYWJsZUxhbWJkYS5mcm9tKCh0ZXh0OiBzdHJpbmcpID0+IHRleHQudG9VcHBlckNhc2UoKSksXG4qICAgICByZXZlcnNlVGV4dDogUnVubmFibGVMYW1iZGEuZnJvbSgodGV4dDogc3RyaW5nKSA9PlxuKiAgICAgICB0ZXh0LnNwbGl0KFwiXCIpLnJldmVyc2UoKS5qb2luKFwiXCIpXG4qICAgICApLFxuKiAgIH0sXG4qIH0pO1xuKlxuKiAvLyBJbnZva2UgdGhlICdyZXZlcnNlVGV4dCcgcnVubmFibGVcbiogY29uc3QgcmVzdWx0MSA9IHJvdXRlci5pbnZva2UoeyBrZXk6IFwicmV2ZXJzZVRleHRcIiwgaW5wdXQ6IFwiSGVsbG8gV29ybGRcIiB9KTtcbipcbiogLy8gXCJkbHJvVyBvbGxlSFwiXG4qXG4qIC8vIEludm9rZSB0aGUgJ3RvVXBwZXJDYXNlJyBydW5uYWJsZVxuKiBjb25zdCByZXN1bHQyID0gcm91dGVyLmludm9rZSh7IGtleTogXCJ0b1VwcGVyQ2FzZVwiLCBpbnB1dDogXCJIZWxsbyBXb3JsZFwiIH0pO1xuKlxuKiAvLyBcIkhFTExPIFdPUkxEXCJcbiogYGBgXG4qL1xudmFyIFJvdXRlclJ1bm5hYmxlID0gY2xhc3MgZXh0ZW5kcyBSdW5uYWJsZSB7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIlJvdXRlclJ1bm5hYmxlXCI7XG5cdH1cblx0bGNfbmFtZXNwYWNlID0gW1wibGFuZ2NoYWluX2NvcmVcIiwgXCJydW5uYWJsZXNcIl07XG5cdGxjX3NlcmlhbGl6YWJsZSA9IHRydWU7XG5cdHJ1bm5hYmxlcztcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLnJ1bm5hYmxlcyA9IGZpZWxkcy5ydW5uYWJsZXM7XG5cdH1cblx0YXN5bmMgaW52b2tlKGlucHV0LCBvcHRpb25zKSB7XG5cdFx0Y29uc3QgeyBrZXksIGlucHV0OiBhY3R1YWxJbnB1dCB9ID0gaW5wdXQ7XG5cdFx0Y29uc3QgcnVubmFibGUgPSB0aGlzLnJ1bm5hYmxlc1trZXldO1xuXHRcdGlmIChydW5uYWJsZSA9PT0gdm9pZCAwKSB0aHJvdyBuZXcgRXJyb3IoYE5vIHJ1bm5hYmxlIGFzc29jaWF0ZWQgd2l0aCBrZXkgXCIke2tleX1cIi5gKTtcblx0XHRyZXR1cm4gcnVubmFibGUuaW52b2tlKGFjdHVhbElucHV0LCBlbnN1cmVDb25maWcob3B0aW9ucykpO1xuXHR9XG5cdGFzeW5jIGJhdGNoKGlucHV0cywgb3B0aW9ucywgYmF0Y2hPcHRpb25zKSB7XG5cdFx0Y29uc3Qga2V5cyA9IGlucHV0cy5tYXAoKGlucHV0KSA9PiBpbnB1dC5rZXkpO1xuXHRcdGNvbnN0IGFjdHVhbElucHV0cyA9IGlucHV0cy5tYXAoKGlucHV0KSA9PiBpbnB1dC5pbnB1dCk7XG5cdFx0Y29uc3QgbWlzc2luZ0tleSA9IGtleXMuZmluZCgoa2V5KSA9PiB0aGlzLnJ1bm5hYmxlc1trZXldID09PSB2b2lkIDApO1xuXHRcdGlmIChtaXNzaW5nS2V5ICE9PSB2b2lkIDApIHRocm93IG5ldyBFcnJvcihgT25lIG9yIG1vcmUga2V5cyBkbyBub3QgaGF2ZSBhIGNvcnJlc3BvbmRpbmcgcnVubmFibGUuYCk7XG5cdFx0Y29uc3QgcnVubmFibGVzID0ga2V5cy5tYXAoKGtleSkgPT4gdGhpcy5ydW5uYWJsZXNba2V5XSk7XG5cdFx0Y29uc3Qgb3B0aW9uc0xpc3QgPSB0aGlzLl9nZXRPcHRpb25zTGlzdChvcHRpb25zID8/IHt9LCBpbnB1dHMubGVuZ3RoKTtcblx0XHRjb25zdCBtYXhDb25jdXJyZW5jeSA9IG9wdGlvbnNMaXN0WzBdPy5tYXhDb25jdXJyZW5jeSA/PyBiYXRjaE9wdGlvbnM/Lm1heENvbmN1cnJlbmN5O1xuXHRcdGNvbnN0IGJhdGNoU2l6ZSA9IG1heENvbmN1cnJlbmN5ICYmIG1heENvbmN1cnJlbmN5ID4gMCA/IG1heENvbmN1cnJlbmN5IDogaW5wdXRzLmxlbmd0aDtcblx0XHRjb25zdCBiYXRjaFJlc3VsdHMgPSBbXTtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGFjdHVhbElucHV0cy5sZW5ndGg7IGkgKz0gYmF0Y2hTaXplKSB7XG5cdFx0XHRjb25zdCBiYXRjaFByb21pc2VzID0gYWN0dWFsSW5wdXRzLnNsaWNlKGksIGkgKyBiYXRjaFNpemUpLm1hcCgoYWN0dWFsSW5wdXQsIGkkMSkgPT4gcnVubmFibGVzW2kkMV0uaW52b2tlKGFjdHVhbElucHV0LCBvcHRpb25zTGlzdFtpJDFdKSk7XG5cdFx0XHRjb25zdCBiYXRjaFJlc3VsdCA9IGF3YWl0IFByb21pc2UuYWxsKGJhdGNoUHJvbWlzZXMpO1xuXHRcdFx0YmF0Y2hSZXN1bHRzLnB1c2goYmF0Y2hSZXN1bHQpO1xuXHRcdH1cblx0XHRyZXR1cm4gYmF0Y2hSZXN1bHRzLmZsYXQoKTtcblx0fVxuXHRhc3luYyBzdHJlYW0oaW5wdXQsIG9wdGlvbnMpIHtcblx0XHRjb25zdCB7IGtleSwgaW5wdXQ6IGFjdHVhbElucHV0IH0gPSBpbnB1dDtcblx0XHRjb25zdCBydW5uYWJsZSA9IHRoaXMucnVubmFibGVzW2tleV07XG5cdFx0aWYgKHJ1bm5hYmxlID09PSB2b2lkIDApIHRocm93IG5ldyBFcnJvcihgTm8gcnVubmFibGUgYXNzb2NpYXRlZCB3aXRoIGtleSBcIiR7a2V5fVwiLmApO1xuXHRcdHJldHVybiBydW5uYWJsZS5zdHJlYW0oYWN0dWFsSW5wdXQsIG9wdGlvbnMpO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IFJvdXRlclJ1bm5hYmxlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yb3V0ZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/router.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/utils.js":
/*!*******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/utils.js ***!
  \*******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _RootEventFilter: () => (/* binding */ _RootEventFilter),\n/* harmony export */   isRunnableInterface: () => (/* binding */ isRunnableInterface)\n/* harmony export */ });\n//#region src/runnables/utils.ts\nfunction isRunnableInterface(thing) {\n\treturn thing ? thing.lc_runnable : false;\n}\n/**\n* Utility to filter the root event in the streamEvents implementation.\n* This is simply binding the arguments to the namespace to make save on\n* a bit of typing in the streamEvents implementation.\n*\n* TODO: Refactor and remove.\n*/\nvar _RootEventFilter = class {\n\tincludeNames;\n\tincludeTypes;\n\tincludeTags;\n\texcludeNames;\n\texcludeTypes;\n\texcludeTags;\n\tconstructor(fields) {\n\t\tthis.includeNames = fields.includeNames;\n\t\tthis.includeTypes = fields.includeTypes;\n\t\tthis.includeTags = fields.includeTags;\n\t\tthis.excludeNames = fields.excludeNames;\n\t\tthis.excludeTypes = fields.excludeTypes;\n\t\tthis.excludeTags = fields.excludeTags;\n\t}\n\tincludeEvent(event, rootType) {\n\t\tlet include = this.includeNames === void 0 && this.includeTypes === void 0 && this.includeTags === void 0;\n\t\tconst eventTags = event.tags ?? [];\n\t\tif (this.includeNames !== void 0) include = include || this.includeNames.includes(event.name);\n\t\tif (this.includeTypes !== void 0) include = include || this.includeTypes.includes(rootType);\n\t\tif (this.includeTags !== void 0) include = include || eventTags.some((tag) => this.includeTags?.includes(tag));\n\t\tif (this.excludeNames !== void 0) include = include && !this.excludeNames.includes(event.name);\n\t\tif (this.excludeTypes !== void 0) include = include && !this.excludeTypes.includes(rootType);\n\t\tif (this.excludeTags !== void 0) include = include && eventTags.every((tag) => !this.excludeTags?.includes(tag));\n\t\treturn include;\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9ydW5uYWJsZXMvdXRpbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ2lEO0FBQ2pEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9ydW5uYWJsZXMvdXRpbHMuanM/MTIzNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyNyZWdpb24gc3JjL3J1bm5hYmxlcy91dGlscy50c1xuZnVuY3Rpb24gaXNSdW5uYWJsZUludGVyZmFjZSh0aGluZykge1xuXHRyZXR1cm4gdGhpbmcgPyB0aGluZy5sY19ydW5uYWJsZSA6IGZhbHNlO1xufVxuLyoqXG4qIFV0aWxpdHkgdG8gZmlsdGVyIHRoZSByb290IGV2ZW50IGluIHRoZSBzdHJlYW1FdmVudHMgaW1wbGVtZW50YXRpb24uXG4qIFRoaXMgaXMgc2ltcGx5IGJpbmRpbmcgdGhlIGFyZ3VtZW50cyB0byB0aGUgbmFtZXNwYWNlIHRvIG1ha2Ugc2F2ZSBvblxuKiBhIGJpdCBvZiB0eXBpbmcgaW4gdGhlIHN0cmVhbUV2ZW50cyBpbXBsZW1lbnRhdGlvbi5cbipcbiogVE9ETzogUmVmYWN0b3IgYW5kIHJlbW92ZS5cbiovXG52YXIgX1Jvb3RFdmVudEZpbHRlciA9IGNsYXNzIHtcblx0aW5jbHVkZU5hbWVzO1xuXHRpbmNsdWRlVHlwZXM7XG5cdGluY2x1ZGVUYWdzO1xuXHRleGNsdWRlTmFtZXM7XG5cdGV4Y2x1ZGVUeXBlcztcblx0ZXhjbHVkZVRhZ3M7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdHRoaXMuaW5jbHVkZU5hbWVzID0gZmllbGRzLmluY2x1ZGVOYW1lcztcblx0XHR0aGlzLmluY2x1ZGVUeXBlcyA9IGZpZWxkcy5pbmNsdWRlVHlwZXM7XG5cdFx0dGhpcy5pbmNsdWRlVGFncyA9IGZpZWxkcy5pbmNsdWRlVGFncztcblx0XHR0aGlzLmV4Y2x1ZGVOYW1lcyA9IGZpZWxkcy5leGNsdWRlTmFtZXM7XG5cdFx0dGhpcy5leGNsdWRlVHlwZXMgPSBmaWVsZHMuZXhjbHVkZVR5cGVzO1xuXHRcdHRoaXMuZXhjbHVkZVRhZ3MgPSBmaWVsZHMuZXhjbHVkZVRhZ3M7XG5cdH1cblx0aW5jbHVkZUV2ZW50KGV2ZW50LCByb290VHlwZSkge1xuXHRcdGxldCBpbmNsdWRlID0gdGhpcy5pbmNsdWRlTmFtZXMgPT09IHZvaWQgMCAmJiB0aGlzLmluY2x1ZGVUeXBlcyA9PT0gdm9pZCAwICYmIHRoaXMuaW5jbHVkZVRhZ3MgPT09IHZvaWQgMDtcblx0XHRjb25zdCBldmVudFRhZ3MgPSBldmVudC50YWdzID8/IFtdO1xuXHRcdGlmICh0aGlzLmluY2x1ZGVOYW1lcyAhPT0gdm9pZCAwKSBpbmNsdWRlID0gaW5jbHVkZSB8fCB0aGlzLmluY2x1ZGVOYW1lcy5pbmNsdWRlcyhldmVudC5uYW1lKTtcblx0XHRpZiAodGhpcy5pbmNsdWRlVHlwZXMgIT09IHZvaWQgMCkgaW5jbHVkZSA9IGluY2x1ZGUgfHwgdGhpcy5pbmNsdWRlVHlwZXMuaW5jbHVkZXMocm9vdFR5cGUpO1xuXHRcdGlmICh0aGlzLmluY2x1ZGVUYWdzICE9PSB2b2lkIDApIGluY2x1ZGUgPSBpbmNsdWRlIHx8IGV2ZW50VGFncy5zb21lKCh0YWcpID0+IHRoaXMuaW5jbHVkZVRhZ3M/LmluY2x1ZGVzKHRhZykpO1xuXHRcdGlmICh0aGlzLmV4Y2x1ZGVOYW1lcyAhPT0gdm9pZCAwKSBpbmNsdWRlID0gaW5jbHVkZSAmJiAhdGhpcy5leGNsdWRlTmFtZXMuaW5jbHVkZXMoZXZlbnQubmFtZSk7XG5cdFx0aWYgKHRoaXMuZXhjbHVkZVR5cGVzICE9PSB2b2lkIDApIGluY2x1ZGUgPSBpbmNsdWRlICYmICF0aGlzLmV4Y2x1ZGVUeXBlcy5pbmNsdWRlcyhyb290VHlwZSk7XG5cdFx0aWYgKHRoaXMuZXhjbHVkZVRhZ3MgIT09IHZvaWQgMCkgaW5jbHVkZSA9IGluY2x1ZGUgJiYgZXZlbnRUYWdzLmV2ZXJ5KCh0YWcpID0+ICF0aGlzLmV4Y2x1ZGVUYWdzPy5pbmNsdWRlcyh0YWcpKTtcblx0XHRyZXR1cm4gaW5jbHVkZTtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBfUm9vdEV2ZW50RmlsdGVyLCBpc1J1bm5hYmxlSW50ZXJmYWNlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/utils.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/wrappers.js":
/*!**********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/wrappers.js ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   convertToHttpEventStream: () => (/* binding */ convertToHttpEventStream)\n/* harmony export */ });\n/* harmony import */ var _utils_stream_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/stream.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/stream.js\");\n\n\n//#region src/runnables/wrappers.ts\nfunction convertToHttpEventStream(stream) {\n\tconst encoder = new TextEncoder();\n\tconst finalStream = new ReadableStream({ async start(controller) {\n\t\tfor await (const chunk of stream) controller.enqueue(encoder.encode(`event: data\\ndata: ${JSON.stringify(chunk)}\\n\\n`));\n\t\tcontroller.enqueue(encoder.encode(\"event: end\\n\\n\"));\n\t\tcontroller.close();\n\t} });\n\treturn _utils_stream_js__WEBPACK_IMPORTED_MODULE_0__.IterableReadableStream.fromReadableStream(finalStream);\n}\n\n//#endregion\n\n//# sourceMappingURL=wrappers.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9ydW5uYWJsZXMvd3JhcHBlcnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNEQ7O0FBRTVEO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQyw0RkFBNEYsc0JBQXNCO0FBQ2xIO0FBQ0E7QUFDQSxJQUFJO0FBQ0osUUFBUSxvRUFBc0I7QUFDOUI7O0FBRUE7QUFDb0M7QUFDcEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3J1bm5hYmxlcy93cmFwcGVycy5qcz9lNTYyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEl0ZXJhYmxlUmVhZGFibGVTdHJlYW0gfSBmcm9tIFwiLi4vdXRpbHMvc3RyZWFtLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvcnVubmFibGVzL3dyYXBwZXJzLnRzXG5mdW5jdGlvbiBjb252ZXJ0VG9IdHRwRXZlbnRTdHJlYW0oc3RyZWFtKSB7XG5cdGNvbnN0IGVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKTtcblx0Y29uc3QgZmluYWxTdHJlYW0gPSBuZXcgUmVhZGFibGVTdHJlYW0oeyBhc3luYyBzdGFydChjb250cm9sbGVyKSB7XG5cdFx0Zm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBzdHJlYW0pIGNvbnRyb2xsZXIuZW5xdWV1ZShlbmNvZGVyLmVuY29kZShgZXZlbnQ6IGRhdGFcXG5kYXRhOiAke0pTT04uc3RyaW5naWZ5KGNodW5rKX1cXG5cXG5gKSk7XG5cdFx0Y29udHJvbGxlci5lbnF1ZXVlKGVuY29kZXIuZW5jb2RlKFwiZXZlbnQ6IGVuZFxcblxcblwiKSk7XG5cdFx0Y29udHJvbGxlci5jbG9zZSgpO1xuXHR9IH0pO1xuXHRyZXR1cm4gSXRlcmFibGVSZWFkYWJsZVN0cmVhbS5mcm9tUmVhZGFibGVTdHJlYW0oZmluYWxTdHJlYW0pO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IGNvbnZlcnRUb0h0dHBFdmVudFN0cmVhbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d3JhcHBlcnMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/wrappers.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/async_local_storage/context.js":
/*!******************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/async_local_storage/context.js ***!
  \******************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _getConfigureHooks: () => (/* binding */ _getConfigureHooks),\n/* harmony export */   getContextVariable: () => (/* binding */ getContextVariable),\n/* harmony export */   registerConfigureHook: () => (/* binding */ registerConfigureHook),\n/* harmony export */   setContextVariable: () => (/* binding */ setContextVariable)\n/* harmony export */ });\n/* harmony import */ var _globals_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./globals.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/async_local_storage/globals.js\");\n/* harmony import */ var langsmith_run_trees__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! langsmith/run_trees */ \"(rsc)/./node_modules/.pnpm/langsmith@0.3.74_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/langsmith/run_trees.js\");\n\n\n\n//#region src/singletons/async_local_storage/context.ts\n/**\n* Set a context variable. Context variables are scoped to any\n* child runnables called by the current runnable, or globally if set outside\n* of any runnable.\n*\n* @remarks\n* This function is only supported in environments that support AsyncLocalStorage,\n* including Node.js, Deno, and Cloudflare Workers.\n*\n* @example\n* ```ts\n* import { RunnableLambda } from \"@langchain/core/runnables\";\n* import {\n*   getContextVariable,\n*   setContextVariable\n* } from \"@langchain/core/context\";\n*\n* const nested = RunnableLambda.from(() => {\n*   // \"bar\" because it was set by a parent\n*   console.log(getContextVariable(\"foo\"));\n*\n*   // Override to \"baz\", but only for child runnables\n*   setContextVariable(\"foo\", \"baz\");\n*\n*   // Now \"baz\", but only for child runnables\n*   return getContextVariable(\"foo\");\n* });\n*\n* const runnable = RunnableLambda.from(async () => {\n*   // Set a context variable named \"foo\"\n*   setContextVariable(\"foo\", \"bar\");\n*\n*   const res = await nested.invoke({});\n*\n*   // Still \"bar\" since child changes do not affect parents\n*   console.log(getContextVariable(\"foo\"));\n*\n*   return res;\n* });\n*\n* // undefined, because context variable has not been set yet\n* console.log(getContextVariable(\"foo\"));\n*\n* // Final return value is \"baz\"\n* const result = await runnable.invoke({});\n* ```\n*\n* @param name The name of the context variable.\n* @param value The value to set.\n*/\nfunction setContextVariable(name, value) {\n\tconst asyncLocalStorageInstance = (0,_globals_js__WEBPACK_IMPORTED_MODULE_0__.getGlobalAsyncLocalStorageInstance)();\n\tif (asyncLocalStorageInstance === void 0) throw new Error(`Internal error: Global shared async local storage instance has not been initialized.`);\n\tconst runTree = asyncLocalStorageInstance.getStore();\n\tconst contextVars = { ...runTree?.[_globals_js__WEBPACK_IMPORTED_MODULE_0__._CONTEXT_VARIABLES_KEY] };\n\tcontextVars[name] = value;\n\tlet newValue = {};\n\tif ((0,langsmith_run_trees__WEBPACK_IMPORTED_MODULE_1__.isRunTree)(runTree)) newValue = new langsmith_run_trees__WEBPACK_IMPORTED_MODULE_1__.RunTree(runTree);\n\tnewValue[_globals_js__WEBPACK_IMPORTED_MODULE_0__._CONTEXT_VARIABLES_KEY] = contextVars;\n\tasyncLocalStorageInstance.enterWith(newValue);\n}\n/**\n* Get the value of a previously set context variable. Context variables\n* are scoped to any child runnables called by the current runnable,\n* or globally if set outside of any runnable.\n*\n* @remarks\n* This function is only supported in environments that support AsyncLocalStorage,\n* including Node.js, Deno, and Cloudflare Workers.\n*\n* @example\n* ```ts\n* import { RunnableLambda } from \"@langchain/core/runnables\";\n* import {\n*   getContextVariable,\n*   setContextVariable\n* } from \"@langchain/core/context\";\n*\n* const nested = RunnableLambda.from(() => {\n*   // \"bar\" because it was set by a parent\n*   console.log(getContextVariable(\"foo\"));\n*\n*   // Override to \"baz\", but only for child runnables\n*   setContextVariable(\"foo\", \"baz\");\n*\n*   // Now \"baz\", but only for child runnables\n*   return getContextVariable(\"foo\");\n* });\n*\n* const runnable = RunnableLambda.from(async () => {\n*   // Set a context variable named \"foo\"\n*   setContextVariable(\"foo\", \"bar\");\n*\n*   const res = await nested.invoke({});\n*\n*   // Still \"bar\" since child changes do not affect parents\n*   console.log(getContextVariable(\"foo\"));\n*\n*   return res;\n* });\n*\n* // undefined, because context variable has not been set yet\n* console.log(getContextVariable(\"foo\"));\n*\n* // Final return value is \"baz\"\n* const result = await runnable.invoke({});\n* ```\n*\n* @param name The name of the context variable.\n*/\nfunction getContextVariable(name) {\n\tconst asyncLocalStorageInstance = (0,_globals_js__WEBPACK_IMPORTED_MODULE_0__.getGlobalAsyncLocalStorageInstance)();\n\tif (asyncLocalStorageInstance === void 0) return void 0;\n\tconst runTree = asyncLocalStorageInstance.getStore();\n\treturn runTree?.[_globals_js__WEBPACK_IMPORTED_MODULE_0__._CONTEXT_VARIABLES_KEY]?.[name];\n}\nconst LC_CONFIGURE_HOOKS_KEY = Symbol(\"lc:configure_hooks\");\nconst _getConfigureHooks = () => getContextVariable(LC_CONFIGURE_HOOKS_KEY) || [];\n/**\n* Register a callback configure hook to automatically add callback handlers to all runs.\n*\n* There are two ways to use this:\n*\n* 1. Using a context variable:\n*    - Set `contextVar` to specify the variable name\n*    - Use `setContextVariable()` to store your handler instance\n*\n* 2. Using an environment variable:\n*    - Set both `envVar` and `handlerClass`\n*    - The handler will be instantiated when the env var is set to \"true\".\n*\n* @example\n* ```typescript\n* // Method 1: Using context variable\n* import {\n*   registerConfigureHook,\n*   setContextVariable\n* } from \"@langchain/core/context\";\n*\n* const tracer = new MyCallbackHandler();\n* registerConfigureHook({\n*   contextVar: \"my_tracer\",\n* });\n* setContextVariable(\"my_tracer\", tracer);\n*\n* // ...run code here\n*\n* // Method 2: Using environment variable\n* registerConfigureHook({\n*   handlerClass: MyCallbackHandler,\n*   envVar: \"MY_TRACER_ENABLED\",\n* });\n* process.env.MY_TRACER_ENABLED = \"true\";\n*\n* // ...run code here\n* ```\n*\n* @param config Configuration object for the hook\n* @param config.contextVar Name of the context variable containing the handler instance\n* @param config.inheritable Whether child runs should inherit this handler\n* @param config.handlerClass Optional callback handler class (required if using envVar)\n* @param config.envVar Optional environment variable name to control handler activation\n*/\nconst registerConfigureHook = (config) => {\n\tif (config.envVar && !config.handlerClass) throw new Error(\"If envVar is set, handlerClass must also be set to a non-None value.\");\n\tsetContextVariable(LC_CONFIGURE_HOOKS_KEY, [..._getConfigureHooks(), config]);\n};\n\n//#endregion\n\n//# sourceMappingURL=context.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9zaW5nbGV0b25zL2FzeW5jX2xvY2FsX3N0b3JhZ2UvY29udGV4dC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBMEY7QUFDakM7O0FBRXpEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUJBQWlCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsK0VBQWtDO0FBQ3JFO0FBQ0E7QUFDQSx1QkFBdUIsYUFBYSwrREFBc0I7QUFDMUQ7QUFDQTtBQUNBLEtBQUssOERBQVMsMEJBQTBCLHdEQUFPO0FBQy9DLFVBQVUsK0RBQXNCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpQkFBaUI7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsK0VBQWtDO0FBQ3JFO0FBQ0E7QUFDQSxrQkFBa0IsK0RBQXNCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQzZGO0FBQzdGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9zaW5nbGV0b25zL2FzeW5jX2xvY2FsX3N0b3JhZ2UvY29udGV4dC5qcz80NTc2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9DT05URVhUX1ZBUklBQkxFU19LRVksIGdldEdsb2JhbEFzeW5jTG9jYWxTdG9yYWdlSW5zdGFuY2UgfSBmcm9tIFwiLi9nbG9iYWxzLmpzXCI7XG5pbXBvcnQgeyBSdW5UcmVlLCBpc1J1blRyZWUgfSBmcm9tIFwibGFuZ3NtaXRoL3J1bl90cmVlc1wiO1xuXG4vLyNyZWdpb24gc3JjL3NpbmdsZXRvbnMvYXN5bmNfbG9jYWxfc3RvcmFnZS9jb250ZXh0LnRzXG4vKipcbiogU2V0IGEgY29udGV4dCB2YXJpYWJsZS4gQ29udGV4dCB2YXJpYWJsZXMgYXJlIHNjb3BlZCB0byBhbnlcbiogY2hpbGQgcnVubmFibGVzIGNhbGxlZCBieSB0aGUgY3VycmVudCBydW5uYWJsZSwgb3IgZ2xvYmFsbHkgaWYgc2V0IG91dHNpZGVcbiogb2YgYW55IHJ1bm5hYmxlLlxuKlxuKiBAcmVtYXJrc1xuKiBUaGlzIGZ1bmN0aW9uIGlzIG9ubHkgc3VwcG9ydGVkIGluIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgQXN5bmNMb2NhbFN0b3JhZ2UsXG4qIGluY2x1ZGluZyBOb2RlLmpzLCBEZW5vLCBhbmQgQ2xvdWRmbGFyZSBXb3JrZXJzLlxuKlxuKiBAZXhhbXBsZVxuKiBgYGB0c1xuKiBpbXBvcnQgeyBSdW5uYWJsZUxhbWJkYSB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvcnVubmFibGVzXCI7XG4qIGltcG9ydCB7XG4qICAgZ2V0Q29udGV4dFZhcmlhYmxlLFxuKiAgIHNldENvbnRleHRWYXJpYWJsZVxuKiB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvY29udGV4dFwiO1xuKlxuKiBjb25zdCBuZXN0ZWQgPSBSdW5uYWJsZUxhbWJkYS5mcm9tKCgpID0+IHtcbiogICAvLyBcImJhclwiIGJlY2F1c2UgaXQgd2FzIHNldCBieSBhIHBhcmVudFxuKiAgIGNvbnNvbGUubG9nKGdldENvbnRleHRWYXJpYWJsZShcImZvb1wiKSk7XG4qXG4qICAgLy8gT3ZlcnJpZGUgdG8gXCJiYXpcIiwgYnV0IG9ubHkgZm9yIGNoaWxkIHJ1bm5hYmxlc1xuKiAgIHNldENvbnRleHRWYXJpYWJsZShcImZvb1wiLCBcImJhelwiKTtcbipcbiogICAvLyBOb3cgXCJiYXpcIiwgYnV0IG9ubHkgZm9yIGNoaWxkIHJ1bm5hYmxlc1xuKiAgIHJldHVybiBnZXRDb250ZXh0VmFyaWFibGUoXCJmb29cIik7XG4qIH0pO1xuKlxuKiBjb25zdCBydW5uYWJsZSA9IFJ1bm5hYmxlTGFtYmRhLmZyb20oYXN5bmMgKCkgPT4ge1xuKiAgIC8vIFNldCBhIGNvbnRleHQgdmFyaWFibGUgbmFtZWQgXCJmb29cIlxuKiAgIHNldENvbnRleHRWYXJpYWJsZShcImZvb1wiLCBcImJhclwiKTtcbipcbiogICBjb25zdCByZXMgPSBhd2FpdCBuZXN0ZWQuaW52b2tlKHt9KTtcbipcbiogICAvLyBTdGlsbCBcImJhclwiIHNpbmNlIGNoaWxkIGNoYW5nZXMgZG8gbm90IGFmZmVjdCBwYXJlbnRzXG4qICAgY29uc29sZS5sb2coZ2V0Q29udGV4dFZhcmlhYmxlKFwiZm9vXCIpKTtcbipcbiogICByZXR1cm4gcmVzO1xuKiB9KTtcbipcbiogLy8gdW5kZWZpbmVkLCBiZWNhdXNlIGNvbnRleHQgdmFyaWFibGUgaGFzIG5vdCBiZWVuIHNldCB5ZXRcbiogY29uc29sZS5sb2coZ2V0Q29udGV4dFZhcmlhYmxlKFwiZm9vXCIpKTtcbipcbiogLy8gRmluYWwgcmV0dXJuIHZhbHVlIGlzIFwiYmF6XCJcbiogY29uc3QgcmVzdWx0ID0gYXdhaXQgcnVubmFibGUuaW52b2tlKHt9KTtcbiogYGBgXG4qXG4qIEBwYXJhbSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBjb250ZXh0IHZhcmlhYmxlLlxuKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiovXG5mdW5jdGlvbiBzZXRDb250ZXh0VmFyaWFibGUobmFtZSwgdmFsdWUpIHtcblx0Y29uc3QgYXN5bmNMb2NhbFN0b3JhZ2VJbnN0YW5jZSA9IGdldEdsb2JhbEFzeW5jTG9jYWxTdG9yYWdlSW5zdGFuY2UoKTtcblx0aWYgKGFzeW5jTG9jYWxTdG9yYWdlSW5zdGFuY2UgPT09IHZvaWQgMCkgdGhyb3cgbmV3IEVycm9yKGBJbnRlcm5hbCBlcnJvcjogR2xvYmFsIHNoYXJlZCBhc3luYyBsb2NhbCBzdG9yYWdlIGluc3RhbmNlIGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC5gKTtcblx0Y29uc3QgcnVuVHJlZSA9IGFzeW5jTG9jYWxTdG9yYWdlSW5zdGFuY2UuZ2V0U3RvcmUoKTtcblx0Y29uc3QgY29udGV4dFZhcnMgPSB7IC4uLnJ1blRyZWU/LltfQ09OVEVYVF9WQVJJQUJMRVNfS0VZXSB9O1xuXHRjb250ZXh0VmFyc1tuYW1lXSA9IHZhbHVlO1xuXHRsZXQgbmV3VmFsdWUgPSB7fTtcblx0aWYgKGlzUnVuVHJlZShydW5UcmVlKSkgbmV3VmFsdWUgPSBuZXcgUnVuVHJlZShydW5UcmVlKTtcblx0bmV3VmFsdWVbX0NPTlRFWFRfVkFSSUFCTEVTX0tFWV0gPSBjb250ZXh0VmFycztcblx0YXN5bmNMb2NhbFN0b3JhZ2VJbnN0YW5jZS5lbnRlcldpdGgobmV3VmFsdWUpO1xufVxuLyoqXG4qIEdldCB0aGUgdmFsdWUgb2YgYSBwcmV2aW91c2x5IHNldCBjb250ZXh0IHZhcmlhYmxlLiBDb250ZXh0IHZhcmlhYmxlc1xuKiBhcmUgc2NvcGVkIHRvIGFueSBjaGlsZCBydW5uYWJsZXMgY2FsbGVkIGJ5IHRoZSBjdXJyZW50IHJ1bm5hYmxlLFxuKiBvciBnbG9iYWxseSBpZiBzZXQgb3V0c2lkZSBvZiBhbnkgcnVubmFibGUuXG4qXG4qIEByZW1hcmtzXG4qIFRoaXMgZnVuY3Rpb24gaXMgb25seSBzdXBwb3J0ZWQgaW4gZW52aXJvbm1lbnRzIHRoYXQgc3VwcG9ydCBBc3luY0xvY2FsU3RvcmFnZSxcbiogaW5jbHVkaW5nIE5vZGUuanMsIERlbm8sIGFuZCBDbG91ZGZsYXJlIFdvcmtlcnMuXG4qXG4qIEBleGFtcGxlXG4qIGBgYHRzXG4qIGltcG9ydCB7IFJ1bm5hYmxlTGFtYmRhIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9ydW5uYWJsZXNcIjtcbiogaW1wb3J0IHtcbiogICBnZXRDb250ZXh0VmFyaWFibGUsXG4qICAgc2V0Q29udGV4dFZhcmlhYmxlXG4qIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9jb250ZXh0XCI7XG4qXG4qIGNvbnN0IG5lc3RlZCA9IFJ1bm5hYmxlTGFtYmRhLmZyb20oKCkgPT4ge1xuKiAgIC8vIFwiYmFyXCIgYmVjYXVzZSBpdCB3YXMgc2V0IGJ5IGEgcGFyZW50XG4qICAgY29uc29sZS5sb2coZ2V0Q29udGV4dFZhcmlhYmxlKFwiZm9vXCIpKTtcbipcbiogICAvLyBPdmVycmlkZSB0byBcImJhelwiLCBidXQgb25seSBmb3IgY2hpbGQgcnVubmFibGVzXG4qICAgc2V0Q29udGV4dFZhcmlhYmxlKFwiZm9vXCIsIFwiYmF6XCIpO1xuKlxuKiAgIC8vIE5vdyBcImJhelwiLCBidXQgb25seSBmb3IgY2hpbGQgcnVubmFibGVzXG4qICAgcmV0dXJuIGdldENvbnRleHRWYXJpYWJsZShcImZvb1wiKTtcbiogfSk7XG4qXG4qIGNvbnN0IHJ1bm5hYmxlID0gUnVubmFibGVMYW1iZGEuZnJvbShhc3luYyAoKSA9PiB7XG4qICAgLy8gU2V0IGEgY29udGV4dCB2YXJpYWJsZSBuYW1lZCBcImZvb1wiXG4qICAgc2V0Q29udGV4dFZhcmlhYmxlKFwiZm9vXCIsIFwiYmFyXCIpO1xuKlxuKiAgIGNvbnN0IHJlcyA9IGF3YWl0IG5lc3RlZC5pbnZva2Uoe30pO1xuKlxuKiAgIC8vIFN0aWxsIFwiYmFyXCIgc2luY2UgY2hpbGQgY2hhbmdlcyBkbyBub3QgYWZmZWN0IHBhcmVudHNcbiogICBjb25zb2xlLmxvZyhnZXRDb250ZXh0VmFyaWFibGUoXCJmb29cIikpO1xuKlxuKiAgIHJldHVybiByZXM7XG4qIH0pO1xuKlxuKiAvLyB1bmRlZmluZWQsIGJlY2F1c2UgY29udGV4dCB2YXJpYWJsZSBoYXMgbm90IGJlZW4gc2V0IHlldFxuKiBjb25zb2xlLmxvZyhnZXRDb250ZXh0VmFyaWFibGUoXCJmb29cIikpO1xuKlxuKiAvLyBGaW5hbCByZXR1cm4gdmFsdWUgaXMgXCJiYXpcIlxuKiBjb25zdCByZXN1bHQgPSBhd2FpdCBydW5uYWJsZS5pbnZva2Uoe30pO1xuKiBgYGBcbipcbiogQHBhcmFtIG5hbWUgVGhlIG5hbWUgb2YgdGhlIGNvbnRleHQgdmFyaWFibGUuXG4qL1xuZnVuY3Rpb24gZ2V0Q29udGV4dFZhcmlhYmxlKG5hbWUpIHtcblx0Y29uc3QgYXN5bmNMb2NhbFN0b3JhZ2VJbnN0YW5jZSA9IGdldEdsb2JhbEFzeW5jTG9jYWxTdG9yYWdlSW5zdGFuY2UoKTtcblx0aWYgKGFzeW5jTG9jYWxTdG9yYWdlSW5zdGFuY2UgPT09IHZvaWQgMCkgcmV0dXJuIHZvaWQgMDtcblx0Y29uc3QgcnVuVHJlZSA9IGFzeW5jTG9jYWxTdG9yYWdlSW5zdGFuY2UuZ2V0U3RvcmUoKTtcblx0cmV0dXJuIHJ1blRyZWU/LltfQ09OVEVYVF9WQVJJQUJMRVNfS0VZXT8uW25hbWVdO1xufVxuY29uc3QgTENfQ09ORklHVVJFX0hPT0tTX0tFWSA9IFN5bWJvbChcImxjOmNvbmZpZ3VyZV9ob29rc1wiKTtcbmNvbnN0IF9nZXRDb25maWd1cmVIb29rcyA9ICgpID0+IGdldENvbnRleHRWYXJpYWJsZShMQ19DT05GSUdVUkVfSE9PS1NfS0VZKSB8fCBbXTtcbi8qKlxuKiBSZWdpc3RlciBhIGNhbGxiYWNrIGNvbmZpZ3VyZSBob29rIHRvIGF1dG9tYXRpY2FsbHkgYWRkIGNhbGxiYWNrIGhhbmRsZXJzIHRvIGFsbCBydW5zLlxuKlxuKiBUaGVyZSBhcmUgdHdvIHdheXMgdG8gdXNlIHRoaXM6XG4qXG4qIDEuIFVzaW5nIGEgY29udGV4dCB2YXJpYWJsZTpcbiogICAgLSBTZXQgYGNvbnRleHRWYXJgIHRvIHNwZWNpZnkgdGhlIHZhcmlhYmxlIG5hbWVcbiogICAgLSBVc2UgYHNldENvbnRleHRWYXJpYWJsZSgpYCB0byBzdG9yZSB5b3VyIGhhbmRsZXIgaW5zdGFuY2VcbipcbiogMi4gVXNpbmcgYW4gZW52aXJvbm1lbnQgdmFyaWFibGU6XG4qICAgIC0gU2V0IGJvdGggYGVudlZhcmAgYW5kIGBoYW5kbGVyQ2xhc3NgXG4qICAgIC0gVGhlIGhhbmRsZXIgd2lsbCBiZSBpbnN0YW50aWF0ZWQgd2hlbiB0aGUgZW52IHZhciBpcyBzZXQgdG8gXCJ0cnVlXCIuXG4qXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogLy8gTWV0aG9kIDE6IFVzaW5nIGNvbnRleHQgdmFyaWFibGVcbiogaW1wb3J0IHtcbiogICByZWdpc3RlckNvbmZpZ3VyZUhvb2ssXG4qICAgc2V0Q29udGV4dFZhcmlhYmxlXG4qIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9jb250ZXh0XCI7XG4qXG4qIGNvbnN0IHRyYWNlciA9IG5ldyBNeUNhbGxiYWNrSGFuZGxlcigpO1xuKiByZWdpc3RlckNvbmZpZ3VyZUhvb2soe1xuKiAgIGNvbnRleHRWYXI6IFwibXlfdHJhY2VyXCIsXG4qIH0pO1xuKiBzZXRDb250ZXh0VmFyaWFibGUoXCJteV90cmFjZXJcIiwgdHJhY2VyKTtcbipcbiogLy8gLi4ucnVuIGNvZGUgaGVyZVxuKlxuKiAvLyBNZXRob2QgMjogVXNpbmcgZW52aXJvbm1lbnQgdmFyaWFibGVcbiogcmVnaXN0ZXJDb25maWd1cmVIb29rKHtcbiogICBoYW5kbGVyQ2xhc3M6IE15Q2FsbGJhY2tIYW5kbGVyLFxuKiAgIGVudlZhcjogXCJNWV9UUkFDRVJfRU5BQkxFRFwiLFxuKiB9KTtcbiogcHJvY2Vzcy5lbnYuTVlfVFJBQ0VSX0VOQUJMRUQgPSBcInRydWVcIjtcbipcbiogLy8gLi4ucnVuIGNvZGUgaGVyZVxuKiBgYGBcbipcbiogQHBhcmFtIGNvbmZpZyBDb25maWd1cmF0aW9uIG9iamVjdCBmb3IgdGhlIGhvb2tcbiogQHBhcmFtIGNvbmZpZy5jb250ZXh0VmFyIE5hbWUgb2YgdGhlIGNvbnRleHQgdmFyaWFibGUgY29udGFpbmluZyB0aGUgaGFuZGxlciBpbnN0YW5jZVxuKiBAcGFyYW0gY29uZmlnLmluaGVyaXRhYmxlIFdoZXRoZXIgY2hpbGQgcnVucyBzaG91bGQgaW5oZXJpdCB0aGlzIGhhbmRsZXJcbiogQHBhcmFtIGNvbmZpZy5oYW5kbGVyQ2xhc3MgT3B0aW9uYWwgY2FsbGJhY2sgaGFuZGxlciBjbGFzcyAocmVxdWlyZWQgaWYgdXNpbmcgZW52VmFyKVxuKiBAcGFyYW0gY29uZmlnLmVudlZhciBPcHRpb25hbCBlbnZpcm9ubWVudCB2YXJpYWJsZSBuYW1lIHRvIGNvbnRyb2wgaGFuZGxlciBhY3RpdmF0aW9uXG4qL1xuY29uc3QgcmVnaXN0ZXJDb25maWd1cmVIb29rID0gKGNvbmZpZykgPT4ge1xuXHRpZiAoY29uZmlnLmVudlZhciAmJiAhY29uZmlnLmhhbmRsZXJDbGFzcykgdGhyb3cgbmV3IEVycm9yKFwiSWYgZW52VmFyIGlzIHNldCwgaGFuZGxlckNsYXNzIG11c3QgYWxzbyBiZSBzZXQgdG8gYSBub24tTm9uZSB2YWx1ZS5cIik7XG5cdHNldENvbnRleHRWYXJpYWJsZShMQ19DT05GSUdVUkVfSE9PS1NfS0VZLCBbLi4uX2dldENvbmZpZ3VyZUhvb2tzKCksIGNvbmZpZ10pO1xufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBfZ2V0Q29uZmlndXJlSG9va3MsIGdldENvbnRleHRWYXJpYWJsZSwgcmVnaXN0ZXJDb25maWd1cmVIb29rLCBzZXRDb250ZXh0VmFyaWFibGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnRleHQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/async_local_storage/context.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/async_local_storage/globals.js":
/*!******************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/async_local_storage/globals.js ***!
  \******************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _CONTEXT_VARIABLES_KEY: () => (/* binding */ _CONTEXT_VARIABLES_KEY),\n/* harmony export */   getGlobalAsyncLocalStorageInstance: () => (/* binding */ getGlobalAsyncLocalStorageInstance),\n/* harmony export */   setGlobalAsyncLocalStorageInstance: () => (/* binding */ setGlobalAsyncLocalStorageInstance)\n/* harmony export */ });\n//#region src/singletons/async_local_storage/globals.ts\nconst TRACING_ALS_KEY = Symbol.for(\"ls:tracing_async_local_storage\");\nconst _CONTEXT_VARIABLES_KEY = Symbol.for(\"lc:context_variables\");\nconst setGlobalAsyncLocalStorageInstance = (instance) => {\n\tglobalThis[TRACING_ALS_KEY] = instance;\n};\nconst getGlobalAsyncLocalStorageInstance = () => {\n\treturn globalThis[TRACING_ALS_KEY];\n};\n\n//#endregion\n\n//# sourceMappingURL=globals.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9zaW5nbGV0b25zL2FzeW5jX2xvY2FsX3N0b3JhZ2UvZ2xvYmFscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDMEc7QUFDMUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3NpbmdsZXRvbnMvYXN5bmNfbG9jYWxfc3RvcmFnZS9nbG9iYWxzLmpzPzY3YTQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8jcmVnaW9uIHNyYy9zaW5nbGV0b25zL2FzeW5jX2xvY2FsX3N0b3JhZ2UvZ2xvYmFscy50c1xuY29uc3QgVFJBQ0lOR19BTFNfS0VZID0gU3ltYm9sLmZvcihcImxzOnRyYWNpbmdfYXN5bmNfbG9jYWxfc3RvcmFnZVwiKTtcbmNvbnN0IF9DT05URVhUX1ZBUklBQkxFU19LRVkgPSBTeW1ib2wuZm9yKFwibGM6Y29udGV4dF92YXJpYWJsZXNcIik7XG5jb25zdCBzZXRHbG9iYWxBc3luY0xvY2FsU3RvcmFnZUluc3RhbmNlID0gKGluc3RhbmNlKSA9PiB7XG5cdGdsb2JhbFRoaXNbVFJBQ0lOR19BTFNfS0VZXSA9IGluc3RhbmNlO1xufTtcbmNvbnN0IGdldEdsb2JhbEFzeW5jTG9jYWxTdG9yYWdlSW5zdGFuY2UgPSAoKSA9PiB7XG5cdHJldHVybiBnbG9iYWxUaGlzW1RSQUNJTkdfQUxTX0tFWV07XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IF9DT05URVhUX1ZBUklBQkxFU19LRVksIGdldEdsb2JhbEFzeW5jTG9jYWxTdG9yYWdlSW5zdGFuY2UsIHNldEdsb2JhbEFzeW5jTG9jYWxTdG9yYWdlSW5zdGFuY2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdsb2JhbHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/async_local_storage/globals.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/async_local_storage/index.js":
/*!****************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/async_local_storage/index.js ***!
  \****************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AsyncLocalStorageProviderSingleton: () => (/* binding */ AsyncLocalStorageProviderSingleton),\n/* harmony export */   MockAsyncLocalStorage: () => (/* binding */ MockAsyncLocalStorage)\n/* harmony export */ });\n/* harmony import */ var _globals_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./globals.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/async_local_storage/globals.js\");\n/* harmony import */ var _callbacks_manager_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../callbacks/manager.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/callbacks/manager.js\");\n/* harmony import */ var langsmith__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! langsmith */ \"(rsc)/./node_modules/.pnpm/langsmith@0.3.74_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/langsmith/index.js\");\n\n\n\n\n//#region src/singletons/async_local_storage/index.ts\nvar MockAsyncLocalStorage = class {\n\tgetStore() {\n\t\treturn void 0;\n\t}\n\trun(_store, callback) {\n\t\treturn callback();\n\t}\n\tenterWith(_store) {\n\t\treturn void 0;\n\t}\n};\nconst mockAsyncLocalStorage = new MockAsyncLocalStorage();\nconst LC_CHILD_KEY = Symbol.for(\"lc:child_config\");\nvar AsyncLocalStorageProvider = class {\n\tgetInstance() {\n\t\treturn (0,_globals_js__WEBPACK_IMPORTED_MODULE_0__.getGlobalAsyncLocalStorageInstance)() ?? mockAsyncLocalStorage;\n\t}\n\tgetRunnableConfig() {\n\t\tconst storage = this.getInstance();\n\t\treturn storage.getStore()?.extra?.[LC_CHILD_KEY];\n\t}\n\trunWithConfig(config, callback, avoidCreatingRootRunTree) {\n\t\tconst callbackManager = _callbacks_manager_js__WEBPACK_IMPORTED_MODULE_1__.CallbackManager._configureSync(config?.callbacks, void 0, config?.tags, void 0, config?.metadata);\n\t\tconst storage = this.getInstance();\n\t\tconst previousValue = storage.getStore();\n\t\tconst parentRunId = callbackManager?.getParentRunId();\n\t\tconst langChainTracer = callbackManager?.handlers?.find((handler) => handler?.name === \"langchain_tracer\");\n\t\tlet runTree;\n\t\tif (langChainTracer && parentRunId) runTree = langChainTracer.getRunTreeWithTracingConfig(parentRunId);\n\t\telse if (!avoidCreatingRootRunTree) runTree = new langsmith__WEBPACK_IMPORTED_MODULE_2__.RunTree({\n\t\t\tname: \"<runnable_lambda>\",\n\t\t\ttracingEnabled: false\n\t\t});\n\t\tif (runTree) runTree.extra = {\n\t\t\t...runTree.extra,\n\t\t\t[LC_CHILD_KEY]: config\n\t\t};\n\t\tif (previousValue !== void 0 && previousValue[_globals_js__WEBPACK_IMPORTED_MODULE_0__._CONTEXT_VARIABLES_KEY] !== void 0) {\n\t\t\tif (runTree === void 0) runTree = {};\n\t\t\trunTree[_globals_js__WEBPACK_IMPORTED_MODULE_0__._CONTEXT_VARIABLES_KEY] = previousValue[_globals_js__WEBPACK_IMPORTED_MODULE_0__._CONTEXT_VARIABLES_KEY];\n\t\t}\n\t\treturn storage.run(runTree, callback);\n\t}\n\tinitializeGlobalInstance(instance) {\n\t\tif ((0,_globals_js__WEBPACK_IMPORTED_MODULE_0__.getGlobalAsyncLocalStorageInstance)() === void 0) (0,_globals_js__WEBPACK_IMPORTED_MODULE_0__.setGlobalAsyncLocalStorageInstance)(instance);\n\t}\n};\nconst AsyncLocalStorageProviderSingleton = new AsyncLocalStorageProvider();\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9zaW5nbGV0b25zL2FzeW5jX2xvY2FsX3N0b3JhZ2UvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBOEg7QUFDakU7QUFDekI7O0FBRXBDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUywrRUFBa0M7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGtFQUFlO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCw4Q0FBTztBQUMzRDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELCtEQUFzQjtBQUN0RTtBQUNBLFdBQVcsK0RBQXNCLGtCQUFrQiwrREFBc0I7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLCtFQUFrQyxlQUFlLCtFQUFrQztBQUN6RjtBQUNBO0FBQ0E7O0FBRUE7QUFDcUU7QUFDckUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3NpbmdsZXRvbnMvYXN5bmNfbG9jYWxfc3RvcmFnZS9pbmRleC5qcz85OWIwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9DT05URVhUX1ZBUklBQkxFU19LRVksIGdldEdsb2JhbEFzeW5jTG9jYWxTdG9yYWdlSW5zdGFuY2UsIHNldEdsb2JhbEFzeW5jTG9jYWxTdG9yYWdlSW5zdGFuY2UgfSBmcm9tIFwiLi9nbG9iYWxzLmpzXCI7XG5pbXBvcnQgeyBDYWxsYmFja01hbmFnZXIgfSBmcm9tIFwiLi4vLi4vY2FsbGJhY2tzL21hbmFnZXIuanNcIjtcbmltcG9ydCB7IFJ1blRyZWUgfSBmcm9tIFwibGFuZ3NtaXRoXCI7XG5cbi8vI3JlZ2lvbiBzcmMvc2luZ2xldG9ucy9hc3luY19sb2NhbF9zdG9yYWdlL2luZGV4LnRzXG52YXIgTW9ja0FzeW5jTG9jYWxTdG9yYWdlID0gY2xhc3Mge1xuXHRnZXRTdG9yZSgpIHtcblx0XHRyZXR1cm4gdm9pZCAwO1xuXHR9XG5cdHJ1bihfc3RvcmUsIGNhbGxiYWNrKSB7XG5cdFx0cmV0dXJuIGNhbGxiYWNrKCk7XG5cdH1cblx0ZW50ZXJXaXRoKF9zdG9yZSkge1xuXHRcdHJldHVybiB2b2lkIDA7XG5cdH1cbn07XG5jb25zdCBtb2NrQXN5bmNMb2NhbFN0b3JhZ2UgPSBuZXcgTW9ja0FzeW5jTG9jYWxTdG9yYWdlKCk7XG5jb25zdCBMQ19DSElMRF9LRVkgPSBTeW1ib2wuZm9yKFwibGM6Y2hpbGRfY29uZmlnXCIpO1xudmFyIEFzeW5jTG9jYWxTdG9yYWdlUHJvdmlkZXIgPSBjbGFzcyB7XG5cdGdldEluc3RhbmNlKCkge1xuXHRcdHJldHVybiBnZXRHbG9iYWxBc3luY0xvY2FsU3RvcmFnZUluc3RhbmNlKCkgPz8gbW9ja0FzeW5jTG9jYWxTdG9yYWdlO1xuXHR9XG5cdGdldFJ1bm5hYmxlQ29uZmlnKCkge1xuXHRcdGNvbnN0IHN0b3JhZ2UgPSB0aGlzLmdldEluc3RhbmNlKCk7XG5cdFx0cmV0dXJuIHN0b3JhZ2UuZ2V0U3RvcmUoKT8uZXh0cmE/LltMQ19DSElMRF9LRVldO1xuXHR9XG5cdHJ1bldpdGhDb25maWcoY29uZmlnLCBjYWxsYmFjaywgYXZvaWRDcmVhdGluZ1Jvb3RSdW5UcmVlKSB7XG5cdFx0Y29uc3QgY2FsbGJhY2tNYW5hZ2VyID0gQ2FsbGJhY2tNYW5hZ2VyLl9jb25maWd1cmVTeW5jKGNvbmZpZz8uY2FsbGJhY2tzLCB2b2lkIDAsIGNvbmZpZz8udGFncywgdm9pZCAwLCBjb25maWc/Lm1ldGFkYXRhKTtcblx0XHRjb25zdCBzdG9yYWdlID0gdGhpcy5nZXRJbnN0YW5jZSgpO1xuXHRcdGNvbnN0IHByZXZpb3VzVmFsdWUgPSBzdG9yYWdlLmdldFN0b3JlKCk7XG5cdFx0Y29uc3QgcGFyZW50UnVuSWQgPSBjYWxsYmFja01hbmFnZXI/LmdldFBhcmVudFJ1bklkKCk7XG5cdFx0Y29uc3QgbGFuZ0NoYWluVHJhY2VyID0gY2FsbGJhY2tNYW5hZ2VyPy5oYW5kbGVycz8uZmluZCgoaGFuZGxlcikgPT4gaGFuZGxlcj8ubmFtZSA9PT0gXCJsYW5nY2hhaW5fdHJhY2VyXCIpO1xuXHRcdGxldCBydW5UcmVlO1xuXHRcdGlmIChsYW5nQ2hhaW5UcmFjZXIgJiYgcGFyZW50UnVuSWQpIHJ1blRyZWUgPSBsYW5nQ2hhaW5UcmFjZXIuZ2V0UnVuVHJlZVdpdGhUcmFjaW5nQ29uZmlnKHBhcmVudFJ1bklkKTtcblx0XHRlbHNlIGlmICghYXZvaWRDcmVhdGluZ1Jvb3RSdW5UcmVlKSBydW5UcmVlID0gbmV3IFJ1blRyZWUoe1xuXHRcdFx0bmFtZTogXCI8cnVubmFibGVfbGFtYmRhPlwiLFxuXHRcdFx0dHJhY2luZ0VuYWJsZWQ6IGZhbHNlXG5cdFx0fSk7XG5cdFx0aWYgKHJ1blRyZWUpIHJ1blRyZWUuZXh0cmEgPSB7XG5cdFx0XHQuLi5ydW5UcmVlLmV4dHJhLFxuXHRcdFx0W0xDX0NISUxEX0tFWV06IGNvbmZpZ1xuXHRcdH07XG5cdFx0aWYgKHByZXZpb3VzVmFsdWUgIT09IHZvaWQgMCAmJiBwcmV2aW91c1ZhbHVlW19DT05URVhUX1ZBUklBQkxFU19LRVldICE9PSB2b2lkIDApIHtcblx0XHRcdGlmIChydW5UcmVlID09PSB2b2lkIDApIHJ1blRyZWUgPSB7fTtcblx0XHRcdHJ1blRyZWVbX0NPTlRFWFRfVkFSSUFCTEVTX0tFWV0gPSBwcmV2aW91c1ZhbHVlW19DT05URVhUX1ZBUklBQkxFU19LRVldO1xuXHRcdH1cblx0XHRyZXR1cm4gc3RvcmFnZS5ydW4ocnVuVHJlZSwgY2FsbGJhY2spO1xuXHR9XG5cdGluaXRpYWxpemVHbG9iYWxJbnN0YW5jZShpbnN0YW5jZSkge1xuXHRcdGlmIChnZXRHbG9iYWxBc3luY0xvY2FsU3RvcmFnZUluc3RhbmNlKCkgPT09IHZvaWQgMCkgc2V0R2xvYmFsQXN5bmNMb2NhbFN0b3JhZ2VJbnN0YW5jZShpbnN0YW5jZSk7XG5cdH1cbn07XG5jb25zdCBBc3luY0xvY2FsU3RvcmFnZVByb3ZpZGVyU2luZ2xldG9uID0gbmV3IEFzeW5jTG9jYWxTdG9yYWdlUHJvdmlkZXIoKTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBBc3luY0xvY2FsU3RvcmFnZVByb3ZpZGVyU2luZ2xldG9uLCBNb2NrQXN5bmNMb2NhbFN0b3JhZ2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/async_local_storage/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/callbacks.js":
/*!************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/callbacks.js ***!
  \************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   awaitAllCallbacks: () => (/* binding */ awaitAllCallbacks),\n/* harmony export */   consumeCallback: () => (/* binding */ consumeCallback)\n/* harmony export */ });\n/* harmony import */ var _tracer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tracer.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/tracer.js\");\n/* harmony import */ var _async_local_storage_globals_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./async_local_storage/globals.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/async_local_storage/globals.js\");\n/* harmony import */ var p_queue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! p-queue */ \"(rsc)/./node_modules/.pnpm/p-queue@6.6.2/node_modules/p-queue/dist/index.js\");\n\n\n\n\n//#region src/singletons/callbacks.ts\nlet queue;\n/**\n* Creates a queue using the p-queue library. The queue is configured to\n* auto-start and has a concurrency of 1, meaning it will process tasks\n* one at a time.\n*/\nfunction createQueue() {\n\tconst PQueue =  true ? p_queue__WEBPACK_IMPORTED_MODULE_2__[\"default\"] : p_queue__WEBPACK_IMPORTED_MODULE_2__;\n\treturn new PQueue({\n\t\tautoStart: true,\n\t\tconcurrency: 1\n\t});\n}\nfunction getQueue() {\n\tif (typeof queue === \"undefined\") queue = createQueue();\n\treturn queue;\n}\n/**\n* Consume a promise, either adding it to the queue or waiting for it to resolve\n* @param promiseFn Promise to consume\n* @param wait Whether to wait for the promise to resolve or resolve immediately\n*/\nasync function consumeCallback(promiseFn, wait) {\n\tif (wait === true) {\n\t\tconst asyncLocalStorageInstance = (0,_async_local_storage_globals_js__WEBPACK_IMPORTED_MODULE_1__.getGlobalAsyncLocalStorageInstance)();\n\t\tif (asyncLocalStorageInstance !== void 0) await asyncLocalStorageInstance.run(void 0, async () => promiseFn());\n\t\telse await promiseFn();\n\t} else {\n\t\tqueue = getQueue();\n\t\tqueue.add(async () => {\n\t\t\tconst asyncLocalStorageInstance = (0,_async_local_storage_globals_js__WEBPACK_IMPORTED_MODULE_1__.getGlobalAsyncLocalStorageInstance)();\n\t\t\tif (asyncLocalStorageInstance !== void 0) await asyncLocalStorageInstance.run(void 0, async () => promiseFn());\n\t\t\telse await promiseFn();\n\t\t});\n\t}\n}\n/**\n* Waits for all promises in the queue to resolve. If the queue is\n* undefined, it immediately resolves a promise.\n*/\nasync function awaitAllCallbacks() {\n\tconst defaultClient = (0,_tracer_js__WEBPACK_IMPORTED_MODULE_0__.getDefaultLangChainClientSingleton)();\n\tawait Promise.allSettled([typeof queue !== \"undefined\" ? queue.onIdle() : Promise.resolve(), defaultClient.awaitPendingTraceBatches()]);\n}\n\n//#endregion\n\n//# sourceMappingURL=callbacks.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9zaW5nbGV0b25zL2NhbGxiYWNrcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFpRTtBQUNxQjtBQUN0RDs7QUFFaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixLQUFzQixHQUFHLCtDQUFpQixHQUFHLG9DQUFTO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsbUdBQWtDO0FBQ3RFO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLHFDQUFxQyxtR0FBa0M7QUFDdkU7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qiw4RUFBa0M7QUFDekQ7QUFDQTs7QUFFQTtBQUM4QztBQUM5QyIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3Qvc2luZ2xldG9ucy9jYWxsYmFja3MuanM/OGY1NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXREZWZhdWx0TGFuZ0NoYWluQ2xpZW50U2luZ2xldG9uIH0gZnJvbSBcIi4vdHJhY2VyLmpzXCI7XG5pbXBvcnQgeyBnZXRHbG9iYWxBc3luY0xvY2FsU3RvcmFnZUluc3RhbmNlIH0gZnJvbSBcIi4vYXN5bmNfbG9jYWxfc3RvcmFnZS9nbG9iYWxzLmpzXCI7XG5pbXBvcnQgUFF1ZXVlTW9kIGZyb20gXCJwLXF1ZXVlXCI7XG5cbi8vI3JlZ2lvbiBzcmMvc2luZ2xldG9ucy9jYWxsYmFja3MudHNcbmxldCBxdWV1ZTtcbi8qKlxuKiBDcmVhdGVzIGEgcXVldWUgdXNpbmcgdGhlIHAtcXVldWUgbGlicmFyeS4gVGhlIHF1ZXVlIGlzIGNvbmZpZ3VyZWQgdG9cbiogYXV0by1zdGFydCBhbmQgaGFzIGEgY29uY3VycmVuY3kgb2YgMSwgbWVhbmluZyBpdCB3aWxsIHByb2Nlc3MgdGFza3Ncbiogb25lIGF0IGEgdGltZS5cbiovXG5mdW5jdGlvbiBjcmVhdGVRdWV1ZSgpIHtcblx0Y29uc3QgUFF1ZXVlID0gXCJkZWZhdWx0XCIgaW4gUFF1ZXVlTW9kID8gUFF1ZXVlTW9kLmRlZmF1bHQgOiBQUXVldWVNb2Q7XG5cdHJldHVybiBuZXcgUFF1ZXVlKHtcblx0XHRhdXRvU3RhcnQ6IHRydWUsXG5cdFx0Y29uY3VycmVuY3k6IDFcblx0fSk7XG59XG5mdW5jdGlvbiBnZXRRdWV1ZSgpIHtcblx0aWYgKHR5cGVvZiBxdWV1ZSA9PT0gXCJ1bmRlZmluZWRcIikgcXVldWUgPSBjcmVhdGVRdWV1ZSgpO1xuXHRyZXR1cm4gcXVldWU7XG59XG4vKipcbiogQ29uc3VtZSBhIHByb21pc2UsIGVpdGhlciBhZGRpbmcgaXQgdG8gdGhlIHF1ZXVlIG9yIHdhaXRpbmcgZm9yIGl0IHRvIHJlc29sdmVcbiogQHBhcmFtIHByb21pc2VGbiBQcm9taXNlIHRvIGNvbnN1bWVcbiogQHBhcmFtIHdhaXQgV2hldGhlciB0byB3YWl0IGZvciB0aGUgcHJvbWlzZSB0byByZXNvbHZlIG9yIHJlc29sdmUgaW1tZWRpYXRlbHlcbiovXG5hc3luYyBmdW5jdGlvbiBjb25zdW1lQ2FsbGJhY2socHJvbWlzZUZuLCB3YWl0KSB7XG5cdGlmICh3YWl0ID09PSB0cnVlKSB7XG5cdFx0Y29uc3QgYXN5bmNMb2NhbFN0b3JhZ2VJbnN0YW5jZSA9IGdldEdsb2JhbEFzeW5jTG9jYWxTdG9yYWdlSW5zdGFuY2UoKTtcblx0XHRpZiAoYXN5bmNMb2NhbFN0b3JhZ2VJbnN0YW5jZSAhPT0gdm9pZCAwKSBhd2FpdCBhc3luY0xvY2FsU3RvcmFnZUluc3RhbmNlLnJ1bih2b2lkIDAsIGFzeW5jICgpID0+IHByb21pc2VGbigpKTtcblx0XHRlbHNlIGF3YWl0IHByb21pc2VGbigpO1xuXHR9IGVsc2Uge1xuXHRcdHF1ZXVlID0gZ2V0UXVldWUoKTtcblx0XHRxdWV1ZS5hZGQoYXN5bmMgKCkgPT4ge1xuXHRcdFx0Y29uc3QgYXN5bmNMb2NhbFN0b3JhZ2VJbnN0YW5jZSA9IGdldEdsb2JhbEFzeW5jTG9jYWxTdG9yYWdlSW5zdGFuY2UoKTtcblx0XHRcdGlmIChhc3luY0xvY2FsU3RvcmFnZUluc3RhbmNlICE9PSB2b2lkIDApIGF3YWl0IGFzeW5jTG9jYWxTdG9yYWdlSW5zdGFuY2UucnVuKHZvaWQgMCwgYXN5bmMgKCkgPT4gcHJvbWlzZUZuKCkpO1xuXHRcdFx0ZWxzZSBhd2FpdCBwcm9taXNlRm4oKTtcblx0XHR9KTtcblx0fVxufVxuLyoqXG4qIFdhaXRzIGZvciBhbGwgcHJvbWlzZXMgaW4gdGhlIHF1ZXVlIHRvIHJlc29sdmUuIElmIHRoZSBxdWV1ZSBpc1xuKiB1bmRlZmluZWQsIGl0IGltbWVkaWF0ZWx5IHJlc29sdmVzIGEgcHJvbWlzZS5cbiovXG5hc3luYyBmdW5jdGlvbiBhd2FpdEFsbENhbGxiYWNrcygpIHtcblx0Y29uc3QgZGVmYXVsdENsaWVudCA9IGdldERlZmF1bHRMYW5nQ2hhaW5DbGllbnRTaW5nbGV0b24oKTtcblx0YXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKFt0eXBlb2YgcXVldWUgIT09IFwidW5kZWZpbmVkXCIgPyBxdWV1ZS5vbklkbGUoKSA6IFByb21pc2UucmVzb2x2ZSgpLCBkZWZhdWx0Q2xpZW50LmF3YWl0UGVuZGluZ1RyYWNlQmF0Y2hlcygpXSk7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgYXdhaXRBbGxDYWxsYmFja3MsIGNvbnN1bWVDYWxsYmFjayB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FsbGJhY2tzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/callbacks.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/index.js":
/*!********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/index.js ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AsyncLocalStorageProviderSingleton: () => (/* reexport safe */ _async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_2__.AsyncLocalStorageProviderSingleton),\n/* harmony export */   MockAsyncLocalStorage: () => (/* reexport safe */ _async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_2__.MockAsyncLocalStorage),\n/* harmony export */   _CONTEXT_VARIABLES_KEY: () => (/* reexport safe */ _async_local_storage_globals_js__WEBPACK_IMPORTED_MODULE_1__._CONTEXT_VARIABLES_KEY),\n/* harmony export */   singletons_exports: () => (/* binding */ singletons_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _async_local_storage_globals_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./async_local_storage/globals.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/async_local_storage/globals.js\");\n/* harmony import */ var _async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./async_local_storage/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/async_local_storage/index.js\");\n\n\n\n\n//#region src/singletons/index.ts\nvar singletons_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(singletons_exports, {\n\tAsyncLocalStorageProviderSingleton: () => _async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_2__.AsyncLocalStorageProviderSingleton,\n\tMockAsyncLocalStorage: () => _async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_2__.MockAsyncLocalStorage,\n\t_CONTEXT_VARIABLES_KEY: () => _async_local_storage_globals_js__WEBPACK_IMPORTED_MODULE_1__._CONTEXT_VARIABLES_KEY\n});\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9zaW5nbGV0b25zL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBMkQ7QUFDZTtBQUNpQzs7QUFFM0c7QUFDQTtBQUNBLHNFQUFRO0FBQ1IsMkNBQTJDLDZGQUFrQztBQUM3RSw4QkFBOEIsZ0ZBQXFCO0FBQ25ELCtCQUErQixtRkFBc0I7QUFDckQsQ0FBQzs7QUFFRDtBQUNpSDtBQUNqSCIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3Qvc2luZ2xldG9ucy9pbmRleC5qcz8wNGVjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fZXhwb3J0IH0gZnJvbSBcIi4uL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuanNcIjtcbmltcG9ydCB7IF9DT05URVhUX1ZBUklBQkxFU19LRVkgfSBmcm9tIFwiLi9hc3luY19sb2NhbF9zdG9yYWdlL2dsb2JhbHMuanNcIjtcbmltcG9ydCB7IEFzeW5jTG9jYWxTdG9yYWdlUHJvdmlkZXJTaW5nbGV0b24sIE1vY2tBc3luY0xvY2FsU3RvcmFnZSB9IGZyb20gXCIuL2FzeW5jX2xvY2FsX3N0b3JhZ2UvaW5kZXguanNcIjtcblxuLy8jcmVnaW9uIHNyYy9zaW5nbGV0b25zL2luZGV4LnRzXG52YXIgc2luZ2xldG9uc19leHBvcnRzID0ge307XG5fX2V4cG9ydChzaW5nbGV0b25zX2V4cG9ydHMsIHtcblx0QXN5bmNMb2NhbFN0b3JhZ2VQcm92aWRlclNpbmdsZXRvbjogKCkgPT4gQXN5bmNMb2NhbFN0b3JhZ2VQcm92aWRlclNpbmdsZXRvbixcblx0TW9ja0FzeW5jTG9jYWxTdG9yYWdlOiAoKSA9PiBNb2NrQXN5bmNMb2NhbFN0b3JhZ2UsXG5cdF9DT05URVhUX1ZBUklBQkxFU19LRVk6ICgpID0+IF9DT05URVhUX1ZBUklBQkxFU19LRVlcbn0pO1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEFzeW5jTG9jYWxTdG9yYWdlUHJvdmlkZXJTaW5nbGV0b24sIE1vY2tBc3luY0xvY2FsU3RvcmFnZSwgX0NPTlRFWFRfVkFSSUFCTEVTX0tFWSwgc2luZ2xldG9uc19leHBvcnRzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/tracer.js":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/tracer.js ***!
  \*********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getDefaultLangChainClientSingleton: () => (/* binding */ getDefaultLangChainClientSingleton)\n/* harmony export */ });\n/* harmony import */ var _utils_env_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/env.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/env.js\");\n/* harmony import */ var langsmith__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! langsmith */ \"(rsc)/./node_modules/.pnpm/langsmith@0.3.74_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/langsmith/index.js\");\n\n\n\n//#region src/singletons/tracer.ts\nlet client;\nconst getDefaultLangChainClientSingleton = () => {\n\tif (client === void 0) {\n\t\tconst clientParams = (0,_utils_env_js__WEBPACK_IMPORTED_MODULE_0__.getEnvironmentVariable)(\"LANGCHAIN_CALLBACKS_BACKGROUND\") === \"false\" ? { blockOnRootRunFinalization: true } : {};\n\t\tclient = new langsmith__WEBPACK_IMPORTED_MODULE_1__.Client(clientParams);\n\t}\n\treturn client;\n};\n\n//#endregion\n\n//# sourceMappingURL=tracer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9zaW5nbGV0b25zL3RyYWNlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBeUQ7QUFDdEI7O0FBRW5DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHFFQUFzQixtREFBbUQsbUNBQW1DO0FBQ25JLGVBQWUsNkNBQU07QUFDckI7QUFDQTtBQUNBOztBQUVBO0FBQzhDO0FBQzlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9zaW5nbGV0b25zL3RyYWNlci5qcz8zYjk0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldEVudmlyb25tZW50VmFyaWFibGUgfSBmcm9tIFwiLi4vdXRpbHMvZW52LmpzXCI7XG5pbXBvcnQgeyBDbGllbnQgfSBmcm9tIFwibGFuZ3NtaXRoXCI7XG5cbi8vI3JlZ2lvbiBzcmMvc2luZ2xldG9ucy90cmFjZXIudHNcbmxldCBjbGllbnQ7XG5jb25zdCBnZXREZWZhdWx0TGFuZ0NoYWluQ2xpZW50U2luZ2xldG9uID0gKCkgPT4ge1xuXHRpZiAoY2xpZW50ID09PSB2b2lkIDApIHtcblx0XHRjb25zdCBjbGllbnRQYXJhbXMgPSBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiTEFOR0NIQUlOX0NBTExCQUNLU19CQUNLR1JPVU5EXCIpID09PSBcImZhbHNlXCIgPyB7IGJsb2NrT25Sb290UnVuRmluYWxpemF0aW9uOiB0cnVlIH0gOiB7fTtcblx0XHRjbGllbnQgPSBuZXcgQ2xpZW50KGNsaWVudFBhcmFtcyk7XG5cdH1cblx0cmV0dXJuIGNsaWVudDtcbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgZ2V0RGVmYXVsdExhbmdDaGFpbkNsaWVudFNpbmdsZXRvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhY2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/tracer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/stores.js":
/*!**********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/stores.js ***!
  \**********************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseStore: () => (/* binding */ BaseStore),\n/* harmony export */   InMemoryStore: () => (/* binding */ InMemoryStore),\n/* harmony export */   stores_exports: () => (/* binding */ stores_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _load_serializable_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./load/serializable.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/load/serializable.js\");\n\n\n\n//#region src/stores.ts\nvar stores_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(stores_exports, {\n\tBaseStore: () => BaseStore,\n\tInMemoryStore: () => InMemoryStore\n});\n/**\n* Abstract interface for a key-value store.\n*/\nvar BaseStore = class extends _load_serializable_js__WEBPACK_IMPORTED_MODULE_1__.Serializable {};\n/**\n* In-memory implementation of the BaseStore using a dictionary. Used for\n* storing key-value pairs in memory.\n* @example\n* ```typescript\n* const store = new InMemoryStore<BaseMessage>();\n* await store.mset(\n*   Array.from({ length: 5 }).map((_, index) => [\n*     `message:id:${index}`,\n*     index % 2 === 0\n*       ? new AIMessage(\"ai stuff...\")\n*       : new HumanMessage(\"human stuff...\"),\n*   ]),\n* );\n*\n* const retrievedMessages = await store.mget([\"message:id:0\", \"message:id:1\"]);\n* await store.mdelete(await store.yieldKeys(\"message:id:\").toArray());\n* ```\n*/\nvar InMemoryStore = class extends BaseStore {\n\tlc_namespace = [\"langchain\", \"storage\"];\n\tstore = {};\n\t/**\n\t* Retrieves the values associated with the given keys from the store.\n\t* @param keys Keys to retrieve values for.\n\t* @returns Array of values associated with the given keys.\n\t*/\n\tasync mget(keys) {\n\t\treturn keys.map((key) => this.store[key]);\n\t}\n\t/**\n\t* Sets the values for the given keys in the store.\n\t* @param keyValuePairs Array of key-value pairs to set in the store.\n\t* @returns Promise that resolves when all key-value pairs have been set.\n\t*/\n\tasync mset(keyValuePairs) {\n\t\tfor (const [key, value] of keyValuePairs) this.store[key] = value;\n\t}\n\t/**\n\t* Deletes the given keys and their associated values from the store.\n\t* @param keys Keys to delete from the store.\n\t* @returns Promise that resolves when all keys have been deleted.\n\t*/\n\tasync mdelete(keys) {\n\t\tfor (const key of keys) delete this.store[key];\n\t}\n\t/**\n\t* Asynchronous generator that yields keys from the store. If a prefix is\n\t* provided, it only yields keys that start with the prefix.\n\t* @param prefix Optional prefix to filter keys.\n\t* @returns AsyncGenerator that yields keys from the store.\n\t*/\n\tasync *yieldKeys(prefix) {\n\t\tconst keys = Object.keys(this.store);\n\t\tfor (const key of keys) if (prefix === void 0 || key.startsWith(prefix)) yield key;\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=stores.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9zdG9yZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBMEQ7QUFDSjs7QUFFdEQ7QUFDQTtBQUNBLHNFQUFRO0FBQ1I7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsK0RBQVk7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsV0FBVztBQUM1QixvQkFBb0IsTUFBTTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDb0Q7QUFDcEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3N0b3Jlcy5qcz8zOWY4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fZXhwb3J0IH0gZnJvbSBcIi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5qc1wiO1xuaW1wb3J0IHsgU2VyaWFsaXphYmxlIH0gZnJvbSBcIi4vbG9hZC9zZXJpYWxpemFibGUuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9zdG9yZXMudHNcbnZhciBzdG9yZXNfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQoc3RvcmVzX2V4cG9ydHMsIHtcblx0QmFzZVN0b3JlOiAoKSA9PiBCYXNlU3RvcmUsXG5cdEluTWVtb3J5U3RvcmU6ICgpID0+IEluTWVtb3J5U3RvcmVcbn0pO1xuLyoqXG4qIEFic3RyYWN0IGludGVyZmFjZSBmb3IgYSBrZXktdmFsdWUgc3RvcmUuXG4qL1xudmFyIEJhc2VTdG9yZSA9IGNsYXNzIGV4dGVuZHMgU2VyaWFsaXphYmxlIHt9O1xuLyoqXG4qIEluLW1lbW9yeSBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgQmFzZVN0b3JlIHVzaW5nIGEgZGljdGlvbmFyeS4gVXNlZCBmb3Jcbiogc3RvcmluZyBrZXktdmFsdWUgcGFpcnMgaW4gbWVtb3J5LlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIGNvbnN0IHN0b3JlID0gbmV3IEluTWVtb3J5U3RvcmU8QmFzZU1lc3NhZ2U+KCk7XG4qIGF3YWl0IHN0b3JlLm1zZXQoXG4qICAgQXJyYXkuZnJvbSh7IGxlbmd0aDogNSB9KS5tYXAoKF8sIGluZGV4KSA9PiBbXG4qICAgICBgbWVzc2FnZTppZDoke2luZGV4fWAsXG4qICAgICBpbmRleCAlIDIgPT09IDBcbiogICAgICAgPyBuZXcgQUlNZXNzYWdlKFwiYWkgc3R1ZmYuLi5cIilcbiogICAgICAgOiBuZXcgSHVtYW5NZXNzYWdlKFwiaHVtYW4gc3R1ZmYuLi5cIiksXG4qICAgXSksXG4qICk7XG4qXG4qIGNvbnN0IHJldHJpZXZlZE1lc3NhZ2VzID0gYXdhaXQgc3RvcmUubWdldChbXCJtZXNzYWdlOmlkOjBcIiwgXCJtZXNzYWdlOmlkOjFcIl0pO1xuKiBhd2FpdCBzdG9yZS5tZGVsZXRlKGF3YWl0IHN0b3JlLnlpZWxkS2V5cyhcIm1lc3NhZ2U6aWQ6XCIpLnRvQXJyYXkoKSk7XG4qIGBgYFxuKi9cbnZhciBJbk1lbW9yeVN0b3JlID0gY2xhc3MgZXh0ZW5kcyBCYXNlU3RvcmUge1xuXHRsY19uYW1lc3BhY2UgPSBbXCJsYW5nY2hhaW5cIiwgXCJzdG9yYWdlXCJdO1xuXHRzdG9yZSA9IHt9O1xuXHQvKipcblx0KiBSZXRyaWV2ZXMgdGhlIHZhbHVlcyBhc3NvY2lhdGVkIHdpdGggdGhlIGdpdmVuIGtleXMgZnJvbSB0aGUgc3RvcmUuXG5cdCogQHBhcmFtIGtleXMgS2V5cyB0byByZXRyaWV2ZSB2YWx1ZXMgZm9yLlxuXHQqIEByZXR1cm5zIEFycmF5IG9mIHZhbHVlcyBhc3NvY2lhdGVkIHdpdGggdGhlIGdpdmVuIGtleXMuXG5cdCovXG5cdGFzeW5jIG1nZXQoa2V5cykge1xuXHRcdHJldHVybiBrZXlzLm1hcCgoa2V5KSA9PiB0aGlzLnN0b3JlW2tleV0pO1xuXHR9XG5cdC8qKlxuXHQqIFNldHMgdGhlIHZhbHVlcyBmb3IgdGhlIGdpdmVuIGtleXMgaW4gdGhlIHN0b3JlLlxuXHQqIEBwYXJhbSBrZXlWYWx1ZVBhaXJzIEFycmF5IG9mIGtleS12YWx1ZSBwYWlycyB0byBzZXQgaW4gdGhlIHN0b3JlLlxuXHQqIEByZXR1cm5zIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIGFsbCBrZXktdmFsdWUgcGFpcnMgaGF2ZSBiZWVuIHNldC5cblx0Ki9cblx0YXN5bmMgbXNldChrZXlWYWx1ZVBhaXJzKSB7XG5cdFx0Zm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2Yga2V5VmFsdWVQYWlycykgdGhpcy5zdG9yZVtrZXldID0gdmFsdWU7XG5cdH1cblx0LyoqXG5cdCogRGVsZXRlcyB0aGUgZ2l2ZW4ga2V5cyBhbmQgdGhlaXIgYXNzb2NpYXRlZCB2YWx1ZXMgZnJvbSB0aGUgc3RvcmUuXG5cdCogQHBhcmFtIGtleXMgS2V5cyB0byBkZWxldGUgZnJvbSB0aGUgc3RvcmUuXG5cdCogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gYWxsIGtleXMgaGF2ZSBiZWVuIGRlbGV0ZWQuXG5cdCovXG5cdGFzeW5jIG1kZWxldGUoa2V5cykge1xuXHRcdGZvciAoY29uc3Qga2V5IG9mIGtleXMpIGRlbGV0ZSB0aGlzLnN0b3JlW2tleV07XG5cdH1cblx0LyoqXG5cdCogQXN5bmNocm9ub3VzIGdlbmVyYXRvciB0aGF0IHlpZWxkcyBrZXlzIGZyb20gdGhlIHN0b3JlLiBJZiBhIHByZWZpeCBpc1xuXHQqIHByb3ZpZGVkLCBpdCBvbmx5IHlpZWxkcyBrZXlzIHRoYXQgc3RhcnQgd2l0aCB0aGUgcHJlZml4LlxuXHQqIEBwYXJhbSBwcmVmaXggT3B0aW9uYWwgcHJlZml4IHRvIGZpbHRlciBrZXlzLlxuXHQqIEByZXR1cm5zIEFzeW5jR2VuZXJhdG9yIHRoYXQgeWllbGRzIGtleXMgZnJvbSB0aGUgc3RvcmUuXG5cdCovXG5cdGFzeW5jICp5aWVsZEtleXMocHJlZml4KSB7XG5cdFx0Y29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuc3RvcmUpO1xuXHRcdGZvciAoY29uc3Qga2V5IG9mIGtleXMpIGlmIChwcmVmaXggPT09IHZvaWQgMCB8fCBrZXkuc3RhcnRzV2l0aChwcmVmaXgpKSB5aWVsZCBrZXk7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQmFzZVN0b3JlLCBJbk1lbW9yeVN0b3JlLCBzdG9yZXNfZXhwb3J0cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RvcmVzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/stores.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/structured_query/base.js":
/*!*************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/structured_query/base.js ***!
  \*************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseTranslator: () => (/* binding */ BaseTranslator),\n/* harmony export */   BasicTranslator: () => (/* binding */ BasicTranslator)\n/* harmony export */ });\n/* harmony import */ var _ir_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ir.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/structured_query/ir.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/structured_query/utils.js\");\n\n\n\n//#region src/structured_query/base.ts\n/**\n* Abstract class that provides a blueprint for creating specific\n* translator classes. Defines two abstract methods: formatFunction and\n* mergeFilters.\n*/\nvar BaseTranslator = class extends _ir_js__WEBPACK_IMPORTED_MODULE_0__.Visitor {};\n/**\n* Class that extends the BaseTranslator class and provides concrete\n* implementations for the abstract methods. Also declares three types:\n* VisitOperationOutput, VisitComparisonOutput, and\n* VisitStructuredQueryOutput, which are used as the return types for the\n* visitOperation, visitComparison, and visitStructuredQuery methods\n* respectively.\n*/\nvar BasicTranslator = class extends BaseTranslator {\n\tallowedOperators;\n\tallowedComparators;\n\tconstructor(opts) {\n\t\tsuper();\n\t\tthis.allowedOperators = opts?.allowedOperators ?? [_ir_js__WEBPACK_IMPORTED_MODULE_0__.Operators.and, _ir_js__WEBPACK_IMPORTED_MODULE_0__.Operators.or];\n\t\tthis.allowedComparators = opts?.allowedComparators ?? [\n\t\t\t_ir_js__WEBPACK_IMPORTED_MODULE_0__.Comparators.eq,\n\t\t\t_ir_js__WEBPACK_IMPORTED_MODULE_0__.Comparators.ne,\n\t\t\t_ir_js__WEBPACK_IMPORTED_MODULE_0__.Comparators.gt,\n\t\t\t_ir_js__WEBPACK_IMPORTED_MODULE_0__.Comparators.gte,\n\t\t\t_ir_js__WEBPACK_IMPORTED_MODULE_0__.Comparators.lt,\n\t\t\t_ir_js__WEBPACK_IMPORTED_MODULE_0__.Comparators.lte\n\t\t];\n\t}\n\tformatFunction(func) {\n\t\tif (func in _ir_js__WEBPACK_IMPORTED_MODULE_0__.Comparators) {\n\t\t\tif (this.allowedComparators.length > 0 && this.allowedComparators.indexOf(func) === -1) throw new Error(`Comparator ${func} not allowed. Allowed comparators: ${this.allowedComparators.join(\", \")}`);\n\t\t} else if (func in _ir_js__WEBPACK_IMPORTED_MODULE_0__.Operators) {\n\t\t\tif (this.allowedOperators.length > 0 && this.allowedOperators.indexOf(func) === -1) throw new Error(`Operator ${func} not allowed. Allowed operators: ${this.allowedOperators.join(\", \")}`);\n\t\t} else throw new Error(\"Unknown comparator or operator\");\n\t\treturn `$${func}`;\n\t}\n\t/**\n\t* Visits an operation and returns a result.\n\t* @param operation The operation to visit.\n\t* @returns The result of visiting the operation.\n\t*/\n\tvisitOperation(operation) {\n\t\tconst args = operation.args?.map((arg) => arg.accept(this));\n\t\treturn { [this.formatFunction(operation.operator)]: args };\n\t}\n\t/**\n\t* Visits a comparison and returns a result.\n\t* @param comparison The comparison to visit.\n\t* @returns The result of visiting the comparison.\n\t*/\n\tvisitComparison(comparison) {\n\t\treturn { [comparison.attribute]: { [this.formatFunction(comparison.comparator)]: (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.castValue)(comparison.value) } };\n\t}\n\t/**\n\t* Visits a structured query and returns a result.\n\t* @param query The structured query to visit.\n\t* @returns The result of visiting the structured query.\n\t*/\n\tvisitStructuredQuery(query) {\n\t\tlet nextArg = {};\n\t\tif (query.filter) nextArg = { filter: query.filter.accept(this) };\n\t\treturn nextArg;\n\t}\n\tmergeFilters(defaultFilter, generatedFilter, mergeType = \"and\", forceDefaultFilter = false) {\n\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFilterEmpty)(defaultFilter) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFilterEmpty)(generatedFilter)) return void 0;\n\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFilterEmpty)(defaultFilter) || mergeType === \"replace\") {\n\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFilterEmpty)(generatedFilter)) return void 0;\n\t\t\treturn generatedFilter;\n\t\t}\n\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFilterEmpty)(generatedFilter)) {\n\t\t\tif (forceDefaultFilter) return defaultFilter;\n\t\t\tif (mergeType === \"and\") return void 0;\n\t\t\treturn defaultFilter;\n\t\t}\n\t\tif (mergeType === \"and\") return { $and: [defaultFilter, generatedFilter] };\n\t\telse if (mergeType === \"or\") return { $or: [defaultFilter, generatedFilter] };\n\t\telse throw new Error(\"Unknown merge type\");\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=base.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9zdHJ1Y3R1cmVkX3F1ZXJ5L2Jhc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEwRDtBQUNKOztBQUV0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsMkNBQU87QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsNkNBQVMsTUFBTSw2Q0FBUztBQUM3RTtBQUNBLEdBQUcsK0NBQVc7QUFDZCxHQUFHLCtDQUFXO0FBQ2QsR0FBRywrQ0FBVztBQUNkLEdBQUcsK0NBQVc7QUFDZCxHQUFHLCtDQUFXO0FBQ2QsR0FBRywrQ0FBVztBQUNkO0FBQ0E7QUFDQTtBQUNBLGNBQWMsK0NBQVc7QUFDekIseUhBQXlILE1BQU0sb0NBQW9DLG1DQUFtQztBQUN0TSxJQUFJLGlCQUFpQiw2Q0FBUztBQUM5QixtSEFBbUgsTUFBTSxrQ0FBa0MsaUNBQWlDO0FBQzVMLElBQUk7QUFDSixhQUFhLEtBQUs7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsMEJBQTBCLDhDQUE4QyxvREFBUztBQUM1RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLE1BQU0sd0RBQWEsbUJBQW1CLHdEQUFhO0FBQ25ELE1BQU0sd0RBQWE7QUFDbkIsT0FBTyx3REFBYTtBQUNwQjtBQUNBO0FBQ0EsTUFBTSx3REFBYTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQyx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBOztBQUVBO0FBQzJDO0FBQzNDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9zdHJ1Y3R1cmVkX3F1ZXJ5L2Jhc2UuanM/M2M3ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wYXJhdG9ycywgT3BlcmF0b3JzLCBWaXNpdG9yIH0gZnJvbSBcIi4vaXIuanNcIjtcbmltcG9ydCB7IGNhc3RWYWx1ZSwgaXNGaWx0ZXJFbXB0eSB9IGZyb20gXCIuL3V0aWxzLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvc3RydWN0dXJlZF9xdWVyeS9iYXNlLnRzXG4vKipcbiogQWJzdHJhY3QgY2xhc3MgdGhhdCBwcm92aWRlcyBhIGJsdWVwcmludCBmb3IgY3JlYXRpbmcgc3BlY2lmaWNcbiogdHJhbnNsYXRvciBjbGFzc2VzLiBEZWZpbmVzIHR3byBhYnN0cmFjdCBtZXRob2RzOiBmb3JtYXRGdW5jdGlvbiBhbmRcbiogbWVyZ2VGaWx0ZXJzLlxuKi9cbnZhciBCYXNlVHJhbnNsYXRvciA9IGNsYXNzIGV4dGVuZHMgVmlzaXRvciB7fTtcbi8qKlxuKiBDbGFzcyB0aGF0IGV4dGVuZHMgdGhlIEJhc2VUcmFuc2xhdG9yIGNsYXNzIGFuZCBwcm92aWRlcyBjb25jcmV0ZVxuKiBpbXBsZW1lbnRhdGlvbnMgZm9yIHRoZSBhYnN0cmFjdCBtZXRob2RzLiBBbHNvIGRlY2xhcmVzIHRocmVlIHR5cGVzOlxuKiBWaXNpdE9wZXJhdGlvbk91dHB1dCwgVmlzaXRDb21wYXJpc29uT3V0cHV0LCBhbmRcbiogVmlzaXRTdHJ1Y3R1cmVkUXVlcnlPdXRwdXQsIHdoaWNoIGFyZSB1c2VkIGFzIHRoZSByZXR1cm4gdHlwZXMgZm9yIHRoZVxuKiB2aXNpdE9wZXJhdGlvbiwgdmlzaXRDb21wYXJpc29uLCBhbmQgdmlzaXRTdHJ1Y3R1cmVkUXVlcnkgbWV0aG9kc1xuKiByZXNwZWN0aXZlbHkuXG4qL1xudmFyIEJhc2ljVHJhbnNsYXRvciA9IGNsYXNzIGV4dGVuZHMgQmFzZVRyYW5zbGF0b3Ige1xuXHRhbGxvd2VkT3BlcmF0b3JzO1xuXHRhbGxvd2VkQ29tcGFyYXRvcnM7XG5cdGNvbnN0cnVjdG9yKG9wdHMpIHtcblx0XHRzdXBlcigpO1xuXHRcdHRoaXMuYWxsb3dlZE9wZXJhdG9ycyA9IG9wdHM/LmFsbG93ZWRPcGVyYXRvcnMgPz8gW09wZXJhdG9ycy5hbmQsIE9wZXJhdG9ycy5vcl07XG5cdFx0dGhpcy5hbGxvd2VkQ29tcGFyYXRvcnMgPSBvcHRzPy5hbGxvd2VkQ29tcGFyYXRvcnMgPz8gW1xuXHRcdFx0Q29tcGFyYXRvcnMuZXEsXG5cdFx0XHRDb21wYXJhdG9ycy5uZSxcblx0XHRcdENvbXBhcmF0b3JzLmd0LFxuXHRcdFx0Q29tcGFyYXRvcnMuZ3RlLFxuXHRcdFx0Q29tcGFyYXRvcnMubHQsXG5cdFx0XHRDb21wYXJhdG9ycy5sdGVcblx0XHRdO1xuXHR9XG5cdGZvcm1hdEZ1bmN0aW9uKGZ1bmMpIHtcblx0XHRpZiAoZnVuYyBpbiBDb21wYXJhdG9ycykge1xuXHRcdFx0aWYgKHRoaXMuYWxsb3dlZENvbXBhcmF0b3JzLmxlbmd0aCA+IDAgJiYgdGhpcy5hbGxvd2VkQ29tcGFyYXRvcnMuaW5kZXhPZihmdW5jKSA9PT0gLTEpIHRocm93IG5ldyBFcnJvcihgQ29tcGFyYXRvciAke2Z1bmN9IG5vdCBhbGxvd2VkLiBBbGxvd2VkIGNvbXBhcmF0b3JzOiAke3RoaXMuYWxsb3dlZENvbXBhcmF0b3JzLmpvaW4oXCIsIFwiKX1gKTtcblx0XHR9IGVsc2UgaWYgKGZ1bmMgaW4gT3BlcmF0b3JzKSB7XG5cdFx0XHRpZiAodGhpcy5hbGxvd2VkT3BlcmF0b3JzLmxlbmd0aCA+IDAgJiYgdGhpcy5hbGxvd2VkT3BlcmF0b3JzLmluZGV4T2YoZnVuYykgPT09IC0xKSB0aHJvdyBuZXcgRXJyb3IoYE9wZXJhdG9yICR7ZnVuY30gbm90IGFsbG93ZWQuIEFsbG93ZWQgb3BlcmF0b3JzOiAke3RoaXMuYWxsb3dlZE9wZXJhdG9ycy5qb2luKFwiLCBcIil9YCk7XG5cdFx0fSBlbHNlIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gY29tcGFyYXRvciBvciBvcGVyYXRvclwiKTtcblx0XHRyZXR1cm4gYCQke2Z1bmN9YDtcblx0fVxuXHQvKipcblx0KiBWaXNpdHMgYW4gb3BlcmF0aW9uIGFuZCByZXR1cm5zIGEgcmVzdWx0LlxuXHQqIEBwYXJhbSBvcGVyYXRpb24gVGhlIG9wZXJhdGlvbiB0byB2aXNpdC5cblx0KiBAcmV0dXJucyBUaGUgcmVzdWx0IG9mIHZpc2l0aW5nIHRoZSBvcGVyYXRpb24uXG5cdCovXG5cdHZpc2l0T3BlcmF0aW9uKG9wZXJhdGlvbikge1xuXHRcdGNvbnN0IGFyZ3MgPSBvcGVyYXRpb24uYXJncz8ubWFwKChhcmcpID0+IGFyZy5hY2NlcHQodGhpcykpO1xuXHRcdHJldHVybiB7IFt0aGlzLmZvcm1hdEZ1bmN0aW9uKG9wZXJhdGlvbi5vcGVyYXRvcildOiBhcmdzIH07XG5cdH1cblx0LyoqXG5cdCogVmlzaXRzIGEgY29tcGFyaXNvbiBhbmQgcmV0dXJucyBhIHJlc3VsdC5cblx0KiBAcGFyYW0gY29tcGFyaXNvbiBUaGUgY29tcGFyaXNvbiB0byB2aXNpdC5cblx0KiBAcmV0dXJucyBUaGUgcmVzdWx0IG9mIHZpc2l0aW5nIHRoZSBjb21wYXJpc29uLlxuXHQqL1xuXHR2aXNpdENvbXBhcmlzb24oY29tcGFyaXNvbikge1xuXHRcdHJldHVybiB7IFtjb21wYXJpc29uLmF0dHJpYnV0ZV06IHsgW3RoaXMuZm9ybWF0RnVuY3Rpb24oY29tcGFyaXNvbi5jb21wYXJhdG9yKV06IGNhc3RWYWx1ZShjb21wYXJpc29uLnZhbHVlKSB9IH07XG5cdH1cblx0LyoqXG5cdCogVmlzaXRzIGEgc3RydWN0dXJlZCBxdWVyeSBhbmQgcmV0dXJucyBhIHJlc3VsdC5cblx0KiBAcGFyYW0gcXVlcnkgVGhlIHN0cnVjdHVyZWQgcXVlcnkgdG8gdmlzaXQuXG5cdCogQHJldHVybnMgVGhlIHJlc3VsdCBvZiB2aXNpdGluZyB0aGUgc3RydWN0dXJlZCBxdWVyeS5cblx0Ki9cblx0dmlzaXRTdHJ1Y3R1cmVkUXVlcnkocXVlcnkpIHtcblx0XHRsZXQgbmV4dEFyZyA9IHt9O1xuXHRcdGlmIChxdWVyeS5maWx0ZXIpIG5leHRBcmcgPSB7IGZpbHRlcjogcXVlcnkuZmlsdGVyLmFjY2VwdCh0aGlzKSB9O1xuXHRcdHJldHVybiBuZXh0QXJnO1xuXHR9XG5cdG1lcmdlRmlsdGVycyhkZWZhdWx0RmlsdGVyLCBnZW5lcmF0ZWRGaWx0ZXIsIG1lcmdlVHlwZSA9IFwiYW5kXCIsIGZvcmNlRGVmYXVsdEZpbHRlciA9IGZhbHNlKSB7XG5cdFx0aWYgKGlzRmlsdGVyRW1wdHkoZGVmYXVsdEZpbHRlcikgJiYgaXNGaWx0ZXJFbXB0eShnZW5lcmF0ZWRGaWx0ZXIpKSByZXR1cm4gdm9pZCAwO1xuXHRcdGlmIChpc0ZpbHRlckVtcHR5KGRlZmF1bHRGaWx0ZXIpIHx8IG1lcmdlVHlwZSA9PT0gXCJyZXBsYWNlXCIpIHtcblx0XHRcdGlmIChpc0ZpbHRlckVtcHR5KGdlbmVyYXRlZEZpbHRlcikpIHJldHVybiB2b2lkIDA7XG5cdFx0XHRyZXR1cm4gZ2VuZXJhdGVkRmlsdGVyO1xuXHRcdH1cblx0XHRpZiAoaXNGaWx0ZXJFbXB0eShnZW5lcmF0ZWRGaWx0ZXIpKSB7XG5cdFx0XHRpZiAoZm9yY2VEZWZhdWx0RmlsdGVyKSByZXR1cm4gZGVmYXVsdEZpbHRlcjtcblx0XHRcdGlmIChtZXJnZVR5cGUgPT09IFwiYW5kXCIpIHJldHVybiB2b2lkIDA7XG5cdFx0XHRyZXR1cm4gZGVmYXVsdEZpbHRlcjtcblx0XHR9XG5cdFx0aWYgKG1lcmdlVHlwZSA9PT0gXCJhbmRcIikgcmV0dXJuIHsgJGFuZDogW2RlZmF1bHRGaWx0ZXIsIGdlbmVyYXRlZEZpbHRlcl0gfTtcblx0XHRlbHNlIGlmIChtZXJnZVR5cGUgPT09IFwib3JcIikgcmV0dXJuIHsgJG9yOiBbZGVmYXVsdEZpbHRlciwgZ2VuZXJhdGVkRmlsdGVyXSB9O1xuXHRcdGVsc2UgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBtZXJnZSB0eXBlXCIpO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEJhc2VUcmFuc2xhdG9yLCBCYXNpY1RyYW5zbGF0b3IgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhc2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/structured_query/base.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/structured_query/functional.js":
/*!*******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/structured_query/functional.js ***!
  \*******************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FunctionalTranslator: () => (/* binding */ FunctionalTranslator)\n/* harmony export */ });\n/* harmony import */ var _ir_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ir.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/structured_query/ir.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/structured_query/utils.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/structured_query/base.js\");\n\n\n\n\n//#region src/structured_query/functional.ts\n/**\n* A class that extends `BaseTranslator` to translate structured queries\n* into functional filters.\n* @example\n* ```typescript\n* const functionalTranslator = new FunctionalTranslator();\n* const relevantDocuments = await functionalTranslator.getRelevantDocuments(\n*   \"Which movies are rated higher than 8.5?\",\n* );\n* ```\n*/\nvar FunctionalTranslator = class extends _base_js__WEBPACK_IMPORTED_MODULE_2__.BaseTranslator {\n\tallowedOperators = [_ir_js__WEBPACK_IMPORTED_MODULE_0__.Operators.and, _ir_js__WEBPACK_IMPORTED_MODULE_0__.Operators.or];\n\tallowedComparators = [\n\t\t_ir_js__WEBPACK_IMPORTED_MODULE_0__.Comparators.eq,\n\t\t_ir_js__WEBPACK_IMPORTED_MODULE_0__.Comparators.ne,\n\t\t_ir_js__WEBPACK_IMPORTED_MODULE_0__.Comparators.gt,\n\t\t_ir_js__WEBPACK_IMPORTED_MODULE_0__.Comparators.gte,\n\t\t_ir_js__WEBPACK_IMPORTED_MODULE_0__.Comparators.lt,\n\t\t_ir_js__WEBPACK_IMPORTED_MODULE_0__.Comparators.lte\n\t];\n\tformatFunction() {\n\t\tthrow new Error(\"Not implemented\");\n\t}\n\t/**\n\t* Returns the allowed comparators for a given data type.\n\t* @param input The input value to get the allowed comparators for.\n\t* @returns An array of allowed comparators for the input data type.\n\t*/\n\tgetAllowedComparatorsForType(inputType) {\n\t\tswitch (inputType) {\n\t\t\tcase \"string\": return [\n\t\t\t\t_ir_js__WEBPACK_IMPORTED_MODULE_0__.Comparators.eq,\n\t\t\t\t_ir_js__WEBPACK_IMPORTED_MODULE_0__.Comparators.ne,\n\t\t\t\t_ir_js__WEBPACK_IMPORTED_MODULE_0__.Comparators.gt,\n\t\t\t\t_ir_js__WEBPACK_IMPORTED_MODULE_0__.Comparators.gte,\n\t\t\t\t_ir_js__WEBPACK_IMPORTED_MODULE_0__.Comparators.lt,\n\t\t\t\t_ir_js__WEBPACK_IMPORTED_MODULE_0__.Comparators.lte\n\t\t\t];\n\t\t\tcase \"number\": return [\n\t\t\t\t_ir_js__WEBPACK_IMPORTED_MODULE_0__.Comparators.eq,\n\t\t\t\t_ir_js__WEBPACK_IMPORTED_MODULE_0__.Comparators.ne,\n\t\t\t\t_ir_js__WEBPACK_IMPORTED_MODULE_0__.Comparators.gt,\n\t\t\t\t_ir_js__WEBPACK_IMPORTED_MODULE_0__.Comparators.gte,\n\t\t\t\t_ir_js__WEBPACK_IMPORTED_MODULE_0__.Comparators.lt,\n\t\t\t\t_ir_js__WEBPACK_IMPORTED_MODULE_0__.Comparators.lte\n\t\t\t];\n\t\t\tcase \"boolean\": return [_ir_js__WEBPACK_IMPORTED_MODULE_0__.Comparators.eq, _ir_js__WEBPACK_IMPORTED_MODULE_0__.Comparators.ne];\n\t\t\tdefault: throw new Error(`Unsupported data type: ${inputType}`);\n\t\t}\n\t}\n\t/**\n\t* Returns a function that performs a comparison based on the provided\n\t* comparator.\n\t* @param comparator The comparator to base the comparison function on.\n\t* @returns A function that takes two arguments and returns a boolean based on the comparison.\n\t*/\n\tgetComparatorFunction(comparator) {\n\t\tswitch (comparator) {\n\t\t\tcase _ir_js__WEBPACK_IMPORTED_MODULE_0__.Comparators.eq: return (a, b) => a === b;\n\t\t\tcase _ir_js__WEBPACK_IMPORTED_MODULE_0__.Comparators.ne: return (a, b) => a !== b;\n\t\t\tcase _ir_js__WEBPACK_IMPORTED_MODULE_0__.Comparators.gt: return (a, b) => a > b;\n\t\t\tcase _ir_js__WEBPACK_IMPORTED_MODULE_0__.Comparators.gte: return (a, b) => a >= b;\n\t\t\tcase _ir_js__WEBPACK_IMPORTED_MODULE_0__.Comparators.lt: return (a, b) => a < b;\n\t\t\tcase _ir_js__WEBPACK_IMPORTED_MODULE_0__.Comparators.lte: return (a, b) => a <= b;\n\t\t\tdefault: throw new Error(\"Unknown comparator\");\n\t\t}\n\t}\n\t/**\n\t* Returns a function that performs an operation based on the provided\n\t* operator.\n\t* @param operator The operator to base the operation function on.\n\t* @returns A function that takes two boolean arguments and returns a boolean based on the operation.\n\t*/\n\tgetOperatorFunction(operator) {\n\t\tswitch (operator) {\n\t\t\tcase _ir_js__WEBPACK_IMPORTED_MODULE_0__.Operators.and: return (a, b) => a && b;\n\t\t\tcase _ir_js__WEBPACK_IMPORTED_MODULE_0__.Operators.or: return (a, b) => a || b;\n\t\t\tdefault: throw new Error(\"Unknown operator\");\n\t\t}\n\t}\n\t/**\n\t* Visits the operation part of a structured query and translates it into\n\t* a functional filter.\n\t* @param operation The operation part of a structured query.\n\t* @returns A function that takes a `Document` as an argument and returns a boolean based on the operation.\n\t*/\n\tvisitOperation(operation) {\n\t\tconst { operator, args } = operation;\n\t\tif (this.allowedOperators.includes(operator)) {\n\t\t\tconst operatorFunction = this.getOperatorFunction(operator);\n\t\t\treturn (document) => {\n\t\t\t\tif (!args) return true;\n\t\t\t\treturn args.reduce((acc, arg) => {\n\t\t\t\t\tconst result = arg.accept(this);\n\t\t\t\t\tif (typeof result === \"function\") return operatorFunction(acc, result(document));\n\t\t\t\t\telse throw new Error(\"Filter is not a function\");\n\t\t\t\t}, true);\n\t\t\t};\n\t\t} else throw new Error(\"Operator not allowed\");\n\t}\n\t/**\n\t* Visits the comparison part of a structured query and translates it into\n\t* a functional filter.\n\t* @param comparison The comparison part of a structured query.\n\t* @returns A function that takes a `Document` as an argument and returns a boolean based on the comparison.\n\t*/\n\tvisitComparison(comparison) {\n\t\tconst { comparator, attribute, value } = comparison;\n\t\tconst undefinedTrue = [_ir_js__WEBPACK_IMPORTED_MODULE_0__.Comparators.ne];\n\t\tif (this.allowedComparators.includes(comparator)) {\n\t\t\tif (!this.getAllowedComparatorsForType(typeof value).includes(comparator)) throw new Error(`'${comparator}' comparator not allowed to be used with ${typeof value}`);\n\t\t\tconst comparatorFunction = this.getComparatorFunction(comparator);\n\t\t\treturn (document) => {\n\t\t\t\tconst documentValue = document.metadata[attribute];\n\t\t\t\tif (documentValue === void 0) {\n\t\t\t\t\tif (undefinedTrue.includes(comparator)) return true;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn comparatorFunction(documentValue, (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.castValue)(value));\n\t\t\t};\n\t\t} else throw new Error(\"Comparator not allowed\");\n\t}\n\t/**\n\t* Visits a structured query and translates it into a functional filter.\n\t* @param query The structured query to translate.\n\t* @returns An object containing a `filter` property, which is a function that takes a `Document` as an argument and returns a boolean based on the structured query.\n\t*/\n\tvisitStructuredQuery(query) {\n\t\tif (!query.filter) return {};\n\t\tconst filterFunction = query.filter?.accept(this);\n\t\tif (typeof filterFunction !== \"function\") throw new Error(\"Structured query filter is not a function\");\n\t\treturn { filter: filterFunction };\n\t}\n\t/**\n\t* Merges two filters into one, based on the specified merge type.\n\t* @param defaultFilter The default filter function.\n\t* @param generatedFilter The generated filter function.\n\t* @param mergeType The type of merge to perform. Can be 'and', 'or', or 'replace'. Default is 'and'.\n\t* @returns A function that takes a `Document` as an argument and returns a boolean based on the merged filters, or `undefined` if both filters are empty.\n\t*/\n\tmergeFilters(defaultFilter, generatedFilter, mergeType = \"and\") {\n\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFilterEmpty)(defaultFilter) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFilterEmpty)(generatedFilter)) return void 0;\n\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFilterEmpty)(defaultFilter) || mergeType === \"replace\") {\n\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFilterEmpty)(generatedFilter)) return void 0;\n\t\t\treturn generatedFilter;\n\t\t}\n\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFilterEmpty)(generatedFilter)) {\n\t\t\tif (mergeType === \"and\") return void 0;\n\t\t\treturn defaultFilter;\n\t\t}\n\t\tif (mergeType === \"and\") return (document) => defaultFilter(document) && generatedFilter(document);\n\t\telse if (mergeType === \"or\") return (document) => defaultFilter(document) || generatedFilter(document);\n\t\telse throw new Error(\"Unknown merge type\");\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=functional.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9zdHJ1Y3R1cmVkX3F1ZXJ5L2Z1bmN0aW9uYWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFpRDtBQUNLO0FBQ1g7O0FBRTNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxvREFBYztBQUN2RCxxQkFBcUIsNkNBQVMsTUFBTSw2Q0FBUztBQUM3QztBQUNBLEVBQUUsK0NBQVc7QUFDYixFQUFFLCtDQUFXO0FBQ2IsRUFBRSwrQ0FBVztBQUNiLEVBQUUsK0NBQVc7QUFDYixFQUFFLCtDQUFXO0FBQ2IsRUFBRSwrQ0FBVztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksK0NBQVc7QUFDZixJQUFJLCtDQUFXO0FBQ2YsSUFBSSwrQ0FBVztBQUNmLElBQUksK0NBQVc7QUFDZixJQUFJLCtDQUFXO0FBQ2YsSUFBSSwrQ0FBVztBQUNmO0FBQ0E7QUFDQSxJQUFJLCtDQUFXO0FBQ2YsSUFBSSwrQ0FBVztBQUNmLElBQUksK0NBQVc7QUFDZixJQUFJLCtDQUFXO0FBQ2YsSUFBSSwrQ0FBVztBQUNmLElBQUksK0NBQVc7QUFDZjtBQUNBLDJCQUEyQiwrQ0FBVyxLQUFLLCtDQUFXO0FBQ3RELHNEQUFzRCxVQUFVO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwrQ0FBVztBQUNuQixRQUFRLCtDQUFXO0FBQ25CLFFBQVEsK0NBQVc7QUFDbkIsUUFBUSwrQ0FBVztBQUNuQixRQUFRLCtDQUFXO0FBQ25CLFFBQVEsK0NBQVc7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNkNBQVM7QUFDakIsUUFBUSw2Q0FBUztBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsaUJBQWlCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsK0JBQStCO0FBQ3pDLHlCQUF5QiwrQ0FBVztBQUNwQztBQUNBLGtHQUFrRyxXQUFXLDJDQUEyQyxhQUFhO0FBQ3JLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLG9EQUFTO0FBQ3REO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sd0RBQWEsbUJBQW1CLHdEQUFhO0FBQ25ELE1BQU0sd0RBQWE7QUFDbkIsT0FBTyx3REFBYTtBQUNwQjtBQUNBO0FBQ0EsTUFBTSx3REFBYTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ2dDO0FBQ2hDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9zdHJ1Y3R1cmVkX3F1ZXJ5L2Z1bmN0aW9uYWwuanM/NTViNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wYXJhdG9ycywgT3BlcmF0b3JzIH0gZnJvbSBcIi4vaXIuanNcIjtcbmltcG9ydCB7IGNhc3RWYWx1ZSwgaXNGaWx0ZXJFbXB0eSB9IGZyb20gXCIuL3V0aWxzLmpzXCI7XG5pbXBvcnQgeyBCYXNlVHJhbnNsYXRvciB9IGZyb20gXCIuL2Jhc2UuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9zdHJ1Y3R1cmVkX3F1ZXJ5L2Z1bmN0aW9uYWwudHNcbi8qKlxuKiBBIGNsYXNzIHRoYXQgZXh0ZW5kcyBgQmFzZVRyYW5zbGF0b3JgIHRvIHRyYW5zbGF0ZSBzdHJ1Y3R1cmVkIHF1ZXJpZXNcbiogaW50byBmdW5jdGlvbmFsIGZpbHRlcnMuXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogY29uc3QgZnVuY3Rpb25hbFRyYW5zbGF0b3IgPSBuZXcgRnVuY3Rpb25hbFRyYW5zbGF0b3IoKTtcbiogY29uc3QgcmVsZXZhbnREb2N1bWVudHMgPSBhd2FpdCBmdW5jdGlvbmFsVHJhbnNsYXRvci5nZXRSZWxldmFudERvY3VtZW50cyhcbiogICBcIldoaWNoIG1vdmllcyBhcmUgcmF0ZWQgaGlnaGVyIHRoYW4gOC41P1wiLFxuKiApO1xuKiBgYGBcbiovXG52YXIgRnVuY3Rpb25hbFRyYW5zbGF0b3IgPSBjbGFzcyBleHRlbmRzIEJhc2VUcmFuc2xhdG9yIHtcblx0YWxsb3dlZE9wZXJhdG9ycyA9IFtPcGVyYXRvcnMuYW5kLCBPcGVyYXRvcnMub3JdO1xuXHRhbGxvd2VkQ29tcGFyYXRvcnMgPSBbXG5cdFx0Q29tcGFyYXRvcnMuZXEsXG5cdFx0Q29tcGFyYXRvcnMubmUsXG5cdFx0Q29tcGFyYXRvcnMuZ3QsXG5cdFx0Q29tcGFyYXRvcnMuZ3RlLFxuXHRcdENvbXBhcmF0b3JzLmx0LFxuXHRcdENvbXBhcmF0b3JzLmx0ZVxuXHRdO1xuXHRmb3JtYXRGdW5jdGlvbigpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWRcIik7XG5cdH1cblx0LyoqXG5cdCogUmV0dXJucyB0aGUgYWxsb3dlZCBjb21wYXJhdG9ycyBmb3IgYSBnaXZlbiBkYXRhIHR5cGUuXG5cdCogQHBhcmFtIGlucHV0IFRoZSBpbnB1dCB2YWx1ZSB0byBnZXQgdGhlIGFsbG93ZWQgY29tcGFyYXRvcnMgZm9yLlxuXHQqIEByZXR1cm5zIEFuIGFycmF5IG9mIGFsbG93ZWQgY29tcGFyYXRvcnMgZm9yIHRoZSBpbnB1dCBkYXRhIHR5cGUuXG5cdCovXG5cdGdldEFsbG93ZWRDb21wYXJhdG9yc0ZvclR5cGUoaW5wdXRUeXBlKSB7XG5cdFx0c3dpdGNoIChpbnB1dFR5cGUpIHtcblx0XHRcdGNhc2UgXCJzdHJpbmdcIjogcmV0dXJuIFtcblx0XHRcdFx0Q29tcGFyYXRvcnMuZXEsXG5cdFx0XHRcdENvbXBhcmF0b3JzLm5lLFxuXHRcdFx0XHRDb21wYXJhdG9ycy5ndCxcblx0XHRcdFx0Q29tcGFyYXRvcnMuZ3RlLFxuXHRcdFx0XHRDb21wYXJhdG9ycy5sdCxcblx0XHRcdFx0Q29tcGFyYXRvcnMubHRlXG5cdFx0XHRdO1xuXHRcdFx0Y2FzZSBcIm51bWJlclwiOiByZXR1cm4gW1xuXHRcdFx0XHRDb21wYXJhdG9ycy5lcSxcblx0XHRcdFx0Q29tcGFyYXRvcnMubmUsXG5cdFx0XHRcdENvbXBhcmF0b3JzLmd0LFxuXHRcdFx0XHRDb21wYXJhdG9ycy5ndGUsXG5cdFx0XHRcdENvbXBhcmF0b3JzLmx0LFxuXHRcdFx0XHRDb21wYXJhdG9ycy5sdGVcblx0XHRcdF07XG5cdFx0XHRjYXNlIFwiYm9vbGVhblwiOiByZXR1cm4gW0NvbXBhcmF0b3JzLmVxLCBDb21wYXJhdG9ycy5uZV07XG5cdFx0XHRkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGRhdGEgdHlwZTogJHtpbnB1dFR5cGV9YCk7XG5cdFx0fVxuXHR9XG5cdC8qKlxuXHQqIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgY29tcGFyaXNvbiBiYXNlZCBvbiB0aGUgcHJvdmlkZWRcblx0KiBjb21wYXJhdG9yLlxuXHQqIEBwYXJhbSBjb21wYXJhdG9yIFRoZSBjb21wYXJhdG9yIHRvIGJhc2UgdGhlIGNvbXBhcmlzb24gZnVuY3Rpb24gb24uXG5cdCogQHJldHVybnMgQSBmdW5jdGlvbiB0aGF0IHRha2VzIHR3byBhcmd1bWVudHMgYW5kIHJldHVybnMgYSBib29sZWFuIGJhc2VkIG9uIHRoZSBjb21wYXJpc29uLlxuXHQqL1xuXHRnZXRDb21wYXJhdG9yRnVuY3Rpb24oY29tcGFyYXRvcikge1xuXHRcdHN3aXRjaCAoY29tcGFyYXRvcikge1xuXHRcdFx0Y2FzZSBDb21wYXJhdG9ycy5lcTogcmV0dXJuIChhLCBiKSA9PiBhID09PSBiO1xuXHRcdFx0Y2FzZSBDb21wYXJhdG9ycy5uZTogcmV0dXJuIChhLCBiKSA9PiBhICE9PSBiO1xuXHRcdFx0Y2FzZSBDb21wYXJhdG9ycy5ndDogcmV0dXJuIChhLCBiKSA9PiBhID4gYjtcblx0XHRcdGNhc2UgQ29tcGFyYXRvcnMuZ3RlOiByZXR1cm4gKGEsIGIpID0+IGEgPj0gYjtcblx0XHRcdGNhc2UgQ29tcGFyYXRvcnMubHQ6IHJldHVybiAoYSwgYikgPT4gYSA8IGI7XG5cdFx0XHRjYXNlIENvbXBhcmF0b3JzLmx0ZTogcmV0dXJuIChhLCBiKSA9PiBhIDw9IGI7XG5cdFx0XHRkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGNvbXBhcmF0b3JcIik7XG5cdFx0fVxuXHR9XG5cdC8qKlxuXHQqIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGFuIG9wZXJhdGlvbiBiYXNlZCBvbiB0aGUgcHJvdmlkZWRcblx0KiBvcGVyYXRvci5cblx0KiBAcGFyYW0gb3BlcmF0b3IgVGhlIG9wZXJhdG9yIHRvIGJhc2UgdGhlIG9wZXJhdGlvbiBmdW5jdGlvbiBvbi5cblx0KiBAcmV0dXJucyBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgdHdvIGJvb2xlYW4gYXJndW1lbnRzIGFuZCByZXR1cm5zIGEgYm9vbGVhbiBiYXNlZCBvbiB0aGUgb3BlcmF0aW9uLlxuXHQqL1xuXHRnZXRPcGVyYXRvckZ1bmN0aW9uKG9wZXJhdG9yKSB7XG5cdFx0c3dpdGNoIChvcGVyYXRvcikge1xuXHRcdFx0Y2FzZSBPcGVyYXRvcnMuYW5kOiByZXR1cm4gKGEsIGIpID0+IGEgJiYgYjtcblx0XHRcdGNhc2UgT3BlcmF0b3JzLm9yOiByZXR1cm4gKGEsIGIpID0+IGEgfHwgYjtcblx0XHRcdGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcihcIlVua25vd24gb3BlcmF0b3JcIik7XG5cdFx0fVxuXHR9XG5cdC8qKlxuXHQqIFZpc2l0cyB0aGUgb3BlcmF0aW9uIHBhcnQgb2YgYSBzdHJ1Y3R1cmVkIHF1ZXJ5IGFuZCB0cmFuc2xhdGVzIGl0IGludG9cblx0KiBhIGZ1bmN0aW9uYWwgZmlsdGVyLlxuXHQqIEBwYXJhbSBvcGVyYXRpb24gVGhlIG9wZXJhdGlvbiBwYXJ0IG9mIGEgc3RydWN0dXJlZCBxdWVyeS5cblx0KiBAcmV0dXJucyBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSBgRG9jdW1lbnRgIGFzIGFuIGFyZ3VtZW50IGFuZCByZXR1cm5zIGEgYm9vbGVhbiBiYXNlZCBvbiB0aGUgb3BlcmF0aW9uLlxuXHQqL1xuXHR2aXNpdE9wZXJhdGlvbihvcGVyYXRpb24pIHtcblx0XHRjb25zdCB7IG9wZXJhdG9yLCBhcmdzIH0gPSBvcGVyYXRpb247XG5cdFx0aWYgKHRoaXMuYWxsb3dlZE9wZXJhdG9ycy5pbmNsdWRlcyhvcGVyYXRvcikpIHtcblx0XHRcdGNvbnN0IG9wZXJhdG9yRnVuY3Rpb24gPSB0aGlzLmdldE9wZXJhdG9yRnVuY3Rpb24ob3BlcmF0b3IpO1xuXHRcdFx0cmV0dXJuIChkb2N1bWVudCkgPT4ge1xuXHRcdFx0XHRpZiAoIWFyZ3MpIHJldHVybiB0cnVlO1xuXHRcdFx0XHRyZXR1cm4gYXJncy5yZWR1Y2UoKGFjYywgYXJnKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3QgcmVzdWx0ID0gYXJnLmFjY2VwdCh0aGlzKTtcblx0XHRcdFx0XHRpZiAodHlwZW9mIHJlc3VsdCA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gb3BlcmF0b3JGdW5jdGlvbihhY2MsIHJlc3VsdChkb2N1bWVudCkpO1xuXHRcdFx0XHRcdGVsc2UgdGhyb3cgbmV3IEVycm9yKFwiRmlsdGVyIGlzIG5vdCBhIGZ1bmN0aW9uXCIpO1xuXHRcdFx0XHR9LCB0cnVlKTtcblx0XHRcdH07XG5cdFx0fSBlbHNlIHRocm93IG5ldyBFcnJvcihcIk9wZXJhdG9yIG5vdCBhbGxvd2VkXCIpO1xuXHR9XG5cdC8qKlxuXHQqIFZpc2l0cyB0aGUgY29tcGFyaXNvbiBwYXJ0IG9mIGEgc3RydWN0dXJlZCBxdWVyeSBhbmQgdHJhbnNsYXRlcyBpdCBpbnRvXG5cdCogYSBmdW5jdGlvbmFsIGZpbHRlci5cblx0KiBAcGFyYW0gY29tcGFyaXNvbiBUaGUgY29tcGFyaXNvbiBwYXJ0IG9mIGEgc3RydWN0dXJlZCBxdWVyeS5cblx0KiBAcmV0dXJucyBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSBgRG9jdW1lbnRgIGFzIGFuIGFyZ3VtZW50IGFuZCByZXR1cm5zIGEgYm9vbGVhbiBiYXNlZCBvbiB0aGUgY29tcGFyaXNvbi5cblx0Ki9cblx0dmlzaXRDb21wYXJpc29uKGNvbXBhcmlzb24pIHtcblx0XHRjb25zdCB7IGNvbXBhcmF0b3IsIGF0dHJpYnV0ZSwgdmFsdWUgfSA9IGNvbXBhcmlzb247XG5cdFx0Y29uc3QgdW5kZWZpbmVkVHJ1ZSA9IFtDb21wYXJhdG9ycy5uZV07XG5cdFx0aWYgKHRoaXMuYWxsb3dlZENvbXBhcmF0b3JzLmluY2x1ZGVzKGNvbXBhcmF0b3IpKSB7XG5cdFx0XHRpZiAoIXRoaXMuZ2V0QWxsb3dlZENvbXBhcmF0b3JzRm9yVHlwZSh0eXBlb2YgdmFsdWUpLmluY2x1ZGVzKGNvbXBhcmF0b3IpKSB0aHJvdyBuZXcgRXJyb3IoYCcke2NvbXBhcmF0b3J9JyBjb21wYXJhdG9yIG5vdCBhbGxvd2VkIHRvIGJlIHVzZWQgd2l0aCAke3R5cGVvZiB2YWx1ZX1gKTtcblx0XHRcdGNvbnN0IGNvbXBhcmF0b3JGdW5jdGlvbiA9IHRoaXMuZ2V0Q29tcGFyYXRvckZ1bmN0aW9uKGNvbXBhcmF0b3IpO1xuXHRcdFx0cmV0dXJuIChkb2N1bWVudCkgPT4ge1xuXHRcdFx0XHRjb25zdCBkb2N1bWVudFZhbHVlID0gZG9jdW1lbnQubWV0YWRhdGFbYXR0cmlidXRlXTtcblx0XHRcdFx0aWYgKGRvY3VtZW50VmFsdWUgPT09IHZvaWQgMCkge1xuXHRcdFx0XHRcdGlmICh1bmRlZmluZWRUcnVlLmluY2x1ZGVzKGNvbXBhcmF0b3IpKSByZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIGNvbXBhcmF0b3JGdW5jdGlvbihkb2N1bWVudFZhbHVlLCBjYXN0VmFsdWUodmFsdWUpKTtcblx0XHRcdH07XG5cdFx0fSBlbHNlIHRocm93IG5ldyBFcnJvcihcIkNvbXBhcmF0b3Igbm90IGFsbG93ZWRcIik7XG5cdH1cblx0LyoqXG5cdCogVmlzaXRzIGEgc3RydWN0dXJlZCBxdWVyeSBhbmQgdHJhbnNsYXRlcyBpdCBpbnRvIGEgZnVuY3Rpb25hbCBmaWx0ZXIuXG5cdCogQHBhcmFtIHF1ZXJ5IFRoZSBzdHJ1Y3R1cmVkIHF1ZXJ5IHRvIHRyYW5zbGF0ZS5cblx0KiBAcmV0dXJucyBBbiBvYmplY3QgY29udGFpbmluZyBhIGBmaWx0ZXJgIHByb3BlcnR5LCB3aGljaCBpcyBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSBgRG9jdW1lbnRgIGFzIGFuIGFyZ3VtZW50IGFuZCByZXR1cm5zIGEgYm9vbGVhbiBiYXNlZCBvbiB0aGUgc3RydWN0dXJlZCBxdWVyeS5cblx0Ki9cblx0dmlzaXRTdHJ1Y3R1cmVkUXVlcnkocXVlcnkpIHtcblx0XHRpZiAoIXF1ZXJ5LmZpbHRlcikgcmV0dXJuIHt9O1xuXHRcdGNvbnN0IGZpbHRlckZ1bmN0aW9uID0gcXVlcnkuZmlsdGVyPy5hY2NlcHQodGhpcyk7XG5cdFx0aWYgKHR5cGVvZiBmaWx0ZXJGdW5jdGlvbiAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgRXJyb3IoXCJTdHJ1Y3R1cmVkIHF1ZXJ5IGZpbHRlciBpcyBub3QgYSBmdW5jdGlvblwiKTtcblx0XHRyZXR1cm4geyBmaWx0ZXI6IGZpbHRlckZ1bmN0aW9uIH07XG5cdH1cblx0LyoqXG5cdCogTWVyZ2VzIHR3byBmaWx0ZXJzIGludG8gb25lLCBiYXNlZCBvbiB0aGUgc3BlY2lmaWVkIG1lcmdlIHR5cGUuXG5cdCogQHBhcmFtIGRlZmF1bHRGaWx0ZXIgVGhlIGRlZmF1bHQgZmlsdGVyIGZ1bmN0aW9uLlxuXHQqIEBwYXJhbSBnZW5lcmF0ZWRGaWx0ZXIgVGhlIGdlbmVyYXRlZCBmaWx0ZXIgZnVuY3Rpb24uXG5cdCogQHBhcmFtIG1lcmdlVHlwZSBUaGUgdHlwZSBvZiBtZXJnZSB0byBwZXJmb3JtLiBDYW4gYmUgJ2FuZCcsICdvcicsIG9yICdyZXBsYWNlJy4gRGVmYXVsdCBpcyAnYW5kJy5cblx0KiBAcmV0dXJucyBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSBgRG9jdW1lbnRgIGFzIGFuIGFyZ3VtZW50IGFuZCByZXR1cm5zIGEgYm9vbGVhbiBiYXNlZCBvbiB0aGUgbWVyZ2VkIGZpbHRlcnMsIG9yIGB1bmRlZmluZWRgIGlmIGJvdGggZmlsdGVycyBhcmUgZW1wdHkuXG5cdCovXG5cdG1lcmdlRmlsdGVycyhkZWZhdWx0RmlsdGVyLCBnZW5lcmF0ZWRGaWx0ZXIsIG1lcmdlVHlwZSA9IFwiYW5kXCIpIHtcblx0XHRpZiAoaXNGaWx0ZXJFbXB0eShkZWZhdWx0RmlsdGVyKSAmJiBpc0ZpbHRlckVtcHR5KGdlbmVyYXRlZEZpbHRlcikpIHJldHVybiB2b2lkIDA7XG5cdFx0aWYgKGlzRmlsdGVyRW1wdHkoZGVmYXVsdEZpbHRlcikgfHwgbWVyZ2VUeXBlID09PSBcInJlcGxhY2VcIikge1xuXHRcdFx0aWYgKGlzRmlsdGVyRW1wdHkoZ2VuZXJhdGVkRmlsdGVyKSkgcmV0dXJuIHZvaWQgMDtcblx0XHRcdHJldHVybiBnZW5lcmF0ZWRGaWx0ZXI7XG5cdFx0fVxuXHRcdGlmIChpc0ZpbHRlckVtcHR5KGdlbmVyYXRlZEZpbHRlcikpIHtcblx0XHRcdGlmIChtZXJnZVR5cGUgPT09IFwiYW5kXCIpIHJldHVybiB2b2lkIDA7XG5cdFx0XHRyZXR1cm4gZGVmYXVsdEZpbHRlcjtcblx0XHR9XG5cdFx0aWYgKG1lcmdlVHlwZSA9PT0gXCJhbmRcIikgcmV0dXJuIChkb2N1bWVudCkgPT4gZGVmYXVsdEZpbHRlcihkb2N1bWVudCkgJiYgZ2VuZXJhdGVkRmlsdGVyKGRvY3VtZW50KTtcblx0XHRlbHNlIGlmIChtZXJnZVR5cGUgPT09IFwib3JcIikgcmV0dXJuIChkb2N1bWVudCkgPT4gZGVmYXVsdEZpbHRlcihkb2N1bWVudCkgfHwgZ2VuZXJhdGVkRmlsdGVyKGRvY3VtZW50KTtcblx0XHRlbHNlIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gbWVyZ2UgdHlwZVwiKTtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBGdW5jdGlvbmFsVHJhbnNsYXRvciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnVuY3Rpb25hbC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/structured_query/functional.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/structured_query/index.js":
/*!**************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/structured_query/index.js ***!
  \**************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseTranslator: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_3__.BaseTranslator),\n/* harmony export */   BasicTranslator: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_3__.BasicTranslator),\n/* harmony export */   Comparators: () => (/* reexport safe */ _ir_js__WEBPACK_IMPORTED_MODULE_1__.Comparators),\n/* harmony export */   Comparison: () => (/* reexport safe */ _ir_js__WEBPACK_IMPORTED_MODULE_1__.Comparison),\n/* harmony export */   Expression: () => (/* reexport safe */ _ir_js__WEBPACK_IMPORTED_MODULE_1__.Expression),\n/* harmony export */   FilterDirective: () => (/* reexport safe */ _ir_js__WEBPACK_IMPORTED_MODULE_1__.FilterDirective),\n/* harmony export */   FunctionalTranslator: () => (/* reexport safe */ _functional_js__WEBPACK_IMPORTED_MODULE_4__.FunctionalTranslator),\n/* harmony export */   Operation: () => (/* reexport safe */ _ir_js__WEBPACK_IMPORTED_MODULE_1__.Operation),\n/* harmony export */   Operators: () => (/* reexport safe */ _ir_js__WEBPACK_IMPORTED_MODULE_1__.Operators),\n/* harmony export */   StructuredQuery: () => (/* reexport safe */ _ir_js__WEBPACK_IMPORTED_MODULE_1__.StructuredQuery),\n/* harmony export */   Visitor: () => (/* reexport safe */ _ir_js__WEBPACK_IMPORTED_MODULE_1__.Visitor),\n/* harmony export */   castValue: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_2__.castValue),\n/* harmony export */   isBoolean: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_2__.isBoolean),\n/* harmony export */   isFilterEmpty: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_2__.isFilterEmpty),\n/* harmony export */   isFloat: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_2__.isFloat),\n/* harmony export */   isInt: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_2__.isInt),\n/* harmony export */   isObject: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_2__.isObject),\n/* harmony export */   isString: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_2__.isString),\n/* harmony export */   structured_query_exports: () => (/* binding */ structured_query_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _ir_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ir.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/structured_query/ir.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/structured_query/utils.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/structured_query/base.js\");\n/* harmony import */ var _functional_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./functional.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/structured_query/functional.js\");\n\n\n\n\n\n\n//#region src/structured_query/index.ts\nvar structured_query_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(structured_query_exports, {\n\tBaseTranslator: () => _base_js__WEBPACK_IMPORTED_MODULE_3__.BaseTranslator,\n\tBasicTranslator: () => _base_js__WEBPACK_IMPORTED_MODULE_3__.BasicTranslator,\n\tComparators: () => _ir_js__WEBPACK_IMPORTED_MODULE_1__.Comparators,\n\tComparison: () => _ir_js__WEBPACK_IMPORTED_MODULE_1__.Comparison,\n\tExpression: () => _ir_js__WEBPACK_IMPORTED_MODULE_1__.Expression,\n\tFilterDirective: () => _ir_js__WEBPACK_IMPORTED_MODULE_1__.FilterDirective,\n\tFunctionalTranslator: () => _functional_js__WEBPACK_IMPORTED_MODULE_4__.FunctionalTranslator,\n\tOperation: () => _ir_js__WEBPACK_IMPORTED_MODULE_1__.Operation,\n\tOperators: () => _ir_js__WEBPACK_IMPORTED_MODULE_1__.Operators,\n\tStructuredQuery: () => _ir_js__WEBPACK_IMPORTED_MODULE_1__.StructuredQuery,\n\tVisitor: () => _ir_js__WEBPACK_IMPORTED_MODULE_1__.Visitor,\n\tcastValue: () => _utils_js__WEBPACK_IMPORTED_MODULE_2__.castValue,\n\tisBoolean: () => _utils_js__WEBPACK_IMPORTED_MODULE_2__.isBoolean,\n\tisFilterEmpty: () => _utils_js__WEBPACK_IMPORTED_MODULE_2__.isFilterEmpty,\n\tisFloat: () => _utils_js__WEBPACK_IMPORTED_MODULE_2__.isFloat,\n\tisInt: () => _utils_js__WEBPACK_IMPORTED_MODULE_2__.isInt,\n\tisObject: () => _utils_js__WEBPACK_IMPORTED_MODULE_2__.isObject,\n\tisString: () => _utils_js__WEBPACK_IMPORTED_MODULE_2__.isString\n});\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9zdHJ1Y3R1cmVkX3F1ZXJ5L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEyRDtBQUNvRTtBQUMxQjtBQUN6QztBQUNMOztBQUV2RDtBQUNBO0FBQ0Esc0VBQVE7QUFDUix1QkFBdUIsb0RBQWM7QUFDckMsd0JBQXdCLHFEQUFlO0FBQ3ZDLG9CQUFvQiwrQ0FBVztBQUMvQixtQkFBbUIsOENBQVU7QUFDN0IsbUJBQW1CLDhDQUFVO0FBQzdCLHdCQUF3QixtREFBZTtBQUN2Qyw2QkFBNkIsZ0VBQW9CO0FBQ2pELGtCQUFrQiw2Q0FBUztBQUMzQixrQkFBa0IsNkNBQVM7QUFDM0Isd0JBQXdCLG1EQUFlO0FBQ3ZDLGdCQUFnQiwyQ0FBTztBQUN2QixrQkFBa0IsZ0RBQVM7QUFDM0Isa0JBQWtCLGdEQUFTO0FBQzNCLHNCQUFzQixvREFBYTtBQUNuQyxnQkFBZ0IsOENBQU87QUFDdkIsY0FBYyw0Q0FBSztBQUNuQixpQkFBaUIsK0NBQVE7QUFDekIsaUJBQWlCLCtDQUFRO0FBQ3pCLENBQUM7O0FBRUQ7QUFDMFE7QUFDMVEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3N0cnVjdHVyZWRfcXVlcnkvaW5kZXguanM/ZTAzZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2V4cG9ydCB9IGZyb20gXCIuLi9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmpzXCI7XG5pbXBvcnQgeyBDb21wYXJhdG9ycywgQ29tcGFyaXNvbiwgRXhwcmVzc2lvbiwgRmlsdGVyRGlyZWN0aXZlLCBPcGVyYXRpb24sIE9wZXJhdG9ycywgU3RydWN0dXJlZFF1ZXJ5LCBWaXNpdG9yIH0gZnJvbSBcIi4vaXIuanNcIjtcbmltcG9ydCB7IGNhc3RWYWx1ZSwgaXNCb29sZWFuLCBpc0ZpbHRlckVtcHR5LCBpc0Zsb2F0LCBpc0ludCwgaXNPYmplY3QsIGlzU3RyaW5nIH0gZnJvbSBcIi4vdXRpbHMuanNcIjtcbmltcG9ydCB7IEJhc2VUcmFuc2xhdG9yLCBCYXNpY1RyYW5zbGF0b3IgfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5pbXBvcnQgeyBGdW5jdGlvbmFsVHJhbnNsYXRvciB9IGZyb20gXCIuL2Z1bmN0aW9uYWwuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9zdHJ1Y3R1cmVkX3F1ZXJ5L2luZGV4LnRzXG52YXIgc3RydWN0dXJlZF9xdWVyeV9leHBvcnRzID0ge307XG5fX2V4cG9ydChzdHJ1Y3R1cmVkX3F1ZXJ5X2V4cG9ydHMsIHtcblx0QmFzZVRyYW5zbGF0b3I6ICgpID0+IEJhc2VUcmFuc2xhdG9yLFxuXHRCYXNpY1RyYW5zbGF0b3I6ICgpID0+IEJhc2ljVHJhbnNsYXRvcixcblx0Q29tcGFyYXRvcnM6ICgpID0+IENvbXBhcmF0b3JzLFxuXHRDb21wYXJpc29uOiAoKSA9PiBDb21wYXJpc29uLFxuXHRFeHByZXNzaW9uOiAoKSA9PiBFeHByZXNzaW9uLFxuXHRGaWx0ZXJEaXJlY3RpdmU6ICgpID0+IEZpbHRlckRpcmVjdGl2ZSxcblx0RnVuY3Rpb25hbFRyYW5zbGF0b3I6ICgpID0+IEZ1bmN0aW9uYWxUcmFuc2xhdG9yLFxuXHRPcGVyYXRpb246ICgpID0+IE9wZXJhdGlvbixcblx0T3BlcmF0b3JzOiAoKSA9PiBPcGVyYXRvcnMsXG5cdFN0cnVjdHVyZWRRdWVyeTogKCkgPT4gU3RydWN0dXJlZFF1ZXJ5LFxuXHRWaXNpdG9yOiAoKSA9PiBWaXNpdG9yLFxuXHRjYXN0VmFsdWU6ICgpID0+IGNhc3RWYWx1ZSxcblx0aXNCb29sZWFuOiAoKSA9PiBpc0Jvb2xlYW4sXG5cdGlzRmlsdGVyRW1wdHk6ICgpID0+IGlzRmlsdGVyRW1wdHksXG5cdGlzRmxvYXQ6ICgpID0+IGlzRmxvYXQsXG5cdGlzSW50OiAoKSA9PiBpc0ludCxcblx0aXNPYmplY3Q6ICgpID0+IGlzT2JqZWN0LFxuXHRpc1N0cmluZzogKCkgPT4gaXNTdHJpbmdcbn0pO1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEJhc2VUcmFuc2xhdG9yLCBCYXNpY1RyYW5zbGF0b3IsIENvbXBhcmF0b3JzLCBDb21wYXJpc29uLCBFeHByZXNzaW9uLCBGaWx0ZXJEaXJlY3RpdmUsIEZ1bmN0aW9uYWxUcmFuc2xhdG9yLCBPcGVyYXRpb24sIE9wZXJhdG9ycywgU3RydWN0dXJlZFF1ZXJ5LCBWaXNpdG9yLCBjYXN0VmFsdWUsIGlzQm9vbGVhbiwgaXNGaWx0ZXJFbXB0eSwgaXNGbG9hdCwgaXNJbnQsIGlzT2JqZWN0LCBpc1N0cmluZywgc3RydWN0dXJlZF9xdWVyeV9leHBvcnRzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/structured_query/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/structured_query/ir.js":
/*!***********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/structured_query/ir.js ***!
  \***********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Comparators: () => (/* binding */ Comparators),\n/* harmony export */   Comparison: () => (/* binding */ Comparison),\n/* harmony export */   Expression: () => (/* binding */ Expression),\n/* harmony export */   FilterDirective: () => (/* binding */ FilterDirective),\n/* harmony export */   Operation: () => (/* binding */ Operation),\n/* harmony export */   Operators: () => (/* binding */ Operators),\n/* harmony export */   StructuredQuery: () => (/* binding */ StructuredQuery),\n/* harmony export */   Visitor: () => (/* binding */ Visitor)\n/* harmony export */ });\n//#region src/structured_query/ir.ts\nconst Operators = {\n\tand: \"and\",\n\tor: \"or\",\n\tnot: \"not\"\n};\nconst Comparators = {\n\teq: \"eq\",\n\tne: \"ne\",\n\tlt: \"lt\",\n\tgt: \"gt\",\n\tlte: \"lte\",\n\tgte: \"gte\"\n};\n/**\n* Abstract class for visiting expressions. Subclasses must implement\n* visitOperation, visitComparison, and visitStructuredQuery methods.\n*/\nvar Visitor = class {};\n/**\n* Abstract class representing an expression. Subclasses must implement\n* the exprName property and the accept method.\n*/\nvar Expression = class {\n\taccept(visitor) {\n\t\tif (this.exprName === \"Operation\") return visitor.visitOperation(this);\n\t\telse if (this.exprName === \"Comparison\") return visitor.visitComparison(this);\n\t\telse if (this.exprName === \"StructuredQuery\") return visitor.visitStructuredQuery(this);\n\t\telse throw new Error(\"Unknown Expression type\");\n\t}\n};\n/**\n* Abstract class representing a filter directive. It extends the\n* Expression class.\n*/\nvar FilterDirective = class extends Expression {};\n/**\n* Class representing a comparison filter directive. It extends the\n* FilterDirective class.\n*/\nvar Comparison = class extends FilterDirective {\n\texprName = \"Comparison\";\n\tconstructor(comparator, attribute, value) {\n\t\tsuper();\n\t\tthis.comparator = comparator;\n\t\tthis.attribute = attribute;\n\t\tthis.value = value;\n\t}\n};\n/**\n* Class representing an operation filter directive. It extends the\n* FilterDirective class.\n*/\nvar Operation = class extends FilterDirective {\n\texprName = \"Operation\";\n\tconstructor(operator, args) {\n\t\tsuper();\n\t\tthis.operator = operator;\n\t\tthis.args = args;\n\t}\n};\n/**\n* Class representing a structured query expression. It extends the\n* Expression class.\n*/\nvar StructuredQuery = class extends Expression {\n\texprName = \"StructuredQuery\";\n\tconstructor(query, filter) {\n\t\tsuper();\n\t\tthis.query = query;\n\t\tthis.filter = filter;\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=ir.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9zdHJ1Y3R1cmVkX3F1ZXJ5L2lyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDZ0g7QUFDaEgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3N0cnVjdHVyZWRfcXVlcnkvaXIuanM/MjMxYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyNyZWdpb24gc3JjL3N0cnVjdHVyZWRfcXVlcnkvaXIudHNcbmNvbnN0IE9wZXJhdG9ycyA9IHtcblx0YW5kOiBcImFuZFwiLFxuXHRvcjogXCJvclwiLFxuXHRub3Q6IFwibm90XCJcbn07XG5jb25zdCBDb21wYXJhdG9ycyA9IHtcblx0ZXE6IFwiZXFcIixcblx0bmU6IFwibmVcIixcblx0bHQ6IFwibHRcIixcblx0Z3Q6IFwiZ3RcIixcblx0bHRlOiBcImx0ZVwiLFxuXHRndGU6IFwiZ3RlXCJcbn07XG4vKipcbiogQWJzdHJhY3QgY2xhc3MgZm9yIHZpc2l0aW5nIGV4cHJlc3Npb25zLiBTdWJjbGFzc2VzIG11c3QgaW1wbGVtZW50XG4qIHZpc2l0T3BlcmF0aW9uLCB2aXNpdENvbXBhcmlzb24sIGFuZCB2aXNpdFN0cnVjdHVyZWRRdWVyeSBtZXRob2RzLlxuKi9cbnZhciBWaXNpdG9yID0gY2xhc3Mge307XG4vKipcbiogQWJzdHJhY3QgY2xhc3MgcmVwcmVzZW50aW5nIGFuIGV4cHJlc3Npb24uIFN1YmNsYXNzZXMgbXVzdCBpbXBsZW1lbnRcbiogdGhlIGV4cHJOYW1lIHByb3BlcnR5IGFuZCB0aGUgYWNjZXB0IG1ldGhvZC5cbiovXG52YXIgRXhwcmVzc2lvbiA9IGNsYXNzIHtcblx0YWNjZXB0KHZpc2l0b3IpIHtcblx0XHRpZiAodGhpcy5leHByTmFtZSA9PT0gXCJPcGVyYXRpb25cIikgcmV0dXJuIHZpc2l0b3IudmlzaXRPcGVyYXRpb24odGhpcyk7XG5cdFx0ZWxzZSBpZiAodGhpcy5leHByTmFtZSA9PT0gXCJDb21wYXJpc29uXCIpIHJldHVybiB2aXNpdG9yLnZpc2l0Q29tcGFyaXNvbih0aGlzKTtcblx0XHRlbHNlIGlmICh0aGlzLmV4cHJOYW1lID09PSBcIlN0cnVjdHVyZWRRdWVyeVwiKSByZXR1cm4gdmlzaXRvci52aXNpdFN0cnVjdHVyZWRRdWVyeSh0aGlzKTtcblx0XHRlbHNlIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gRXhwcmVzc2lvbiB0eXBlXCIpO1xuXHR9XG59O1xuLyoqXG4qIEFic3RyYWN0IGNsYXNzIHJlcHJlc2VudGluZyBhIGZpbHRlciBkaXJlY3RpdmUuIEl0IGV4dGVuZHMgdGhlXG4qIEV4cHJlc3Npb24gY2xhc3MuXG4qL1xudmFyIEZpbHRlckRpcmVjdGl2ZSA9IGNsYXNzIGV4dGVuZHMgRXhwcmVzc2lvbiB7fTtcbi8qKlxuKiBDbGFzcyByZXByZXNlbnRpbmcgYSBjb21wYXJpc29uIGZpbHRlciBkaXJlY3RpdmUuIEl0IGV4dGVuZHMgdGhlXG4qIEZpbHRlckRpcmVjdGl2ZSBjbGFzcy5cbiovXG52YXIgQ29tcGFyaXNvbiA9IGNsYXNzIGV4dGVuZHMgRmlsdGVyRGlyZWN0aXZlIHtcblx0ZXhwck5hbWUgPSBcIkNvbXBhcmlzb25cIjtcblx0Y29uc3RydWN0b3IoY29tcGFyYXRvciwgYXR0cmlidXRlLCB2YWx1ZSkge1xuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy5jb21wYXJhdG9yID0gY29tcGFyYXRvcjtcblx0XHR0aGlzLmF0dHJpYnV0ZSA9IGF0dHJpYnV0ZTtcblx0XHR0aGlzLnZhbHVlID0gdmFsdWU7XG5cdH1cbn07XG4vKipcbiogQ2xhc3MgcmVwcmVzZW50aW5nIGFuIG9wZXJhdGlvbiBmaWx0ZXIgZGlyZWN0aXZlLiBJdCBleHRlbmRzIHRoZVxuKiBGaWx0ZXJEaXJlY3RpdmUgY2xhc3MuXG4qL1xudmFyIE9wZXJhdGlvbiA9IGNsYXNzIGV4dGVuZHMgRmlsdGVyRGlyZWN0aXZlIHtcblx0ZXhwck5hbWUgPSBcIk9wZXJhdGlvblwiO1xuXHRjb25zdHJ1Y3RvcihvcGVyYXRvciwgYXJncykge1xuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy5vcGVyYXRvciA9IG9wZXJhdG9yO1xuXHRcdHRoaXMuYXJncyA9IGFyZ3M7XG5cdH1cbn07XG4vKipcbiogQ2xhc3MgcmVwcmVzZW50aW5nIGEgc3RydWN0dXJlZCBxdWVyeSBleHByZXNzaW9uLiBJdCBleHRlbmRzIHRoZVxuKiBFeHByZXNzaW9uIGNsYXNzLlxuKi9cbnZhciBTdHJ1Y3R1cmVkUXVlcnkgPSBjbGFzcyBleHRlbmRzIEV4cHJlc3Npb24ge1xuXHRleHByTmFtZSA9IFwiU3RydWN0dXJlZFF1ZXJ5XCI7XG5cdGNvbnN0cnVjdG9yKHF1ZXJ5LCBmaWx0ZXIpIHtcblx0XHRzdXBlcigpO1xuXHRcdHRoaXMucXVlcnkgPSBxdWVyeTtcblx0XHR0aGlzLmZpbHRlciA9IGZpbHRlcjtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBDb21wYXJhdG9ycywgQ29tcGFyaXNvbiwgRXhwcmVzc2lvbiwgRmlsdGVyRGlyZWN0aXZlLCBPcGVyYXRpb24sIE9wZXJhdG9ycywgU3RydWN0dXJlZFF1ZXJ5LCBWaXNpdG9yIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/structured_query/ir.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/structured_query/utils.js":
/*!**************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/structured_query/utils.js ***!
  \**************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   castValue: () => (/* binding */ castValue),\n/* harmony export */   isBoolean: () => (/* binding */ isBoolean),\n/* harmony export */   isFilterEmpty: () => (/* binding */ isFilterEmpty),\n/* harmony export */   isFloat: () => (/* binding */ isFloat),\n/* harmony export */   isInt: () => (/* binding */ isInt),\n/* harmony export */   isObject: () => (/* binding */ isObject),\n/* harmony export */   isString: () => (/* binding */ isString)\n/* harmony export */ });\n//#region src/structured_query/utils.ts\n/**\n* Checks if the provided argument is an object and not an array.\n*/\nfunction isObject(obj) {\n\treturn obj && typeof obj === \"object\" && !Array.isArray(obj);\n}\n/**\n* Checks if a provided filter is empty. The filter can be a function, an\n* object, a string, or undefined.\n*/\nfunction isFilterEmpty(filter) {\n\tif (!filter) return true;\n\tif (typeof filter === \"string\" && filter.length > 0) return false;\n\tif (typeof filter === \"function\") return false;\n\treturn isObject(filter) && Object.keys(filter).length === 0;\n}\n/**\n* Checks if the provided value is an integer.\n*/\nfunction isInt(value) {\n\tif (typeof value === \"number\") return value % 1 === 0;\n\telse if (typeof value === \"string\") {\n\t\tconst numberValue = parseInt(value, 10);\n\t\treturn !Number.isNaN(numberValue) && numberValue % 1 === 0 && numberValue.toString() === value;\n\t}\n\treturn false;\n}\n/**\n* Checks if the provided value is a floating-point number.\n*/\nfunction isFloat(value) {\n\tif (typeof value === \"number\") return value % 1 !== 0;\n\telse if (typeof value === \"string\") {\n\t\tconst numberValue = parseFloat(value);\n\t\treturn !Number.isNaN(numberValue) && numberValue % 1 !== 0 && numberValue.toString() === value;\n\t}\n\treturn false;\n}\n/**\n* Checks if the provided value is a string that cannot be parsed into a\n* number.\n*/\nfunction isString(value) {\n\treturn typeof value === \"string\" && (Number.isNaN(parseFloat(value)) || parseFloat(value).toString() !== value);\n}\n/**\n* Checks if the provided value is a boolean.\n*/\nfunction isBoolean(value) {\n\treturn typeof value === \"boolean\";\n}\n/**\n* Casts a value that might be string or number to actual string or number.\n* Since LLM might return back an integer/float as a string, we need to cast\n* it back to a number, as many vector databases can't handle number as string\n* values as a comparator.\n*/\nfunction castValue(input) {\n\tlet value;\n\tif (isString(input)) value = input;\n\telse if (isInt(input)) value = parseInt(input, 10);\n\telse if (isFloat(input)) value = parseFloat(input);\n\telse if (isBoolean(input)) value = Boolean(input);\n\telse throw new Error(\"Unsupported value type\");\n\treturn value;\n}\n\n//#endregion\n\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9zdHJ1Y3R1cmVkX3F1ZXJ5L3V0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNtRjtBQUNuRiIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3Qvc3RydWN0dXJlZF9xdWVyeS91dGlscy5qcz9kOGFhIl0sInNvdXJjZXNDb250ZW50IjpbIi8vI3JlZ2lvbiBzcmMvc3RydWN0dXJlZF9xdWVyeS91dGlscy50c1xuLyoqXG4qIENoZWNrcyBpZiB0aGUgcHJvdmlkZWQgYXJndW1lbnQgaXMgYW4gb2JqZWN0IGFuZCBub3QgYW4gYXJyYXkuXG4qL1xuZnVuY3Rpb24gaXNPYmplY3Qob2JqKSB7XG5cdHJldHVybiBvYmogJiYgdHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIiAmJiAhQXJyYXkuaXNBcnJheShvYmopO1xufVxuLyoqXG4qIENoZWNrcyBpZiBhIHByb3ZpZGVkIGZpbHRlciBpcyBlbXB0eS4gVGhlIGZpbHRlciBjYW4gYmUgYSBmdW5jdGlvbiwgYW5cbiogb2JqZWN0LCBhIHN0cmluZywgb3IgdW5kZWZpbmVkLlxuKi9cbmZ1bmN0aW9uIGlzRmlsdGVyRW1wdHkoZmlsdGVyKSB7XG5cdGlmICghZmlsdGVyKSByZXR1cm4gdHJ1ZTtcblx0aWYgKHR5cGVvZiBmaWx0ZXIgPT09IFwic3RyaW5nXCIgJiYgZmlsdGVyLmxlbmd0aCA+IDApIHJldHVybiBmYWxzZTtcblx0aWYgKHR5cGVvZiBmaWx0ZXIgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIGZhbHNlO1xuXHRyZXR1cm4gaXNPYmplY3QoZmlsdGVyKSAmJiBPYmplY3Qua2V5cyhmaWx0ZXIpLmxlbmd0aCA9PT0gMDtcbn1cbi8qKlxuKiBDaGVja3MgaWYgdGhlIHByb3ZpZGVkIHZhbHVlIGlzIGFuIGludGVnZXIuXG4qL1xuZnVuY3Rpb24gaXNJbnQodmFsdWUpIHtcblx0aWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHZhbHVlICUgMSA9PT0gMDtcblx0ZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG5cdFx0Y29uc3QgbnVtYmVyVmFsdWUgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuXHRcdHJldHVybiAhTnVtYmVyLmlzTmFOKG51bWJlclZhbHVlKSAmJiBudW1iZXJWYWx1ZSAlIDEgPT09IDAgJiYgbnVtYmVyVmFsdWUudG9TdHJpbmcoKSA9PT0gdmFsdWU7XG5cdH1cblx0cmV0dXJuIGZhbHNlO1xufVxuLyoqXG4qIENoZWNrcyBpZiB0aGUgcHJvdmlkZWQgdmFsdWUgaXMgYSBmbG9hdGluZy1wb2ludCBudW1iZXIuXG4qL1xuZnVuY3Rpb24gaXNGbG9hdCh2YWx1ZSkge1xuXHRpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSByZXR1cm4gdmFsdWUgJSAxICE9PSAwO1xuXHRlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcblx0XHRjb25zdCBudW1iZXJWYWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpO1xuXHRcdHJldHVybiAhTnVtYmVyLmlzTmFOKG51bWJlclZhbHVlKSAmJiBudW1iZXJWYWx1ZSAlIDEgIT09IDAgJiYgbnVtYmVyVmFsdWUudG9TdHJpbmcoKSA9PT0gdmFsdWU7XG5cdH1cblx0cmV0dXJuIGZhbHNlO1xufVxuLyoqXG4qIENoZWNrcyBpZiB0aGUgcHJvdmlkZWQgdmFsdWUgaXMgYSBzdHJpbmcgdGhhdCBjYW5ub3QgYmUgcGFyc2VkIGludG8gYVxuKiBudW1iZXIuXG4qL1xuZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpIHtcblx0cmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiAoTnVtYmVyLmlzTmFOKHBhcnNlRmxvYXQodmFsdWUpKSB8fCBwYXJzZUZsb2F0KHZhbHVlKS50b1N0cmluZygpICE9PSB2YWx1ZSk7XG59XG4vKipcbiogQ2hlY2tzIGlmIHRoZSBwcm92aWRlZCB2YWx1ZSBpcyBhIGJvb2xlYW4uXG4qL1xuZnVuY3Rpb24gaXNCb29sZWFuKHZhbHVlKSB7XG5cdHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwiYm9vbGVhblwiO1xufVxuLyoqXG4qIENhc3RzIGEgdmFsdWUgdGhhdCBtaWdodCBiZSBzdHJpbmcgb3IgbnVtYmVyIHRvIGFjdHVhbCBzdHJpbmcgb3IgbnVtYmVyLlxuKiBTaW5jZSBMTE0gbWlnaHQgcmV0dXJuIGJhY2sgYW4gaW50ZWdlci9mbG9hdCBhcyBhIHN0cmluZywgd2UgbmVlZCB0byBjYXN0XG4qIGl0IGJhY2sgdG8gYSBudW1iZXIsIGFzIG1hbnkgdmVjdG9yIGRhdGFiYXNlcyBjYW4ndCBoYW5kbGUgbnVtYmVyIGFzIHN0cmluZ1xuKiB2YWx1ZXMgYXMgYSBjb21wYXJhdG9yLlxuKi9cbmZ1bmN0aW9uIGNhc3RWYWx1ZShpbnB1dCkge1xuXHRsZXQgdmFsdWU7XG5cdGlmIChpc1N0cmluZyhpbnB1dCkpIHZhbHVlID0gaW5wdXQ7XG5cdGVsc2UgaWYgKGlzSW50KGlucHV0KSkgdmFsdWUgPSBwYXJzZUludChpbnB1dCwgMTApO1xuXHRlbHNlIGlmIChpc0Zsb2F0KGlucHV0KSkgdmFsdWUgPSBwYXJzZUZsb2F0KGlucHV0KTtcblx0ZWxzZSBpZiAoaXNCb29sZWFuKGlucHV0KSkgdmFsdWUgPSBCb29sZWFuKGlucHV0KTtcblx0ZWxzZSB0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCB2YWx1ZSB0eXBlXCIpO1xuXHRyZXR1cm4gdmFsdWU7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgY2FzdFZhbHVlLCBpc0Jvb2xlYW4sIGlzRmlsdGVyRW1wdHksIGlzRmxvYXQsIGlzSW50LCBpc09iamVjdCwgaXNTdHJpbmcgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/structured_query/utils.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tools/index.js":
/*!***************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tools/index.js ***!
  \***************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseToolkit: () => (/* binding */ BaseToolkit),\n/* harmony export */   DynamicStructuredTool: () => (/* binding */ DynamicStructuredTool),\n/* harmony export */   DynamicTool: () => (/* binding */ DynamicTool),\n/* harmony export */   StructuredTool: () => (/* binding */ StructuredTool),\n/* harmony export */   Tool: () => (/* binding */ Tool),\n/* harmony export */   ToolInputParsingException: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_2__.ToolInputParsingException),\n/* harmony export */   isLangChainTool: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_11__.isLangChainTool),\n/* harmony export */   isRunnableToolLike: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_11__.isRunnableToolLike),\n/* harmony export */   isStructuredTool: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_11__.isStructuredTool),\n/* harmony export */   isStructuredToolParams: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_11__.isStructuredToolParams),\n/* harmony export */   tool: () => (/* binding */ tool),\n/* harmony export */   tools_exports: () => (/* binding */ tools_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _messages_tool_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../messages/tool.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/tool.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tools/utils.js\");\n/* harmony import */ var _callbacks_manager_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../callbacks/manager.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/callbacks/manager.js\");\n/* harmony import */ var _singletons_async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../singletons/async_local_storage/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/async_local_storage/index.js\");\n/* harmony import */ var _singletons_index_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../singletons/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/index.js\");\n/* harmony import */ var _runnables_config_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../runnables/config.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/config.js\");\n/* harmony import */ var _utils_signal_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/signal.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/signal.js\");\n/* harmony import */ var _utils_types_zod_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/types/zod.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/types/zod.js\");\n/* harmony import */ var _utils_json_schema_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/json_schema.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/json_schema.js\");\n/* harmony import */ var _language_models_base_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../language_models/base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/language_models/base.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./types.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tools/types.js\");\n/* harmony import */ var zod_v3__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! zod/v3 */ \"(rsc)/./node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.js\");\n/* harmony import */ var _cfworker_json_schema__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @cfworker/json-schema */ \"(rsc)/./node_modules/.pnpm/@cfworker+json-schema@4.1.1/node_modules/@cfworker/json-schema/dist/esm/index.js\");\n/* harmony import */ var zod_v4__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! zod/v4 */ \"(rsc)/./node_modules/.pnpm/zod@3.25.76/node_modules/zod/v4/core/errors.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//#region src/tools/index.ts\nvar tools_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(tools_exports, {\n\tBaseToolkit: () => BaseToolkit,\n\tDynamicStructuredTool: () => DynamicStructuredTool,\n\tDynamicTool: () => DynamicTool,\n\tStructuredTool: () => StructuredTool,\n\tTool: () => Tool,\n\tToolInputParsingException: () => _utils_js__WEBPACK_IMPORTED_MODULE_2__.ToolInputParsingException,\n\tisLangChainTool: () => _types_js__WEBPACK_IMPORTED_MODULE_11__.isLangChainTool,\n\tisRunnableToolLike: () => _types_js__WEBPACK_IMPORTED_MODULE_11__.isRunnableToolLike,\n\tisStructuredTool: () => _types_js__WEBPACK_IMPORTED_MODULE_11__.isStructuredTool,\n\tisStructuredToolParams: () => _types_js__WEBPACK_IMPORTED_MODULE_11__.isStructuredToolParams,\n\ttool: () => tool\n});\n/**\n* Base class for Tools that accept input of any shape defined by a Zod schema.\n*/\nvar StructuredTool = class extends _language_models_base_js__WEBPACK_IMPORTED_MODULE_10__.BaseLangChain {\n\t/**\n\t* Whether to return the tool's output directly.\n\t*\n\t* Setting this to true means that after the tool is called,\n\t* an agent should stop looping.\n\t*/\n\treturnDirect = false;\n\tverboseParsingErrors = false;\n\tget lc_namespace() {\n\t\treturn [\"langchain\", \"tools\"];\n\t}\n\t/**\n\t* The tool response format.\n\t*\n\t* If \"content\" then the output of the tool is interpreted as the contents of a\n\t* ToolMessage. If \"content_and_artifact\" then the output is expected to be a\n\t* two-tuple corresponding to the (content, artifact) of a ToolMessage.\n\t*\n\t* @default \"content\"\n\t*/\n\tresponseFormat = \"content\";\n\t/**\n\t* Default config object for the tool runnable.\n\t*/\n\tdefaultConfig;\n\tconstructor(fields) {\n\t\tsuper(fields ?? {});\n\t\tthis.verboseParsingErrors = fields?.verboseParsingErrors ?? this.verboseParsingErrors;\n\t\tthis.responseFormat = fields?.responseFormat ?? this.responseFormat;\n\t\tthis.defaultConfig = fields?.defaultConfig ?? this.defaultConfig;\n\t\tthis.metadata = fields?.metadata ?? this.metadata;\n\t}\n\t/**\n\t* Invokes the tool with the provided input and configuration.\n\t* @param input The input for the tool.\n\t* @param config Optional configuration for the tool.\n\t* @returns A Promise that resolves with the tool's output.\n\t*/\n\tasync invoke(input, config) {\n\t\tlet toolInput;\n\t\tlet enrichedConfig = (0,_runnables_config_js__WEBPACK_IMPORTED_MODULE_6__.ensureConfig)((0,_runnables_config_js__WEBPACK_IMPORTED_MODULE_6__.mergeConfigs)(this.defaultConfig, config));\n\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__._isToolCall)(input)) {\n\t\t\ttoolInput = input.args;\n\t\t\tenrichedConfig = {\n\t\t\t\t...enrichedConfig,\n\t\t\t\ttoolCall: input\n\t\t\t};\n\t\t} else toolInput = input;\n\t\treturn this.call(toolInput, enrichedConfig);\n\t}\n\t/**\n\t* @deprecated Use .invoke() instead. Will be removed in 0.3.0.\n\t*\n\t* Calls the tool with the provided argument, configuration, and tags. It\n\t* parses the input according to the schema, handles any errors, and\n\t* manages callbacks.\n\t* @param arg The input argument for the tool.\n\t* @param configArg Optional configuration or callbacks for the tool.\n\t* @param tags Optional tags for the tool.\n\t* @returns A Promise that resolves with a string.\n\t*/\n\tasync call(arg, configArg, tags) {\n\t\tconst inputForValidation = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__._isToolCall)(arg) ? arg.args : arg;\n\t\tlet parsed;\n\t\tif ((0,_utils_types_zod_js__WEBPACK_IMPORTED_MODULE_8__.isInteropZodSchema)(this.schema)) try {\n\t\t\tparsed = await (0,_utils_types_zod_js__WEBPACK_IMPORTED_MODULE_8__.interopParseAsync)(this.schema, inputForValidation);\n\t\t} catch (e) {\n\t\t\tlet message = `Received tool input did not match expected schema`;\n\t\t\tif (this.verboseParsingErrors) message = `${message}\\nDetails: ${e.message}`;\n\t\t\tif (e instanceof Error && e.constructor.name === \"ZodError\") message = `${message}\\n\\n${zod_v4__WEBPACK_IMPORTED_MODULE_13__.prettifyError(e)}`;\n\t\t\tthrow new _utils_js__WEBPACK_IMPORTED_MODULE_2__.ToolInputParsingException(message, JSON.stringify(arg));\n\t\t}\n\t\telse {\n\t\t\tconst result$1 = (0,_cfworker_json_schema__WEBPACK_IMPORTED_MODULE_12__.validate)(inputForValidation, this.schema);\n\t\t\tif (!result$1.valid) {\n\t\t\t\tlet message = `Received tool input did not match expected schema`;\n\t\t\t\tif (this.verboseParsingErrors) message = `${message}\\nDetails: ${result$1.errors.map((e) => `${e.keywordLocation}: ${e.error}`).join(\"\\n\")}`;\n\t\t\t\tthrow new _utils_js__WEBPACK_IMPORTED_MODULE_2__.ToolInputParsingException(message, JSON.stringify(arg));\n\t\t\t}\n\t\t\tparsed = inputForValidation;\n\t\t}\n\t\tconst config = (0,_callbacks_manager_js__WEBPACK_IMPORTED_MODULE_3__.parseCallbackConfigArg)(configArg);\n\t\tconst callbackManager_ = _callbacks_manager_js__WEBPACK_IMPORTED_MODULE_3__.CallbackManager.configure(config.callbacks, this.callbacks, config.tags || tags, this.tags, config.metadata, this.metadata, { verbose: this.verbose });\n\t\tconst runManager = await callbackManager_?.handleToolStart(this.toJSON(), typeof arg === \"string\" ? arg : JSON.stringify(arg), config.runId, void 0, void 0, void 0, config.runName);\n\t\tdelete config.runId;\n\t\tlet result;\n\t\ttry {\n\t\t\tresult = await this._call(parsed, runManager, config);\n\t\t} catch (e) {\n\t\t\tawait runManager?.handleToolError(e);\n\t\t\tthrow e;\n\t\t}\n\t\tlet content;\n\t\tlet artifact;\n\t\tif (this.responseFormat === \"content_and_artifact\") if (Array.isArray(result) && result.length === 2) [content, artifact] = result;\n\t\telse throw new Error(`Tool response format is \"content_and_artifact\" but the output was not a two-tuple.\\nResult: ${JSON.stringify(result)}`);\n\t\telse content = result;\n\t\tlet toolCallId;\n\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__._isToolCall)(arg)) toolCallId = arg.id;\n\t\tif (!toolCallId && (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__._configHasToolCallId)(config)) toolCallId = config.toolCall.id;\n\t\tconst formattedOutput = _formatToolOutput({\n\t\t\tcontent,\n\t\t\tartifact,\n\t\t\ttoolCallId,\n\t\t\tname: this.name,\n\t\t\tmetadata: this.metadata\n\t\t});\n\t\tawait runManager?.handleToolEnd(formattedOutput);\n\t\treturn formattedOutput;\n\t}\n};\n/**\n* Base class for Tools that accept input as a string.\n*/\nvar Tool = class extends StructuredTool {\n\tschema = zod_v3__WEBPACK_IMPORTED_MODULE_14__.object({ input: zod_v3__WEBPACK_IMPORTED_MODULE_14__.string().optional() }).transform((obj) => obj.input);\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t}\n\t/**\n\t* @deprecated Use .invoke() instead. Will be removed in 0.3.0.\n\t*\n\t* Calls the tool with the provided argument and callbacks. It handles\n\t* string inputs specifically.\n\t* @param arg The input argument for the tool, which can be a string, undefined, or an input of the tool's schema.\n\t* @param callbacks Optional callbacks for the tool.\n\t* @returns A Promise that resolves with a string.\n\t*/\n\tcall(arg, callbacks) {\n\t\tconst structuredArg = typeof arg === \"string\" || arg == null ? { input: arg } : arg;\n\t\treturn super.call(structuredArg, callbacks);\n\t}\n};\n/**\n* A tool that can be created dynamically from a function, name, and description.\n*/\nvar DynamicTool = class extends Tool {\n\tstatic lc_name() {\n\t\treturn \"DynamicTool\";\n\t}\n\tname;\n\tdescription;\n\tfunc;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.name = fields.name;\n\t\tthis.description = fields.description;\n\t\tthis.func = fields.func;\n\t\tthis.returnDirect = fields.returnDirect ?? this.returnDirect;\n\t}\n\t/**\n\t* @deprecated Use .invoke() instead. Will be removed in 0.3.0.\n\t*/\n\tasync call(arg, configArg) {\n\t\tconst config = (0,_callbacks_manager_js__WEBPACK_IMPORTED_MODULE_3__.parseCallbackConfigArg)(configArg);\n\t\tif (config.runName === void 0) config.runName = this.name;\n\t\treturn super.call(arg, config);\n\t}\n\t/** @ignore */\n\tasync _call(input, runManager, parentConfig) {\n\t\treturn this.func(input, runManager, parentConfig);\n\t}\n};\n/**\n* A tool that can be created dynamically from a function, name, and\n* description, designed to work with structured data. It extends the\n* StructuredTool class and overrides the _call method to execute the\n* provided function when the tool is called.\n*\n* Schema can be passed as Zod or JSON schema. The tool will not validate\n* input if JSON schema is passed.\n*/\nvar DynamicStructuredTool = class extends StructuredTool {\n\tstatic lc_name() {\n\t\treturn \"DynamicStructuredTool\";\n\t}\n\tname;\n\tdescription;\n\tfunc;\n\tschema;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.name = fields.name;\n\t\tthis.description = fields.description;\n\t\tthis.func = fields.func;\n\t\tthis.returnDirect = fields.returnDirect ?? this.returnDirect;\n\t\tthis.schema = fields.schema;\n\t}\n\t/**\n\t* @deprecated Use .invoke() instead. Will be removed in 0.3.0.\n\t*/\n\tasync call(arg, configArg, tags) {\n\t\tconst config = (0,_callbacks_manager_js__WEBPACK_IMPORTED_MODULE_3__.parseCallbackConfigArg)(configArg);\n\t\tif (config.runName === void 0) config.runName = this.name;\n\t\treturn super.call(arg, config, tags);\n\t}\n\t_call(arg, runManager, parentConfig) {\n\t\treturn this.func(arg, runManager, parentConfig);\n\t}\n};\n/**\n* Abstract base class for toolkits in LangChain. Toolkits are collections\n* of tools that agents can use. Subclasses must implement the `tools`\n* property to provide the specific tools for the toolkit.\n*/\nvar BaseToolkit = class {\n\tgetTools() {\n\t\treturn this.tools;\n\t}\n};\nfunction tool(func, fields) {\n\tconst isSimpleStringSchema = (0,_utils_types_zod_js__WEBPACK_IMPORTED_MODULE_8__.isSimpleStringZodSchema)(fields.schema);\n\tconst isStringJSONSchema = (0,_utils_json_schema_js__WEBPACK_IMPORTED_MODULE_9__.validatesOnlyStrings)(fields.schema);\n\tif (!fields.schema || isSimpleStringSchema || isStringJSONSchema) return new DynamicTool({\n\t\t...fields,\n\t\tdescription: fields.description ?? fields.schema?.description ?? `${fields.name} tool`,\n\t\tfunc: async (input, runManager, config) => {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tconst childConfig = (0,_runnables_config_js__WEBPACK_IMPORTED_MODULE_6__.patchConfig)(config, { callbacks: runManager?.getChild() });\n\t\t\t\t_singletons_async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_4__.AsyncLocalStorageProviderSingleton.runWithConfig((0,_runnables_config_js__WEBPACK_IMPORTED_MODULE_6__.pickRunnableConfigKeys)(childConfig), async () => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tresolve(func(input, childConfig));\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\treject(e);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t});\n\tconst schema = fields.schema;\n\tconst description = fields.description ?? fields.schema.description ?? `${fields.name} tool`;\n\treturn new DynamicStructuredTool({\n\t\t...fields,\n\t\tdescription,\n\t\tschema,\n\t\tfunc: async (input, runManager, config) => {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tif (config?.signal) config.signal.addEventListener(\"abort\", () => {\n\t\t\t\t\treturn reject((0,_utils_signal_js__WEBPACK_IMPORTED_MODULE_7__.getAbortSignalError)(config.signal));\n\t\t\t\t});\n\t\t\t\tconst childConfig = (0,_runnables_config_js__WEBPACK_IMPORTED_MODULE_6__.patchConfig)(config, { callbacks: runManager?.getChild() });\n\t\t\t\t_singletons_async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_4__.AsyncLocalStorageProviderSingleton.runWithConfig((0,_runnables_config_js__WEBPACK_IMPORTED_MODULE_6__.pickRunnableConfigKeys)(childConfig), async () => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst result = await func(input, childConfig);\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t* If the signal is aborted, we don't want to resolve the promise\n\t\t\t\t\t\t* as the promise is already rejected.\n\t\t\t\t\t\t*/\n\t\t\t\t\t\tif (config?.signal?.aborted) return;\n\t\t\t\t\t\tresolve(result);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\treject(e);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t});\n}\nfunction _formatToolOutput(params) {\n\tconst { content, artifact, toolCallId, metadata } = params;\n\tif (toolCallId && !(0,_messages_tool_js__WEBPACK_IMPORTED_MODULE_1__.isDirectToolOutput)(content)) if (typeof content === \"string\" || Array.isArray(content) && content.every((item) => typeof item === \"object\")) return new _messages_tool_js__WEBPACK_IMPORTED_MODULE_1__.ToolMessage({\n\t\tstatus: \"success\",\n\t\tcontent,\n\t\tartifact,\n\t\ttool_call_id: toolCallId,\n\t\tname: params.name,\n\t\tmetadata\n\t});\n\telse return new _messages_tool_js__WEBPACK_IMPORTED_MODULE_1__.ToolMessage({\n\t\tstatus: \"success\",\n\t\tcontent: _stringify(content),\n\t\tartifact,\n\t\ttool_call_id: toolCallId,\n\t\tname: params.name,\n\t\tmetadata\n\t});\n\telse return content;\n}\nfunction _stringify(content) {\n\ttry {\n\t\treturn JSON.stringify(content, null, 2) ?? \"\";\n\t} catch (_noOp) {\n\t\treturn `${content}`;\n\t}\n}\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC90b29scy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMkQ7QUFDVztBQUNvQjtBQUNSO0FBQ2M7QUFDaEU7QUFDeUU7QUFDaEQ7QUFDOEM7QUFDeEM7QUFDSjtBQUNnRDtBQUNoRjtBQUNzQjtBQUNmOztBQUVsQztBQUNBO0FBQ0Esc0VBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGdFQUF5QjtBQUMzRCx3QkFBd0IsdURBQWU7QUFDdkMsMkJBQTJCLDBEQUFrQjtBQUM3Qyx5QkFBeUIsd0RBQWdCO0FBQ3pDLCtCQUErQiw4REFBc0I7QUFDckQ7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLG9FQUFhO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsa0VBQVksQ0FBQyxrRUFBWTtBQUNoRCxNQUFNLHNEQUFXO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixzREFBVztBQUN4QztBQUNBLE1BQU0sdUVBQWtCO0FBQ3hCLGtCQUFrQixzRUFBaUI7QUFDbkMsSUFBSTtBQUNKO0FBQ0EsK0NBQStDLFFBQVEsYUFBYSxVQUFVO0FBQzlFLDZFQUE2RSxRQUFRLE1BQU0sa0RBQWlCLElBQUk7QUFDaEgsYUFBYSxnRUFBeUI7QUFDdEM7QUFDQTtBQUNBLG9CQUFvQixnRUFBUTtBQUM1QjtBQUNBO0FBQ0EsZ0RBQWdELFFBQVEsYUFBYSw4QkFBOEIsa0JBQWtCLElBQUksUUFBUSxjQUFjO0FBQy9JLGNBQWMsZ0VBQXlCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiw2RUFBc0I7QUFDdkMsMkJBQTJCLGtFQUFlLCtHQUErRyx1QkFBdUI7QUFDaEw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzSEFBc0gsdUJBQXVCO0FBQzdJO0FBQ0E7QUFDQSxNQUFNLHNEQUFXO0FBQ2pCLHFCQUFxQiwrREFBb0I7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLDJDQUFRLEdBQUcsT0FBTywyQ0FBUSxlQUFlO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLGFBQWE7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDZFQUFzQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiw2RUFBc0I7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLDRFQUF1QjtBQUNyRCw0QkFBNEIsMkVBQW9CO0FBQ2hEO0FBQ0E7QUFDQSxzRUFBc0UsYUFBYTtBQUNuRjtBQUNBO0FBQ0Esd0JBQXdCLGlFQUFXLFdBQVcsbUNBQW1DO0FBQ2pGLElBQUksd0dBQWtDLGVBQWUsNEVBQXNCO0FBQzNFO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQSxFQUFFO0FBQ0Y7QUFDQSwyRUFBMkUsYUFBYTtBQUN4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixxRUFBbUI7QUFDdEMsS0FBSztBQUNMLHdCQUF3QixpRUFBVyxXQUFXLG1DQUFtQztBQUNqRixJQUFJLHdHQUFrQyxlQUFlLDRFQUFzQjtBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxTQUFTLDBDQUEwQztBQUNuRCxvQkFBb0IscUVBQWtCLHNJQUFzSSwwREFBVztBQUN2TDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0YsaUJBQWlCLDBEQUFXO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILFlBQVksUUFBUTtBQUNwQjtBQUNBOztBQUVBO0FBQ2dOO0FBQ2hOIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC90b29scy9pbmRleC5qcz83NDE5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fZXhwb3J0IH0gZnJvbSBcIi4uL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuanNcIjtcbmltcG9ydCB7IFRvb2xNZXNzYWdlLCBpc0RpcmVjdFRvb2xPdXRwdXQgfSBmcm9tIFwiLi4vbWVzc2FnZXMvdG9vbC5qc1wiO1xuaW1wb3J0IHsgVG9vbElucHV0UGFyc2luZ0V4Y2VwdGlvbiwgX2NvbmZpZ0hhc1Rvb2xDYWxsSWQsIF9pc1Rvb2xDYWxsIH0gZnJvbSBcIi4vdXRpbHMuanNcIjtcbmltcG9ydCB7IENhbGxiYWNrTWFuYWdlciwgcGFyc2VDYWxsYmFja0NvbmZpZ0FyZyB9IGZyb20gXCIuLi9jYWxsYmFja3MvbWFuYWdlci5qc1wiO1xuaW1wb3J0IHsgQXN5bmNMb2NhbFN0b3JhZ2VQcm92aWRlclNpbmdsZXRvbiB9IGZyb20gXCIuLi9zaW5nbGV0b25zL2FzeW5jX2xvY2FsX3N0b3JhZ2UvaW5kZXguanNcIjtcbmltcG9ydCBcIi4uL3NpbmdsZXRvbnMvaW5kZXguanNcIjtcbmltcG9ydCB7IGVuc3VyZUNvbmZpZywgbWVyZ2VDb25maWdzLCBwYXRjaENvbmZpZywgcGlja1J1bm5hYmxlQ29uZmlnS2V5cyB9IGZyb20gXCIuLi9ydW5uYWJsZXMvY29uZmlnLmpzXCI7XG5pbXBvcnQgeyBnZXRBYm9ydFNpZ25hbEVycm9yIH0gZnJvbSBcIi4uL3V0aWxzL3NpZ25hbC5qc1wiO1xuaW1wb3J0IHsgaW50ZXJvcFBhcnNlQXN5bmMsIGlzSW50ZXJvcFpvZFNjaGVtYSwgaXNTaW1wbGVTdHJpbmdab2RTY2hlbWEgfSBmcm9tIFwiLi4vdXRpbHMvdHlwZXMvem9kLmpzXCI7XG5pbXBvcnQgeyB2YWxpZGF0ZXNPbmx5U3RyaW5ncyB9IGZyb20gXCIuLi91dGlscy9qc29uX3NjaGVtYS5qc1wiO1xuaW1wb3J0IHsgQmFzZUxhbmdDaGFpbiB9IGZyb20gXCIuLi9sYW5ndWFnZV9tb2RlbHMvYmFzZS5qc1wiO1xuaW1wb3J0IHsgaXNMYW5nQ2hhaW5Ub29sLCBpc1J1bm5hYmxlVG9vbExpa2UsIGlzU3RydWN0dXJlZFRvb2wsIGlzU3RydWN0dXJlZFRvb2xQYXJhbXMgfSBmcm9tIFwiLi90eXBlcy5qc1wiO1xuaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2QvdjNcIjtcbmltcG9ydCB7IHZhbGlkYXRlIH0gZnJvbSBcIkBjZndvcmtlci9qc29uLXNjaGVtYVwiO1xuaW1wb3J0IHsgeiBhcyB6JDEgfSBmcm9tIFwiem9kL3Y0XCI7XG5cbi8vI3JlZ2lvbiBzcmMvdG9vbHMvaW5kZXgudHNcbnZhciB0b29sc19leHBvcnRzID0ge307XG5fX2V4cG9ydCh0b29sc19leHBvcnRzLCB7XG5cdEJhc2VUb29sa2l0OiAoKSA9PiBCYXNlVG9vbGtpdCxcblx0RHluYW1pY1N0cnVjdHVyZWRUb29sOiAoKSA9PiBEeW5hbWljU3RydWN0dXJlZFRvb2wsXG5cdER5bmFtaWNUb29sOiAoKSA9PiBEeW5hbWljVG9vbCxcblx0U3RydWN0dXJlZFRvb2w6ICgpID0+IFN0cnVjdHVyZWRUb29sLFxuXHRUb29sOiAoKSA9PiBUb29sLFxuXHRUb29sSW5wdXRQYXJzaW5nRXhjZXB0aW9uOiAoKSA9PiBUb29sSW5wdXRQYXJzaW5nRXhjZXB0aW9uLFxuXHRpc0xhbmdDaGFpblRvb2w6ICgpID0+IGlzTGFuZ0NoYWluVG9vbCxcblx0aXNSdW5uYWJsZVRvb2xMaWtlOiAoKSA9PiBpc1J1bm5hYmxlVG9vbExpa2UsXG5cdGlzU3RydWN0dXJlZFRvb2w6ICgpID0+IGlzU3RydWN0dXJlZFRvb2wsXG5cdGlzU3RydWN0dXJlZFRvb2xQYXJhbXM6ICgpID0+IGlzU3RydWN0dXJlZFRvb2xQYXJhbXMsXG5cdHRvb2w6ICgpID0+IHRvb2xcbn0pO1xuLyoqXG4qIEJhc2UgY2xhc3MgZm9yIFRvb2xzIHRoYXQgYWNjZXB0IGlucHV0IG9mIGFueSBzaGFwZSBkZWZpbmVkIGJ5IGEgWm9kIHNjaGVtYS5cbiovXG52YXIgU3RydWN0dXJlZFRvb2wgPSBjbGFzcyBleHRlbmRzIEJhc2VMYW5nQ2hhaW4ge1xuXHQvKipcblx0KiBXaGV0aGVyIHRvIHJldHVybiB0aGUgdG9vbCdzIG91dHB1dCBkaXJlY3RseS5cblx0KlxuXHQqIFNldHRpbmcgdGhpcyB0byB0cnVlIG1lYW5zIHRoYXQgYWZ0ZXIgdGhlIHRvb2wgaXMgY2FsbGVkLFxuXHQqIGFuIGFnZW50IHNob3VsZCBzdG9wIGxvb3BpbmcuXG5cdCovXG5cdHJldHVybkRpcmVjdCA9IGZhbHNlO1xuXHR2ZXJib3NlUGFyc2luZ0Vycm9ycyA9IGZhbHNlO1xuXHRnZXQgbGNfbmFtZXNwYWNlKCkge1xuXHRcdHJldHVybiBbXCJsYW5nY2hhaW5cIiwgXCJ0b29sc1wiXTtcblx0fVxuXHQvKipcblx0KiBUaGUgdG9vbCByZXNwb25zZSBmb3JtYXQuXG5cdCpcblx0KiBJZiBcImNvbnRlbnRcIiB0aGVuIHRoZSBvdXRwdXQgb2YgdGhlIHRvb2wgaXMgaW50ZXJwcmV0ZWQgYXMgdGhlIGNvbnRlbnRzIG9mIGFcblx0KiBUb29sTWVzc2FnZS4gSWYgXCJjb250ZW50X2FuZF9hcnRpZmFjdFwiIHRoZW4gdGhlIG91dHB1dCBpcyBleHBlY3RlZCB0byBiZSBhXG5cdCogdHdvLXR1cGxlIGNvcnJlc3BvbmRpbmcgdG8gdGhlIChjb250ZW50LCBhcnRpZmFjdCkgb2YgYSBUb29sTWVzc2FnZS5cblx0KlxuXHQqIEBkZWZhdWx0IFwiY29udGVudFwiXG5cdCovXG5cdHJlc3BvbnNlRm9ybWF0ID0gXCJjb250ZW50XCI7XG5cdC8qKlxuXHQqIERlZmF1bHQgY29uZmlnIG9iamVjdCBmb3IgdGhlIHRvb2wgcnVubmFibGUuXG5cdCovXG5cdGRlZmF1bHRDb25maWc7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdHN1cGVyKGZpZWxkcyA/PyB7fSk7XG5cdFx0dGhpcy52ZXJib3NlUGFyc2luZ0Vycm9ycyA9IGZpZWxkcz8udmVyYm9zZVBhcnNpbmdFcnJvcnMgPz8gdGhpcy52ZXJib3NlUGFyc2luZ0Vycm9ycztcblx0XHR0aGlzLnJlc3BvbnNlRm9ybWF0ID0gZmllbGRzPy5yZXNwb25zZUZvcm1hdCA/PyB0aGlzLnJlc3BvbnNlRm9ybWF0O1xuXHRcdHRoaXMuZGVmYXVsdENvbmZpZyA9IGZpZWxkcz8uZGVmYXVsdENvbmZpZyA/PyB0aGlzLmRlZmF1bHRDb25maWc7XG5cdFx0dGhpcy5tZXRhZGF0YSA9IGZpZWxkcz8ubWV0YWRhdGEgPz8gdGhpcy5tZXRhZGF0YTtcblx0fVxuXHQvKipcblx0KiBJbnZva2VzIHRoZSB0b29sIHdpdGggdGhlIHByb3ZpZGVkIGlucHV0IGFuZCBjb25maWd1cmF0aW9uLlxuXHQqIEBwYXJhbSBpbnB1dCBUaGUgaW5wdXQgZm9yIHRoZSB0b29sLlxuXHQqIEBwYXJhbSBjb25maWcgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBmb3IgdGhlIHRvb2wuXG5cdCogQHJldHVybnMgQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgdG9vbCdzIG91dHB1dC5cblx0Ki9cblx0YXN5bmMgaW52b2tlKGlucHV0LCBjb25maWcpIHtcblx0XHRsZXQgdG9vbElucHV0O1xuXHRcdGxldCBlbnJpY2hlZENvbmZpZyA9IGVuc3VyZUNvbmZpZyhtZXJnZUNvbmZpZ3ModGhpcy5kZWZhdWx0Q29uZmlnLCBjb25maWcpKTtcblx0XHRpZiAoX2lzVG9vbENhbGwoaW5wdXQpKSB7XG5cdFx0XHR0b29sSW5wdXQgPSBpbnB1dC5hcmdzO1xuXHRcdFx0ZW5yaWNoZWRDb25maWcgPSB7XG5cdFx0XHRcdC4uLmVucmljaGVkQ29uZmlnLFxuXHRcdFx0XHR0b29sQ2FsbDogaW5wdXRcblx0XHRcdH07XG5cdFx0fSBlbHNlIHRvb2xJbnB1dCA9IGlucHV0O1xuXHRcdHJldHVybiB0aGlzLmNhbGwodG9vbElucHV0LCBlbnJpY2hlZENvbmZpZyk7XG5cdH1cblx0LyoqXG5cdCogQGRlcHJlY2F0ZWQgVXNlIC5pbnZva2UoKSBpbnN0ZWFkLiBXaWxsIGJlIHJlbW92ZWQgaW4gMC4zLjAuXG5cdCpcblx0KiBDYWxscyB0aGUgdG9vbCB3aXRoIHRoZSBwcm92aWRlZCBhcmd1bWVudCwgY29uZmlndXJhdGlvbiwgYW5kIHRhZ3MuIEl0XG5cdCogcGFyc2VzIHRoZSBpbnB1dCBhY2NvcmRpbmcgdG8gdGhlIHNjaGVtYSwgaGFuZGxlcyBhbnkgZXJyb3JzLCBhbmRcblx0KiBtYW5hZ2VzIGNhbGxiYWNrcy5cblx0KiBAcGFyYW0gYXJnIFRoZSBpbnB1dCBhcmd1bWVudCBmb3IgdGhlIHRvb2wuXG5cdCogQHBhcmFtIGNvbmZpZ0FyZyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9yIGNhbGxiYWNrcyBmb3IgdGhlIHRvb2wuXG5cdCogQHBhcmFtIHRhZ3MgT3B0aW9uYWwgdGFncyBmb3IgdGhlIHRvb2wuXG5cdCogQHJldHVybnMgQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCBhIHN0cmluZy5cblx0Ki9cblx0YXN5bmMgY2FsbChhcmcsIGNvbmZpZ0FyZywgdGFncykge1xuXHRcdGNvbnN0IGlucHV0Rm9yVmFsaWRhdGlvbiA9IF9pc1Rvb2xDYWxsKGFyZykgPyBhcmcuYXJncyA6IGFyZztcblx0XHRsZXQgcGFyc2VkO1xuXHRcdGlmIChpc0ludGVyb3Bab2RTY2hlbWEodGhpcy5zY2hlbWEpKSB0cnkge1xuXHRcdFx0cGFyc2VkID0gYXdhaXQgaW50ZXJvcFBhcnNlQXN5bmModGhpcy5zY2hlbWEsIGlucHV0Rm9yVmFsaWRhdGlvbik7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0bGV0IG1lc3NhZ2UgPSBgUmVjZWl2ZWQgdG9vbCBpbnB1dCBkaWQgbm90IG1hdGNoIGV4cGVjdGVkIHNjaGVtYWA7XG5cdFx0XHRpZiAodGhpcy52ZXJib3NlUGFyc2luZ0Vycm9ycykgbWVzc2FnZSA9IGAke21lc3NhZ2V9XFxuRGV0YWlsczogJHtlLm1lc3NhZ2V9YDtcblx0XHRcdGlmIChlIGluc3RhbmNlb2YgRXJyb3IgJiYgZS5jb25zdHJ1Y3Rvci5uYW1lID09PSBcIlpvZEVycm9yXCIpIG1lc3NhZ2UgPSBgJHttZXNzYWdlfVxcblxcbiR7eiQxLnByZXR0aWZ5RXJyb3IoZSl9YDtcblx0XHRcdHRocm93IG5ldyBUb29sSW5wdXRQYXJzaW5nRXhjZXB0aW9uKG1lc3NhZ2UsIEpTT04uc3RyaW5naWZ5KGFyZykpO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdGNvbnN0IHJlc3VsdCQxID0gdmFsaWRhdGUoaW5wdXRGb3JWYWxpZGF0aW9uLCB0aGlzLnNjaGVtYSk7XG5cdFx0XHRpZiAoIXJlc3VsdCQxLnZhbGlkKSB7XG5cdFx0XHRcdGxldCBtZXNzYWdlID0gYFJlY2VpdmVkIHRvb2wgaW5wdXQgZGlkIG5vdCBtYXRjaCBleHBlY3RlZCBzY2hlbWFgO1xuXHRcdFx0XHRpZiAodGhpcy52ZXJib3NlUGFyc2luZ0Vycm9ycykgbWVzc2FnZSA9IGAke21lc3NhZ2V9XFxuRGV0YWlsczogJHtyZXN1bHQkMS5lcnJvcnMubWFwKChlKSA9PiBgJHtlLmtleXdvcmRMb2NhdGlvbn06ICR7ZS5lcnJvcn1gKS5qb2luKFwiXFxuXCIpfWA7XG5cdFx0XHRcdHRocm93IG5ldyBUb29sSW5wdXRQYXJzaW5nRXhjZXB0aW9uKG1lc3NhZ2UsIEpTT04uc3RyaW5naWZ5KGFyZykpO1xuXHRcdFx0fVxuXHRcdFx0cGFyc2VkID0gaW5wdXRGb3JWYWxpZGF0aW9uO1xuXHRcdH1cblx0XHRjb25zdCBjb25maWcgPSBwYXJzZUNhbGxiYWNrQ29uZmlnQXJnKGNvbmZpZ0FyZyk7XG5cdFx0Y29uc3QgY2FsbGJhY2tNYW5hZ2VyXyA9IENhbGxiYWNrTWFuYWdlci5jb25maWd1cmUoY29uZmlnLmNhbGxiYWNrcywgdGhpcy5jYWxsYmFja3MsIGNvbmZpZy50YWdzIHx8IHRhZ3MsIHRoaXMudGFncywgY29uZmlnLm1ldGFkYXRhLCB0aGlzLm1ldGFkYXRhLCB7IHZlcmJvc2U6IHRoaXMudmVyYm9zZSB9KTtcblx0XHRjb25zdCBydW5NYW5hZ2VyID0gYXdhaXQgY2FsbGJhY2tNYW5hZ2VyXz8uaGFuZGxlVG9vbFN0YXJ0KHRoaXMudG9KU09OKCksIHR5cGVvZiBhcmcgPT09IFwic3RyaW5nXCIgPyBhcmcgOiBKU09OLnN0cmluZ2lmeShhcmcpLCBjb25maWcucnVuSWQsIHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGNvbmZpZy5ydW5OYW1lKTtcblx0XHRkZWxldGUgY29uZmlnLnJ1bklkO1xuXHRcdGxldCByZXN1bHQ7XG5cdFx0dHJ5IHtcblx0XHRcdHJlc3VsdCA9IGF3YWl0IHRoaXMuX2NhbGwocGFyc2VkLCBydW5NYW5hZ2VyLCBjb25maWcpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZVRvb2xFcnJvcihlKTtcblx0XHRcdHRocm93IGU7XG5cdFx0fVxuXHRcdGxldCBjb250ZW50O1xuXHRcdGxldCBhcnRpZmFjdDtcblx0XHRpZiAodGhpcy5yZXNwb25zZUZvcm1hdCA9PT0gXCJjb250ZW50X2FuZF9hcnRpZmFjdFwiKSBpZiAoQXJyYXkuaXNBcnJheShyZXN1bHQpICYmIHJlc3VsdC5sZW5ndGggPT09IDIpIFtjb250ZW50LCBhcnRpZmFjdF0gPSByZXN1bHQ7XG5cdFx0ZWxzZSB0aHJvdyBuZXcgRXJyb3IoYFRvb2wgcmVzcG9uc2UgZm9ybWF0IGlzIFwiY29udGVudF9hbmRfYXJ0aWZhY3RcIiBidXQgdGhlIG91dHB1dCB3YXMgbm90IGEgdHdvLXR1cGxlLlxcblJlc3VsdDogJHtKU09OLnN0cmluZ2lmeShyZXN1bHQpfWApO1xuXHRcdGVsc2UgY29udGVudCA9IHJlc3VsdDtcblx0XHRsZXQgdG9vbENhbGxJZDtcblx0XHRpZiAoX2lzVG9vbENhbGwoYXJnKSkgdG9vbENhbGxJZCA9IGFyZy5pZDtcblx0XHRpZiAoIXRvb2xDYWxsSWQgJiYgX2NvbmZpZ0hhc1Rvb2xDYWxsSWQoY29uZmlnKSkgdG9vbENhbGxJZCA9IGNvbmZpZy50b29sQ2FsbC5pZDtcblx0XHRjb25zdCBmb3JtYXR0ZWRPdXRwdXQgPSBfZm9ybWF0VG9vbE91dHB1dCh7XG5cdFx0XHRjb250ZW50LFxuXHRcdFx0YXJ0aWZhY3QsXG5cdFx0XHR0b29sQ2FsbElkLFxuXHRcdFx0bmFtZTogdGhpcy5uYW1lLFxuXHRcdFx0bWV0YWRhdGE6IHRoaXMubWV0YWRhdGFcblx0XHR9KTtcblx0XHRhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVUb29sRW5kKGZvcm1hdHRlZE91dHB1dCk7XG5cdFx0cmV0dXJuIGZvcm1hdHRlZE91dHB1dDtcblx0fVxufTtcbi8qKlxuKiBCYXNlIGNsYXNzIGZvciBUb29scyB0aGF0IGFjY2VwdCBpbnB1dCBhcyBhIHN0cmluZy5cbiovXG52YXIgVG9vbCA9IGNsYXNzIGV4dGVuZHMgU3RydWN0dXJlZFRvb2wge1xuXHRzY2hlbWEgPSB6Lm9iamVjdCh7IGlucHV0OiB6LnN0cmluZygpLm9wdGlvbmFsKCkgfSkudHJhbnNmb3JtKChvYmopID0+IG9iai5pbnB1dCk7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdHN1cGVyKGZpZWxkcyk7XG5cdH1cblx0LyoqXG5cdCogQGRlcHJlY2F0ZWQgVXNlIC5pbnZva2UoKSBpbnN0ZWFkLiBXaWxsIGJlIHJlbW92ZWQgaW4gMC4zLjAuXG5cdCpcblx0KiBDYWxscyB0aGUgdG9vbCB3aXRoIHRoZSBwcm92aWRlZCBhcmd1bWVudCBhbmQgY2FsbGJhY2tzLiBJdCBoYW5kbGVzXG5cdCogc3RyaW5nIGlucHV0cyBzcGVjaWZpY2FsbHkuXG5cdCogQHBhcmFtIGFyZyBUaGUgaW5wdXQgYXJndW1lbnQgZm9yIHRoZSB0b29sLCB3aGljaCBjYW4gYmUgYSBzdHJpbmcsIHVuZGVmaW5lZCwgb3IgYW4gaW5wdXQgb2YgdGhlIHRvb2wncyBzY2hlbWEuXG5cdCogQHBhcmFtIGNhbGxiYWNrcyBPcHRpb25hbCBjYWxsYmFja3MgZm9yIHRoZSB0b29sLlxuXHQqIEByZXR1cm5zIEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggYSBzdHJpbmcuXG5cdCovXG5cdGNhbGwoYXJnLCBjYWxsYmFja3MpIHtcblx0XHRjb25zdCBzdHJ1Y3R1cmVkQXJnID0gdHlwZW9mIGFyZyA9PT0gXCJzdHJpbmdcIiB8fCBhcmcgPT0gbnVsbCA/IHsgaW5wdXQ6IGFyZyB9IDogYXJnO1xuXHRcdHJldHVybiBzdXBlci5jYWxsKHN0cnVjdHVyZWRBcmcsIGNhbGxiYWNrcyk7XG5cdH1cbn07XG4vKipcbiogQSB0b29sIHRoYXQgY2FuIGJlIGNyZWF0ZWQgZHluYW1pY2FsbHkgZnJvbSBhIGZ1bmN0aW9uLCBuYW1lLCBhbmQgZGVzY3JpcHRpb24uXG4qL1xudmFyIER5bmFtaWNUb29sID0gY2xhc3MgZXh0ZW5kcyBUb29sIHtcblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiRHluYW1pY1Rvb2xcIjtcblx0fVxuXHRuYW1lO1xuXHRkZXNjcmlwdGlvbjtcblx0ZnVuYztcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLm5hbWUgPSBmaWVsZHMubmFtZTtcblx0XHR0aGlzLmRlc2NyaXB0aW9uID0gZmllbGRzLmRlc2NyaXB0aW9uO1xuXHRcdHRoaXMuZnVuYyA9IGZpZWxkcy5mdW5jO1xuXHRcdHRoaXMucmV0dXJuRGlyZWN0ID0gZmllbGRzLnJldHVybkRpcmVjdCA/PyB0aGlzLnJldHVybkRpcmVjdDtcblx0fVxuXHQvKipcblx0KiBAZGVwcmVjYXRlZCBVc2UgLmludm9rZSgpIGluc3RlYWQuIFdpbGwgYmUgcmVtb3ZlZCBpbiAwLjMuMC5cblx0Ki9cblx0YXN5bmMgY2FsbChhcmcsIGNvbmZpZ0FyZykge1xuXHRcdGNvbnN0IGNvbmZpZyA9IHBhcnNlQ2FsbGJhY2tDb25maWdBcmcoY29uZmlnQXJnKTtcblx0XHRpZiAoY29uZmlnLnJ1bk5hbWUgPT09IHZvaWQgMCkgY29uZmlnLnJ1bk5hbWUgPSB0aGlzLm5hbWU7XG5cdFx0cmV0dXJuIHN1cGVyLmNhbGwoYXJnLCBjb25maWcpO1xuXHR9XG5cdC8qKiBAaWdub3JlICovXG5cdGFzeW5jIF9jYWxsKGlucHV0LCBydW5NYW5hZ2VyLCBwYXJlbnRDb25maWcpIHtcblx0XHRyZXR1cm4gdGhpcy5mdW5jKGlucHV0LCBydW5NYW5hZ2VyLCBwYXJlbnRDb25maWcpO1xuXHR9XG59O1xuLyoqXG4qIEEgdG9vbCB0aGF0IGNhbiBiZSBjcmVhdGVkIGR5bmFtaWNhbGx5IGZyb20gYSBmdW5jdGlvbiwgbmFtZSwgYW5kXG4qIGRlc2NyaXB0aW9uLCBkZXNpZ25lZCB0byB3b3JrIHdpdGggc3RydWN0dXJlZCBkYXRhLiBJdCBleHRlbmRzIHRoZVxuKiBTdHJ1Y3R1cmVkVG9vbCBjbGFzcyBhbmQgb3ZlcnJpZGVzIHRoZSBfY2FsbCBtZXRob2QgdG8gZXhlY3V0ZSB0aGVcbiogcHJvdmlkZWQgZnVuY3Rpb24gd2hlbiB0aGUgdG9vbCBpcyBjYWxsZWQuXG4qXG4qIFNjaGVtYSBjYW4gYmUgcGFzc2VkIGFzIFpvZCBvciBKU09OIHNjaGVtYS4gVGhlIHRvb2wgd2lsbCBub3QgdmFsaWRhdGVcbiogaW5wdXQgaWYgSlNPTiBzY2hlbWEgaXMgcGFzc2VkLlxuKi9cbnZhciBEeW5hbWljU3RydWN0dXJlZFRvb2wgPSBjbGFzcyBleHRlbmRzIFN0cnVjdHVyZWRUb29sIHtcblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiRHluYW1pY1N0cnVjdHVyZWRUb29sXCI7XG5cdH1cblx0bmFtZTtcblx0ZGVzY3JpcHRpb247XG5cdGZ1bmM7XG5cdHNjaGVtYTtcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLm5hbWUgPSBmaWVsZHMubmFtZTtcblx0XHR0aGlzLmRlc2NyaXB0aW9uID0gZmllbGRzLmRlc2NyaXB0aW9uO1xuXHRcdHRoaXMuZnVuYyA9IGZpZWxkcy5mdW5jO1xuXHRcdHRoaXMucmV0dXJuRGlyZWN0ID0gZmllbGRzLnJldHVybkRpcmVjdCA/PyB0aGlzLnJldHVybkRpcmVjdDtcblx0XHR0aGlzLnNjaGVtYSA9IGZpZWxkcy5zY2hlbWE7XG5cdH1cblx0LyoqXG5cdCogQGRlcHJlY2F0ZWQgVXNlIC5pbnZva2UoKSBpbnN0ZWFkLiBXaWxsIGJlIHJlbW92ZWQgaW4gMC4zLjAuXG5cdCovXG5cdGFzeW5jIGNhbGwoYXJnLCBjb25maWdBcmcsIHRhZ3MpIHtcblx0XHRjb25zdCBjb25maWcgPSBwYXJzZUNhbGxiYWNrQ29uZmlnQXJnKGNvbmZpZ0FyZyk7XG5cdFx0aWYgKGNvbmZpZy5ydW5OYW1lID09PSB2b2lkIDApIGNvbmZpZy5ydW5OYW1lID0gdGhpcy5uYW1lO1xuXHRcdHJldHVybiBzdXBlci5jYWxsKGFyZywgY29uZmlnLCB0YWdzKTtcblx0fVxuXHRfY2FsbChhcmcsIHJ1bk1hbmFnZXIsIHBhcmVudENvbmZpZykge1xuXHRcdHJldHVybiB0aGlzLmZ1bmMoYXJnLCBydW5NYW5hZ2VyLCBwYXJlbnRDb25maWcpO1xuXHR9XG59O1xuLyoqXG4qIEFic3RyYWN0IGJhc2UgY2xhc3MgZm9yIHRvb2xraXRzIGluIExhbmdDaGFpbi4gVG9vbGtpdHMgYXJlIGNvbGxlY3Rpb25zXG4qIG9mIHRvb2xzIHRoYXQgYWdlbnRzIGNhbiB1c2UuIFN1YmNsYXNzZXMgbXVzdCBpbXBsZW1lbnQgdGhlIGB0b29sc2BcbiogcHJvcGVydHkgdG8gcHJvdmlkZSB0aGUgc3BlY2lmaWMgdG9vbHMgZm9yIHRoZSB0b29sa2l0LlxuKi9cbnZhciBCYXNlVG9vbGtpdCA9IGNsYXNzIHtcblx0Z2V0VG9vbHMoKSB7XG5cdFx0cmV0dXJuIHRoaXMudG9vbHM7XG5cdH1cbn07XG5mdW5jdGlvbiB0b29sKGZ1bmMsIGZpZWxkcykge1xuXHRjb25zdCBpc1NpbXBsZVN0cmluZ1NjaGVtYSA9IGlzU2ltcGxlU3RyaW5nWm9kU2NoZW1hKGZpZWxkcy5zY2hlbWEpO1xuXHRjb25zdCBpc1N0cmluZ0pTT05TY2hlbWEgPSB2YWxpZGF0ZXNPbmx5U3RyaW5ncyhmaWVsZHMuc2NoZW1hKTtcblx0aWYgKCFmaWVsZHMuc2NoZW1hIHx8IGlzU2ltcGxlU3RyaW5nU2NoZW1hIHx8IGlzU3RyaW5nSlNPTlNjaGVtYSkgcmV0dXJuIG5ldyBEeW5hbWljVG9vbCh7XG5cdFx0Li4uZmllbGRzLFxuXHRcdGRlc2NyaXB0aW9uOiBmaWVsZHMuZGVzY3JpcHRpb24gPz8gZmllbGRzLnNjaGVtYT8uZGVzY3JpcHRpb24gPz8gYCR7ZmllbGRzLm5hbWV9IHRvb2xgLFxuXHRcdGZ1bmM6IGFzeW5jIChpbnB1dCwgcnVuTWFuYWdlciwgY29uZmlnKSA9PiB7XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRjb25zdCBjaGlsZENvbmZpZyA9IHBhdGNoQ29uZmlnKGNvbmZpZywgeyBjYWxsYmFja3M6IHJ1bk1hbmFnZXI/LmdldENoaWxkKCkgfSk7XG5cdFx0XHRcdEFzeW5jTG9jYWxTdG9yYWdlUHJvdmlkZXJTaW5nbGV0b24ucnVuV2l0aENvbmZpZyhwaWNrUnVubmFibGVDb25maWdLZXlzKGNoaWxkQ29uZmlnKSwgYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRyZXNvbHZlKGZ1bmMoaW5wdXQsIGNoaWxkQ29uZmlnKSk7XG5cdFx0XHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRcdFx0cmVqZWN0KGUpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH0pO1xuXHRjb25zdCBzY2hlbWEgPSBmaWVsZHMuc2NoZW1hO1xuXHRjb25zdCBkZXNjcmlwdGlvbiA9IGZpZWxkcy5kZXNjcmlwdGlvbiA/PyBmaWVsZHMuc2NoZW1hLmRlc2NyaXB0aW9uID8/IGAke2ZpZWxkcy5uYW1lfSB0b29sYDtcblx0cmV0dXJuIG5ldyBEeW5hbWljU3RydWN0dXJlZFRvb2woe1xuXHRcdC4uLmZpZWxkcyxcblx0XHRkZXNjcmlwdGlvbixcblx0XHRzY2hlbWEsXG5cdFx0ZnVuYzogYXN5bmMgKGlucHV0LCBydW5NYW5hZ2VyLCBjb25maWcpID0+IHtcblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdGlmIChjb25maWc/LnNpZ25hbCkgY29uZmlnLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgKCkgPT4ge1xuXHRcdFx0XHRcdHJldHVybiByZWplY3QoZ2V0QWJvcnRTaWduYWxFcnJvcihjb25maWcuc2lnbmFsKSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRjb25zdCBjaGlsZENvbmZpZyA9IHBhdGNoQ29uZmlnKGNvbmZpZywgeyBjYWxsYmFja3M6IHJ1bk1hbmFnZXI/LmdldENoaWxkKCkgfSk7XG5cdFx0XHRcdEFzeW5jTG9jYWxTdG9yYWdlUHJvdmlkZXJTaW5nbGV0b24ucnVuV2l0aENvbmZpZyhwaWNrUnVubmFibGVDb25maWdLZXlzKGNoaWxkQ29uZmlnKSwgYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBmdW5jKGlucHV0LCBjaGlsZENvbmZpZyk7XG5cdFx0XHRcdFx0XHQvKipcblx0XHRcdFx0XHRcdCogSWYgdGhlIHNpZ25hbCBpcyBhYm9ydGVkLCB3ZSBkb24ndCB3YW50IHRvIHJlc29sdmUgdGhlIHByb21pc2Vcblx0XHRcdFx0XHRcdCogYXMgdGhlIHByb21pc2UgaXMgYWxyZWFkeSByZWplY3RlZC5cblx0XHRcdFx0XHRcdCovXG5cdFx0XHRcdFx0XHRpZiAoY29uZmlnPy5zaWduYWw/LmFib3J0ZWQpIHJldHVybjtcblx0XHRcdFx0XHRcdHJlc29sdmUocmVzdWx0KTtcblx0XHRcdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdFx0XHRyZWplY3QoZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fSk7XG59XG5mdW5jdGlvbiBfZm9ybWF0VG9vbE91dHB1dChwYXJhbXMpIHtcblx0Y29uc3QgeyBjb250ZW50LCBhcnRpZmFjdCwgdG9vbENhbGxJZCwgbWV0YWRhdGEgfSA9IHBhcmFtcztcblx0aWYgKHRvb2xDYWxsSWQgJiYgIWlzRGlyZWN0VG9vbE91dHB1dChjb250ZW50KSkgaWYgKHR5cGVvZiBjb250ZW50ID09PSBcInN0cmluZ1wiIHx8IEFycmF5LmlzQXJyYXkoY29udGVudCkgJiYgY29udGVudC5ldmVyeSgoaXRlbSkgPT4gdHlwZW9mIGl0ZW0gPT09IFwib2JqZWN0XCIpKSByZXR1cm4gbmV3IFRvb2xNZXNzYWdlKHtcblx0XHRzdGF0dXM6IFwic3VjY2Vzc1wiLFxuXHRcdGNvbnRlbnQsXG5cdFx0YXJ0aWZhY3QsXG5cdFx0dG9vbF9jYWxsX2lkOiB0b29sQ2FsbElkLFxuXHRcdG5hbWU6IHBhcmFtcy5uYW1lLFxuXHRcdG1ldGFkYXRhXG5cdH0pO1xuXHRlbHNlIHJldHVybiBuZXcgVG9vbE1lc3NhZ2Uoe1xuXHRcdHN0YXR1czogXCJzdWNjZXNzXCIsXG5cdFx0Y29udGVudDogX3N0cmluZ2lmeShjb250ZW50KSxcblx0XHRhcnRpZmFjdCxcblx0XHR0b29sX2NhbGxfaWQ6IHRvb2xDYWxsSWQsXG5cdFx0bmFtZTogcGFyYW1zLm5hbWUsXG5cdFx0bWV0YWRhdGFcblx0fSk7XG5cdGVsc2UgcmV0dXJuIGNvbnRlbnQ7XG59XG5mdW5jdGlvbiBfc3RyaW5naWZ5KGNvbnRlbnQpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkoY29udGVudCwgbnVsbCwgMikgPz8gXCJcIjtcblx0fSBjYXRjaCAoX25vT3ApIHtcblx0XHRyZXR1cm4gYCR7Y29udGVudH1gO1xuXHR9XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQmFzZVRvb2xraXQsIER5bmFtaWNTdHJ1Y3R1cmVkVG9vbCwgRHluYW1pY1Rvb2wsIFN0cnVjdHVyZWRUb29sLCBUb29sLCBUb29sSW5wdXRQYXJzaW5nRXhjZXB0aW9uLCBpc0xhbmdDaGFpblRvb2wsIGlzUnVubmFibGVUb29sTGlrZSwgaXNTdHJ1Y3R1cmVkVG9vbCwgaXNTdHJ1Y3R1cmVkVG9vbFBhcmFtcywgdG9vbCwgdG9vbHNfZXhwb3J0cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tools/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tools/types.js":
/*!***************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tools/types.js ***!
  \***************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isLangChainTool: () => (/* binding */ isLangChainTool),\n/* harmony export */   isRunnableToolLike: () => (/* binding */ isRunnableToolLike),\n/* harmony export */   isStructuredTool: () => (/* binding */ isStructuredTool),\n/* harmony export */   isStructuredToolParams: () => (/* binding */ isStructuredToolParams)\n/* harmony export */ });\n/* harmony import */ var _utils_types_zod_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/types/zod.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/types/zod.js\");\n/* harmony import */ var _runnables_base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../runnables/base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/base.js\");\n\n\n\n//#region src/tools/types.ts\n/**\n* Confirm whether the inputted tool is an instance of `StructuredToolInterface`.\n*\n* @param {StructuredToolInterface | JSONSchema | undefined} tool The tool to check if it is an instance of `StructuredToolInterface`.\n* @returns {tool is StructuredToolInterface} Whether the inputted tool is an instance of `StructuredToolInterface`.\n*/\nfunction isStructuredTool(tool) {\n\treturn tool !== void 0 && Array.isArray(tool.lc_namespace);\n}\n/**\n* Confirm whether the inputted tool is an instance of `RunnableToolLike`.\n*\n* @param {unknown | undefined} tool The tool to check if it is an instance of `RunnableToolLike`.\n* @returns {tool is RunnableToolLike} Whether the inputted tool is an instance of `RunnableToolLike`.\n*/\nfunction isRunnableToolLike(tool) {\n\treturn tool !== void 0 && _runnables_base_js__WEBPACK_IMPORTED_MODULE_1__.Runnable.isRunnable(tool) && \"lc_name\" in tool.constructor && typeof tool.constructor.lc_name === \"function\" && tool.constructor.lc_name() === \"RunnableToolLike\";\n}\n/**\n* Confirm whether or not the tool contains the necessary properties to be considered a `StructuredToolParams`.\n*\n* @param {unknown | undefined} tool The object to check if it is a `StructuredToolParams`.\n* @returns {tool is StructuredToolParams} Whether the inputted object is a `StructuredToolParams`.\n*/\nfunction isStructuredToolParams(tool) {\n\treturn !!tool && typeof tool === \"object\" && \"name\" in tool && \"schema\" in tool && ((0,_utils_types_zod_js__WEBPACK_IMPORTED_MODULE_0__.isInteropZodSchema)(tool.schema) || tool.schema != null && typeof tool.schema === \"object\" && \"type\" in tool.schema && typeof tool.schema.type === \"string\" && [\n\t\t\"null\",\n\t\t\"boolean\",\n\t\t\"object\",\n\t\t\"array\",\n\t\t\"number\",\n\t\t\"string\"\n\t].includes(tool.schema.type));\n}\n/**\n* Whether or not the tool is one of StructuredTool, RunnableTool or StructuredToolParams.\n* It returns `is StructuredToolParams` since that is the most minimal interface of the three,\n* while still containing the necessary properties to be passed to a LLM for tool calling.\n*\n* @param {unknown | undefined} tool The tool to check if it is a LangChain tool.\n* @returns {tool is StructuredToolParams} Whether the inputted tool is a LangChain tool.\n*/\nfunction isLangChainTool(tool) {\n\treturn isStructuredToolParams(tool) || isRunnableToolLike(tool) || isStructuredTool(tool);\n}\n\n//#endregion\n\n//# sourceMappingURL=types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC90b29scy90eXBlcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBMkQ7QUFDWDs7QUFFaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGtEQUFrRDtBQUM1RCxZQUFZLGlDQUFpQztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUscUJBQXFCO0FBQy9CLFlBQVksMEJBQTBCO0FBQ3RDO0FBQ0E7QUFDQSwyQkFBMkIsd0RBQVE7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLHFCQUFxQjtBQUMvQixZQUFZLDhCQUE4QjtBQUMxQztBQUNBO0FBQ0EscUZBQXFGLHVFQUFrQjtBQUN2RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUscUJBQXFCO0FBQy9CLFlBQVksOEJBQThCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3lGO0FBQ3pGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC90b29scy90eXBlcy5qcz9jMDQzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzSW50ZXJvcFpvZFNjaGVtYSB9IGZyb20gXCIuLi91dGlscy90eXBlcy96b2QuanNcIjtcbmltcG9ydCB7IFJ1bm5hYmxlIH0gZnJvbSBcIi4uL3J1bm5hYmxlcy9iYXNlLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdG9vbHMvdHlwZXMudHNcbi8qKlxuKiBDb25maXJtIHdoZXRoZXIgdGhlIGlucHV0dGVkIHRvb2wgaXMgYW4gaW5zdGFuY2Ugb2YgYFN0cnVjdHVyZWRUb29sSW50ZXJmYWNlYC5cbipcbiogQHBhcmFtIHtTdHJ1Y3R1cmVkVG9vbEludGVyZmFjZSB8IEpTT05TY2hlbWEgfCB1bmRlZmluZWR9IHRvb2wgVGhlIHRvb2wgdG8gY2hlY2sgaWYgaXQgaXMgYW4gaW5zdGFuY2Ugb2YgYFN0cnVjdHVyZWRUb29sSW50ZXJmYWNlYC5cbiogQHJldHVybnMge3Rvb2wgaXMgU3RydWN0dXJlZFRvb2xJbnRlcmZhY2V9IFdoZXRoZXIgdGhlIGlucHV0dGVkIHRvb2wgaXMgYW4gaW5zdGFuY2Ugb2YgYFN0cnVjdHVyZWRUb29sSW50ZXJmYWNlYC5cbiovXG5mdW5jdGlvbiBpc1N0cnVjdHVyZWRUb29sKHRvb2wpIHtcblx0cmV0dXJuIHRvb2wgIT09IHZvaWQgMCAmJiBBcnJheS5pc0FycmF5KHRvb2wubGNfbmFtZXNwYWNlKTtcbn1cbi8qKlxuKiBDb25maXJtIHdoZXRoZXIgdGhlIGlucHV0dGVkIHRvb2wgaXMgYW4gaW5zdGFuY2Ugb2YgYFJ1bm5hYmxlVG9vbExpa2VgLlxuKlxuKiBAcGFyYW0ge3Vua25vd24gfCB1bmRlZmluZWR9IHRvb2wgVGhlIHRvb2wgdG8gY2hlY2sgaWYgaXQgaXMgYW4gaW5zdGFuY2Ugb2YgYFJ1bm5hYmxlVG9vbExpa2VgLlxuKiBAcmV0dXJucyB7dG9vbCBpcyBSdW5uYWJsZVRvb2xMaWtlfSBXaGV0aGVyIHRoZSBpbnB1dHRlZCB0b29sIGlzIGFuIGluc3RhbmNlIG9mIGBSdW5uYWJsZVRvb2xMaWtlYC5cbiovXG5mdW5jdGlvbiBpc1J1bm5hYmxlVG9vbExpa2UodG9vbCkge1xuXHRyZXR1cm4gdG9vbCAhPT0gdm9pZCAwICYmIFJ1bm5hYmxlLmlzUnVubmFibGUodG9vbCkgJiYgXCJsY19uYW1lXCIgaW4gdG9vbC5jb25zdHJ1Y3RvciAmJiB0eXBlb2YgdG9vbC5jb25zdHJ1Y3Rvci5sY19uYW1lID09PSBcImZ1bmN0aW9uXCIgJiYgdG9vbC5jb25zdHJ1Y3Rvci5sY19uYW1lKCkgPT09IFwiUnVubmFibGVUb29sTGlrZVwiO1xufVxuLyoqXG4qIENvbmZpcm0gd2hldGhlciBvciBub3QgdGhlIHRvb2wgY29udGFpbnMgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzIHRvIGJlIGNvbnNpZGVyZWQgYSBgU3RydWN0dXJlZFRvb2xQYXJhbXNgLlxuKlxuKiBAcGFyYW0ge3Vua25vd24gfCB1bmRlZmluZWR9IHRvb2wgVGhlIG9iamVjdCB0byBjaGVjayBpZiBpdCBpcyBhIGBTdHJ1Y3R1cmVkVG9vbFBhcmFtc2AuXG4qIEByZXR1cm5zIHt0b29sIGlzIFN0cnVjdHVyZWRUb29sUGFyYW1zfSBXaGV0aGVyIHRoZSBpbnB1dHRlZCBvYmplY3QgaXMgYSBgU3RydWN0dXJlZFRvb2xQYXJhbXNgLlxuKi9cbmZ1bmN0aW9uIGlzU3RydWN0dXJlZFRvb2xQYXJhbXModG9vbCkge1xuXHRyZXR1cm4gISF0b29sICYmIHR5cGVvZiB0b29sID09PSBcIm9iamVjdFwiICYmIFwibmFtZVwiIGluIHRvb2wgJiYgXCJzY2hlbWFcIiBpbiB0b29sICYmIChpc0ludGVyb3Bab2RTY2hlbWEodG9vbC5zY2hlbWEpIHx8IHRvb2wuc2NoZW1hICE9IG51bGwgJiYgdHlwZW9mIHRvb2wuc2NoZW1hID09PSBcIm9iamVjdFwiICYmIFwidHlwZVwiIGluIHRvb2wuc2NoZW1hICYmIHR5cGVvZiB0b29sLnNjaGVtYS50eXBlID09PSBcInN0cmluZ1wiICYmIFtcblx0XHRcIm51bGxcIixcblx0XHRcImJvb2xlYW5cIixcblx0XHRcIm9iamVjdFwiLFxuXHRcdFwiYXJyYXlcIixcblx0XHRcIm51bWJlclwiLFxuXHRcdFwic3RyaW5nXCJcblx0XS5pbmNsdWRlcyh0b29sLnNjaGVtYS50eXBlKSk7XG59XG4vKipcbiogV2hldGhlciBvciBub3QgdGhlIHRvb2wgaXMgb25lIG9mIFN0cnVjdHVyZWRUb29sLCBSdW5uYWJsZVRvb2wgb3IgU3RydWN0dXJlZFRvb2xQYXJhbXMuXG4qIEl0IHJldHVybnMgYGlzIFN0cnVjdHVyZWRUb29sUGFyYW1zYCBzaW5jZSB0aGF0IGlzIHRoZSBtb3N0IG1pbmltYWwgaW50ZXJmYWNlIG9mIHRoZSB0aHJlZSxcbiogd2hpbGUgc3RpbGwgY29udGFpbmluZyB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXMgdG8gYmUgcGFzc2VkIHRvIGEgTExNIGZvciB0b29sIGNhbGxpbmcuXG4qXG4qIEBwYXJhbSB7dW5rbm93biB8IHVuZGVmaW5lZH0gdG9vbCBUaGUgdG9vbCB0byBjaGVjayBpZiBpdCBpcyBhIExhbmdDaGFpbiB0b29sLlxuKiBAcmV0dXJucyB7dG9vbCBpcyBTdHJ1Y3R1cmVkVG9vbFBhcmFtc30gV2hldGhlciB0aGUgaW5wdXR0ZWQgdG9vbCBpcyBhIExhbmdDaGFpbiB0b29sLlxuKi9cbmZ1bmN0aW9uIGlzTGFuZ0NoYWluVG9vbCh0b29sKSB7XG5cdHJldHVybiBpc1N0cnVjdHVyZWRUb29sUGFyYW1zKHRvb2wpIHx8IGlzUnVubmFibGVUb29sTGlrZSh0b29sKSB8fCBpc1N0cnVjdHVyZWRUb29sKHRvb2wpO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IGlzTGFuZ0NoYWluVG9vbCwgaXNSdW5uYWJsZVRvb2xMaWtlLCBpc1N0cnVjdHVyZWRUb29sLCBpc1N0cnVjdHVyZWRUb29sUGFyYW1zIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10eXBlcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tools/types.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tools/utils.js":
/*!***************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tools/utils.js ***!
  \***************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ToolInputParsingException: () => (/* binding */ ToolInputParsingException),\n/* harmony export */   _configHasToolCallId: () => (/* binding */ _configHasToolCallId),\n/* harmony export */   _isToolCall: () => (/* binding */ _isToolCall)\n/* harmony export */ });\n//#region src/tools/utils.ts\nfunction _isToolCall(toolCall) {\n\treturn !!(toolCall && typeof toolCall === \"object\" && \"type\" in toolCall && toolCall.type === \"tool_call\");\n}\nfunction _configHasToolCallId(config) {\n\treturn !!(config && typeof config === \"object\" && \"toolCall\" in config && config.toolCall != null && typeof config.toolCall === \"object\" && \"id\" in config.toolCall && typeof config.toolCall.id === \"string\");\n}\n/**\n* Custom error class used to handle exceptions related to tool input parsing.\n* It extends the built-in `Error` class and adds an optional `output`\n* property that can hold the output that caused the exception.\n*/\nvar ToolInputParsingException = class extends Error {\n\toutput;\n\tconstructor(message, output) {\n\t\tsuper(message);\n\t\tthis.output = output;\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC90b29scy91dGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUN3RTtBQUN4RSIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdG9vbHMvdXRpbHMuanM/YjY2NiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyNyZWdpb24gc3JjL3Rvb2xzL3V0aWxzLnRzXG5mdW5jdGlvbiBfaXNUb29sQ2FsbCh0b29sQ2FsbCkge1xuXHRyZXR1cm4gISEodG9vbENhbGwgJiYgdHlwZW9mIHRvb2xDYWxsID09PSBcIm9iamVjdFwiICYmIFwidHlwZVwiIGluIHRvb2xDYWxsICYmIHRvb2xDYWxsLnR5cGUgPT09IFwidG9vbF9jYWxsXCIpO1xufVxuZnVuY3Rpb24gX2NvbmZpZ0hhc1Rvb2xDYWxsSWQoY29uZmlnKSB7XG5cdHJldHVybiAhIShjb25maWcgJiYgdHlwZW9mIGNvbmZpZyA9PT0gXCJvYmplY3RcIiAmJiBcInRvb2xDYWxsXCIgaW4gY29uZmlnICYmIGNvbmZpZy50b29sQ2FsbCAhPSBudWxsICYmIHR5cGVvZiBjb25maWcudG9vbENhbGwgPT09IFwib2JqZWN0XCIgJiYgXCJpZFwiIGluIGNvbmZpZy50b29sQ2FsbCAmJiB0eXBlb2YgY29uZmlnLnRvb2xDYWxsLmlkID09PSBcInN0cmluZ1wiKTtcbn1cbi8qKlxuKiBDdXN0b20gZXJyb3IgY2xhc3MgdXNlZCB0byBoYW5kbGUgZXhjZXB0aW9ucyByZWxhdGVkIHRvIHRvb2wgaW5wdXQgcGFyc2luZy5cbiogSXQgZXh0ZW5kcyB0aGUgYnVpbHQtaW4gYEVycm9yYCBjbGFzcyBhbmQgYWRkcyBhbiBvcHRpb25hbCBgb3V0cHV0YFxuKiBwcm9wZXJ0eSB0aGF0IGNhbiBob2xkIHRoZSBvdXRwdXQgdGhhdCBjYXVzZWQgdGhlIGV4Y2VwdGlvbi5cbiovXG52YXIgVG9vbElucHV0UGFyc2luZ0V4Y2VwdGlvbiA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuXHRvdXRwdXQ7XG5cdGNvbnN0cnVjdG9yKG1lc3NhZ2UsIG91dHB1dCkge1xuXHRcdHN1cGVyKG1lc3NhZ2UpO1xuXHRcdHRoaXMub3V0cHV0ID0gb3V0cHV0O1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IFRvb2xJbnB1dFBhcnNpbmdFeGNlcHRpb24sIF9jb25maWdIYXNUb29sQ2FsbElkLCBfaXNUb29sQ2FsbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tools/utils.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/base.js":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/base.js ***!
  \****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseTracer: () => (/* binding */ BaseTracer),\n/* harmony export */   base_exports: () => (/* binding */ base_exports),\n/* harmony export */   isBaseTracer: () => (/* binding */ isBaseTracer)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _utils_env_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/env.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/env.js\");\n/* harmony import */ var _callbacks_base_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../callbacks/base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/callbacks/base.js\");\n/* harmony import */ var langsmith_run_trees__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! langsmith/run_trees */ \"(rsc)/./node_modules/.pnpm/langsmith@0.3.74_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/langsmith/run_trees.js\");\n\n\n\n\n\n//#region src/tracers/base.ts\nvar base_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(base_exports, {\n\tBaseTracer: () => BaseTracer,\n\tisBaseTracer: () => isBaseTracer\n});\nconst convertRunTreeToRun = (runTree) => {\n\tif (!runTree) return void 0;\n\trunTree.events = runTree.events ?? [];\n\trunTree.child_runs = runTree.child_runs ?? [];\n\treturn runTree;\n};\nfunction convertRunToRunTree(run, parentRun) {\n\tif (!run) return void 0;\n\treturn new langsmith_run_trees__WEBPACK_IMPORTED_MODULE_3__.RunTree({\n\t\t...run,\n\t\tstart_time: run._serialized_start_time ?? run.start_time,\n\t\tparent_run: convertRunToRunTree(parentRun),\n\t\tchild_runs: run.child_runs.map((r) => convertRunToRunTree(r)).filter((r) => r !== void 0),\n\t\textra: {\n\t\t\t...run.extra,\n\t\t\truntime: (0,_utils_env_js__WEBPACK_IMPORTED_MODULE_1__.getRuntimeEnvironment)()\n\t\t},\n\t\ttracingEnabled: false\n\t});\n}\nfunction _coerceToDict(value, defaultKey) {\n\treturn value && !Array.isArray(value) && typeof value === \"object\" ? value : { [defaultKey]: value };\n}\nfunction isBaseTracer(x) {\n\treturn typeof x._addRunToRunMap === \"function\";\n}\nvar BaseTracer = class extends _callbacks_base_js__WEBPACK_IMPORTED_MODULE_2__.BaseCallbackHandler {\n\t/** @deprecated Use `runTreeMap` instead. */\n\trunMap = /* @__PURE__ */ new Map();\n\trunTreeMap = /* @__PURE__ */ new Map();\n\tusesRunTreeMap = false;\n\tconstructor(_fields) {\n\t\tsuper(...arguments);\n\t}\n\tcopy() {\n\t\treturn this;\n\t}\n\tgetRunById(runId) {\n\t\tif (runId === void 0) return void 0;\n\t\treturn this.usesRunTreeMap ? convertRunTreeToRun(this.runTreeMap.get(runId)) : this.runMap.get(runId);\n\t}\n\tstringifyError(error) {\n\t\tif (error instanceof Error) return error.message + (error?.stack ? `\\n\\n${error.stack}` : \"\");\n\t\tif (typeof error === \"string\") return error;\n\t\treturn `${error}`;\n\t}\n\t_addChildRun(parentRun, childRun) {\n\t\tparentRun.child_runs.push(childRun);\n\t}\n\t_addRunToRunMap(run) {\n\t\tconst { dottedOrder: currentDottedOrder, microsecondPrecisionDatestring } = (0,langsmith_run_trees__WEBPACK_IMPORTED_MODULE_3__.convertToDottedOrderFormat)(new Date(run.start_time).getTime(), run.id, run.execution_order);\n\t\tconst storedRun = { ...run };\n\t\tconst parentRun = this.getRunById(storedRun.parent_run_id);\n\t\tif (storedRun.parent_run_id !== void 0) {\n\t\t\tif (parentRun) {\n\t\t\t\tthis._addChildRun(parentRun, storedRun);\n\t\t\t\tparentRun.child_execution_order = Math.max(parentRun.child_execution_order, storedRun.child_execution_order);\n\t\t\t\tstoredRun.trace_id = parentRun.trace_id;\n\t\t\t\tif (parentRun.dotted_order !== void 0) {\n\t\t\t\t\tstoredRun.dotted_order = [parentRun.dotted_order, currentDottedOrder].join(\".\");\n\t\t\t\t\tstoredRun._serialized_start_time = microsecondPrecisionDatestring;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tstoredRun.trace_id = storedRun.id;\n\t\t\tstoredRun.dotted_order = currentDottedOrder;\n\t\t\tstoredRun._serialized_start_time = microsecondPrecisionDatestring;\n\t\t}\n\t\tif (this.usesRunTreeMap) {\n\t\t\tconst runTree = convertRunToRunTree(storedRun, parentRun);\n\t\t\tif (runTree !== void 0) this.runTreeMap.set(storedRun.id, runTree);\n\t\t} else this.runMap.set(storedRun.id, storedRun);\n\t\treturn storedRun;\n\t}\n\tasync _endTrace(run) {\n\t\tconst parentRun = run.parent_run_id !== void 0 && this.getRunById(run.parent_run_id);\n\t\tif (parentRun) parentRun.child_execution_order = Math.max(parentRun.child_execution_order, run.child_execution_order);\n\t\telse await this.persistRun(run);\n\t\tawait this.onRunUpdate?.(run);\n\t\tif (this.usesRunTreeMap) this.runTreeMap.delete(run.id);\n\t\telse this.runMap.delete(run.id);\n\t}\n\t_getExecutionOrder(parentRunId) {\n\t\tconst parentRun = parentRunId !== void 0 && this.getRunById(parentRunId);\n\t\tif (!parentRun) return 1;\n\t\treturn parentRun.child_execution_order + 1;\n\t}\n\t/**\n\t* Create and add a run to the run map for LLM start events.\n\t* This must sometimes be done synchronously to avoid race conditions\n\t* when callbacks are backgrounded, so we expose it as a separate method here.\n\t*/\n\t_createRunForLLMStart(llm, prompts, runId, parentRunId, extraParams, tags, metadata, name) {\n\t\tconst execution_order = this._getExecutionOrder(parentRunId);\n\t\tconst start_time = Date.now();\n\t\tconst finalExtraParams = metadata ? {\n\t\t\t...extraParams,\n\t\t\tmetadata\n\t\t} : extraParams;\n\t\tconst run = {\n\t\t\tid: runId,\n\t\t\tname: name ?? llm.id[llm.id.length - 1],\n\t\t\tparent_run_id: parentRunId,\n\t\t\tstart_time,\n\t\t\tserialized: llm,\n\t\t\tevents: [{\n\t\t\t\tname: \"start\",\n\t\t\t\ttime: new Date(start_time).toISOString()\n\t\t\t}],\n\t\t\tinputs: { prompts },\n\t\t\texecution_order,\n\t\t\tchild_runs: [],\n\t\t\tchild_execution_order: execution_order,\n\t\t\trun_type: \"llm\",\n\t\t\textra: finalExtraParams ?? {},\n\t\t\ttags: tags || []\n\t\t};\n\t\treturn this._addRunToRunMap(run);\n\t}\n\tasync handleLLMStart(llm, prompts, runId, parentRunId, extraParams, tags, metadata, name) {\n\t\tconst run = this.getRunById(runId) ?? this._createRunForLLMStart(llm, prompts, runId, parentRunId, extraParams, tags, metadata, name);\n\t\tawait this.onRunCreate?.(run);\n\t\tawait this.onLLMStart?.(run);\n\t\treturn run;\n\t}\n\t/**\n\t* Create and add a run to the run map for chat model start events.\n\t* This must sometimes be done synchronously to avoid race conditions\n\t* when callbacks are backgrounded, so we expose it as a separate method here.\n\t*/\n\t_createRunForChatModelStart(llm, messages, runId, parentRunId, extraParams, tags, metadata, name) {\n\t\tconst execution_order = this._getExecutionOrder(parentRunId);\n\t\tconst start_time = Date.now();\n\t\tconst finalExtraParams = metadata ? {\n\t\t\t...extraParams,\n\t\t\tmetadata\n\t\t} : extraParams;\n\t\tconst run = {\n\t\t\tid: runId,\n\t\t\tname: name ?? llm.id[llm.id.length - 1],\n\t\t\tparent_run_id: parentRunId,\n\t\t\tstart_time,\n\t\t\tserialized: llm,\n\t\t\tevents: [{\n\t\t\t\tname: \"start\",\n\t\t\t\ttime: new Date(start_time).toISOString()\n\t\t\t}],\n\t\t\tinputs: { messages },\n\t\t\texecution_order,\n\t\t\tchild_runs: [],\n\t\t\tchild_execution_order: execution_order,\n\t\t\trun_type: \"llm\",\n\t\t\textra: finalExtraParams ?? {},\n\t\t\ttags: tags || []\n\t\t};\n\t\treturn this._addRunToRunMap(run);\n\t}\n\tasync handleChatModelStart(llm, messages, runId, parentRunId, extraParams, tags, metadata, name) {\n\t\tconst run = this.getRunById(runId) ?? this._createRunForChatModelStart(llm, messages, runId, parentRunId, extraParams, tags, metadata, name);\n\t\tawait this.onRunCreate?.(run);\n\t\tawait this.onLLMStart?.(run);\n\t\treturn run;\n\t}\n\tasync handleLLMEnd(output, runId, _parentRunId, _tags, extraParams) {\n\t\tconst run = this.getRunById(runId);\n\t\tif (!run || run?.run_type !== \"llm\") throw new Error(\"No LLM run to end.\");\n\t\trun.end_time = Date.now();\n\t\trun.outputs = output;\n\t\trun.events.push({\n\t\t\tname: \"end\",\n\t\t\ttime: new Date(run.end_time).toISOString()\n\t\t});\n\t\trun.extra = {\n\t\t\t...run.extra,\n\t\t\t...extraParams\n\t\t};\n\t\tawait this.onLLMEnd?.(run);\n\t\tawait this._endTrace(run);\n\t\treturn run;\n\t}\n\tasync handleLLMError(error, runId, _parentRunId, _tags, extraParams) {\n\t\tconst run = this.getRunById(runId);\n\t\tif (!run || run?.run_type !== \"llm\") throw new Error(\"No LLM run to end.\");\n\t\trun.end_time = Date.now();\n\t\trun.error = this.stringifyError(error);\n\t\trun.events.push({\n\t\t\tname: \"error\",\n\t\t\ttime: new Date(run.end_time).toISOString()\n\t\t});\n\t\trun.extra = {\n\t\t\t...run.extra,\n\t\t\t...extraParams\n\t\t};\n\t\tawait this.onLLMError?.(run);\n\t\tawait this._endTrace(run);\n\t\treturn run;\n\t}\n\t/**\n\t* Create and add a run to the run map for chain start events.\n\t* This must sometimes be done synchronously to avoid race conditions\n\t* when callbacks are backgrounded, so we expose it as a separate method here.\n\t*/\n\t_createRunForChainStart(chain, inputs, runId, parentRunId, tags, metadata, runType, name) {\n\t\tconst execution_order = this._getExecutionOrder(parentRunId);\n\t\tconst start_time = Date.now();\n\t\tconst run = {\n\t\t\tid: runId,\n\t\t\tname: name ?? chain.id[chain.id.length - 1],\n\t\t\tparent_run_id: parentRunId,\n\t\t\tstart_time,\n\t\t\tserialized: chain,\n\t\t\tevents: [{\n\t\t\t\tname: \"start\",\n\t\t\t\ttime: new Date(start_time).toISOString()\n\t\t\t}],\n\t\t\tinputs,\n\t\t\texecution_order,\n\t\t\tchild_execution_order: execution_order,\n\t\t\trun_type: runType ?? \"chain\",\n\t\t\tchild_runs: [],\n\t\t\textra: metadata ? { metadata } : {},\n\t\t\ttags: tags || []\n\t\t};\n\t\treturn this._addRunToRunMap(run);\n\t}\n\tasync handleChainStart(chain, inputs, runId, parentRunId, tags, metadata, runType, name) {\n\t\tconst run = this.getRunById(runId) ?? this._createRunForChainStart(chain, inputs, runId, parentRunId, tags, metadata, runType, name);\n\t\tawait this.onRunCreate?.(run);\n\t\tawait this.onChainStart?.(run);\n\t\treturn run;\n\t}\n\tasync handleChainEnd(outputs, runId, _parentRunId, _tags, kwargs) {\n\t\tconst run = this.getRunById(runId);\n\t\tif (!run) throw new Error(\"No chain run to end.\");\n\t\trun.end_time = Date.now();\n\t\trun.outputs = _coerceToDict(outputs, \"output\");\n\t\trun.events.push({\n\t\t\tname: \"end\",\n\t\t\ttime: new Date(run.end_time).toISOString()\n\t\t});\n\t\tif (kwargs?.inputs !== void 0) run.inputs = _coerceToDict(kwargs.inputs, \"input\");\n\t\tawait this.onChainEnd?.(run);\n\t\tawait this._endTrace(run);\n\t\treturn run;\n\t}\n\tasync handleChainError(error, runId, _parentRunId, _tags, kwargs) {\n\t\tconst run = this.getRunById(runId);\n\t\tif (!run) throw new Error(\"No chain run to end.\");\n\t\trun.end_time = Date.now();\n\t\trun.error = this.stringifyError(error);\n\t\trun.events.push({\n\t\t\tname: \"error\",\n\t\t\ttime: new Date(run.end_time).toISOString()\n\t\t});\n\t\tif (kwargs?.inputs !== void 0) run.inputs = _coerceToDict(kwargs.inputs, \"input\");\n\t\tawait this.onChainError?.(run);\n\t\tawait this._endTrace(run);\n\t\treturn run;\n\t}\n\t/**\n\t* Create and add a run to the run map for tool start events.\n\t* This must sometimes be done synchronously to avoid race conditions\n\t* when callbacks are backgrounded, so we expose it as a separate method here.\n\t*/\n\t_createRunForToolStart(tool, input, runId, parentRunId, tags, metadata, name) {\n\t\tconst execution_order = this._getExecutionOrder(parentRunId);\n\t\tconst start_time = Date.now();\n\t\tconst run = {\n\t\t\tid: runId,\n\t\t\tname: name ?? tool.id[tool.id.length - 1],\n\t\t\tparent_run_id: parentRunId,\n\t\t\tstart_time,\n\t\t\tserialized: tool,\n\t\t\tevents: [{\n\t\t\t\tname: \"start\",\n\t\t\t\ttime: new Date(start_time).toISOString()\n\t\t\t}],\n\t\t\tinputs: { input },\n\t\t\texecution_order,\n\t\t\tchild_execution_order: execution_order,\n\t\t\trun_type: \"tool\",\n\t\t\tchild_runs: [],\n\t\t\textra: metadata ? { metadata } : {},\n\t\t\ttags: tags || []\n\t\t};\n\t\treturn this._addRunToRunMap(run);\n\t}\n\tasync handleToolStart(tool, input, runId, parentRunId, tags, metadata, name) {\n\t\tconst run = this.getRunById(runId) ?? this._createRunForToolStart(tool, input, runId, parentRunId, tags, metadata, name);\n\t\tawait this.onRunCreate?.(run);\n\t\tawait this.onToolStart?.(run);\n\t\treturn run;\n\t}\n\tasync handleToolEnd(output, runId) {\n\t\tconst run = this.getRunById(runId);\n\t\tif (!run || run?.run_type !== \"tool\") throw new Error(\"No tool run to end\");\n\t\trun.end_time = Date.now();\n\t\trun.outputs = { output };\n\t\trun.events.push({\n\t\t\tname: \"end\",\n\t\t\ttime: new Date(run.end_time).toISOString()\n\t\t});\n\t\tawait this.onToolEnd?.(run);\n\t\tawait this._endTrace(run);\n\t\treturn run;\n\t}\n\tasync handleToolError(error, runId) {\n\t\tconst run = this.getRunById(runId);\n\t\tif (!run || run?.run_type !== \"tool\") throw new Error(\"No tool run to end\");\n\t\trun.end_time = Date.now();\n\t\trun.error = this.stringifyError(error);\n\t\trun.events.push({\n\t\t\tname: \"error\",\n\t\t\ttime: new Date(run.end_time).toISOString()\n\t\t});\n\t\tawait this.onToolError?.(run);\n\t\tawait this._endTrace(run);\n\t\treturn run;\n\t}\n\tasync handleAgentAction(action, runId) {\n\t\tconst run = this.getRunById(runId);\n\t\tif (!run || run?.run_type !== \"chain\") return;\n\t\tconst agentRun = run;\n\t\tagentRun.actions = agentRun.actions || [];\n\t\tagentRun.actions.push(action);\n\t\tagentRun.events.push({\n\t\t\tname: \"agent_action\",\n\t\t\ttime: (/* @__PURE__ */ new Date()).toISOString(),\n\t\t\tkwargs: { action }\n\t\t});\n\t\tawait this.onAgentAction?.(run);\n\t}\n\tasync handleAgentEnd(action, runId) {\n\t\tconst run = this.getRunById(runId);\n\t\tif (!run || run?.run_type !== \"chain\") return;\n\t\trun.events.push({\n\t\t\tname: \"agent_end\",\n\t\t\ttime: (/* @__PURE__ */ new Date()).toISOString(),\n\t\t\tkwargs: { action }\n\t\t});\n\t\tawait this.onAgentEnd?.(run);\n\t}\n\t/**\n\t* Create and add a run to the run map for retriever start events.\n\t* This must sometimes be done synchronously to avoid race conditions\n\t* when callbacks are backgrounded, so we expose it as a separate method here.\n\t*/\n\t_createRunForRetrieverStart(retriever, query, runId, parentRunId, tags, metadata, name) {\n\t\tconst execution_order = this._getExecutionOrder(parentRunId);\n\t\tconst start_time = Date.now();\n\t\tconst run = {\n\t\t\tid: runId,\n\t\t\tname: name ?? retriever.id[retriever.id.length - 1],\n\t\t\tparent_run_id: parentRunId,\n\t\t\tstart_time,\n\t\t\tserialized: retriever,\n\t\t\tevents: [{\n\t\t\t\tname: \"start\",\n\t\t\t\ttime: new Date(start_time).toISOString()\n\t\t\t}],\n\t\t\tinputs: { query },\n\t\t\texecution_order,\n\t\t\tchild_execution_order: execution_order,\n\t\t\trun_type: \"retriever\",\n\t\t\tchild_runs: [],\n\t\t\textra: metadata ? { metadata } : {},\n\t\t\ttags: tags || []\n\t\t};\n\t\treturn this._addRunToRunMap(run);\n\t}\n\tasync handleRetrieverStart(retriever, query, runId, parentRunId, tags, metadata, name) {\n\t\tconst run = this.getRunById(runId) ?? this._createRunForRetrieverStart(retriever, query, runId, parentRunId, tags, metadata, name);\n\t\tawait this.onRunCreate?.(run);\n\t\tawait this.onRetrieverStart?.(run);\n\t\treturn run;\n\t}\n\tasync handleRetrieverEnd(documents, runId) {\n\t\tconst run = this.getRunById(runId);\n\t\tif (!run || run?.run_type !== \"retriever\") throw new Error(\"No retriever run to end\");\n\t\trun.end_time = Date.now();\n\t\trun.outputs = { documents };\n\t\trun.events.push({\n\t\t\tname: \"end\",\n\t\t\ttime: new Date(run.end_time).toISOString()\n\t\t});\n\t\tawait this.onRetrieverEnd?.(run);\n\t\tawait this._endTrace(run);\n\t\treturn run;\n\t}\n\tasync handleRetrieverError(error, runId) {\n\t\tconst run = this.getRunById(runId);\n\t\tif (!run || run?.run_type !== \"retriever\") throw new Error(\"No retriever run to end\");\n\t\trun.end_time = Date.now();\n\t\trun.error = this.stringifyError(error);\n\t\trun.events.push({\n\t\t\tname: \"error\",\n\t\t\ttime: new Date(run.end_time).toISOString()\n\t\t});\n\t\tawait this.onRetrieverError?.(run);\n\t\tawait this._endTrace(run);\n\t\treturn run;\n\t}\n\tasync handleText(text, runId) {\n\t\tconst run = this.getRunById(runId);\n\t\tif (!run || run?.run_type !== \"chain\") return;\n\t\trun.events.push({\n\t\t\tname: \"text\",\n\t\t\ttime: (/* @__PURE__ */ new Date()).toISOString(),\n\t\t\tkwargs: { text }\n\t\t});\n\t\tawait this.onText?.(run);\n\t}\n\tasync handleLLMNewToken(token, idx, runId, _parentRunId, _tags, fields) {\n\t\tconst run = this.getRunById(runId);\n\t\tif (!run || run?.run_type !== \"llm\") throw new Error(`Invalid \"runId\" provided to \"handleLLMNewToken\" callback.`);\n\t\trun.events.push({\n\t\t\tname: \"new_token\",\n\t\t\ttime: (/* @__PURE__ */ new Date()).toISOString(),\n\t\t\tkwargs: {\n\t\t\t\ttoken,\n\t\t\t\tidx,\n\t\t\t\tchunk: fields?.chunk\n\t\t\t}\n\t\t});\n\t\tawait this.onLLMNewToken?.(run, token, { chunk: fields?.chunk });\n\t\treturn run;\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=base.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC90cmFjZXJzL2Jhc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUEyRDtBQUNIO0FBQ0c7QUFDZTs7QUFFMUU7QUFDQTtBQUNBLHNFQUFRO0FBQ1I7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx3REFBTztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLG9FQUFxQjtBQUNqQyxHQUFHO0FBQ0g7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLGdGQUFnRjtBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixtRUFBbUI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFLFlBQVk7QUFDeEY7QUFDQSxZQUFZLE1BQU07QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsa0VBQWtFLEVBQUUsK0VBQTBCO0FBQ3hHLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixXQUFXLElBQUk7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixXQUFXLElBQUk7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsV0FBVyxJQUFJO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsMkNBQTJDLHNCQUFzQjtBQUNqRTtBQUNBO0FBQ0E7O0FBRUE7QUFDa0Q7QUFDbEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3RyYWNlcnMvYmFzZS5qcz82NTRkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fZXhwb3J0IH0gZnJvbSBcIi4uL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuanNcIjtcbmltcG9ydCB7IGdldFJ1bnRpbWVFbnZpcm9ubWVudCB9IGZyb20gXCIuLi91dGlscy9lbnYuanNcIjtcbmltcG9ydCB7IEJhc2VDYWxsYmFja0hhbmRsZXIgfSBmcm9tIFwiLi4vY2FsbGJhY2tzL2Jhc2UuanNcIjtcbmltcG9ydCB7IFJ1blRyZWUsIGNvbnZlcnRUb0RvdHRlZE9yZGVyRm9ybWF0IH0gZnJvbSBcImxhbmdzbWl0aC9ydW5fdHJlZXNcIjtcblxuLy8jcmVnaW9uIHNyYy90cmFjZXJzL2Jhc2UudHNcbnZhciBiYXNlX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KGJhc2VfZXhwb3J0cywge1xuXHRCYXNlVHJhY2VyOiAoKSA9PiBCYXNlVHJhY2VyLFxuXHRpc0Jhc2VUcmFjZXI6ICgpID0+IGlzQmFzZVRyYWNlclxufSk7XG5jb25zdCBjb252ZXJ0UnVuVHJlZVRvUnVuID0gKHJ1blRyZWUpID0+IHtcblx0aWYgKCFydW5UcmVlKSByZXR1cm4gdm9pZCAwO1xuXHRydW5UcmVlLmV2ZW50cyA9IHJ1blRyZWUuZXZlbnRzID8/IFtdO1xuXHRydW5UcmVlLmNoaWxkX3J1bnMgPSBydW5UcmVlLmNoaWxkX3J1bnMgPz8gW107XG5cdHJldHVybiBydW5UcmVlO1xufTtcbmZ1bmN0aW9uIGNvbnZlcnRSdW5Ub1J1blRyZWUocnVuLCBwYXJlbnRSdW4pIHtcblx0aWYgKCFydW4pIHJldHVybiB2b2lkIDA7XG5cdHJldHVybiBuZXcgUnVuVHJlZSh7XG5cdFx0Li4ucnVuLFxuXHRcdHN0YXJ0X3RpbWU6IHJ1bi5fc2VyaWFsaXplZF9zdGFydF90aW1lID8/IHJ1bi5zdGFydF90aW1lLFxuXHRcdHBhcmVudF9ydW46IGNvbnZlcnRSdW5Ub1J1blRyZWUocGFyZW50UnVuKSxcblx0XHRjaGlsZF9ydW5zOiBydW4uY2hpbGRfcnVucy5tYXAoKHIpID0+IGNvbnZlcnRSdW5Ub1J1blRyZWUocikpLmZpbHRlcigocikgPT4gciAhPT0gdm9pZCAwKSxcblx0XHRleHRyYToge1xuXHRcdFx0Li4ucnVuLmV4dHJhLFxuXHRcdFx0cnVudGltZTogZ2V0UnVudGltZUVudmlyb25tZW50KClcblx0XHR9LFxuXHRcdHRyYWNpbmdFbmFibGVkOiBmYWxzZVxuXHR9KTtcbn1cbmZ1bmN0aW9uIF9jb2VyY2VUb0RpY3QodmFsdWUsIGRlZmF1bHRLZXkpIHtcblx0cmV0dXJuIHZhbHVlICYmICFBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgPyB2YWx1ZSA6IHsgW2RlZmF1bHRLZXldOiB2YWx1ZSB9O1xufVxuZnVuY3Rpb24gaXNCYXNlVHJhY2VyKHgpIHtcblx0cmV0dXJuIHR5cGVvZiB4Ll9hZGRSdW5Ub1J1bk1hcCA9PT0gXCJmdW5jdGlvblwiO1xufVxudmFyIEJhc2VUcmFjZXIgPSBjbGFzcyBleHRlbmRzIEJhc2VDYWxsYmFja0hhbmRsZXIge1xuXHQvKiogQGRlcHJlY2F0ZWQgVXNlIGBydW5UcmVlTWFwYCBpbnN0ZWFkLiAqL1xuXHRydW5NYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuXHRydW5UcmVlTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcblx0dXNlc1J1blRyZWVNYXAgPSBmYWxzZTtcblx0Y29uc3RydWN0b3IoX2ZpZWxkcykge1xuXHRcdHN1cGVyKC4uLmFyZ3VtZW50cyk7XG5cdH1cblx0Y29weSgpIHtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXHRnZXRSdW5CeUlkKHJ1bklkKSB7XG5cdFx0aWYgKHJ1bklkID09PSB2b2lkIDApIHJldHVybiB2b2lkIDA7XG5cdFx0cmV0dXJuIHRoaXMudXNlc1J1blRyZWVNYXAgPyBjb252ZXJ0UnVuVHJlZVRvUnVuKHRoaXMucnVuVHJlZU1hcC5nZXQocnVuSWQpKSA6IHRoaXMucnVuTWFwLmdldChydW5JZCk7XG5cdH1cblx0c3RyaW5naWZ5RXJyb3IoZXJyb3IpIHtcblx0XHRpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikgcmV0dXJuIGVycm9yLm1lc3NhZ2UgKyAoZXJyb3I/LnN0YWNrID8gYFxcblxcbiR7ZXJyb3Iuc3RhY2t9YCA6IFwiXCIpO1xuXHRcdGlmICh0eXBlb2YgZXJyb3IgPT09IFwic3RyaW5nXCIpIHJldHVybiBlcnJvcjtcblx0XHRyZXR1cm4gYCR7ZXJyb3J9YDtcblx0fVxuXHRfYWRkQ2hpbGRSdW4ocGFyZW50UnVuLCBjaGlsZFJ1bikge1xuXHRcdHBhcmVudFJ1bi5jaGlsZF9ydW5zLnB1c2goY2hpbGRSdW4pO1xuXHR9XG5cdF9hZGRSdW5Ub1J1bk1hcChydW4pIHtcblx0XHRjb25zdCB7IGRvdHRlZE9yZGVyOiBjdXJyZW50RG90dGVkT3JkZXIsIG1pY3Jvc2Vjb25kUHJlY2lzaW9uRGF0ZXN0cmluZyB9ID0gY29udmVydFRvRG90dGVkT3JkZXJGb3JtYXQobmV3IERhdGUocnVuLnN0YXJ0X3RpbWUpLmdldFRpbWUoKSwgcnVuLmlkLCBydW4uZXhlY3V0aW9uX29yZGVyKTtcblx0XHRjb25zdCBzdG9yZWRSdW4gPSB7IC4uLnJ1biB9O1xuXHRcdGNvbnN0IHBhcmVudFJ1biA9IHRoaXMuZ2V0UnVuQnlJZChzdG9yZWRSdW4ucGFyZW50X3J1bl9pZCk7XG5cdFx0aWYgKHN0b3JlZFJ1bi5wYXJlbnRfcnVuX2lkICE9PSB2b2lkIDApIHtcblx0XHRcdGlmIChwYXJlbnRSdW4pIHtcblx0XHRcdFx0dGhpcy5fYWRkQ2hpbGRSdW4ocGFyZW50UnVuLCBzdG9yZWRSdW4pO1xuXHRcdFx0XHRwYXJlbnRSdW4uY2hpbGRfZXhlY3V0aW9uX29yZGVyID0gTWF0aC5tYXgocGFyZW50UnVuLmNoaWxkX2V4ZWN1dGlvbl9vcmRlciwgc3RvcmVkUnVuLmNoaWxkX2V4ZWN1dGlvbl9vcmRlcik7XG5cdFx0XHRcdHN0b3JlZFJ1bi50cmFjZV9pZCA9IHBhcmVudFJ1bi50cmFjZV9pZDtcblx0XHRcdFx0aWYgKHBhcmVudFJ1bi5kb3R0ZWRfb3JkZXIgIT09IHZvaWQgMCkge1xuXHRcdFx0XHRcdHN0b3JlZFJ1bi5kb3R0ZWRfb3JkZXIgPSBbcGFyZW50UnVuLmRvdHRlZF9vcmRlciwgY3VycmVudERvdHRlZE9yZGVyXS5qb2luKFwiLlwiKTtcblx0XHRcdFx0XHRzdG9yZWRSdW4uX3NlcmlhbGl6ZWRfc3RhcnRfdGltZSA9IG1pY3Jvc2Vjb25kUHJlY2lzaW9uRGF0ZXN0cmluZztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdG9yZWRSdW4udHJhY2VfaWQgPSBzdG9yZWRSdW4uaWQ7XG5cdFx0XHRzdG9yZWRSdW4uZG90dGVkX29yZGVyID0gY3VycmVudERvdHRlZE9yZGVyO1xuXHRcdFx0c3RvcmVkUnVuLl9zZXJpYWxpemVkX3N0YXJ0X3RpbWUgPSBtaWNyb3NlY29uZFByZWNpc2lvbkRhdGVzdHJpbmc7XG5cdFx0fVxuXHRcdGlmICh0aGlzLnVzZXNSdW5UcmVlTWFwKSB7XG5cdFx0XHRjb25zdCBydW5UcmVlID0gY29udmVydFJ1blRvUnVuVHJlZShzdG9yZWRSdW4sIHBhcmVudFJ1bik7XG5cdFx0XHRpZiAocnVuVHJlZSAhPT0gdm9pZCAwKSB0aGlzLnJ1blRyZWVNYXAuc2V0KHN0b3JlZFJ1bi5pZCwgcnVuVHJlZSk7XG5cdFx0fSBlbHNlIHRoaXMucnVuTWFwLnNldChzdG9yZWRSdW4uaWQsIHN0b3JlZFJ1bik7XG5cdFx0cmV0dXJuIHN0b3JlZFJ1bjtcblx0fVxuXHRhc3luYyBfZW5kVHJhY2UocnVuKSB7XG5cdFx0Y29uc3QgcGFyZW50UnVuID0gcnVuLnBhcmVudF9ydW5faWQgIT09IHZvaWQgMCAmJiB0aGlzLmdldFJ1bkJ5SWQocnVuLnBhcmVudF9ydW5faWQpO1xuXHRcdGlmIChwYXJlbnRSdW4pIHBhcmVudFJ1bi5jaGlsZF9leGVjdXRpb25fb3JkZXIgPSBNYXRoLm1heChwYXJlbnRSdW4uY2hpbGRfZXhlY3V0aW9uX29yZGVyLCBydW4uY2hpbGRfZXhlY3V0aW9uX29yZGVyKTtcblx0XHRlbHNlIGF3YWl0IHRoaXMucGVyc2lzdFJ1bihydW4pO1xuXHRcdGF3YWl0IHRoaXMub25SdW5VcGRhdGU/LihydW4pO1xuXHRcdGlmICh0aGlzLnVzZXNSdW5UcmVlTWFwKSB0aGlzLnJ1blRyZWVNYXAuZGVsZXRlKHJ1bi5pZCk7XG5cdFx0ZWxzZSB0aGlzLnJ1bk1hcC5kZWxldGUocnVuLmlkKTtcblx0fVxuXHRfZ2V0RXhlY3V0aW9uT3JkZXIocGFyZW50UnVuSWQpIHtcblx0XHRjb25zdCBwYXJlbnRSdW4gPSBwYXJlbnRSdW5JZCAhPT0gdm9pZCAwICYmIHRoaXMuZ2V0UnVuQnlJZChwYXJlbnRSdW5JZCk7XG5cdFx0aWYgKCFwYXJlbnRSdW4pIHJldHVybiAxO1xuXHRcdHJldHVybiBwYXJlbnRSdW4uY2hpbGRfZXhlY3V0aW9uX29yZGVyICsgMTtcblx0fVxuXHQvKipcblx0KiBDcmVhdGUgYW5kIGFkZCBhIHJ1biB0byB0aGUgcnVuIG1hcCBmb3IgTExNIHN0YXJ0IGV2ZW50cy5cblx0KiBUaGlzIG11c3Qgc29tZXRpbWVzIGJlIGRvbmUgc3luY2hyb25vdXNseSB0byBhdm9pZCByYWNlIGNvbmRpdGlvbnNcblx0KiB3aGVuIGNhbGxiYWNrcyBhcmUgYmFja2dyb3VuZGVkLCBzbyB3ZSBleHBvc2UgaXQgYXMgYSBzZXBhcmF0ZSBtZXRob2QgaGVyZS5cblx0Ki9cblx0X2NyZWF0ZVJ1bkZvckxMTVN0YXJ0KGxsbSwgcHJvbXB0cywgcnVuSWQsIHBhcmVudFJ1bklkLCBleHRyYVBhcmFtcywgdGFncywgbWV0YWRhdGEsIG5hbWUpIHtcblx0XHRjb25zdCBleGVjdXRpb25fb3JkZXIgPSB0aGlzLl9nZXRFeGVjdXRpb25PcmRlcihwYXJlbnRSdW5JZCk7XG5cdFx0Y29uc3Qgc3RhcnRfdGltZSA9IERhdGUubm93KCk7XG5cdFx0Y29uc3QgZmluYWxFeHRyYVBhcmFtcyA9IG1ldGFkYXRhID8ge1xuXHRcdFx0Li4uZXh0cmFQYXJhbXMsXG5cdFx0XHRtZXRhZGF0YVxuXHRcdH0gOiBleHRyYVBhcmFtcztcblx0XHRjb25zdCBydW4gPSB7XG5cdFx0XHRpZDogcnVuSWQsXG5cdFx0XHRuYW1lOiBuYW1lID8/IGxsbS5pZFtsbG0uaWQubGVuZ3RoIC0gMV0sXG5cdFx0XHRwYXJlbnRfcnVuX2lkOiBwYXJlbnRSdW5JZCxcblx0XHRcdHN0YXJ0X3RpbWUsXG5cdFx0XHRzZXJpYWxpemVkOiBsbG0sXG5cdFx0XHRldmVudHM6IFt7XG5cdFx0XHRcdG5hbWU6IFwic3RhcnRcIixcblx0XHRcdFx0dGltZTogbmV3IERhdGUoc3RhcnRfdGltZSkudG9JU09TdHJpbmcoKVxuXHRcdFx0fV0sXG5cdFx0XHRpbnB1dHM6IHsgcHJvbXB0cyB9LFxuXHRcdFx0ZXhlY3V0aW9uX29yZGVyLFxuXHRcdFx0Y2hpbGRfcnVuczogW10sXG5cdFx0XHRjaGlsZF9leGVjdXRpb25fb3JkZXI6IGV4ZWN1dGlvbl9vcmRlcixcblx0XHRcdHJ1bl90eXBlOiBcImxsbVwiLFxuXHRcdFx0ZXh0cmE6IGZpbmFsRXh0cmFQYXJhbXMgPz8ge30sXG5cdFx0XHR0YWdzOiB0YWdzIHx8IFtdXG5cdFx0fTtcblx0XHRyZXR1cm4gdGhpcy5fYWRkUnVuVG9SdW5NYXAocnVuKTtcblx0fVxuXHRhc3luYyBoYW5kbGVMTE1TdGFydChsbG0sIHByb21wdHMsIHJ1bklkLCBwYXJlbnRSdW5JZCwgZXh0cmFQYXJhbXMsIHRhZ3MsIG1ldGFkYXRhLCBuYW1lKSB7XG5cdFx0Y29uc3QgcnVuID0gdGhpcy5nZXRSdW5CeUlkKHJ1bklkKSA/PyB0aGlzLl9jcmVhdGVSdW5Gb3JMTE1TdGFydChsbG0sIHByb21wdHMsIHJ1bklkLCBwYXJlbnRSdW5JZCwgZXh0cmFQYXJhbXMsIHRhZ3MsIG1ldGFkYXRhLCBuYW1lKTtcblx0XHRhd2FpdCB0aGlzLm9uUnVuQ3JlYXRlPy4ocnVuKTtcblx0XHRhd2FpdCB0aGlzLm9uTExNU3RhcnQ/LihydW4pO1xuXHRcdHJldHVybiBydW47XG5cdH1cblx0LyoqXG5cdCogQ3JlYXRlIGFuZCBhZGQgYSBydW4gdG8gdGhlIHJ1biBtYXAgZm9yIGNoYXQgbW9kZWwgc3RhcnQgZXZlbnRzLlxuXHQqIFRoaXMgbXVzdCBzb21ldGltZXMgYmUgZG9uZSBzeW5jaHJvbm91c2x5IHRvIGF2b2lkIHJhY2UgY29uZGl0aW9uc1xuXHQqIHdoZW4gY2FsbGJhY2tzIGFyZSBiYWNrZ3JvdW5kZWQsIHNvIHdlIGV4cG9zZSBpdCBhcyBhIHNlcGFyYXRlIG1ldGhvZCBoZXJlLlxuXHQqL1xuXHRfY3JlYXRlUnVuRm9yQ2hhdE1vZGVsU3RhcnQobGxtLCBtZXNzYWdlcywgcnVuSWQsIHBhcmVudFJ1bklkLCBleHRyYVBhcmFtcywgdGFncywgbWV0YWRhdGEsIG5hbWUpIHtcblx0XHRjb25zdCBleGVjdXRpb25fb3JkZXIgPSB0aGlzLl9nZXRFeGVjdXRpb25PcmRlcihwYXJlbnRSdW5JZCk7XG5cdFx0Y29uc3Qgc3RhcnRfdGltZSA9IERhdGUubm93KCk7XG5cdFx0Y29uc3QgZmluYWxFeHRyYVBhcmFtcyA9IG1ldGFkYXRhID8ge1xuXHRcdFx0Li4uZXh0cmFQYXJhbXMsXG5cdFx0XHRtZXRhZGF0YVxuXHRcdH0gOiBleHRyYVBhcmFtcztcblx0XHRjb25zdCBydW4gPSB7XG5cdFx0XHRpZDogcnVuSWQsXG5cdFx0XHRuYW1lOiBuYW1lID8/IGxsbS5pZFtsbG0uaWQubGVuZ3RoIC0gMV0sXG5cdFx0XHRwYXJlbnRfcnVuX2lkOiBwYXJlbnRSdW5JZCxcblx0XHRcdHN0YXJ0X3RpbWUsXG5cdFx0XHRzZXJpYWxpemVkOiBsbG0sXG5cdFx0XHRldmVudHM6IFt7XG5cdFx0XHRcdG5hbWU6IFwic3RhcnRcIixcblx0XHRcdFx0dGltZTogbmV3IERhdGUoc3RhcnRfdGltZSkudG9JU09TdHJpbmcoKVxuXHRcdFx0fV0sXG5cdFx0XHRpbnB1dHM6IHsgbWVzc2FnZXMgfSxcblx0XHRcdGV4ZWN1dGlvbl9vcmRlcixcblx0XHRcdGNoaWxkX3J1bnM6IFtdLFxuXHRcdFx0Y2hpbGRfZXhlY3V0aW9uX29yZGVyOiBleGVjdXRpb25fb3JkZXIsXG5cdFx0XHRydW5fdHlwZTogXCJsbG1cIixcblx0XHRcdGV4dHJhOiBmaW5hbEV4dHJhUGFyYW1zID8/IHt9LFxuXHRcdFx0dGFnczogdGFncyB8fCBbXVxuXHRcdH07XG5cdFx0cmV0dXJuIHRoaXMuX2FkZFJ1blRvUnVuTWFwKHJ1bik7XG5cdH1cblx0YXN5bmMgaGFuZGxlQ2hhdE1vZGVsU3RhcnQobGxtLCBtZXNzYWdlcywgcnVuSWQsIHBhcmVudFJ1bklkLCBleHRyYVBhcmFtcywgdGFncywgbWV0YWRhdGEsIG5hbWUpIHtcblx0XHRjb25zdCBydW4gPSB0aGlzLmdldFJ1bkJ5SWQocnVuSWQpID8/IHRoaXMuX2NyZWF0ZVJ1bkZvckNoYXRNb2RlbFN0YXJ0KGxsbSwgbWVzc2FnZXMsIHJ1bklkLCBwYXJlbnRSdW5JZCwgZXh0cmFQYXJhbXMsIHRhZ3MsIG1ldGFkYXRhLCBuYW1lKTtcblx0XHRhd2FpdCB0aGlzLm9uUnVuQ3JlYXRlPy4ocnVuKTtcblx0XHRhd2FpdCB0aGlzLm9uTExNU3RhcnQ/LihydW4pO1xuXHRcdHJldHVybiBydW47XG5cdH1cblx0YXN5bmMgaGFuZGxlTExNRW5kKG91dHB1dCwgcnVuSWQsIF9wYXJlbnRSdW5JZCwgX3RhZ3MsIGV4dHJhUGFyYW1zKSB7XG5cdFx0Y29uc3QgcnVuID0gdGhpcy5nZXRSdW5CeUlkKHJ1bklkKTtcblx0XHRpZiAoIXJ1biB8fCBydW4/LnJ1bl90eXBlICE9PSBcImxsbVwiKSB0aHJvdyBuZXcgRXJyb3IoXCJObyBMTE0gcnVuIHRvIGVuZC5cIik7XG5cdFx0cnVuLmVuZF90aW1lID0gRGF0ZS5ub3coKTtcblx0XHRydW4ub3V0cHV0cyA9IG91dHB1dDtcblx0XHRydW4uZXZlbnRzLnB1c2goe1xuXHRcdFx0bmFtZTogXCJlbmRcIixcblx0XHRcdHRpbWU6IG5ldyBEYXRlKHJ1bi5lbmRfdGltZSkudG9JU09TdHJpbmcoKVxuXHRcdH0pO1xuXHRcdHJ1bi5leHRyYSA9IHtcblx0XHRcdC4uLnJ1bi5leHRyYSxcblx0XHRcdC4uLmV4dHJhUGFyYW1zXG5cdFx0fTtcblx0XHRhd2FpdCB0aGlzLm9uTExNRW5kPy4ocnVuKTtcblx0XHRhd2FpdCB0aGlzLl9lbmRUcmFjZShydW4pO1xuXHRcdHJldHVybiBydW47XG5cdH1cblx0YXN5bmMgaGFuZGxlTExNRXJyb3IoZXJyb3IsIHJ1bklkLCBfcGFyZW50UnVuSWQsIF90YWdzLCBleHRyYVBhcmFtcykge1xuXHRcdGNvbnN0IHJ1biA9IHRoaXMuZ2V0UnVuQnlJZChydW5JZCk7XG5cdFx0aWYgKCFydW4gfHwgcnVuPy5ydW5fdHlwZSAhPT0gXCJsbG1cIikgdGhyb3cgbmV3IEVycm9yKFwiTm8gTExNIHJ1biB0byBlbmQuXCIpO1xuXHRcdHJ1bi5lbmRfdGltZSA9IERhdGUubm93KCk7XG5cdFx0cnVuLmVycm9yID0gdGhpcy5zdHJpbmdpZnlFcnJvcihlcnJvcik7XG5cdFx0cnVuLmV2ZW50cy5wdXNoKHtcblx0XHRcdG5hbWU6IFwiZXJyb3JcIixcblx0XHRcdHRpbWU6IG5ldyBEYXRlKHJ1bi5lbmRfdGltZSkudG9JU09TdHJpbmcoKVxuXHRcdH0pO1xuXHRcdHJ1bi5leHRyYSA9IHtcblx0XHRcdC4uLnJ1bi5leHRyYSxcblx0XHRcdC4uLmV4dHJhUGFyYW1zXG5cdFx0fTtcblx0XHRhd2FpdCB0aGlzLm9uTExNRXJyb3I/LihydW4pO1xuXHRcdGF3YWl0IHRoaXMuX2VuZFRyYWNlKHJ1bik7XG5cdFx0cmV0dXJuIHJ1bjtcblx0fVxuXHQvKipcblx0KiBDcmVhdGUgYW5kIGFkZCBhIHJ1biB0byB0aGUgcnVuIG1hcCBmb3IgY2hhaW4gc3RhcnQgZXZlbnRzLlxuXHQqIFRoaXMgbXVzdCBzb21ldGltZXMgYmUgZG9uZSBzeW5jaHJvbm91c2x5IHRvIGF2b2lkIHJhY2UgY29uZGl0aW9uc1xuXHQqIHdoZW4gY2FsbGJhY2tzIGFyZSBiYWNrZ3JvdW5kZWQsIHNvIHdlIGV4cG9zZSBpdCBhcyBhIHNlcGFyYXRlIG1ldGhvZCBoZXJlLlxuXHQqL1xuXHRfY3JlYXRlUnVuRm9yQ2hhaW5TdGFydChjaGFpbiwgaW5wdXRzLCBydW5JZCwgcGFyZW50UnVuSWQsIHRhZ3MsIG1ldGFkYXRhLCBydW5UeXBlLCBuYW1lKSB7XG5cdFx0Y29uc3QgZXhlY3V0aW9uX29yZGVyID0gdGhpcy5fZ2V0RXhlY3V0aW9uT3JkZXIocGFyZW50UnVuSWQpO1xuXHRcdGNvbnN0IHN0YXJ0X3RpbWUgPSBEYXRlLm5vdygpO1xuXHRcdGNvbnN0IHJ1biA9IHtcblx0XHRcdGlkOiBydW5JZCxcblx0XHRcdG5hbWU6IG5hbWUgPz8gY2hhaW4uaWRbY2hhaW4uaWQubGVuZ3RoIC0gMV0sXG5cdFx0XHRwYXJlbnRfcnVuX2lkOiBwYXJlbnRSdW5JZCxcblx0XHRcdHN0YXJ0X3RpbWUsXG5cdFx0XHRzZXJpYWxpemVkOiBjaGFpbixcblx0XHRcdGV2ZW50czogW3tcblx0XHRcdFx0bmFtZTogXCJzdGFydFwiLFxuXHRcdFx0XHR0aW1lOiBuZXcgRGF0ZShzdGFydF90aW1lKS50b0lTT1N0cmluZygpXG5cdFx0XHR9XSxcblx0XHRcdGlucHV0cyxcblx0XHRcdGV4ZWN1dGlvbl9vcmRlcixcblx0XHRcdGNoaWxkX2V4ZWN1dGlvbl9vcmRlcjogZXhlY3V0aW9uX29yZGVyLFxuXHRcdFx0cnVuX3R5cGU6IHJ1blR5cGUgPz8gXCJjaGFpblwiLFxuXHRcdFx0Y2hpbGRfcnVuczogW10sXG5cdFx0XHRleHRyYTogbWV0YWRhdGEgPyB7IG1ldGFkYXRhIH0gOiB7fSxcblx0XHRcdHRhZ3M6IHRhZ3MgfHwgW11cblx0XHR9O1xuXHRcdHJldHVybiB0aGlzLl9hZGRSdW5Ub1J1bk1hcChydW4pO1xuXHR9XG5cdGFzeW5jIGhhbmRsZUNoYWluU3RhcnQoY2hhaW4sIGlucHV0cywgcnVuSWQsIHBhcmVudFJ1bklkLCB0YWdzLCBtZXRhZGF0YSwgcnVuVHlwZSwgbmFtZSkge1xuXHRcdGNvbnN0IHJ1biA9IHRoaXMuZ2V0UnVuQnlJZChydW5JZCkgPz8gdGhpcy5fY3JlYXRlUnVuRm9yQ2hhaW5TdGFydChjaGFpbiwgaW5wdXRzLCBydW5JZCwgcGFyZW50UnVuSWQsIHRhZ3MsIG1ldGFkYXRhLCBydW5UeXBlLCBuYW1lKTtcblx0XHRhd2FpdCB0aGlzLm9uUnVuQ3JlYXRlPy4ocnVuKTtcblx0XHRhd2FpdCB0aGlzLm9uQ2hhaW5TdGFydD8uKHJ1bik7XG5cdFx0cmV0dXJuIHJ1bjtcblx0fVxuXHRhc3luYyBoYW5kbGVDaGFpbkVuZChvdXRwdXRzLCBydW5JZCwgX3BhcmVudFJ1bklkLCBfdGFncywga3dhcmdzKSB7XG5cdFx0Y29uc3QgcnVuID0gdGhpcy5nZXRSdW5CeUlkKHJ1bklkKTtcblx0XHRpZiAoIXJ1bikgdGhyb3cgbmV3IEVycm9yKFwiTm8gY2hhaW4gcnVuIHRvIGVuZC5cIik7XG5cdFx0cnVuLmVuZF90aW1lID0gRGF0ZS5ub3coKTtcblx0XHRydW4ub3V0cHV0cyA9IF9jb2VyY2VUb0RpY3Qob3V0cHV0cywgXCJvdXRwdXRcIik7XG5cdFx0cnVuLmV2ZW50cy5wdXNoKHtcblx0XHRcdG5hbWU6IFwiZW5kXCIsXG5cdFx0XHR0aW1lOiBuZXcgRGF0ZShydW4uZW5kX3RpbWUpLnRvSVNPU3RyaW5nKClcblx0XHR9KTtcblx0XHRpZiAoa3dhcmdzPy5pbnB1dHMgIT09IHZvaWQgMCkgcnVuLmlucHV0cyA9IF9jb2VyY2VUb0RpY3Qoa3dhcmdzLmlucHV0cywgXCJpbnB1dFwiKTtcblx0XHRhd2FpdCB0aGlzLm9uQ2hhaW5FbmQ/LihydW4pO1xuXHRcdGF3YWl0IHRoaXMuX2VuZFRyYWNlKHJ1bik7XG5cdFx0cmV0dXJuIHJ1bjtcblx0fVxuXHRhc3luYyBoYW5kbGVDaGFpbkVycm9yKGVycm9yLCBydW5JZCwgX3BhcmVudFJ1bklkLCBfdGFncywga3dhcmdzKSB7XG5cdFx0Y29uc3QgcnVuID0gdGhpcy5nZXRSdW5CeUlkKHJ1bklkKTtcblx0XHRpZiAoIXJ1bikgdGhyb3cgbmV3IEVycm9yKFwiTm8gY2hhaW4gcnVuIHRvIGVuZC5cIik7XG5cdFx0cnVuLmVuZF90aW1lID0gRGF0ZS5ub3coKTtcblx0XHRydW4uZXJyb3IgPSB0aGlzLnN0cmluZ2lmeUVycm9yKGVycm9yKTtcblx0XHRydW4uZXZlbnRzLnB1c2goe1xuXHRcdFx0bmFtZTogXCJlcnJvclwiLFxuXHRcdFx0dGltZTogbmV3IERhdGUocnVuLmVuZF90aW1lKS50b0lTT1N0cmluZygpXG5cdFx0fSk7XG5cdFx0aWYgKGt3YXJncz8uaW5wdXRzICE9PSB2b2lkIDApIHJ1bi5pbnB1dHMgPSBfY29lcmNlVG9EaWN0KGt3YXJncy5pbnB1dHMsIFwiaW5wdXRcIik7XG5cdFx0YXdhaXQgdGhpcy5vbkNoYWluRXJyb3I/LihydW4pO1xuXHRcdGF3YWl0IHRoaXMuX2VuZFRyYWNlKHJ1bik7XG5cdFx0cmV0dXJuIHJ1bjtcblx0fVxuXHQvKipcblx0KiBDcmVhdGUgYW5kIGFkZCBhIHJ1biB0byB0aGUgcnVuIG1hcCBmb3IgdG9vbCBzdGFydCBldmVudHMuXG5cdCogVGhpcyBtdXN0IHNvbWV0aW1lcyBiZSBkb25lIHN5bmNocm9ub3VzbHkgdG8gYXZvaWQgcmFjZSBjb25kaXRpb25zXG5cdCogd2hlbiBjYWxsYmFja3MgYXJlIGJhY2tncm91bmRlZCwgc28gd2UgZXhwb3NlIGl0IGFzIGEgc2VwYXJhdGUgbWV0aG9kIGhlcmUuXG5cdCovXG5cdF9jcmVhdGVSdW5Gb3JUb29sU3RhcnQodG9vbCwgaW5wdXQsIHJ1bklkLCBwYXJlbnRSdW5JZCwgdGFncywgbWV0YWRhdGEsIG5hbWUpIHtcblx0XHRjb25zdCBleGVjdXRpb25fb3JkZXIgPSB0aGlzLl9nZXRFeGVjdXRpb25PcmRlcihwYXJlbnRSdW5JZCk7XG5cdFx0Y29uc3Qgc3RhcnRfdGltZSA9IERhdGUubm93KCk7XG5cdFx0Y29uc3QgcnVuID0ge1xuXHRcdFx0aWQ6IHJ1bklkLFxuXHRcdFx0bmFtZTogbmFtZSA/PyB0b29sLmlkW3Rvb2wuaWQubGVuZ3RoIC0gMV0sXG5cdFx0XHRwYXJlbnRfcnVuX2lkOiBwYXJlbnRSdW5JZCxcblx0XHRcdHN0YXJ0X3RpbWUsXG5cdFx0XHRzZXJpYWxpemVkOiB0b29sLFxuXHRcdFx0ZXZlbnRzOiBbe1xuXHRcdFx0XHRuYW1lOiBcInN0YXJ0XCIsXG5cdFx0XHRcdHRpbWU6IG5ldyBEYXRlKHN0YXJ0X3RpbWUpLnRvSVNPU3RyaW5nKClcblx0XHRcdH1dLFxuXHRcdFx0aW5wdXRzOiB7IGlucHV0IH0sXG5cdFx0XHRleGVjdXRpb25fb3JkZXIsXG5cdFx0XHRjaGlsZF9leGVjdXRpb25fb3JkZXI6IGV4ZWN1dGlvbl9vcmRlcixcblx0XHRcdHJ1bl90eXBlOiBcInRvb2xcIixcblx0XHRcdGNoaWxkX3J1bnM6IFtdLFxuXHRcdFx0ZXh0cmE6IG1ldGFkYXRhID8geyBtZXRhZGF0YSB9IDoge30sXG5cdFx0XHR0YWdzOiB0YWdzIHx8IFtdXG5cdFx0fTtcblx0XHRyZXR1cm4gdGhpcy5fYWRkUnVuVG9SdW5NYXAocnVuKTtcblx0fVxuXHRhc3luYyBoYW5kbGVUb29sU3RhcnQodG9vbCwgaW5wdXQsIHJ1bklkLCBwYXJlbnRSdW5JZCwgdGFncywgbWV0YWRhdGEsIG5hbWUpIHtcblx0XHRjb25zdCBydW4gPSB0aGlzLmdldFJ1bkJ5SWQocnVuSWQpID8/IHRoaXMuX2NyZWF0ZVJ1bkZvclRvb2xTdGFydCh0b29sLCBpbnB1dCwgcnVuSWQsIHBhcmVudFJ1bklkLCB0YWdzLCBtZXRhZGF0YSwgbmFtZSk7XG5cdFx0YXdhaXQgdGhpcy5vblJ1bkNyZWF0ZT8uKHJ1bik7XG5cdFx0YXdhaXQgdGhpcy5vblRvb2xTdGFydD8uKHJ1bik7XG5cdFx0cmV0dXJuIHJ1bjtcblx0fVxuXHRhc3luYyBoYW5kbGVUb29sRW5kKG91dHB1dCwgcnVuSWQpIHtcblx0XHRjb25zdCBydW4gPSB0aGlzLmdldFJ1bkJ5SWQocnVuSWQpO1xuXHRcdGlmICghcnVuIHx8IHJ1bj8ucnVuX3R5cGUgIT09IFwidG9vbFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJObyB0b29sIHJ1biB0byBlbmRcIik7XG5cdFx0cnVuLmVuZF90aW1lID0gRGF0ZS5ub3coKTtcblx0XHRydW4ub3V0cHV0cyA9IHsgb3V0cHV0IH07XG5cdFx0cnVuLmV2ZW50cy5wdXNoKHtcblx0XHRcdG5hbWU6IFwiZW5kXCIsXG5cdFx0XHR0aW1lOiBuZXcgRGF0ZShydW4uZW5kX3RpbWUpLnRvSVNPU3RyaW5nKClcblx0XHR9KTtcblx0XHRhd2FpdCB0aGlzLm9uVG9vbEVuZD8uKHJ1bik7XG5cdFx0YXdhaXQgdGhpcy5fZW5kVHJhY2UocnVuKTtcblx0XHRyZXR1cm4gcnVuO1xuXHR9XG5cdGFzeW5jIGhhbmRsZVRvb2xFcnJvcihlcnJvciwgcnVuSWQpIHtcblx0XHRjb25zdCBydW4gPSB0aGlzLmdldFJ1bkJ5SWQocnVuSWQpO1xuXHRcdGlmICghcnVuIHx8IHJ1bj8ucnVuX3R5cGUgIT09IFwidG9vbFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJObyB0b29sIHJ1biB0byBlbmRcIik7XG5cdFx0cnVuLmVuZF90aW1lID0gRGF0ZS5ub3coKTtcblx0XHRydW4uZXJyb3IgPSB0aGlzLnN0cmluZ2lmeUVycm9yKGVycm9yKTtcblx0XHRydW4uZXZlbnRzLnB1c2goe1xuXHRcdFx0bmFtZTogXCJlcnJvclwiLFxuXHRcdFx0dGltZTogbmV3IERhdGUocnVuLmVuZF90aW1lKS50b0lTT1N0cmluZygpXG5cdFx0fSk7XG5cdFx0YXdhaXQgdGhpcy5vblRvb2xFcnJvcj8uKHJ1bik7XG5cdFx0YXdhaXQgdGhpcy5fZW5kVHJhY2UocnVuKTtcblx0XHRyZXR1cm4gcnVuO1xuXHR9XG5cdGFzeW5jIGhhbmRsZUFnZW50QWN0aW9uKGFjdGlvbiwgcnVuSWQpIHtcblx0XHRjb25zdCBydW4gPSB0aGlzLmdldFJ1bkJ5SWQocnVuSWQpO1xuXHRcdGlmICghcnVuIHx8IHJ1bj8ucnVuX3R5cGUgIT09IFwiY2hhaW5cIikgcmV0dXJuO1xuXHRcdGNvbnN0IGFnZW50UnVuID0gcnVuO1xuXHRcdGFnZW50UnVuLmFjdGlvbnMgPSBhZ2VudFJ1bi5hY3Rpb25zIHx8IFtdO1xuXHRcdGFnZW50UnVuLmFjdGlvbnMucHVzaChhY3Rpb24pO1xuXHRcdGFnZW50UnVuLmV2ZW50cy5wdXNoKHtcblx0XHRcdG5hbWU6IFwiYWdlbnRfYWN0aW9uXCIsXG5cdFx0XHR0aW1lOiAoLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCkpLnRvSVNPU3RyaW5nKCksXG5cdFx0XHRrd2FyZ3M6IHsgYWN0aW9uIH1cblx0XHR9KTtcblx0XHRhd2FpdCB0aGlzLm9uQWdlbnRBY3Rpb24/LihydW4pO1xuXHR9XG5cdGFzeW5jIGhhbmRsZUFnZW50RW5kKGFjdGlvbiwgcnVuSWQpIHtcblx0XHRjb25zdCBydW4gPSB0aGlzLmdldFJ1bkJ5SWQocnVuSWQpO1xuXHRcdGlmICghcnVuIHx8IHJ1bj8ucnVuX3R5cGUgIT09IFwiY2hhaW5cIikgcmV0dXJuO1xuXHRcdHJ1bi5ldmVudHMucHVzaCh7XG5cdFx0XHRuYW1lOiBcImFnZW50X2VuZFwiLFxuXHRcdFx0dGltZTogKC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpKS50b0lTT1N0cmluZygpLFxuXHRcdFx0a3dhcmdzOiB7IGFjdGlvbiB9XG5cdFx0fSk7XG5cdFx0YXdhaXQgdGhpcy5vbkFnZW50RW5kPy4ocnVuKTtcblx0fVxuXHQvKipcblx0KiBDcmVhdGUgYW5kIGFkZCBhIHJ1biB0byB0aGUgcnVuIG1hcCBmb3IgcmV0cmlldmVyIHN0YXJ0IGV2ZW50cy5cblx0KiBUaGlzIG11c3Qgc29tZXRpbWVzIGJlIGRvbmUgc3luY2hyb25vdXNseSB0byBhdm9pZCByYWNlIGNvbmRpdGlvbnNcblx0KiB3aGVuIGNhbGxiYWNrcyBhcmUgYmFja2dyb3VuZGVkLCBzbyB3ZSBleHBvc2UgaXQgYXMgYSBzZXBhcmF0ZSBtZXRob2QgaGVyZS5cblx0Ki9cblx0X2NyZWF0ZVJ1bkZvclJldHJpZXZlclN0YXJ0KHJldHJpZXZlciwgcXVlcnksIHJ1bklkLCBwYXJlbnRSdW5JZCwgdGFncywgbWV0YWRhdGEsIG5hbWUpIHtcblx0XHRjb25zdCBleGVjdXRpb25fb3JkZXIgPSB0aGlzLl9nZXRFeGVjdXRpb25PcmRlcihwYXJlbnRSdW5JZCk7XG5cdFx0Y29uc3Qgc3RhcnRfdGltZSA9IERhdGUubm93KCk7XG5cdFx0Y29uc3QgcnVuID0ge1xuXHRcdFx0aWQ6IHJ1bklkLFxuXHRcdFx0bmFtZTogbmFtZSA/PyByZXRyaWV2ZXIuaWRbcmV0cmlldmVyLmlkLmxlbmd0aCAtIDFdLFxuXHRcdFx0cGFyZW50X3J1bl9pZDogcGFyZW50UnVuSWQsXG5cdFx0XHRzdGFydF90aW1lLFxuXHRcdFx0c2VyaWFsaXplZDogcmV0cmlldmVyLFxuXHRcdFx0ZXZlbnRzOiBbe1xuXHRcdFx0XHRuYW1lOiBcInN0YXJ0XCIsXG5cdFx0XHRcdHRpbWU6IG5ldyBEYXRlKHN0YXJ0X3RpbWUpLnRvSVNPU3RyaW5nKClcblx0XHRcdH1dLFxuXHRcdFx0aW5wdXRzOiB7IHF1ZXJ5IH0sXG5cdFx0XHRleGVjdXRpb25fb3JkZXIsXG5cdFx0XHRjaGlsZF9leGVjdXRpb25fb3JkZXI6IGV4ZWN1dGlvbl9vcmRlcixcblx0XHRcdHJ1bl90eXBlOiBcInJldHJpZXZlclwiLFxuXHRcdFx0Y2hpbGRfcnVuczogW10sXG5cdFx0XHRleHRyYTogbWV0YWRhdGEgPyB7IG1ldGFkYXRhIH0gOiB7fSxcblx0XHRcdHRhZ3M6IHRhZ3MgfHwgW11cblx0XHR9O1xuXHRcdHJldHVybiB0aGlzLl9hZGRSdW5Ub1J1bk1hcChydW4pO1xuXHR9XG5cdGFzeW5jIGhhbmRsZVJldHJpZXZlclN0YXJ0KHJldHJpZXZlciwgcXVlcnksIHJ1bklkLCBwYXJlbnRSdW5JZCwgdGFncywgbWV0YWRhdGEsIG5hbWUpIHtcblx0XHRjb25zdCBydW4gPSB0aGlzLmdldFJ1bkJ5SWQocnVuSWQpID8/IHRoaXMuX2NyZWF0ZVJ1bkZvclJldHJpZXZlclN0YXJ0KHJldHJpZXZlciwgcXVlcnksIHJ1bklkLCBwYXJlbnRSdW5JZCwgdGFncywgbWV0YWRhdGEsIG5hbWUpO1xuXHRcdGF3YWl0IHRoaXMub25SdW5DcmVhdGU/LihydW4pO1xuXHRcdGF3YWl0IHRoaXMub25SZXRyaWV2ZXJTdGFydD8uKHJ1bik7XG5cdFx0cmV0dXJuIHJ1bjtcblx0fVxuXHRhc3luYyBoYW5kbGVSZXRyaWV2ZXJFbmQoZG9jdW1lbnRzLCBydW5JZCkge1xuXHRcdGNvbnN0IHJ1biA9IHRoaXMuZ2V0UnVuQnlJZChydW5JZCk7XG5cdFx0aWYgKCFydW4gfHwgcnVuPy5ydW5fdHlwZSAhPT0gXCJyZXRyaWV2ZXJcIikgdGhyb3cgbmV3IEVycm9yKFwiTm8gcmV0cmlldmVyIHJ1biB0byBlbmRcIik7XG5cdFx0cnVuLmVuZF90aW1lID0gRGF0ZS5ub3coKTtcblx0XHRydW4ub3V0cHV0cyA9IHsgZG9jdW1lbnRzIH07XG5cdFx0cnVuLmV2ZW50cy5wdXNoKHtcblx0XHRcdG5hbWU6IFwiZW5kXCIsXG5cdFx0XHR0aW1lOiBuZXcgRGF0ZShydW4uZW5kX3RpbWUpLnRvSVNPU3RyaW5nKClcblx0XHR9KTtcblx0XHRhd2FpdCB0aGlzLm9uUmV0cmlldmVyRW5kPy4ocnVuKTtcblx0XHRhd2FpdCB0aGlzLl9lbmRUcmFjZShydW4pO1xuXHRcdHJldHVybiBydW47XG5cdH1cblx0YXN5bmMgaGFuZGxlUmV0cmlldmVyRXJyb3IoZXJyb3IsIHJ1bklkKSB7XG5cdFx0Y29uc3QgcnVuID0gdGhpcy5nZXRSdW5CeUlkKHJ1bklkKTtcblx0XHRpZiAoIXJ1biB8fCBydW4/LnJ1bl90eXBlICE9PSBcInJldHJpZXZlclwiKSB0aHJvdyBuZXcgRXJyb3IoXCJObyByZXRyaWV2ZXIgcnVuIHRvIGVuZFwiKTtcblx0XHRydW4uZW5kX3RpbWUgPSBEYXRlLm5vdygpO1xuXHRcdHJ1bi5lcnJvciA9IHRoaXMuc3RyaW5naWZ5RXJyb3IoZXJyb3IpO1xuXHRcdHJ1bi5ldmVudHMucHVzaCh7XG5cdFx0XHRuYW1lOiBcImVycm9yXCIsXG5cdFx0XHR0aW1lOiBuZXcgRGF0ZShydW4uZW5kX3RpbWUpLnRvSVNPU3RyaW5nKClcblx0XHR9KTtcblx0XHRhd2FpdCB0aGlzLm9uUmV0cmlldmVyRXJyb3I/LihydW4pO1xuXHRcdGF3YWl0IHRoaXMuX2VuZFRyYWNlKHJ1bik7XG5cdFx0cmV0dXJuIHJ1bjtcblx0fVxuXHRhc3luYyBoYW5kbGVUZXh0KHRleHQsIHJ1bklkKSB7XG5cdFx0Y29uc3QgcnVuID0gdGhpcy5nZXRSdW5CeUlkKHJ1bklkKTtcblx0XHRpZiAoIXJ1biB8fCBydW4/LnJ1bl90eXBlICE9PSBcImNoYWluXCIpIHJldHVybjtcblx0XHRydW4uZXZlbnRzLnB1c2goe1xuXHRcdFx0bmFtZTogXCJ0ZXh0XCIsXG5cdFx0XHR0aW1lOiAoLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCkpLnRvSVNPU3RyaW5nKCksXG5cdFx0XHRrd2FyZ3M6IHsgdGV4dCB9XG5cdFx0fSk7XG5cdFx0YXdhaXQgdGhpcy5vblRleHQ/LihydW4pO1xuXHR9XG5cdGFzeW5jIGhhbmRsZUxMTU5ld1Rva2VuKHRva2VuLCBpZHgsIHJ1bklkLCBfcGFyZW50UnVuSWQsIF90YWdzLCBmaWVsZHMpIHtcblx0XHRjb25zdCBydW4gPSB0aGlzLmdldFJ1bkJ5SWQocnVuSWQpO1xuXHRcdGlmICghcnVuIHx8IHJ1bj8ucnVuX3R5cGUgIT09IFwibGxtXCIpIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBcInJ1bklkXCIgcHJvdmlkZWQgdG8gXCJoYW5kbGVMTE1OZXdUb2tlblwiIGNhbGxiYWNrLmApO1xuXHRcdHJ1bi5ldmVudHMucHVzaCh7XG5cdFx0XHRuYW1lOiBcIm5ld190b2tlblwiLFxuXHRcdFx0dGltZTogKC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpKS50b0lTT1N0cmluZygpLFxuXHRcdFx0a3dhcmdzOiB7XG5cdFx0XHRcdHRva2VuLFxuXHRcdFx0XHRpZHgsXG5cdFx0XHRcdGNodW5rOiBmaWVsZHM/LmNodW5rXG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0YXdhaXQgdGhpcy5vbkxMTU5ld1Rva2VuPy4ocnVuLCB0b2tlbiwgeyBjaHVuazogZmllbGRzPy5jaHVuayB9KTtcblx0XHRyZXR1cm4gcnVuO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEJhc2VUcmFjZXIsIGJhc2VfZXhwb3J0cywgaXNCYXNlVHJhY2VyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iYXNlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/base.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/console.js":
/*!*******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/console.js ***!
  \*******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConsoleCallbackHandler: () => (/* binding */ ConsoleCallbackHandler),\n/* harmony export */   console_exports: () => (/* binding */ console_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/base.js\");\n/* harmony import */ var ansi_styles__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ansi-styles */ \"(rsc)/./node_modules/.pnpm/ansi-styles@5.2.0/node_modules/ansi-styles/index.js\");\n\n\n\n\n//#region src/tracers/console.ts\nvar console_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(console_exports, { ConsoleCallbackHandler: () => ConsoleCallbackHandler });\nfunction wrap(style, text) {\n\treturn `${style.open}${text}${style.close}`;\n}\nfunction tryJsonStringify(obj, fallback) {\n\ttry {\n\t\treturn JSON.stringify(obj, null, 2);\n\t} catch {\n\t\treturn fallback;\n\t}\n}\nfunction formatKVMapItem(value) {\n\tif (typeof value === \"string\") return value.trim();\n\tif (value === null || value === void 0) return value;\n\treturn tryJsonStringify(value, value.toString());\n}\nfunction elapsed(run) {\n\tif (!run.end_time) return \"\";\n\tconst elapsed$1 = run.end_time - run.start_time;\n\tif (elapsed$1 < 1e3) return `${elapsed$1}ms`;\n\treturn `${(elapsed$1 / 1e3).toFixed(2)}s`;\n}\nconst { color } = ansi_styles__WEBPACK_IMPORTED_MODULE_2__;\n/**\n* A tracer that logs all events to the console. It extends from the\n* `BaseTracer` class and overrides its methods to provide custom logging\n* functionality.\n* @example\n* ```typescript\n*\n* const llm = new ChatAnthropic({\n*   temperature: 0,\n*   tags: [\"example\", \"callbacks\", \"constructor\"],\n*   callbacks: [new ConsoleCallbackHandler()],\n* });\n*\n* ```\n*/\nvar ConsoleCallbackHandler = class extends _base_js__WEBPACK_IMPORTED_MODULE_1__.BaseTracer {\n\tname = \"console_callback_handler\";\n\t/**\n\t* Method used to persist the run. In this case, it simply returns a\n\t* resolved promise as there's no persistence logic.\n\t* @param _run The run to persist.\n\t* @returns A resolved promise.\n\t*/\n\tpersistRun(_run) {\n\t\treturn Promise.resolve();\n\t}\n\t/**\n\t* Method used to get all the parent runs of a given run.\n\t* @param run The run whose parents are to be retrieved.\n\t* @returns An array of parent runs.\n\t*/\n\tgetParents(run) {\n\t\tconst parents = [];\n\t\tlet currentRun = run;\n\t\twhile (currentRun.parent_run_id) {\n\t\t\tconst parent = this.runMap.get(currentRun.parent_run_id);\n\t\t\tif (parent) {\n\t\t\t\tparents.push(parent);\n\t\t\t\tcurrentRun = parent;\n\t\t\t} else break;\n\t\t}\n\t\treturn parents;\n\t}\n\t/**\n\t* Method used to get a string representation of the run's lineage, which\n\t* is used in logging.\n\t* @param run The run whose lineage is to be retrieved.\n\t* @returns A string representation of the run's lineage.\n\t*/\n\tgetBreadcrumbs(run) {\n\t\tconst parents = this.getParents(run).reverse();\n\t\tconst string = [...parents, run].map((parent, i, arr) => {\n\t\t\tconst name = `${parent.execution_order}:${parent.run_type}:${parent.name}`;\n\t\t\treturn i === arr.length - 1 ? wrap(ansi_styles__WEBPACK_IMPORTED_MODULE_2__.bold, name) : name;\n\t\t}).join(\" > \");\n\t\treturn wrap(color.grey, string);\n\t}\n\t/**\n\t* Method used to log the start of a chain run.\n\t* @param run The chain run that has started.\n\t* @returns void\n\t*/\n\tonChainStart(run) {\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconsole.log(`${wrap(color.green, \"[chain/start]\")} [${crumbs}] Entering Chain run with input: ${tryJsonStringify(run.inputs, \"[inputs]\")}`);\n\t}\n\t/**\n\t* Method used to log the end of a chain run.\n\t* @param run The chain run that has ended.\n\t* @returns void\n\t*/\n\tonChainEnd(run) {\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconsole.log(`${wrap(color.cyan, \"[chain/end]\")} [${crumbs}] [${elapsed(run)}] Exiting Chain run with output: ${tryJsonStringify(run.outputs, \"[outputs]\")}`);\n\t}\n\t/**\n\t* Method used to log any errors of a chain run.\n\t* @param run The chain run that has errored.\n\t* @returns void\n\t*/\n\tonChainError(run) {\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconsole.log(`${wrap(color.red, \"[chain/error]\")} [${crumbs}] [${elapsed(run)}] Chain run errored with error: ${tryJsonStringify(run.error, \"[error]\")}`);\n\t}\n\t/**\n\t* Method used to log the start of an LLM run.\n\t* @param run The LLM run that has started.\n\t* @returns void\n\t*/\n\tonLLMStart(run) {\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconst inputs = \"prompts\" in run.inputs ? { prompts: run.inputs.prompts.map((p) => p.trim()) } : run.inputs;\n\t\tconsole.log(`${wrap(color.green, \"[llm/start]\")} [${crumbs}] Entering LLM run with input: ${tryJsonStringify(inputs, \"[inputs]\")}`);\n\t}\n\t/**\n\t* Method used to log the end of an LLM run.\n\t* @param run The LLM run that has ended.\n\t* @returns void\n\t*/\n\tonLLMEnd(run) {\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconsole.log(`${wrap(color.cyan, \"[llm/end]\")} [${crumbs}] [${elapsed(run)}] Exiting LLM run with output: ${tryJsonStringify(run.outputs, \"[response]\")}`);\n\t}\n\t/**\n\t* Method used to log any errors of an LLM run.\n\t* @param run The LLM run that has errored.\n\t* @returns void\n\t*/\n\tonLLMError(run) {\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconsole.log(`${wrap(color.red, \"[llm/error]\")} [${crumbs}] [${elapsed(run)}] LLM run errored with error: ${tryJsonStringify(run.error, \"[error]\")}`);\n\t}\n\t/**\n\t* Method used to log the start of a tool run.\n\t* @param run The tool run that has started.\n\t* @returns void\n\t*/\n\tonToolStart(run) {\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconsole.log(`${wrap(color.green, \"[tool/start]\")} [${crumbs}] Entering Tool run with input: \"${formatKVMapItem(run.inputs.input)}\"`);\n\t}\n\t/**\n\t* Method used to log the end of a tool run.\n\t* @param run The tool run that has ended.\n\t* @returns void\n\t*/\n\tonToolEnd(run) {\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconsole.log(`${wrap(color.cyan, \"[tool/end]\")} [${crumbs}] [${elapsed(run)}] Exiting Tool run with output: \"${formatKVMapItem(run.outputs?.output)}\"`);\n\t}\n\t/**\n\t* Method used to log any errors of a tool run.\n\t* @param run The tool run that has errored.\n\t* @returns void\n\t*/\n\tonToolError(run) {\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconsole.log(`${wrap(color.red, \"[tool/error]\")} [${crumbs}] [${elapsed(run)}] Tool run errored with error: ${tryJsonStringify(run.error, \"[error]\")}`);\n\t}\n\t/**\n\t* Method used to log the start of a retriever run.\n\t* @param run The retriever run that has started.\n\t* @returns void\n\t*/\n\tonRetrieverStart(run) {\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconsole.log(`${wrap(color.green, \"[retriever/start]\")} [${crumbs}] Entering Retriever run with input: ${tryJsonStringify(run.inputs, \"[inputs]\")}`);\n\t}\n\t/**\n\t* Method used to log the end of a retriever run.\n\t* @param run The retriever run that has ended.\n\t* @returns void\n\t*/\n\tonRetrieverEnd(run) {\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconsole.log(`${wrap(color.cyan, \"[retriever/end]\")} [${crumbs}] [${elapsed(run)}] Exiting Retriever run with output: ${tryJsonStringify(run.outputs, \"[outputs]\")}`);\n\t}\n\t/**\n\t* Method used to log any errors of a retriever run.\n\t* @param run The retriever run that has errored.\n\t* @returns void\n\t*/\n\tonRetrieverError(run) {\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconsole.log(`${wrap(color.red, \"[retriever/error]\")} [${crumbs}] [${elapsed(run)}] Retriever run errored with error: ${tryJsonStringify(run.error, \"[error]\")}`);\n\t}\n\t/**\n\t* Method used to log the action selected by the agent.\n\t* @param run The run in which the agent action occurred.\n\t* @returns void\n\t*/\n\tonAgentAction(run) {\n\t\tconst agentRun = run;\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconsole.log(`${wrap(color.blue, \"[agent/action]\")} [${crumbs}] Agent selected action: ${tryJsonStringify(agentRun.actions[agentRun.actions.length - 1], \"[action]\")}`);\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=console.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC90cmFjZXJzL2NvbnNvbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBMkQ7QUFDcEI7QUFDTjs7QUFFakM7QUFDQTtBQUNBLHNFQUFRLG9CQUFvQixzREFBc0Q7QUFDbEY7QUFDQSxXQUFXLFdBQVcsRUFBRSxLQUFLLEVBQUUsWUFBWTtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLFVBQVU7QUFDMUMsV0FBVyw2QkFBNkI7QUFDeEM7QUFDQSxRQUFRLFFBQVEsRUFBRSx3Q0FBTTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxnREFBVTtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQix1QkFBdUIsR0FBRyxnQkFBZ0IsR0FBRyxZQUFZO0FBQzVFLHNDQUFzQyw2Q0FBVztBQUNqRCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLG9DQUFvQyxHQUFHLE9BQU8sbUNBQW1DLHlDQUF5QztBQUMzSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGlDQUFpQyxHQUFHLE9BQU8sS0FBSyxhQUFhLG1DQUFtQywyQ0FBMkM7QUFDNUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixrQ0FBa0MsR0FBRyxPQUFPLEtBQUssYUFBYSxrQ0FBa0MsdUNBQXVDO0FBQ3hKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsbURBQW1EO0FBQ2hHLGlCQUFpQixrQ0FBa0MsR0FBRyxPQUFPLGlDQUFpQyxxQ0FBcUM7QUFDbkk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiwrQkFBK0IsR0FBRyxPQUFPLEtBQUssYUFBYSxpQ0FBaUMsNENBQTRDO0FBQ3pKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsZ0NBQWdDLEdBQUcsT0FBTyxLQUFLLGFBQWEsZ0NBQWdDLHVDQUF1QztBQUNwSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLG1DQUFtQyxHQUFHLE9BQU8sbUNBQW1DLGtDQUFrQztBQUNuSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGdDQUFnQyxHQUFHLE9BQU8sS0FBSyxhQUFhLG1DQUFtQyxxQ0FBcUM7QUFDcko7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixpQ0FBaUMsR0FBRyxPQUFPLEtBQUssYUFBYSxpQ0FBaUMsdUNBQXVDO0FBQ3RKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsd0NBQXdDLEdBQUcsT0FBTyx1Q0FBdUMseUNBQXlDO0FBQ25KO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIscUNBQXFDLEdBQUcsT0FBTyxLQUFLLGFBQWEsdUNBQXVDLDJDQUEyQztBQUNwSztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHNDQUFzQyxHQUFHLE9BQU8sS0FBSyxhQUFhLHNDQUFzQyx1Q0FBdUM7QUFDaEs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLG9DQUFvQyxHQUFHLE9BQU8sMkJBQTJCLDRFQUE0RTtBQUN0SztBQUNBOztBQUVBO0FBQ21EO0FBQ25EIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC90cmFjZXJzL2NvbnNvbGUuanM/YTgyYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2V4cG9ydCB9IGZyb20gXCIuLi9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmpzXCI7XG5pbXBvcnQgeyBCYXNlVHJhY2VyIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHN0eWxlcyBmcm9tIFwiYW5zaS1zdHlsZXNcIjtcblxuLy8jcmVnaW9uIHNyYy90cmFjZXJzL2NvbnNvbGUudHNcbnZhciBjb25zb2xlX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KGNvbnNvbGVfZXhwb3J0cywgeyBDb25zb2xlQ2FsbGJhY2tIYW5kbGVyOiAoKSA9PiBDb25zb2xlQ2FsbGJhY2tIYW5kbGVyIH0pO1xuZnVuY3Rpb24gd3JhcChzdHlsZSwgdGV4dCkge1xuXHRyZXR1cm4gYCR7c3R5bGUub3Blbn0ke3RleHR9JHtzdHlsZS5jbG9zZX1gO1xufVxuZnVuY3Rpb24gdHJ5SnNvblN0cmluZ2lmeShvYmosIGZhbGxiYWNrKSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iaiwgbnVsbCwgMik7XG5cdH0gY2F0Y2gge1xuXHRcdHJldHVybiBmYWxsYmFjaztcblx0fVxufVxuZnVuY3Rpb24gZm9ybWF0S1ZNYXBJdGVtKHZhbHVlKSB7XG5cdGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHJldHVybiB2YWx1ZS50cmltKCk7XG5cdGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdm9pZCAwKSByZXR1cm4gdmFsdWU7XG5cdHJldHVybiB0cnlKc29uU3RyaW5naWZ5KHZhbHVlLCB2YWx1ZS50b1N0cmluZygpKTtcbn1cbmZ1bmN0aW9uIGVsYXBzZWQocnVuKSB7XG5cdGlmICghcnVuLmVuZF90aW1lKSByZXR1cm4gXCJcIjtcblx0Y29uc3QgZWxhcHNlZCQxID0gcnVuLmVuZF90aW1lIC0gcnVuLnN0YXJ0X3RpbWU7XG5cdGlmIChlbGFwc2VkJDEgPCAxZTMpIHJldHVybiBgJHtlbGFwc2VkJDF9bXNgO1xuXHRyZXR1cm4gYCR7KGVsYXBzZWQkMSAvIDFlMykudG9GaXhlZCgyKX1zYDtcbn1cbmNvbnN0IHsgY29sb3IgfSA9IHN0eWxlcztcbi8qKlxuKiBBIHRyYWNlciB0aGF0IGxvZ3MgYWxsIGV2ZW50cyB0byB0aGUgY29uc29sZS4gSXQgZXh0ZW5kcyBmcm9tIHRoZVxuKiBgQmFzZVRyYWNlcmAgY2xhc3MgYW5kIG92ZXJyaWRlcyBpdHMgbWV0aG9kcyB0byBwcm92aWRlIGN1c3RvbSBsb2dnaW5nXG4qIGZ1bmN0aW9uYWxpdHkuXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbipcbiogY29uc3QgbGxtID0gbmV3IENoYXRBbnRocm9waWMoe1xuKiAgIHRlbXBlcmF0dXJlOiAwLFxuKiAgIHRhZ3M6IFtcImV4YW1wbGVcIiwgXCJjYWxsYmFja3NcIiwgXCJjb25zdHJ1Y3RvclwiXSxcbiogICBjYWxsYmFja3M6IFtuZXcgQ29uc29sZUNhbGxiYWNrSGFuZGxlcigpXSxcbiogfSk7XG4qXG4qIGBgYFxuKi9cbnZhciBDb25zb2xlQ2FsbGJhY2tIYW5kbGVyID0gY2xhc3MgZXh0ZW5kcyBCYXNlVHJhY2VyIHtcblx0bmFtZSA9IFwiY29uc29sZV9jYWxsYmFja19oYW5kbGVyXCI7XG5cdC8qKlxuXHQqIE1ldGhvZCB1c2VkIHRvIHBlcnNpc3QgdGhlIHJ1bi4gSW4gdGhpcyBjYXNlLCBpdCBzaW1wbHkgcmV0dXJucyBhXG5cdCogcmVzb2x2ZWQgcHJvbWlzZSBhcyB0aGVyZSdzIG5vIHBlcnNpc3RlbmNlIGxvZ2ljLlxuXHQqIEBwYXJhbSBfcnVuIFRoZSBydW4gdG8gcGVyc2lzdC5cblx0KiBAcmV0dXJucyBBIHJlc29sdmVkIHByb21pc2UuXG5cdCovXG5cdHBlcnNpc3RSdW4oX3J1bikge1xuXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcblx0fVxuXHQvKipcblx0KiBNZXRob2QgdXNlZCB0byBnZXQgYWxsIHRoZSBwYXJlbnQgcnVucyBvZiBhIGdpdmVuIHJ1bi5cblx0KiBAcGFyYW0gcnVuIFRoZSBydW4gd2hvc2UgcGFyZW50cyBhcmUgdG8gYmUgcmV0cmlldmVkLlxuXHQqIEByZXR1cm5zIEFuIGFycmF5IG9mIHBhcmVudCBydW5zLlxuXHQqL1xuXHRnZXRQYXJlbnRzKHJ1bikge1xuXHRcdGNvbnN0IHBhcmVudHMgPSBbXTtcblx0XHRsZXQgY3VycmVudFJ1biA9IHJ1bjtcblx0XHR3aGlsZSAoY3VycmVudFJ1bi5wYXJlbnRfcnVuX2lkKSB7XG5cdFx0XHRjb25zdCBwYXJlbnQgPSB0aGlzLnJ1bk1hcC5nZXQoY3VycmVudFJ1bi5wYXJlbnRfcnVuX2lkKTtcblx0XHRcdGlmIChwYXJlbnQpIHtcblx0XHRcdFx0cGFyZW50cy5wdXNoKHBhcmVudCk7XG5cdFx0XHRcdGN1cnJlbnRSdW4gPSBwYXJlbnQ7XG5cdFx0XHR9IGVsc2UgYnJlYWs7XG5cdFx0fVxuXHRcdHJldHVybiBwYXJlbnRzO1xuXHR9XG5cdC8qKlxuXHQqIE1ldGhvZCB1c2VkIHRvIGdldCBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgcnVuJ3MgbGluZWFnZSwgd2hpY2hcblx0KiBpcyB1c2VkIGluIGxvZ2dpbmcuXG5cdCogQHBhcmFtIHJ1biBUaGUgcnVuIHdob3NlIGxpbmVhZ2UgaXMgdG8gYmUgcmV0cmlldmVkLlxuXHQqIEByZXR1cm5zIEEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBydW4ncyBsaW5lYWdlLlxuXHQqL1xuXHRnZXRCcmVhZGNydW1icyhydW4pIHtcblx0XHRjb25zdCBwYXJlbnRzID0gdGhpcy5nZXRQYXJlbnRzKHJ1bikucmV2ZXJzZSgpO1xuXHRcdGNvbnN0IHN0cmluZyA9IFsuLi5wYXJlbnRzLCBydW5dLm1hcCgocGFyZW50LCBpLCBhcnIpID0+IHtcblx0XHRcdGNvbnN0IG5hbWUgPSBgJHtwYXJlbnQuZXhlY3V0aW9uX29yZGVyfToke3BhcmVudC5ydW5fdHlwZX06JHtwYXJlbnQubmFtZX1gO1xuXHRcdFx0cmV0dXJuIGkgPT09IGFyci5sZW5ndGggLSAxID8gd3JhcChzdHlsZXMuYm9sZCwgbmFtZSkgOiBuYW1lO1xuXHRcdH0pLmpvaW4oXCIgPiBcIik7XG5cdFx0cmV0dXJuIHdyYXAoY29sb3IuZ3JleSwgc3RyaW5nKTtcblx0fVxuXHQvKipcblx0KiBNZXRob2QgdXNlZCB0byBsb2cgdGhlIHN0YXJ0IG9mIGEgY2hhaW4gcnVuLlxuXHQqIEBwYXJhbSBydW4gVGhlIGNoYWluIHJ1biB0aGF0IGhhcyBzdGFydGVkLlxuXHQqIEByZXR1cm5zIHZvaWRcblx0Ki9cblx0b25DaGFpblN0YXJ0KHJ1bikge1xuXHRcdGNvbnN0IGNydW1icyA9IHRoaXMuZ2V0QnJlYWRjcnVtYnMocnVuKTtcblx0XHRjb25zb2xlLmxvZyhgJHt3cmFwKGNvbG9yLmdyZWVuLCBcIltjaGFpbi9zdGFydF1cIil9IFske2NydW1ic31dIEVudGVyaW5nIENoYWluIHJ1biB3aXRoIGlucHV0OiAke3RyeUpzb25TdHJpbmdpZnkocnVuLmlucHV0cywgXCJbaW5wdXRzXVwiKX1gKTtcblx0fVxuXHQvKipcblx0KiBNZXRob2QgdXNlZCB0byBsb2cgdGhlIGVuZCBvZiBhIGNoYWluIHJ1bi5cblx0KiBAcGFyYW0gcnVuIFRoZSBjaGFpbiBydW4gdGhhdCBoYXMgZW5kZWQuXG5cdCogQHJldHVybnMgdm9pZFxuXHQqL1xuXHRvbkNoYWluRW5kKHJ1bikge1xuXHRcdGNvbnN0IGNydW1icyA9IHRoaXMuZ2V0QnJlYWRjcnVtYnMocnVuKTtcblx0XHRjb25zb2xlLmxvZyhgJHt3cmFwKGNvbG9yLmN5YW4sIFwiW2NoYWluL2VuZF1cIil9IFske2NydW1ic31dIFske2VsYXBzZWQocnVuKX1dIEV4aXRpbmcgQ2hhaW4gcnVuIHdpdGggb3V0cHV0OiAke3RyeUpzb25TdHJpbmdpZnkocnVuLm91dHB1dHMsIFwiW291dHB1dHNdXCIpfWApO1xuXHR9XG5cdC8qKlxuXHQqIE1ldGhvZCB1c2VkIHRvIGxvZyBhbnkgZXJyb3JzIG9mIGEgY2hhaW4gcnVuLlxuXHQqIEBwYXJhbSBydW4gVGhlIGNoYWluIHJ1biB0aGF0IGhhcyBlcnJvcmVkLlxuXHQqIEByZXR1cm5zIHZvaWRcblx0Ki9cblx0b25DaGFpbkVycm9yKHJ1bikge1xuXHRcdGNvbnN0IGNydW1icyA9IHRoaXMuZ2V0QnJlYWRjcnVtYnMocnVuKTtcblx0XHRjb25zb2xlLmxvZyhgJHt3cmFwKGNvbG9yLnJlZCwgXCJbY2hhaW4vZXJyb3JdXCIpfSBbJHtjcnVtYnN9XSBbJHtlbGFwc2VkKHJ1bil9XSBDaGFpbiBydW4gZXJyb3JlZCB3aXRoIGVycm9yOiAke3RyeUpzb25TdHJpbmdpZnkocnVuLmVycm9yLCBcIltlcnJvcl1cIil9YCk7XG5cdH1cblx0LyoqXG5cdCogTWV0aG9kIHVzZWQgdG8gbG9nIHRoZSBzdGFydCBvZiBhbiBMTE0gcnVuLlxuXHQqIEBwYXJhbSBydW4gVGhlIExMTSBydW4gdGhhdCBoYXMgc3RhcnRlZC5cblx0KiBAcmV0dXJucyB2b2lkXG5cdCovXG5cdG9uTExNU3RhcnQocnVuKSB7XG5cdFx0Y29uc3QgY3J1bWJzID0gdGhpcy5nZXRCcmVhZGNydW1icyhydW4pO1xuXHRcdGNvbnN0IGlucHV0cyA9IFwicHJvbXB0c1wiIGluIHJ1bi5pbnB1dHMgPyB7IHByb21wdHM6IHJ1bi5pbnB1dHMucHJvbXB0cy5tYXAoKHApID0+IHAudHJpbSgpKSB9IDogcnVuLmlucHV0cztcblx0XHRjb25zb2xlLmxvZyhgJHt3cmFwKGNvbG9yLmdyZWVuLCBcIltsbG0vc3RhcnRdXCIpfSBbJHtjcnVtYnN9XSBFbnRlcmluZyBMTE0gcnVuIHdpdGggaW5wdXQ6ICR7dHJ5SnNvblN0cmluZ2lmeShpbnB1dHMsIFwiW2lucHV0c11cIil9YCk7XG5cdH1cblx0LyoqXG5cdCogTWV0aG9kIHVzZWQgdG8gbG9nIHRoZSBlbmQgb2YgYW4gTExNIHJ1bi5cblx0KiBAcGFyYW0gcnVuIFRoZSBMTE0gcnVuIHRoYXQgaGFzIGVuZGVkLlxuXHQqIEByZXR1cm5zIHZvaWRcblx0Ki9cblx0b25MTE1FbmQocnVuKSB7XG5cdFx0Y29uc3QgY3J1bWJzID0gdGhpcy5nZXRCcmVhZGNydW1icyhydW4pO1xuXHRcdGNvbnNvbGUubG9nKGAke3dyYXAoY29sb3IuY3lhbiwgXCJbbGxtL2VuZF1cIil9IFske2NydW1ic31dIFske2VsYXBzZWQocnVuKX1dIEV4aXRpbmcgTExNIHJ1biB3aXRoIG91dHB1dDogJHt0cnlKc29uU3RyaW5naWZ5KHJ1bi5vdXRwdXRzLCBcIltyZXNwb25zZV1cIil9YCk7XG5cdH1cblx0LyoqXG5cdCogTWV0aG9kIHVzZWQgdG8gbG9nIGFueSBlcnJvcnMgb2YgYW4gTExNIHJ1bi5cblx0KiBAcGFyYW0gcnVuIFRoZSBMTE0gcnVuIHRoYXQgaGFzIGVycm9yZWQuXG5cdCogQHJldHVybnMgdm9pZFxuXHQqL1xuXHRvbkxMTUVycm9yKHJ1bikge1xuXHRcdGNvbnN0IGNydW1icyA9IHRoaXMuZ2V0QnJlYWRjcnVtYnMocnVuKTtcblx0XHRjb25zb2xlLmxvZyhgJHt3cmFwKGNvbG9yLnJlZCwgXCJbbGxtL2Vycm9yXVwiKX0gWyR7Y3J1bWJzfV0gWyR7ZWxhcHNlZChydW4pfV0gTExNIHJ1biBlcnJvcmVkIHdpdGggZXJyb3I6ICR7dHJ5SnNvblN0cmluZ2lmeShydW4uZXJyb3IsIFwiW2Vycm9yXVwiKX1gKTtcblx0fVxuXHQvKipcblx0KiBNZXRob2QgdXNlZCB0byBsb2cgdGhlIHN0YXJ0IG9mIGEgdG9vbCBydW4uXG5cdCogQHBhcmFtIHJ1biBUaGUgdG9vbCBydW4gdGhhdCBoYXMgc3RhcnRlZC5cblx0KiBAcmV0dXJucyB2b2lkXG5cdCovXG5cdG9uVG9vbFN0YXJ0KHJ1bikge1xuXHRcdGNvbnN0IGNydW1icyA9IHRoaXMuZ2V0QnJlYWRjcnVtYnMocnVuKTtcblx0XHRjb25zb2xlLmxvZyhgJHt3cmFwKGNvbG9yLmdyZWVuLCBcIlt0b29sL3N0YXJ0XVwiKX0gWyR7Y3J1bWJzfV0gRW50ZXJpbmcgVG9vbCBydW4gd2l0aCBpbnB1dDogXCIke2Zvcm1hdEtWTWFwSXRlbShydW4uaW5wdXRzLmlucHV0KX1cImApO1xuXHR9XG5cdC8qKlxuXHQqIE1ldGhvZCB1c2VkIHRvIGxvZyB0aGUgZW5kIG9mIGEgdG9vbCBydW4uXG5cdCogQHBhcmFtIHJ1biBUaGUgdG9vbCBydW4gdGhhdCBoYXMgZW5kZWQuXG5cdCogQHJldHVybnMgdm9pZFxuXHQqL1xuXHRvblRvb2xFbmQocnVuKSB7XG5cdFx0Y29uc3QgY3J1bWJzID0gdGhpcy5nZXRCcmVhZGNydW1icyhydW4pO1xuXHRcdGNvbnNvbGUubG9nKGAke3dyYXAoY29sb3IuY3lhbiwgXCJbdG9vbC9lbmRdXCIpfSBbJHtjcnVtYnN9XSBbJHtlbGFwc2VkKHJ1bil9XSBFeGl0aW5nIFRvb2wgcnVuIHdpdGggb3V0cHV0OiBcIiR7Zm9ybWF0S1ZNYXBJdGVtKHJ1bi5vdXRwdXRzPy5vdXRwdXQpfVwiYCk7XG5cdH1cblx0LyoqXG5cdCogTWV0aG9kIHVzZWQgdG8gbG9nIGFueSBlcnJvcnMgb2YgYSB0b29sIHJ1bi5cblx0KiBAcGFyYW0gcnVuIFRoZSB0b29sIHJ1biB0aGF0IGhhcyBlcnJvcmVkLlxuXHQqIEByZXR1cm5zIHZvaWRcblx0Ki9cblx0b25Ub29sRXJyb3IocnVuKSB7XG5cdFx0Y29uc3QgY3J1bWJzID0gdGhpcy5nZXRCcmVhZGNydW1icyhydW4pO1xuXHRcdGNvbnNvbGUubG9nKGAke3dyYXAoY29sb3IucmVkLCBcIlt0b29sL2Vycm9yXVwiKX0gWyR7Y3J1bWJzfV0gWyR7ZWxhcHNlZChydW4pfV0gVG9vbCBydW4gZXJyb3JlZCB3aXRoIGVycm9yOiAke3RyeUpzb25TdHJpbmdpZnkocnVuLmVycm9yLCBcIltlcnJvcl1cIil9YCk7XG5cdH1cblx0LyoqXG5cdCogTWV0aG9kIHVzZWQgdG8gbG9nIHRoZSBzdGFydCBvZiBhIHJldHJpZXZlciBydW4uXG5cdCogQHBhcmFtIHJ1biBUaGUgcmV0cmlldmVyIHJ1biB0aGF0IGhhcyBzdGFydGVkLlxuXHQqIEByZXR1cm5zIHZvaWRcblx0Ki9cblx0b25SZXRyaWV2ZXJTdGFydChydW4pIHtcblx0XHRjb25zdCBjcnVtYnMgPSB0aGlzLmdldEJyZWFkY3J1bWJzKHJ1bik7XG5cdFx0Y29uc29sZS5sb2coYCR7d3JhcChjb2xvci5ncmVlbiwgXCJbcmV0cmlldmVyL3N0YXJ0XVwiKX0gWyR7Y3J1bWJzfV0gRW50ZXJpbmcgUmV0cmlldmVyIHJ1biB3aXRoIGlucHV0OiAke3RyeUpzb25TdHJpbmdpZnkocnVuLmlucHV0cywgXCJbaW5wdXRzXVwiKX1gKTtcblx0fVxuXHQvKipcblx0KiBNZXRob2QgdXNlZCB0byBsb2cgdGhlIGVuZCBvZiBhIHJldHJpZXZlciBydW4uXG5cdCogQHBhcmFtIHJ1biBUaGUgcmV0cmlldmVyIHJ1biB0aGF0IGhhcyBlbmRlZC5cblx0KiBAcmV0dXJucyB2b2lkXG5cdCovXG5cdG9uUmV0cmlldmVyRW5kKHJ1bikge1xuXHRcdGNvbnN0IGNydW1icyA9IHRoaXMuZ2V0QnJlYWRjcnVtYnMocnVuKTtcblx0XHRjb25zb2xlLmxvZyhgJHt3cmFwKGNvbG9yLmN5YW4sIFwiW3JldHJpZXZlci9lbmRdXCIpfSBbJHtjcnVtYnN9XSBbJHtlbGFwc2VkKHJ1bil9XSBFeGl0aW5nIFJldHJpZXZlciBydW4gd2l0aCBvdXRwdXQ6ICR7dHJ5SnNvblN0cmluZ2lmeShydW4ub3V0cHV0cywgXCJbb3V0cHV0c11cIil9YCk7XG5cdH1cblx0LyoqXG5cdCogTWV0aG9kIHVzZWQgdG8gbG9nIGFueSBlcnJvcnMgb2YgYSByZXRyaWV2ZXIgcnVuLlxuXHQqIEBwYXJhbSBydW4gVGhlIHJldHJpZXZlciBydW4gdGhhdCBoYXMgZXJyb3JlZC5cblx0KiBAcmV0dXJucyB2b2lkXG5cdCovXG5cdG9uUmV0cmlldmVyRXJyb3IocnVuKSB7XG5cdFx0Y29uc3QgY3J1bWJzID0gdGhpcy5nZXRCcmVhZGNydW1icyhydW4pO1xuXHRcdGNvbnNvbGUubG9nKGAke3dyYXAoY29sb3IucmVkLCBcIltyZXRyaWV2ZXIvZXJyb3JdXCIpfSBbJHtjcnVtYnN9XSBbJHtlbGFwc2VkKHJ1bil9XSBSZXRyaWV2ZXIgcnVuIGVycm9yZWQgd2l0aCBlcnJvcjogJHt0cnlKc29uU3RyaW5naWZ5KHJ1bi5lcnJvciwgXCJbZXJyb3JdXCIpfWApO1xuXHR9XG5cdC8qKlxuXHQqIE1ldGhvZCB1c2VkIHRvIGxvZyB0aGUgYWN0aW9uIHNlbGVjdGVkIGJ5IHRoZSBhZ2VudC5cblx0KiBAcGFyYW0gcnVuIFRoZSBydW4gaW4gd2hpY2ggdGhlIGFnZW50IGFjdGlvbiBvY2N1cnJlZC5cblx0KiBAcmV0dXJucyB2b2lkXG5cdCovXG5cdG9uQWdlbnRBY3Rpb24ocnVuKSB7XG5cdFx0Y29uc3QgYWdlbnRSdW4gPSBydW47XG5cdFx0Y29uc3QgY3J1bWJzID0gdGhpcy5nZXRCcmVhZGNydW1icyhydW4pO1xuXHRcdGNvbnNvbGUubG9nKGAke3dyYXAoY29sb3IuYmx1ZSwgXCJbYWdlbnQvYWN0aW9uXVwiKX0gWyR7Y3J1bWJzfV0gQWdlbnQgc2VsZWN0ZWQgYWN0aW9uOiAke3RyeUpzb25TdHJpbmdpZnkoYWdlbnRSdW4uYWN0aW9uc1thZ2VudFJ1bi5hY3Rpb25zLmxlbmd0aCAtIDFdLCBcIlthY3Rpb25dXCIpfWApO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IENvbnNvbGVDYWxsYmFja0hhbmRsZXIsIGNvbnNvbGVfZXhwb3J0cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc29sZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/console.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/event_stream.js":
/*!************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/event_stream.js ***!
  \************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EventStreamCallbackHandler: () => (/* binding */ EventStreamCallbackHandler),\n/* harmony export */   isStreamEventsHandler: () => (/* binding */ isStreamEventsHandler)\n/* harmony export */ });\n/* harmony import */ var _messages_ai_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../messages/ai.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/ai.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/base.js\");\n/* harmony import */ var _utils_stream_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/stream.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/stream.js\");\n/* harmony import */ var _outputs_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../outputs.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/outputs.js\");\n\n\n\n\n\n//#region src/tracers/event_stream.ts\nfunction assignName({ name, serialized }) {\n\tif (name !== void 0) return name;\n\tif (serialized?.name !== void 0) return serialized.name;\n\telse if (serialized?.id !== void 0 && Array.isArray(serialized?.id)) return serialized.id[serialized.id.length - 1];\n\treturn \"Unnamed\";\n}\nconst isStreamEventsHandler = (handler) => handler.name === \"event_stream_tracer\";\n/**\n* Class that extends the `BaseTracer` class from the\n* `langchain.callbacks.tracers.base` module. It represents a callback\n* handler that logs the execution of runs and emits `RunLog` instances to a\n* `RunLogStream`.\n*/\nvar EventStreamCallbackHandler = class extends _base_js__WEBPACK_IMPORTED_MODULE_1__.BaseTracer {\n\tautoClose = true;\n\tincludeNames;\n\tincludeTypes;\n\tincludeTags;\n\texcludeNames;\n\texcludeTypes;\n\texcludeTags;\n\trunInfoMap = /* @__PURE__ */ new Map();\n\ttappedPromises = /* @__PURE__ */ new Map();\n\ttransformStream;\n\twriter;\n\treceiveStream;\n\tname = \"event_stream_tracer\";\n\tlc_prefer_streaming = true;\n\tconstructor(fields) {\n\t\tsuper({\n\t\t\t_awaitHandler: true,\n\t\t\t...fields\n\t\t});\n\t\tthis.autoClose = fields?.autoClose ?? true;\n\t\tthis.includeNames = fields?.includeNames;\n\t\tthis.includeTypes = fields?.includeTypes;\n\t\tthis.includeTags = fields?.includeTags;\n\t\tthis.excludeNames = fields?.excludeNames;\n\t\tthis.excludeTypes = fields?.excludeTypes;\n\t\tthis.excludeTags = fields?.excludeTags;\n\t\tthis.transformStream = new TransformStream();\n\t\tthis.writer = this.transformStream.writable.getWriter();\n\t\tthis.receiveStream = _utils_stream_js__WEBPACK_IMPORTED_MODULE_2__.IterableReadableStream.fromReadableStream(this.transformStream.readable);\n\t}\n\t[Symbol.asyncIterator]() {\n\t\treturn this.receiveStream;\n\t}\n\tasync persistRun(_run) {}\n\t_includeRun(run) {\n\t\tconst runTags = run.tags ?? [];\n\t\tlet include = this.includeNames === void 0 && this.includeTags === void 0 && this.includeTypes === void 0;\n\t\tif (this.includeNames !== void 0) include = include || this.includeNames.includes(run.name);\n\t\tif (this.includeTypes !== void 0) include = include || this.includeTypes.includes(run.runType);\n\t\tif (this.includeTags !== void 0) include = include || runTags.find((tag) => this.includeTags?.includes(tag)) !== void 0;\n\t\tif (this.excludeNames !== void 0) include = include && !this.excludeNames.includes(run.name);\n\t\tif (this.excludeTypes !== void 0) include = include && !this.excludeTypes.includes(run.runType);\n\t\tif (this.excludeTags !== void 0) include = include && runTags.every((tag) => !this.excludeTags?.includes(tag));\n\t\treturn include;\n\t}\n\tasync *tapOutputIterable(runId, outputStream) {\n\t\tconst firstChunk = await outputStream.next();\n\t\tif (firstChunk.done) return;\n\t\tconst runInfo = this.runInfoMap.get(runId);\n\t\tif (runInfo === void 0) {\n\t\t\tyield firstChunk.value;\n\t\t\treturn;\n\t\t}\n\t\tfunction _formatOutputChunk(eventType, data) {\n\t\t\tif (eventType === \"llm\" && typeof data === \"string\") return new _outputs_js__WEBPACK_IMPORTED_MODULE_3__.GenerationChunk({ text: data });\n\t\t\treturn data;\n\t\t}\n\t\tlet tappedPromise = this.tappedPromises.get(runId);\n\t\tif (tappedPromise === void 0) {\n\t\t\tlet tappedPromiseResolver;\n\t\t\ttappedPromise = new Promise((resolve) => {\n\t\t\t\ttappedPromiseResolver = resolve;\n\t\t\t});\n\t\t\tthis.tappedPromises.set(runId, tappedPromise);\n\t\t\ttry {\n\t\t\t\tconst event = {\n\t\t\t\t\tevent: `on_${runInfo.runType}_stream`,\n\t\t\t\t\trun_id: runId,\n\t\t\t\t\tname: runInfo.name,\n\t\t\t\t\ttags: runInfo.tags,\n\t\t\t\t\tmetadata: runInfo.metadata,\n\t\t\t\t\tdata: {}\n\t\t\t\t};\n\t\t\t\tawait this.send({\n\t\t\t\t\t...event,\n\t\t\t\t\tdata: { chunk: _formatOutputChunk(runInfo.runType, firstChunk.value) }\n\t\t\t\t}, runInfo);\n\t\t\t\tyield firstChunk.value;\n\t\t\t\tfor await (const chunk of outputStream) {\n\t\t\t\t\tif (runInfo.runType !== \"tool\" && runInfo.runType !== \"retriever\") await this.send({\n\t\t\t\t\t\t...event,\n\t\t\t\t\t\tdata: { chunk: _formatOutputChunk(runInfo.runType, chunk) }\n\t\t\t\t\t}, runInfo);\n\t\t\t\t\tyield chunk;\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\ttappedPromiseResolver?.();\n\t\t\t}\n\t\t} else {\n\t\t\tyield firstChunk.value;\n\t\t\tfor await (const chunk of outputStream) yield chunk;\n\t\t}\n\t}\n\tasync send(payload, run) {\n\t\tif (this._includeRun(run)) await this.writer.write(payload);\n\t}\n\tasync sendEndEvent(payload, run) {\n\t\tconst tappedPromise = this.tappedPromises.get(payload.run_id);\n\t\tif (tappedPromise !== void 0) tappedPromise.then(() => {\n\t\t\tthis.send(payload, run);\n\t\t});\n\t\telse await this.send(payload, run);\n\t}\n\tasync onLLMStart(run) {\n\t\tconst runName = assignName(run);\n\t\tconst runType = run.inputs.messages !== void 0 ? \"chat_model\" : \"llm\";\n\t\tconst runInfo = {\n\t\t\ttags: run.tags ?? [],\n\t\t\tmetadata: run.extra?.metadata ?? {},\n\t\t\tname: runName,\n\t\t\trunType,\n\t\t\tinputs: run.inputs\n\t\t};\n\t\tthis.runInfoMap.set(run.id, runInfo);\n\t\tconst eventName = `on_${runType}_start`;\n\t\tawait this.send({\n\t\t\tevent: eventName,\n\t\t\tdata: { input: run.inputs },\n\t\t\tname: runName,\n\t\t\ttags: run.tags ?? [],\n\t\t\trun_id: run.id,\n\t\t\tmetadata: run.extra?.metadata ?? {}\n\t\t}, runInfo);\n\t}\n\tasync onLLMNewToken(run, token, kwargs) {\n\t\tconst runInfo = this.runInfoMap.get(run.id);\n\t\tlet chunk;\n\t\tlet eventName;\n\t\tif (runInfo === void 0) throw new Error(`onLLMNewToken: Run ID ${run.id} not found in run map.`);\n\t\tif (this.runInfoMap.size === 1) return;\n\t\tif (runInfo.runType === \"chat_model\") {\n\t\t\teventName = \"on_chat_model_stream\";\n\t\t\tif (kwargs?.chunk === void 0) chunk = new _messages_ai_js__WEBPACK_IMPORTED_MODULE_0__.AIMessageChunk({\n\t\t\t\tcontent: token,\n\t\t\t\tid: `run-${run.id}`\n\t\t\t});\n\t\t\telse chunk = kwargs.chunk.message;\n\t\t} else if (runInfo.runType === \"llm\") {\n\t\t\teventName = \"on_llm_stream\";\n\t\t\tif (kwargs?.chunk === void 0) chunk = new _outputs_js__WEBPACK_IMPORTED_MODULE_3__.GenerationChunk({ text: token });\n\t\t\telse chunk = kwargs.chunk;\n\t\t} else throw new Error(`Unexpected run type ${runInfo.runType}`);\n\t\tawait this.send({\n\t\t\tevent: eventName,\n\t\t\tdata: { chunk },\n\t\t\trun_id: run.id,\n\t\t\tname: runInfo.name,\n\t\t\ttags: runInfo.tags,\n\t\t\tmetadata: runInfo.metadata\n\t\t}, runInfo);\n\t}\n\tasync onLLMEnd(run) {\n\t\tconst runInfo = this.runInfoMap.get(run.id);\n\t\tthis.runInfoMap.delete(run.id);\n\t\tlet eventName;\n\t\tif (runInfo === void 0) throw new Error(`onLLMEnd: Run ID ${run.id} not found in run map.`);\n\t\tconst generations = run.outputs?.generations;\n\t\tlet output;\n\t\tif (runInfo.runType === \"chat_model\") {\n\t\t\tfor (const generation of generations ?? []) {\n\t\t\t\tif (output !== void 0) break;\n\t\t\t\toutput = generation[0]?.message;\n\t\t\t}\n\t\t\teventName = \"on_chat_model_end\";\n\t\t} else if (runInfo.runType === \"llm\") {\n\t\t\toutput = {\n\t\t\t\tgenerations: generations?.map((generation) => {\n\t\t\t\t\treturn generation.map((chunk) => {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttext: chunk.text,\n\t\t\t\t\t\t\tgenerationInfo: chunk.generationInfo\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t}),\n\t\t\t\tllmOutput: run.outputs?.llmOutput ?? {}\n\t\t\t};\n\t\t\teventName = \"on_llm_end\";\n\t\t} else throw new Error(`onLLMEnd: Unexpected run type: ${runInfo.runType}`);\n\t\tawait this.sendEndEvent({\n\t\t\tevent: eventName,\n\t\t\tdata: {\n\t\t\t\toutput,\n\t\t\t\tinput: runInfo.inputs\n\t\t\t},\n\t\t\trun_id: run.id,\n\t\t\tname: runInfo.name,\n\t\t\ttags: runInfo.tags,\n\t\t\tmetadata: runInfo.metadata\n\t\t}, runInfo);\n\t}\n\tasync onChainStart(run) {\n\t\tconst runName = assignName(run);\n\t\tconst runType = run.run_type ?? \"chain\";\n\t\tconst runInfo = {\n\t\t\ttags: run.tags ?? [],\n\t\t\tmetadata: run.extra?.metadata ?? {},\n\t\t\tname: runName,\n\t\t\trunType: run.run_type\n\t\t};\n\t\tlet eventData = {};\n\t\tif (run.inputs.input === \"\" && Object.keys(run.inputs).length === 1) {\n\t\t\teventData = {};\n\t\t\trunInfo.inputs = {};\n\t\t} else if (run.inputs.input !== void 0) {\n\t\t\teventData.input = run.inputs.input;\n\t\t\trunInfo.inputs = run.inputs.input;\n\t\t} else {\n\t\t\teventData.input = run.inputs;\n\t\t\trunInfo.inputs = run.inputs;\n\t\t}\n\t\tthis.runInfoMap.set(run.id, runInfo);\n\t\tawait this.send({\n\t\t\tevent: `on_${runType}_start`,\n\t\t\tdata: eventData,\n\t\t\tname: runName,\n\t\t\ttags: run.tags ?? [],\n\t\t\trun_id: run.id,\n\t\t\tmetadata: run.extra?.metadata ?? {}\n\t\t}, runInfo);\n\t}\n\tasync onChainEnd(run) {\n\t\tconst runInfo = this.runInfoMap.get(run.id);\n\t\tthis.runInfoMap.delete(run.id);\n\t\tif (runInfo === void 0) throw new Error(`onChainEnd: Run ID ${run.id} not found in run map.`);\n\t\tconst eventName = `on_${run.run_type}_end`;\n\t\tconst inputs = run.inputs ?? runInfo.inputs ?? {};\n\t\tconst outputs = run.outputs?.output ?? run.outputs;\n\t\tconst data = {\n\t\t\toutput: outputs,\n\t\t\tinput: inputs\n\t\t};\n\t\tif (inputs.input && Object.keys(inputs).length === 1) {\n\t\t\tdata.input = inputs.input;\n\t\t\trunInfo.inputs = inputs.input;\n\t\t}\n\t\tawait this.sendEndEvent({\n\t\t\tevent: eventName,\n\t\t\tdata,\n\t\t\trun_id: run.id,\n\t\t\tname: runInfo.name,\n\t\t\ttags: runInfo.tags,\n\t\t\tmetadata: runInfo.metadata ?? {}\n\t\t}, runInfo);\n\t}\n\tasync onToolStart(run) {\n\t\tconst runName = assignName(run);\n\t\tconst runInfo = {\n\t\t\ttags: run.tags ?? [],\n\t\t\tmetadata: run.extra?.metadata ?? {},\n\t\t\tname: runName,\n\t\t\trunType: \"tool\",\n\t\t\tinputs: run.inputs ?? {}\n\t\t};\n\t\tthis.runInfoMap.set(run.id, runInfo);\n\t\tawait this.send({\n\t\t\tevent: \"on_tool_start\",\n\t\t\tdata: { input: run.inputs ?? {} },\n\t\t\tname: runName,\n\t\t\trun_id: run.id,\n\t\t\ttags: run.tags ?? [],\n\t\t\tmetadata: run.extra?.metadata ?? {}\n\t\t}, runInfo);\n\t}\n\tasync onToolEnd(run) {\n\t\tconst runInfo = this.runInfoMap.get(run.id);\n\t\tthis.runInfoMap.delete(run.id);\n\t\tif (runInfo === void 0) throw new Error(`onToolEnd: Run ID ${run.id} not found in run map.`);\n\t\tif (runInfo.inputs === void 0) throw new Error(`onToolEnd: Run ID ${run.id} is a tool call, and is expected to have traced inputs.`);\n\t\tconst output = run.outputs?.output === void 0 ? run.outputs : run.outputs.output;\n\t\tawait this.sendEndEvent({\n\t\t\tevent: \"on_tool_end\",\n\t\t\tdata: {\n\t\t\t\toutput,\n\t\t\t\tinput: runInfo.inputs\n\t\t\t},\n\t\t\trun_id: run.id,\n\t\t\tname: runInfo.name,\n\t\t\ttags: runInfo.tags,\n\t\t\tmetadata: runInfo.metadata\n\t\t}, runInfo);\n\t}\n\tasync onRetrieverStart(run) {\n\t\tconst runName = assignName(run);\n\t\tconst runType = \"retriever\";\n\t\tconst runInfo = {\n\t\t\ttags: run.tags ?? [],\n\t\t\tmetadata: run.extra?.metadata ?? {},\n\t\t\tname: runName,\n\t\t\trunType,\n\t\t\tinputs: { query: run.inputs.query }\n\t\t};\n\t\tthis.runInfoMap.set(run.id, runInfo);\n\t\tawait this.send({\n\t\t\tevent: \"on_retriever_start\",\n\t\t\tdata: { input: { query: run.inputs.query } },\n\t\t\tname: runName,\n\t\t\ttags: run.tags ?? [],\n\t\t\trun_id: run.id,\n\t\t\tmetadata: run.extra?.metadata ?? {}\n\t\t}, runInfo);\n\t}\n\tasync onRetrieverEnd(run) {\n\t\tconst runInfo = this.runInfoMap.get(run.id);\n\t\tthis.runInfoMap.delete(run.id);\n\t\tif (runInfo === void 0) throw new Error(`onRetrieverEnd: Run ID ${run.id} not found in run map.`);\n\t\tawait this.sendEndEvent({\n\t\t\tevent: \"on_retriever_end\",\n\t\t\tdata: {\n\t\t\t\toutput: run.outputs?.documents ?? run.outputs,\n\t\t\t\tinput: runInfo.inputs\n\t\t\t},\n\t\t\trun_id: run.id,\n\t\t\tname: runInfo.name,\n\t\t\ttags: runInfo.tags,\n\t\t\tmetadata: runInfo.metadata\n\t\t}, runInfo);\n\t}\n\tasync handleCustomEvent(eventName, data, runId) {\n\t\tconst runInfo = this.runInfoMap.get(runId);\n\t\tif (runInfo === void 0) throw new Error(`handleCustomEvent: Run ID ${runId} not found in run map.`);\n\t\tawait this.send({\n\t\t\tevent: \"on_custom_event\",\n\t\t\trun_id: runId,\n\t\t\tname: eventName,\n\t\t\ttags: runInfo.tags,\n\t\t\tmetadata: runInfo.metadata,\n\t\t\tdata\n\t\t}, runInfo);\n\t}\n\tasync finish() {\n\t\tconst pendingPromises = [...this.tappedPromises.values()];\n\t\tPromise.all(pendingPromises).finally(() => {\n\t\t\tthis.writer.close();\n\t\t});\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=event_stream.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC90cmFjZXJzL2V2ZW50X3N0cmVhbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBbUQ7QUFDWjtBQUNxQjtBQUNaOztBQUVoRDtBQUNBLHNCQUFzQixrQkFBa0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLGdEQUFVO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsb0VBQXNCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLHdEQUFlLEdBQUcsWUFBWTtBQUNqRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsZ0JBQWdCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkLE1BQU07QUFDTjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLFFBQVE7QUFDbEM7QUFDQTtBQUNBLFdBQVcsbUJBQW1CO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsUUFBUTtBQUMzRTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsMkRBQWM7QUFDM0Q7QUFDQSxlQUFlLE9BQU87QUFDdEIsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsNkNBQTZDLHdEQUFlLEdBQUcsYUFBYTtBQUM1RTtBQUNBLElBQUksNENBQTRDLGdCQUFnQjtBQUNoRTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQsUUFBUTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxJQUFJLHVEQUF1RCxnQkFBZ0I7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFFBQVE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSxRQUFRO0FBQ3hFLDBCQUEwQixhQUFhO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcseUJBQXlCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStELFFBQVE7QUFDdkUsc0VBQXNFLFFBQVE7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTLDJCQUEyQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRSxRQUFRO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsdUVBQXVFLE9BQU87QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQzZEO0FBQzdEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC90cmFjZXJzL2V2ZW50X3N0cmVhbS5qcz9kMmFlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFJTWVzc2FnZUNodW5rIH0gZnJvbSBcIi4uL21lc3NhZ2VzL2FpLmpzXCI7XG5pbXBvcnQgeyBCYXNlVHJhY2VyIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgSXRlcmFibGVSZWFkYWJsZVN0cmVhbSB9IGZyb20gXCIuLi91dGlscy9zdHJlYW0uanNcIjtcbmltcG9ydCB7IEdlbmVyYXRpb25DaHVuayB9IGZyb20gXCIuLi9vdXRwdXRzLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdHJhY2Vycy9ldmVudF9zdHJlYW0udHNcbmZ1bmN0aW9uIGFzc2lnbk5hbWUoeyBuYW1lLCBzZXJpYWxpemVkIH0pIHtcblx0aWYgKG5hbWUgIT09IHZvaWQgMCkgcmV0dXJuIG5hbWU7XG5cdGlmIChzZXJpYWxpemVkPy5uYW1lICE9PSB2b2lkIDApIHJldHVybiBzZXJpYWxpemVkLm5hbWU7XG5cdGVsc2UgaWYgKHNlcmlhbGl6ZWQ/LmlkICE9PSB2b2lkIDAgJiYgQXJyYXkuaXNBcnJheShzZXJpYWxpemVkPy5pZCkpIHJldHVybiBzZXJpYWxpemVkLmlkW3NlcmlhbGl6ZWQuaWQubGVuZ3RoIC0gMV07XG5cdHJldHVybiBcIlVubmFtZWRcIjtcbn1cbmNvbnN0IGlzU3RyZWFtRXZlbnRzSGFuZGxlciA9IChoYW5kbGVyKSA9PiBoYW5kbGVyLm5hbWUgPT09IFwiZXZlbnRfc3RyZWFtX3RyYWNlclwiO1xuLyoqXG4qIENsYXNzIHRoYXQgZXh0ZW5kcyB0aGUgYEJhc2VUcmFjZXJgIGNsYXNzIGZyb20gdGhlXG4qIGBsYW5nY2hhaW4uY2FsbGJhY2tzLnRyYWNlcnMuYmFzZWAgbW9kdWxlLiBJdCByZXByZXNlbnRzIGEgY2FsbGJhY2tcbiogaGFuZGxlciB0aGF0IGxvZ3MgdGhlIGV4ZWN1dGlvbiBvZiBydW5zIGFuZCBlbWl0cyBgUnVuTG9nYCBpbnN0YW5jZXMgdG8gYVxuKiBgUnVuTG9nU3RyZWFtYC5cbiovXG52YXIgRXZlbnRTdHJlYW1DYWxsYmFja0hhbmRsZXIgPSBjbGFzcyBleHRlbmRzIEJhc2VUcmFjZXIge1xuXHRhdXRvQ2xvc2UgPSB0cnVlO1xuXHRpbmNsdWRlTmFtZXM7XG5cdGluY2x1ZGVUeXBlcztcblx0aW5jbHVkZVRhZ3M7XG5cdGV4Y2x1ZGVOYW1lcztcblx0ZXhjbHVkZVR5cGVzO1xuXHRleGNsdWRlVGFncztcblx0cnVuSW5mb01hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG5cdHRhcHBlZFByb21pc2VzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcblx0dHJhbnNmb3JtU3RyZWFtO1xuXHR3cml0ZXI7XG5cdHJlY2VpdmVTdHJlYW07XG5cdG5hbWUgPSBcImV2ZW50X3N0cmVhbV90cmFjZXJcIjtcblx0bGNfcHJlZmVyX3N0cmVhbWluZyA9IHRydWU7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdHN1cGVyKHtcblx0XHRcdF9hd2FpdEhhbmRsZXI6IHRydWUsXG5cdFx0XHQuLi5maWVsZHNcblx0XHR9KTtcblx0XHR0aGlzLmF1dG9DbG9zZSA9IGZpZWxkcz8uYXV0b0Nsb3NlID8/IHRydWU7XG5cdFx0dGhpcy5pbmNsdWRlTmFtZXMgPSBmaWVsZHM/LmluY2x1ZGVOYW1lcztcblx0XHR0aGlzLmluY2x1ZGVUeXBlcyA9IGZpZWxkcz8uaW5jbHVkZVR5cGVzO1xuXHRcdHRoaXMuaW5jbHVkZVRhZ3MgPSBmaWVsZHM/LmluY2x1ZGVUYWdzO1xuXHRcdHRoaXMuZXhjbHVkZU5hbWVzID0gZmllbGRzPy5leGNsdWRlTmFtZXM7XG5cdFx0dGhpcy5leGNsdWRlVHlwZXMgPSBmaWVsZHM/LmV4Y2x1ZGVUeXBlcztcblx0XHR0aGlzLmV4Y2x1ZGVUYWdzID0gZmllbGRzPy5leGNsdWRlVGFncztcblx0XHR0aGlzLnRyYW5zZm9ybVN0cmVhbSA9IG5ldyBUcmFuc2Zvcm1TdHJlYW0oKTtcblx0XHR0aGlzLndyaXRlciA9IHRoaXMudHJhbnNmb3JtU3RyZWFtLndyaXRhYmxlLmdldFdyaXRlcigpO1xuXHRcdHRoaXMucmVjZWl2ZVN0cmVhbSA9IEl0ZXJhYmxlUmVhZGFibGVTdHJlYW0uZnJvbVJlYWRhYmxlU3RyZWFtKHRoaXMudHJhbnNmb3JtU3RyZWFtLnJlYWRhYmxlKTtcblx0fVxuXHRbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuXHRcdHJldHVybiB0aGlzLnJlY2VpdmVTdHJlYW07XG5cdH1cblx0YXN5bmMgcGVyc2lzdFJ1bihfcnVuKSB7fVxuXHRfaW5jbHVkZVJ1bihydW4pIHtcblx0XHRjb25zdCBydW5UYWdzID0gcnVuLnRhZ3MgPz8gW107XG5cdFx0bGV0IGluY2x1ZGUgPSB0aGlzLmluY2x1ZGVOYW1lcyA9PT0gdm9pZCAwICYmIHRoaXMuaW5jbHVkZVRhZ3MgPT09IHZvaWQgMCAmJiB0aGlzLmluY2x1ZGVUeXBlcyA9PT0gdm9pZCAwO1xuXHRcdGlmICh0aGlzLmluY2x1ZGVOYW1lcyAhPT0gdm9pZCAwKSBpbmNsdWRlID0gaW5jbHVkZSB8fCB0aGlzLmluY2x1ZGVOYW1lcy5pbmNsdWRlcyhydW4ubmFtZSk7XG5cdFx0aWYgKHRoaXMuaW5jbHVkZVR5cGVzICE9PSB2b2lkIDApIGluY2x1ZGUgPSBpbmNsdWRlIHx8IHRoaXMuaW5jbHVkZVR5cGVzLmluY2x1ZGVzKHJ1bi5ydW5UeXBlKTtcblx0XHRpZiAodGhpcy5pbmNsdWRlVGFncyAhPT0gdm9pZCAwKSBpbmNsdWRlID0gaW5jbHVkZSB8fCBydW5UYWdzLmZpbmQoKHRhZykgPT4gdGhpcy5pbmNsdWRlVGFncz8uaW5jbHVkZXModGFnKSkgIT09IHZvaWQgMDtcblx0XHRpZiAodGhpcy5leGNsdWRlTmFtZXMgIT09IHZvaWQgMCkgaW5jbHVkZSA9IGluY2x1ZGUgJiYgIXRoaXMuZXhjbHVkZU5hbWVzLmluY2x1ZGVzKHJ1bi5uYW1lKTtcblx0XHRpZiAodGhpcy5leGNsdWRlVHlwZXMgIT09IHZvaWQgMCkgaW5jbHVkZSA9IGluY2x1ZGUgJiYgIXRoaXMuZXhjbHVkZVR5cGVzLmluY2x1ZGVzKHJ1bi5ydW5UeXBlKTtcblx0XHRpZiAodGhpcy5leGNsdWRlVGFncyAhPT0gdm9pZCAwKSBpbmNsdWRlID0gaW5jbHVkZSAmJiBydW5UYWdzLmV2ZXJ5KCh0YWcpID0+ICF0aGlzLmV4Y2x1ZGVUYWdzPy5pbmNsdWRlcyh0YWcpKTtcblx0XHRyZXR1cm4gaW5jbHVkZTtcblx0fVxuXHRhc3luYyAqdGFwT3V0cHV0SXRlcmFibGUocnVuSWQsIG91dHB1dFN0cmVhbSkge1xuXHRcdGNvbnN0IGZpcnN0Q2h1bmsgPSBhd2FpdCBvdXRwdXRTdHJlYW0ubmV4dCgpO1xuXHRcdGlmIChmaXJzdENodW5rLmRvbmUpIHJldHVybjtcblx0XHRjb25zdCBydW5JbmZvID0gdGhpcy5ydW5JbmZvTWFwLmdldChydW5JZCk7XG5cdFx0aWYgKHJ1bkluZm8gPT09IHZvaWQgMCkge1xuXHRcdFx0eWllbGQgZmlyc3RDaHVuay52YWx1ZTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0ZnVuY3Rpb24gX2Zvcm1hdE91dHB1dENodW5rKGV2ZW50VHlwZSwgZGF0YSkge1xuXHRcdFx0aWYgKGV2ZW50VHlwZSA9PT0gXCJsbG1cIiAmJiB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIG5ldyBHZW5lcmF0aW9uQ2h1bmsoeyB0ZXh0OiBkYXRhIH0pO1xuXHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0fVxuXHRcdGxldCB0YXBwZWRQcm9taXNlID0gdGhpcy50YXBwZWRQcm9taXNlcy5nZXQocnVuSWQpO1xuXHRcdGlmICh0YXBwZWRQcm9taXNlID09PSB2b2lkIDApIHtcblx0XHRcdGxldCB0YXBwZWRQcm9taXNlUmVzb2x2ZXI7XG5cdFx0XHR0YXBwZWRQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcblx0XHRcdFx0dGFwcGVkUHJvbWlzZVJlc29sdmVyID0gcmVzb2x2ZTtcblx0XHRcdH0pO1xuXHRcdFx0dGhpcy50YXBwZWRQcm9taXNlcy5zZXQocnVuSWQsIHRhcHBlZFByb21pc2UpO1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29uc3QgZXZlbnQgPSB7XG5cdFx0XHRcdFx0ZXZlbnQ6IGBvbl8ke3J1bkluZm8ucnVuVHlwZX1fc3RyZWFtYCxcblx0XHRcdFx0XHRydW5faWQ6IHJ1bklkLFxuXHRcdFx0XHRcdG5hbWU6IHJ1bkluZm8ubmFtZSxcblx0XHRcdFx0XHR0YWdzOiBydW5JbmZvLnRhZ3MsXG5cdFx0XHRcdFx0bWV0YWRhdGE6IHJ1bkluZm8ubWV0YWRhdGEsXG5cdFx0XHRcdFx0ZGF0YToge31cblx0XHRcdFx0fTtcblx0XHRcdFx0YXdhaXQgdGhpcy5zZW5kKHtcblx0XHRcdFx0XHQuLi5ldmVudCxcblx0XHRcdFx0XHRkYXRhOiB7IGNodW5rOiBfZm9ybWF0T3V0cHV0Q2h1bmsocnVuSW5mby5ydW5UeXBlLCBmaXJzdENodW5rLnZhbHVlKSB9XG5cdFx0XHRcdH0sIHJ1bkluZm8pO1xuXHRcdFx0XHR5aWVsZCBmaXJzdENodW5rLnZhbHVlO1xuXHRcdFx0XHRmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIG91dHB1dFN0cmVhbSkge1xuXHRcdFx0XHRcdGlmIChydW5JbmZvLnJ1blR5cGUgIT09IFwidG9vbFwiICYmIHJ1bkluZm8ucnVuVHlwZSAhPT0gXCJyZXRyaWV2ZXJcIikgYXdhaXQgdGhpcy5zZW5kKHtcblx0XHRcdFx0XHRcdC4uLmV2ZW50LFxuXHRcdFx0XHRcdFx0ZGF0YTogeyBjaHVuazogX2Zvcm1hdE91dHB1dENodW5rKHJ1bkluZm8ucnVuVHlwZSwgY2h1bmspIH1cblx0XHRcdFx0XHR9LCBydW5JbmZvKTtcblx0XHRcdFx0XHR5aWVsZCBjaHVuaztcblx0XHRcdFx0fVxuXHRcdFx0fSBmaW5hbGx5IHtcblx0XHRcdFx0dGFwcGVkUHJvbWlzZVJlc29sdmVyPy4oKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0eWllbGQgZmlyc3RDaHVuay52YWx1ZTtcblx0XHRcdGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2Ygb3V0cHV0U3RyZWFtKSB5aWVsZCBjaHVuaztcblx0XHR9XG5cdH1cblx0YXN5bmMgc2VuZChwYXlsb2FkLCBydW4pIHtcblx0XHRpZiAodGhpcy5faW5jbHVkZVJ1bihydW4pKSBhd2FpdCB0aGlzLndyaXRlci53cml0ZShwYXlsb2FkKTtcblx0fVxuXHRhc3luYyBzZW5kRW5kRXZlbnQocGF5bG9hZCwgcnVuKSB7XG5cdFx0Y29uc3QgdGFwcGVkUHJvbWlzZSA9IHRoaXMudGFwcGVkUHJvbWlzZXMuZ2V0KHBheWxvYWQucnVuX2lkKTtcblx0XHRpZiAodGFwcGVkUHJvbWlzZSAhPT0gdm9pZCAwKSB0YXBwZWRQcm9taXNlLnRoZW4oKCkgPT4ge1xuXHRcdFx0dGhpcy5zZW5kKHBheWxvYWQsIHJ1bik7XG5cdFx0fSk7XG5cdFx0ZWxzZSBhd2FpdCB0aGlzLnNlbmQocGF5bG9hZCwgcnVuKTtcblx0fVxuXHRhc3luYyBvbkxMTVN0YXJ0KHJ1bikge1xuXHRcdGNvbnN0IHJ1bk5hbWUgPSBhc3NpZ25OYW1lKHJ1bik7XG5cdFx0Y29uc3QgcnVuVHlwZSA9IHJ1bi5pbnB1dHMubWVzc2FnZXMgIT09IHZvaWQgMCA/IFwiY2hhdF9tb2RlbFwiIDogXCJsbG1cIjtcblx0XHRjb25zdCBydW5JbmZvID0ge1xuXHRcdFx0dGFnczogcnVuLnRhZ3MgPz8gW10sXG5cdFx0XHRtZXRhZGF0YTogcnVuLmV4dHJhPy5tZXRhZGF0YSA/PyB7fSxcblx0XHRcdG5hbWU6IHJ1bk5hbWUsXG5cdFx0XHRydW5UeXBlLFxuXHRcdFx0aW5wdXRzOiBydW4uaW5wdXRzXG5cdFx0fTtcblx0XHR0aGlzLnJ1bkluZm9NYXAuc2V0KHJ1bi5pZCwgcnVuSW5mbyk7XG5cdFx0Y29uc3QgZXZlbnROYW1lID0gYG9uXyR7cnVuVHlwZX1fc3RhcnRgO1xuXHRcdGF3YWl0IHRoaXMuc2VuZCh7XG5cdFx0XHRldmVudDogZXZlbnROYW1lLFxuXHRcdFx0ZGF0YTogeyBpbnB1dDogcnVuLmlucHV0cyB9LFxuXHRcdFx0bmFtZTogcnVuTmFtZSxcblx0XHRcdHRhZ3M6IHJ1bi50YWdzID8/IFtdLFxuXHRcdFx0cnVuX2lkOiBydW4uaWQsXG5cdFx0XHRtZXRhZGF0YTogcnVuLmV4dHJhPy5tZXRhZGF0YSA/PyB7fVxuXHRcdH0sIHJ1bkluZm8pO1xuXHR9XG5cdGFzeW5jIG9uTExNTmV3VG9rZW4ocnVuLCB0b2tlbiwga3dhcmdzKSB7XG5cdFx0Y29uc3QgcnVuSW5mbyA9IHRoaXMucnVuSW5mb01hcC5nZXQocnVuLmlkKTtcblx0XHRsZXQgY2h1bms7XG5cdFx0bGV0IGV2ZW50TmFtZTtcblx0XHRpZiAocnVuSW5mbyA9PT0gdm9pZCAwKSB0aHJvdyBuZXcgRXJyb3IoYG9uTExNTmV3VG9rZW46IFJ1biBJRCAke3J1bi5pZH0gbm90IGZvdW5kIGluIHJ1biBtYXAuYCk7XG5cdFx0aWYgKHRoaXMucnVuSW5mb01hcC5zaXplID09PSAxKSByZXR1cm47XG5cdFx0aWYgKHJ1bkluZm8ucnVuVHlwZSA9PT0gXCJjaGF0X21vZGVsXCIpIHtcblx0XHRcdGV2ZW50TmFtZSA9IFwib25fY2hhdF9tb2RlbF9zdHJlYW1cIjtcblx0XHRcdGlmIChrd2FyZ3M/LmNodW5rID09PSB2b2lkIDApIGNodW5rID0gbmV3IEFJTWVzc2FnZUNodW5rKHtcblx0XHRcdFx0Y29udGVudDogdG9rZW4sXG5cdFx0XHRcdGlkOiBgcnVuLSR7cnVuLmlkfWBcblx0XHRcdH0pO1xuXHRcdFx0ZWxzZSBjaHVuayA9IGt3YXJncy5jaHVuay5tZXNzYWdlO1xuXHRcdH0gZWxzZSBpZiAocnVuSW5mby5ydW5UeXBlID09PSBcImxsbVwiKSB7XG5cdFx0XHRldmVudE5hbWUgPSBcIm9uX2xsbV9zdHJlYW1cIjtcblx0XHRcdGlmIChrd2FyZ3M/LmNodW5rID09PSB2b2lkIDApIGNodW5rID0gbmV3IEdlbmVyYXRpb25DaHVuayh7IHRleHQ6IHRva2VuIH0pO1xuXHRcdFx0ZWxzZSBjaHVuayA9IGt3YXJncy5jaHVuaztcblx0XHR9IGVsc2UgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIHJ1biB0eXBlICR7cnVuSW5mby5ydW5UeXBlfWApO1xuXHRcdGF3YWl0IHRoaXMuc2VuZCh7XG5cdFx0XHRldmVudDogZXZlbnROYW1lLFxuXHRcdFx0ZGF0YTogeyBjaHVuayB9LFxuXHRcdFx0cnVuX2lkOiBydW4uaWQsXG5cdFx0XHRuYW1lOiBydW5JbmZvLm5hbWUsXG5cdFx0XHR0YWdzOiBydW5JbmZvLnRhZ3MsXG5cdFx0XHRtZXRhZGF0YTogcnVuSW5mby5tZXRhZGF0YVxuXHRcdH0sIHJ1bkluZm8pO1xuXHR9XG5cdGFzeW5jIG9uTExNRW5kKHJ1bikge1xuXHRcdGNvbnN0IHJ1bkluZm8gPSB0aGlzLnJ1bkluZm9NYXAuZ2V0KHJ1bi5pZCk7XG5cdFx0dGhpcy5ydW5JbmZvTWFwLmRlbGV0ZShydW4uaWQpO1xuXHRcdGxldCBldmVudE5hbWU7XG5cdFx0aWYgKHJ1bkluZm8gPT09IHZvaWQgMCkgdGhyb3cgbmV3IEVycm9yKGBvbkxMTUVuZDogUnVuIElEICR7cnVuLmlkfSBub3QgZm91bmQgaW4gcnVuIG1hcC5gKTtcblx0XHRjb25zdCBnZW5lcmF0aW9ucyA9IHJ1bi5vdXRwdXRzPy5nZW5lcmF0aW9ucztcblx0XHRsZXQgb3V0cHV0O1xuXHRcdGlmIChydW5JbmZvLnJ1blR5cGUgPT09IFwiY2hhdF9tb2RlbFwiKSB7XG5cdFx0XHRmb3IgKGNvbnN0IGdlbmVyYXRpb24gb2YgZ2VuZXJhdGlvbnMgPz8gW10pIHtcblx0XHRcdFx0aWYgKG91dHB1dCAhPT0gdm9pZCAwKSBicmVhaztcblx0XHRcdFx0b3V0cHV0ID0gZ2VuZXJhdGlvblswXT8ubWVzc2FnZTtcblx0XHRcdH1cblx0XHRcdGV2ZW50TmFtZSA9IFwib25fY2hhdF9tb2RlbF9lbmRcIjtcblx0XHR9IGVsc2UgaWYgKHJ1bkluZm8ucnVuVHlwZSA9PT0gXCJsbG1cIikge1xuXHRcdFx0b3V0cHV0ID0ge1xuXHRcdFx0XHRnZW5lcmF0aW9uczogZ2VuZXJhdGlvbnM/Lm1hcCgoZ2VuZXJhdGlvbikgPT4ge1xuXHRcdFx0XHRcdHJldHVybiBnZW5lcmF0aW9uLm1hcCgoY2h1bmspID0+IHtcblx0XHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdHRleHQ6IGNodW5rLnRleHQsXG5cdFx0XHRcdFx0XHRcdGdlbmVyYXRpb25JbmZvOiBjaHVuay5nZW5lcmF0aW9uSW5mb1xuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSksXG5cdFx0XHRcdGxsbU91dHB1dDogcnVuLm91dHB1dHM/LmxsbU91dHB1dCA/PyB7fVxuXHRcdFx0fTtcblx0XHRcdGV2ZW50TmFtZSA9IFwib25fbGxtX2VuZFwiO1xuXHRcdH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoYG9uTExNRW5kOiBVbmV4cGVjdGVkIHJ1biB0eXBlOiAke3J1bkluZm8ucnVuVHlwZX1gKTtcblx0XHRhd2FpdCB0aGlzLnNlbmRFbmRFdmVudCh7XG5cdFx0XHRldmVudDogZXZlbnROYW1lLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHRvdXRwdXQsXG5cdFx0XHRcdGlucHV0OiBydW5JbmZvLmlucHV0c1xuXHRcdFx0fSxcblx0XHRcdHJ1bl9pZDogcnVuLmlkLFxuXHRcdFx0bmFtZTogcnVuSW5mby5uYW1lLFxuXHRcdFx0dGFnczogcnVuSW5mby50YWdzLFxuXHRcdFx0bWV0YWRhdGE6IHJ1bkluZm8ubWV0YWRhdGFcblx0XHR9LCBydW5JbmZvKTtcblx0fVxuXHRhc3luYyBvbkNoYWluU3RhcnQocnVuKSB7XG5cdFx0Y29uc3QgcnVuTmFtZSA9IGFzc2lnbk5hbWUocnVuKTtcblx0XHRjb25zdCBydW5UeXBlID0gcnVuLnJ1bl90eXBlID8/IFwiY2hhaW5cIjtcblx0XHRjb25zdCBydW5JbmZvID0ge1xuXHRcdFx0dGFnczogcnVuLnRhZ3MgPz8gW10sXG5cdFx0XHRtZXRhZGF0YTogcnVuLmV4dHJhPy5tZXRhZGF0YSA/PyB7fSxcblx0XHRcdG5hbWU6IHJ1bk5hbWUsXG5cdFx0XHRydW5UeXBlOiBydW4ucnVuX3R5cGVcblx0XHR9O1xuXHRcdGxldCBldmVudERhdGEgPSB7fTtcblx0XHRpZiAocnVuLmlucHV0cy5pbnB1dCA9PT0gXCJcIiAmJiBPYmplY3Qua2V5cyhydW4uaW5wdXRzKS5sZW5ndGggPT09IDEpIHtcblx0XHRcdGV2ZW50RGF0YSA9IHt9O1xuXHRcdFx0cnVuSW5mby5pbnB1dHMgPSB7fTtcblx0XHR9IGVsc2UgaWYgKHJ1bi5pbnB1dHMuaW5wdXQgIT09IHZvaWQgMCkge1xuXHRcdFx0ZXZlbnREYXRhLmlucHV0ID0gcnVuLmlucHV0cy5pbnB1dDtcblx0XHRcdHJ1bkluZm8uaW5wdXRzID0gcnVuLmlucHV0cy5pbnB1dDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZXZlbnREYXRhLmlucHV0ID0gcnVuLmlucHV0cztcblx0XHRcdHJ1bkluZm8uaW5wdXRzID0gcnVuLmlucHV0cztcblx0XHR9XG5cdFx0dGhpcy5ydW5JbmZvTWFwLnNldChydW4uaWQsIHJ1bkluZm8pO1xuXHRcdGF3YWl0IHRoaXMuc2VuZCh7XG5cdFx0XHRldmVudDogYG9uXyR7cnVuVHlwZX1fc3RhcnRgLFxuXHRcdFx0ZGF0YTogZXZlbnREYXRhLFxuXHRcdFx0bmFtZTogcnVuTmFtZSxcblx0XHRcdHRhZ3M6IHJ1bi50YWdzID8/IFtdLFxuXHRcdFx0cnVuX2lkOiBydW4uaWQsXG5cdFx0XHRtZXRhZGF0YTogcnVuLmV4dHJhPy5tZXRhZGF0YSA/PyB7fVxuXHRcdH0sIHJ1bkluZm8pO1xuXHR9XG5cdGFzeW5jIG9uQ2hhaW5FbmQocnVuKSB7XG5cdFx0Y29uc3QgcnVuSW5mbyA9IHRoaXMucnVuSW5mb01hcC5nZXQocnVuLmlkKTtcblx0XHR0aGlzLnJ1bkluZm9NYXAuZGVsZXRlKHJ1bi5pZCk7XG5cdFx0aWYgKHJ1bkluZm8gPT09IHZvaWQgMCkgdGhyb3cgbmV3IEVycm9yKGBvbkNoYWluRW5kOiBSdW4gSUQgJHtydW4uaWR9IG5vdCBmb3VuZCBpbiBydW4gbWFwLmApO1xuXHRcdGNvbnN0IGV2ZW50TmFtZSA9IGBvbl8ke3J1bi5ydW5fdHlwZX1fZW5kYDtcblx0XHRjb25zdCBpbnB1dHMgPSBydW4uaW5wdXRzID8/IHJ1bkluZm8uaW5wdXRzID8/IHt9O1xuXHRcdGNvbnN0IG91dHB1dHMgPSBydW4ub3V0cHV0cz8ub3V0cHV0ID8/IHJ1bi5vdXRwdXRzO1xuXHRcdGNvbnN0IGRhdGEgPSB7XG5cdFx0XHRvdXRwdXQ6IG91dHB1dHMsXG5cdFx0XHRpbnB1dDogaW5wdXRzXG5cdFx0fTtcblx0XHRpZiAoaW5wdXRzLmlucHV0ICYmIE9iamVjdC5rZXlzKGlucHV0cykubGVuZ3RoID09PSAxKSB7XG5cdFx0XHRkYXRhLmlucHV0ID0gaW5wdXRzLmlucHV0O1xuXHRcdFx0cnVuSW5mby5pbnB1dHMgPSBpbnB1dHMuaW5wdXQ7XG5cdFx0fVxuXHRcdGF3YWl0IHRoaXMuc2VuZEVuZEV2ZW50KHtcblx0XHRcdGV2ZW50OiBldmVudE5hbWUsXG5cdFx0XHRkYXRhLFxuXHRcdFx0cnVuX2lkOiBydW4uaWQsXG5cdFx0XHRuYW1lOiBydW5JbmZvLm5hbWUsXG5cdFx0XHR0YWdzOiBydW5JbmZvLnRhZ3MsXG5cdFx0XHRtZXRhZGF0YTogcnVuSW5mby5tZXRhZGF0YSA/PyB7fVxuXHRcdH0sIHJ1bkluZm8pO1xuXHR9XG5cdGFzeW5jIG9uVG9vbFN0YXJ0KHJ1bikge1xuXHRcdGNvbnN0IHJ1bk5hbWUgPSBhc3NpZ25OYW1lKHJ1bik7XG5cdFx0Y29uc3QgcnVuSW5mbyA9IHtcblx0XHRcdHRhZ3M6IHJ1bi50YWdzID8/IFtdLFxuXHRcdFx0bWV0YWRhdGE6IHJ1bi5leHRyYT8ubWV0YWRhdGEgPz8ge30sXG5cdFx0XHRuYW1lOiBydW5OYW1lLFxuXHRcdFx0cnVuVHlwZTogXCJ0b29sXCIsXG5cdFx0XHRpbnB1dHM6IHJ1bi5pbnB1dHMgPz8ge31cblx0XHR9O1xuXHRcdHRoaXMucnVuSW5mb01hcC5zZXQocnVuLmlkLCBydW5JbmZvKTtcblx0XHRhd2FpdCB0aGlzLnNlbmQoe1xuXHRcdFx0ZXZlbnQ6IFwib25fdG9vbF9zdGFydFwiLFxuXHRcdFx0ZGF0YTogeyBpbnB1dDogcnVuLmlucHV0cyA/PyB7fSB9LFxuXHRcdFx0bmFtZTogcnVuTmFtZSxcblx0XHRcdHJ1bl9pZDogcnVuLmlkLFxuXHRcdFx0dGFnczogcnVuLnRhZ3MgPz8gW10sXG5cdFx0XHRtZXRhZGF0YTogcnVuLmV4dHJhPy5tZXRhZGF0YSA/PyB7fVxuXHRcdH0sIHJ1bkluZm8pO1xuXHR9XG5cdGFzeW5jIG9uVG9vbEVuZChydW4pIHtcblx0XHRjb25zdCBydW5JbmZvID0gdGhpcy5ydW5JbmZvTWFwLmdldChydW4uaWQpO1xuXHRcdHRoaXMucnVuSW5mb01hcC5kZWxldGUocnVuLmlkKTtcblx0XHRpZiAocnVuSW5mbyA9PT0gdm9pZCAwKSB0aHJvdyBuZXcgRXJyb3IoYG9uVG9vbEVuZDogUnVuIElEICR7cnVuLmlkfSBub3QgZm91bmQgaW4gcnVuIG1hcC5gKTtcblx0XHRpZiAocnVuSW5mby5pbnB1dHMgPT09IHZvaWQgMCkgdGhyb3cgbmV3IEVycm9yKGBvblRvb2xFbmQ6IFJ1biBJRCAke3J1bi5pZH0gaXMgYSB0b29sIGNhbGwsIGFuZCBpcyBleHBlY3RlZCB0byBoYXZlIHRyYWNlZCBpbnB1dHMuYCk7XG5cdFx0Y29uc3Qgb3V0cHV0ID0gcnVuLm91dHB1dHM/Lm91dHB1dCA9PT0gdm9pZCAwID8gcnVuLm91dHB1dHMgOiBydW4ub3V0cHV0cy5vdXRwdXQ7XG5cdFx0YXdhaXQgdGhpcy5zZW5kRW5kRXZlbnQoe1xuXHRcdFx0ZXZlbnQ6IFwib25fdG9vbF9lbmRcIixcblx0XHRcdGRhdGE6IHtcblx0XHRcdFx0b3V0cHV0LFxuXHRcdFx0XHRpbnB1dDogcnVuSW5mby5pbnB1dHNcblx0XHRcdH0sXG5cdFx0XHRydW5faWQ6IHJ1bi5pZCxcblx0XHRcdG5hbWU6IHJ1bkluZm8ubmFtZSxcblx0XHRcdHRhZ3M6IHJ1bkluZm8udGFncyxcblx0XHRcdG1ldGFkYXRhOiBydW5JbmZvLm1ldGFkYXRhXG5cdFx0fSwgcnVuSW5mbyk7XG5cdH1cblx0YXN5bmMgb25SZXRyaWV2ZXJTdGFydChydW4pIHtcblx0XHRjb25zdCBydW5OYW1lID0gYXNzaWduTmFtZShydW4pO1xuXHRcdGNvbnN0IHJ1blR5cGUgPSBcInJldHJpZXZlclwiO1xuXHRcdGNvbnN0IHJ1bkluZm8gPSB7XG5cdFx0XHR0YWdzOiBydW4udGFncyA/PyBbXSxcblx0XHRcdG1ldGFkYXRhOiBydW4uZXh0cmE/Lm1ldGFkYXRhID8/IHt9LFxuXHRcdFx0bmFtZTogcnVuTmFtZSxcblx0XHRcdHJ1blR5cGUsXG5cdFx0XHRpbnB1dHM6IHsgcXVlcnk6IHJ1bi5pbnB1dHMucXVlcnkgfVxuXHRcdH07XG5cdFx0dGhpcy5ydW5JbmZvTWFwLnNldChydW4uaWQsIHJ1bkluZm8pO1xuXHRcdGF3YWl0IHRoaXMuc2VuZCh7XG5cdFx0XHRldmVudDogXCJvbl9yZXRyaWV2ZXJfc3RhcnRcIixcblx0XHRcdGRhdGE6IHsgaW5wdXQ6IHsgcXVlcnk6IHJ1bi5pbnB1dHMucXVlcnkgfSB9LFxuXHRcdFx0bmFtZTogcnVuTmFtZSxcblx0XHRcdHRhZ3M6IHJ1bi50YWdzID8/IFtdLFxuXHRcdFx0cnVuX2lkOiBydW4uaWQsXG5cdFx0XHRtZXRhZGF0YTogcnVuLmV4dHJhPy5tZXRhZGF0YSA/PyB7fVxuXHRcdH0sIHJ1bkluZm8pO1xuXHR9XG5cdGFzeW5jIG9uUmV0cmlldmVyRW5kKHJ1bikge1xuXHRcdGNvbnN0IHJ1bkluZm8gPSB0aGlzLnJ1bkluZm9NYXAuZ2V0KHJ1bi5pZCk7XG5cdFx0dGhpcy5ydW5JbmZvTWFwLmRlbGV0ZShydW4uaWQpO1xuXHRcdGlmIChydW5JbmZvID09PSB2b2lkIDApIHRocm93IG5ldyBFcnJvcihgb25SZXRyaWV2ZXJFbmQ6IFJ1biBJRCAke3J1bi5pZH0gbm90IGZvdW5kIGluIHJ1biBtYXAuYCk7XG5cdFx0YXdhaXQgdGhpcy5zZW5kRW5kRXZlbnQoe1xuXHRcdFx0ZXZlbnQ6IFwib25fcmV0cmlldmVyX2VuZFwiLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHRvdXRwdXQ6IHJ1bi5vdXRwdXRzPy5kb2N1bWVudHMgPz8gcnVuLm91dHB1dHMsXG5cdFx0XHRcdGlucHV0OiBydW5JbmZvLmlucHV0c1xuXHRcdFx0fSxcblx0XHRcdHJ1bl9pZDogcnVuLmlkLFxuXHRcdFx0bmFtZTogcnVuSW5mby5uYW1lLFxuXHRcdFx0dGFnczogcnVuSW5mby50YWdzLFxuXHRcdFx0bWV0YWRhdGE6IHJ1bkluZm8ubWV0YWRhdGFcblx0XHR9LCBydW5JbmZvKTtcblx0fVxuXHRhc3luYyBoYW5kbGVDdXN0b21FdmVudChldmVudE5hbWUsIGRhdGEsIHJ1bklkKSB7XG5cdFx0Y29uc3QgcnVuSW5mbyA9IHRoaXMucnVuSW5mb01hcC5nZXQocnVuSWQpO1xuXHRcdGlmIChydW5JbmZvID09PSB2b2lkIDApIHRocm93IG5ldyBFcnJvcihgaGFuZGxlQ3VzdG9tRXZlbnQ6IFJ1biBJRCAke3J1bklkfSBub3QgZm91bmQgaW4gcnVuIG1hcC5gKTtcblx0XHRhd2FpdCB0aGlzLnNlbmQoe1xuXHRcdFx0ZXZlbnQ6IFwib25fY3VzdG9tX2V2ZW50XCIsXG5cdFx0XHRydW5faWQ6IHJ1bklkLFxuXHRcdFx0bmFtZTogZXZlbnROYW1lLFxuXHRcdFx0dGFnczogcnVuSW5mby50YWdzLFxuXHRcdFx0bWV0YWRhdGE6IHJ1bkluZm8ubWV0YWRhdGEsXG5cdFx0XHRkYXRhXG5cdFx0fSwgcnVuSW5mbyk7XG5cdH1cblx0YXN5bmMgZmluaXNoKCkge1xuXHRcdGNvbnN0IHBlbmRpbmdQcm9taXNlcyA9IFsuLi50aGlzLnRhcHBlZFByb21pc2VzLnZhbHVlcygpXTtcblx0XHRQcm9taXNlLmFsbChwZW5kaW5nUHJvbWlzZXMpLmZpbmFsbHkoKCkgPT4ge1xuXHRcdFx0dGhpcy53cml0ZXIuY2xvc2UoKTtcblx0XHR9KTtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBFdmVudFN0cmVhbUNhbGxiYWNrSGFuZGxlciwgaXNTdHJlYW1FdmVudHNIYW5kbGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ldmVudF9zdHJlYW0uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/event_stream.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/log_stream.js":
/*!**********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/log_stream.js ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LogStreamCallbackHandler: () => (/* binding */ LogStreamCallbackHandler),\n/* harmony export */   RunLog: () => (/* binding */ RunLog),\n/* harmony export */   RunLogPatch: () => (/* binding */ RunLogPatch),\n/* harmony export */   isLogStreamHandler: () => (/* binding */ isLogStreamHandler),\n/* harmony export */   log_stream_exports: () => (/* binding */ log_stream_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _messages_ai_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../messages/ai.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/ai.js\");\n/* harmony import */ var _utils_fast_json_patch_src_core_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/fast-json-patch/src/core.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/fast-json-patch/src/core.js\");\n/* harmony import */ var _utils_fast_json_patch_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/fast-json-patch/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/fast-json-patch/index.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/base.js\");\n/* harmony import */ var _utils_stream_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/stream.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/stream.js\");\n\n\n\n\n\n\n\n//#region src/tracers/log_stream.ts\nvar log_stream_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(log_stream_exports, {\n\tLogStreamCallbackHandler: () => LogStreamCallbackHandler,\n\tRunLog: () => RunLog,\n\tRunLogPatch: () => RunLogPatch,\n\tisLogStreamHandler: () => isLogStreamHandler\n});\n/**\n* List of jsonpatch JSONPatchOperations, which describe how to create the run state\n* from an empty dict. This is the minimal representation of the log, designed to\n* be serialized as JSON and sent over the wire to reconstruct the log on the other\n* side. Reconstruction of the state can be done with any jsonpatch-compliant library,\n* see https://jsonpatch.com for more information.\n*/\nvar RunLogPatch = class {\n\tops;\n\tconstructor(fields) {\n\t\tthis.ops = fields.ops ?? [];\n\t}\n\tconcat(other) {\n\t\tconst ops = this.ops.concat(other.ops);\n\t\tconst states = (0,_utils_fast_json_patch_src_core_js__WEBPACK_IMPORTED_MODULE_2__.applyPatch)({}, ops);\n\t\treturn new RunLog({\n\t\t\tops,\n\t\t\tstate: states[states.length - 1].newDocument\n\t\t});\n\t}\n};\nvar RunLog = class RunLog extends RunLogPatch {\n\tstate;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.state = fields.state;\n\t}\n\tconcat(other) {\n\t\tconst ops = this.ops.concat(other.ops);\n\t\tconst states = (0,_utils_fast_json_patch_src_core_js__WEBPACK_IMPORTED_MODULE_2__.applyPatch)(this.state, other.ops);\n\t\treturn new RunLog({\n\t\t\tops,\n\t\t\tstate: states[states.length - 1].newDocument\n\t\t});\n\t}\n\tstatic fromRunLogPatch(patch) {\n\t\tconst states = (0,_utils_fast_json_patch_src_core_js__WEBPACK_IMPORTED_MODULE_2__.applyPatch)({}, patch.ops);\n\t\treturn new RunLog({\n\t\t\tops: patch.ops,\n\t\t\tstate: states[states.length - 1].newDocument\n\t\t});\n\t}\n};\nconst isLogStreamHandler = (handler) => handler.name === \"log_stream_tracer\";\n/**\n* Extract standardized inputs from a run.\n*\n* Standardizes the inputs based on the type of the runnable used.\n*\n* @param run - Run object\n* @param schemaFormat - The schema format to use.\n*\n* @returns Valid inputs are only dict. By conventions, inputs always represented\n* invocation using named arguments.\n* A null means that the input is not yet known!\n*/\nasync function _getStandardizedInputs(run, schemaFormat) {\n\tif (schemaFormat === \"original\") throw new Error(\"Do not assign inputs with original schema drop the key for now. When inputs are added to streamLog they should be added with standardized schema for streaming events.\");\n\tconst { inputs } = run;\n\tif ([\n\t\t\"retriever\",\n\t\t\"llm\",\n\t\t\"prompt\"\n\t].includes(run.run_type)) return inputs;\n\tif (Object.keys(inputs).length === 1 && inputs?.input === \"\") return void 0;\n\treturn inputs.input;\n}\nasync function _getStandardizedOutputs(run, schemaFormat) {\n\tconst { outputs } = run;\n\tif (schemaFormat === \"original\") return outputs;\n\tif ([\n\t\t\"retriever\",\n\t\t\"llm\",\n\t\t\"prompt\"\n\t].includes(run.run_type)) return outputs;\n\tif (outputs !== void 0 && Object.keys(outputs).length === 1 && outputs?.output !== void 0) return outputs.output;\n\treturn outputs;\n}\nfunction isChatGenerationChunk(x) {\n\treturn x !== void 0 && x.message !== void 0;\n}\n/**\n* Class that extends the `BaseTracer` class from the\n* `langchain.callbacks.tracers.base` module. It represents a callback\n* handler that logs the execution of runs and emits `RunLog` instances to a\n* `RunLogStream`.\n*/\nvar LogStreamCallbackHandler = class extends _base_js__WEBPACK_IMPORTED_MODULE_4__.BaseTracer {\n\tautoClose = true;\n\tincludeNames;\n\tincludeTypes;\n\tincludeTags;\n\texcludeNames;\n\texcludeTypes;\n\texcludeTags;\n\t_schemaFormat = \"original\";\n\trootId;\n\tkeyMapByRunId = {};\n\tcounterMapByRunName = {};\n\ttransformStream;\n\twriter;\n\treceiveStream;\n\tname = \"log_stream_tracer\";\n\tlc_prefer_streaming = true;\n\tconstructor(fields) {\n\t\tsuper({\n\t\t\t_awaitHandler: true,\n\t\t\t...fields\n\t\t});\n\t\tthis.autoClose = fields?.autoClose ?? true;\n\t\tthis.includeNames = fields?.includeNames;\n\t\tthis.includeTypes = fields?.includeTypes;\n\t\tthis.includeTags = fields?.includeTags;\n\t\tthis.excludeNames = fields?.excludeNames;\n\t\tthis.excludeTypes = fields?.excludeTypes;\n\t\tthis.excludeTags = fields?.excludeTags;\n\t\tthis._schemaFormat = fields?._schemaFormat ?? this._schemaFormat;\n\t\tthis.transformStream = new TransformStream();\n\t\tthis.writer = this.transformStream.writable.getWriter();\n\t\tthis.receiveStream = _utils_stream_js__WEBPACK_IMPORTED_MODULE_5__.IterableReadableStream.fromReadableStream(this.transformStream.readable);\n\t}\n\t[Symbol.asyncIterator]() {\n\t\treturn this.receiveStream;\n\t}\n\tasync persistRun(_run) {}\n\t_includeRun(run) {\n\t\tif (run.id === this.rootId) return false;\n\t\tconst runTags = run.tags ?? [];\n\t\tlet include = this.includeNames === void 0 && this.includeTags === void 0 && this.includeTypes === void 0;\n\t\tif (this.includeNames !== void 0) include = include || this.includeNames.includes(run.name);\n\t\tif (this.includeTypes !== void 0) include = include || this.includeTypes.includes(run.run_type);\n\t\tif (this.includeTags !== void 0) include = include || runTags.find((tag) => this.includeTags?.includes(tag)) !== void 0;\n\t\tif (this.excludeNames !== void 0) include = include && !this.excludeNames.includes(run.name);\n\t\tif (this.excludeTypes !== void 0) include = include && !this.excludeTypes.includes(run.run_type);\n\t\tif (this.excludeTags !== void 0) include = include && runTags.every((tag) => !this.excludeTags?.includes(tag));\n\t\treturn include;\n\t}\n\tasync *tapOutputIterable(runId, output) {\n\t\tfor await (const chunk of output) {\n\t\t\tif (runId !== this.rootId) {\n\t\t\t\tconst key = this.keyMapByRunId[runId];\n\t\t\t\tif (key) await this.writer.write(new RunLogPatch({ ops: [{\n\t\t\t\t\top: \"add\",\n\t\t\t\t\tpath: `/logs/${key}/streamed_output/-`,\n\t\t\t\t\tvalue: chunk\n\t\t\t\t}] }));\n\t\t\t}\n\t\t\tyield chunk;\n\t\t}\n\t}\n\tasync onRunCreate(run) {\n\t\tif (this.rootId === void 0) {\n\t\t\tthis.rootId = run.id;\n\t\t\tawait this.writer.write(new RunLogPatch({ ops: [{\n\t\t\t\top: \"replace\",\n\t\t\t\tpath: \"\",\n\t\t\t\tvalue: {\n\t\t\t\t\tid: run.id,\n\t\t\t\t\tname: run.name,\n\t\t\t\t\ttype: run.run_type,\n\t\t\t\t\tstreamed_output: [],\n\t\t\t\t\tfinal_output: void 0,\n\t\t\t\t\tlogs: {}\n\t\t\t\t}\n\t\t\t}] }));\n\t\t}\n\t\tif (!this._includeRun(run)) return;\n\t\tif (this.counterMapByRunName[run.name] === void 0) this.counterMapByRunName[run.name] = 0;\n\t\tthis.counterMapByRunName[run.name] += 1;\n\t\tconst count = this.counterMapByRunName[run.name];\n\t\tthis.keyMapByRunId[run.id] = count === 1 ? run.name : `${run.name}:${count}`;\n\t\tconst logEntry = {\n\t\t\tid: run.id,\n\t\t\tname: run.name,\n\t\t\ttype: run.run_type,\n\t\t\ttags: run.tags ?? [],\n\t\t\tmetadata: run.extra?.metadata ?? {},\n\t\t\tstart_time: new Date(run.start_time).toISOString(),\n\t\t\tstreamed_output: [],\n\t\t\tstreamed_output_str: [],\n\t\t\tfinal_output: void 0,\n\t\t\tend_time: void 0\n\t\t};\n\t\tif (this._schemaFormat === \"streaming_events\") logEntry.inputs = await _getStandardizedInputs(run, this._schemaFormat);\n\t\tawait this.writer.write(new RunLogPatch({ ops: [{\n\t\t\top: \"add\",\n\t\t\tpath: `/logs/${this.keyMapByRunId[run.id]}`,\n\t\t\tvalue: logEntry\n\t\t}] }));\n\t}\n\tasync onRunUpdate(run) {\n\t\ttry {\n\t\t\tconst runName = this.keyMapByRunId[run.id];\n\t\t\tif (runName === void 0) return;\n\t\t\tconst ops = [];\n\t\t\tif (this._schemaFormat === \"streaming_events\") ops.push({\n\t\t\t\top: \"replace\",\n\t\t\t\tpath: `/logs/${runName}/inputs`,\n\t\t\t\tvalue: await _getStandardizedInputs(run, this._schemaFormat)\n\t\t\t});\n\t\t\tops.push({\n\t\t\t\top: \"add\",\n\t\t\t\tpath: `/logs/${runName}/final_output`,\n\t\t\t\tvalue: await _getStandardizedOutputs(run, this._schemaFormat)\n\t\t\t});\n\t\t\tif (run.end_time !== void 0) ops.push({\n\t\t\t\top: \"add\",\n\t\t\t\tpath: `/logs/${runName}/end_time`,\n\t\t\t\tvalue: new Date(run.end_time).toISOString()\n\t\t\t});\n\t\t\tconst patch = new RunLogPatch({ ops });\n\t\t\tawait this.writer.write(patch);\n\t\t} finally {\n\t\t\tif (run.id === this.rootId) {\n\t\t\t\tconst patch = new RunLogPatch({ ops: [{\n\t\t\t\t\top: \"replace\",\n\t\t\t\t\tpath: \"/final_output\",\n\t\t\t\t\tvalue: await _getStandardizedOutputs(run, this._schemaFormat)\n\t\t\t\t}] });\n\t\t\t\tawait this.writer.write(patch);\n\t\t\t\tif (this.autoClose) await this.writer.close();\n\t\t\t}\n\t\t}\n\t}\n\tasync onLLMNewToken(run, token, kwargs) {\n\t\tconst runName = this.keyMapByRunId[run.id];\n\t\tif (runName === void 0) return;\n\t\tconst isChatModel = run.inputs.messages !== void 0;\n\t\tlet streamedOutputValue;\n\t\tif (isChatModel) if (isChatGenerationChunk(kwargs?.chunk)) streamedOutputValue = kwargs?.chunk;\n\t\telse streamedOutputValue = new _messages_ai_js__WEBPACK_IMPORTED_MODULE_1__.AIMessageChunk({\n\t\t\tid: `run-${run.id}`,\n\t\t\tcontent: token\n\t\t});\n\t\telse streamedOutputValue = token;\n\t\tconst patch = new RunLogPatch({ ops: [{\n\t\t\top: \"add\",\n\t\t\tpath: `/logs/${runName}/streamed_output_str/-`,\n\t\t\tvalue: token\n\t\t}, {\n\t\t\top: \"add\",\n\t\t\tpath: `/logs/${runName}/streamed_output/-`,\n\t\t\tvalue: streamedOutputValue\n\t\t}] });\n\t\tawait this.writer.write(patch);\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=log_stream.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC90cmFjZXJzL2xvZ19zdHJlYW0uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBMkQ7QUFDUjtBQUNlO0FBQ3ZCO0FBQ0o7QUFDcUI7O0FBRTVEO0FBQ0E7QUFDQSxzRUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsOEVBQVUsR0FBRztBQUM5QjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsOEVBQVU7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxpQkFBaUIsOEVBQVUsR0FBRztBQUM5QjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsU0FBUztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLFVBQVU7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLGdEQUFVO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsb0VBQXNCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RDtBQUN2RDtBQUNBLG9CQUFvQixJQUFJO0FBQ3hCO0FBQ0EsS0FBSyxHQUFHO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLEdBQUc7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELFNBQVMsR0FBRyxNQUFNO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQSxrQkFBa0IsMkJBQTJCO0FBQzdDO0FBQ0EsR0FBRyxHQUFHO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixRQUFRO0FBQzNCO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxtQkFBbUIsUUFBUTtBQUMzQjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsbUJBQW1CLFFBQVE7QUFDM0I7QUFDQSxJQUFJO0FBQ0osbUNBQW1DLEtBQUs7QUFDeEM7QUFDQSxJQUFJO0FBQ0o7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsS0FBSyxHQUFHO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQywyREFBYztBQUMvQyxjQUFjLE9BQU87QUFDckI7QUFDQSxHQUFHO0FBQ0g7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQSxrQkFBa0IsUUFBUTtBQUMxQjtBQUNBLEdBQUc7QUFDSDtBQUNBLGtCQUFrQixRQUFRO0FBQzFCO0FBQ0EsR0FBRyxHQUFHO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ2lHO0FBQ2pHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC90cmFjZXJzL2xvZ19zdHJlYW0uanM/OTAxNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2V4cG9ydCB9IGZyb20gXCIuLi9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmpzXCI7XG5pbXBvcnQgeyBBSU1lc3NhZ2VDaHVuayB9IGZyb20gXCIuLi9tZXNzYWdlcy9haS5qc1wiO1xuaW1wb3J0IHsgYXBwbHlQYXRjaCB9IGZyb20gXCIuLi91dGlscy9mYXN0LWpzb24tcGF0Y2gvc3JjL2NvcmUuanNcIjtcbmltcG9ydCBcIi4uL3V0aWxzL2Zhc3QtanNvbi1wYXRjaC9pbmRleC5qc1wiO1xuaW1wb3J0IHsgQmFzZVRyYWNlciB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCB7IEl0ZXJhYmxlUmVhZGFibGVTdHJlYW0gfSBmcm9tIFwiLi4vdXRpbHMvc3RyZWFtLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdHJhY2Vycy9sb2dfc3RyZWFtLnRzXG52YXIgbG9nX3N0cmVhbV9leHBvcnRzID0ge307XG5fX2V4cG9ydChsb2dfc3RyZWFtX2V4cG9ydHMsIHtcblx0TG9nU3RyZWFtQ2FsbGJhY2tIYW5kbGVyOiAoKSA9PiBMb2dTdHJlYW1DYWxsYmFja0hhbmRsZXIsXG5cdFJ1bkxvZzogKCkgPT4gUnVuTG9nLFxuXHRSdW5Mb2dQYXRjaDogKCkgPT4gUnVuTG9nUGF0Y2gsXG5cdGlzTG9nU3RyZWFtSGFuZGxlcjogKCkgPT4gaXNMb2dTdHJlYW1IYW5kbGVyXG59KTtcbi8qKlxuKiBMaXN0IG9mIGpzb25wYXRjaCBKU09OUGF0Y2hPcGVyYXRpb25zLCB3aGljaCBkZXNjcmliZSBob3cgdG8gY3JlYXRlIHRoZSBydW4gc3RhdGVcbiogZnJvbSBhbiBlbXB0eSBkaWN0LiBUaGlzIGlzIHRoZSBtaW5pbWFsIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBsb2csIGRlc2lnbmVkIHRvXG4qIGJlIHNlcmlhbGl6ZWQgYXMgSlNPTiBhbmQgc2VudCBvdmVyIHRoZSB3aXJlIHRvIHJlY29uc3RydWN0IHRoZSBsb2cgb24gdGhlIG90aGVyXG4qIHNpZGUuIFJlY29uc3RydWN0aW9uIG9mIHRoZSBzdGF0ZSBjYW4gYmUgZG9uZSB3aXRoIGFueSBqc29ucGF0Y2gtY29tcGxpYW50IGxpYnJhcnksXG4qIHNlZSBodHRwczovL2pzb25wYXRjaC5jb20gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4qL1xudmFyIFJ1bkxvZ1BhdGNoID0gY2xhc3Mge1xuXHRvcHM7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdHRoaXMub3BzID0gZmllbGRzLm9wcyA/PyBbXTtcblx0fVxuXHRjb25jYXQob3RoZXIpIHtcblx0XHRjb25zdCBvcHMgPSB0aGlzLm9wcy5jb25jYXQob3RoZXIub3BzKTtcblx0XHRjb25zdCBzdGF0ZXMgPSBhcHBseVBhdGNoKHt9LCBvcHMpO1xuXHRcdHJldHVybiBuZXcgUnVuTG9nKHtcblx0XHRcdG9wcyxcblx0XHRcdHN0YXRlOiBzdGF0ZXNbc3RhdGVzLmxlbmd0aCAtIDFdLm5ld0RvY3VtZW50XG5cdFx0fSk7XG5cdH1cbn07XG52YXIgUnVuTG9nID0gY2xhc3MgUnVuTG9nIGV4dGVuZHMgUnVuTG9nUGF0Y2gge1xuXHRzdGF0ZTtcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLnN0YXRlID0gZmllbGRzLnN0YXRlO1xuXHR9XG5cdGNvbmNhdChvdGhlcikge1xuXHRcdGNvbnN0IG9wcyA9IHRoaXMub3BzLmNvbmNhdChvdGhlci5vcHMpO1xuXHRcdGNvbnN0IHN0YXRlcyA9IGFwcGx5UGF0Y2godGhpcy5zdGF0ZSwgb3RoZXIub3BzKTtcblx0XHRyZXR1cm4gbmV3IFJ1bkxvZyh7XG5cdFx0XHRvcHMsXG5cdFx0XHRzdGF0ZTogc3RhdGVzW3N0YXRlcy5sZW5ndGggLSAxXS5uZXdEb2N1bWVudFxuXHRcdH0pO1xuXHR9XG5cdHN0YXRpYyBmcm9tUnVuTG9nUGF0Y2gocGF0Y2gpIHtcblx0XHRjb25zdCBzdGF0ZXMgPSBhcHBseVBhdGNoKHt9LCBwYXRjaC5vcHMpO1xuXHRcdHJldHVybiBuZXcgUnVuTG9nKHtcblx0XHRcdG9wczogcGF0Y2gub3BzLFxuXHRcdFx0c3RhdGU6IHN0YXRlc1tzdGF0ZXMubGVuZ3RoIC0gMV0ubmV3RG9jdW1lbnRcblx0XHR9KTtcblx0fVxufTtcbmNvbnN0IGlzTG9nU3RyZWFtSGFuZGxlciA9IChoYW5kbGVyKSA9PiBoYW5kbGVyLm5hbWUgPT09IFwibG9nX3N0cmVhbV90cmFjZXJcIjtcbi8qKlxuKiBFeHRyYWN0IHN0YW5kYXJkaXplZCBpbnB1dHMgZnJvbSBhIHJ1bi5cbipcbiogU3RhbmRhcmRpemVzIHRoZSBpbnB1dHMgYmFzZWQgb24gdGhlIHR5cGUgb2YgdGhlIHJ1bm5hYmxlIHVzZWQuXG4qXG4qIEBwYXJhbSBydW4gLSBSdW4gb2JqZWN0XG4qIEBwYXJhbSBzY2hlbWFGb3JtYXQgLSBUaGUgc2NoZW1hIGZvcm1hdCB0byB1c2UuXG4qXG4qIEByZXR1cm5zIFZhbGlkIGlucHV0cyBhcmUgb25seSBkaWN0LiBCeSBjb252ZW50aW9ucywgaW5wdXRzIGFsd2F5cyByZXByZXNlbnRlZFxuKiBpbnZvY2F0aW9uIHVzaW5nIG5hbWVkIGFyZ3VtZW50cy5cbiogQSBudWxsIG1lYW5zIHRoYXQgdGhlIGlucHV0IGlzIG5vdCB5ZXQga25vd24hXG4qL1xuYXN5bmMgZnVuY3Rpb24gX2dldFN0YW5kYXJkaXplZElucHV0cyhydW4sIHNjaGVtYUZvcm1hdCkge1xuXHRpZiAoc2NoZW1hRm9ybWF0ID09PSBcIm9yaWdpbmFsXCIpIHRocm93IG5ldyBFcnJvcihcIkRvIG5vdCBhc3NpZ24gaW5wdXRzIHdpdGggb3JpZ2luYWwgc2NoZW1hIGRyb3AgdGhlIGtleSBmb3Igbm93LiBXaGVuIGlucHV0cyBhcmUgYWRkZWQgdG8gc3RyZWFtTG9nIHRoZXkgc2hvdWxkIGJlIGFkZGVkIHdpdGggc3RhbmRhcmRpemVkIHNjaGVtYSBmb3Igc3RyZWFtaW5nIGV2ZW50cy5cIik7XG5cdGNvbnN0IHsgaW5wdXRzIH0gPSBydW47XG5cdGlmIChbXG5cdFx0XCJyZXRyaWV2ZXJcIixcblx0XHRcImxsbVwiLFxuXHRcdFwicHJvbXB0XCJcblx0XS5pbmNsdWRlcyhydW4ucnVuX3R5cGUpKSByZXR1cm4gaW5wdXRzO1xuXHRpZiAoT2JqZWN0LmtleXMoaW5wdXRzKS5sZW5ndGggPT09IDEgJiYgaW5wdXRzPy5pbnB1dCA9PT0gXCJcIikgcmV0dXJuIHZvaWQgMDtcblx0cmV0dXJuIGlucHV0cy5pbnB1dDtcbn1cbmFzeW5jIGZ1bmN0aW9uIF9nZXRTdGFuZGFyZGl6ZWRPdXRwdXRzKHJ1biwgc2NoZW1hRm9ybWF0KSB7XG5cdGNvbnN0IHsgb3V0cHV0cyB9ID0gcnVuO1xuXHRpZiAoc2NoZW1hRm9ybWF0ID09PSBcIm9yaWdpbmFsXCIpIHJldHVybiBvdXRwdXRzO1xuXHRpZiAoW1xuXHRcdFwicmV0cmlldmVyXCIsXG5cdFx0XCJsbG1cIixcblx0XHRcInByb21wdFwiXG5cdF0uaW5jbHVkZXMocnVuLnJ1bl90eXBlKSkgcmV0dXJuIG91dHB1dHM7XG5cdGlmIChvdXRwdXRzICE9PSB2b2lkIDAgJiYgT2JqZWN0LmtleXMob3V0cHV0cykubGVuZ3RoID09PSAxICYmIG91dHB1dHM/Lm91dHB1dCAhPT0gdm9pZCAwKSByZXR1cm4gb3V0cHV0cy5vdXRwdXQ7XG5cdHJldHVybiBvdXRwdXRzO1xufVxuZnVuY3Rpb24gaXNDaGF0R2VuZXJhdGlvbkNodW5rKHgpIHtcblx0cmV0dXJuIHggIT09IHZvaWQgMCAmJiB4Lm1lc3NhZ2UgIT09IHZvaWQgMDtcbn1cbi8qKlxuKiBDbGFzcyB0aGF0IGV4dGVuZHMgdGhlIGBCYXNlVHJhY2VyYCBjbGFzcyBmcm9tIHRoZVxuKiBgbGFuZ2NoYWluLmNhbGxiYWNrcy50cmFjZXJzLmJhc2VgIG1vZHVsZS4gSXQgcmVwcmVzZW50cyBhIGNhbGxiYWNrXG4qIGhhbmRsZXIgdGhhdCBsb2dzIHRoZSBleGVjdXRpb24gb2YgcnVucyBhbmQgZW1pdHMgYFJ1bkxvZ2AgaW5zdGFuY2VzIHRvIGFcbiogYFJ1bkxvZ1N0cmVhbWAuXG4qL1xudmFyIExvZ1N0cmVhbUNhbGxiYWNrSGFuZGxlciA9IGNsYXNzIGV4dGVuZHMgQmFzZVRyYWNlciB7XG5cdGF1dG9DbG9zZSA9IHRydWU7XG5cdGluY2x1ZGVOYW1lcztcblx0aW5jbHVkZVR5cGVzO1xuXHRpbmNsdWRlVGFncztcblx0ZXhjbHVkZU5hbWVzO1xuXHRleGNsdWRlVHlwZXM7XG5cdGV4Y2x1ZGVUYWdzO1xuXHRfc2NoZW1hRm9ybWF0ID0gXCJvcmlnaW5hbFwiO1xuXHRyb290SWQ7XG5cdGtleU1hcEJ5UnVuSWQgPSB7fTtcblx0Y291bnRlck1hcEJ5UnVuTmFtZSA9IHt9O1xuXHR0cmFuc2Zvcm1TdHJlYW07XG5cdHdyaXRlcjtcblx0cmVjZWl2ZVN0cmVhbTtcblx0bmFtZSA9IFwibG9nX3N0cmVhbV90cmFjZXJcIjtcblx0bGNfcHJlZmVyX3N0cmVhbWluZyA9IHRydWU7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdHN1cGVyKHtcblx0XHRcdF9hd2FpdEhhbmRsZXI6IHRydWUsXG5cdFx0XHQuLi5maWVsZHNcblx0XHR9KTtcblx0XHR0aGlzLmF1dG9DbG9zZSA9IGZpZWxkcz8uYXV0b0Nsb3NlID8/IHRydWU7XG5cdFx0dGhpcy5pbmNsdWRlTmFtZXMgPSBmaWVsZHM/LmluY2x1ZGVOYW1lcztcblx0XHR0aGlzLmluY2x1ZGVUeXBlcyA9IGZpZWxkcz8uaW5jbHVkZVR5cGVzO1xuXHRcdHRoaXMuaW5jbHVkZVRhZ3MgPSBmaWVsZHM/LmluY2x1ZGVUYWdzO1xuXHRcdHRoaXMuZXhjbHVkZU5hbWVzID0gZmllbGRzPy5leGNsdWRlTmFtZXM7XG5cdFx0dGhpcy5leGNsdWRlVHlwZXMgPSBmaWVsZHM/LmV4Y2x1ZGVUeXBlcztcblx0XHR0aGlzLmV4Y2x1ZGVUYWdzID0gZmllbGRzPy5leGNsdWRlVGFncztcblx0XHR0aGlzLl9zY2hlbWFGb3JtYXQgPSBmaWVsZHM/Ll9zY2hlbWFGb3JtYXQgPz8gdGhpcy5fc2NoZW1hRm9ybWF0O1xuXHRcdHRoaXMudHJhbnNmb3JtU3RyZWFtID0gbmV3IFRyYW5zZm9ybVN0cmVhbSgpO1xuXHRcdHRoaXMud3JpdGVyID0gdGhpcy50cmFuc2Zvcm1TdHJlYW0ud3JpdGFibGUuZ2V0V3JpdGVyKCk7XG5cdFx0dGhpcy5yZWNlaXZlU3RyZWFtID0gSXRlcmFibGVSZWFkYWJsZVN0cmVhbS5mcm9tUmVhZGFibGVTdHJlYW0odGhpcy50cmFuc2Zvcm1TdHJlYW0ucmVhZGFibGUpO1xuXHR9XG5cdFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKSB7XG5cdFx0cmV0dXJuIHRoaXMucmVjZWl2ZVN0cmVhbTtcblx0fVxuXHRhc3luYyBwZXJzaXN0UnVuKF9ydW4pIHt9XG5cdF9pbmNsdWRlUnVuKHJ1bikge1xuXHRcdGlmIChydW4uaWQgPT09IHRoaXMucm9vdElkKSByZXR1cm4gZmFsc2U7XG5cdFx0Y29uc3QgcnVuVGFncyA9IHJ1bi50YWdzID8/IFtdO1xuXHRcdGxldCBpbmNsdWRlID0gdGhpcy5pbmNsdWRlTmFtZXMgPT09IHZvaWQgMCAmJiB0aGlzLmluY2x1ZGVUYWdzID09PSB2b2lkIDAgJiYgdGhpcy5pbmNsdWRlVHlwZXMgPT09IHZvaWQgMDtcblx0XHRpZiAodGhpcy5pbmNsdWRlTmFtZXMgIT09IHZvaWQgMCkgaW5jbHVkZSA9IGluY2x1ZGUgfHwgdGhpcy5pbmNsdWRlTmFtZXMuaW5jbHVkZXMocnVuLm5hbWUpO1xuXHRcdGlmICh0aGlzLmluY2x1ZGVUeXBlcyAhPT0gdm9pZCAwKSBpbmNsdWRlID0gaW5jbHVkZSB8fCB0aGlzLmluY2x1ZGVUeXBlcy5pbmNsdWRlcyhydW4ucnVuX3R5cGUpO1xuXHRcdGlmICh0aGlzLmluY2x1ZGVUYWdzICE9PSB2b2lkIDApIGluY2x1ZGUgPSBpbmNsdWRlIHx8IHJ1blRhZ3MuZmluZCgodGFnKSA9PiB0aGlzLmluY2x1ZGVUYWdzPy5pbmNsdWRlcyh0YWcpKSAhPT0gdm9pZCAwO1xuXHRcdGlmICh0aGlzLmV4Y2x1ZGVOYW1lcyAhPT0gdm9pZCAwKSBpbmNsdWRlID0gaW5jbHVkZSAmJiAhdGhpcy5leGNsdWRlTmFtZXMuaW5jbHVkZXMocnVuLm5hbWUpO1xuXHRcdGlmICh0aGlzLmV4Y2x1ZGVUeXBlcyAhPT0gdm9pZCAwKSBpbmNsdWRlID0gaW5jbHVkZSAmJiAhdGhpcy5leGNsdWRlVHlwZXMuaW5jbHVkZXMocnVuLnJ1bl90eXBlKTtcblx0XHRpZiAodGhpcy5leGNsdWRlVGFncyAhPT0gdm9pZCAwKSBpbmNsdWRlID0gaW5jbHVkZSAmJiBydW5UYWdzLmV2ZXJ5KCh0YWcpID0+ICF0aGlzLmV4Y2x1ZGVUYWdzPy5pbmNsdWRlcyh0YWcpKTtcblx0XHRyZXR1cm4gaW5jbHVkZTtcblx0fVxuXHRhc3luYyAqdGFwT3V0cHV0SXRlcmFibGUocnVuSWQsIG91dHB1dCkge1xuXHRcdGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2Ygb3V0cHV0KSB7XG5cdFx0XHRpZiAocnVuSWQgIT09IHRoaXMucm9vdElkKSB7XG5cdFx0XHRcdGNvbnN0IGtleSA9IHRoaXMua2V5TWFwQnlSdW5JZFtydW5JZF07XG5cdFx0XHRcdGlmIChrZXkpIGF3YWl0IHRoaXMud3JpdGVyLndyaXRlKG5ldyBSdW5Mb2dQYXRjaCh7IG9wczogW3tcblx0XHRcdFx0XHRvcDogXCJhZGRcIixcblx0XHRcdFx0XHRwYXRoOiBgL2xvZ3MvJHtrZXl9L3N0cmVhbWVkX291dHB1dC8tYCxcblx0XHRcdFx0XHR2YWx1ZTogY2h1bmtcblx0XHRcdFx0fV0gfSkpO1xuXHRcdFx0fVxuXHRcdFx0eWllbGQgY2h1bms7XG5cdFx0fVxuXHR9XG5cdGFzeW5jIG9uUnVuQ3JlYXRlKHJ1bikge1xuXHRcdGlmICh0aGlzLnJvb3RJZCA9PT0gdm9pZCAwKSB7XG5cdFx0XHR0aGlzLnJvb3RJZCA9IHJ1bi5pZDtcblx0XHRcdGF3YWl0IHRoaXMud3JpdGVyLndyaXRlKG5ldyBSdW5Mb2dQYXRjaCh7IG9wczogW3tcblx0XHRcdFx0b3A6IFwicmVwbGFjZVwiLFxuXHRcdFx0XHRwYXRoOiBcIlwiLFxuXHRcdFx0XHR2YWx1ZToge1xuXHRcdFx0XHRcdGlkOiBydW4uaWQsXG5cdFx0XHRcdFx0bmFtZTogcnVuLm5hbWUsXG5cdFx0XHRcdFx0dHlwZTogcnVuLnJ1bl90eXBlLFxuXHRcdFx0XHRcdHN0cmVhbWVkX291dHB1dDogW10sXG5cdFx0XHRcdFx0ZmluYWxfb3V0cHV0OiB2b2lkIDAsXG5cdFx0XHRcdFx0bG9nczoge31cblx0XHRcdFx0fVxuXHRcdFx0fV0gfSkpO1xuXHRcdH1cblx0XHRpZiAoIXRoaXMuX2luY2x1ZGVSdW4ocnVuKSkgcmV0dXJuO1xuXHRcdGlmICh0aGlzLmNvdW50ZXJNYXBCeVJ1bk5hbWVbcnVuLm5hbWVdID09PSB2b2lkIDApIHRoaXMuY291bnRlck1hcEJ5UnVuTmFtZVtydW4ubmFtZV0gPSAwO1xuXHRcdHRoaXMuY291bnRlck1hcEJ5UnVuTmFtZVtydW4ubmFtZV0gKz0gMTtcblx0XHRjb25zdCBjb3VudCA9IHRoaXMuY291bnRlck1hcEJ5UnVuTmFtZVtydW4ubmFtZV07XG5cdFx0dGhpcy5rZXlNYXBCeVJ1bklkW3J1bi5pZF0gPSBjb3VudCA9PT0gMSA/IHJ1bi5uYW1lIDogYCR7cnVuLm5hbWV9OiR7Y291bnR9YDtcblx0XHRjb25zdCBsb2dFbnRyeSA9IHtcblx0XHRcdGlkOiBydW4uaWQsXG5cdFx0XHRuYW1lOiBydW4ubmFtZSxcblx0XHRcdHR5cGU6IHJ1bi5ydW5fdHlwZSxcblx0XHRcdHRhZ3M6IHJ1bi50YWdzID8/IFtdLFxuXHRcdFx0bWV0YWRhdGE6IHJ1bi5leHRyYT8ubWV0YWRhdGEgPz8ge30sXG5cdFx0XHRzdGFydF90aW1lOiBuZXcgRGF0ZShydW4uc3RhcnRfdGltZSkudG9JU09TdHJpbmcoKSxcblx0XHRcdHN0cmVhbWVkX291dHB1dDogW10sXG5cdFx0XHRzdHJlYW1lZF9vdXRwdXRfc3RyOiBbXSxcblx0XHRcdGZpbmFsX291dHB1dDogdm9pZCAwLFxuXHRcdFx0ZW5kX3RpbWU6IHZvaWQgMFxuXHRcdH07XG5cdFx0aWYgKHRoaXMuX3NjaGVtYUZvcm1hdCA9PT0gXCJzdHJlYW1pbmdfZXZlbnRzXCIpIGxvZ0VudHJ5LmlucHV0cyA9IGF3YWl0IF9nZXRTdGFuZGFyZGl6ZWRJbnB1dHMocnVuLCB0aGlzLl9zY2hlbWFGb3JtYXQpO1xuXHRcdGF3YWl0IHRoaXMud3JpdGVyLndyaXRlKG5ldyBSdW5Mb2dQYXRjaCh7IG9wczogW3tcblx0XHRcdG9wOiBcImFkZFwiLFxuXHRcdFx0cGF0aDogYC9sb2dzLyR7dGhpcy5rZXlNYXBCeVJ1bklkW3J1bi5pZF19YCxcblx0XHRcdHZhbHVlOiBsb2dFbnRyeVxuXHRcdH1dIH0pKTtcblx0fVxuXHRhc3luYyBvblJ1blVwZGF0ZShydW4pIHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgcnVuTmFtZSA9IHRoaXMua2V5TWFwQnlSdW5JZFtydW4uaWRdO1xuXHRcdFx0aWYgKHJ1bk5hbWUgPT09IHZvaWQgMCkgcmV0dXJuO1xuXHRcdFx0Y29uc3Qgb3BzID0gW107XG5cdFx0XHRpZiAodGhpcy5fc2NoZW1hRm9ybWF0ID09PSBcInN0cmVhbWluZ19ldmVudHNcIikgb3BzLnB1c2goe1xuXHRcdFx0XHRvcDogXCJyZXBsYWNlXCIsXG5cdFx0XHRcdHBhdGg6IGAvbG9ncy8ke3J1bk5hbWV9L2lucHV0c2AsXG5cdFx0XHRcdHZhbHVlOiBhd2FpdCBfZ2V0U3RhbmRhcmRpemVkSW5wdXRzKHJ1biwgdGhpcy5fc2NoZW1hRm9ybWF0KVxuXHRcdFx0fSk7XG5cdFx0XHRvcHMucHVzaCh7XG5cdFx0XHRcdG9wOiBcImFkZFwiLFxuXHRcdFx0XHRwYXRoOiBgL2xvZ3MvJHtydW5OYW1lfS9maW5hbF9vdXRwdXRgLFxuXHRcdFx0XHR2YWx1ZTogYXdhaXQgX2dldFN0YW5kYXJkaXplZE91dHB1dHMocnVuLCB0aGlzLl9zY2hlbWFGb3JtYXQpXG5cdFx0XHR9KTtcblx0XHRcdGlmIChydW4uZW5kX3RpbWUgIT09IHZvaWQgMCkgb3BzLnB1c2goe1xuXHRcdFx0XHRvcDogXCJhZGRcIixcblx0XHRcdFx0cGF0aDogYC9sb2dzLyR7cnVuTmFtZX0vZW5kX3RpbWVgLFxuXHRcdFx0XHR2YWx1ZTogbmV3IERhdGUocnVuLmVuZF90aW1lKS50b0lTT1N0cmluZygpXG5cdFx0XHR9KTtcblx0XHRcdGNvbnN0IHBhdGNoID0gbmV3IFJ1bkxvZ1BhdGNoKHsgb3BzIH0pO1xuXHRcdFx0YXdhaXQgdGhpcy53cml0ZXIud3JpdGUocGF0Y2gpO1xuXHRcdH0gZmluYWxseSB7XG5cdFx0XHRpZiAocnVuLmlkID09PSB0aGlzLnJvb3RJZCkge1xuXHRcdFx0XHRjb25zdCBwYXRjaCA9IG5ldyBSdW5Mb2dQYXRjaCh7IG9wczogW3tcblx0XHRcdFx0XHRvcDogXCJyZXBsYWNlXCIsXG5cdFx0XHRcdFx0cGF0aDogXCIvZmluYWxfb3V0cHV0XCIsXG5cdFx0XHRcdFx0dmFsdWU6IGF3YWl0IF9nZXRTdGFuZGFyZGl6ZWRPdXRwdXRzKHJ1biwgdGhpcy5fc2NoZW1hRm9ybWF0KVxuXHRcdFx0XHR9XSB9KTtcblx0XHRcdFx0YXdhaXQgdGhpcy53cml0ZXIud3JpdGUocGF0Y2gpO1xuXHRcdFx0XHRpZiAodGhpcy5hdXRvQ2xvc2UpIGF3YWl0IHRoaXMud3JpdGVyLmNsb3NlKCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdGFzeW5jIG9uTExNTmV3VG9rZW4ocnVuLCB0b2tlbiwga3dhcmdzKSB7XG5cdFx0Y29uc3QgcnVuTmFtZSA9IHRoaXMua2V5TWFwQnlSdW5JZFtydW4uaWRdO1xuXHRcdGlmIChydW5OYW1lID09PSB2b2lkIDApIHJldHVybjtcblx0XHRjb25zdCBpc0NoYXRNb2RlbCA9IHJ1bi5pbnB1dHMubWVzc2FnZXMgIT09IHZvaWQgMDtcblx0XHRsZXQgc3RyZWFtZWRPdXRwdXRWYWx1ZTtcblx0XHRpZiAoaXNDaGF0TW9kZWwpIGlmIChpc0NoYXRHZW5lcmF0aW9uQ2h1bmsoa3dhcmdzPy5jaHVuaykpIHN0cmVhbWVkT3V0cHV0VmFsdWUgPSBrd2FyZ3M/LmNodW5rO1xuXHRcdGVsc2Ugc3RyZWFtZWRPdXRwdXRWYWx1ZSA9IG5ldyBBSU1lc3NhZ2VDaHVuayh7XG5cdFx0XHRpZDogYHJ1bi0ke3J1bi5pZH1gLFxuXHRcdFx0Y29udGVudDogdG9rZW5cblx0XHR9KTtcblx0XHRlbHNlIHN0cmVhbWVkT3V0cHV0VmFsdWUgPSB0b2tlbjtcblx0XHRjb25zdCBwYXRjaCA9IG5ldyBSdW5Mb2dQYXRjaCh7IG9wczogW3tcblx0XHRcdG9wOiBcImFkZFwiLFxuXHRcdFx0cGF0aDogYC9sb2dzLyR7cnVuTmFtZX0vc3RyZWFtZWRfb3V0cHV0X3N0ci8tYCxcblx0XHRcdHZhbHVlOiB0b2tlblxuXHRcdH0sIHtcblx0XHRcdG9wOiBcImFkZFwiLFxuXHRcdFx0cGF0aDogYC9sb2dzLyR7cnVuTmFtZX0vc3RyZWFtZWRfb3V0cHV0Ly1gLFxuXHRcdFx0dmFsdWU6IHN0cmVhbWVkT3V0cHV0VmFsdWVcblx0XHR9XSB9KTtcblx0XHRhd2FpdCB0aGlzLndyaXRlci53cml0ZShwYXRjaCk7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgTG9nU3RyZWFtQ2FsbGJhY2tIYW5kbGVyLCBSdW5Mb2csIFJ1bkxvZ1BhdGNoLCBpc0xvZ1N0cmVhbUhhbmRsZXIsIGxvZ19zdHJlYW1fZXhwb3J0cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9nX3N0cmVhbS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/log_stream.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/root_listener.js":
/*!*************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/root_listener.js ***!
  \*************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RootListenersTracer: () => (/* binding */ RootListenersTracer)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/base.js\");\n\n\n//#region src/tracers/root_listener.ts\nvar RootListenersTracer = class extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseTracer {\n\tname = \"RootListenersTracer\";\n\t/** The Run's ID. Type UUID */\n\trootId;\n\tconfig;\n\targOnStart;\n\targOnEnd;\n\targOnError;\n\tconstructor({ config, onStart, onEnd, onError }) {\n\t\tsuper({ _awaitHandler: true });\n\t\tthis.config = config;\n\t\tthis.argOnStart = onStart;\n\t\tthis.argOnEnd = onEnd;\n\t\tthis.argOnError = onError;\n\t}\n\t/**\n\t* This is a legacy method only called once for an entire run tree\n\t* therefore not useful here\n\t* @param {Run} _ Not used\n\t*/\n\tpersistRun(_) {\n\t\treturn Promise.resolve();\n\t}\n\tasync onRunCreate(run) {\n\t\tif (this.rootId) return;\n\t\tthis.rootId = run.id;\n\t\tif (this.argOnStart) await this.argOnStart(run, this.config);\n\t}\n\tasync onRunUpdate(run) {\n\t\tif (run.id !== this.rootId) return;\n\t\tif (!run.error) {\n\t\t\tif (this.argOnEnd) await this.argOnEnd(run, this.config);\n\t\t} else if (this.argOnError) await this.argOnError(run, this.config);\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=root_listener.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC90cmFjZXJzL3Jvb3RfbGlzdGVuZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBdUM7O0FBRXZDO0FBQ0Esd0NBQXdDLGdEQUFVO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxpQ0FBaUM7QUFDaEQsVUFBVSxxQkFBcUI7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsS0FBSztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQytCO0FBQy9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC90cmFjZXJzL3Jvb3RfbGlzdGVuZXIuanM/MTQwNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYXNlVHJhY2VyIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3RyYWNlcnMvcm9vdF9saXN0ZW5lci50c1xudmFyIFJvb3RMaXN0ZW5lcnNUcmFjZXIgPSBjbGFzcyBleHRlbmRzIEJhc2VUcmFjZXIge1xuXHRuYW1lID0gXCJSb290TGlzdGVuZXJzVHJhY2VyXCI7XG5cdC8qKiBUaGUgUnVuJ3MgSUQuIFR5cGUgVVVJRCAqL1xuXHRyb290SWQ7XG5cdGNvbmZpZztcblx0YXJnT25TdGFydDtcblx0YXJnT25FbmQ7XG5cdGFyZ09uRXJyb3I7XG5cdGNvbnN0cnVjdG9yKHsgY29uZmlnLCBvblN0YXJ0LCBvbkVuZCwgb25FcnJvciB9KSB7XG5cdFx0c3VwZXIoeyBfYXdhaXRIYW5kbGVyOiB0cnVlIH0pO1xuXHRcdHRoaXMuY29uZmlnID0gY29uZmlnO1xuXHRcdHRoaXMuYXJnT25TdGFydCA9IG9uU3RhcnQ7XG5cdFx0dGhpcy5hcmdPbkVuZCA9IG9uRW5kO1xuXHRcdHRoaXMuYXJnT25FcnJvciA9IG9uRXJyb3I7XG5cdH1cblx0LyoqXG5cdCogVGhpcyBpcyBhIGxlZ2FjeSBtZXRob2Qgb25seSBjYWxsZWQgb25jZSBmb3IgYW4gZW50aXJlIHJ1biB0cmVlXG5cdCogdGhlcmVmb3JlIG5vdCB1c2VmdWwgaGVyZVxuXHQqIEBwYXJhbSB7UnVufSBfIE5vdCB1c2VkXG5cdCovXG5cdHBlcnNpc3RSdW4oXykge1xuXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcblx0fVxuXHRhc3luYyBvblJ1bkNyZWF0ZShydW4pIHtcblx0XHRpZiAodGhpcy5yb290SWQpIHJldHVybjtcblx0XHR0aGlzLnJvb3RJZCA9IHJ1bi5pZDtcblx0XHRpZiAodGhpcy5hcmdPblN0YXJ0KSBhd2FpdCB0aGlzLmFyZ09uU3RhcnQocnVuLCB0aGlzLmNvbmZpZyk7XG5cdH1cblx0YXN5bmMgb25SdW5VcGRhdGUocnVuKSB7XG5cdFx0aWYgKHJ1bi5pZCAhPT0gdGhpcy5yb290SWQpIHJldHVybjtcblx0XHRpZiAoIXJ1bi5lcnJvcikge1xuXHRcdFx0aWYgKHRoaXMuYXJnT25FbmQpIGF3YWl0IHRoaXMuYXJnT25FbmQocnVuLCB0aGlzLmNvbmZpZyk7XG5cdFx0fSBlbHNlIGlmICh0aGlzLmFyZ09uRXJyb3IpIGF3YWl0IHRoaXMuYXJnT25FcnJvcihydW4sIHRoaXMuY29uZmlnKTtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBSb290TGlzdGVuZXJzVHJhY2VyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yb290X2xpc3RlbmVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/root_listener.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/run_collector.js":
/*!*************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/run_collector.js ***!
  \*************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RunCollectorCallbackHandler: () => (/* binding */ RunCollectorCallbackHandler),\n/* harmony export */   run_collector_exports: () => (/* binding */ run_collector_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/base.js\");\n\n\n\n//#region src/tracers/run_collector.ts\nvar run_collector_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(run_collector_exports, { RunCollectorCallbackHandler: () => RunCollectorCallbackHandler });\n/**\n* A callback handler that collects traced runs and makes it easy to fetch the traced run object from calls through any langchain object.\n* For instance, it makes it easy to fetch the run ID and then do things with that, such as log feedback.\n*/\nvar RunCollectorCallbackHandler = class extends _base_js__WEBPACK_IMPORTED_MODULE_1__.BaseTracer {\n\t/** The name of the callback handler. */\n\tname = \"run_collector\";\n\t/** The ID of the example. */\n\texampleId;\n\t/** An array of traced runs. */\n\ttracedRuns;\n\t/**\n\t* Creates a new instance of the RunCollectorCallbackHandler class.\n\t* @param exampleId The ID of the example.\n\t*/\n\tconstructor({ exampleId } = {}) {\n\t\tsuper({ _awaitHandler: true });\n\t\tthis.exampleId = exampleId;\n\t\tthis.tracedRuns = [];\n\t}\n\t/**\n\t* Persists the given run object.\n\t* @param run The run object to persist.\n\t*/\n\tasync persistRun(run) {\n\t\tconst run_ = { ...run };\n\t\trun_.reference_example_id = this.exampleId;\n\t\tthis.tracedRuns.push(run_);\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=run_collector.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC90cmFjZXJzL3J1bl9jb2xsZWN0b3IuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEyRDtBQUNwQjs7QUFFdkM7QUFDQTtBQUNBLHNFQUFRLDBCQUEwQixnRUFBZ0U7QUFDbEc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsZ0RBQVU7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFlBQVksSUFBSTtBQUMvQixVQUFVLHFCQUFxQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQzhEO0FBQzlEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC90cmFjZXJzL3J1bl9jb2xsZWN0b3IuanM/Nzk1NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2V4cG9ydCB9IGZyb20gXCIuLi9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmpzXCI7XG5pbXBvcnQgeyBCYXNlVHJhY2VyIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3RyYWNlcnMvcnVuX2NvbGxlY3Rvci50c1xudmFyIHJ1bl9jb2xsZWN0b3JfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQocnVuX2NvbGxlY3Rvcl9leHBvcnRzLCB7IFJ1bkNvbGxlY3RvckNhbGxiYWNrSGFuZGxlcjogKCkgPT4gUnVuQ29sbGVjdG9yQ2FsbGJhY2tIYW5kbGVyIH0pO1xuLyoqXG4qIEEgY2FsbGJhY2sgaGFuZGxlciB0aGF0IGNvbGxlY3RzIHRyYWNlZCBydW5zIGFuZCBtYWtlcyBpdCBlYXN5IHRvIGZldGNoIHRoZSB0cmFjZWQgcnVuIG9iamVjdCBmcm9tIGNhbGxzIHRocm91Z2ggYW55IGxhbmdjaGFpbiBvYmplY3QuXG4qIEZvciBpbnN0YW5jZSwgaXQgbWFrZXMgaXQgZWFzeSB0byBmZXRjaCB0aGUgcnVuIElEIGFuZCB0aGVuIGRvIHRoaW5ncyB3aXRoIHRoYXQsIHN1Y2ggYXMgbG9nIGZlZWRiYWNrLlxuKi9cbnZhciBSdW5Db2xsZWN0b3JDYWxsYmFja0hhbmRsZXIgPSBjbGFzcyBleHRlbmRzIEJhc2VUcmFjZXIge1xuXHQvKiogVGhlIG5hbWUgb2YgdGhlIGNhbGxiYWNrIGhhbmRsZXIuICovXG5cdG5hbWUgPSBcInJ1bl9jb2xsZWN0b3JcIjtcblx0LyoqIFRoZSBJRCBvZiB0aGUgZXhhbXBsZS4gKi9cblx0ZXhhbXBsZUlkO1xuXHQvKiogQW4gYXJyYXkgb2YgdHJhY2VkIHJ1bnMuICovXG5cdHRyYWNlZFJ1bnM7XG5cdC8qKlxuXHQqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIFJ1bkNvbGxlY3RvckNhbGxiYWNrSGFuZGxlciBjbGFzcy5cblx0KiBAcGFyYW0gZXhhbXBsZUlkIFRoZSBJRCBvZiB0aGUgZXhhbXBsZS5cblx0Ki9cblx0Y29uc3RydWN0b3IoeyBleGFtcGxlSWQgfSA9IHt9KSB7XG5cdFx0c3VwZXIoeyBfYXdhaXRIYW5kbGVyOiB0cnVlIH0pO1xuXHRcdHRoaXMuZXhhbXBsZUlkID0gZXhhbXBsZUlkO1xuXHRcdHRoaXMudHJhY2VkUnVucyA9IFtdO1xuXHR9XG5cdC8qKlxuXHQqIFBlcnNpc3RzIHRoZSBnaXZlbiBydW4gb2JqZWN0LlxuXHQqIEBwYXJhbSBydW4gVGhlIHJ1biBvYmplY3QgdG8gcGVyc2lzdC5cblx0Ki9cblx0YXN5bmMgcGVyc2lzdFJ1bihydW4pIHtcblx0XHRjb25zdCBydW5fID0geyAuLi5ydW4gfTtcblx0XHRydW5fLnJlZmVyZW5jZV9leGFtcGxlX2lkID0gdGhpcy5leGFtcGxlSWQ7XG5cdFx0dGhpcy50cmFjZWRSdW5zLnB1c2gocnVuXyk7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgUnVuQ29sbGVjdG9yQ2FsbGJhY2tIYW5kbGVyLCBydW5fY29sbGVjdG9yX2V4cG9ydHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJ1bl9jb2xsZWN0b3IuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/run_collector.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/tracer_langchain.js":
/*!****************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/tracer_langchain.js ***!
  \****************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LangChainTracer: () => (/* binding */ LangChainTracer),\n/* harmony export */   tracer_langchain_exports: () => (/* binding */ tracer_langchain_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/base.js\");\n/* harmony import */ var _singletons_tracer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../singletons/tracer.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/tracer.js\");\n/* harmony import */ var langsmith_singletons_traceable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! langsmith/singletons/traceable */ \"(rsc)/./node_modules/.pnpm/langsmith@0.3.74_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/langsmith/singletons/traceable.js\");\n/* harmony import */ var langsmith_run_trees__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! langsmith/run_trees */ \"(rsc)/./node_modules/.pnpm/langsmith@0.3.74_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/langsmith/run_trees.js\");\n/* harmony import */ var langsmith__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! langsmith */ \"(rsc)/./node_modules/.pnpm/langsmith@0.3.74_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/langsmith/index.js\");\n\n\n\n\n\n\n\n//#region src/tracers/tracer_langchain.ts\nvar tracer_langchain_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(tracer_langchain_exports, { LangChainTracer: () => LangChainTracer });\nvar LangChainTracer = class LangChainTracer extends _base_js__WEBPACK_IMPORTED_MODULE_1__.BaseTracer {\n\tname = \"langchain_tracer\";\n\tprojectName;\n\texampleId;\n\tclient;\n\treplicas;\n\tusesRunTreeMap = true;\n\tconstructor(fields = {}) {\n\t\tsuper(fields);\n\t\tconst { exampleId, projectName, client, replicas } = fields;\n\t\tthis.projectName = projectName ?? (0,langsmith__WEBPACK_IMPORTED_MODULE_5__.getDefaultProjectName)();\n\t\tthis.replicas = replicas;\n\t\tthis.exampleId = exampleId;\n\t\tthis.client = client ?? (0,_singletons_tracer_js__WEBPACK_IMPORTED_MODULE_2__.getDefaultLangChainClientSingleton)();\n\t\tconst traceableTree = LangChainTracer.getTraceableRunTree();\n\t\tif (traceableTree) this.updateFromRunTree(traceableTree);\n\t}\n\tasync persistRun(_run) {}\n\tasync onRunCreate(run) {\n\t\tconst runTree = this.getRunTreeWithTracingConfig(run.id);\n\t\tawait runTree?.postRun();\n\t}\n\tasync onRunUpdate(run) {\n\t\tconst runTree = this.getRunTreeWithTracingConfig(run.id);\n\t\tawait runTree?.patchRun();\n\t}\n\tgetRun(id) {\n\t\treturn this.runTreeMap.get(id);\n\t}\n\tupdateFromRunTree(runTree) {\n\t\tthis.runTreeMap.set(runTree.id, runTree);\n\t\tlet rootRun = runTree;\n\t\tconst visited = /* @__PURE__ */ new Set();\n\t\twhile (rootRun.parent_run) {\n\t\t\tif (visited.has(rootRun.id)) break;\n\t\t\tvisited.add(rootRun.id);\n\t\t\tif (!rootRun.parent_run) break;\n\t\t\trootRun = rootRun.parent_run;\n\t\t}\n\t\tvisited.clear();\n\t\tconst queue = [rootRun];\n\t\twhile (queue.length > 0) {\n\t\t\tconst current = queue.shift();\n\t\t\tif (!current || visited.has(current.id)) continue;\n\t\t\tvisited.add(current.id);\n\t\t\tthis.runTreeMap.set(current.id, current);\n\t\t\tif (current.child_runs) queue.push(...current.child_runs);\n\t\t}\n\t\tthis.client = runTree.client ?? this.client;\n\t\tthis.replicas = runTree.replicas ?? this.replicas;\n\t\tthis.projectName = runTree.project_name ?? this.projectName;\n\t\tthis.exampleId = runTree.reference_example_id ?? this.exampleId;\n\t}\n\tgetRunTreeWithTracingConfig(id) {\n\t\tconst runTree = this.runTreeMap.get(id);\n\t\tif (!runTree) return void 0;\n\t\treturn new langsmith_run_trees__WEBPACK_IMPORTED_MODULE_4__.RunTree({\n\t\t\t...runTree,\n\t\t\tclient: this.client,\n\t\t\tproject_name: this.projectName,\n\t\t\treplicas: this.replicas,\n\t\t\treference_example_id: this.exampleId,\n\t\t\ttracingEnabled: true\n\t\t});\n\t}\n\tstatic getTraceableRunTree() {\n\t\ttry {\n\t\t\treturn (0,langsmith_singletons_traceable__WEBPACK_IMPORTED_MODULE_3__.getCurrentRunTree)(true);\n\t\t} catch {\n\t\t\treturn void 0;\n\t\t}\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=tracer_langchain.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC90cmFjZXJzL3RyYWNlcl9sYW5nY2hhaW4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBMkQ7QUFDcEI7QUFDc0M7QUFDVjtBQUNyQjtBQUNJOztBQUVsRDtBQUNBO0FBQ0Esc0VBQVEsNkJBQTZCLHdDQUF3QztBQUM3RSxvREFBb0QsZ0RBQVU7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0EsVUFBVSwyQ0FBMkM7QUFDckQsb0NBQW9DLGdFQUFxQjtBQUN6RDtBQUNBO0FBQ0EsMEJBQTBCLHlGQUFrQztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHdEQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxVQUFVLGlGQUFpQjtBQUMzQixJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDcUQ7QUFDckQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3RyYWNlcnMvdHJhY2VyX2xhbmdjaGFpbi5qcz84NmIxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fZXhwb3J0IH0gZnJvbSBcIi4uL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuanNcIjtcbmltcG9ydCB7IEJhc2VUcmFjZXIgfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5pbXBvcnQgeyBnZXREZWZhdWx0TGFuZ0NoYWluQ2xpZW50U2luZ2xldG9uIH0gZnJvbSBcIi4uL3NpbmdsZXRvbnMvdHJhY2VyLmpzXCI7XG5pbXBvcnQgeyBnZXRDdXJyZW50UnVuVHJlZSB9IGZyb20gXCJsYW5nc21pdGgvc2luZ2xldG9ucy90cmFjZWFibGVcIjtcbmltcG9ydCB7IFJ1blRyZWUgfSBmcm9tIFwibGFuZ3NtaXRoL3J1bl90cmVlc1wiO1xuaW1wb3J0IHsgZ2V0RGVmYXVsdFByb2plY3ROYW1lIH0gZnJvbSBcImxhbmdzbWl0aFwiO1xuXG4vLyNyZWdpb24gc3JjL3RyYWNlcnMvdHJhY2VyX2xhbmdjaGFpbi50c1xudmFyIHRyYWNlcl9sYW5nY2hhaW5fZXhwb3J0cyA9IHt9O1xuX19leHBvcnQodHJhY2VyX2xhbmdjaGFpbl9leHBvcnRzLCB7IExhbmdDaGFpblRyYWNlcjogKCkgPT4gTGFuZ0NoYWluVHJhY2VyIH0pO1xudmFyIExhbmdDaGFpblRyYWNlciA9IGNsYXNzIExhbmdDaGFpblRyYWNlciBleHRlbmRzIEJhc2VUcmFjZXIge1xuXHRuYW1lID0gXCJsYW5nY2hhaW5fdHJhY2VyXCI7XG5cdHByb2plY3ROYW1lO1xuXHRleGFtcGxlSWQ7XG5cdGNsaWVudDtcblx0cmVwbGljYXM7XG5cdHVzZXNSdW5UcmVlTWFwID0gdHJ1ZTtcblx0Y29uc3RydWN0b3IoZmllbGRzID0ge30pIHtcblx0XHRzdXBlcihmaWVsZHMpO1xuXHRcdGNvbnN0IHsgZXhhbXBsZUlkLCBwcm9qZWN0TmFtZSwgY2xpZW50LCByZXBsaWNhcyB9ID0gZmllbGRzO1xuXHRcdHRoaXMucHJvamVjdE5hbWUgPSBwcm9qZWN0TmFtZSA/PyBnZXREZWZhdWx0UHJvamVjdE5hbWUoKTtcblx0XHR0aGlzLnJlcGxpY2FzID0gcmVwbGljYXM7XG5cdFx0dGhpcy5leGFtcGxlSWQgPSBleGFtcGxlSWQ7XG5cdFx0dGhpcy5jbGllbnQgPSBjbGllbnQgPz8gZ2V0RGVmYXVsdExhbmdDaGFpbkNsaWVudFNpbmdsZXRvbigpO1xuXHRcdGNvbnN0IHRyYWNlYWJsZVRyZWUgPSBMYW5nQ2hhaW5UcmFjZXIuZ2V0VHJhY2VhYmxlUnVuVHJlZSgpO1xuXHRcdGlmICh0cmFjZWFibGVUcmVlKSB0aGlzLnVwZGF0ZUZyb21SdW5UcmVlKHRyYWNlYWJsZVRyZWUpO1xuXHR9XG5cdGFzeW5jIHBlcnNpc3RSdW4oX3J1bikge31cblx0YXN5bmMgb25SdW5DcmVhdGUocnVuKSB7XG5cdFx0Y29uc3QgcnVuVHJlZSA9IHRoaXMuZ2V0UnVuVHJlZVdpdGhUcmFjaW5nQ29uZmlnKHJ1bi5pZCk7XG5cdFx0YXdhaXQgcnVuVHJlZT8ucG9zdFJ1bigpO1xuXHR9XG5cdGFzeW5jIG9uUnVuVXBkYXRlKHJ1bikge1xuXHRcdGNvbnN0IHJ1blRyZWUgPSB0aGlzLmdldFJ1blRyZWVXaXRoVHJhY2luZ0NvbmZpZyhydW4uaWQpO1xuXHRcdGF3YWl0IHJ1blRyZWU/LnBhdGNoUnVuKCk7XG5cdH1cblx0Z2V0UnVuKGlkKSB7XG5cdFx0cmV0dXJuIHRoaXMucnVuVHJlZU1hcC5nZXQoaWQpO1xuXHR9XG5cdHVwZGF0ZUZyb21SdW5UcmVlKHJ1blRyZWUpIHtcblx0XHR0aGlzLnJ1blRyZWVNYXAuc2V0KHJ1blRyZWUuaWQsIHJ1blRyZWUpO1xuXHRcdGxldCByb290UnVuID0gcnVuVHJlZTtcblx0XHRjb25zdCB2aXNpdGVkID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcblx0XHR3aGlsZSAocm9vdFJ1bi5wYXJlbnRfcnVuKSB7XG5cdFx0XHRpZiAodmlzaXRlZC5oYXMocm9vdFJ1bi5pZCkpIGJyZWFrO1xuXHRcdFx0dmlzaXRlZC5hZGQocm9vdFJ1bi5pZCk7XG5cdFx0XHRpZiAoIXJvb3RSdW4ucGFyZW50X3J1bikgYnJlYWs7XG5cdFx0XHRyb290UnVuID0gcm9vdFJ1bi5wYXJlbnRfcnVuO1xuXHRcdH1cblx0XHR2aXNpdGVkLmNsZWFyKCk7XG5cdFx0Y29uc3QgcXVldWUgPSBbcm9vdFJ1bl07XG5cdFx0d2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcblx0XHRcdGNvbnN0IGN1cnJlbnQgPSBxdWV1ZS5zaGlmdCgpO1xuXHRcdFx0aWYgKCFjdXJyZW50IHx8IHZpc2l0ZWQuaGFzKGN1cnJlbnQuaWQpKSBjb250aW51ZTtcblx0XHRcdHZpc2l0ZWQuYWRkKGN1cnJlbnQuaWQpO1xuXHRcdFx0dGhpcy5ydW5UcmVlTWFwLnNldChjdXJyZW50LmlkLCBjdXJyZW50KTtcblx0XHRcdGlmIChjdXJyZW50LmNoaWxkX3J1bnMpIHF1ZXVlLnB1c2goLi4uY3VycmVudC5jaGlsZF9ydW5zKTtcblx0XHR9XG5cdFx0dGhpcy5jbGllbnQgPSBydW5UcmVlLmNsaWVudCA/PyB0aGlzLmNsaWVudDtcblx0XHR0aGlzLnJlcGxpY2FzID0gcnVuVHJlZS5yZXBsaWNhcyA/PyB0aGlzLnJlcGxpY2FzO1xuXHRcdHRoaXMucHJvamVjdE5hbWUgPSBydW5UcmVlLnByb2plY3RfbmFtZSA/PyB0aGlzLnByb2plY3ROYW1lO1xuXHRcdHRoaXMuZXhhbXBsZUlkID0gcnVuVHJlZS5yZWZlcmVuY2VfZXhhbXBsZV9pZCA/PyB0aGlzLmV4YW1wbGVJZDtcblx0fVxuXHRnZXRSdW5UcmVlV2l0aFRyYWNpbmdDb25maWcoaWQpIHtcblx0XHRjb25zdCBydW5UcmVlID0gdGhpcy5ydW5UcmVlTWFwLmdldChpZCk7XG5cdFx0aWYgKCFydW5UcmVlKSByZXR1cm4gdm9pZCAwO1xuXHRcdHJldHVybiBuZXcgUnVuVHJlZSh7XG5cdFx0XHQuLi5ydW5UcmVlLFxuXHRcdFx0Y2xpZW50OiB0aGlzLmNsaWVudCxcblx0XHRcdHByb2plY3RfbmFtZTogdGhpcy5wcm9qZWN0TmFtZSxcblx0XHRcdHJlcGxpY2FzOiB0aGlzLnJlcGxpY2FzLFxuXHRcdFx0cmVmZXJlbmNlX2V4YW1wbGVfaWQ6IHRoaXMuZXhhbXBsZUlkLFxuXHRcdFx0dHJhY2luZ0VuYWJsZWQ6IHRydWVcblx0XHR9KTtcblx0fVxuXHRzdGF0aWMgZ2V0VHJhY2VhYmxlUnVuVHJlZSgpIHtcblx0XHR0cnkge1xuXHRcdFx0cmV0dXJuIGdldEN1cnJlbnRSdW5UcmVlKHRydWUpO1xuXHRcdH0gY2F0Y2gge1xuXHRcdFx0cmV0dXJuIHZvaWQgMDtcblx0XHR9XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgTGFuZ0NoYWluVHJhY2VyLCB0cmFjZXJfbGFuZ2NoYWluX2V4cG9ydHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYWNlcl9sYW5nY2hhaW4uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/tracer_langchain.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/types/stream.js":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/types/stream.js ***!
  \****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   stream_exports: () => (/* binding */ stream_exports)\n/* harmony export */ });\n//#region src/types/stream.ts\nvar stream_exports = {};\n\n//#endregion\n\n//# sourceMappingURL=stream.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC90eXBlcy9zdHJlYW0uanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7O0FBRUE7QUFDMEI7QUFDMUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3R5cGVzL3N0cmVhbS5qcz8yNzVmIl0sInNvdXJjZXNDb250ZW50IjpbIi8vI3JlZ2lvbiBzcmMvdHlwZXMvc3RyZWFtLnRzXG52YXIgc3RyZWFtX2V4cG9ydHMgPSB7fTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBzdHJlYW1fZXhwb3J0cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RyZWFtLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/types/stream.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/async_caller.js":
/*!**********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/async_caller.js ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AsyncCaller: () => (/* binding */ AsyncCaller),\n/* harmony export */   async_caller_exports: () => (/* binding */ async_caller_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _signal_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./signal.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/signal.js\");\n/* harmony import */ var p_retry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! p-retry */ \"(rsc)/./node_modules/.pnpm/p-retry@4.6.2/node_modules/p-retry/index.js\");\n/* harmony import */ var p_queue__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! p-queue */ \"(rsc)/./node_modules/.pnpm/p-queue@6.6.2/node_modules/p-queue/dist/index.js\");\n\n\n\n\n\n//#region src/utils/async_caller.ts\nvar async_caller_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(async_caller_exports, { AsyncCaller: () => AsyncCaller });\nconst STATUS_NO_RETRY = [\n\t400,\n\t401,\n\t402,\n\t403,\n\t404,\n\t405,\n\t406,\n\t407,\n\t409\n];\nconst defaultFailedAttemptHandler = (error) => {\n\tif (error.message.startsWith(\"Cancel\") || error.message.startsWith(\"AbortError\") || error.name === \"AbortError\") throw error;\n\tif (error?.code === \"ECONNABORTED\") throw error;\n\tconst status = error?.response?.status ?? error?.status;\n\tif (status && STATUS_NO_RETRY.includes(+status)) throw error;\n\tif (error?.error?.code === \"insufficient_quota\") {\n\t\tconst err = new Error(error?.message);\n\t\terr.name = \"InsufficientQuotaError\";\n\t\tthrow err;\n\t}\n};\n/**\n* A class that can be used to make async calls with concurrency and retry logic.\n*\n* This is useful for making calls to any kind of \"expensive\" external resource,\n* be it because it's rate-limited, subject to network issues, etc.\n*\n* Concurrent calls are limited by the `maxConcurrency` parameter, which defaults\n* to `Infinity`. This means that by default, all calls will be made in parallel.\n*\n* Retries are limited by the `maxRetries` parameter, which defaults to 6. This\n* means that by default, each call will be retried up to 6 times, with an\n* exponential backoff between each attempt.\n*/\nvar AsyncCaller = class {\n\tmaxConcurrency;\n\tmaxRetries;\n\tonFailedAttempt;\n\tqueue;\n\tconstructor(params) {\n\t\tthis.maxConcurrency = params.maxConcurrency ?? Infinity;\n\t\tthis.maxRetries = params.maxRetries ?? 6;\n\t\tthis.onFailedAttempt = params.onFailedAttempt ?? defaultFailedAttemptHandler;\n\t\tconst PQueue =  true ? p_queue__WEBPACK_IMPORTED_MODULE_3__[\"default\"] : p_queue__WEBPACK_IMPORTED_MODULE_3__;\n\t\tthis.queue = new PQueue({ concurrency: this.maxConcurrency });\n\t}\n\tcall(callable, ...args) {\n\t\treturn this.queue.add(() => p_retry__WEBPACK_IMPORTED_MODULE_2__(() => callable(...args).catch((error) => {\n\t\t\tif (error instanceof Error) throw error;\n\t\t\telse throw new Error(error);\n\t\t}), {\n\t\t\tonFailedAttempt: this.onFailedAttempt,\n\t\t\tretries: this.maxRetries,\n\t\t\trandomize: true\n\t\t}), { throwOnTimeout: true });\n\t}\n\tcallWithOptions(options, callable, ...args) {\n\t\tif (options.signal) return Promise.race([this.call(callable, ...args), new Promise((_, reject) => {\n\t\t\toptions.signal?.addEventListener(\"abort\", () => {\n\t\t\t\treject((0,_signal_js__WEBPACK_IMPORTED_MODULE_1__.getAbortSignalError)(options.signal));\n\t\t\t});\n\t\t})]);\n\t\treturn this.call(callable, ...args);\n\t}\n\tfetch(...args) {\n\t\treturn this.call(() => fetch(...args).then((res) => res.ok ? res : Promise.reject(res)));\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=async_caller.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9hc3luY19jYWxsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTJEO0FBQ1Q7QUFDckI7QUFDRzs7QUFFaEM7QUFDQTtBQUNBLHNFQUFRLHlCQUF5QixnQ0FBZ0M7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixLQUFzQixHQUFHLCtDQUFpQixHQUFHLG9DQUFTO0FBQ3ZFLDRCQUE0QixrQ0FBa0M7QUFDOUQ7QUFDQTtBQUNBLDhCQUE4QixvQ0FBTTtBQUNwQztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUcsS0FBSyxzQkFBc0I7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLCtEQUFtQjtBQUM5QixJQUFJO0FBQ0osR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUM2QztBQUM3QyIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvYXN5bmNfY2FsbGVyLmpzPzE0YTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19leHBvcnQgfSBmcm9tIFwiLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5qc1wiO1xuaW1wb3J0IHsgZ2V0QWJvcnRTaWduYWxFcnJvciB9IGZyb20gXCIuL3NpZ25hbC5qc1wiO1xuaW1wb3J0IHBSZXRyeSBmcm9tIFwicC1yZXRyeVwiO1xuaW1wb3J0IFBRdWV1ZU1vZCBmcm9tIFwicC1xdWV1ZVwiO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL2FzeW5jX2NhbGxlci50c1xudmFyIGFzeW5jX2NhbGxlcl9leHBvcnRzID0ge307XG5fX2V4cG9ydChhc3luY19jYWxsZXJfZXhwb3J0cywgeyBBc3luY0NhbGxlcjogKCkgPT4gQXN5bmNDYWxsZXIgfSk7XG5jb25zdCBTVEFUVVNfTk9fUkVUUlkgPSBbXG5cdDQwMCxcblx0NDAxLFxuXHQ0MDIsXG5cdDQwMyxcblx0NDA0LFxuXHQ0MDUsXG5cdDQwNixcblx0NDA3LFxuXHQ0MDlcbl07XG5jb25zdCBkZWZhdWx0RmFpbGVkQXR0ZW1wdEhhbmRsZXIgPSAoZXJyb3IpID0+IHtcblx0aWYgKGVycm9yLm1lc3NhZ2Uuc3RhcnRzV2l0aChcIkNhbmNlbFwiKSB8fCBlcnJvci5tZXNzYWdlLnN0YXJ0c1dpdGgoXCJBYm9ydEVycm9yXCIpIHx8IGVycm9yLm5hbWUgPT09IFwiQWJvcnRFcnJvclwiKSB0aHJvdyBlcnJvcjtcblx0aWYgKGVycm9yPy5jb2RlID09PSBcIkVDT05OQUJPUlRFRFwiKSB0aHJvdyBlcnJvcjtcblx0Y29uc3Qgc3RhdHVzID0gZXJyb3I/LnJlc3BvbnNlPy5zdGF0dXMgPz8gZXJyb3I/LnN0YXR1cztcblx0aWYgKHN0YXR1cyAmJiBTVEFUVVNfTk9fUkVUUlkuaW5jbHVkZXMoK3N0YXR1cykpIHRocm93IGVycm9yO1xuXHRpZiAoZXJyb3I/LmVycm9yPy5jb2RlID09PSBcImluc3VmZmljaWVudF9xdW90YVwiKSB7XG5cdFx0Y29uc3QgZXJyID0gbmV3IEVycm9yKGVycm9yPy5tZXNzYWdlKTtcblx0XHRlcnIubmFtZSA9IFwiSW5zdWZmaWNpZW50UXVvdGFFcnJvclwiO1xuXHRcdHRocm93IGVycjtcblx0fVxufTtcbi8qKlxuKiBBIGNsYXNzIHRoYXQgY2FuIGJlIHVzZWQgdG8gbWFrZSBhc3luYyBjYWxscyB3aXRoIGNvbmN1cnJlbmN5IGFuZCByZXRyeSBsb2dpYy5cbipcbiogVGhpcyBpcyB1c2VmdWwgZm9yIG1ha2luZyBjYWxscyB0byBhbnkga2luZCBvZiBcImV4cGVuc2l2ZVwiIGV4dGVybmFsIHJlc291cmNlLFxuKiBiZSBpdCBiZWNhdXNlIGl0J3MgcmF0ZS1saW1pdGVkLCBzdWJqZWN0IHRvIG5ldHdvcmsgaXNzdWVzLCBldGMuXG4qXG4qIENvbmN1cnJlbnQgY2FsbHMgYXJlIGxpbWl0ZWQgYnkgdGhlIGBtYXhDb25jdXJyZW5jeWAgcGFyYW1ldGVyLCB3aGljaCBkZWZhdWx0c1xuKiB0byBgSW5maW5pdHlgLiBUaGlzIG1lYW5zIHRoYXQgYnkgZGVmYXVsdCwgYWxsIGNhbGxzIHdpbGwgYmUgbWFkZSBpbiBwYXJhbGxlbC5cbipcbiogUmV0cmllcyBhcmUgbGltaXRlZCBieSB0aGUgYG1heFJldHJpZXNgIHBhcmFtZXRlciwgd2hpY2ggZGVmYXVsdHMgdG8gNi4gVGhpc1xuKiBtZWFucyB0aGF0IGJ5IGRlZmF1bHQsIGVhY2ggY2FsbCB3aWxsIGJlIHJldHJpZWQgdXAgdG8gNiB0aW1lcywgd2l0aCBhblxuKiBleHBvbmVudGlhbCBiYWNrb2ZmIGJldHdlZW4gZWFjaCBhdHRlbXB0LlxuKi9cbnZhciBBc3luY0NhbGxlciA9IGNsYXNzIHtcblx0bWF4Q29uY3VycmVuY3k7XG5cdG1heFJldHJpZXM7XG5cdG9uRmFpbGVkQXR0ZW1wdDtcblx0cXVldWU7XG5cdGNvbnN0cnVjdG9yKHBhcmFtcykge1xuXHRcdHRoaXMubWF4Q29uY3VycmVuY3kgPSBwYXJhbXMubWF4Q29uY3VycmVuY3kgPz8gSW5maW5pdHk7XG5cdFx0dGhpcy5tYXhSZXRyaWVzID0gcGFyYW1zLm1heFJldHJpZXMgPz8gNjtcblx0XHR0aGlzLm9uRmFpbGVkQXR0ZW1wdCA9IHBhcmFtcy5vbkZhaWxlZEF0dGVtcHQgPz8gZGVmYXVsdEZhaWxlZEF0dGVtcHRIYW5kbGVyO1xuXHRcdGNvbnN0IFBRdWV1ZSA9IFwiZGVmYXVsdFwiIGluIFBRdWV1ZU1vZCA/IFBRdWV1ZU1vZC5kZWZhdWx0IDogUFF1ZXVlTW9kO1xuXHRcdHRoaXMucXVldWUgPSBuZXcgUFF1ZXVlKHsgY29uY3VycmVuY3k6IHRoaXMubWF4Q29uY3VycmVuY3kgfSk7XG5cdH1cblx0Y2FsbChjYWxsYWJsZSwgLi4uYXJncykge1xuXHRcdHJldHVybiB0aGlzLnF1ZXVlLmFkZCgoKSA9PiBwUmV0cnkoKCkgPT4gY2FsbGFibGUoLi4uYXJncykuY2F0Y2goKGVycm9yKSA9PiB7XG5cdFx0XHRpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikgdGhyb3cgZXJyb3I7XG5cdFx0XHRlbHNlIHRocm93IG5ldyBFcnJvcihlcnJvcik7XG5cdFx0fSksIHtcblx0XHRcdG9uRmFpbGVkQXR0ZW1wdDogdGhpcy5vbkZhaWxlZEF0dGVtcHQsXG5cdFx0XHRyZXRyaWVzOiB0aGlzLm1heFJldHJpZXMsXG5cdFx0XHRyYW5kb21pemU6IHRydWVcblx0XHR9KSwgeyB0aHJvd09uVGltZW91dDogdHJ1ZSB9KTtcblx0fVxuXHRjYWxsV2l0aE9wdGlvbnMob3B0aW9ucywgY2FsbGFibGUsIC4uLmFyZ3MpIHtcblx0XHRpZiAob3B0aW9ucy5zaWduYWwpIHJldHVybiBQcm9taXNlLnJhY2UoW3RoaXMuY2FsbChjYWxsYWJsZSwgLi4uYXJncyksIG5ldyBQcm9taXNlKChfLCByZWplY3QpID0+IHtcblx0XHRcdG9wdGlvbnMuc2lnbmFsPy5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgKCkgPT4ge1xuXHRcdFx0XHRyZWplY3QoZ2V0QWJvcnRTaWduYWxFcnJvcihvcHRpb25zLnNpZ25hbCkpO1xuXHRcdFx0fSk7XG5cdFx0fSldKTtcblx0XHRyZXR1cm4gdGhpcy5jYWxsKGNhbGxhYmxlLCAuLi5hcmdzKTtcblx0fVxuXHRmZXRjaCguLi5hcmdzKSB7XG5cdFx0cmV0dXJuIHRoaXMuY2FsbCgoKSA9PiBmZXRjaCguLi5hcmdzKS50aGVuKChyZXMpID0+IHJlcy5vayA/IHJlcyA6IFByb21pc2UucmVqZWN0KHJlcykpKTtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBBc3luY0NhbGxlciwgYXN5bmNfY2FsbGVyX2V4cG9ydHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFzeW5jX2NhbGxlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/async_caller.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/callbacks.js":
/*!*******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/callbacks.js ***!
  \*******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isTracingEnabled: () => (/* binding */ isTracingEnabled)\n/* harmony export */ });\n/* harmony import */ var _env_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./env.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/env.js\");\n\n\n//#region src/utils/callbacks.ts\nconst isTracingEnabled = (tracingEnabled) => {\n\tif (tracingEnabled !== void 0) return tracingEnabled;\n\tconst envVars = [\n\t\t\"LANGSMITH_TRACING_V2\",\n\t\t\"LANGCHAIN_TRACING_V2\",\n\t\t\"LANGSMITH_TRACING\",\n\t\t\"LANGCHAIN_TRACING\"\n\t];\n\treturn !!envVars.find((envVar) => (0,_env_js__WEBPACK_IMPORTED_MODULE_0__.getEnvironmentVariable)(envVar) === \"true\");\n};\n\n//#endregion\n\n//# sourceMappingURL=callbacks.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9jYWxsYmFja3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBa0Q7O0FBRWxEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQywrREFBc0I7QUFDekQ7O0FBRUE7QUFDNEI7QUFDNUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL2NhbGxiYWNrcy5qcz8xMWEwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldEVudmlyb25tZW50VmFyaWFibGUgfSBmcm9tIFwiLi9lbnYuanNcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy9jYWxsYmFja3MudHNcbmNvbnN0IGlzVHJhY2luZ0VuYWJsZWQgPSAodHJhY2luZ0VuYWJsZWQpID0+IHtcblx0aWYgKHRyYWNpbmdFbmFibGVkICE9PSB2b2lkIDApIHJldHVybiB0cmFjaW5nRW5hYmxlZDtcblx0Y29uc3QgZW52VmFycyA9IFtcblx0XHRcIkxBTkdTTUlUSF9UUkFDSU5HX1YyXCIsXG5cdFx0XCJMQU5HQ0hBSU5fVFJBQ0lOR19WMlwiLFxuXHRcdFwiTEFOR1NNSVRIX1RSQUNJTkdcIixcblx0XHRcIkxBTkdDSEFJTl9UUkFDSU5HXCJcblx0XTtcblx0cmV0dXJuICEhZW52VmFycy5maW5kKChlbnZWYXIpID0+IGdldEVudmlyb25tZW50VmFyaWFibGUoZW52VmFyKSA9PT0gXCJ0cnVlXCIpO1xufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBpc1RyYWNpbmdFbmFibGVkIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYWxsYmFja3MuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/callbacks.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/chunk_array.js":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/chunk_array.js ***!
  \*********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   chunkArray: () => (/* binding */ chunkArray),\n/* harmony export */   chunk_array_exports: () => (/* binding */ chunk_array_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n\n\n//#region src/utils/chunk_array.ts\nvar chunk_array_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(chunk_array_exports, { chunkArray: () => chunkArray });\nconst chunkArray = (arr, chunkSize) => arr.reduce((chunks, elem, index) => {\n\tconst chunkIndex = Math.floor(index / chunkSize);\n\tconst chunk = chunks[chunkIndex] || [];\n\tchunks[chunkIndex] = chunk.concat([elem]);\n\treturn chunks;\n}, []);\n\n//#endregion\n\n//# sourceMappingURL=chunk_array.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9jaHVua19hcnJheS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkQ7O0FBRTNEO0FBQ0E7QUFDQSxzRUFBUSx3QkFBd0IsOEJBQThCO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQzJDO0FBQzNDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9jaHVua19hcnJheS5qcz81ZjA4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fZXhwb3J0IH0gZnJvbSBcIi4uL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuanNcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy9jaHVua19hcnJheS50c1xudmFyIGNodW5rX2FycmF5X2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KGNodW5rX2FycmF5X2V4cG9ydHMsIHsgY2h1bmtBcnJheTogKCkgPT4gY2h1bmtBcnJheSB9KTtcbmNvbnN0IGNodW5rQXJyYXkgPSAoYXJyLCBjaHVua1NpemUpID0+IGFyci5yZWR1Y2UoKGNodW5rcywgZWxlbSwgaW5kZXgpID0+IHtcblx0Y29uc3QgY2h1bmtJbmRleCA9IE1hdGguZmxvb3IoaW5kZXggLyBjaHVua1NpemUpO1xuXHRjb25zdCBjaHVuayA9IGNodW5rc1tjaHVua0luZGV4XSB8fCBbXTtcblx0Y2h1bmtzW2NodW5rSW5kZXhdID0gY2h1bmsuY29uY2F0KFtlbGVtXSk7XG5cdHJldHVybiBjaHVua3M7XG59LCBbXSk7XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgY2h1bmtBcnJheSwgY2h1bmtfYXJyYXlfZXhwb3J0cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmtfYXJyYXkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/chunk_array.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/env.js":
/*!*************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/env.js ***!
  \*************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   env_exports: () => (/* binding */ env_exports),\n/* harmony export */   getEnv: () => (/* binding */ getEnv),\n/* harmony export */   getEnvironmentVariable: () => (/* binding */ getEnvironmentVariable),\n/* harmony export */   getRuntimeEnvironment: () => (/* binding */ getRuntimeEnvironment),\n/* harmony export */   isBrowser: () => (/* binding */ isBrowser),\n/* harmony export */   isDeno: () => (/* binding */ isDeno),\n/* harmony export */   isJsDom: () => (/* binding */ isJsDom),\n/* harmony export */   isNode: () => (/* binding */ isNode),\n/* harmony export */   isWebWorker: () => (/* binding */ isWebWorker)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n\n\n//#region src/utils/env.ts\nvar env_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(env_exports, {\n\tgetEnv: () => getEnv,\n\tgetEnvironmentVariable: () => getEnvironmentVariable,\n\tgetRuntimeEnvironment: () => getRuntimeEnvironment,\n\tisBrowser: () => isBrowser,\n\tisDeno: () => isDeno,\n\tisJsDom: () => isJsDom,\n\tisNode: () => isNode,\n\tisWebWorker: () => isWebWorker\n});\nconst isBrowser = () => typeof window !== \"undefined\" && typeof window.document !== \"undefined\";\nconst isWebWorker = () => typeof globalThis === \"object\" && globalThis.constructor && globalThis.constructor.name === \"DedicatedWorkerGlobalScope\";\nconst isJsDom = () => typeof window !== \"undefined\" && window.name === \"nodejs\" || typeof navigator !== \"undefined\" && navigator.userAgent.includes(\"jsdom\");\nconst isDeno = () => typeof Deno !== \"undefined\";\nconst isNode = () => typeof process !== \"undefined\" && typeof process.versions !== \"undefined\" && typeof process.versions.node !== \"undefined\" && !isDeno();\nconst getEnv = () => {\n\tlet env;\n\tif (isBrowser()) env = \"browser\";\n\telse if (isNode()) env = \"node\";\n\telse if (isWebWorker()) env = \"webworker\";\n\telse if (isJsDom()) env = \"jsdom\";\n\telse if (isDeno()) env = \"deno\";\n\telse env = \"other\";\n\treturn env;\n};\nlet runtimeEnvironment;\nfunction getRuntimeEnvironment() {\n\tif (runtimeEnvironment === void 0) {\n\t\tconst env = getEnv();\n\t\truntimeEnvironment = {\n\t\t\tlibrary: \"langchain-js\",\n\t\t\truntime: env\n\t\t};\n\t}\n\treturn runtimeEnvironment;\n}\nfunction getEnvironmentVariable(name) {\n\ttry {\n\t\tif (typeof process !== \"undefined\") return process.env?.[name];\n\t\telse if (isDeno()) return Deno?.env.get(name);\n\t\telse return void 0;\n\t} catch {\n\t\treturn void 0;\n\t}\n}\n\n//#endregion\n\n//# sourceMappingURL=env.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9lbnYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUEyRDs7QUFFM0Q7QUFDQTtBQUNBLHNFQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDK0g7QUFDL0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL2Vudi5qcz9hMmY0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fZXhwb3J0IH0gZnJvbSBcIi4uL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuanNcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy9lbnYudHNcbnZhciBlbnZfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQoZW52X2V4cG9ydHMsIHtcblx0Z2V0RW52OiAoKSA9PiBnZXRFbnYsXG5cdGdldEVudmlyb25tZW50VmFyaWFibGU6ICgpID0+IGdldEVudmlyb25tZW50VmFyaWFibGUsXG5cdGdldFJ1bnRpbWVFbnZpcm9ubWVudDogKCkgPT4gZ2V0UnVudGltZUVudmlyb25tZW50LFxuXHRpc0Jyb3dzZXI6ICgpID0+IGlzQnJvd3Nlcixcblx0aXNEZW5vOiAoKSA9PiBpc0Rlbm8sXG5cdGlzSnNEb206ICgpID0+IGlzSnNEb20sXG5cdGlzTm9kZTogKCkgPT4gaXNOb2RlLFxuXHRpc1dlYldvcmtlcjogKCkgPT4gaXNXZWJXb3JrZXJcbn0pO1xuY29uc3QgaXNCcm93c2VyID0gKCkgPT4gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiO1xuY29uc3QgaXNXZWJXb3JrZXIgPSAoKSA9PiB0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gXCJvYmplY3RcIiAmJiBnbG9iYWxUaGlzLmNvbnN0cnVjdG9yICYmIGdsb2JhbFRoaXMuY29uc3RydWN0b3IubmFtZSA9PT0gXCJEZWRpY2F0ZWRXb3JrZXJHbG9iYWxTY29wZVwiO1xuY29uc3QgaXNKc0RvbSA9ICgpID0+IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93Lm5hbWUgPT09IFwibm9kZWpzXCIgfHwgdHlwZW9mIG5hdmlnYXRvciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBuYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKFwianNkb21cIik7XG5jb25zdCBpc0Rlbm8gPSAoKSA9PiB0eXBlb2YgRGVubyAhPT0gXCJ1bmRlZmluZWRcIjtcbmNvbnN0IGlzTm9kZSA9ICgpID0+IHR5cGVvZiBwcm9jZXNzICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBwcm9jZXNzLnZlcnNpb25zICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBwcm9jZXNzLnZlcnNpb25zLm5vZGUgIT09IFwidW5kZWZpbmVkXCIgJiYgIWlzRGVubygpO1xuY29uc3QgZ2V0RW52ID0gKCkgPT4ge1xuXHRsZXQgZW52O1xuXHRpZiAoaXNCcm93c2VyKCkpIGVudiA9IFwiYnJvd3NlclwiO1xuXHRlbHNlIGlmIChpc05vZGUoKSkgZW52ID0gXCJub2RlXCI7XG5cdGVsc2UgaWYgKGlzV2ViV29ya2VyKCkpIGVudiA9IFwid2Vid29ya2VyXCI7XG5cdGVsc2UgaWYgKGlzSnNEb20oKSkgZW52ID0gXCJqc2RvbVwiO1xuXHRlbHNlIGlmIChpc0Rlbm8oKSkgZW52ID0gXCJkZW5vXCI7XG5cdGVsc2UgZW52ID0gXCJvdGhlclwiO1xuXHRyZXR1cm4gZW52O1xufTtcbmxldCBydW50aW1lRW52aXJvbm1lbnQ7XG5mdW5jdGlvbiBnZXRSdW50aW1lRW52aXJvbm1lbnQoKSB7XG5cdGlmIChydW50aW1lRW52aXJvbm1lbnQgPT09IHZvaWQgMCkge1xuXHRcdGNvbnN0IGVudiA9IGdldEVudigpO1xuXHRcdHJ1bnRpbWVFbnZpcm9ubWVudCA9IHtcblx0XHRcdGxpYnJhcnk6IFwibGFuZ2NoYWluLWpzXCIsXG5cdFx0XHRydW50aW1lOiBlbnZcblx0XHR9O1xuXHR9XG5cdHJldHVybiBydW50aW1lRW52aXJvbm1lbnQ7XG59XG5mdW5jdGlvbiBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKG5hbWUpIHtcblx0dHJ5IHtcblx0XHRpZiAodHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIpIHJldHVybiBwcm9jZXNzLmVudj8uW25hbWVdO1xuXHRcdGVsc2UgaWYgKGlzRGVubygpKSByZXR1cm4gRGVubz8uZW52LmdldChuYW1lKTtcblx0XHRlbHNlIHJldHVybiB2b2lkIDA7XG5cdH0gY2F0Y2gge1xuXHRcdHJldHVybiB2b2lkIDA7XG5cdH1cbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBlbnZfZXhwb3J0cywgZ2V0RW52LCBnZXRFbnZpcm9ubWVudFZhcmlhYmxlLCBnZXRSdW50aW1lRW52aXJvbm1lbnQsIGlzQnJvd3NlciwgaXNEZW5vLCBpc0pzRG9tLCBpc05vZGUsIGlzV2ViV29ya2VyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbnYuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/env.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/event_source_parse.js":
/*!****************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/event_source_parse.js ***!
  \****************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EventStreamContentType: () => (/* binding */ EventStreamContentType),\n/* harmony export */   convertEventStreamToIterableReadableDataStream: () => (/* binding */ convertEventStreamToIterableReadableDataStream),\n/* harmony export */   event_source_parse_exports: () => (/* binding */ event_source_parse_exports),\n/* harmony export */   getBytes: () => (/* binding */ getBytes),\n/* harmony export */   getLines: () => (/* binding */ getLines),\n/* harmony export */   getMessages: () => (/* binding */ getMessages)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _stream_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stream.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/stream.js\");\n\n\n\n//#region src/utils/event_source_parse.ts\nvar event_source_parse_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(event_source_parse_exports, {\n\tEventStreamContentType: () => EventStreamContentType,\n\tconvertEventStreamToIterableReadableDataStream: () => convertEventStreamToIterableReadableDataStream,\n\tgetBytes: () => getBytes,\n\tgetLines: () => getLines,\n\tgetMessages: () => getMessages\n});\nconst EventStreamContentType = \"text/event-stream\";\n/**\n* Converts a ReadableStream into a callback pattern.\n* @param stream The input ReadableStream.\n* @param onChunk A function that will be called on each new byte chunk in the stream.\n* @returns {Promise<void>} A promise that will be resolved when the stream closes.\n*/\nasync function getBytes(stream, onChunk) {\n\tif (stream instanceof ReadableStream) {\n\t\tconst reader = stream.getReader();\n\t\twhile (true) {\n\t\t\tconst result = await reader.read();\n\t\t\tif (result.done) {\n\t\t\t\tonChunk(new Uint8Array(), true);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tonChunk(result.value);\n\t\t}\n\t} else try {\n\t\tfor await (const chunk of stream) onChunk(new Uint8Array(chunk));\n\t\tonChunk(new Uint8Array(), true);\n\t} catch (e) {\n\t\tthrow new Error([\n\t\t\t\"Parsing event source stream failed.\",\n\t\t\t\"Ensure your implementation of fetch returns a web or Node readable stream.\",\n\t\t\t`Error: ${e.message}`\n\t\t].join(\"\\n\"));\n\t}\n}\nvar ControlChars = /* @__PURE__ */ function(ControlChars$1) {\n\tControlChars$1[ControlChars$1[\"NewLine\"] = 10] = \"NewLine\";\n\tControlChars$1[ControlChars$1[\"CarriageReturn\"] = 13] = \"CarriageReturn\";\n\tControlChars$1[ControlChars$1[\"Space\"] = 32] = \"Space\";\n\tControlChars$1[ControlChars$1[\"Colon\"] = 58] = \"Colon\";\n\treturn ControlChars$1;\n}(ControlChars || {});\n/**\n* Parses arbitary byte chunks into EventSource line buffers.\n* Each line should be of the format \"field: value\" and ends with \\r, \\n, or \\r\\n.\n* @param onLine A function that will be called on each new EventSource line.\n* @returns A function that should be called for each incoming byte chunk.\n*/\nfunction getLines(onLine) {\n\tlet buffer;\n\tlet position;\n\tlet fieldLength;\n\tlet discardTrailingNewline = false;\n\treturn function onChunk(arr, flush) {\n\t\tif (flush) {\n\t\t\tonLine(arr, 0, true);\n\t\t\treturn;\n\t\t}\n\t\tif (buffer === void 0) {\n\t\t\tbuffer = arr;\n\t\t\tposition = 0;\n\t\t\tfieldLength = -1;\n\t\t} else buffer = concat(buffer, arr);\n\t\tconst bufLength = buffer.length;\n\t\tlet lineStart = 0;\n\t\twhile (position < bufLength) {\n\t\t\tif (discardTrailingNewline) {\n\t\t\t\tif (buffer[position] === ControlChars.NewLine) lineStart = ++position;\n\t\t\t\tdiscardTrailingNewline = false;\n\t\t\t}\n\t\t\tlet lineEnd = -1;\n\t\t\tfor (; position < bufLength && lineEnd === -1; ++position) switch (buffer[position]) {\n\t\t\t\tcase ControlChars.Colon:\n\t\t\t\t\tif (fieldLength === -1) fieldLength = position - lineStart;\n\t\t\t\t\tbreak;\n\t\t\t\tcase ControlChars.CarriageReturn: discardTrailingNewline = true;\n\t\t\t\tcase ControlChars.NewLine:\n\t\t\t\t\tlineEnd = position;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (lineEnd === -1) break;\n\t\t\tonLine(buffer.subarray(lineStart, lineEnd), fieldLength);\n\t\t\tlineStart = position;\n\t\t\tfieldLength = -1;\n\t\t}\n\t\tif (lineStart === bufLength) buffer = void 0;\n\t\telse if (lineStart !== 0) {\n\t\t\tbuffer = buffer.subarray(lineStart);\n\t\t\tposition -= lineStart;\n\t\t}\n\t};\n}\n/**\n* Parses line buffers into EventSourceMessages.\n* @param onId A function that will be called on each `id` field.\n* @param onRetry A function that will be called on each `retry` field.\n* @param onMessage A function that will be called on each message.\n* @returns A function that should be called for each incoming line buffer.\n*/\nfunction getMessages(onMessage, onId, onRetry) {\n\tlet message = newMessage();\n\tconst decoder = new TextDecoder();\n\treturn function onLine(line, fieldLength, flush) {\n\t\tif (flush) {\n\t\t\tif (!isEmpty(message)) {\n\t\t\t\tonMessage?.(message);\n\t\t\t\tmessage = newMessage();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tif (line.length === 0) {\n\t\t\tonMessage?.(message);\n\t\t\tmessage = newMessage();\n\t\t} else if (fieldLength > 0) {\n\t\t\tconst field = decoder.decode(line.subarray(0, fieldLength));\n\t\t\tconst valueOffset = fieldLength + (line[fieldLength + 1] === ControlChars.Space ? 2 : 1);\n\t\t\tconst value = decoder.decode(line.subarray(valueOffset));\n\t\t\tswitch (field) {\n\t\t\t\tcase \"data\":\n\t\t\t\t\tmessage.data = message.data ? message.data + \"\\n\" + value : value;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"event\":\n\t\t\t\t\tmessage.event = value;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"id\":\n\t\t\t\t\tonId?.(message.id = value);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"retry\": {\n\t\t\t\t\tconst retry = parseInt(value, 10);\n\t\t\t\t\tif (!Number.isNaN(retry)) onRetry?.(message.retry = retry);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\nfunction concat(a, b) {\n\tconst res = new Uint8Array(a.length + b.length);\n\tres.set(a);\n\tres.set(b, a.length);\n\treturn res;\n}\nfunction newMessage() {\n\treturn {\n\t\tdata: \"\",\n\t\tevent: \"\",\n\t\tid: \"\",\n\t\tretry: void 0\n\t};\n}\nfunction convertEventStreamToIterableReadableDataStream(stream, onMetadataEvent) {\n\tconst dataStream = new ReadableStream({ async start(controller) {\n\t\tconst enqueueLine = getMessages((msg) => {\n\t\t\tif (msg.event === \"error\") throw new Error(msg.data ?? \"Unspecified event streaming error.\");\n\t\t\telse if (msg.event === \"metadata\") onMetadataEvent?.(msg);\n\t\t\telse if (msg.data) controller.enqueue(msg.data);\n\t\t});\n\t\tconst onLine = (line, fieldLength, flush) => {\n\t\t\tenqueueLine(line, fieldLength, flush);\n\t\t\tif (flush) controller.close();\n\t\t};\n\t\tawait getBytes(stream, getLines(onLine));\n\t} });\n\treturn _stream_js__WEBPACK_IMPORTED_MODULE_1__.IterableReadableStream.fromReadableStream(dataStream);\n}\nfunction isEmpty(message) {\n\treturn message.data === \"\" && message.event === \"\" && message.id === \"\" && message.retry === void 0;\n}\n\n//#endregion\n\n//# sourceMappingURL=event_source_parse.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9ldmVudF9zb3VyY2VfcGFyc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBMkQ7QUFDTjs7QUFFckQ7QUFDQTtBQUNBLHNFQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxlQUFlO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLG1CQUFtQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLHdDQUF3QztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osUUFBUSw4REFBc0I7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDK0k7QUFDL0kiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL2V2ZW50X3NvdXJjZV9wYXJzZS5qcz8wMWFhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fZXhwb3J0IH0gZnJvbSBcIi4uL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuanNcIjtcbmltcG9ydCB7IEl0ZXJhYmxlUmVhZGFibGVTdHJlYW0gfSBmcm9tIFwiLi9zdHJlYW0uanNcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy9ldmVudF9zb3VyY2VfcGFyc2UudHNcbnZhciBldmVudF9zb3VyY2VfcGFyc2VfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQoZXZlbnRfc291cmNlX3BhcnNlX2V4cG9ydHMsIHtcblx0RXZlbnRTdHJlYW1Db250ZW50VHlwZTogKCkgPT4gRXZlbnRTdHJlYW1Db250ZW50VHlwZSxcblx0Y29udmVydEV2ZW50U3RyZWFtVG9JdGVyYWJsZVJlYWRhYmxlRGF0YVN0cmVhbTogKCkgPT4gY29udmVydEV2ZW50U3RyZWFtVG9JdGVyYWJsZVJlYWRhYmxlRGF0YVN0cmVhbSxcblx0Z2V0Qnl0ZXM6ICgpID0+IGdldEJ5dGVzLFxuXHRnZXRMaW5lczogKCkgPT4gZ2V0TGluZXMsXG5cdGdldE1lc3NhZ2VzOiAoKSA9PiBnZXRNZXNzYWdlc1xufSk7XG5jb25zdCBFdmVudFN0cmVhbUNvbnRlbnRUeXBlID0gXCJ0ZXh0L2V2ZW50LXN0cmVhbVwiO1xuLyoqXG4qIENvbnZlcnRzIGEgUmVhZGFibGVTdHJlYW0gaW50byBhIGNhbGxiYWNrIHBhdHRlcm4uXG4qIEBwYXJhbSBzdHJlYW0gVGhlIGlucHV0IFJlYWRhYmxlU3RyZWFtLlxuKiBAcGFyYW0gb25DaHVuayBBIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgb24gZWFjaCBuZXcgYnl0ZSBjaHVuayBpbiB0aGUgc3RyZWFtLlxuKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gQSBwcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCB3aGVuIHRoZSBzdHJlYW0gY2xvc2VzLlxuKi9cbmFzeW5jIGZ1bmN0aW9uIGdldEJ5dGVzKHN0cmVhbSwgb25DaHVuaykge1xuXHRpZiAoc3RyZWFtIGluc3RhbmNlb2YgUmVhZGFibGVTdHJlYW0pIHtcblx0XHRjb25zdCByZWFkZXIgPSBzdHJlYW0uZ2V0UmVhZGVyKCk7XG5cdFx0d2hpbGUgKHRydWUpIHtcblx0XHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG5cdFx0XHRpZiAocmVzdWx0LmRvbmUpIHtcblx0XHRcdFx0b25DaHVuayhuZXcgVWludDhBcnJheSgpLCB0cnVlKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRvbkNodW5rKHJlc3VsdC52YWx1ZSk7XG5cdFx0fVxuXHR9IGVsc2UgdHJ5IHtcblx0XHRmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHN0cmVhbSkgb25DaHVuayhuZXcgVWludDhBcnJheShjaHVuaykpO1xuXHRcdG9uQ2h1bmsobmV3IFVpbnQ4QXJyYXkoKSwgdHJ1ZSk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoW1xuXHRcdFx0XCJQYXJzaW5nIGV2ZW50IHNvdXJjZSBzdHJlYW0gZmFpbGVkLlwiLFxuXHRcdFx0XCJFbnN1cmUgeW91ciBpbXBsZW1lbnRhdGlvbiBvZiBmZXRjaCByZXR1cm5zIGEgd2ViIG9yIE5vZGUgcmVhZGFibGUgc3RyZWFtLlwiLFxuXHRcdFx0YEVycm9yOiAke2UubWVzc2FnZX1gXG5cdFx0XS5qb2luKFwiXFxuXCIpKTtcblx0fVxufVxudmFyIENvbnRyb2xDaGFycyA9IC8qIEBfX1BVUkVfXyAqLyBmdW5jdGlvbihDb250cm9sQ2hhcnMkMSkge1xuXHRDb250cm9sQ2hhcnMkMVtDb250cm9sQ2hhcnMkMVtcIk5ld0xpbmVcIl0gPSAxMF0gPSBcIk5ld0xpbmVcIjtcblx0Q29udHJvbENoYXJzJDFbQ29udHJvbENoYXJzJDFbXCJDYXJyaWFnZVJldHVyblwiXSA9IDEzXSA9IFwiQ2FycmlhZ2VSZXR1cm5cIjtcblx0Q29udHJvbENoYXJzJDFbQ29udHJvbENoYXJzJDFbXCJTcGFjZVwiXSA9IDMyXSA9IFwiU3BhY2VcIjtcblx0Q29udHJvbENoYXJzJDFbQ29udHJvbENoYXJzJDFbXCJDb2xvblwiXSA9IDU4XSA9IFwiQ29sb25cIjtcblx0cmV0dXJuIENvbnRyb2xDaGFycyQxO1xufShDb250cm9sQ2hhcnMgfHwge30pO1xuLyoqXG4qIFBhcnNlcyBhcmJpdGFyeSBieXRlIGNodW5rcyBpbnRvIEV2ZW50U291cmNlIGxpbmUgYnVmZmVycy5cbiogRWFjaCBsaW5lIHNob3VsZCBiZSBvZiB0aGUgZm9ybWF0IFwiZmllbGQ6IHZhbHVlXCIgYW5kIGVuZHMgd2l0aCBcXHIsIFxcbiwgb3IgXFxyXFxuLlxuKiBAcGFyYW0gb25MaW5lIEEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCBvbiBlYWNoIG5ldyBFdmVudFNvdXJjZSBsaW5lLlxuKiBAcmV0dXJucyBBIGZ1bmN0aW9uIHRoYXQgc2hvdWxkIGJlIGNhbGxlZCBmb3IgZWFjaCBpbmNvbWluZyBieXRlIGNodW5rLlxuKi9cbmZ1bmN0aW9uIGdldExpbmVzKG9uTGluZSkge1xuXHRsZXQgYnVmZmVyO1xuXHRsZXQgcG9zaXRpb247XG5cdGxldCBmaWVsZExlbmd0aDtcblx0bGV0IGRpc2NhcmRUcmFpbGluZ05ld2xpbmUgPSBmYWxzZTtcblx0cmV0dXJuIGZ1bmN0aW9uIG9uQ2h1bmsoYXJyLCBmbHVzaCkge1xuXHRcdGlmIChmbHVzaCkge1xuXHRcdFx0b25MaW5lKGFyciwgMCwgdHJ1ZSk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGlmIChidWZmZXIgPT09IHZvaWQgMCkge1xuXHRcdFx0YnVmZmVyID0gYXJyO1xuXHRcdFx0cG9zaXRpb24gPSAwO1xuXHRcdFx0ZmllbGRMZW5ndGggPSAtMTtcblx0XHR9IGVsc2UgYnVmZmVyID0gY29uY2F0KGJ1ZmZlciwgYXJyKTtcblx0XHRjb25zdCBidWZMZW5ndGggPSBidWZmZXIubGVuZ3RoO1xuXHRcdGxldCBsaW5lU3RhcnQgPSAwO1xuXHRcdHdoaWxlIChwb3NpdGlvbiA8IGJ1Zkxlbmd0aCkge1xuXHRcdFx0aWYgKGRpc2NhcmRUcmFpbGluZ05ld2xpbmUpIHtcblx0XHRcdFx0aWYgKGJ1ZmZlcltwb3NpdGlvbl0gPT09IENvbnRyb2xDaGFycy5OZXdMaW5lKSBsaW5lU3RhcnQgPSArK3Bvc2l0aW9uO1xuXHRcdFx0XHRkaXNjYXJkVHJhaWxpbmdOZXdsaW5lID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHRsZXQgbGluZUVuZCA9IC0xO1xuXHRcdFx0Zm9yICg7IHBvc2l0aW9uIDwgYnVmTGVuZ3RoICYmIGxpbmVFbmQgPT09IC0xOyArK3Bvc2l0aW9uKSBzd2l0Y2ggKGJ1ZmZlcltwb3NpdGlvbl0pIHtcblx0XHRcdFx0Y2FzZSBDb250cm9sQ2hhcnMuQ29sb246XG5cdFx0XHRcdFx0aWYgKGZpZWxkTGVuZ3RoID09PSAtMSkgZmllbGRMZW5ndGggPSBwb3NpdGlvbiAtIGxpbmVTdGFydDtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBDb250cm9sQ2hhcnMuQ2FycmlhZ2VSZXR1cm46IGRpc2NhcmRUcmFpbGluZ05ld2xpbmUgPSB0cnVlO1xuXHRcdFx0XHRjYXNlIENvbnRyb2xDaGFycy5OZXdMaW5lOlxuXHRcdFx0XHRcdGxpbmVFbmQgPSBwb3NpdGlvbjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGlmIChsaW5lRW5kID09PSAtMSkgYnJlYWs7XG5cdFx0XHRvbkxpbmUoYnVmZmVyLnN1YmFycmF5KGxpbmVTdGFydCwgbGluZUVuZCksIGZpZWxkTGVuZ3RoKTtcblx0XHRcdGxpbmVTdGFydCA9IHBvc2l0aW9uO1xuXHRcdFx0ZmllbGRMZW5ndGggPSAtMTtcblx0XHR9XG5cdFx0aWYgKGxpbmVTdGFydCA9PT0gYnVmTGVuZ3RoKSBidWZmZXIgPSB2b2lkIDA7XG5cdFx0ZWxzZSBpZiAobGluZVN0YXJ0ICE9PSAwKSB7XG5cdFx0XHRidWZmZXIgPSBidWZmZXIuc3ViYXJyYXkobGluZVN0YXJ0KTtcblx0XHRcdHBvc2l0aW9uIC09IGxpbmVTdGFydDtcblx0XHR9XG5cdH07XG59XG4vKipcbiogUGFyc2VzIGxpbmUgYnVmZmVycyBpbnRvIEV2ZW50U291cmNlTWVzc2FnZXMuXG4qIEBwYXJhbSBvbklkIEEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCBvbiBlYWNoIGBpZGAgZmllbGQuXG4qIEBwYXJhbSBvblJldHJ5IEEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCBvbiBlYWNoIGByZXRyeWAgZmllbGQuXG4qIEBwYXJhbSBvbk1lc3NhZ2UgQSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIG9uIGVhY2ggbWVzc2FnZS5cbiogQHJldHVybnMgQSBmdW5jdGlvbiB0aGF0IHNob3VsZCBiZSBjYWxsZWQgZm9yIGVhY2ggaW5jb21pbmcgbGluZSBidWZmZXIuXG4qL1xuZnVuY3Rpb24gZ2V0TWVzc2FnZXMob25NZXNzYWdlLCBvbklkLCBvblJldHJ5KSB7XG5cdGxldCBtZXNzYWdlID0gbmV3TWVzc2FnZSgpO1xuXHRjb25zdCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCk7XG5cdHJldHVybiBmdW5jdGlvbiBvbkxpbmUobGluZSwgZmllbGRMZW5ndGgsIGZsdXNoKSB7XG5cdFx0aWYgKGZsdXNoKSB7XG5cdFx0XHRpZiAoIWlzRW1wdHkobWVzc2FnZSkpIHtcblx0XHRcdFx0b25NZXNzYWdlPy4obWVzc2FnZSk7XG5cdFx0XHRcdG1lc3NhZ2UgPSBuZXdNZXNzYWdlKCk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGlmIChsaW5lLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0b25NZXNzYWdlPy4obWVzc2FnZSk7XG5cdFx0XHRtZXNzYWdlID0gbmV3TWVzc2FnZSgpO1xuXHRcdH0gZWxzZSBpZiAoZmllbGRMZW5ndGggPiAwKSB7XG5cdFx0XHRjb25zdCBmaWVsZCA9IGRlY29kZXIuZGVjb2RlKGxpbmUuc3ViYXJyYXkoMCwgZmllbGRMZW5ndGgpKTtcblx0XHRcdGNvbnN0IHZhbHVlT2Zmc2V0ID0gZmllbGRMZW5ndGggKyAobGluZVtmaWVsZExlbmd0aCArIDFdID09PSBDb250cm9sQ2hhcnMuU3BhY2UgPyAyIDogMSk7XG5cdFx0XHRjb25zdCB2YWx1ZSA9IGRlY29kZXIuZGVjb2RlKGxpbmUuc3ViYXJyYXkodmFsdWVPZmZzZXQpKTtcblx0XHRcdHN3aXRjaCAoZmllbGQpIHtcblx0XHRcdFx0Y2FzZSBcImRhdGFcIjpcblx0XHRcdFx0XHRtZXNzYWdlLmRhdGEgPSBtZXNzYWdlLmRhdGEgPyBtZXNzYWdlLmRhdGEgKyBcIlxcblwiICsgdmFsdWUgOiB2YWx1ZTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcImV2ZW50XCI6XG5cdFx0XHRcdFx0bWVzc2FnZS5ldmVudCA9IHZhbHVlO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFwiaWRcIjpcblx0XHRcdFx0XHRvbklkPy4obWVzc2FnZS5pZCA9IHZhbHVlKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcInJldHJ5XCI6IHtcblx0XHRcdFx0XHRjb25zdCByZXRyeSA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG5cdFx0XHRcdFx0aWYgKCFOdW1iZXIuaXNOYU4ocmV0cnkpKSBvblJldHJ5Py4obWVzc2FnZS5yZXRyeSA9IHJldHJ5KTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cbmZ1bmN0aW9uIGNvbmNhdChhLCBiKSB7XG5cdGNvbnN0IHJlcyA9IG5ldyBVaW50OEFycmF5KGEubGVuZ3RoICsgYi5sZW5ndGgpO1xuXHRyZXMuc2V0KGEpO1xuXHRyZXMuc2V0KGIsIGEubGVuZ3RoKTtcblx0cmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIG5ld01lc3NhZ2UoKSB7XG5cdHJldHVybiB7XG5cdFx0ZGF0YTogXCJcIixcblx0XHRldmVudDogXCJcIixcblx0XHRpZDogXCJcIixcblx0XHRyZXRyeTogdm9pZCAwXG5cdH07XG59XG5mdW5jdGlvbiBjb252ZXJ0RXZlbnRTdHJlYW1Ub0l0ZXJhYmxlUmVhZGFibGVEYXRhU3RyZWFtKHN0cmVhbSwgb25NZXRhZGF0YUV2ZW50KSB7XG5cdGNvbnN0IGRhdGFTdHJlYW0gPSBuZXcgUmVhZGFibGVTdHJlYW0oeyBhc3luYyBzdGFydChjb250cm9sbGVyKSB7XG5cdFx0Y29uc3QgZW5xdWV1ZUxpbmUgPSBnZXRNZXNzYWdlcygobXNnKSA9PiB7XG5cdFx0XHRpZiAobXNnLmV2ZW50ID09PSBcImVycm9yXCIpIHRocm93IG5ldyBFcnJvcihtc2cuZGF0YSA/PyBcIlVuc3BlY2lmaWVkIGV2ZW50IHN0cmVhbWluZyBlcnJvci5cIik7XG5cdFx0XHRlbHNlIGlmIChtc2cuZXZlbnQgPT09IFwibWV0YWRhdGFcIikgb25NZXRhZGF0YUV2ZW50Py4obXNnKTtcblx0XHRcdGVsc2UgaWYgKG1zZy5kYXRhKSBjb250cm9sbGVyLmVucXVldWUobXNnLmRhdGEpO1xuXHRcdH0pO1xuXHRcdGNvbnN0IG9uTGluZSA9IChsaW5lLCBmaWVsZExlbmd0aCwgZmx1c2gpID0+IHtcblx0XHRcdGVucXVldWVMaW5lKGxpbmUsIGZpZWxkTGVuZ3RoLCBmbHVzaCk7XG5cdFx0XHRpZiAoZmx1c2gpIGNvbnRyb2xsZXIuY2xvc2UoKTtcblx0XHR9O1xuXHRcdGF3YWl0IGdldEJ5dGVzKHN0cmVhbSwgZ2V0TGluZXMob25MaW5lKSk7XG5cdH0gfSk7XG5cdHJldHVybiBJdGVyYWJsZVJlYWRhYmxlU3RyZWFtLmZyb21SZWFkYWJsZVN0cmVhbShkYXRhU3RyZWFtKTtcbn1cbmZ1bmN0aW9uIGlzRW1wdHkobWVzc2FnZSkge1xuXHRyZXR1cm4gbWVzc2FnZS5kYXRhID09PSBcIlwiICYmIG1lc3NhZ2UuZXZlbnQgPT09IFwiXCIgJiYgbWVzc2FnZS5pZCA9PT0gXCJcIiAmJiBtZXNzYWdlLnJldHJ5ID09PSB2b2lkIDA7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgRXZlbnRTdHJlYW1Db250ZW50VHlwZSwgY29udmVydEV2ZW50U3RyZWFtVG9JdGVyYWJsZVJlYWRhYmxlRGF0YVN0cmVhbSwgZXZlbnRfc291cmNlX3BhcnNlX2V4cG9ydHMsIGdldEJ5dGVzLCBnZXRMaW5lcywgZ2V0TWVzc2FnZXMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV2ZW50X3NvdXJjZV9wYXJzZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/event_source_parse.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/fast-json-patch/index.js":
/*!*******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/fast-json-patch/index.js ***!
  \*******************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _src_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/helpers.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/fast-json-patch/src/helpers.js\");\n/* harmony import */ var _src_core_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/core.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/fast-json-patch/src/core.js\");\n/* harmony import */ var _src_duplex_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./src/duplex.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/fast-json-patch/src/duplex.js\");\n\n\n\n\n//#region src/utils/fast-json-patch/index.ts\nvar fast_json_patch_default = {\n\t..._src_core_js__WEBPACK_IMPORTED_MODULE_1__.core_exports,\n\tJsonPatchError: _src_helpers_js__WEBPACK_IMPORTED_MODULE_0__.PatchError,\n\tdeepClone: _src_helpers_js__WEBPACK_IMPORTED_MODULE_0__._deepClone,\n\tescapePathComponent: _src_helpers_js__WEBPACK_IMPORTED_MODULE_0__.escapePathComponent,\n\tunescapePathComponent: _src_helpers_js__WEBPACK_IMPORTED_MODULE_0__.unescapePathComponent\n};\n\n//#endregion\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9mYXN0LWpzb24tcGF0Y2gvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFzRztBQUNxQztBQUNqRzs7QUFFMUM7QUFDQTtBQUNBLElBQUksc0RBQVk7QUFDaEIsaUJBQWlCLHVEQUFVO0FBQzNCLFlBQVksdURBQVU7QUFDdEIsb0JBQW9CO0FBQ3BCLHNCQUFzQjtBQUN0Qjs7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9mYXN0LWpzb24tcGF0Y2gvaW5kZXguanM/Mjk3MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYXRjaEVycm9yLCBfZGVlcENsb25lLCBlc2NhcGVQYXRoQ29tcG9uZW50LCB1bmVzY2FwZVBhdGhDb21wb25lbnQgfSBmcm9tIFwiLi9zcmMvaGVscGVycy5qc1wiO1xuaW1wb3J0IHsgX2FyZUVxdWFscywgYXBwbHlPcGVyYXRpb24sIGFwcGx5UGF0Y2gsIGFwcGx5UmVkdWNlciwgY29yZV9leHBvcnRzLCBnZXRWYWx1ZUJ5UG9pbnRlciwgdmFsaWRhdGUsIHZhbGlkYXRvciB9IGZyb20gXCIuL3NyYy9jb3JlLmpzXCI7XG5pbXBvcnQgeyBjb21wYXJlIH0gZnJvbSBcIi4vc3JjL2R1cGxleC5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL2Zhc3QtanNvbi1wYXRjaC9pbmRleC50c1xudmFyIGZhc3RfanNvbl9wYXRjaF9kZWZhdWx0ID0ge1xuXHQuLi5jb3JlX2V4cG9ydHMsXG5cdEpzb25QYXRjaEVycm9yOiBQYXRjaEVycm9yLFxuXHRkZWVwQ2xvbmU6IF9kZWVwQ2xvbmUsXG5cdGVzY2FwZVBhdGhDb21wb25lbnQsXG5cdHVuZXNjYXBlUGF0aENvbXBvbmVudFxufTtcblxuLy8jZW5kcmVnaW9uXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/fast-json-patch/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/fast-json-patch/src/core.js":
/*!**********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/fast-json-patch/src/core.js ***!
  \**********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _areEquals: () => (/* binding */ _areEquals),\n/* harmony export */   applyOperation: () => (/* binding */ applyOperation),\n/* harmony export */   applyPatch: () => (/* binding */ applyPatch),\n/* harmony export */   applyReducer: () => (/* binding */ applyReducer),\n/* harmony export */   core_exports: () => (/* binding */ core_exports),\n/* harmony export */   getValueByPointer: () => (/* binding */ getValueByPointer),\n/* harmony export */   validate: () => (/* binding */ validate),\n/* harmony export */   validator: () => (/* binding */ validator)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _helpers_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./helpers.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/fast-json-patch/src/helpers.js\");\n\n\n\n//#region src/utils/fast-json-patch/src/core.ts\nvar core_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(core_exports, {\n\tJsonPatchError: () => JsonPatchError,\n\t_areEquals: () => _areEquals,\n\tapplyOperation: () => applyOperation,\n\tapplyPatch: () => applyPatch,\n\tapplyReducer: () => applyReducer,\n\tdeepClone: () => deepClone,\n\tgetValueByPointer: () => getValueByPointer,\n\tvalidate: () => validate,\n\tvalidator: () => validator\n});\nconst JsonPatchError = _helpers_js__WEBPACK_IMPORTED_MODULE_1__.PatchError;\nconst deepClone = _helpers_js__WEBPACK_IMPORTED_MODULE_1__._deepClone;\nconst objOps = {\n\tadd: function(obj, key, document) {\n\t\tobj[key] = this.value;\n\t\treturn { newDocument: document };\n\t},\n\tremove: function(obj, key, document) {\n\t\tvar removed = obj[key];\n\t\tdelete obj[key];\n\t\treturn {\n\t\t\tnewDocument: document,\n\t\t\tremoved\n\t\t};\n\t},\n\treplace: function(obj, key, document) {\n\t\tvar removed = obj[key];\n\t\tobj[key] = this.value;\n\t\treturn {\n\t\t\tnewDocument: document,\n\t\t\tremoved\n\t\t};\n\t},\n\tmove: function(obj, key, document) {\n\t\tlet removed = getValueByPointer(document, this.path);\n\t\tif (removed) removed = (0,_helpers_js__WEBPACK_IMPORTED_MODULE_1__._deepClone)(removed);\n\t\tconst originalValue = applyOperation(document, {\n\t\t\top: \"remove\",\n\t\t\tpath: this.from\n\t\t}).removed;\n\t\tapplyOperation(document, {\n\t\t\top: \"add\",\n\t\t\tpath: this.path,\n\t\t\tvalue: originalValue\n\t\t});\n\t\treturn {\n\t\t\tnewDocument: document,\n\t\t\tremoved\n\t\t};\n\t},\n\tcopy: function(obj, key, document) {\n\t\tconst valueToCopy = getValueByPointer(document, this.from);\n\t\tapplyOperation(document, {\n\t\t\top: \"add\",\n\t\t\tpath: this.path,\n\t\t\tvalue: (0,_helpers_js__WEBPACK_IMPORTED_MODULE_1__._deepClone)(valueToCopy)\n\t\t});\n\t\treturn { newDocument: document };\n\t},\n\ttest: function(obj, key, document) {\n\t\treturn {\n\t\t\tnewDocument: document,\n\t\t\ttest: _areEquals(obj[key], this.value)\n\t\t};\n\t},\n\t_get: function(obj, key, document) {\n\t\tthis.value = obj[key];\n\t\treturn { newDocument: document };\n\t}\n};\nvar arrOps = {\n\tadd: function(arr, i, document) {\n\t\tif ((0,_helpers_js__WEBPACK_IMPORTED_MODULE_1__.isInteger)(i)) arr.splice(i, 0, this.value);\n\t\telse arr[i] = this.value;\n\t\treturn {\n\t\t\tnewDocument: document,\n\t\t\tindex: i\n\t\t};\n\t},\n\tremove: function(arr, i, document) {\n\t\tvar removedList = arr.splice(i, 1);\n\t\treturn {\n\t\t\tnewDocument: document,\n\t\t\tremoved: removedList[0]\n\t\t};\n\t},\n\treplace: function(arr, i, document) {\n\t\tvar removed = arr[i];\n\t\tarr[i] = this.value;\n\t\treturn {\n\t\t\tnewDocument: document,\n\t\t\tremoved\n\t\t};\n\t},\n\tmove: objOps.move,\n\tcopy: objOps.copy,\n\ttest: objOps.test,\n\t_get: objOps._get\n};\n/**\n* Retrieves a value from a JSON document by a JSON pointer.\n* Returns the value.\n*\n* @param document The document to get the value from\n* @param pointer an escaped JSON pointer\n* @return The retrieved value\n*/\nfunction getValueByPointer(document, pointer) {\n\tif (pointer == \"\") return document;\n\tvar getOriginalDestination = {\n\t\top: \"_get\",\n\t\tpath: pointer\n\t};\n\tapplyOperation(document, getOriginalDestination);\n\treturn getOriginalDestination.value;\n}\n/**\n* Apply a single JSON Patch Operation on a JSON document.\n* Returns the {newDocument, result} of the operation.\n* It modifies the `document` and `operation` objects - it gets the values by reference.\n* If you would like to avoid touching your values, clone them:\n* `jsonpatch.applyOperation(document, jsonpatch._deepClone(operation))`.\n*\n* @param document The document to patch\n* @param operation The operation to apply\n* @param validateOperation `false` is without validation, `true` to use default jsonpatch's validation, or you can pass a `validateOperation` callback to be used for validation.\n* @param mutateDocument Whether to mutate the original document or clone it before applying\n* @param banPrototypeModifications Whether to ban modifications to `__proto__`, defaults to `true`.\n* @return `{newDocument, result}` after the operation\n*/\nfunction applyOperation(document, operation, validateOperation = false, mutateDocument = true, banPrototypeModifications = true, index = 0) {\n\tif (validateOperation) if (typeof validateOperation == \"function\") validateOperation(operation, 0, document, operation.path);\n\telse validator(operation, 0);\n\tif (operation.path === \"\") {\n\t\tlet returnValue = { newDocument: document };\n\t\tif (operation.op === \"add\") {\n\t\t\treturnValue.newDocument = operation.value;\n\t\t\treturn returnValue;\n\t\t} else if (operation.op === \"replace\") {\n\t\t\treturnValue.newDocument = operation.value;\n\t\t\treturnValue.removed = document;\n\t\t\treturn returnValue;\n\t\t} else if (operation.op === \"move\" || operation.op === \"copy\") {\n\t\t\treturnValue.newDocument = getValueByPointer(document, operation.from);\n\t\t\tif (operation.op === \"move\") returnValue.removed = document;\n\t\t\treturn returnValue;\n\t\t} else if (operation.op === \"test\") {\n\t\t\treturnValue.test = _areEquals(document, operation.value);\n\t\t\tif (returnValue.test === false) throw new JsonPatchError(\"Test operation failed\", \"TEST_OPERATION_FAILED\", index, operation, document);\n\t\t\treturnValue.newDocument = document;\n\t\t\treturn returnValue;\n\t\t} else if (operation.op === \"remove\") {\n\t\t\treturnValue.removed = document;\n\t\t\treturnValue.newDocument = null;\n\t\t\treturn returnValue;\n\t\t} else if (operation.op === \"_get\") {\n\t\t\toperation.value = document;\n\t\t\treturn returnValue;\n\t\t} else if (validateOperation) throw new JsonPatchError(\"Operation `op` property is not one of operations defined in RFC-6902\", \"OPERATION_OP_INVALID\", index, operation, document);\n\t\telse return returnValue;\n\t} else {\n\t\tif (!mutateDocument) document = (0,_helpers_js__WEBPACK_IMPORTED_MODULE_1__._deepClone)(document);\n\t\tconst path = operation.path || \"\";\n\t\tconst keys = path.split(\"/\");\n\t\tlet obj = document;\n\t\tlet t = 1;\n\t\tlet len = keys.length;\n\t\tlet existingPathFragment = void 0;\n\t\tlet key;\n\t\tlet validateFunction;\n\t\tif (typeof validateOperation == \"function\") validateFunction = validateOperation;\n\t\telse validateFunction = validator;\n\t\twhile (true) {\n\t\t\tkey = keys[t];\n\t\t\tif (key && key.indexOf(\"~\") != -1) key = (0,_helpers_js__WEBPACK_IMPORTED_MODULE_1__.unescapePathComponent)(key);\n\t\t\tif (banPrototypeModifications && (key == \"__proto__\" || key == \"prototype\" && t > 0 && keys[t - 1] == \"constructor\")) throw new TypeError(\"JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README\");\n\t\t\tif (validateOperation) {\n\t\t\t\tif (existingPathFragment === void 0) {\n\t\t\t\t\tif (obj[key] === void 0) existingPathFragment = keys.slice(0, t).join(\"/\");\n\t\t\t\t\telse if (t == len - 1) existingPathFragment = operation.path;\n\t\t\t\t\tif (existingPathFragment !== void 0) validateFunction(operation, 0, document, existingPathFragment);\n\t\t\t\t}\n\t\t\t}\n\t\t\tt++;\n\t\t\tif (Array.isArray(obj)) {\n\t\t\t\tif (key === \"-\") key = obj.length;\n\t\t\t\telse if (validateOperation && !(0,_helpers_js__WEBPACK_IMPORTED_MODULE_1__.isInteger)(key)) throw new JsonPatchError(\"Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index\", \"OPERATION_PATH_ILLEGAL_ARRAY_INDEX\", index, operation, document);\n\t\t\t\telse if ((0,_helpers_js__WEBPACK_IMPORTED_MODULE_1__.isInteger)(key)) key = ~~key;\n\t\t\t\tif (t >= len) {\n\t\t\t\t\tif (validateOperation && operation.op === \"add\" && key > obj.length) throw new JsonPatchError(\"The specified index MUST NOT be greater than the number of elements in the array\", \"OPERATION_VALUE_OUT_OF_BOUNDS\", index, operation, document);\n\t\t\t\t\tconst returnValue = arrOps[operation.op].call(operation, obj, key, document);\n\t\t\t\t\tif (returnValue.test === false) throw new JsonPatchError(\"Test operation failed\", \"TEST_OPERATION_FAILED\", index, operation, document);\n\t\t\t\t\treturn returnValue;\n\t\t\t\t}\n\t\t\t} else if (t >= len) {\n\t\t\t\tconst returnValue = objOps[operation.op].call(operation, obj, key, document);\n\t\t\t\tif (returnValue.test === false) throw new JsonPatchError(\"Test operation failed\", \"TEST_OPERATION_FAILED\", index, operation, document);\n\t\t\t\treturn returnValue;\n\t\t\t}\n\t\t\tobj = obj[key];\n\t\t\tif (validateOperation && t < len && (!obj || typeof obj !== \"object\")) throw new JsonPatchError(\"Cannot perform operation at the desired path\", \"OPERATION_PATH_UNRESOLVABLE\", index, operation, document);\n\t\t}\n\t}\n}\n/**\n* Apply a full JSON Patch array on a JSON document.\n* Returns the {newDocument, result} of the patch.\n* It modifies the `document` object and `patch` - it gets the values by reference.\n* If you would like to avoid touching your values, clone them:\n* `jsonpatch.applyPatch(document, jsonpatch._deepClone(patch))`.\n*\n* @param document The document to patch\n* @param patch The patch to apply\n* @param validateOperation `false` is without validation, `true` to use default jsonpatch's validation, or you can pass a `validateOperation` callback to be used for validation.\n* @param mutateDocument Whether to mutate the original document or clone it before applying\n* @param banPrototypeModifications Whether to ban modifications to `__proto__`, defaults to `true`.\n* @return An array of `{newDocument, result}` after the patch\n*/\nfunction applyPatch(document, patch, validateOperation, mutateDocument = true, banPrototypeModifications = true) {\n\tif (validateOperation) {\n\t\tif (!Array.isArray(patch)) throw new JsonPatchError(\"Patch sequence must be an array\", \"SEQUENCE_NOT_AN_ARRAY\");\n\t}\n\tif (!mutateDocument) document = (0,_helpers_js__WEBPACK_IMPORTED_MODULE_1__._deepClone)(document);\n\tconst results = new Array(patch.length);\n\tfor (let i = 0, length = patch.length; i < length; i++) {\n\t\tresults[i] = applyOperation(document, patch[i], validateOperation, true, banPrototypeModifications, i);\n\t\tdocument = results[i].newDocument;\n\t}\n\tresults.newDocument = document;\n\treturn results;\n}\n/**\n* Apply a single JSON Patch Operation on a JSON document.\n* Returns the updated document.\n* Suitable as a reducer.\n*\n* @param document The document to patch\n* @param operation The operation to apply\n* @return The updated document\n*/\nfunction applyReducer(document, operation, index) {\n\tconst operationResult = applyOperation(document, operation);\n\tif (operationResult.test === false) throw new JsonPatchError(\"Test operation failed\", \"TEST_OPERATION_FAILED\", index, operation, document);\n\treturn operationResult.newDocument;\n}\n/**\n* Validates a single operation. Called from `jsonpatch.validate`. Throws `JsonPatchError` in case of an error.\n* @param {object} operation - operation object (patch)\n* @param {number} index - index of operation in the sequence\n* @param {object} [document] - object where the operation is supposed to be applied\n* @param {string} [existingPathFragment] - comes along with `document`\n*/\nfunction validator(operation, index, document, existingPathFragment) {\n\tif (typeof operation !== \"object\" || operation === null || Array.isArray(operation)) throw new JsonPatchError(\"Operation is not an object\", \"OPERATION_NOT_AN_OBJECT\", index, operation, document);\n\telse if (!objOps[operation.op]) throw new JsonPatchError(\"Operation `op` property is not one of operations defined in RFC-6902\", \"OPERATION_OP_INVALID\", index, operation, document);\n\telse if (typeof operation.path !== \"string\") throw new JsonPatchError(\"Operation `path` property is not a string\", \"OPERATION_PATH_INVALID\", index, operation, document);\n\telse if (operation.path.indexOf(\"/\") !== 0 && operation.path.length > 0) throw new JsonPatchError(\"Operation `path` property must start with \\\"/\\\"\", \"OPERATION_PATH_INVALID\", index, operation, document);\n\telse if ((operation.op === \"move\" || operation.op === \"copy\") && typeof operation.from !== \"string\") throw new JsonPatchError(\"Operation `from` property is not present (applicable in `move` and `copy` operations)\", \"OPERATION_FROM_REQUIRED\", index, operation, document);\n\telse if ((operation.op === \"add\" || operation.op === \"replace\" || operation.op === \"test\") && operation.value === void 0) throw new JsonPatchError(\"Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)\", \"OPERATION_VALUE_REQUIRED\", index, operation, document);\n\telse if ((operation.op === \"add\" || operation.op === \"replace\" || operation.op === \"test\") && (0,_helpers_js__WEBPACK_IMPORTED_MODULE_1__.hasUndefined)(operation.value)) throw new JsonPatchError(\"Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)\", \"OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED\", index, operation, document);\n\telse if (document) {\n\t\tif (operation.op == \"add\") {\n\t\t\tvar pathLen = operation.path.split(\"/\").length;\n\t\t\tvar existingPathLen = existingPathFragment.split(\"/\").length;\n\t\t\tif (pathLen !== existingPathLen + 1 && pathLen !== existingPathLen) throw new JsonPatchError(\"Cannot perform an `add` operation at the desired path\", \"OPERATION_PATH_CANNOT_ADD\", index, operation, document);\n\t\t} else if (operation.op === \"replace\" || operation.op === \"remove\" || operation.op === \"_get\") {\n\t\t\tif (operation.path !== existingPathFragment) throw new JsonPatchError(\"Cannot perform the operation at a path that does not exist\", \"OPERATION_PATH_UNRESOLVABLE\", index, operation, document);\n\t\t} else if (operation.op === \"move\" || operation.op === \"copy\") {\n\t\t\tvar existingValue = {\n\t\t\t\top: \"_get\",\n\t\t\t\tpath: operation.from,\n\t\t\t\tvalue: void 0\n\t\t\t};\n\t\t\tvar error = validate([existingValue], document);\n\t\t\tif (error && error.name === \"OPERATION_PATH_UNRESOLVABLE\") throw new JsonPatchError(\"Cannot perform the operation from a path that does not exist\", \"OPERATION_FROM_UNRESOLVABLE\", index, operation, document);\n\t\t}\n\t}\n}\n/**\n* Validates a sequence of operations. If `document` parameter is provided, the sequence is additionally validated against the object document.\n* If error is encountered, returns a JsonPatchError object\n* @param sequence\n* @param document\n* @returns {JsonPatchError|undefined}\n*/\nfunction validate(sequence, document, externalValidator) {\n\ttry {\n\t\tif (!Array.isArray(sequence)) throw new JsonPatchError(\"Patch sequence must be an array\", \"SEQUENCE_NOT_AN_ARRAY\");\n\t\tif (document) applyPatch((0,_helpers_js__WEBPACK_IMPORTED_MODULE_1__._deepClone)(document), (0,_helpers_js__WEBPACK_IMPORTED_MODULE_1__._deepClone)(sequence), externalValidator || true);\n\t\telse {\n\t\t\texternalValidator = externalValidator || validator;\n\t\t\tfor (var i = 0; i < sequence.length; i++) externalValidator(sequence[i], i, document, void 0);\n\t\t}\n\t} catch (e) {\n\t\tif (e instanceof JsonPatchError) return e;\n\t\telse throw e;\n\t}\n}\nfunction _areEquals(a, b) {\n\tif (a === b) return true;\n\tif (a && b && typeof a == \"object\" && typeof b == \"object\") {\n\t\tvar arrA = Array.isArray(a), arrB = Array.isArray(b), i, length, key;\n\t\tif (arrA && arrB) {\n\t\t\tlength = a.length;\n\t\t\tif (length != b.length) return false;\n\t\t\tfor (i = length; i-- !== 0;) if (!_areEquals(a[i], b[i])) return false;\n\t\t\treturn true;\n\t\t}\n\t\tif (arrA != arrB) return false;\n\t\tvar keys = Object.keys(a);\n\t\tlength = keys.length;\n\t\tif (length !== Object.keys(b).length) return false;\n\t\tfor (i = length; i-- !== 0;) if (!b.hasOwnProperty(keys[i])) return false;\n\t\tfor (i = length; i-- !== 0;) {\n\t\t\tkey = keys[i];\n\t\t\tif (!_areEquals(a[key], b[key])) return false;\n\t\t}\n\t\treturn true;\n\t}\n\treturn a !== a && b !== b;\n}\n\n//#endregion\n\n//# sourceMappingURL=core.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9mYXN0LWpzb24tcGF0Y2gvc3JjL2NvcmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFpRTtBQUNxQzs7QUFFdEc7QUFDQTtBQUNBLHNFQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELHVCQUF1QixtREFBVTtBQUNqQyxrQkFBa0IsbURBQVU7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EseUJBQXlCLHVEQUFVO0FBQ25DO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSx1REFBVTtBQUNwQixHQUFHO0FBQ0gsV0FBVztBQUNYLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLHNEQUFTO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxxQkFBcUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxvQkFBb0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLEdBQUc7QUFDSCxrQ0FBa0MsdURBQVU7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLGtFQUFxQjtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLHNEQUFTO0FBQzVDLGFBQWEsc0RBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHFCQUFxQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isb0JBQW9CO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsdURBQVU7QUFDM0M7QUFDQSx3Q0FBd0MsWUFBWTtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsUUFBUTtBQUNsQixVQUFVLFFBQVE7QUFDbEIsVUFBVSxRQUFRO0FBQ2xCLFVBQVUsUUFBUTtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0ZBQStGLHlEQUFZO0FBQzNHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHVEQUFVLFlBQVksdURBQVU7QUFDM0Q7QUFDQTtBQUNBLG1CQUFtQixxQkFBcUI7QUFDeEM7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixVQUFVO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixVQUFVO0FBQzdCLG1CQUFtQixVQUFVO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3NIO0FBQ3RIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9mYXN0LWpzb24tcGF0Y2gvc3JjL2NvcmUuanM/YzRkZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2V4cG9ydCB9IGZyb20gXCIuLi8uLi8uLi9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmpzXCI7XG5pbXBvcnQgeyBQYXRjaEVycm9yLCBfZGVlcENsb25lLCBoYXNVbmRlZmluZWQsIGlzSW50ZWdlciwgdW5lc2NhcGVQYXRoQ29tcG9uZW50IH0gZnJvbSBcIi4vaGVscGVycy5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL2Zhc3QtanNvbi1wYXRjaC9zcmMvY29yZS50c1xudmFyIGNvcmVfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQoY29yZV9leHBvcnRzLCB7XG5cdEpzb25QYXRjaEVycm9yOiAoKSA9PiBKc29uUGF0Y2hFcnJvcixcblx0X2FyZUVxdWFsczogKCkgPT4gX2FyZUVxdWFscyxcblx0YXBwbHlPcGVyYXRpb246ICgpID0+IGFwcGx5T3BlcmF0aW9uLFxuXHRhcHBseVBhdGNoOiAoKSA9PiBhcHBseVBhdGNoLFxuXHRhcHBseVJlZHVjZXI6ICgpID0+IGFwcGx5UmVkdWNlcixcblx0ZGVlcENsb25lOiAoKSA9PiBkZWVwQ2xvbmUsXG5cdGdldFZhbHVlQnlQb2ludGVyOiAoKSA9PiBnZXRWYWx1ZUJ5UG9pbnRlcixcblx0dmFsaWRhdGU6ICgpID0+IHZhbGlkYXRlLFxuXHR2YWxpZGF0b3I6ICgpID0+IHZhbGlkYXRvclxufSk7XG5jb25zdCBKc29uUGF0Y2hFcnJvciA9IFBhdGNoRXJyb3I7XG5jb25zdCBkZWVwQ2xvbmUgPSBfZGVlcENsb25lO1xuY29uc3Qgb2JqT3BzID0ge1xuXHRhZGQ6IGZ1bmN0aW9uKG9iaiwga2V5LCBkb2N1bWVudCkge1xuXHRcdG9ialtrZXldID0gdGhpcy52YWx1ZTtcblx0XHRyZXR1cm4geyBuZXdEb2N1bWVudDogZG9jdW1lbnQgfTtcblx0fSxcblx0cmVtb3ZlOiBmdW5jdGlvbihvYmosIGtleSwgZG9jdW1lbnQpIHtcblx0XHR2YXIgcmVtb3ZlZCA9IG9ialtrZXldO1xuXHRcdGRlbGV0ZSBvYmpba2V5XTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0bmV3RG9jdW1lbnQ6IGRvY3VtZW50LFxuXHRcdFx0cmVtb3ZlZFxuXHRcdH07XG5cdH0sXG5cdHJlcGxhY2U6IGZ1bmN0aW9uKG9iaiwga2V5LCBkb2N1bWVudCkge1xuXHRcdHZhciByZW1vdmVkID0gb2JqW2tleV07XG5cdFx0b2JqW2tleV0gPSB0aGlzLnZhbHVlO1xuXHRcdHJldHVybiB7XG5cdFx0XHRuZXdEb2N1bWVudDogZG9jdW1lbnQsXG5cdFx0XHRyZW1vdmVkXG5cdFx0fTtcblx0fSxcblx0bW92ZTogZnVuY3Rpb24ob2JqLCBrZXksIGRvY3VtZW50KSB7XG5cdFx0bGV0IHJlbW92ZWQgPSBnZXRWYWx1ZUJ5UG9pbnRlcihkb2N1bWVudCwgdGhpcy5wYXRoKTtcblx0XHRpZiAocmVtb3ZlZCkgcmVtb3ZlZCA9IF9kZWVwQ2xvbmUocmVtb3ZlZCk7XG5cdFx0Y29uc3Qgb3JpZ2luYWxWYWx1ZSA9IGFwcGx5T3BlcmF0aW9uKGRvY3VtZW50LCB7XG5cdFx0XHRvcDogXCJyZW1vdmVcIixcblx0XHRcdHBhdGg6IHRoaXMuZnJvbVxuXHRcdH0pLnJlbW92ZWQ7XG5cdFx0YXBwbHlPcGVyYXRpb24oZG9jdW1lbnQsIHtcblx0XHRcdG9wOiBcImFkZFwiLFxuXHRcdFx0cGF0aDogdGhpcy5wYXRoLFxuXHRcdFx0dmFsdWU6IG9yaWdpbmFsVmFsdWVcblx0XHR9KTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0bmV3RG9jdW1lbnQ6IGRvY3VtZW50LFxuXHRcdFx0cmVtb3ZlZFxuXHRcdH07XG5cdH0sXG5cdGNvcHk6IGZ1bmN0aW9uKG9iaiwga2V5LCBkb2N1bWVudCkge1xuXHRcdGNvbnN0IHZhbHVlVG9Db3B5ID0gZ2V0VmFsdWVCeVBvaW50ZXIoZG9jdW1lbnQsIHRoaXMuZnJvbSk7XG5cdFx0YXBwbHlPcGVyYXRpb24oZG9jdW1lbnQsIHtcblx0XHRcdG9wOiBcImFkZFwiLFxuXHRcdFx0cGF0aDogdGhpcy5wYXRoLFxuXHRcdFx0dmFsdWU6IF9kZWVwQ2xvbmUodmFsdWVUb0NvcHkpXG5cdFx0fSk7XG5cdFx0cmV0dXJuIHsgbmV3RG9jdW1lbnQ6IGRvY3VtZW50IH07XG5cdH0sXG5cdHRlc3Q6IGZ1bmN0aW9uKG9iaiwga2V5LCBkb2N1bWVudCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRuZXdEb2N1bWVudDogZG9jdW1lbnQsXG5cdFx0XHR0ZXN0OiBfYXJlRXF1YWxzKG9ialtrZXldLCB0aGlzLnZhbHVlKVxuXHRcdH07XG5cdH0sXG5cdF9nZXQ6IGZ1bmN0aW9uKG9iaiwga2V5LCBkb2N1bWVudCkge1xuXHRcdHRoaXMudmFsdWUgPSBvYmpba2V5XTtcblx0XHRyZXR1cm4geyBuZXdEb2N1bWVudDogZG9jdW1lbnQgfTtcblx0fVxufTtcbnZhciBhcnJPcHMgPSB7XG5cdGFkZDogZnVuY3Rpb24oYXJyLCBpLCBkb2N1bWVudCkge1xuXHRcdGlmIChpc0ludGVnZXIoaSkpIGFyci5zcGxpY2UoaSwgMCwgdGhpcy52YWx1ZSk7XG5cdFx0ZWxzZSBhcnJbaV0gPSB0aGlzLnZhbHVlO1xuXHRcdHJldHVybiB7XG5cdFx0XHRuZXdEb2N1bWVudDogZG9jdW1lbnQsXG5cdFx0XHRpbmRleDogaVxuXHRcdH07XG5cdH0sXG5cdHJlbW92ZTogZnVuY3Rpb24oYXJyLCBpLCBkb2N1bWVudCkge1xuXHRcdHZhciByZW1vdmVkTGlzdCA9IGFyci5zcGxpY2UoaSwgMSk7XG5cdFx0cmV0dXJuIHtcblx0XHRcdG5ld0RvY3VtZW50OiBkb2N1bWVudCxcblx0XHRcdHJlbW92ZWQ6IHJlbW92ZWRMaXN0WzBdXG5cdFx0fTtcblx0fSxcblx0cmVwbGFjZTogZnVuY3Rpb24oYXJyLCBpLCBkb2N1bWVudCkge1xuXHRcdHZhciByZW1vdmVkID0gYXJyW2ldO1xuXHRcdGFycltpXSA9IHRoaXMudmFsdWU7XG5cdFx0cmV0dXJuIHtcblx0XHRcdG5ld0RvY3VtZW50OiBkb2N1bWVudCxcblx0XHRcdHJlbW92ZWRcblx0XHR9O1xuXHR9LFxuXHRtb3ZlOiBvYmpPcHMubW92ZSxcblx0Y29weTogb2JqT3BzLmNvcHksXG5cdHRlc3Q6IG9iak9wcy50ZXN0LFxuXHRfZ2V0OiBvYmpPcHMuX2dldFxufTtcbi8qKlxuKiBSZXRyaWV2ZXMgYSB2YWx1ZSBmcm9tIGEgSlNPTiBkb2N1bWVudCBieSBhIEpTT04gcG9pbnRlci5cbiogUmV0dXJucyB0aGUgdmFsdWUuXG4qXG4qIEBwYXJhbSBkb2N1bWVudCBUaGUgZG9jdW1lbnQgdG8gZ2V0IHRoZSB2YWx1ZSBmcm9tXG4qIEBwYXJhbSBwb2ludGVyIGFuIGVzY2FwZWQgSlNPTiBwb2ludGVyXG4qIEByZXR1cm4gVGhlIHJldHJpZXZlZCB2YWx1ZVxuKi9cbmZ1bmN0aW9uIGdldFZhbHVlQnlQb2ludGVyKGRvY3VtZW50LCBwb2ludGVyKSB7XG5cdGlmIChwb2ludGVyID09IFwiXCIpIHJldHVybiBkb2N1bWVudDtcblx0dmFyIGdldE9yaWdpbmFsRGVzdGluYXRpb24gPSB7XG5cdFx0b3A6IFwiX2dldFwiLFxuXHRcdHBhdGg6IHBvaW50ZXJcblx0fTtcblx0YXBwbHlPcGVyYXRpb24oZG9jdW1lbnQsIGdldE9yaWdpbmFsRGVzdGluYXRpb24pO1xuXHRyZXR1cm4gZ2V0T3JpZ2luYWxEZXN0aW5hdGlvbi52YWx1ZTtcbn1cbi8qKlxuKiBBcHBseSBhIHNpbmdsZSBKU09OIFBhdGNoIE9wZXJhdGlvbiBvbiBhIEpTT04gZG9jdW1lbnQuXG4qIFJldHVybnMgdGhlIHtuZXdEb2N1bWVudCwgcmVzdWx0fSBvZiB0aGUgb3BlcmF0aW9uLlxuKiBJdCBtb2RpZmllcyB0aGUgYGRvY3VtZW50YCBhbmQgYG9wZXJhdGlvbmAgb2JqZWN0cyAtIGl0IGdldHMgdGhlIHZhbHVlcyBieSByZWZlcmVuY2UuXG4qIElmIHlvdSB3b3VsZCBsaWtlIHRvIGF2b2lkIHRvdWNoaW5nIHlvdXIgdmFsdWVzLCBjbG9uZSB0aGVtOlxuKiBganNvbnBhdGNoLmFwcGx5T3BlcmF0aW9uKGRvY3VtZW50LCBqc29ucGF0Y2guX2RlZXBDbG9uZShvcGVyYXRpb24pKWAuXG4qXG4qIEBwYXJhbSBkb2N1bWVudCBUaGUgZG9jdW1lbnQgdG8gcGF0Y2hcbiogQHBhcmFtIG9wZXJhdGlvbiBUaGUgb3BlcmF0aW9uIHRvIGFwcGx5XG4qIEBwYXJhbSB2YWxpZGF0ZU9wZXJhdGlvbiBgZmFsc2VgIGlzIHdpdGhvdXQgdmFsaWRhdGlvbiwgYHRydWVgIHRvIHVzZSBkZWZhdWx0IGpzb25wYXRjaCdzIHZhbGlkYXRpb24sIG9yIHlvdSBjYW4gcGFzcyBhIGB2YWxpZGF0ZU9wZXJhdGlvbmAgY2FsbGJhY2sgdG8gYmUgdXNlZCBmb3IgdmFsaWRhdGlvbi5cbiogQHBhcmFtIG11dGF0ZURvY3VtZW50IFdoZXRoZXIgdG8gbXV0YXRlIHRoZSBvcmlnaW5hbCBkb2N1bWVudCBvciBjbG9uZSBpdCBiZWZvcmUgYXBwbHlpbmdcbiogQHBhcmFtIGJhblByb3RvdHlwZU1vZGlmaWNhdGlvbnMgV2hldGhlciB0byBiYW4gbW9kaWZpY2F0aW9ucyB0byBgX19wcm90b19fYCwgZGVmYXVsdHMgdG8gYHRydWVgLlxuKiBAcmV0dXJuIGB7bmV3RG9jdW1lbnQsIHJlc3VsdH1gIGFmdGVyIHRoZSBvcGVyYXRpb25cbiovXG5mdW5jdGlvbiBhcHBseU9wZXJhdGlvbihkb2N1bWVudCwgb3BlcmF0aW9uLCB2YWxpZGF0ZU9wZXJhdGlvbiA9IGZhbHNlLCBtdXRhdGVEb2N1bWVudCA9IHRydWUsIGJhblByb3RvdHlwZU1vZGlmaWNhdGlvbnMgPSB0cnVlLCBpbmRleCA9IDApIHtcblx0aWYgKHZhbGlkYXRlT3BlcmF0aW9uKSBpZiAodHlwZW9mIHZhbGlkYXRlT3BlcmF0aW9uID09IFwiZnVuY3Rpb25cIikgdmFsaWRhdGVPcGVyYXRpb24ob3BlcmF0aW9uLCAwLCBkb2N1bWVudCwgb3BlcmF0aW9uLnBhdGgpO1xuXHRlbHNlIHZhbGlkYXRvcihvcGVyYXRpb24sIDApO1xuXHRpZiAob3BlcmF0aW9uLnBhdGggPT09IFwiXCIpIHtcblx0XHRsZXQgcmV0dXJuVmFsdWUgPSB7IG5ld0RvY3VtZW50OiBkb2N1bWVudCB9O1xuXHRcdGlmIChvcGVyYXRpb24ub3AgPT09IFwiYWRkXCIpIHtcblx0XHRcdHJldHVyblZhbHVlLm5ld0RvY3VtZW50ID0gb3BlcmF0aW9uLnZhbHVlO1xuXHRcdFx0cmV0dXJuIHJldHVyblZhbHVlO1xuXHRcdH0gZWxzZSBpZiAob3BlcmF0aW9uLm9wID09PSBcInJlcGxhY2VcIikge1xuXHRcdFx0cmV0dXJuVmFsdWUubmV3RG9jdW1lbnQgPSBvcGVyYXRpb24udmFsdWU7XG5cdFx0XHRyZXR1cm5WYWx1ZS5yZW1vdmVkID0gZG9jdW1lbnQ7XG5cdFx0XHRyZXR1cm4gcmV0dXJuVmFsdWU7XG5cdFx0fSBlbHNlIGlmIChvcGVyYXRpb24ub3AgPT09IFwibW92ZVwiIHx8IG9wZXJhdGlvbi5vcCA9PT0gXCJjb3B5XCIpIHtcblx0XHRcdHJldHVyblZhbHVlLm5ld0RvY3VtZW50ID0gZ2V0VmFsdWVCeVBvaW50ZXIoZG9jdW1lbnQsIG9wZXJhdGlvbi5mcm9tKTtcblx0XHRcdGlmIChvcGVyYXRpb24ub3AgPT09IFwibW92ZVwiKSByZXR1cm5WYWx1ZS5yZW1vdmVkID0gZG9jdW1lbnQ7XG5cdFx0XHRyZXR1cm4gcmV0dXJuVmFsdWU7XG5cdFx0fSBlbHNlIGlmIChvcGVyYXRpb24ub3AgPT09IFwidGVzdFwiKSB7XG5cdFx0XHRyZXR1cm5WYWx1ZS50ZXN0ID0gX2FyZUVxdWFscyhkb2N1bWVudCwgb3BlcmF0aW9uLnZhbHVlKTtcblx0XHRcdGlmIChyZXR1cm5WYWx1ZS50ZXN0ID09PSBmYWxzZSkgdGhyb3cgbmV3IEpzb25QYXRjaEVycm9yKFwiVGVzdCBvcGVyYXRpb24gZmFpbGVkXCIsIFwiVEVTVF9PUEVSQVRJT05fRkFJTEVEXCIsIGluZGV4LCBvcGVyYXRpb24sIGRvY3VtZW50KTtcblx0XHRcdHJldHVyblZhbHVlLm5ld0RvY3VtZW50ID0gZG9jdW1lbnQ7XG5cdFx0XHRyZXR1cm4gcmV0dXJuVmFsdWU7XG5cdFx0fSBlbHNlIGlmIChvcGVyYXRpb24ub3AgPT09IFwicmVtb3ZlXCIpIHtcblx0XHRcdHJldHVyblZhbHVlLnJlbW92ZWQgPSBkb2N1bWVudDtcblx0XHRcdHJldHVyblZhbHVlLm5ld0RvY3VtZW50ID0gbnVsbDtcblx0XHRcdHJldHVybiByZXR1cm5WYWx1ZTtcblx0XHR9IGVsc2UgaWYgKG9wZXJhdGlvbi5vcCA9PT0gXCJfZ2V0XCIpIHtcblx0XHRcdG9wZXJhdGlvbi52YWx1ZSA9IGRvY3VtZW50O1xuXHRcdFx0cmV0dXJuIHJldHVyblZhbHVlO1xuXHRcdH0gZWxzZSBpZiAodmFsaWRhdGVPcGVyYXRpb24pIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIk9wZXJhdGlvbiBgb3BgIHByb3BlcnR5IGlzIG5vdCBvbmUgb2Ygb3BlcmF0aW9ucyBkZWZpbmVkIGluIFJGQy02OTAyXCIsIFwiT1BFUkFUSU9OX09QX0lOVkFMSURcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuXHRcdGVsc2UgcmV0dXJuIHJldHVyblZhbHVlO1xuXHR9IGVsc2Uge1xuXHRcdGlmICghbXV0YXRlRG9jdW1lbnQpIGRvY3VtZW50ID0gX2RlZXBDbG9uZShkb2N1bWVudCk7XG5cdFx0Y29uc3QgcGF0aCA9IG9wZXJhdGlvbi5wYXRoIHx8IFwiXCI7XG5cdFx0Y29uc3Qga2V5cyA9IHBhdGguc3BsaXQoXCIvXCIpO1xuXHRcdGxldCBvYmogPSBkb2N1bWVudDtcblx0XHRsZXQgdCA9IDE7XG5cdFx0bGV0IGxlbiA9IGtleXMubGVuZ3RoO1xuXHRcdGxldCBleGlzdGluZ1BhdGhGcmFnbWVudCA9IHZvaWQgMDtcblx0XHRsZXQga2V5O1xuXHRcdGxldCB2YWxpZGF0ZUZ1bmN0aW9uO1xuXHRcdGlmICh0eXBlb2YgdmFsaWRhdGVPcGVyYXRpb24gPT0gXCJmdW5jdGlvblwiKSB2YWxpZGF0ZUZ1bmN0aW9uID0gdmFsaWRhdGVPcGVyYXRpb247XG5cdFx0ZWxzZSB2YWxpZGF0ZUZ1bmN0aW9uID0gdmFsaWRhdG9yO1xuXHRcdHdoaWxlICh0cnVlKSB7XG5cdFx0XHRrZXkgPSBrZXlzW3RdO1xuXHRcdFx0aWYgKGtleSAmJiBrZXkuaW5kZXhPZihcIn5cIikgIT0gLTEpIGtleSA9IHVuZXNjYXBlUGF0aENvbXBvbmVudChrZXkpO1xuXHRcdFx0aWYgKGJhblByb3RvdHlwZU1vZGlmaWNhdGlvbnMgJiYgKGtleSA9PSBcIl9fcHJvdG9fX1wiIHx8IGtleSA9PSBcInByb3RvdHlwZVwiICYmIHQgPiAwICYmIGtleXNbdCAtIDFdID09IFwiY29uc3RydWN0b3JcIikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJKU09OLVBhdGNoOiBtb2RpZnlpbmcgYF9fcHJvdG9fX2Agb3IgYGNvbnN0cnVjdG9yL3Byb3RvdHlwZWAgcHJvcCBpcyBiYW5uZWQgZm9yIHNlY3VyaXR5IHJlYXNvbnMsIGlmIHRoaXMgd2FzIG9uIHB1cnBvc2UsIHBsZWFzZSBzZXQgYGJhblByb3RvdHlwZU1vZGlmaWNhdGlvbnNgIGZsYWcgZmFsc2UgYW5kIHBhc3MgaXQgdG8gdGhpcyBmdW5jdGlvbi4gTW9yZSBpbmZvIGluIGZhc3QtanNvbi1wYXRjaCBSRUFETUVcIik7XG5cdFx0XHRpZiAodmFsaWRhdGVPcGVyYXRpb24pIHtcblx0XHRcdFx0aWYgKGV4aXN0aW5nUGF0aEZyYWdtZW50ID09PSB2b2lkIDApIHtcblx0XHRcdFx0XHRpZiAob2JqW2tleV0gPT09IHZvaWQgMCkgZXhpc3RpbmdQYXRoRnJhZ21lbnQgPSBrZXlzLnNsaWNlKDAsIHQpLmpvaW4oXCIvXCIpO1xuXHRcdFx0XHRcdGVsc2UgaWYgKHQgPT0gbGVuIC0gMSkgZXhpc3RpbmdQYXRoRnJhZ21lbnQgPSBvcGVyYXRpb24ucGF0aDtcblx0XHRcdFx0XHRpZiAoZXhpc3RpbmdQYXRoRnJhZ21lbnQgIT09IHZvaWQgMCkgdmFsaWRhdGVGdW5jdGlvbihvcGVyYXRpb24sIDAsIGRvY3VtZW50LCBleGlzdGluZ1BhdGhGcmFnbWVudCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHQrKztcblx0XHRcdGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcblx0XHRcdFx0aWYgKGtleSA9PT0gXCItXCIpIGtleSA9IG9iai5sZW5ndGg7XG5cdFx0XHRcdGVsc2UgaWYgKHZhbGlkYXRlT3BlcmF0aW9uICYmICFpc0ludGVnZXIoa2V5KSkgdGhyb3cgbmV3IEpzb25QYXRjaEVycm9yKFwiRXhwZWN0ZWQgYW4gdW5zaWduZWQgYmFzZS0xMCBpbnRlZ2VyIHZhbHVlLCBtYWtpbmcgdGhlIG5ldyByZWZlcmVuY2VkIHZhbHVlIHRoZSBhcnJheSBlbGVtZW50IHdpdGggdGhlIHplcm8tYmFzZWQgaW5kZXhcIiwgXCJPUEVSQVRJT05fUEFUSF9JTExFR0FMX0FSUkFZX0lOREVYXCIsIGluZGV4LCBvcGVyYXRpb24sIGRvY3VtZW50KTtcblx0XHRcdFx0ZWxzZSBpZiAoaXNJbnRlZ2VyKGtleSkpIGtleSA9IH5+a2V5O1xuXHRcdFx0XHRpZiAodCA+PSBsZW4pIHtcblx0XHRcdFx0XHRpZiAodmFsaWRhdGVPcGVyYXRpb24gJiYgb3BlcmF0aW9uLm9wID09PSBcImFkZFwiICYmIGtleSA+IG9iai5sZW5ndGgpIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIlRoZSBzcGVjaWZpZWQgaW5kZXggTVVTVCBOT1QgYmUgZ3JlYXRlciB0aGFuIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gdGhlIGFycmF5XCIsIFwiT1BFUkFUSU9OX1ZBTFVFX09VVF9PRl9CT1VORFNcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuXHRcdFx0XHRcdGNvbnN0IHJldHVyblZhbHVlID0gYXJyT3BzW29wZXJhdGlvbi5vcF0uY2FsbChvcGVyYXRpb24sIG9iaiwga2V5LCBkb2N1bWVudCk7XG5cdFx0XHRcdFx0aWYgKHJldHVyblZhbHVlLnRlc3QgPT09IGZhbHNlKSB0aHJvdyBuZXcgSnNvblBhdGNoRXJyb3IoXCJUZXN0IG9wZXJhdGlvbiBmYWlsZWRcIiwgXCJURVNUX09QRVJBVElPTl9GQUlMRURcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuXHRcdFx0XHRcdHJldHVybiByZXR1cm5WYWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmICh0ID49IGxlbikge1xuXHRcdFx0XHRjb25zdCByZXR1cm5WYWx1ZSA9IG9iak9wc1tvcGVyYXRpb24ub3BdLmNhbGwob3BlcmF0aW9uLCBvYmosIGtleSwgZG9jdW1lbnQpO1xuXHRcdFx0XHRpZiAocmV0dXJuVmFsdWUudGVzdCA9PT0gZmFsc2UpIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIlRlc3Qgb3BlcmF0aW9uIGZhaWxlZFwiLCBcIlRFU1RfT1BFUkFUSU9OX0ZBSUxFRFwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG5cdFx0XHRcdHJldHVybiByZXR1cm5WYWx1ZTtcblx0XHRcdH1cblx0XHRcdG9iaiA9IG9ialtrZXldO1xuXHRcdFx0aWYgKHZhbGlkYXRlT3BlcmF0aW9uICYmIHQgPCBsZW4gJiYgKCFvYmogfHwgdHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIikpIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIkNhbm5vdCBwZXJmb3JtIG9wZXJhdGlvbiBhdCB0aGUgZGVzaXJlZCBwYXRoXCIsIFwiT1BFUkFUSU9OX1BBVEhfVU5SRVNPTFZBQkxFXCIsIGluZGV4LCBvcGVyYXRpb24sIGRvY3VtZW50KTtcblx0XHR9XG5cdH1cbn1cbi8qKlxuKiBBcHBseSBhIGZ1bGwgSlNPTiBQYXRjaCBhcnJheSBvbiBhIEpTT04gZG9jdW1lbnQuXG4qIFJldHVybnMgdGhlIHtuZXdEb2N1bWVudCwgcmVzdWx0fSBvZiB0aGUgcGF0Y2guXG4qIEl0IG1vZGlmaWVzIHRoZSBgZG9jdW1lbnRgIG9iamVjdCBhbmQgYHBhdGNoYCAtIGl0IGdldHMgdGhlIHZhbHVlcyBieSByZWZlcmVuY2UuXG4qIElmIHlvdSB3b3VsZCBsaWtlIHRvIGF2b2lkIHRvdWNoaW5nIHlvdXIgdmFsdWVzLCBjbG9uZSB0aGVtOlxuKiBganNvbnBhdGNoLmFwcGx5UGF0Y2goZG9jdW1lbnQsIGpzb25wYXRjaC5fZGVlcENsb25lKHBhdGNoKSlgLlxuKlxuKiBAcGFyYW0gZG9jdW1lbnQgVGhlIGRvY3VtZW50IHRvIHBhdGNoXG4qIEBwYXJhbSBwYXRjaCBUaGUgcGF0Y2ggdG8gYXBwbHlcbiogQHBhcmFtIHZhbGlkYXRlT3BlcmF0aW9uIGBmYWxzZWAgaXMgd2l0aG91dCB2YWxpZGF0aW9uLCBgdHJ1ZWAgdG8gdXNlIGRlZmF1bHQganNvbnBhdGNoJ3MgdmFsaWRhdGlvbiwgb3IgeW91IGNhbiBwYXNzIGEgYHZhbGlkYXRlT3BlcmF0aW9uYCBjYWxsYmFjayB0byBiZSB1c2VkIGZvciB2YWxpZGF0aW9uLlxuKiBAcGFyYW0gbXV0YXRlRG9jdW1lbnQgV2hldGhlciB0byBtdXRhdGUgdGhlIG9yaWdpbmFsIGRvY3VtZW50IG9yIGNsb25lIGl0IGJlZm9yZSBhcHBseWluZ1xuKiBAcGFyYW0gYmFuUHJvdG90eXBlTW9kaWZpY2F0aW9ucyBXaGV0aGVyIHRvIGJhbiBtb2RpZmljYXRpb25zIHRvIGBfX3Byb3RvX19gLCBkZWZhdWx0cyB0byBgdHJ1ZWAuXG4qIEByZXR1cm4gQW4gYXJyYXkgb2YgYHtuZXdEb2N1bWVudCwgcmVzdWx0fWAgYWZ0ZXIgdGhlIHBhdGNoXG4qL1xuZnVuY3Rpb24gYXBwbHlQYXRjaChkb2N1bWVudCwgcGF0Y2gsIHZhbGlkYXRlT3BlcmF0aW9uLCBtdXRhdGVEb2N1bWVudCA9IHRydWUsIGJhblByb3RvdHlwZU1vZGlmaWNhdGlvbnMgPSB0cnVlKSB7XG5cdGlmICh2YWxpZGF0ZU9wZXJhdGlvbikge1xuXHRcdGlmICghQXJyYXkuaXNBcnJheShwYXRjaCkpIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIlBhdGNoIHNlcXVlbmNlIG11c3QgYmUgYW4gYXJyYXlcIiwgXCJTRVFVRU5DRV9OT1RfQU5fQVJSQVlcIik7XG5cdH1cblx0aWYgKCFtdXRhdGVEb2N1bWVudCkgZG9jdW1lbnQgPSBfZGVlcENsb25lKGRvY3VtZW50KTtcblx0Y29uc3QgcmVzdWx0cyA9IG5ldyBBcnJheShwYXRjaC5sZW5ndGgpO1xuXHRmb3IgKGxldCBpID0gMCwgbGVuZ3RoID0gcGF0Y2gubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRyZXN1bHRzW2ldID0gYXBwbHlPcGVyYXRpb24oZG9jdW1lbnQsIHBhdGNoW2ldLCB2YWxpZGF0ZU9wZXJhdGlvbiwgdHJ1ZSwgYmFuUHJvdG90eXBlTW9kaWZpY2F0aW9ucywgaSk7XG5cdFx0ZG9jdW1lbnQgPSByZXN1bHRzW2ldLm5ld0RvY3VtZW50O1xuXHR9XG5cdHJlc3VsdHMubmV3RG9jdW1lbnQgPSBkb2N1bWVudDtcblx0cmV0dXJuIHJlc3VsdHM7XG59XG4vKipcbiogQXBwbHkgYSBzaW5nbGUgSlNPTiBQYXRjaCBPcGVyYXRpb24gb24gYSBKU09OIGRvY3VtZW50LlxuKiBSZXR1cm5zIHRoZSB1cGRhdGVkIGRvY3VtZW50LlxuKiBTdWl0YWJsZSBhcyBhIHJlZHVjZXIuXG4qXG4qIEBwYXJhbSBkb2N1bWVudCBUaGUgZG9jdW1lbnQgdG8gcGF0Y2hcbiogQHBhcmFtIG9wZXJhdGlvbiBUaGUgb3BlcmF0aW9uIHRvIGFwcGx5XG4qIEByZXR1cm4gVGhlIHVwZGF0ZWQgZG9jdW1lbnRcbiovXG5mdW5jdGlvbiBhcHBseVJlZHVjZXIoZG9jdW1lbnQsIG9wZXJhdGlvbiwgaW5kZXgpIHtcblx0Y29uc3Qgb3BlcmF0aW9uUmVzdWx0ID0gYXBwbHlPcGVyYXRpb24oZG9jdW1lbnQsIG9wZXJhdGlvbik7XG5cdGlmIChvcGVyYXRpb25SZXN1bHQudGVzdCA9PT0gZmFsc2UpIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIlRlc3Qgb3BlcmF0aW9uIGZhaWxlZFwiLCBcIlRFU1RfT1BFUkFUSU9OX0ZBSUxFRFwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG5cdHJldHVybiBvcGVyYXRpb25SZXN1bHQubmV3RG9jdW1lbnQ7XG59XG4vKipcbiogVmFsaWRhdGVzIGEgc2luZ2xlIG9wZXJhdGlvbi4gQ2FsbGVkIGZyb20gYGpzb25wYXRjaC52YWxpZGF0ZWAuIFRocm93cyBgSnNvblBhdGNoRXJyb3JgIGluIGNhc2Ugb2YgYW4gZXJyb3IuXG4qIEBwYXJhbSB7b2JqZWN0fSBvcGVyYXRpb24gLSBvcGVyYXRpb24gb2JqZWN0IChwYXRjaClcbiogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gaW5kZXggb2Ygb3BlcmF0aW9uIGluIHRoZSBzZXF1ZW5jZVxuKiBAcGFyYW0ge29iamVjdH0gW2RvY3VtZW50XSAtIG9iamVjdCB3aGVyZSB0aGUgb3BlcmF0aW9uIGlzIHN1cHBvc2VkIHRvIGJlIGFwcGxpZWRcbiogQHBhcmFtIHtzdHJpbmd9IFtleGlzdGluZ1BhdGhGcmFnbWVudF0gLSBjb21lcyBhbG9uZyB3aXRoIGBkb2N1bWVudGBcbiovXG5mdW5jdGlvbiB2YWxpZGF0b3Iob3BlcmF0aW9uLCBpbmRleCwgZG9jdW1lbnQsIGV4aXN0aW5nUGF0aEZyYWdtZW50KSB7XG5cdGlmICh0eXBlb2Ygb3BlcmF0aW9uICE9PSBcIm9iamVjdFwiIHx8IG9wZXJhdGlvbiA9PT0gbnVsbCB8fCBBcnJheS5pc0FycmF5KG9wZXJhdGlvbikpIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIk9wZXJhdGlvbiBpcyBub3QgYW4gb2JqZWN0XCIsIFwiT1BFUkFUSU9OX05PVF9BTl9PQkpFQ1RcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuXHRlbHNlIGlmICghb2JqT3BzW29wZXJhdGlvbi5vcF0pIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIk9wZXJhdGlvbiBgb3BgIHByb3BlcnR5IGlzIG5vdCBvbmUgb2Ygb3BlcmF0aW9ucyBkZWZpbmVkIGluIFJGQy02OTAyXCIsIFwiT1BFUkFUSU9OX09QX0lOVkFMSURcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuXHRlbHNlIGlmICh0eXBlb2Ygb3BlcmF0aW9uLnBhdGggIT09IFwic3RyaW5nXCIpIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIk9wZXJhdGlvbiBgcGF0aGAgcHJvcGVydHkgaXMgbm90IGEgc3RyaW5nXCIsIFwiT1BFUkFUSU9OX1BBVEhfSU5WQUxJRFwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG5cdGVsc2UgaWYgKG9wZXJhdGlvbi5wYXRoLmluZGV4T2YoXCIvXCIpICE9PSAwICYmIG9wZXJhdGlvbi5wYXRoLmxlbmd0aCA+IDApIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIk9wZXJhdGlvbiBgcGF0aGAgcHJvcGVydHkgbXVzdCBzdGFydCB3aXRoIFxcXCIvXFxcIlwiLCBcIk9QRVJBVElPTl9QQVRIX0lOVkFMSURcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuXHRlbHNlIGlmICgob3BlcmF0aW9uLm9wID09PSBcIm1vdmVcIiB8fCBvcGVyYXRpb24ub3AgPT09IFwiY29weVwiKSAmJiB0eXBlb2Ygb3BlcmF0aW9uLmZyb20gIT09IFwic3RyaW5nXCIpIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIk9wZXJhdGlvbiBgZnJvbWAgcHJvcGVydHkgaXMgbm90IHByZXNlbnQgKGFwcGxpY2FibGUgaW4gYG1vdmVgIGFuZCBgY29weWAgb3BlcmF0aW9ucylcIiwgXCJPUEVSQVRJT05fRlJPTV9SRVFVSVJFRFwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG5cdGVsc2UgaWYgKChvcGVyYXRpb24ub3AgPT09IFwiYWRkXCIgfHwgb3BlcmF0aW9uLm9wID09PSBcInJlcGxhY2VcIiB8fCBvcGVyYXRpb24ub3AgPT09IFwidGVzdFwiKSAmJiBvcGVyYXRpb24udmFsdWUgPT09IHZvaWQgMCkgdGhyb3cgbmV3IEpzb25QYXRjaEVycm9yKFwiT3BlcmF0aW9uIGB2YWx1ZWAgcHJvcGVydHkgaXMgbm90IHByZXNlbnQgKGFwcGxpY2FibGUgaW4gYGFkZGAsIGByZXBsYWNlYCBhbmQgYHRlc3RgIG9wZXJhdGlvbnMpXCIsIFwiT1BFUkFUSU9OX1ZBTFVFX1JFUVVJUkVEXCIsIGluZGV4LCBvcGVyYXRpb24sIGRvY3VtZW50KTtcblx0ZWxzZSBpZiAoKG9wZXJhdGlvbi5vcCA9PT0gXCJhZGRcIiB8fCBvcGVyYXRpb24ub3AgPT09IFwicmVwbGFjZVwiIHx8IG9wZXJhdGlvbi5vcCA9PT0gXCJ0ZXN0XCIpICYmIGhhc1VuZGVmaW5lZChvcGVyYXRpb24udmFsdWUpKSB0aHJvdyBuZXcgSnNvblBhdGNoRXJyb3IoXCJPcGVyYXRpb24gYHZhbHVlYCBwcm9wZXJ0eSBpcyBub3QgcHJlc2VudCAoYXBwbGljYWJsZSBpbiBgYWRkYCwgYHJlcGxhY2VgIGFuZCBgdGVzdGAgb3BlcmF0aW9ucylcIiwgXCJPUEVSQVRJT05fVkFMVUVfQ0FOTk9UX0NPTlRBSU5fVU5ERUZJTkVEXCIsIGluZGV4LCBvcGVyYXRpb24sIGRvY3VtZW50KTtcblx0ZWxzZSBpZiAoZG9jdW1lbnQpIHtcblx0XHRpZiAob3BlcmF0aW9uLm9wID09IFwiYWRkXCIpIHtcblx0XHRcdHZhciBwYXRoTGVuID0gb3BlcmF0aW9uLnBhdGguc3BsaXQoXCIvXCIpLmxlbmd0aDtcblx0XHRcdHZhciBleGlzdGluZ1BhdGhMZW4gPSBleGlzdGluZ1BhdGhGcmFnbWVudC5zcGxpdChcIi9cIikubGVuZ3RoO1xuXHRcdFx0aWYgKHBhdGhMZW4gIT09IGV4aXN0aW5nUGF0aExlbiArIDEgJiYgcGF0aExlbiAhPT0gZXhpc3RpbmdQYXRoTGVuKSB0aHJvdyBuZXcgSnNvblBhdGNoRXJyb3IoXCJDYW5ub3QgcGVyZm9ybSBhbiBgYWRkYCBvcGVyYXRpb24gYXQgdGhlIGRlc2lyZWQgcGF0aFwiLCBcIk9QRVJBVElPTl9QQVRIX0NBTk5PVF9BRERcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuXHRcdH0gZWxzZSBpZiAob3BlcmF0aW9uLm9wID09PSBcInJlcGxhY2VcIiB8fCBvcGVyYXRpb24ub3AgPT09IFwicmVtb3ZlXCIgfHwgb3BlcmF0aW9uLm9wID09PSBcIl9nZXRcIikge1xuXHRcdFx0aWYgKG9wZXJhdGlvbi5wYXRoICE9PSBleGlzdGluZ1BhdGhGcmFnbWVudCkgdGhyb3cgbmV3IEpzb25QYXRjaEVycm9yKFwiQ2Fubm90IHBlcmZvcm0gdGhlIG9wZXJhdGlvbiBhdCBhIHBhdGggdGhhdCBkb2VzIG5vdCBleGlzdFwiLCBcIk9QRVJBVElPTl9QQVRIX1VOUkVTT0xWQUJMRVwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG5cdFx0fSBlbHNlIGlmIChvcGVyYXRpb24ub3AgPT09IFwibW92ZVwiIHx8IG9wZXJhdGlvbi5vcCA9PT0gXCJjb3B5XCIpIHtcblx0XHRcdHZhciBleGlzdGluZ1ZhbHVlID0ge1xuXHRcdFx0XHRvcDogXCJfZ2V0XCIsXG5cdFx0XHRcdHBhdGg6IG9wZXJhdGlvbi5mcm9tLFxuXHRcdFx0XHR2YWx1ZTogdm9pZCAwXG5cdFx0XHR9O1xuXHRcdFx0dmFyIGVycm9yID0gdmFsaWRhdGUoW2V4aXN0aW5nVmFsdWVdLCBkb2N1bWVudCk7XG5cdFx0XHRpZiAoZXJyb3IgJiYgZXJyb3IubmFtZSA9PT0gXCJPUEVSQVRJT05fUEFUSF9VTlJFU09MVkFCTEVcIikgdGhyb3cgbmV3IEpzb25QYXRjaEVycm9yKFwiQ2Fubm90IHBlcmZvcm0gdGhlIG9wZXJhdGlvbiBmcm9tIGEgcGF0aCB0aGF0IGRvZXMgbm90IGV4aXN0XCIsIFwiT1BFUkFUSU9OX0ZST01fVU5SRVNPTFZBQkxFXCIsIGluZGV4LCBvcGVyYXRpb24sIGRvY3VtZW50KTtcblx0XHR9XG5cdH1cbn1cbi8qKlxuKiBWYWxpZGF0ZXMgYSBzZXF1ZW5jZSBvZiBvcGVyYXRpb25zLiBJZiBgZG9jdW1lbnRgIHBhcmFtZXRlciBpcyBwcm92aWRlZCwgdGhlIHNlcXVlbmNlIGlzIGFkZGl0aW9uYWxseSB2YWxpZGF0ZWQgYWdhaW5zdCB0aGUgb2JqZWN0IGRvY3VtZW50LlxuKiBJZiBlcnJvciBpcyBlbmNvdW50ZXJlZCwgcmV0dXJucyBhIEpzb25QYXRjaEVycm9yIG9iamVjdFxuKiBAcGFyYW0gc2VxdWVuY2VcbiogQHBhcmFtIGRvY3VtZW50XG4qIEByZXR1cm5zIHtKc29uUGF0Y2hFcnJvcnx1bmRlZmluZWR9XG4qL1xuZnVuY3Rpb24gdmFsaWRhdGUoc2VxdWVuY2UsIGRvY3VtZW50LCBleHRlcm5hbFZhbGlkYXRvcikge1xuXHR0cnkge1xuXHRcdGlmICghQXJyYXkuaXNBcnJheShzZXF1ZW5jZSkpIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIlBhdGNoIHNlcXVlbmNlIG11c3QgYmUgYW4gYXJyYXlcIiwgXCJTRVFVRU5DRV9OT1RfQU5fQVJSQVlcIik7XG5cdFx0aWYgKGRvY3VtZW50KSBhcHBseVBhdGNoKF9kZWVwQ2xvbmUoZG9jdW1lbnQpLCBfZGVlcENsb25lKHNlcXVlbmNlKSwgZXh0ZXJuYWxWYWxpZGF0b3IgfHwgdHJ1ZSk7XG5cdFx0ZWxzZSB7XG5cdFx0XHRleHRlcm5hbFZhbGlkYXRvciA9IGV4dGVybmFsVmFsaWRhdG9yIHx8IHZhbGlkYXRvcjtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc2VxdWVuY2UubGVuZ3RoOyBpKyspIGV4dGVybmFsVmFsaWRhdG9yKHNlcXVlbmNlW2ldLCBpLCBkb2N1bWVudCwgdm9pZCAwKTtcblx0XHR9XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAoZSBpbnN0YW5jZW9mIEpzb25QYXRjaEVycm9yKSByZXR1cm4gZTtcblx0XHRlbHNlIHRocm93IGU7XG5cdH1cbn1cbmZ1bmN0aW9uIF9hcmVFcXVhbHMoYSwgYikge1xuXHRpZiAoYSA9PT0gYikgcmV0dXJuIHRydWU7XG5cdGlmIChhICYmIGIgJiYgdHlwZW9mIGEgPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgYiA9PSBcIm9iamVjdFwiKSB7XG5cdFx0dmFyIGFyckEgPSBBcnJheS5pc0FycmF5KGEpLCBhcnJCID0gQXJyYXkuaXNBcnJheShiKSwgaSwgbGVuZ3RoLCBrZXk7XG5cdFx0aWYgKGFyckEgJiYgYXJyQikge1xuXHRcdFx0bGVuZ3RoID0gYS5sZW5ndGg7XG5cdFx0XHRpZiAobGVuZ3RoICE9IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRmb3IgKGkgPSBsZW5ndGg7IGktLSAhPT0gMDspIGlmICghX2FyZUVxdWFscyhhW2ldLCBiW2ldKSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHRcdGlmIChhcnJBICE9IGFyckIpIHJldHVybiBmYWxzZTtcblx0XHR2YXIga2V5cyA9IE9iamVjdC5rZXlzKGEpO1xuXHRcdGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuXHRcdGlmIChsZW5ndGggIT09IE9iamVjdC5rZXlzKGIpLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuXHRcdGZvciAoaSA9IGxlbmd0aDsgaS0tICE9PSAwOykgaWYgKCFiLmhhc093blByb3BlcnR5KGtleXNbaV0pKSByZXR1cm4gZmFsc2U7XG5cdFx0Zm9yIChpID0gbGVuZ3RoOyBpLS0gIT09IDA7KSB7XG5cdFx0XHRrZXkgPSBrZXlzW2ldO1xuXHRcdFx0aWYgKCFfYXJlRXF1YWxzKGFba2V5XSwgYltrZXldKSkgcmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXHRyZXR1cm4gYSAhPT0gYSAmJiBiICE9PSBiO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IF9hcmVFcXVhbHMsIGFwcGx5T3BlcmF0aW9uLCBhcHBseVBhdGNoLCBhcHBseVJlZHVjZXIsIGNvcmVfZXhwb3J0cywgZ2V0VmFsdWVCeVBvaW50ZXIsIHZhbGlkYXRlLCB2YWxpZGF0b3IgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvcmUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/fast-json-patch/src/core.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/fast-json-patch/src/duplex.js":
/*!************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/fast-json-patch/src/duplex.js ***!
  \************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   compare: () => (/* binding */ compare)\n/* harmony export */ });\n/* harmony import */ var _helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./helpers.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/fast-json-patch/src/helpers.js\");\n/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./core.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/fast-json-patch/src/core.js\");\n\n\n\n//#region src/utils/fast-json-patch/src/duplex.ts\nfunction _generate(mirror, obj, patches, path, invertible) {\n\tif (obj === mirror) return;\n\tif (typeof obj.toJSON === \"function\") obj = obj.toJSON();\n\tvar newKeys = (0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__._objectKeys)(obj);\n\tvar oldKeys = (0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__._objectKeys)(mirror);\n\tvar changed = false;\n\tvar deleted = false;\n\tfor (var t = oldKeys.length - 1; t >= 0; t--) {\n\t\tvar key = oldKeys[t];\n\t\tvar oldVal = mirror[key];\n\t\tif ((0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__.hasOwnProperty)(obj, key) && !(obj[key] === void 0 && oldVal !== void 0 && Array.isArray(obj) === false)) {\n\t\t\tvar newVal = obj[key];\n\t\t\tif (typeof oldVal == \"object\" && oldVal != null && typeof newVal == \"object\" && newVal != null && Array.isArray(oldVal) === Array.isArray(newVal)) _generate(oldVal, newVal, patches, path + \"/\" + (0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__.escapePathComponent)(key), invertible);\n\t\t\telse if (oldVal !== newVal) {\n\t\t\t\tchanged = true;\n\t\t\t\tif (invertible) patches.push({\n\t\t\t\t\top: \"test\",\n\t\t\t\t\tpath: path + \"/\" + (0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__.escapePathComponent)(key),\n\t\t\t\t\tvalue: (0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__._deepClone)(oldVal)\n\t\t\t\t});\n\t\t\t\tpatches.push({\n\t\t\t\t\top: \"replace\",\n\t\t\t\t\tpath: path + \"/\" + (0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__.escapePathComponent)(key),\n\t\t\t\t\tvalue: (0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__._deepClone)(newVal)\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (Array.isArray(mirror) === Array.isArray(obj)) {\n\t\t\tif (invertible) patches.push({\n\t\t\t\top: \"test\",\n\t\t\t\tpath: path + \"/\" + (0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__.escapePathComponent)(key),\n\t\t\t\tvalue: (0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__._deepClone)(oldVal)\n\t\t\t});\n\t\t\tpatches.push({\n\t\t\t\top: \"remove\",\n\t\t\t\tpath: path + \"/\" + (0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__.escapePathComponent)(key)\n\t\t\t});\n\t\t\tdeleted = true;\n\t\t} else {\n\t\t\tif (invertible) patches.push({\n\t\t\t\top: \"test\",\n\t\t\t\tpath,\n\t\t\t\tvalue: mirror\n\t\t\t});\n\t\t\tpatches.push({\n\t\t\t\top: \"replace\",\n\t\t\t\tpath,\n\t\t\t\tvalue: obj\n\t\t\t});\n\t\t\tchanged = true;\n\t\t}\n\t}\n\tif (!deleted && newKeys.length == oldKeys.length) return;\n\tfor (var t = 0; t < newKeys.length; t++) {\n\t\tvar key = newKeys[t];\n\t\tif (!(0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__.hasOwnProperty)(mirror, key) && obj[key] !== void 0) patches.push({\n\t\t\top: \"add\",\n\t\t\tpath: path + \"/\" + (0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__.escapePathComponent)(key),\n\t\t\tvalue: (0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__._deepClone)(obj[key])\n\t\t});\n\t}\n}\n/**\n* Create an array of patches from the differences in two objects\n*/\nfunction compare(tree1, tree2, invertible = false) {\n\tvar patches = [];\n\t_generate(tree1, tree2, patches, \"\", invertible);\n\treturn patches;\n}\n\n//#endregion\n\n//# sourceMappingURL=duplex.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9mYXN0LWpzb24tcGF0Y2gvc3JjL2R1cGxleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNEY7QUFDekU7O0FBRW5CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSx3REFBVztBQUMxQixlQUFlLHdEQUFXO0FBQzFCO0FBQ0E7QUFDQSxrQ0FBa0MsUUFBUTtBQUMxQztBQUNBO0FBQ0EsTUFBTSwyREFBYztBQUNwQjtBQUNBLHNNQUFzTSxnRUFBbUI7QUFDek47QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0VBQW1CO0FBQzNDLFlBQVksdURBQVU7QUFDdEIsS0FBSztBQUNMO0FBQ0E7QUFDQSx3QkFBd0IsZ0VBQW1CO0FBQzNDLFlBQVksdURBQVU7QUFDdEIsS0FBSztBQUNMO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSx1QkFBdUIsZ0VBQW1CO0FBQzFDLFdBQVcsdURBQVU7QUFDckIsSUFBSTtBQUNKO0FBQ0E7QUFDQSx1QkFBdUIsZ0VBQW1CO0FBQzFDLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixvQkFBb0I7QUFDckM7QUFDQSxPQUFPLDJEQUFjO0FBQ3JCO0FBQ0Esc0JBQXNCLGdFQUFtQjtBQUN6QyxVQUFVLHVEQUFVO0FBQ3BCLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNtQjtBQUNuQiIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvZmFzdC1qc29uLXBhdGNoL3NyYy9kdXBsZXguanM/NmRhNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfZGVlcENsb25lLCBfb2JqZWN0S2V5cywgZXNjYXBlUGF0aENvbXBvbmVudCwgaGFzT3duUHJvcGVydHkgfSBmcm9tIFwiLi9oZWxwZXJzLmpzXCI7XG5pbXBvcnQgXCIuL2NvcmUuanNcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy9mYXN0LWpzb24tcGF0Y2gvc3JjL2R1cGxleC50c1xuZnVuY3Rpb24gX2dlbmVyYXRlKG1pcnJvciwgb2JqLCBwYXRjaGVzLCBwYXRoLCBpbnZlcnRpYmxlKSB7XG5cdGlmIChvYmogPT09IG1pcnJvcikgcmV0dXJuO1xuXHRpZiAodHlwZW9mIG9iai50b0pTT04gPT09IFwiZnVuY3Rpb25cIikgb2JqID0gb2JqLnRvSlNPTigpO1xuXHR2YXIgbmV3S2V5cyA9IF9vYmplY3RLZXlzKG9iaik7XG5cdHZhciBvbGRLZXlzID0gX29iamVjdEtleXMobWlycm9yKTtcblx0dmFyIGNoYW5nZWQgPSBmYWxzZTtcblx0dmFyIGRlbGV0ZWQgPSBmYWxzZTtcblx0Zm9yICh2YXIgdCA9IG9sZEtleXMubGVuZ3RoIC0gMTsgdCA+PSAwOyB0LS0pIHtcblx0XHR2YXIga2V5ID0gb2xkS2V5c1t0XTtcblx0XHR2YXIgb2xkVmFsID0gbWlycm9yW2tleV07XG5cdFx0aWYgKGhhc093blByb3BlcnR5KG9iaiwga2V5KSAmJiAhKG9ialtrZXldID09PSB2b2lkIDAgJiYgb2xkVmFsICE9PSB2b2lkIDAgJiYgQXJyYXkuaXNBcnJheShvYmopID09PSBmYWxzZSkpIHtcblx0XHRcdHZhciBuZXdWYWwgPSBvYmpba2V5XTtcblx0XHRcdGlmICh0eXBlb2Ygb2xkVmFsID09IFwib2JqZWN0XCIgJiYgb2xkVmFsICE9IG51bGwgJiYgdHlwZW9mIG5ld1ZhbCA9PSBcIm9iamVjdFwiICYmIG5ld1ZhbCAhPSBudWxsICYmIEFycmF5LmlzQXJyYXkob2xkVmFsKSA9PT0gQXJyYXkuaXNBcnJheShuZXdWYWwpKSBfZ2VuZXJhdGUob2xkVmFsLCBuZXdWYWwsIHBhdGNoZXMsIHBhdGggKyBcIi9cIiArIGVzY2FwZVBhdGhDb21wb25lbnQoa2V5KSwgaW52ZXJ0aWJsZSk7XG5cdFx0XHRlbHNlIGlmIChvbGRWYWwgIT09IG5ld1ZhbCkge1xuXHRcdFx0XHRjaGFuZ2VkID0gdHJ1ZTtcblx0XHRcdFx0aWYgKGludmVydGlibGUpIHBhdGNoZXMucHVzaCh7XG5cdFx0XHRcdFx0b3A6IFwidGVzdFwiLFxuXHRcdFx0XHRcdHBhdGg6IHBhdGggKyBcIi9cIiArIGVzY2FwZVBhdGhDb21wb25lbnQoa2V5KSxcblx0XHRcdFx0XHR2YWx1ZTogX2RlZXBDbG9uZShvbGRWYWwpXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRwYXRjaGVzLnB1c2goe1xuXHRcdFx0XHRcdG9wOiBcInJlcGxhY2VcIixcblx0XHRcdFx0XHRwYXRoOiBwYXRoICsgXCIvXCIgKyBlc2NhcGVQYXRoQ29tcG9uZW50KGtleSksXG5cdFx0XHRcdFx0dmFsdWU6IF9kZWVwQ2xvbmUobmV3VmFsKVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkobWlycm9yKSA9PT0gQXJyYXkuaXNBcnJheShvYmopKSB7XG5cdFx0XHRpZiAoaW52ZXJ0aWJsZSkgcGF0Y2hlcy5wdXNoKHtcblx0XHRcdFx0b3A6IFwidGVzdFwiLFxuXHRcdFx0XHRwYXRoOiBwYXRoICsgXCIvXCIgKyBlc2NhcGVQYXRoQ29tcG9uZW50KGtleSksXG5cdFx0XHRcdHZhbHVlOiBfZGVlcENsb25lKG9sZFZhbClcblx0XHRcdH0pO1xuXHRcdFx0cGF0Y2hlcy5wdXNoKHtcblx0XHRcdFx0b3A6IFwicmVtb3ZlXCIsXG5cdFx0XHRcdHBhdGg6IHBhdGggKyBcIi9cIiArIGVzY2FwZVBhdGhDb21wb25lbnQoa2V5KVxuXHRcdFx0fSk7XG5cdFx0XHRkZWxldGVkID0gdHJ1ZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKGludmVydGlibGUpIHBhdGNoZXMucHVzaCh7XG5cdFx0XHRcdG9wOiBcInRlc3RcIixcblx0XHRcdFx0cGF0aCxcblx0XHRcdFx0dmFsdWU6IG1pcnJvclxuXHRcdFx0fSk7XG5cdFx0XHRwYXRjaGVzLnB1c2goe1xuXHRcdFx0XHRvcDogXCJyZXBsYWNlXCIsXG5cdFx0XHRcdHBhdGgsXG5cdFx0XHRcdHZhbHVlOiBvYmpcblx0XHRcdH0pO1xuXHRcdFx0Y2hhbmdlZCA9IHRydWU7XG5cdFx0fVxuXHR9XG5cdGlmICghZGVsZXRlZCAmJiBuZXdLZXlzLmxlbmd0aCA9PSBvbGRLZXlzLmxlbmd0aCkgcmV0dXJuO1xuXHRmb3IgKHZhciB0ID0gMDsgdCA8IG5ld0tleXMubGVuZ3RoOyB0KyspIHtcblx0XHR2YXIga2V5ID0gbmV3S2V5c1t0XTtcblx0XHRpZiAoIWhhc093blByb3BlcnR5KG1pcnJvciwga2V5KSAmJiBvYmpba2V5XSAhPT0gdm9pZCAwKSBwYXRjaGVzLnB1c2goe1xuXHRcdFx0b3A6IFwiYWRkXCIsXG5cdFx0XHRwYXRoOiBwYXRoICsgXCIvXCIgKyBlc2NhcGVQYXRoQ29tcG9uZW50KGtleSksXG5cdFx0XHR2YWx1ZTogX2RlZXBDbG9uZShvYmpba2V5XSlcblx0XHR9KTtcblx0fVxufVxuLyoqXG4qIENyZWF0ZSBhbiBhcnJheSBvZiBwYXRjaGVzIGZyb20gdGhlIGRpZmZlcmVuY2VzIGluIHR3byBvYmplY3RzXG4qL1xuZnVuY3Rpb24gY29tcGFyZSh0cmVlMSwgdHJlZTIsIGludmVydGlibGUgPSBmYWxzZSkge1xuXHR2YXIgcGF0Y2hlcyA9IFtdO1xuXHRfZ2VuZXJhdGUodHJlZTEsIHRyZWUyLCBwYXRjaGVzLCBcIlwiLCBpbnZlcnRpYmxlKTtcblx0cmV0dXJuIHBhdGNoZXM7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgY29tcGFyZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZHVwbGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/fast-json-patch/src/duplex.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/fast-json-patch/src/helpers.js":
/*!*************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/fast-json-patch/src/helpers.js ***!
  \*************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PatchError: () => (/* binding */ PatchError),\n/* harmony export */   _deepClone: () => (/* binding */ _deepClone),\n/* harmony export */   _objectKeys: () => (/* binding */ _objectKeys),\n/* harmony export */   escapePathComponent: () => (/* binding */ escapePathComponent),\n/* harmony export */   hasOwnProperty: () => (/* binding */ hasOwnProperty),\n/* harmony export */   hasUndefined: () => (/* binding */ hasUndefined),\n/* harmony export */   isInteger: () => (/* binding */ isInteger),\n/* harmony export */   unescapePathComponent: () => (/* binding */ unescapePathComponent)\n/* harmony export */ });\n//#region src/utils/fast-json-patch/src/helpers.ts\n/*!\n* https://github.com/Starcounter-Jack/JSON-Patch\n* (c) 2017-2022 Joachim Wester\n* MIT licensed\n*/\nconst _hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction hasOwnProperty(obj, key) {\n\treturn _hasOwnProperty.call(obj, key);\n}\nfunction _objectKeys(obj) {\n\tif (Array.isArray(obj)) {\n\t\tconst keys$1 = new Array(obj.length);\n\t\tfor (let k = 0; k < keys$1.length; k++) keys$1[k] = \"\" + k;\n\t\treturn keys$1;\n\t}\n\tif (Object.keys) return Object.keys(obj);\n\tlet keys = [];\n\tfor (let i in obj) if (hasOwnProperty(obj, i)) keys.push(i);\n\treturn keys;\n}\n/**\n* Deeply clone the object.\n* https://jsperf.com/deep-copy-vs-json-stringify-json-parse/25 (recursiveDeepCopy)\n* @param  {any} obj value to clone\n* @return {any} cloned obj\n*/\nfunction _deepClone(obj) {\n\tswitch (typeof obj) {\n\t\tcase \"object\": return JSON.parse(JSON.stringify(obj));\n\t\tcase \"undefined\": return null;\n\t\tdefault: return obj;\n\t}\n}\nfunction isInteger(str) {\n\tlet i = 0;\n\tconst len = str.length;\n\tlet charCode;\n\twhile (i < len) {\n\t\tcharCode = str.charCodeAt(i);\n\t\tif (charCode >= 48 && charCode <= 57) {\n\t\t\ti++;\n\t\t\tcontinue;\n\t\t}\n\t\treturn false;\n\t}\n\treturn true;\n}\n/**\n* Escapes a json pointer path\n* @param path The raw pointer\n* @return the Escaped path\n*/\nfunction escapePathComponent(path) {\n\tif (path.indexOf(\"/\") === -1 && path.indexOf(\"~\") === -1) return path;\n\treturn path.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\n}\n/**\n* Unescapes a json pointer path\n* @param path The escaped pointer\n* @return The unescaped path\n*/\nfunction unescapePathComponent(path) {\n\treturn path.replace(/~1/g, \"/\").replace(/~0/g, \"~\");\n}\n/**\n* Recursively checks whether an object has any undefined values inside.\n*/\nfunction hasUndefined(obj) {\n\tif (obj === void 0) return true;\n\tif (obj) {\n\t\tif (Array.isArray(obj)) {\n\t\t\tfor (let i$1 = 0, len = obj.length; i$1 < len; i$1++) if (hasUndefined(obj[i$1])) return true;\n\t\t} else if (typeof obj === \"object\") {\n\t\t\tconst objKeys = _objectKeys(obj);\n\t\t\tconst objKeysLength = objKeys.length;\n\t\t\tfor (var i = 0; i < objKeysLength; i++) if (hasUndefined(obj[objKeys[i]])) return true;\n\t\t}\n\t}\n\treturn false;\n}\nfunction patchErrorMessageFormatter(message, args) {\n\tconst messageParts = [message];\n\tfor (const key in args) {\n\t\tconst value = typeof args[key] === \"object\" ? JSON.stringify(args[key], null, 2) : args[key];\n\t\tif (typeof value !== \"undefined\") messageParts.push(`${key}: ${value}`);\n\t}\n\treturn messageParts.join(\"\\n\");\n}\nvar PatchError = class extends Error {\n\tconstructor(message, name, index, operation, tree) {\n\t\tsuper(patchErrorMessageFormatter(message, {\n\t\t\tname,\n\t\t\tindex,\n\t\t\toperation,\n\t\t\ttree\n\t\t}));\n\t\tthis.name = name;\n\t\tthis.index = index;\n\t\tthis.operation = operation;\n\t\tthis.tree = tree;\n\t\tObject.setPrototypeOf(this, new.target.prototype);\n\t\tthis.message = patchErrorMessageFormatter(message, {\n\t\t\tname,\n\t\t\tindex,\n\t\t\toperation,\n\t\t\ttree\n\t\t});\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=helpers.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9mYXN0LWpzb24tcGF0Y2gvc3JjL2hlbHBlcnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixtQkFBbUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEtBQUs7QUFDaEIsV0FBVyxLQUFLO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLFdBQVc7QUFDbEQsSUFBSTtBQUNKO0FBQ0E7QUFDQSxtQkFBbUIsbUJBQW1CO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsSUFBSSxJQUFJLE1BQU07QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNvSTtBQUNwSSIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvZmFzdC1qc29uLXBhdGNoL3NyYy9oZWxwZXJzLmpzP2JlZDEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8jcmVnaW9uIHNyYy91dGlscy9mYXN0LWpzb24tcGF0Y2gvc3JjL2hlbHBlcnMudHNcbi8qIVxuKiBodHRwczovL2dpdGh1Yi5jb20vU3RhcmNvdW50ZXItSmFjay9KU09OLVBhdGNoXG4qIChjKSAyMDE3LTIwMjIgSm9hY2hpbSBXZXN0ZXJcbiogTUlUIGxpY2Vuc2VkXG4qL1xuY29uc3QgX2hhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbmZ1bmN0aW9uIGhhc093blByb3BlcnR5KG9iaiwga2V5KSB7XG5cdHJldHVybiBfaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSk7XG59XG5mdW5jdGlvbiBfb2JqZWN0S2V5cyhvYmopIHtcblx0aWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuXHRcdGNvbnN0IGtleXMkMSA9IG5ldyBBcnJheShvYmoubGVuZ3RoKTtcblx0XHRmb3IgKGxldCBrID0gMDsgayA8IGtleXMkMS5sZW5ndGg7IGsrKykga2V5cyQxW2tdID0gXCJcIiArIGs7XG5cdFx0cmV0dXJuIGtleXMkMTtcblx0fVxuXHRpZiAoT2JqZWN0LmtleXMpIHJldHVybiBPYmplY3Qua2V5cyhvYmopO1xuXHRsZXQga2V5cyA9IFtdO1xuXHRmb3IgKGxldCBpIGluIG9iaikgaWYgKGhhc093blByb3BlcnR5KG9iaiwgaSkpIGtleXMucHVzaChpKTtcblx0cmV0dXJuIGtleXM7XG59XG4vKipcbiogRGVlcGx5IGNsb25lIHRoZSBvYmplY3QuXG4qIGh0dHBzOi8vanNwZXJmLmNvbS9kZWVwLWNvcHktdnMtanNvbi1zdHJpbmdpZnktanNvbi1wYXJzZS8yNSAocmVjdXJzaXZlRGVlcENvcHkpXG4qIEBwYXJhbSAge2FueX0gb2JqIHZhbHVlIHRvIGNsb25lXG4qIEByZXR1cm4ge2FueX0gY2xvbmVkIG9ialxuKi9cbmZ1bmN0aW9uIF9kZWVwQ2xvbmUob2JqKSB7XG5cdHN3aXRjaCAodHlwZW9mIG9iaikge1xuXHRcdGNhc2UgXCJvYmplY3RcIjogcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7XG5cdFx0Y2FzZSBcInVuZGVmaW5lZFwiOiByZXR1cm4gbnVsbDtcblx0XHRkZWZhdWx0OiByZXR1cm4gb2JqO1xuXHR9XG59XG5mdW5jdGlvbiBpc0ludGVnZXIoc3RyKSB7XG5cdGxldCBpID0gMDtcblx0Y29uc3QgbGVuID0gc3RyLmxlbmd0aDtcblx0bGV0IGNoYXJDb2RlO1xuXHR3aGlsZSAoaSA8IGxlbikge1xuXHRcdGNoYXJDb2RlID0gc3RyLmNoYXJDb2RlQXQoaSk7XG5cdFx0aWYgKGNoYXJDb2RlID49IDQ4ICYmIGNoYXJDb2RlIDw9IDU3KSB7XG5cdFx0XHRpKys7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdHJldHVybiB0cnVlO1xufVxuLyoqXG4qIEVzY2FwZXMgYSBqc29uIHBvaW50ZXIgcGF0aFxuKiBAcGFyYW0gcGF0aCBUaGUgcmF3IHBvaW50ZXJcbiogQHJldHVybiB0aGUgRXNjYXBlZCBwYXRoXG4qL1xuZnVuY3Rpb24gZXNjYXBlUGF0aENvbXBvbmVudChwYXRoKSB7XG5cdGlmIChwYXRoLmluZGV4T2YoXCIvXCIpID09PSAtMSAmJiBwYXRoLmluZGV4T2YoXCJ+XCIpID09PSAtMSkgcmV0dXJuIHBhdGg7XG5cdHJldHVybiBwYXRoLnJlcGxhY2UoL34vZywgXCJ+MFwiKS5yZXBsYWNlKC9cXC8vZywgXCJ+MVwiKTtcbn1cbi8qKlxuKiBVbmVzY2FwZXMgYSBqc29uIHBvaW50ZXIgcGF0aFxuKiBAcGFyYW0gcGF0aCBUaGUgZXNjYXBlZCBwb2ludGVyXG4qIEByZXR1cm4gVGhlIHVuZXNjYXBlZCBwYXRoXG4qL1xuZnVuY3Rpb24gdW5lc2NhcGVQYXRoQ29tcG9uZW50KHBhdGgpIHtcblx0cmV0dXJuIHBhdGgucmVwbGFjZSgvfjEvZywgXCIvXCIpLnJlcGxhY2UoL34wL2csIFwiflwiKTtcbn1cbi8qKlxuKiBSZWN1cnNpdmVseSBjaGVja3Mgd2hldGhlciBhbiBvYmplY3QgaGFzIGFueSB1bmRlZmluZWQgdmFsdWVzIGluc2lkZS5cbiovXG5mdW5jdGlvbiBoYXNVbmRlZmluZWQob2JqKSB7XG5cdGlmIChvYmogPT09IHZvaWQgMCkgcmV0dXJuIHRydWU7XG5cdGlmIChvYmopIHtcblx0XHRpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG5cdFx0XHRmb3IgKGxldCBpJDEgPSAwLCBsZW4gPSBvYmoubGVuZ3RoOyBpJDEgPCBsZW47IGkkMSsrKSBpZiAoaGFzVW5kZWZpbmVkKG9ialtpJDFdKSkgcmV0dXJuIHRydWU7XG5cdFx0fSBlbHNlIGlmICh0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiKSB7XG5cdFx0XHRjb25zdCBvYmpLZXlzID0gX29iamVjdEtleXMob2JqKTtcblx0XHRcdGNvbnN0IG9iaktleXNMZW5ndGggPSBvYmpLZXlzLmxlbmd0aDtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgb2JqS2V5c0xlbmd0aDsgaSsrKSBpZiAoaGFzVW5kZWZpbmVkKG9ialtvYmpLZXlzW2ldXSkpIHJldHVybiB0cnVlO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBwYXRjaEVycm9yTWVzc2FnZUZvcm1hdHRlcihtZXNzYWdlLCBhcmdzKSB7XG5cdGNvbnN0IG1lc3NhZ2VQYXJ0cyA9IFttZXNzYWdlXTtcblx0Zm9yIChjb25zdCBrZXkgaW4gYXJncykge1xuXHRcdGNvbnN0IHZhbHVlID0gdHlwZW9mIGFyZ3Nba2V5XSA9PT0gXCJvYmplY3RcIiA/IEpTT04uc3RyaW5naWZ5KGFyZ3Nba2V5XSwgbnVsbCwgMikgOiBhcmdzW2tleV07XG5cdFx0aWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIikgbWVzc2FnZVBhcnRzLnB1c2goYCR7a2V5fTogJHt2YWx1ZX1gKTtcblx0fVxuXHRyZXR1cm4gbWVzc2FnZVBhcnRzLmpvaW4oXCJcXG5cIik7XG59XG52YXIgUGF0Y2hFcnJvciA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuXHRjb25zdHJ1Y3RvcihtZXNzYWdlLCBuYW1lLCBpbmRleCwgb3BlcmF0aW9uLCB0cmVlKSB7XG5cdFx0c3VwZXIocGF0Y2hFcnJvck1lc3NhZ2VGb3JtYXR0ZXIobWVzc2FnZSwge1xuXHRcdFx0bmFtZSxcblx0XHRcdGluZGV4LFxuXHRcdFx0b3BlcmF0aW9uLFxuXHRcdFx0dHJlZVxuXHRcdH0pKTtcblx0XHR0aGlzLm5hbWUgPSBuYW1lO1xuXHRcdHRoaXMuaW5kZXggPSBpbmRleDtcblx0XHR0aGlzLm9wZXJhdGlvbiA9IG9wZXJhdGlvbjtcblx0XHR0aGlzLnRyZWUgPSB0cmVlO1xuXHRcdE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBuZXcudGFyZ2V0LnByb3RvdHlwZSk7XG5cdFx0dGhpcy5tZXNzYWdlID0gcGF0Y2hFcnJvck1lc3NhZ2VGb3JtYXR0ZXIobWVzc2FnZSwge1xuXHRcdFx0bmFtZSxcblx0XHRcdGluZGV4LFxuXHRcdFx0b3BlcmF0aW9uLFxuXHRcdFx0dHJlZVxuXHRcdH0pO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IFBhdGNoRXJyb3IsIF9kZWVwQ2xvbmUsIF9vYmplY3RLZXlzLCBlc2NhcGVQYXRoQ29tcG9uZW50LCBoYXNPd25Qcm9wZXJ0eSwgaGFzVW5kZWZpbmVkLCBpc0ludGVnZXIsIHVuZXNjYXBlUGF0aENvbXBvbmVudCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGVscGVycy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/fast-json-patch/src/helpers.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/function_calling.js":
/*!**************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/function_calling.js ***!
  \**************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   convertToOpenAIFunction: () => (/* binding */ convertToOpenAIFunction),\n/* harmony export */   convertToOpenAITool: () => (/* binding */ convertToOpenAITool),\n/* harmony export */   function_calling_exports: () => (/* binding */ function_calling_exports),\n/* harmony export */   isLangChainTool: () => (/* reexport safe */ _tools_types_js__WEBPACK_IMPORTED_MODULE_2__.isLangChainTool),\n/* harmony export */   isRunnableToolLike: () => (/* reexport safe */ _tools_types_js__WEBPACK_IMPORTED_MODULE_2__.isRunnableToolLike),\n/* harmony export */   isStructuredTool: () => (/* reexport safe */ _tools_types_js__WEBPACK_IMPORTED_MODULE_2__.isStructuredTool),\n/* harmony export */   isStructuredToolParams: () => (/* reexport safe */ _tools_types_js__WEBPACK_IMPORTED_MODULE_2__.isStructuredToolParams)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _json_schema_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./json_schema.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/json_schema.js\");\n/* harmony import */ var _tools_types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tools/types.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tools/types.js\");\n\n\n\n\n//#region src/utils/function_calling.ts\nvar function_calling_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(function_calling_exports, {\n\tconvertToOpenAIFunction: () => convertToOpenAIFunction,\n\tconvertToOpenAITool: () => convertToOpenAITool,\n\tisLangChainTool: () => _tools_types_js__WEBPACK_IMPORTED_MODULE_2__.isLangChainTool,\n\tisRunnableToolLike: () => _tools_types_js__WEBPACK_IMPORTED_MODULE_2__.isRunnableToolLike,\n\tisStructuredTool: () => _tools_types_js__WEBPACK_IMPORTED_MODULE_2__.isStructuredTool,\n\tisStructuredToolParams: () => _tools_types_js__WEBPACK_IMPORTED_MODULE_2__.isStructuredToolParams\n});\n/**\n* Formats a `StructuredTool` or `RunnableToolLike` instance into a format\n* that is compatible with OpenAI function calling. If `StructuredTool` or\n* `RunnableToolLike` has a zod schema, the output will be converted into a\n* JSON schema, which is then used as the parameters for the OpenAI tool.\n*\n* @param {StructuredToolInterface | RunnableToolLike} tool The tool to convert to an OpenAI function.\n* @returns {FunctionDefinition} The inputted tool in OpenAI function format.\n*/\nfunction convertToOpenAIFunction(tool, fields) {\n\tconst fieldsCopy = typeof fields === \"number\" ? void 0 : fields;\n\treturn {\n\t\tname: tool.name,\n\t\tdescription: tool.description,\n\t\tparameters: (0,_json_schema_js__WEBPACK_IMPORTED_MODULE_1__.toJsonSchema)(tool.schema),\n\t\t...fieldsCopy?.strict !== void 0 ? { strict: fieldsCopy.strict } : {}\n\t};\n}\n/**\n* Formats a `StructuredTool` or `RunnableToolLike` instance into a\n* format that is compatible with OpenAI tool calling. If `StructuredTool` or\n* `RunnableToolLike` has a zod schema, the output will be converted into a\n* JSON schema, which is then used as the parameters for the OpenAI tool.\n*\n* @param {StructuredToolInterface | Record<string, any> | RunnableToolLike} tool The tool to convert to an OpenAI tool.\n* @returns {ToolDefinition} The inputted tool in OpenAI tool format.\n*/\nfunction convertToOpenAITool(tool, fields) {\n\tconst fieldsCopy = typeof fields === \"number\" ? void 0 : fields;\n\tlet toolDef;\n\tif ((0,_tools_types_js__WEBPACK_IMPORTED_MODULE_2__.isLangChainTool)(tool)) toolDef = {\n\t\ttype: \"function\",\n\t\tfunction: convertToOpenAIFunction(tool)\n\t};\n\telse toolDef = tool;\n\tif (fieldsCopy?.strict !== void 0) toolDef.function.strict = fieldsCopy.strict;\n\treturn toolDef;\n}\n\n//#endregion\n\n//# sourceMappingURL=function_calling.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9mdW5jdGlvbl9jYWxsaW5nLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBMkQ7QUFDWDtBQUNrRTs7QUFFbEg7QUFDQTtBQUNBLHNFQUFRO0FBQ1I7QUFDQTtBQUNBLHdCQUF3Qiw0REFBZTtBQUN2QywyQkFBMkIsK0RBQWtCO0FBQzdDLHlCQUF5Qiw2REFBZ0I7QUFDekMsK0JBQStCLG1FQUFzQjtBQUNyRCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSw0Q0FBNEM7QUFDdEQsWUFBWSxvQkFBb0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyw2REFBWTtBQUMxQix1Q0FBdUMsNEJBQTRCO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGtFQUFrRTtBQUM1RSxZQUFZLGdCQUFnQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssZ0VBQWU7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDaUs7QUFDaksiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL2Z1bmN0aW9uX2NhbGxpbmcuanM/ZTllNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2V4cG9ydCB9IGZyb20gXCIuLi9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmpzXCI7XG5pbXBvcnQgeyB0b0pzb25TY2hlbWEgfSBmcm9tIFwiLi9qc29uX3NjaGVtYS5qc1wiO1xuaW1wb3J0IHsgaXNMYW5nQ2hhaW5Ub29sLCBpc1J1bm5hYmxlVG9vbExpa2UsIGlzU3RydWN0dXJlZFRvb2wsIGlzU3RydWN0dXJlZFRvb2xQYXJhbXMgfSBmcm9tIFwiLi4vdG9vbHMvdHlwZXMuanNcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy9mdW5jdGlvbl9jYWxsaW5nLnRzXG52YXIgZnVuY3Rpb25fY2FsbGluZ19leHBvcnRzID0ge307XG5fX2V4cG9ydChmdW5jdGlvbl9jYWxsaW5nX2V4cG9ydHMsIHtcblx0Y29udmVydFRvT3BlbkFJRnVuY3Rpb246ICgpID0+IGNvbnZlcnRUb09wZW5BSUZ1bmN0aW9uLFxuXHRjb252ZXJ0VG9PcGVuQUlUb29sOiAoKSA9PiBjb252ZXJ0VG9PcGVuQUlUb29sLFxuXHRpc0xhbmdDaGFpblRvb2w6ICgpID0+IGlzTGFuZ0NoYWluVG9vbCxcblx0aXNSdW5uYWJsZVRvb2xMaWtlOiAoKSA9PiBpc1J1bm5hYmxlVG9vbExpa2UsXG5cdGlzU3RydWN0dXJlZFRvb2w6ICgpID0+IGlzU3RydWN0dXJlZFRvb2wsXG5cdGlzU3RydWN0dXJlZFRvb2xQYXJhbXM6ICgpID0+IGlzU3RydWN0dXJlZFRvb2xQYXJhbXNcbn0pO1xuLyoqXG4qIEZvcm1hdHMgYSBgU3RydWN0dXJlZFRvb2xgIG9yIGBSdW5uYWJsZVRvb2xMaWtlYCBpbnN0YW5jZSBpbnRvIGEgZm9ybWF0XG4qIHRoYXQgaXMgY29tcGF0aWJsZSB3aXRoIE9wZW5BSSBmdW5jdGlvbiBjYWxsaW5nLiBJZiBgU3RydWN0dXJlZFRvb2xgIG9yXG4qIGBSdW5uYWJsZVRvb2xMaWtlYCBoYXMgYSB6b2Qgc2NoZW1hLCB0aGUgb3V0cHV0IHdpbGwgYmUgY29udmVydGVkIGludG8gYVxuKiBKU09OIHNjaGVtYSwgd2hpY2ggaXMgdGhlbiB1c2VkIGFzIHRoZSBwYXJhbWV0ZXJzIGZvciB0aGUgT3BlbkFJIHRvb2wuXG4qXG4qIEBwYXJhbSB7U3RydWN0dXJlZFRvb2xJbnRlcmZhY2UgfCBSdW5uYWJsZVRvb2xMaWtlfSB0b29sIFRoZSB0b29sIHRvIGNvbnZlcnQgdG8gYW4gT3BlbkFJIGZ1bmN0aW9uLlxuKiBAcmV0dXJucyB7RnVuY3Rpb25EZWZpbml0aW9ufSBUaGUgaW5wdXR0ZWQgdG9vbCBpbiBPcGVuQUkgZnVuY3Rpb24gZm9ybWF0LlxuKi9cbmZ1bmN0aW9uIGNvbnZlcnRUb09wZW5BSUZ1bmN0aW9uKHRvb2wsIGZpZWxkcykge1xuXHRjb25zdCBmaWVsZHNDb3B5ID0gdHlwZW9mIGZpZWxkcyA9PT0gXCJudW1iZXJcIiA/IHZvaWQgMCA6IGZpZWxkcztcblx0cmV0dXJuIHtcblx0XHRuYW1lOiB0b29sLm5hbWUsXG5cdFx0ZGVzY3JpcHRpb246IHRvb2wuZGVzY3JpcHRpb24sXG5cdFx0cGFyYW1ldGVyczogdG9Kc29uU2NoZW1hKHRvb2wuc2NoZW1hKSxcblx0XHQuLi5maWVsZHNDb3B5Py5zdHJpY3QgIT09IHZvaWQgMCA/IHsgc3RyaWN0OiBmaWVsZHNDb3B5LnN0cmljdCB9IDoge31cblx0fTtcbn1cbi8qKlxuKiBGb3JtYXRzIGEgYFN0cnVjdHVyZWRUb29sYCBvciBgUnVubmFibGVUb29sTGlrZWAgaW5zdGFuY2UgaW50byBhXG4qIGZvcm1hdCB0aGF0IGlzIGNvbXBhdGlibGUgd2l0aCBPcGVuQUkgdG9vbCBjYWxsaW5nLiBJZiBgU3RydWN0dXJlZFRvb2xgIG9yXG4qIGBSdW5uYWJsZVRvb2xMaWtlYCBoYXMgYSB6b2Qgc2NoZW1hLCB0aGUgb3V0cHV0IHdpbGwgYmUgY29udmVydGVkIGludG8gYVxuKiBKU09OIHNjaGVtYSwgd2hpY2ggaXMgdGhlbiB1c2VkIGFzIHRoZSBwYXJhbWV0ZXJzIGZvciB0aGUgT3BlbkFJIHRvb2wuXG4qXG4qIEBwYXJhbSB7U3RydWN0dXJlZFRvb2xJbnRlcmZhY2UgfCBSZWNvcmQ8c3RyaW5nLCBhbnk+IHwgUnVubmFibGVUb29sTGlrZX0gdG9vbCBUaGUgdG9vbCB0byBjb252ZXJ0IHRvIGFuIE9wZW5BSSB0b29sLlxuKiBAcmV0dXJucyB7VG9vbERlZmluaXRpb259IFRoZSBpbnB1dHRlZCB0b29sIGluIE9wZW5BSSB0b29sIGZvcm1hdC5cbiovXG5mdW5jdGlvbiBjb252ZXJ0VG9PcGVuQUlUb29sKHRvb2wsIGZpZWxkcykge1xuXHRjb25zdCBmaWVsZHNDb3B5ID0gdHlwZW9mIGZpZWxkcyA9PT0gXCJudW1iZXJcIiA/IHZvaWQgMCA6IGZpZWxkcztcblx0bGV0IHRvb2xEZWY7XG5cdGlmIChpc0xhbmdDaGFpblRvb2wodG9vbCkpIHRvb2xEZWYgPSB7XG5cdFx0dHlwZTogXCJmdW5jdGlvblwiLFxuXHRcdGZ1bmN0aW9uOiBjb252ZXJ0VG9PcGVuQUlGdW5jdGlvbih0b29sKVxuXHR9O1xuXHRlbHNlIHRvb2xEZWYgPSB0b29sO1xuXHRpZiAoZmllbGRzQ29weT8uc3RyaWN0ICE9PSB2b2lkIDApIHRvb2xEZWYuZnVuY3Rpb24uc3RyaWN0ID0gZmllbGRzQ29weS5zdHJpY3Q7XG5cdHJldHVybiB0b29sRGVmO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IGNvbnZlcnRUb09wZW5BSUZ1bmN0aW9uLCBjb252ZXJ0VG9PcGVuQUlUb29sLCBmdW5jdGlvbl9jYWxsaW5nX2V4cG9ydHMsIGlzTGFuZ0NoYWluVG9vbCwgaXNSdW5uYWJsZVRvb2xMaWtlLCBpc1N0cnVjdHVyZWRUb29sLCBpc1N0cnVjdHVyZWRUb29sUGFyYW1zIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mdW5jdGlvbl9jYWxsaW5nLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/function_calling.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/hash.js":
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/hash.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   hash_exports: () => (/* binding */ hash_exports),\n/* harmony export */   sha256: () => (/* reexport safe */ _js_sha256_hash_js__WEBPACK_IMPORTED_MODULE_1__.sha256)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _js_sha256_hash_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./js-sha256/hash.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/js-sha256/hash.js\");\n\n\n\n//#region src/utils/hash.ts\nvar hash_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(hash_exports, { sha256: () => _js_sha256_hash_js__WEBPACK_IMPORTED_MODULE_1__.sha256 });\n\n//#endregion\n\n//# sourceMappingURL=hash.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9oYXNoLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBMkQ7QUFDZDs7QUFFN0M7QUFDQTtBQUNBLHNFQUFRLGlCQUFpQixjQUFjLHNEQUFNLEVBQUU7O0FBRS9DO0FBQ2dDO0FBQ2hDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9oYXNoLmpzPzg4NmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19leHBvcnQgfSBmcm9tIFwiLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5qc1wiO1xuaW1wb3J0IHsgc2hhMjU2IH0gZnJvbSBcIi4vanMtc2hhMjU2L2hhc2guanNcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy9oYXNoLnRzXG52YXIgaGFzaF9leHBvcnRzID0ge307XG5fX2V4cG9ydChoYXNoX2V4cG9ydHMsIHsgc2hhMjU2OiAoKSA9PiBzaGEyNTYgfSk7XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgaGFzaF9leHBvcnRzLCBzaGEyNTYgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhhc2guanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/hash.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/js-sha256/hash.js":
/*!************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/js-sha256/hash.js ***!
  \************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sha256: () => (/* binding */ sha256)\n/* harmony export */ });\n\n\n//#region src/utils/js-sha256/hash.ts\nvar HEX_CHARS = \"0123456789abcdef\".split(\"\");\nvar EXTRA = [\n\t-2147483648,\n\t8388608,\n\t32768,\n\t128\n];\nvar SHIFT = [\n\t24,\n\t16,\n\t8,\n\t0\n];\nvar K = [\n\t1116352408,\n\t1899447441,\n\t3049323471,\n\t3921009573,\n\t961987163,\n\t1508970993,\n\t2453635748,\n\t2870763221,\n\t3624381080,\n\t310598401,\n\t607225278,\n\t1426881987,\n\t1925078388,\n\t2162078206,\n\t2614888103,\n\t3248222580,\n\t3835390401,\n\t4022224774,\n\t264347078,\n\t604807628,\n\t770255983,\n\t1249150122,\n\t1555081692,\n\t1996064986,\n\t2554220882,\n\t2821834349,\n\t2952996808,\n\t3210313671,\n\t3336571891,\n\t3584528711,\n\t113926993,\n\t338241895,\n\t666307205,\n\t773529912,\n\t1294757372,\n\t1396182291,\n\t1695183700,\n\t1986661051,\n\t2177026350,\n\t2456956037,\n\t2730485921,\n\t2820302411,\n\t3259730800,\n\t3345764771,\n\t3516065817,\n\t3600352804,\n\t4094571909,\n\t275423344,\n\t430227734,\n\t506948616,\n\t659060556,\n\t883997877,\n\t958139571,\n\t1322822218,\n\t1537002063,\n\t1747873779,\n\t1955562222,\n\t2024104815,\n\t2227730452,\n\t2361852424,\n\t2428436474,\n\t2756734187,\n\t3204031479,\n\t3329325298\n];\nvar blocks = [];\nfunction Sha256(is224, sharedMemory) {\n\tif (sharedMemory) {\n\t\tblocks[0] = blocks[16] = blocks[1] = blocks[2] = blocks[3] = blocks[4] = blocks[5] = blocks[6] = blocks[7] = blocks[8] = blocks[9] = blocks[10] = blocks[11] = blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n\t\tthis.blocks = blocks;\n\t} else this.blocks = [\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0\n\t];\n\tif (is224) {\n\t\tthis.h0 = 3238371032;\n\t\tthis.h1 = 914150663;\n\t\tthis.h2 = 812702999;\n\t\tthis.h3 = 4144912697;\n\t\tthis.h4 = 4290775857;\n\t\tthis.h5 = 1750603025;\n\t\tthis.h6 = 1694076839;\n\t\tthis.h7 = 3204075428;\n\t} else {\n\t\tthis.h0 = 1779033703;\n\t\tthis.h1 = 3144134277;\n\t\tthis.h2 = 1013904242;\n\t\tthis.h3 = 2773480762;\n\t\tthis.h4 = 1359893119;\n\t\tthis.h5 = 2600822924;\n\t\tthis.h6 = 528734635;\n\t\tthis.h7 = 1541459225;\n\t}\n\tthis.block = this.start = this.bytes = this.hBytes = 0;\n\tthis.finalized = this.hashed = false;\n\tthis.first = true;\n\tthis.is224 = is224;\n}\nSha256.prototype.update = function(message) {\n\tif (this.finalized) return;\n\tvar notString, type = typeof message;\n\tif (type !== \"string\") {\n\t\tif (type === \"object\") {\n\t\t\tif (message === null) throw new Error(ERROR);\n\t\t\telse if (ARRAY_BUFFER && message.constructor === ArrayBuffer) message = new Uint8Array(message);\n\t\t\telse if (!Array.isArray(message)) {\n\t\t\t\tif (!ARRAY_BUFFER || !ArrayBuffer.isView(message)) throw new Error(ERROR);\n\t\t\t}\n\t\t} else throw new Error(ERROR);\n\t\tnotString = true;\n\t}\n\tvar code, index = 0, i, length = message.length, blocks$1 = this.blocks;\n\twhile (index < length) {\n\t\tif (this.hashed) {\n\t\t\tthis.hashed = false;\n\t\t\tblocks$1[0] = this.block;\n\t\t\tthis.block = blocks$1[16] = blocks$1[1] = blocks$1[2] = blocks$1[3] = blocks$1[4] = blocks$1[5] = blocks$1[6] = blocks$1[7] = blocks$1[8] = blocks$1[9] = blocks$1[10] = blocks$1[11] = blocks$1[12] = blocks$1[13] = blocks$1[14] = blocks$1[15] = 0;\n\t\t}\n\t\tif (notString) for (i = this.start; index < length && i < 64; ++index) blocks$1[i >>> 2] |= message[index] << SHIFT[i++ & 3];\n\t\telse for (i = this.start; index < length && i < 64; ++index) {\n\t\t\tcode = message.charCodeAt(index);\n\t\t\tif (code < 128) blocks$1[i >>> 2] |= code << SHIFT[i++ & 3];\n\t\t\telse if (code < 2048) {\n\t\t\t\tblocks$1[i >>> 2] |= (192 | code >>> 6) << SHIFT[i++ & 3];\n\t\t\t\tblocks$1[i >>> 2] |= (128 | code & 63) << SHIFT[i++ & 3];\n\t\t\t} else if (code < 55296 || code >= 57344) {\n\t\t\t\tblocks$1[i >>> 2] |= (224 | code >>> 12) << SHIFT[i++ & 3];\n\t\t\t\tblocks$1[i >>> 2] |= (128 | code >>> 6 & 63) << SHIFT[i++ & 3];\n\t\t\t\tblocks$1[i >>> 2] |= (128 | code & 63) << SHIFT[i++ & 3];\n\t\t\t} else {\n\t\t\t\tcode = 65536 + ((code & 1023) << 10 | message.charCodeAt(++index) & 1023);\n\t\t\t\tblocks$1[i >>> 2] |= (240 | code >>> 18) << SHIFT[i++ & 3];\n\t\t\t\tblocks$1[i >>> 2] |= (128 | code >>> 12 & 63) << SHIFT[i++ & 3];\n\t\t\t\tblocks$1[i >>> 2] |= (128 | code >>> 6 & 63) << SHIFT[i++ & 3];\n\t\t\t\tblocks$1[i >>> 2] |= (128 | code & 63) << SHIFT[i++ & 3];\n\t\t\t}\n\t\t}\n\t\tthis.lastByteIndex = i;\n\t\tthis.bytes += i - this.start;\n\t\tif (i >= 64) {\n\t\t\tthis.block = blocks$1[16];\n\t\t\tthis.start = i - 64;\n\t\t\tthis.hash();\n\t\t\tthis.hashed = true;\n\t\t} else this.start = i;\n\t}\n\tif (this.bytes > 4294967295) {\n\t\tthis.hBytes += this.bytes / 4294967296 << 0;\n\t\tthis.bytes = this.bytes % 4294967296;\n\t}\n\treturn this;\n};\nSha256.prototype.finalize = function() {\n\tif (this.finalized) return;\n\tthis.finalized = true;\n\tvar blocks$1 = this.blocks, i = this.lastByteIndex;\n\tblocks$1[16] = this.block;\n\tblocks$1[i >>> 2] |= EXTRA[i & 3];\n\tthis.block = blocks$1[16];\n\tif (i >= 56) {\n\t\tif (!this.hashed) this.hash();\n\t\tblocks$1[0] = this.block;\n\t\tblocks$1[16] = blocks$1[1] = blocks$1[2] = blocks$1[3] = blocks$1[4] = blocks$1[5] = blocks$1[6] = blocks$1[7] = blocks$1[8] = blocks$1[9] = blocks$1[10] = blocks$1[11] = blocks$1[12] = blocks$1[13] = blocks$1[14] = blocks$1[15] = 0;\n\t}\n\tblocks$1[14] = this.hBytes << 3 | this.bytes >>> 29;\n\tblocks$1[15] = this.bytes << 3;\n\tthis.hash();\n};\nSha256.prototype.hash = function() {\n\tvar a = this.h0, b = this.h1, c = this.h2, d = this.h3, e = this.h4, f = this.h5, g = this.h6, h = this.h7, blocks$1 = this.blocks, j, s0, s1, maj, t1, t2, ch, ab, da, cd, bc;\n\tfor (j = 16; j < 64; ++j) {\n\t\tt1 = blocks$1[j - 15];\n\t\ts0 = (t1 >>> 7 | t1 << 25) ^ (t1 >>> 18 | t1 << 14) ^ t1 >>> 3;\n\t\tt1 = blocks$1[j - 2];\n\t\ts1 = (t1 >>> 17 | t1 << 15) ^ (t1 >>> 19 | t1 << 13) ^ t1 >>> 10;\n\t\tblocks$1[j] = blocks$1[j - 16] + s0 + blocks$1[j - 7] + s1 << 0;\n\t}\n\tbc = b & c;\n\tfor (j = 0; j < 64; j += 4) {\n\t\tif (this.first) {\n\t\t\tif (this.is224) {\n\t\t\t\tab = 300032;\n\t\t\t\tt1 = blocks$1[0] - 1413257819;\n\t\t\t\th = t1 - 150054599 << 0;\n\t\t\t\td = t1 + 24177077 << 0;\n\t\t\t} else {\n\t\t\t\tab = 704751109;\n\t\t\t\tt1 = blocks$1[0] - 210244248;\n\t\t\t\th = t1 - 1521486534 << 0;\n\t\t\t\td = t1 + 143694565 << 0;\n\t\t\t}\n\t\t\tthis.first = false;\n\t\t} else {\n\t\t\ts0 = (a >>> 2 | a << 30) ^ (a >>> 13 | a << 19) ^ (a >>> 22 | a << 10);\n\t\t\ts1 = (e >>> 6 | e << 26) ^ (e >>> 11 | e << 21) ^ (e >>> 25 | e << 7);\n\t\t\tab = a & b;\n\t\t\tmaj = ab ^ a & c ^ bc;\n\t\t\tch = e & f ^ ~e & g;\n\t\t\tt1 = h + s1 + ch + K[j] + blocks$1[j];\n\t\t\tt2 = s0 + maj;\n\t\t\th = d + t1 << 0;\n\t\t\td = t1 + t2 << 0;\n\t\t}\n\t\ts0 = (d >>> 2 | d << 30) ^ (d >>> 13 | d << 19) ^ (d >>> 22 | d << 10);\n\t\ts1 = (h >>> 6 | h << 26) ^ (h >>> 11 | h << 21) ^ (h >>> 25 | h << 7);\n\t\tda = d & a;\n\t\tmaj = da ^ d & b ^ ab;\n\t\tch = g & h ^ ~g & e;\n\t\tt1 = f + s1 + ch + K[j + 1] + blocks$1[j + 1];\n\t\tt2 = s0 + maj;\n\t\tg = c + t1 << 0;\n\t\tc = t1 + t2 << 0;\n\t\ts0 = (c >>> 2 | c << 30) ^ (c >>> 13 | c << 19) ^ (c >>> 22 | c << 10);\n\t\ts1 = (g >>> 6 | g << 26) ^ (g >>> 11 | g << 21) ^ (g >>> 25 | g << 7);\n\t\tcd = c & d;\n\t\tmaj = cd ^ c & a ^ da;\n\t\tch = f & g ^ ~f & h;\n\t\tt1 = e + s1 + ch + K[j + 2] + blocks$1[j + 2];\n\t\tt2 = s0 + maj;\n\t\tf = b + t1 << 0;\n\t\tb = t1 + t2 << 0;\n\t\ts0 = (b >>> 2 | b << 30) ^ (b >>> 13 | b << 19) ^ (b >>> 22 | b << 10);\n\t\ts1 = (f >>> 6 | f << 26) ^ (f >>> 11 | f << 21) ^ (f >>> 25 | f << 7);\n\t\tbc = b & c;\n\t\tmaj = bc ^ b & d ^ cd;\n\t\tch = f & g ^ ~f & h;\n\t\tt1 = e + s1 + ch + K[j + 3] + blocks$1[j + 3];\n\t\tt2 = s0 + maj;\n\t\te = a + t1 << 0;\n\t\ta = t1 + t2 << 0;\n\t\tthis.chromeBugWorkAround = true;\n\t}\n\tthis.h0 = this.h0 + a << 0;\n\tthis.h1 = this.h1 + b << 0;\n\tthis.h2 = this.h2 + c << 0;\n\tthis.h3 = this.h3 + d << 0;\n\tthis.h4 = this.h4 + e << 0;\n\tthis.h5 = this.h5 + f << 0;\n\tthis.h6 = this.h6 + g << 0;\n\tthis.h7 = this.h7 + h << 0;\n};\nSha256.prototype.hex = function() {\n\tthis.finalize();\n\tvar h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5, h6 = this.h6, h7 = this.h7;\n\tvar hex = HEX_CHARS[h0 >>> 28 & 15] + HEX_CHARS[h0 >>> 24 & 15] + HEX_CHARS[h0 >>> 20 & 15] + HEX_CHARS[h0 >>> 16 & 15] + HEX_CHARS[h0 >>> 12 & 15] + HEX_CHARS[h0 >>> 8 & 15] + HEX_CHARS[h0 >>> 4 & 15] + HEX_CHARS[h0 & 15] + HEX_CHARS[h1 >>> 28 & 15] + HEX_CHARS[h1 >>> 24 & 15] + HEX_CHARS[h1 >>> 20 & 15] + HEX_CHARS[h1 >>> 16 & 15] + HEX_CHARS[h1 >>> 12 & 15] + HEX_CHARS[h1 >>> 8 & 15] + HEX_CHARS[h1 >>> 4 & 15] + HEX_CHARS[h1 & 15] + HEX_CHARS[h2 >>> 28 & 15] + HEX_CHARS[h2 >>> 24 & 15] + HEX_CHARS[h2 >>> 20 & 15] + HEX_CHARS[h2 >>> 16 & 15] + HEX_CHARS[h2 >>> 12 & 15] + HEX_CHARS[h2 >>> 8 & 15] + HEX_CHARS[h2 >>> 4 & 15] + HEX_CHARS[h2 & 15] + HEX_CHARS[h3 >>> 28 & 15] + HEX_CHARS[h3 >>> 24 & 15] + HEX_CHARS[h3 >>> 20 & 15] + HEX_CHARS[h3 >>> 16 & 15] + HEX_CHARS[h3 >>> 12 & 15] + HEX_CHARS[h3 >>> 8 & 15] + HEX_CHARS[h3 >>> 4 & 15] + HEX_CHARS[h3 & 15] + HEX_CHARS[h4 >>> 28 & 15] + HEX_CHARS[h4 >>> 24 & 15] + HEX_CHARS[h4 >>> 20 & 15] + HEX_CHARS[h4 >>> 16 & 15] + HEX_CHARS[h4 >>> 12 & 15] + HEX_CHARS[h4 >>> 8 & 15] + HEX_CHARS[h4 >>> 4 & 15] + HEX_CHARS[h4 & 15] + HEX_CHARS[h5 >>> 28 & 15] + HEX_CHARS[h5 >>> 24 & 15] + HEX_CHARS[h5 >>> 20 & 15] + HEX_CHARS[h5 >>> 16 & 15] + HEX_CHARS[h5 >>> 12 & 15] + HEX_CHARS[h5 >>> 8 & 15] + HEX_CHARS[h5 >>> 4 & 15] + HEX_CHARS[h5 & 15] + HEX_CHARS[h6 >>> 28 & 15] + HEX_CHARS[h6 >>> 24 & 15] + HEX_CHARS[h6 >>> 20 & 15] + HEX_CHARS[h6 >>> 16 & 15] + HEX_CHARS[h6 >>> 12 & 15] + HEX_CHARS[h6 >>> 8 & 15] + HEX_CHARS[h6 >>> 4 & 15] + HEX_CHARS[h6 & 15];\n\tif (!this.is224) hex += HEX_CHARS[h7 >>> 28 & 15] + HEX_CHARS[h7 >>> 24 & 15] + HEX_CHARS[h7 >>> 20 & 15] + HEX_CHARS[h7 >>> 16 & 15] + HEX_CHARS[h7 >>> 12 & 15] + HEX_CHARS[h7 >>> 8 & 15] + HEX_CHARS[h7 >>> 4 & 15] + HEX_CHARS[h7 & 15];\n\treturn hex;\n};\nSha256.prototype.toString = Sha256.prototype.hex;\nSha256.prototype.digest = function() {\n\tthis.finalize();\n\tvar h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5, h6 = this.h6, h7 = this.h7;\n\tvar arr = [\n\t\th0 >>> 24 & 255,\n\t\th0 >>> 16 & 255,\n\t\th0 >>> 8 & 255,\n\t\th0 & 255,\n\t\th1 >>> 24 & 255,\n\t\th1 >>> 16 & 255,\n\t\th1 >>> 8 & 255,\n\t\th1 & 255,\n\t\th2 >>> 24 & 255,\n\t\th2 >>> 16 & 255,\n\t\th2 >>> 8 & 255,\n\t\th2 & 255,\n\t\th3 >>> 24 & 255,\n\t\th3 >>> 16 & 255,\n\t\th3 >>> 8 & 255,\n\t\th3 & 255,\n\t\th4 >>> 24 & 255,\n\t\th4 >>> 16 & 255,\n\t\th4 >>> 8 & 255,\n\t\th4 & 255,\n\t\th5 >>> 24 & 255,\n\t\th5 >>> 16 & 255,\n\t\th5 >>> 8 & 255,\n\t\th5 & 255,\n\t\th6 >>> 24 & 255,\n\t\th6 >>> 16 & 255,\n\t\th6 >>> 8 & 255,\n\t\th6 & 255\n\t];\n\tif (!this.is224) arr.push(h7 >>> 24 & 255, h7 >>> 16 & 255, h7 >>> 8 & 255, h7 & 255);\n\treturn arr;\n};\nSha256.prototype.array = Sha256.prototype.digest;\nSha256.prototype.arrayBuffer = function() {\n\tthis.finalize();\n\tvar buffer = /* @__PURE__ */ new ArrayBuffer(this.is224 ? 28 : 32);\n\tvar dataView = new DataView(buffer);\n\tdataView.setUint32(0, this.h0);\n\tdataView.setUint32(4, this.h1);\n\tdataView.setUint32(8, this.h2);\n\tdataView.setUint32(12, this.h3);\n\tdataView.setUint32(16, this.h4);\n\tdataView.setUint32(20, this.h5);\n\tdataView.setUint32(24, this.h6);\n\tif (!this.is224) dataView.setUint32(28, this.h7);\n\treturn buffer;\n};\nconst sha256 = (...strings) => {\n\treturn new Sha256(false, true).update(strings.join(\"\")).hex();\n};\n\n//#endregion\n\n//# sourceMappingURL=hash.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9qcy1zaGEyNTYvaGFzaC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQywwQkFBMEI7QUFDaEUsNEJBQTRCLDBCQUEwQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNrQjtBQUNsQiIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvanMtc2hhMjU2L2hhc2guanM/MmFlNyJdLCJzb3VyY2VzQ29udGVudCI6WyJcblxuLy8jcmVnaW9uIHNyYy91dGlscy9qcy1zaGEyNTYvaGFzaC50c1xudmFyIEhFWF9DSEFSUyA9IFwiMDEyMzQ1Njc4OWFiY2RlZlwiLnNwbGl0KFwiXCIpO1xudmFyIEVYVFJBID0gW1xuXHQtMjE0NzQ4MzY0OCxcblx0ODM4ODYwOCxcblx0MzI3NjgsXG5cdDEyOFxuXTtcbnZhciBTSElGVCA9IFtcblx0MjQsXG5cdDE2LFxuXHQ4LFxuXHQwXG5dO1xudmFyIEsgPSBbXG5cdDExMTYzNTI0MDgsXG5cdDE4OTk0NDc0NDEsXG5cdDMwNDkzMjM0NzEsXG5cdDM5MjEwMDk1NzMsXG5cdDk2MTk4NzE2Myxcblx0MTUwODk3MDk5Myxcblx0MjQ1MzYzNTc0OCxcblx0Mjg3MDc2MzIyMSxcblx0MzYyNDM4MTA4MCxcblx0MzEwNTk4NDAxLFxuXHQ2MDcyMjUyNzgsXG5cdDE0MjY4ODE5ODcsXG5cdDE5MjUwNzgzODgsXG5cdDIxNjIwNzgyMDYsXG5cdDI2MTQ4ODgxMDMsXG5cdDMyNDgyMjI1ODAsXG5cdDM4MzUzOTA0MDEsXG5cdDQwMjIyMjQ3NzQsXG5cdDI2NDM0NzA3OCxcblx0NjA0ODA3NjI4LFxuXHQ3NzAyNTU5ODMsXG5cdDEyNDkxNTAxMjIsXG5cdDE1NTUwODE2OTIsXG5cdDE5OTYwNjQ5ODYsXG5cdDI1NTQyMjA4ODIsXG5cdDI4MjE4MzQzNDksXG5cdDI5NTI5OTY4MDgsXG5cdDMyMTAzMTM2NzEsXG5cdDMzMzY1NzE4OTEsXG5cdDM1ODQ1Mjg3MTEsXG5cdDExMzkyNjk5Myxcblx0MzM4MjQxODk1LFxuXHQ2NjYzMDcyMDUsXG5cdDc3MzUyOTkxMixcblx0MTI5NDc1NzM3Mixcblx0MTM5NjE4MjI5MSxcblx0MTY5NTE4MzcwMCxcblx0MTk4NjY2MTA1MSxcblx0MjE3NzAyNjM1MCxcblx0MjQ1Njk1NjAzNyxcblx0MjczMDQ4NTkyMSxcblx0MjgyMDMwMjQxMSxcblx0MzI1OTczMDgwMCxcblx0MzM0NTc2NDc3MSxcblx0MzUxNjA2NTgxNyxcblx0MzYwMDM1MjgwNCxcblx0NDA5NDU3MTkwOSxcblx0Mjc1NDIzMzQ0LFxuXHQ0MzAyMjc3MzQsXG5cdDUwNjk0ODYxNixcblx0NjU5MDYwNTU2LFxuXHQ4ODM5OTc4NzcsXG5cdDk1ODEzOTU3MSxcblx0MTMyMjgyMjIxOCxcblx0MTUzNzAwMjA2Myxcblx0MTc0Nzg3Mzc3OSxcblx0MTk1NTU2MjIyMixcblx0MjAyNDEwNDgxNSxcblx0MjIyNzczMDQ1Mixcblx0MjM2MTg1MjQyNCxcblx0MjQyODQzNjQ3NCxcblx0Mjc1NjczNDE4Nyxcblx0MzIwNDAzMTQ3OSxcblx0MzMyOTMyNTI5OFxuXTtcbnZhciBibG9ja3MgPSBbXTtcbmZ1bmN0aW9uIFNoYTI1NihpczIyNCwgc2hhcmVkTWVtb3J5KSB7XG5cdGlmIChzaGFyZWRNZW1vcnkpIHtcblx0XHRibG9ja3NbMF0gPSBibG9ja3NbMTZdID0gYmxvY2tzWzFdID0gYmxvY2tzWzJdID0gYmxvY2tzWzNdID0gYmxvY2tzWzRdID0gYmxvY2tzWzVdID0gYmxvY2tzWzZdID0gYmxvY2tzWzddID0gYmxvY2tzWzhdID0gYmxvY2tzWzldID0gYmxvY2tzWzEwXSA9IGJsb2Nrc1sxMV0gPSBibG9ja3NbMTJdID0gYmxvY2tzWzEzXSA9IGJsb2Nrc1sxNF0gPSBibG9ja3NbMTVdID0gMDtcblx0XHR0aGlzLmJsb2NrcyA9IGJsb2Nrcztcblx0fSBlbHNlIHRoaXMuYmxvY2tzID0gW1xuXHRcdDAsXG5cdFx0MCxcblx0XHQwLFxuXHRcdDAsXG5cdFx0MCxcblx0XHQwLFxuXHRcdDAsXG5cdFx0MCxcblx0XHQwLFxuXHRcdDAsXG5cdFx0MCxcblx0XHQwLFxuXHRcdDAsXG5cdFx0MCxcblx0XHQwLFxuXHRcdDAsXG5cdFx0MFxuXHRdO1xuXHRpZiAoaXMyMjQpIHtcblx0XHR0aGlzLmgwID0gMzIzODM3MTAzMjtcblx0XHR0aGlzLmgxID0gOTE0MTUwNjYzO1xuXHRcdHRoaXMuaDIgPSA4MTI3MDI5OTk7XG5cdFx0dGhpcy5oMyA9IDQxNDQ5MTI2OTc7XG5cdFx0dGhpcy5oNCA9IDQyOTA3NzU4NTc7XG5cdFx0dGhpcy5oNSA9IDE3NTA2MDMwMjU7XG5cdFx0dGhpcy5oNiA9IDE2OTQwNzY4Mzk7XG5cdFx0dGhpcy5oNyA9IDMyMDQwNzU0Mjg7XG5cdH0gZWxzZSB7XG5cdFx0dGhpcy5oMCA9IDE3NzkwMzM3MDM7XG5cdFx0dGhpcy5oMSA9IDMxNDQxMzQyNzc7XG5cdFx0dGhpcy5oMiA9IDEwMTM5MDQyNDI7XG5cdFx0dGhpcy5oMyA9IDI3NzM0ODA3NjI7XG5cdFx0dGhpcy5oNCA9IDEzNTk4OTMxMTk7XG5cdFx0dGhpcy5oNSA9IDI2MDA4MjI5MjQ7XG5cdFx0dGhpcy5oNiA9IDUyODczNDYzNTtcblx0XHR0aGlzLmg3ID0gMTU0MTQ1OTIyNTtcblx0fVxuXHR0aGlzLmJsb2NrID0gdGhpcy5zdGFydCA9IHRoaXMuYnl0ZXMgPSB0aGlzLmhCeXRlcyA9IDA7XG5cdHRoaXMuZmluYWxpemVkID0gdGhpcy5oYXNoZWQgPSBmYWxzZTtcblx0dGhpcy5maXJzdCA9IHRydWU7XG5cdHRoaXMuaXMyMjQgPSBpczIyNDtcbn1cblNoYTI1Ni5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24obWVzc2FnZSkge1xuXHRpZiAodGhpcy5maW5hbGl6ZWQpIHJldHVybjtcblx0dmFyIG5vdFN0cmluZywgdHlwZSA9IHR5cGVvZiBtZXNzYWdlO1xuXHRpZiAodHlwZSAhPT0gXCJzdHJpbmdcIikge1xuXHRcdGlmICh0eXBlID09PSBcIm9iamVjdFwiKSB7XG5cdFx0XHRpZiAobWVzc2FnZSA9PT0gbnVsbCkgdGhyb3cgbmV3IEVycm9yKEVSUk9SKTtcblx0XHRcdGVsc2UgaWYgKEFSUkFZX0JVRkZFUiAmJiBtZXNzYWdlLmNvbnN0cnVjdG9yID09PSBBcnJheUJ1ZmZlcikgbWVzc2FnZSA9IG5ldyBVaW50OEFycmF5KG1lc3NhZ2UpO1xuXHRcdFx0ZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkobWVzc2FnZSkpIHtcblx0XHRcdFx0aWYgKCFBUlJBWV9CVUZGRVIgfHwgIUFycmF5QnVmZmVyLmlzVmlldyhtZXNzYWdlKSkgdGhyb3cgbmV3IEVycm9yKEVSUk9SKTtcblx0XHRcdH1cblx0XHR9IGVsc2UgdGhyb3cgbmV3IEVycm9yKEVSUk9SKTtcblx0XHRub3RTdHJpbmcgPSB0cnVlO1xuXHR9XG5cdHZhciBjb2RlLCBpbmRleCA9IDAsIGksIGxlbmd0aCA9IG1lc3NhZ2UubGVuZ3RoLCBibG9ja3MkMSA9IHRoaXMuYmxvY2tzO1xuXHR3aGlsZSAoaW5kZXggPCBsZW5ndGgpIHtcblx0XHRpZiAodGhpcy5oYXNoZWQpIHtcblx0XHRcdHRoaXMuaGFzaGVkID0gZmFsc2U7XG5cdFx0XHRibG9ja3MkMVswXSA9IHRoaXMuYmxvY2s7XG5cdFx0XHR0aGlzLmJsb2NrID0gYmxvY2tzJDFbMTZdID0gYmxvY2tzJDFbMV0gPSBibG9ja3MkMVsyXSA9IGJsb2NrcyQxWzNdID0gYmxvY2tzJDFbNF0gPSBibG9ja3MkMVs1XSA9IGJsb2NrcyQxWzZdID0gYmxvY2tzJDFbN10gPSBibG9ja3MkMVs4XSA9IGJsb2NrcyQxWzldID0gYmxvY2tzJDFbMTBdID0gYmxvY2tzJDFbMTFdID0gYmxvY2tzJDFbMTJdID0gYmxvY2tzJDFbMTNdID0gYmxvY2tzJDFbMTRdID0gYmxvY2tzJDFbMTVdID0gMDtcblx0XHR9XG5cdFx0aWYgKG5vdFN0cmluZykgZm9yIChpID0gdGhpcy5zdGFydDsgaW5kZXggPCBsZW5ndGggJiYgaSA8IDY0OyArK2luZGV4KSBibG9ja3MkMVtpID4+PiAyXSB8PSBtZXNzYWdlW2luZGV4XSA8PCBTSElGVFtpKysgJiAzXTtcblx0XHRlbHNlIGZvciAoaSA9IHRoaXMuc3RhcnQ7IGluZGV4IDwgbGVuZ3RoICYmIGkgPCA2NDsgKytpbmRleCkge1xuXHRcdFx0Y29kZSA9IG1lc3NhZ2UuY2hhckNvZGVBdChpbmRleCk7XG5cdFx0XHRpZiAoY29kZSA8IDEyOCkgYmxvY2tzJDFbaSA+Pj4gMl0gfD0gY29kZSA8PCBTSElGVFtpKysgJiAzXTtcblx0XHRcdGVsc2UgaWYgKGNvZGUgPCAyMDQ4KSB7XG5cdFx0XHRcdGJsb2NrcyQxW2kgPj4+IDJdIHw9ICgxOTIgfCBjb2RlID4+PiA2KSA8PCBTSElGVFtpKysgJiAzXTtcblx0XHRcdFx0YmxvY2tzJDFbaSA+Pj4gMl0gfD0gKDEyOCB8IGNvZGUgJiA2MykgPDwgU0hJRlRbaSsrICYgM107XG5cdFx0XHR9IGVsc2UgaWYgKGNvZGUgPCA1NTI5NiB8fCBjb2RlID49IDU3MzQ0KSB7XG5cdFx0XHRcdGJsb2NrcyQxW2kgPj4+IDJdIHw9ICgyMjQgfCBjb2RlID4+PiAxMikgPDwgU0hJRlRbaSsrICYgM107XG5cdFx0XHRcdGJsb2NrcyQxW2kgPj4+IDJdIHw9ICgxMjggfCBjb2RlID4+PiA2ICYgNjMpIDw8IFNISUZUW2krKyAmIDNdO1xuXHRcdFx0XHRibG9ja3MkMVtpID4+PiAyXSB8PSAoMTI4IHwgY29kZSAmIDYzKSA8PCBTSElGVFtpKysgJiAzXTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvZGUgPSA2NTUzNiArICgoY29kZSAmIDEwMjMpIDw8IDEwIHwgbWVzc2FnZS5jaGFyQ29kZUF0KCsraW5kZXgpICYgMTAyMyk7XG5cdFx0XHRcdGJsb2NrcyQxW2kgPj4+IDJdIHw9ICgyNDAgfCBjb2RlID4+PiAxOCkgPDwgU0hJRlRbaSsrICYgM107XG5cdFx0XHRcdGJsb2NrcyQxW2kgPj4+IDJdIHw9ICgxMjggfCBjb2RlID4+PiAxMiAmIDYzKSA8PCBTSElGVFtpKysgJiAzXTtcblx0XHRcdFx0YmxvY2tzJDFbaSA+Pj4gMl0gfD0gKDEyOCB8IGNvZGUgPj4+IDYgJiA2MykgPDwgU0hJRlRbaSsrICYgM107XG5cdFx0XHRcdGJsb2NrcyQxW2kgPj4+IDJdIHw9ICgxMjggfCBjb2RlICYgNjMpIDw8IFNISUZUW2krKyAmIDNdO1xuXHRcdFx0fVxuXHRcdH1cblx0XHR0aGlzLmxhc3RCeXRlSW5kZXggPSBpO1xuXHRcdHRoaXMuYnl0ZXMgKz0gaSAtIHRoaXMuc3RhcnQ7XG5cdFx0aWYgKGkgPj0gNjQpIHtcblx0XHRcdHRoaXMuYmxvY2sgPSBibG9ja3MkMVsxNl07XG5cdFx0XHR0aGlzLnN0YXJ0ID0gaSAtIDY0O1xuXHRcdFx0dGhpcy5oYXNoKCk7XG5cdFx0XHR0aGlzLmhhc2hlZCA9IHRydWU7XG5cdFx0fSBlbHNlIHRoaXMuc3RhcnQgPSBpO1xuXHR9XG5cdGlmICh0aGlzLmJ5dGVzID4gNDI5NDk2NzI5NSkge1xuXHRcdHRoaXMuaEJ5dGVzICs9IHRoaXMuYnl0ZXMgLyA0Mjk0OTY3Mjk2IDw8IDA7XG5cdFx0dGhpcy5ieXRlcyA9IHRoaXMuYnl0ZXMgJSA0Mjk0OTY3Mjk2O1xuXHR9XG5cdHJldHVybiB0aGlzO1xufTtcblNoYTI1Ni5wcm90b3R5cGUuZmluYWxpemUgPSBmdW5jdGlvbigpIHtcblx0aWYgKHRoaXMuZmluYWxpemVkKSByZXR1cm47XG5cdHRoaXMuZmluYWxpemVkID0gdHJ1ZTtcblx0dmFyIGJsb2NrcyQxID0gdGhpcy5ibG9ja3MsIGkgPSB0aGlzLmxhc3RCeXRlSW5kZXg7XG5cdGJsb2NrcyQxWzE2XSA9IHRoaXMuYmxvY2s7XG5cdGJsb2NrcyQxW2kgPj4+IDJdIHw9IEVYVFJBW2kgJiAzXTtcblx0dGhpcy5ibG9jayA9IGJsb2NrcyQxWzE2XTtcblx0aWYgKGkgPj0gNTYpIHtcblx0XHRpZiAoIXRoaXMuaGFzaGVkKSB0aGlzLmhhc2goKTtcblx0XHRibG9ja3MkMVswXSA9IHRoaXMuYmxvY2s7XG5cdFx0YmxvY2tzJDFbMTZdID0gYmxvY2tzJDFbMV0gPSBibG9ja3MkMVsyXSA9IGJsb2NrcyQxWzNdID0gYmxvY2tzJDFbNF0gPSBibG9ja3MkMVs1XSA9IGJsb2NrcyQxWzZdID0gYmxvY2tzJDFbN10gPSBibG9ja3MkMVs4XSA9IGJsb2NrcyQxWzldID0gYmxvY2tzJDFbMTBdID0gYmxvY2tzJDFbMTFdID0gYmxvY2tzJDFbMTJdID0gYmxvY2tzJDFbMTNdID0gYmxvY2tzJDFbMTRdID0gYmxvY2tzJDFbMTVdID0gMDtcblx0fVxuXHRibG9ja3MkMVsxNF0gPSB0aGlzLmhCeXRlcyA8PCAzIHwgdGhpcy5ieXRlcyA+Pj4gMjk7XG5cdGJsb2NrcyQxWzE1XSA9IHRoaXMuYnl0ZXMgPDwgMztcblx0dGhpcy5oYXNoKCk7XG59O1xuU2hhMjU2LnByb3RvdHlwZS5oYXNoID0gZnVuY3Rpb24oKSB7XG5cdHZhciBhID0gdGhpcy5oMCwgYiA9IHRoaXMuaDEsIGMgPSB0aGlzLmgyLCBkID0gdGhpcy5oMywgZSA9IHRoaXMuaDQsIGYgPSB0aGlzLmg1LCBnID0gdGhpcy5oNiwgaCA9IHRoaXMuaDcsIGJsb2NrcyQxID0gdGhpcy5ibG9ja3MsIGosIHMwLCBzMSwgbWFqLCB0MSwgdDIsIGNoLCBhYiwgZGEsIGNkLCBiYztcblx0Zm9yIChqID0gMTY7IGogPCA2NDsgKytqKSB7XG5cdFx0dDEgPSBibG9ja3MkMVtqIC0gMTVdO1xuXHRcdHMwID0gKHQxID4+PiA3IHwgdDEgPDwgMjUpIF4gKHQxID4+PiAxOCB8IHQxIDw8IDE0KSBeIHQxID4+PiAzO1xuXHRcdHQxID0gYmxvY2tzJDFbaiAtIDJdO1xuXHRcdHMxID0gKHQxID4+PiAxNyB8IHQxIDw8IDE1KSBeICh0MSA+Pj4gMTkgfCB0MSA8PCAxMykgXiB0MSA+Pj4gMTA7XG5cdFx0YmxvY2tzJDFbal0gPSBibG9ja3MkMVtqIC0gMTZdICsgczAgKyBibG9ja3MkMVtqIC0gN10gKyBzMSA8PCAwO1xuXHR9XG5cdGJjID0gYiAmIGM7XG5cdGZvciAoaiA9IDA7IGogPCA2NDsgaiArPSA0KSB7XG5cdFx0aWYgKHRoaXMuZmlyc3QpIHtcblx0XHRcdGlmICh0aGlzLmlzMjI0KSB7XG5cdFx0XHRcdGFiID0gMzAwMDMyO1xuXHRcdFx0XHR0MSA9IGJsb2NrcyQxWzBdIC0gMTQxMzI1NzgxOTtcblx0XHRcdFx0aCA9IHQxIC0gMTUwMDU0NTk5IDw8IDA7XG5cdFx0XHRcdGQgPSB0MSArIDI0MTc3MDc3IDw8IDA7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRhYiA9IDcwNDc1MTEwOTtcblx0XHRcdFx0dDEgPSBibG9ja3MkMVswXSAtIDIxMDI0NDI0ODtcblx0XHRcdFx0aCA9IHQxIC0gMTUyMTQ4NjUzNCA8PCAwO1xuXHRcdFx0XHRkID0gdDEgKyAxNDM2OTQ1NjUgPDwgMDtcblx0XHRcdH1cblx0XHRcdHRoaXMuZmlyc3QgPSBmYWxzZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0czAgPSAoYSA+Pj4gMiB8IGEgPDwgMzApIF4gKGEgPj4+IDEzIHwgYSA8PCAxOSkgXiAoYSA+Pj4gMjIgfCBhIDw8IDEwKTtcblx0XHRcdHMxID0gKGUgPj4+IDYgfCBlIDw8IDI2KSBeIChlID4+PiAxMSB8IGUgPDwgMjEpIF4gKGUgPj4+IDI1IHwgZSA8PCA3KTtcblx0XHRcdGFiID0gYSAmIGI7XG5cdFx0XHRtYWogPSBhYiBeIGEgJiBjIF4gYmM7XG5cdFx0XHRjaCA9IGUgJiBmIF4gfmUgJiBnO1xuXHRcdFx0dDEgPSBoICsgczEgKyBjaCArIEtbal0gKyBibG9ja3MkMVtqXTtcblx0XHRcdHQyID0gczAgKyBtYWo7XG5cdFx0XHRoID0gZCArIHQxIDw8IDA7XG5cdFx0XHRkID0gdDEgKyB0MiA8PCAwO1xuXHRcdH1cblx0XHRzMCA9IChkID4+PiAyIHwgZCA8PCAzMCkgXiAoZCA+Pj4gMTMgfCBkIDw8IDE5KSBeIChkID4+PiAyMiB8IGQgPDwgMTApO1xuXHRcdHMxID0gKGggPj4+IDYgfCBoIDw8IDI2KSBeIChoID4+PiAxMSB8IGggPDwgMjEpIF4gKGggPj4+IDI1IHwgaCA8PCA3KTtcblx0XHRkYSA9IGQgJiBhO1xuXHRcdG1haiA9IGRhIF4gZCAmIGIgXiBhYjtcblx0XHRjaCA9IGcgJiBoIF4gfmcgJiBlO1xuXHRcdHQxID0gZiArIHMxICsgY2ggKyBLW2ogKyAxXSArIGJsb2NrcyQxW2ogKyAxXTtcblx0XHR0MiA9IHMwICsgbWFqO1xuXHRcdGcgPSBjICsgdDEgPDwgMDtcblx0XHRjID0gdDEgKyB0MiA8PCAwO1xuXHRcdHMwID0gKGMgPj4+IDIgfCBjIDw8IDMwKSBeIChjID4+PiAxMyB8IGMgPDwgMTkpIF4gKGMgPj4+IDIyIHwgYyA8PCAxMCk7XG5cdFx0czEgPSAoZyA+Pj4gNiB8IGcgPDwgMjYpIF4gKGcgPj4+IDExIHwgZyA8PCAyMSkgXiAoZyA+Pj4gMjUgfCBnIDw8IDcpO1xuXHRcdGNkID0gYyAmIGQ7XG5cdFx0bWFqID0gY2QgXiBjICYgYSBeIGRhO1xuXHRcdGNoID0gZiAmIGcgXiB+ZiAmIGg7XG5cdFx0dDEgPSBlICsgczEgKyBjaCArIEtbaiArIDJdICsgYmxvY2tzJDFbaiArIDJdO1xuXHRcdHQyID0gczAgKyBtYWo7XG5cdFx0ZiA9IGIgKyB0MSA8PCAwO1xuXHRcdGIgPSB0MSArIHQyIDw8IDA7XG5cdFx0czAgPSAoYiA+Pj4gMiB8IGIgPDwgMzApIF4gKGIgPj4+IDEzIHwgYiA8PCAxOSkgXiAoYiA+Pj4gMjIgfCBiIDw8IDEwKTtcblx0XHRzMSA9IChmID4+PiA2IHwgZiA8PCAyNikgXiAoZiA+Pj4gMTEgfCBmIDw8IDIxKSBeIChmID4+PiAyNSB8IGYgPDwgNyk7XG5cdFx0YmMgPSBiICYgYztcblx0XHRtYWogPSBiYyBeIGIgJiBkIF4gY2Q7XG5cdFx0Y2ggPSBmICYgZyBeIH5mICYgaDtcblx0XHR0MSA9IGUgKyBzMSArIGNoICsgS1tqICsgM10gKyBibG9ja3MkMVtqICsgM107XG5cdFx0dDIgPSBzMCArIG1hajtcblx0XHRlID0gYSArIHQxIDw8IDA7XG5cdFx0YSA9IHQxICsgdDIgPDwgMDtcblx0XHR0aGlzLmNocm9tZUJ1Z1dvcmtBcm91bmQgPSB0cnVlO1xuXHR9XG5cdHRoaXMuaDAgPSB0aGlzLmgwICsgYSA8PCAwO1xuXHR0aGlzLmgxID0gdGhpcy5oMSArIGIgPDwgMDtcblx0dGhpcy5oMiA9IHRoaXMuaDIgKyBjIDw8IDA7XG5cdHRoaXMuaDMgPSB0aGlzLmgzICsgZCA8PCAwO1xuXHR0aGlzLmg0ID0gdGhpcy5oNCArIGUgPDwgMDtcblx0dGhpcy5oNSA9IHRoaXMuaDUgKyBmIDw8IDA7XG5cdHRoaXMuaDYgPSB0aGlzLmg2ICsgZyA8PCAwO1xuXHR0aGlzLmg3ID0gdGhpcy5oNyArIGggPDwgMDtcbn07XG5TaGEyNTYucHJvdG90eXBlLmhleCA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLmZpbmFsaXplKCk7XG5cdHZhciBoMCA9IHRoaXMuaDAsIGgxID0gdGhpcy5oMSwgaDIgPSB0aGlzLmgyLCBoMyA9IHRoaXMuaDMsIGg0ID0gdGhpcy5oNCwgaDUgPSB0aGlzLmg1LCBoNiA9IHRoaXMuaDYsIGg3ID0gdGhpcy5oNztcblx0dmFyIGhleCA9IEhFWF9DSEFSU1toMCA+Pj4gMjggJiAxNV0gKyBIRVhfQ0hBUlNbaDAgPj4+IDI0ICYgMTVdICsgSEVYX0NIQVJTW2gwID4+PiAyMCAmIDE1XSArIEhFWF9DSEFSU1toMCA+Pj4gMTYgJiAxNV0gKyBIRVhfQ0hBUlNbaDAgPj4+IDEyICYgMTVdICsgSEVYX0NIQVJTW2gwID4+PiA4ICYgMTVdICsgSEVYX0NIQVJTW2gwID4+PiA0ICYgMTVdICsgSEVYX0NIQVJTW2gwICYgMTVdICsgSEVYX0NIQVJTW2gxID4+PiAyOCAmIDE1XSArIEhFWF9DSEFSU1toMSA+Pj4gMjQgJiAxNV0gKyBIRVhfQ0hBUlNbaDEgPj4+IDIwICYgMTVdICsgSEVYX0NIQVJTW2gxID4+PiAxNiAmIDE1XSArIEhFWF9DSEFSU1toMSA+Pj4gMTIgJiAxNV0gKyBIRVhfQ0hBUlNbaDEgPj4+IDggJiAxNV0gKyBIRVhfQ0hBUlNbaDEgPj4+IDQgJiAxNV0gKyBIRVhfQ0hBUlNbaDEgJiAxNV0gKyBIRVhfQ0hBUlNbaDIgPj4+IDI4ICYgMTVdICsgSEVYX0NIQVJTW2gyID4+PiAyNCAmIDE1XSArIEhFWF9DSEFSU1toMiA+Pj4gMjAgJiAxNV0gKyBIRVhfQ0hBUlNbaDIgPj4+IDE2ICYgMTVdICsgSEVYX0NIQVJTW2gyID4+PiAxMiAmIDE1XSArIEhFWF9DSEFSU1toMiA+Pj4gOCAmIDE1XSArIEhFWF9DSEFSU1toMiA+Pj4gNCAmIDE1XSArIEhFWF9DSEFSU1toMiAmIDE1XSArIEhFWF9DSEFSU1toMyA+Pj4gMjggJiAxNV0gKyBIRVhfQ0hBUlNbaDMgPj4+IDI0ICYgMTVdICsgSEVYX0NIQVJTW2gzID4+PiAyMCAmIDE1XSArIEhFWF9DSEFSU1toMyA+Pj4gMTYgJiAxNV0gKyBIRVhfQ0hBUlNbaDMgPj4+IDEyICYgMTVdICsgSEVYX0NIQVJTW2gzID4+PiA4ICYgMTVdICsgSEVYX0NIQVJTW2gzID4+PiA0ICYgMTVdICsgSEVYX0NIQVJTW2gzICYgMTVdICsgSEVYX0NIQVJTW2g0ID4+PiAyOCAmIDE1XSArIEhFWF9DSEFSU1toNCA+Pj4gMjQgJiAxNV0gKyBIRVhfQ0hBUlNbaDQgPj4+IDIwICYgMTVdICsgSEVYX0NIQVJTW2g0ID4+PiAxNiAmIDE1XSArIEhFWF9DSEFSU1toNCA+Pj4gMTIgJiAxNV0gKyBIRVhfQ0hBUlNbaDQgPj4+IDggJiAxNV0gKyBIRVhfQ0hBUlNbaDQgPj4+IDQgJiAxNV0gKyBIRVhfQ0hBUlNbaDQgJiAxNV0gKyBIRVhfQ0hBUlNbaDUgPj4+IDI4ICYgMTVdICsgSEVYX0NIQVJTW2g1ID4+PiAyNCAmIDE1XSArIEhFWF9DSEFSU1toNSA+Pj4gMjAgJiAxNV0gKyBIRVhfQ0hBUlNbaDUgPj4+IDE2ICYgMTVdICsgSEVYX0NIQVJTW2g1ID4+PiAxMiAmIDE1XSArIEhFWF9DSEFSU1toNSA+Pj4gOCAmIDE1XSArIEhFWF9DSEFSU1toNSA+Pj4gNCAmIDE1XSArIEhFWF9DSEFSU1toNSAmIDE1XSArIEhFWF9DSEFSU1toNiA+Pj4gMjggJiAxNV0gKyBIRVhfQ0hBUlNbaDYgPj4+IDI0ICYgMTVdICsgSEVYX0NIQVJTW2g2ID4+PiAyMCAmIDE1XSArIEhFWF9DSEFSU1toNiA+Pj4gMTYgJiAxNV0gKyBIRVhfQ0hBUlNbaDYgPj4+IDEyICYgMTVdICsgSEVYX0NIQVJTW2g2ID4+PiA4ICYgMTVdICsgSEVYX0NIQVJTW2g2ID4+PiA0ICYgMTVdICsgSEVYX0NIQVJTW2g2ICYgMTVdO1xuXHRpZiAoIXRoaXMuaXMyMjQpIGhleCArPSBIRVhfQ0hBUlNbaDcgPj4+IDI4ICYgMTVdICsgSEVYX0NIQVJTW2g3ID4+PiAyNCAmIDE1XSArIEhFWF9DSEFSU1toNyA+Pj4gMjAgJiAxNV0gKyBIRVhfQ0hBUlNbaDcgPj4+IDE2ICYgMTVdICsgSEVYX0NIQVJTW2g3ID4+PiAxMiAmIDE1XSArIEhFWF9DSEFSU1toNyA+Pj4gOCAmIDE1XSArIEhFWF9DSEFSU1toNyA+Pj4gNCAmIDE1XSArIEhFWF9DSEFSU1toNyAmIDE1XTtcblx0cmV0dXJuIGhleDtcbn07XG5TaGEyNTYucHJvdG90eXBlLnRvU3RyaW5nID0gU2hhMjU2LnByb3RvdHlwZS5oZXg7XG5TaGEyNTYucHJvdG90eXBlLmRpZ2VzdCA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLmZpbmFsaXplKCk7XG5cdHZhciBoMCA9IHRoaXMuaDAsIGgxID0gdGhpcy5oMSwgaDIgPSB0aGlzLmgyLCBoMyA9IHRoaXMuaDMsIGg0ID0gdGhpcy5oNCwgaDUgPSB0aGlzLmg1LCBoNiA9IHRoaXMuaDYsIGg3ID0gdGhpcy5oNztcblx0dmFyIGFyciA9IFtcblx0XHRoMCA+Pj4gMjQgJiAyNTUsXG5cdFx0aDAgPj4+IDE2ICYgMjU1LFxuXHRcdGgwID4+PiA4ICYgMjU1LFxuXHRcdGgwICYgMjU1LFxuXHRcdGgxID4+PiAyNCAmIDI1NSxcblx0XHRoMSA+Pj4gMTYgJiAyNTUsXG5cdFx0aDEgPj4+IDggJiAyNTUsXG5cdFx0aDEgJiAyNTUsXG5cdFx0aDIgPj4+IDI0ICYgMjU1LFxuXHRcdGgyID4+PiAxNiAmIDI1NSxcblx0XHRoMiA+Pj4gOCAmIDI1NSxcblx0XHRoMiAmIDI1NSxcblx0XHRoMyA+Pj4gMjQgJiAyNTUsXG5cdFx0aDMgPj4+IDE2ICYgMjU1LFxuXHRcdGgzID4+PiA4ICYgMjU1LFxuXHRcdGgzICYgMjU1LFxuXHRcdGg0ID4+PiAyNCAmIDI1NSxcblx0XHRoNCA+Pj4gMTYgJiAyNTUsXG5cdFx0aDQgPj4+IDggJiAyNTUsXG5cdFx0aDQgJiAyNTUsXG5cdFx0aDUgPj4+IDI0ICYgMjU1LFxuXHRcdGg1ID4+PiAxNiAmIDI1NSxcblx0XHRoNSA+Pj4gOCAmIDI1NSxcblx0XHRoNSAmIDI1NSxcblx0XHRoNiA+Pj4gMjQgJiAyNTUsXG5cdFx0aDYgPj4+IDE2ICYgMjU1LFxuXHRcdGg2ID4+PiA4ICYgMjU1LFxuXHRcdGg2ICYgMjU1XG5cdF07XG5cdGlmICghdGhpcy5pczIyNCkgYXJyLnB1c2goaDcgPj4+IDI0ICYgMjU1LCBoNyA+Pj4gMTYgJiAyNTUsIGg3ID4+PiA4ICYgMjU1LCBoNyAmIDI1NSk7XG5cdHJldHVybiBhcnI7XG59O1xuU2hhMjU2LnByb3RvdHlwZS5hcnJheSA9IFNoYTI1Ni5wcm90b3R5cGUuZGlnZXN0O1xuU2hhMjU2LnByb3RvdHlwZS5hcnJheUJ1ZmZlciA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLmZpbmFsaXplKCk7XG5cdHZhciBidWZmZXIgPSAvKiBAX19QVVJFX18gKi8gbmV3IEFycmF5QnVmZmVyKHRoaXMuaXMyMjQgPyAyOCA6IDMyKTtcblx0dmFyIGRhdGFWaWV3ID0gbmV3IERhdGFWaWV3KGJ1ZmZlcik7XG5cdGRhdGFWaWV3LnNldFVpbnQzMigwLCB0aGlzLmgwKTtcblx0ZGF0YVZpZXcuc2V0VWludDMyKDQsIHRoaXMuaDEpO1xuXHRkYXRhVmlldy5zZXRVaW50MzIoOCwgdGhpcy5oMik7XG5cdGRhdGFWaWV3LnNldFVpbnQzMigxMiwgdGhpcy5oMyk7XG5cdGRhdGFWaWV3LnNldFVpbnQzMigxNiwgdGhpcy5oNCk7XG5cdGRhdGFWaWV3LnNldFVpbnQzMigyMCwgdGhpcy5oNSk7XG5cdGRhdGFWaWV3LnNldFVpbnQzMigyNCwgdGhpcy5oNik7XG5cdGlmICghdGhpcy5pczIyNCkgZGF0YVZpZXcuc2V0VWludDMyKDI4LCB0aGlzLmg3KTtcblx0cmV0dXJuIGJ1ZmZlcjtcbn07XG5jb25zdCBzaGEyNTYgPSAoLi4uc3RyaW5ncykgPT4ge1xuXHRyZXR1cm4gbmV3IFNoYTI1NihmYWxzZSwgdHJ1ZSkudXBkYXRlKHN0cmluZ3Muam9pbihcIlwiKSkuaGV4KCk7XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IHNoYTI1NiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGFzaC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/js-sha256/hash.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/json.js":
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/json.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseJsonMarkdown: () => (/* binding */ parseJsonMarkdown),\n/* harmony export */   parsePartialJson: () => (/* binding */ parsePartialJson)\n/* harmony export */ });\n//#region src/utils/json.ts\nfunction parseJsonMarkdown(s, parser = parsePartialJson) {\n\ts = s.trim();\n\tconst firstFenceIndex = s.indexOf(\"```\");\n\tif (firstFenceIndex === -1) return parser(s);\n\tlet contentAfterFence = s.substring(firstFenceIndex + 3);\n\tif (contentAfterFence.startsWith(\"json\\n\")) contentAfterFence = contentAfterFence.substring(5);\n\telse if (contentAfterFence.startsWith(\"json\")) contentAfterFence = contentAfterFence.substring(4);\n\telse if (contentAfterFence.startsWith(\"\\n\")) contentAfterFence = contentAfterFence.substring(1);\n\tconst closingFenceIndex = contentAfterFence.indexOf(\"```\");\n\tlet finalContent = contentAfterFence;\n\tif (closingFenceIndex !== -1) finalContent = contentAfterFence.substring(0, closingFenceIndex);\n\treturn parser(finalContent.trim());\n}\nfunction parsePartialJson(s) {\n\tif (typeof s === \"undefined\") return null;\n\ttry {\n\t\treturn JSON.parse(s);\n\t} catch {}\n\tlet new_s = \"\";\n\tconst stack = [];\n\tlet isInsideString = false;\n\tlet escaped = false;\n\tfor (let char of s) {\n\t\tif (isInsideString) if (char === \"\\\"\" && !escaped) isInsideString = false;\n\t\telse if (char === \"\\n\" && !escaped) char = \"\\\\n\";\n\t\telse if (char === \"\\\\\") escaped = !escaped;\n\t\telse escaped = false;\n\t\telse if (char === \"\\\"\") {\n\t\t\tisInsideString = true;\n\t\t\tescaped = false;\n\t\t} else if (char === \"{\") stack.push(\"}\");\n\t\telse if (char === \"[\") stack.push(\"]\");\n\t\telse if (char === \"}\" || char === \"]\") if (stack && stack[stack.length - 1] === char) stack.pop();\n\t\telse return null;\n\t\tnew_s += char;\n\t}\n\tif (isInsideString) new_s += \"\\\"\";\n\tfor (let i = stack.length - 1; i >= 0; i -= 1) new_s += stack[i];\n\ttry {\n\t\treturn JSON.parse(new_s);\n\t} catch {\n\t\treturn null;\n\t}\n}\n\n//#endregion\n\n//# sourceMappingURL=json.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9qc29uLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksb0JBQW9CLGdCQUFnQjtBQUN4QztBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxRQUFRO0FBQ3hDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQytDO0FBQy9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9qc29uLmpzPzM0MmYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8jcmVnaW9uIHNyYy91dGlscy9qc29uLnRzXG5mdW5jdGlvbiBwYXJzZUpzb25NYXJrZG93bihzLCBwYXJzZXIgPSBwYXJzZVBhcnRpYWxKc29uKSB7XG5cdHMgPSBzLnRyaW0oKTtcblx0Y29uc3QgZmlyc3RGZW5jZUluZGV4ID0gcy5pbmRleE9mKFwiYGBgXCIpO1xuXHRpZiAoZmlyc3RGZW5jZUluZGV4ID09PSAtMSkgcmV0dXJuIHBhcnNlcihzKTtcblx0bGV0IGNvbnRlbnRBZnRlckZlbmNlID0gcy5zdWJzdHJpbmcoZmlyc3RGZW5jZUluZGV4ICsgMyk7XG5cdGlmIChjb250ZW50QWZ0ZXJGZW5jZS5zdGFydHNXaXRoKFwianNvblxcblwiKSkgY29udGVudEFmdGVyRmVuY2UgPSBjb250ZW50QWZ0ZXJGZW5jZS5zdWJzdHJpbmcoNSk7XG5cdGVsc2UgaWYgKGNvbnRlbnRBZnRlckZlbmNlLnN0YXJ0c1dpdGgoXCJqc29uXCIpKSBjb250ZW50QWZ0ZXJGZW5jZSA9IGNvbnRlbnRBZnRlckZlbmNlLnN1YnN0cmluZyg0KTtcblx0ZWxzZSBpZiAoY29udGVudEFmdGVyRmVuY2Uuc3RhcnRzV2l0aChcIlxcblwiKSkgY29udGVudEFmdGVyRmVuY2UgPSBjb250ZW50QWZ0ZXJGZW5jZS5zdWJzdHJpbmcoMSk7XG5cdGNvbnN0IGNsb3NpbmdGZW5jZUluZGV4ID0gY29udGVudEFmdGVyRmVuY2UuaW5kZXhPZihcImBgYFwiKTtcblx0bGV0IGZpbmFsQ29udGVudCA9IGNvbnRlbnRBZnRlckZlbmNlO1xuXHRpZiAoY2xvc2luZ0ZlbmNlSW5kZXggIT09IC0xKSBmaW5hbENvbnRlbnQgPSBjb250ZW50QWZ0ZXJGZW5jZS5zdWJzdHJpbmcoMCwgY2xvc2luZ0ZlbmNlSW5kZXgpO1xuXHRyZXR1cm4gcGFyc2VyKGZpbmFsQ29udGVudC50cmltKCkpO1xufVxuZnVuY3Rpb24gcGFyc2VQYXJ0aWFsSnNvbihzKSB7XG5cdGlmICh0eXBlb2YgcyA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuIG51bGw7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIEpTT04ucGFyc2Uocyk7XG5cdH0gY2F0Y2gge31cblx0bGV0IG5ld19zID0gXCJcIjtcblx0Y29uc3Qgc3RhY2sgPSBbXTtcblx0bGV0IGlzSW5zaWRlU3RyaW5nID0gZmFsc2U7XG5cdGxldCBlc2NhcGVkID0gZmFsc2U7XG5cdGZvciAobGV0IGNoYXIgb2Ygcykge1xuXHRcdGlmIChpc0luc2lkZVN0cmluZykgaWYgKGNoYXIgPT09IFwiXFxcIlwiICYmICFlc2NhcGVkKSBpc0luc2lkZVN0cmluZyA9IGZhbHNlO1xuXHRcdGVsc2UgaWYgKGNoYXIgPT09IFwiXFxuXCIgJiYgIWVzY2FwZWQpIGNoYXIgPSBcIlxcXFxuXCI7XG5cdFx0ZWxzZSBpZiAoY2hhciA9PT0gXCJcXFxcXCIpIGVzY2FwZWQgPSAhZXNjYXBlZDtcblx0XHRlbHNlIGVzY2FwZWQgPSBmYWxzZTtcblx0XHRlbHNlIGlmIChjaGFyID09PSBcIlxcXCJcIikge1xuXHRcdFx0aXNJbnNpZGVTdHJpbmcgPSB0cnVlO1xuXHRcdFx0ZXNjYXBlZCA9IGZhbHNlO1xuXHRcdH0gZWxzZSBpZiAoY2hhciA9PT0gXCJ7XCIpIHN0YWNrLnB1c2goXCJ9XCIpO1xuXHRcdGVsc2UgaWYgKGNoYXIgPT09IFwiW1wiKSBzdGFjay5wdXNoKFwiXVwiKTtcblx0XHRlbHNlIGlmIChjaGFyID09PSBcIn1cIiB8fCBjaGFyID09PSBcIl1cIikgaWYgKHN0YWNrICYmIHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdID09PSBjaGFyKSBzdGFjay5wb3AoKTtcblx0XHRlbHNlIHJldHVybiBudWxsO1xuXHRcdG5ld19zICs9IGNoYXI7XG5cdH1cblx0aWYgKGlzSW5zaWRlU3RyaW5nKSBuZXdfcyArPSBcIlxcXCJcIjtcblx0Zm9yIChsZXQgaSA9IHN0YWNrLmxlbmd0aCAtIDE7IGkgPj0gMDsgaSAtPSAxKSBuZXdfcyArPSBzdGFja1tpXTtcblx0dHJ5IHtcblx0XHRyZXR1cm4gSlNPTi5wYXJzZShuZXdfcyk7XG5cdH0gY2F0Y2gge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgcGFyc2VKc29uTWFya2Rvd24sIHBhcnNlUGFydGlhbEpzb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWpzb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/json.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/json_patch.js":
/*!********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/json_patch.js ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   applyPatch: () => (/* reexport safe */ _fast_json_patch_src_core_js__WEBPACK_IMPORTED_MODULE_1__.applyPatch),\n/* harmony export */   compare: () => (/* reexport safe */ _fast_json_patch_src_duplex_js__WEBPACK_IMPORTED_MODULE_2__.compare),\n/* harmony export */   json_patch_exports: () => (/* binding */ json_patch_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _fast_json_patch_src_core_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fast-json-patch/src/core.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/fast-json-patch/src/core.js\");\n/* harmony import */ var _fast_json_patch_src_duplex_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./fast-json-patch/src/duplex.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/fast-json-patch/src/duplex.js\");\n/* harmony import */ var _fast_json_patch_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./fast-json-patch/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/fast-json-patch/index.js\");\n\n\n\n\n\n//#region src/utils/json_patch.ts\nvar json_patch_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(json_patch_exports, {\n\tapplyPatch: () => _fast_json_patch_src_core_js__WEBPACK_IMPORTED_MODULE_1__.applyPatch,\n\tcompare: () => _fast_json_patch_src_duplex_js__WEBPACK_IMPORTED_MODULE_2__.compare\n});\n\n//#endregion\n\n//# sourceMappingURL=json_patch.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9qc29uX3BhdGNoLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBMkQ7QUFDQTtBQUNEO0FBQ3RCOztBQUVwQztBQUNBO0FBQ0Esc0VBQVE7QUFDUixtQkFBbUIsb0VBQVU7QUFDN0IsZ0JBQWdCLG1FQUFPO0FBQ3ZCLENBQUM7O0FBRUQ7QUFDbUQ7QUFDbkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL2pzb25fcGF0Y2guanM/NmU4YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2V4cG9ydCB9IGZyb20gXCIuLi9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmpzXCI7XG5pbXBvcnQgeyBhcHBseVBhdGNoIH0gZnJvbSBcIi4vZmFzdC1qc29uLXBhdGNoL3NyYy9jb3JlLmpzXCI7XG5pbXBvcnQgeyBjb21wYXJlIH0gZnJvbSBcIi4vZmFzdC1qc29uLXBhdGNoL3NyYy9kdXBsZXguanNcIjtcbmltcG9ydCBcIi4vZmFzdC1qc29uLXBhdGNoL2luZGV4LmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvanNvbl9wYXRjaC50c1xudmFyIGpzb25fcGF0Y2hfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQoanNvbl9wYXRjaF9leHBvcnRzLCB7XG5cdGFwcGx5UGF0Y2g6ICgpID0+IGFwcGx5UGF0Y2gsXG5cdGNvbXBhcmU6ICgpID0+IGNvbXBhcmVcbn0pO1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IGFwcGx5UGF0Y2gsIGNvbXBhcmUsIGpzb25fcGF0Y2hfZXhwb3J0cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9anNvbl9wYXRjaC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/json_patch.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/json_schema.js":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/json_schema.js ***!
  \*********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Validator: () => (/* reexport safe */ _cfworker_json_schema__WEBPACK_IMPORTED_MODULE_4__.Validator),\n/* harmony export */   deepCompareStrict: () => (/* reexport safe */ _cfworker_json_schema__WEBPACK_IMPORTED_MODULE_4__.deepCompareStrict),\n/* harmony export */   json_schema_exports: () => (/* binding */ json_schema_exports),\n/* harmony export */   toJsonSchema: () => (/* binding */ toJsonSchema),\n/* harmony export */   validatesOnlyStrings: () => (/* binding */ validatesOnlyStrings)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _types_zod_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./types/zod.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/types/zod.js\");\n/* harmony import */ var _zod_to_json_schema_zodToJsonSchema_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./zod-to-json-schema/zodToJsonSchema.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/zodToJsonSchema.js\");\n/* harmony import */ var _zod_to_json_schema_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./zod-to-json-schema/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/index.js\");\n/* harmony import */ var zod_v4_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! zod/v4/core */ \"(rsc)/./node_modules/.pnpm/zod@3.25.76/node_modules/zod/v4/core/to-json-schema.js\");\n/* harmony import */ var _cfworker_json_schema__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @cfworker/json-schema */ \"(rsc)/./node_modules/.pnpm/@cfworker+json-schema@4.1.1/node_modules/@cfworker/json-schema/dist/esm/index.js\");\n\n\n\n\n\n\n\n//#region src/utils/json_schema.ts\nvar json_schema_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(json_schema_exports, {\n\tValidator: () => _cfworker_json_schema__WEBPACK_IMPORTED_MODULE_4__.Validator,\n\tdeepCompareStrict: () => _cfworker_json_schema__WEBPACK_IMPORTED_MODULE_4__.deepCompareStrict,\n\ttoJsonSchema: () => toJsonSchema,\n\tvalidatesOnlyStrings: () => validatesOnlyStrings\n});\n/**\n* Converts a Zod schema or JSON schema to a JSON schema.\n* @param schema - The schema to convert.\n* @returns The converted schema.\n*/\nfunction toJsonSchema(schema) {\n\tif ((0,_types_zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodSchemaV4)(schema)) {\n\t\tconst inputSchema = (0,_types_zod_js__WEBPACK_IMPORTED_MODULE_1__.interopZodTransformInputSchema)(schema, true);\n\t\tif ((0,_types_zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodObjectV4)(inputSchema)) {\n\t\t\tconst strictSchema = (0,_types_zod_js__WEBPACK_IMPORTED_MODULE_1__.interopZodObjectStrict)(inputSchema, true);\n\t\t\treturn (0,zod_v4_core__WEBPACK_IMPORTED_MODULE_5__.toJSONSchema)(strictSchema);\n\t\t} else return (0,zod_v4_core__WEBPACK_IMPORTED_MODULE_5__.toJSONSchema)(schema);\n\t}\n\tif ((0,_types_zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodSchemaV3)(schema)) return (0,_zod_to_json_schema_zodToJsonSchema_js__WEBPACK_IMPORTED_MODULE_2__.zodToJsonSchema)(schema);\n\treturn schema;\n}\n/**\n* Validates if a JSON schema validates only strings. May return false negatives in some edge cases\n* (like recursive or unresolvable refs).\n*\n* @param schema - The schema to validate.\n* @returns `true` if the schema validates only strings, `false` otherwise.\n*/\nfunction validatesOnlyStrings(schema) {\n\tif (!schema || typeof schema !== \"object\" || Object.keys(schema).length === 0 || Array.isArray(schema)) return false;\n\tif (\"type\" in schema) {\n\t\tif (typeof schema.type === \"string\") return schema.type === \"string\";\n\t\tif (Array.isArray(schema.type)) return schema.type.every((t) => t === \"string\");\n\t\treturn false;\n\t}\n\tif (\"enum\" in schema) return Array.isArray(schema.enum) && schema.enum.length > 0 && schema.enum.every((val) => typeof val === \"string\");\n\tif (\"const\" in schema) return typeof schema.const === \"string\";\n\tif (\"allOf\" in schema && Array.isArray(schema.allOf)) return schema.allOf.some((subschema) => validatesOnlyStrings(subschema));\n\tif (\"anyOf\" in schema && Array.isArray(schema.anyOf) || \"oneOf\" in schema && Array.isArray(schema.oneOf)) {\n\t\tconst subschemas = \"anyOf\" in schema ? schema.anyOf : schema.oneOf;\n\t\treturn subschemas.length > 0 && subschemas.every((subschema) => validatesOnlyStrings(subschema));\n\t}\n\tif (\"not\" in schema) return false;\n\tif (\"$ref\" in schema && typeof schema.$ref === \"string\") {\n\t\tconst ref = schema.$ref;\n\t\tconst resolved = (0,_cfworker_json_schema__WEBPACK_IMPORTED_MODULE_4__.dereference)(schema);\n\t\tif (resolved[ref]) return validatesOnlyStrings(resolved[ref]);\n\t\treturn false;\n\t}\n\treturn false;\n}\n\n//#endregion\n\n//# sourceMappingURL=json_schema.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9qc29uX3NjaGVtYS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUEyRDtBQUMwRTtBQUMzRDtBQUNuQztBQUNJO0FBQ3VDOztBQUVsRjtBQUNBO0FBQ0Esc0VBQVE7QUFDUixrQkFBa0IsNERBQVM7QUFDM0IsMEJBQTBCLG9FQUFpQjtBQUMzQztBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssNERBQWE7QUFDbEIsc0JBQXNCLDZFQUE4QjtBQUNwRCxNQUFNLDREQUFhO0FBQ25CLHdCQUF3QixxRUFBc0I7QUFDOUMsVUFBVSx5REFBWTtBQUN0QixJQUFJLFlBQVkseURBQVk7QUFDNUI7QUFDQSxLQUFLLDREQUFhLGlCQUFpQix1RkFBZTtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGtFQUFXO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDaUc7QUFDakciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL2pzb25fc2NoZW1hLmpzPzM5NjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19leHBvcnQgfSBmcm9tIFwiLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5qc1wiO1xuaW1wb3J0IHsgaW50ZXJvcFpvZE9iamVjdFN0cmljdCwgaW50ZXJvcFpvZFRyYW5zZm9ybUlucHV0U2NoZW1hLCBpc1pvZE9iamVjdFY0LCBpc1pvZFNjaGVtYVYzLCBpc1pvZFNjaGVtYVY0IH0gZnJvbSBcIi4vdHlwZXMvem9kLmpzXCI7XG5pbXBvcnQgeyB6b2RUb0pzb25TY2hlbWEgfSBmcm9tIFwiLi96b2QtdG8tanNvbi1zY2hlbWEvem9kVG9Kc29uU2NoZW1hLmpzXCI7XG5pbXBvcnQgXCIuL3pvZC10by1qc29uLXNjaGVtYS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgdG9KU09OU2NoZW1hIH0gZnJvbSBcInpvZC92NC9jb3JlXCI7XG5pbXBvcnQgeyBWYWxpZGF0b3IsIGRlZXBDb21wYXJlU3RyaWN0LCBkZXJlZmVyZW5jZSB9IGZyb20gXCJAY2Z3b3JrZXIvanNvbi1zY2hlbWFcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy9qc29uX3NjaGVtYS50c1xudmFyIGpzb25fc2NoZW1hX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KGpzb25fc2NoZW1hX2V4cG9ydHMsIHtcblx0VmFsaWRhdG9yOiAoKSA9PiBWYWxpZGF0b3IsXG5cdGRlZXBDb21wYXJlU3RyaWN0OiAoKSA9PiBkZWVwQ29tcGFyZVN0cmljdCxcblx0dG9Kc29uU2NoZW1hOiAoKSA9PiB0b0pzb25TY2hlbWEsXG5cdHZhbGlkYXRlc09ubHlTdHJpbmdzOiAoKSA9PiB2YWxpZGF0ZXNPbmx5U3RyaW5nc1xufSk7XG4vKipcbiogQ29udmVydHMgYSBab2Qgc2NoZW1hIG9yIEpTT04gc2NoZW1hIHRvIGEgSlNPTiBzY2hlbWEuXG4qIEBwYXJhbSBzY2hlbWEgLSBUaGUgc2NoZW1hIHRvIGNvbnZlcnQuXG4qIEByZXR1cm5zIFRoZSBjb252ZXJ0ZWQgc2NoZW1hLlxuKi9cbmZ1bmN0aW9uIHRvSnNvblNjaGVtYShzY2hlbWEpIHtcblx0aWYgKGlzWm9kU2NoZW1hVjQoc2NoZW1hKSkge1xuXHRcdGNvbnN0IGlucHV0U2NoZW1hID0gaW50ZXJvcFpvZFRyYW5zZm9ybUlucHV0U2NoZW1hKHNjaGVtYSwgdHJ1ZSk7XG5cdFx0aWYgKGlzWm9kT2JqZWN0VjQoaW5wdXRTY2hlbWEpKSB7XG5cdFx0XHRjb25zdCBzdHJpY3RTY2hlbWEgPSBpbnRlcm9wWm9kT2JqZWN0U3RyaWN0KGlucHV0U2NoZW1hLCB0cnVlKTtcblx0XHRcdHJldHVybiB0b0pTT05TY2hlbWEoc3RyaWN0U2NoZW1hKTtcblx0XHR9IGVsc2UgcmV0dXJuIHRvSlNPTlNjaGVtYShzY2hlbWEpO1xuXHR9XG5cdGlmIChpc1pvZFNjaGVtYVYzKHNjaGVtYSkpIHJldHVybiB6b2RUb0pzb25TY2hlbWEoc2NoZW1hKTtcblx0cmV0dXJuIHNjaGVtYTtcbn1cbi8qKlxuKiBWYWxpZGF0ZXMgaWYgYSBKU09OIHNjaGVtYSB2YWxpZGF0ZXMgb25seSBzdHJpbmdzLiBNYXkgcmV0dXJuIGZhbHNlIG5lZ2F0aXZlcyBpbiBzb21lIGVkZ2UgY2FzZXNcbiogKGxpa2UgcmVjdXJzaXZlIG9yIHVucmVzb2x2YWJsZSByZWZzKS5cbipcbiogQHBhcmFtIHNjaGVtYSAtIFRoZSBzY2hlbWEgdG8gdmFsaWRhdGUuXG4qIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgc2NoZW1hIHZhbGlkYXRlcyBvbmx5IHN0cmluZ3MsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuKi9cbmZ1bmN0aW9uIHZhbGlkYXRlc09ubHlTdHJpbmdzKHNjaGVtYSkge1xuXHRpZiAoIXNjaGVtYSB8fCB0eXBlb2Ygc2NoZW1hICE9PSBcIm9iamVjdFwiIHx8IE9iamVjdC5rZXlzKHNjaGVtYSkubGVuZ3RoID09PSAwIHx8IEFycmF5LmlzQXJyYXkoc2NoZW1hKSkgcmV0dXJuIGZhbHNlO1xuXHRpZiAoXCJ0eXBlXCIgaW4gc2NoZW1hKSB7XG5cdFx0aWYgKHR5cGVvZiBzY2hlbWEudHlwZSA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIHNjaGVtYS50eXBlID09PSBcInN0cmluZ1wiO1xuXHRcdGlmIChBcnJheS5pc0FycmF5KHNjaGVtYS50eXBlKSkgcmV0dXJuIHNjaGVtYS50eXBlLmV2ZXJ5KCh0KSA9PiB0ID09PSBcInN0cmluZ1wiKTtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0aWYgKFwiZW51bVwiIGluIHNjaGVtYSkgcmV0dXJuIEFycmF5LmlzQXJyYXkoc2NoZW1hLmVudW0pICYmIHNjaGVtYS5lbnVtLmxlbmd0aCA+IDAgJiYgc2NoZW1hLmVudW0uZXZlcnkoKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gXCJzdHJpbmdcIik7XG5cdGlmIChcImNvbnN0XCIgaW4gc2NoZW1hKSByZXR1cm4gdHlwZW9mIHNjaGVtYS5jb25zdCA9PT0gXCJzdHJpbmdcIjtcblx0aWYgKFwiYWxsT2ZcIiBpbiBzY2hlbWEgJiYgQXJyYXkuaXNBcnJheShzY2hlbWEuYWxsT2YpKSByZXR1cm4gc2NoZW1hLmFsbE9mLnNvbWUoKHN1YnNjaGVtYSkgPT4gdmFsaWRhdGVzT25seVN0cmluZ3Moc3Vic2NoZW1hKSk7XG5cdGlmIChcImFueU9mXCIgaW4gc2NoZW1hICYmIEFycmF5LmlzQXJyYXkoc2NoZW1hLmFueU9mKSB8fCBcIm9uZU9mXCIgaW4gc2NoZW1hICYmIEFycmF5LmlzQXJyYXkoc2NoZW1hLm9uZU9mKSkge1xuXHRcdGNvbnN0IHN1YnNjaGVtYXMgPSBcImFueU9mXCIgaW4gc2NoZW1hID8gc2NoZW1hLmFueU9mIDogc2NoZW1hLm9uZU9mO1xuXHRcdHJldHVybiBzdWJzY2hlbWFzLmxlbmd0aCA+IDAgJiYgc3Vic2NoZW1hcy5ldmVyeSgoc3Vic2NoZW1hKSA9PiB2YWxpZGF0ZXNPbmx5U3RyaW5ncyhzdWJzY2hlbWEpKTtcblx0fVxuXHRpZiAoXCJub3RcIiBpbiBzY2hlbWEpIHJldHVybiBmYWxzZTtcblx0aWYgKFwiJHJlZlwiIGluIHNjaGVtYSAmJiB0eXBlb2Ygc2NoZW1hLiRyZWYgPT09IFwic3RyaW5nXCIpIHtcblx0XHRjb25zdCByZWYgPSBzY2hlbWEuJHJlZjtcblx0XHRjb25zdCByZXNvbHZlZCA9IGRlcmVmZXJlbmNlKHNjaGVtYSk7XG5cdFx0aWYgKHJlc29sdmVkW3JlZl0pIHJldHVybiB2YWxpZGF0ZXNPbmx5U3RyaW5ncyhyZXNvbHZlZFtyZWZdKTtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0cmV0dXJuIGZhbHNlO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IFZhbGlkYXRvciwgZGVlcENvbXBhcmVTdHJpY3QsIGpzb25fc2NoZW1hX2V4cG9ydHMsIHRvSnNvblNjaGVtYSwgdmFsaWRhdGVzT25seVN0cmluZ3MgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWpzb25fc2NoZW1hLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/json_schema.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/math.js":
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/math.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cosineSimilarity: () => (/* binding */ cosineSimilarity),\n/* harmony export */   euclideanDistance: () => (/* binding */ euclideanDistance),\n/* harmony export */   innerProduct: () => (/* binding */ innerProduct$1),\n/* harmony export */   math_exports: () => (/* binding */ math_exports),\n/* harmony export */   matrixFunc: () => (/* binding */ matrixFunc),\n/* harmony export */   maximalMarginalRelevance: () => (/* binding */ maximalMarginalRelevance),\n/* harmony export */   normalize: () => (/* binding */ normalize)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _ml_distance_similarities_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ml-distance/similarities.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/ml-distance/similarities.js\");\n/* harmony import */ var _ml_distance_distances_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ml-distance/distances.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/ml-distance/distances.js\");\n/* harmony import */ var _ml_distance_euclidean_euclidean_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ml-distance-euclidean/euclidean.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/ml-distance-euclidean/euclidean.js\");\n\n\n\n\n\n//#region src/utils/math.ts\nvar math_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(math_exports, {\n\tcosineSimilarity: () => cosineSimilarity,\n\teuclideanDistance: () => euclideanDistance,\n\tinnerProduct: () => innerProduct$1,\n\tmatrixFunc: () => matrixFunc,\n\tmaximalMarginalRelevance: () => maximalMarginalRelevance,\n\tnormalize: () => normalize\n});\n/**\n* Apply a row-wise function between two matrices with the same number of columns.\n*\n* @param {number[][]} X - The first matrix.\n* @param {number[][]} Y - The second matrix.\n* @param {VectorFunction} func - The function to apply.\n*\n* @throws {Error} If the number of columns in X and Y are not the same.\n*\n* @returns {number[][] | [[]]} A matrix where each row represents the result of applying the function between the corresponding rows of X and Y.\n*/\nfunction matrixFunc(X, Y, func) {\n\tif (X.length === 0 || X[0].length === 0 || Y.length === 0 || Y[0].length === 0) return [[]];\n\tif (X[0].length !== Y[0].length) throw new Error(`Number of columns in X and Y must be the same. X has shape ${[X.length, X[0].length]} and Y has shape ${[Y.length, Y[0].length]}.`);\n\treturn X.map((xVector) => Y.map((yVector) => func(xVector, yVector)).map((similarity) => Number.isNaN(similarity) ? 0 : similarity));\n}\nfunction normalize(M, similarity = false) {\n\tconst max = matrixMaxVal(M);\n\treturn M.map((row) => row.map((val) => similarity ? 1 - val / max : val / max));\n}\n/**\n* This function calculates the row-wise cosine similarity between two matrices with the same number of columns.\n*\n* @param {number[][]} X - The first matrix.\n* @param {number[][]} Y - The second matrix.\n*\n* @throws {Error} If the number of columns in X and Y are not the same.\n*\n* @returns {number[][] | [[]]} A matrix where each row represents the cosine similarity values between the corresponding rows of X and Y.\n*/\nfunction cosineSimilarity(X, Y) {\n\treturn matrixFunc(X, Y, _ml_distance_similarities_js__WEBPACK_IMPORTED_MODULE_1__.cosine);\n}\nfunction innerProduct$1(X, Y) {\n\treturn matrixFunc(X, Y, _ml_distance_distances_js__WEBPACK_IMPORTED_MODULE_2__.innerProduct);\n}\nfunction euclideanDistance(X, Y) {\n\treturn matrixFunc(X, Y, _ml_distance_euclidean_euclidean_js__WEBPACK_IMPORTED_MODULE_3__.euclidean);\n}\n/**\n* This function implements the Maximal Marginal Relevance algorithm\n* to select a set of embeddings that maximizes the diversity and relevance to a query embedding.\n*\n* @param {number[]|number[][]} queryEmbedding - The query embedding.\n* @param {number[][]} embeddingList - The list of embeddings to select from.\n* @param {number} [lambda=0.5] - The trade-off parameter between relevance and diversity.\n* @param {number} [k=4] - The maximum number of embeddings to select.\n*\n* @returns {number[]} The indexes of the selected embeddings in the embeddingList.\n*/\nfunction maximalMarginalRelevance(queryEmbedding, embeddingList, lambda = .5, k = 4) {\n\tif (Math.min(k, embeddingList.length) <= 0) return [];\n\tconst queryEmbeddingExpanded = Array.isArray(queryEmbedding[0]) ? queryEmbedding : [queryEmbedding];\n\tconst similarityToQuery = cosineSimilarity(queryEmbeddingExpanded, embeddingList)[0];\n\tconst mostSimilarEmbeddingIndex = argMax(similarityToQuery).maxIndex;\n\tconst selectedEmbeddings = [embeddingList[mostSimilarEmbeddingIndex]];\n\tconst selectedEmbeddingsIndexes = [mostSimilarEmbeddingIndex];\n\twhile (selectedEmbeddingsIndexes.length < Math.min(k, embeddingList.length)) {\n\t\tlet bestScore = -Infinity;\n\t\tlet bestIndex = -1;\n\t\tconst similarityToSelected = cosineSimilarity(embeddingList, selectedEmbeddings);\n\t\tsimilarityToQuery.forEach((queryScore, queryScoreIndex) => {\n\t\t\tif (selectedEmbeddingsIndexes.includes(queryScoreIndex)) return;\n\t\t\tconst maxSimilarityToSelected = Math.max(...similarityToSelected[queryScoreIndex]);\n\t\t\tconst score = lambda * queryScore - (1 - lambda) * maxSimilarityToSelected;\n\t\t\tif (score > bestScore) {\n\t\t\t\tbestScore = score;\n\t\t\t\tbestIndex = queryScoreIndex;\n\t\t\t}\n\t\t});\n\t\tselectedEmbeddings.push(embeddingList[bestIndex]);\n\t\tselectedEmbeddingsIndexes.push(bestIndex);\n\t}\n\treturn selectedEmbeddingsIndexes;\n}\n/**\n* Finds the index of the maximum value in the given array.\n* @param {number[]} array - The input array.\n*\n* @returns {number} The index of the maximum value in the array. If the array is empty, returns -1.\n*/\nfunction argMax(array) {\n\tif (array.length === 0) return {\n\t\tmaxIndex: -1,\n\t\tmaxValue: NaN\n\t};\n\tlet maxValue = array[0];\n\tlet maxIndex = 0;\n\tfor (let i = 1; i < array.length; i += 1) if (array[i] > maxValue) {\n\t\tmaxIndex = i;\n\t\tmaxValue = array[i];\n\t}\n\treturn {\n\t\tmaxIndex,\n\t\tmaxValue\n\t};\n}\nfunction matrixMaxVal(arrays) {\n\treturn arrays.reduce((acc, array) => Math.max(acc, argMax(array).maxValue), 0);\n}\n\n//#endregion\n\n//# sourceMappingURL=math.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9tYXRoLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQTJEO0FBQ0o7QUFDRztBQUNPOztBQUVqRTtBQUNBO0FBQ0Esc0VBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsVUFBVSxZQUFZO0FBQ3RCLFVBQVUsWUFBWTtBQUN0QixVQUFVLGdCQUFnQjtBQUMxQjtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBLFlBQVksbUJBQW1CO0FBQy9CO0FBQ0E7QUFDQTtBQUNBLGdIQUFnSCx5QkFBeUIsa0JBQWtCLHdCQUF3QjtBQUNuTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLFlBQVk7QUFDdEIsVUFBVSxZQUFZO0FBQ3RCO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0EsWUFBWSxtQkFBbUI7QUFDL0I7QUFDQTtBQUNBLHlCQUF5QixnRUFBTTtBQUMvQjtBQUNBO0FBQ0EseUJBQXlCLG1FQUFZO0FBQ3JDO0FBQ0E7QUFDQSx5QkFBeUIsMEVBQVM7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUscUJBQXFCO0FBQy9CLFVBQVUsWUFBWTtBQUN0QixVQUFVLFFBQVE7QUFDbEIsVUFBVSxRQUFRO0FBQ2xCO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLFVBQVU7QUFDcEI7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixrQkFBa0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUM4STtBQUM5SSIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvbWF0aC5qcz8wMDZjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fZXhwb3J0IH0gZnJvbSBcIi4uL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuanNcIjtcbmltcG9ydCB7IGNvc2luZSB9IGZyb20gXCIuL21sLWRpc3RhbmNlL3NpbWlsYXJpdGllcy5qc1wiO1xuaW1wb3J0IHsgaW5uZXJQcm9kdWN0IH0gZnJvbSBcIi4vbWwtZGlzdGFuY2UvZGlzdGFuY2VzLmpzXCI7XG5pbXBvcnQgeyBldWNsaWRlYW4gfSBmcm9tIFwiLi9tbC1kaXN0YW5jZS1ldWNsaWRlYW4vZXVjbGlkZWFuLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvbWF0aC50c1xudmFyIG1hdGhfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQobWF0aF9leHBvcnRzLCB7XG5cdGNvc2luZVNpbWlsYXJpdHk6ICgpID0+IGNvc2luZVNpbWlsYXJpdHksXG5cdGV1Y2xpZGVhbkRpc3RhbmNlOiAoKSA9PiBldWNsaWRlYW5EaXN0YW5jZSxcblx0aW5uZXJQcm9kdWN0OiAoKSA9PiBpbm5lclByb2R1Y3QkMSxcblx0bWF0cml4RnVuYzogKCkgPT4gbWF0cml4RnVuYyxcblx0bWF4aW1hbE1hcmdpbmFsUmVsZXZhbmNlOiAoKSA9PiBtYXhpbWFsTWFyZ2luYWxSZWxldmFuY2UsXG5cdG5vcm1hbGl6ZTogKCkgPT4gbm9ybWFsaXplXG59KTtcbi8qKlxuKiBBcHBseSBhIHJvdy13aXNlIGZ1bmN0aW9uIGJldHdlZW4gdHdvIG1hdHJpY2VzIHdpdGggdGhlIHNhbWUgbnVtYmVyIG9mIGNvbHVtbnMuXG4qXG4qIEBwYXJhbSB7bnVtYmVyW11bXX0gWCAtIFRoZSBmaXJzdCBtYXRyaXguXG4qIEBwYXJhbSB7bnVtYmVyW11bXX0gWSAtIFRoZSBzZWNvbmQgbWF0cml4LlxuKiBAcGFyYW0ge1ZlY3RvckZ1bmN0aW9ufSBmdW5jIC0gVGhlIGZ1bmN0aW9uIHRvIGFwcGx5LlxuKlxuKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIG51bWJlciBvZiBjb2x1bW5zIGluIFggYW5kIFkgYXJlIG5vdCB0aGUgc2FtZS5cbipcbiogQHJldHVybnMge251bWJlcltdW10gfCBbW11dfSBBIG1hdHJpeCB3aGVyZSBlYWNoIHJvdyByZXByZXNlbnRzIHRoZSByZXN1bHQgb2YgYXBwbHlpbmcgdGhlIGZ1bmN0aW9uIGJldHdlZW4gdGhlIGNvcnJlc3BvbmRpbmcgcm93cyBvZiBYIGFuZCBZLlxuKi9cbmZ1bmN0aW9uIG1hdHJpeEZ1bmMoWCwgWSwgZnVuYykge1xuXHRpZiAoWC5sZW5ndGggPT09IDAgfHwgWFswXS5sZW5ndGggPT09IDAgfHwgWS5sZW5ndGggPT09IDAgfHwgWVswXS5sZW5ndGggPT09IDApIHJldHVybiBbW11dO1xuXHRpZiAoWFswXS5sZW5ndGggIT09IFlbMF0ubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoYE51bWJlciBvZiBjb2x1bW5zIGluIFggYW5kIFkgbXVzdCBiZSB0aGUgc2FtZS4gWCBoYXMgc2hhcGUgJHtbWC5sZW5ndGgsIFhbMF0ubGVuZ3RoXX0gYW5kIFkgaGFzIHNoYXBlICR7W1kubGVuZ3RoLCBZWzBdLmxlbmd0aF19LmApO1xuXHRyZXR1cm4gWC5tYXAoKHhWZWN0b3IpID0+IFkubWFwKCh5VmVjdG9yKSA9PiBmdW5jKHhWZWN0b3IsIHlWZWN0b3IpKS5tYXAoKHNpbWlsYXJpdHkpID0+IE51bWJlci5pc05hTihzaW1pbGFyaXR5KSA/IDAgOiBzaW1pbGFyaXR5KSk7XG59XG5mdW5jdGlvbiBub3JtYWxpemUoTSwgc2ltaWxhcml0eSA9IGZhbHNlKSB7XG5cdGNvbnN0IG1heCA9IG1hdHJpeE1heFZhbChNKTtcblx0cmV0dXJuIE0ubWFwKChyb3cpID0+IHJvdy5tYXAoKHZhbCkgPT4gc2ltaWxhcml0eSA/IDEgLSB2YWwgLyBtYXggOiB2YWwgLyBtYXgpKTtcbn1cbi8qKlxuKiBUaGlzIGZ1bmN0aW9uIGNhbGN1bGF0ZXMgdGhlIHJvdy13aXNlIGNvc2luZSBzaW1pbGFyaXR5IGJldHdlZW4gdHdvIG1hdHJpY2VzIHdpdGggdGhlIHNhbWUgbnVtYmVyIG9mIGNvbHVtbnMuXG4qXG4qIEBwYXJhbSB7bnVtYmVyW11bXX0gWCAtIFRoZSBmaXJzdCBtYXRyaXguXG4qIEBwYXJhbSB7bnVtYmVyW11bXX0gWSAtIFRoZSBzZWNvbmQgbWF0cml4LlxuKlxuKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIG51bWJlciBvZiBjb2x1bW5zIGluIFggYW5kIFkgYXJlIG5vdCB0aGUgc2FtZS5cbipcbiogQHJldHVybnMge251bWJlcltdW10gfCBbW11dfSBBIG1hdHJpeCB3aGVyZSBlYWNoIHJvdyByZXByZXNlbnRzIHRoZSBjb3NpbmUgc2ltaWxhcml0eSB2YWx1ZXMgYmV0d2VlbiB0aGUgY29ycmVzcG9uZGluZyByb3dzIG9mIFggYW5kIFkuXG4qL1xuZnVuY3Rpb24gY29zaW5lU2ltaWxhcml0eShYLCBZKSB7XG5cdHJldHVybiBtYXRyaXhGdW5jKFgsIFksIGNvc2luZSk7XG59XG5mdW5jdGlvbiBpbm5lclByb2R1Y3QkMShYLCBZKSB7XG5cdHJldHVybiBtYXRyaXhGdW5jKFgsIFksIGlubmVyUHJvZHVjdCk7XG59XG5mdW5jdGlvbiBldWNsaWRlYW5EaXN0YW5jZShYLCBZKSB7XG5cdHJldHVybiBtYXRyaXhGdW5jKFgsIFksIGV1Y2xpZGVhbik7XG59XG4vKipcbiogVGhpcyBmdW5jdGlvbiBpbXBsZW1lbnRzIHRoZSBNYXhpbWFsIE1hcmdpbmFsIFJlbGV2YW5jZSBhbGdvcml0aG1cbiogdG8gc2VsZWN0IGEgc2V0IG9mIGVtYmVkZGluZ3MgdGhhdCBtYXhpbWl6ZXMgdGhlIGRpdmVyc2l0eSBhbmQgcmVsZXZhbmNlIHRvIGEgcXVlcnkgZW1iZWRkaW5nLlxuKlxuKiBAcGFyYW0ge251bWJlcltdfG51bWJlcltdW119IHF1ZXJ5RW1iZWRkaW5nIC0gVGhlIHF1ZXJ5IGVtYmVkZGluZy5cbiogQHBhcmFtIHtudW1iZXJbXVtdfSBlbWJlZGRpbmdMaXN0IC0gVGhlIGxpc3Qgb2YgZW1iZWRkaW5ncyB0byBzZWxlY3QgZnJvbS5cbiogQHBhcmFtIHtudW1iZXJ9IFtsYW1iZGE9MC41XSAtIFRoZSB0cmFkZS1vZmYgcGFyYW1ldGVyIGJldHdlZW4gcmVsZXZhbmNlIGFuZCBkaXZlcnNpdHkuXG4qIEBwYXJhbSB7bnVtYmVyfSBbaz00XSAtIFRoZSBtYXhpbXVtIG51bWJlciBvZiBlbWJlZGRpbmdzIHRvIHNlbGVjdC5cbipcbiogQHJldHVybnMge251bWJlcltdfSBUaGUgaW5kZXhlcyBvZiB0aGUgc2VsZWN0ZWQgZW1iZWRkaW5ncyBpbiB0aGUgZW1iZWRkaW5nTGlzdC5cbiovXG5mdW5jdGlvbiBtYXhpbWFsTWFyZ2luYWxSZWxldmFuY2UocXVlcnlFbWJlZGRpbmcsIGVtYmVkZGluZ0xpc3QsIGxhbWJkYSA9IC41LCBrID0gNCkge1xuXHRpZiAoTWF0aC5taW4oaywgZW1iZWRkaW5nTGlzdC5sZW5ndGgpIDw9IDApIHJldHVybiBbXTtcblx0Y29uc3QgcXVlcnlFbWJlZGRpbmdFeHBhbmRlZCA9IEFycmF5LmlzQXJyYXkocXVlcnlFbWJlZGRpbmdbMF0pID8gcXVlcnlFbWJlZGRpbmcgOiBbcXVlcnlFbWJlZGRpbmddO1xuXHRjb25zdCBzaW1pbGFyaXR5VG9RdWVyeSA9IGNvc2luZVNpbWlsYXJpdHkocXVlcnlFbWJlZGRpbmdFeHBhbmRlZCwgZW1iZWRkaW5nTGlzdClbMF07XG5cdGNvbnN0IG1vc3RTaW1pbGFyRW1iZWRkaW5nSW5kZXggPSBhcmdNYXgoc2ltaWxhcml0eVRvUXVlcnkpLm1heEluZGV4O1xuXHRjb25zdCBzZWxlY3RlZEVtYmVkZGluZ3MgPSBbZW1iZWRkaW5nTGlzdFttb3N0U2ltaWxhckVtYmVkZGluZ0luZGV4XV07XG5cdGNvbnN0IHNlbGVjdGVkRW1iZWRkaW5nc0luZGV4ZXMgPSBbbW9zdFNpbWlsYXJFbWJlZGRpbmdJbmRleF07XG5cdHdoaWxlIChzZWxlY3RlZEVtYmVkZGluZ3NJbmRleGVzLmxlbmd0aCA8IE1hdGgubWluKGssIGVtYmVkZGluZ0xpc3QubGVuZ3RoKSkge1xuXHRcdGxldCBiZXN0U2NvcmUgPSAtSW5maW5pdHk7XG5cdFx0bGV0IGJlc3RJbmRleCA9IC0xO1xuXHRcdGNvbnN0IHNpbWlsYXJpdHlUb1NlbGVjdGVkID0gY29zaW5lU2ltaWxhcml0eShlbWJlZGRpbmdMaXN0LCBzZWxlY3RlZEVtYmVkZGluZ3MpO1xuXHRcdHNpbWlsYXJpdHlUb1F1ZXJ5LmZvckVhY2goKHF1ZXJ5U2NvcmUsIHF1ZXJ5U2NvcmVJbmRleCkgPT4ge1xuXHRcdFx0aWYgKHNlbGVjdGVkRW1iZWRkaW5nc0luZGV4ZXMuaW5jbHVkZXMocXVlcnlTY29yZUluZGV4KSkgcmV0dXJuO1xuXHRcdFx0Y29uc3QgbWF4U2ltaWxhcml0eVRvU2VsZWN0ZWQgPSBNYXRoLm1heCguLi5zaW1pbGFyaXR5VG9TZWxlY3RlZFtxdWVyeVNjb3JlSW5kZXhdKTtcblx0XHRcdGNvbnN0IHNjb3JlID0gbGFtYmRhICogcXVlcnlTY29yZSAtICgxIC0gbGFtYmRhKSAqIG1heFNpbWlsYXJpdHlUb1NlbGVjdGVkO1xuXHRcdFx0aWYgKHNjb3JlID4gYmVzdFNjb3JlKSB7XG5cdFx0XHRcdGJlc3RTY29yZSA9IHNjb3JlO1xuXHRcdFx0XHRiZXN0SW5kZXggPSBxdWVyeVNjb3JlSW5kZXg7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0c2VsZWN0ZWRFbWJlZGRpbmdzLnB1c2goZW1iZWRkaW5nTGlzdFtiZXN0SW5kZXhdKTtcblx0XHRzZWxlY3RlZEVtYmVkZGluZ3NJbmRleGVzLnB1c2goYmVzdEluZGV4KTtcblx0fVxuXHRyZXR1cm4gc2VsZWN0ZWRFbWJlZGRpbmdzSW5kZXhlcztcbn1cbi8qKlxuKiBGaW5kcyB0aGUgaW5kZXggb2YgdGhlIG1heGltdW0gdmFsdWUgaW4gdGhlIGdpdmVuIGFycmF5LlxuKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSBpbnB1dCBhcnJheS5cbipcbiogQHJldHVybnMge251bWJlcn0gVGhlIGluZGV4IG9mIHRoZSBtYXhpbXVtIHZhbHVlIGluIHRoZSBhcnJheS4gSWYgdGhlIGFycmF5IGlzIGVtcHR5LCByZXR1cm5zIC0xLlxuKi9cbmZ1bmN0aW9uIGFyZ01heChhcnJheSkge1xuXHRpZiAoYXJyYXkubGVuZ3RoID09PSAwKSByZXR1cm4ge1xuXHRcdG1heEluZGV4OiAtMSxcblx0XHRtYXhWYWx1ZTogTmFOXG5cdH07XG5cdGxldCBtYXhWYWx1ZSA9IGFycmF5WzBdO1xuXHRsZXQgbWF4SW5kZXggPSAwO1xuXHRmb3IgKGxldCBpID0gMTsgaSA8IGFycmF5Lmxlbmd0aDsgaSArPSAxKSBpZiAoYXJyYXlbaV0gPiBtYXhWYWx1ZSkge1xuXHRcdG1heEluZGV4ID0gaTtcblx0XHRtYXhWYWx1ZSA9IGFycmF5W2ldO1xuXHR9XG5cdHJldHVybiB7XG5cdFx0bWF4SW5kZXgsXG5cdFx0bWF4VmFsdWVcblx0fTtcbn1cbmZ1bmN0aW9uIG1hdHJpeE1heFZhbChhcnJheXMpIHtcblx0cmV0dXJuIGFycmF5cy5yZWR1Y2UoKGFjYywgYXJyYXkpID0+IE1hdGgubWF4KGFjYywgYXJnTWF4KGFycmF5KS5tYXhWYWx1ZSksIDApO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IGNvc2luZVNpbWlsYXJpdHksIGV1Y2xpZGVhbkRpc3RhbmNlLCBpbm5lclByb2R1Y3QkMSBhcyBpbm5lclByb2R1Y3QsIG1hdGhfZXhwb3J0cywgbWF0cml4RnVuYywgbWF4aW1hbE1hcmdpbmFsUmVsZXZhbmNlLCBub3JtYWxpemUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hdGguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/math.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/ml-distance-euclidean/euclidean.js":
/*!*****************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/ml-distance-euclidean/euclidean.js ***!
  \*****************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   euclidean: () => (/* binding */ euclidean)\n/* harmony export */ });\n//#region src/utils/ml-distance-euclidean/euclidean.ts\nfunction squaredEuclidean(p, q) {\n\tlet d = 0;\n\tfor (let i = 0; i < p.length; i++) d += (p[i] - q[i]) * (p[i] - q[i]);\n\treturn d;\n}\nfunction euclidean(p, q) {\n\treturn Math.sqrt(squaredEuclidean(p, q));\n}\n\n//#endregion\n\n//# sourceMappingURL=euclidean.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9tbC1kaXN0YW5jZS1ldWNsaWRlYW4vZXVjbGlkZWFuLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsY0FBYztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3FCO0FBQ3JCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9tbC1kaXN0YW5jZS1ldWNsaWRlYW4vZXVjbGlkZWFuLmpzPzFmOTAiXSwic291cmNlc0NvbnRlbnQiOlsiLy8jcmVnaW9uIHNyYy91dGlscy9tbC1kaXN0YW5jZS1ldWNsaWRlYW4vZXVjbGlkZWFuLnRzXG5mdW5jdGlvbiBzcXVhcmVkRXVjbGlkZWFuKHAsIHEpIHtcblx0bGV0IGQgPSAwO1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IHAubGVuZ3RoOyBpKyspIGQgKz0gKHBbaV0gLSBxW2ldKSAqIChwW2ldIC0gcVtpXSk7XG5cdHJldHVybiBkO1xufVxuZnVuY3Rpb24gZXVjbGlkZWFuKHAsIHEpIHtcblx0cmV0dXJuIE1hdGguc3FydChzcXVhcmVkRXVjbGlkZWFuKHAsIHEpKTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBldWNsaWRlYW4gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV1Y2xpZGVhbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/ml-distance-euclidean/euclidean.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/ml-distance/distances.js":
/*!*******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/ml-distance/distances.js ***!
  \*******************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   innerProduct: () => (/* binding */ innerProduct)\n/* harmony export */ });\n//#region src/utils/ml-distance/distances.ts\n/**\n*Returns the Inner Product similarity between vectors a and b\n* @link [Inner Product Similarity algorithm](https://www.naun.org/main/NAUN/ijmmas/mmmas-49.pdf)\n* @param a - first vector\n* @param b - second vector\n*\n*/\nfunction innerProduct(a, b) {\n\tlet ans = 0;\n\tfor (let i = 0; i < a.length; i++) ans += a[i] * b[i];\n\treturn ans;\n}\n\n//#endregion\n\n//# sourceMappingURL=distances.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9tbC1kaXN0YW5jZS9kaXN0YW5jZXMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGNBQWM7QUFDL0I7QUFDQTs7QUFFQTtBQUN3QjtBQUN4QiIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvbWwtZGlzdGFuY2UvZGlzdGFuY2VzLmpzPzVkYmQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8jcmVnaW9uIHNyYy91dGlscy9tbC1kaXN0YW5jZS9kaXN0YW5jZXMudHNcbi8qKlxuKlJldHVybnMgdGhlIElubmVyIFByb2R1Y3Qgc2ltaWxhcml0eSBiZXR3ZWVuIHZlY3RvcnMgYSBhbmQgYlxuKiBAbGluayBbSW5uZXIgUHJvZHVjdCBTaW1pbGFyaXR5IGFsZ29yaXRobV0oaHR0cHM6Ly93d3cubmF1bi5vcmcvbWFpbi9OQVVOL2lqbW1hcy9tbW1hcy00OS5wZGYpXG4qIEBwYXJhbSBhIC0gZmlyc3QgdmVjdG9yXG4qIEBwYXJhbSBiIC0gc2Vjb25kIHZlY3RvclxuKlxuKi9cbmZ1bmN0aW9uIGlubmVyUHJvZHVjdChhLCBiKSB7XG5cdGxldCBhbnMgPSAwO1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIGFucyArPSBhW2ldICogYltpXTtcblx0cmV0dXJuIGFucztcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBpbm5lclByb2R1Y3QgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRpc3RhbmNlcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/ml-distance/distances.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/ml-distance/similarities.js":
/*!**********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/ml-distance/similarities.js ***!
  \**********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cosine: () => (/* binding */ cosine)\n/* harmony export */ });\n//#region src/utils/ml-distance/similarities.ts\n/**\n* Returns the average of cosine distances between vectors a and b\n* @param a - first vector\n* @param b - second vector\n*\n*/\nfunction cosine(a, b) {\n\tlet p = 0;\n\tlet p2 = 0;\n\tlet q2 = 0;\n\tfor (let i = 0; i < a.length; i++) {\n\t\tp += a[i] * b[i];\n\t\tp2 += a[i] * a[i];\n\t\tq2 += b[i] * b[i];\n\t}\n\treturn p / (Math.sqrt(p2) * Math.sqrt(q2));\n}\n\n//#endregion\n\n//# sourceMappingURL=similarities.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9tbC1kaXN0YW5jZS9zaW1pbGFyaXRpZXMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsY0FBYztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDa0I7QUFDbEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL21sLWRpc3RhbmNlL3NpbWlsYXJpdGllcy5qcz8xMzk1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vI3JlZ2lvbiBzcmMvdXRpbHMvbWwtZGlzdGFuY2Uvc2ltaWxhcml0aWVzLnRzXG4vKipcbiogUmV0dXJucyB0aGUgYXZlcmFnZSBvZiBjb3NpbmUgZGlzdGFuY2VzIGJldHdlZW4gdmVjdG9ycyBhIGFuZCBiXG4qIEBwYXJhbSBhIC0gZmlyc3QgdmVjdG9yXG4qIEBwYXJhbSBiIC0gc2Vjb25kIHZlY3RvclxuKlxuKi9cbmZ1bmN0aW9uIGNvc2luZShhLCBiKSB7XG5cdGxldCBwID0gMDtcblx0bGV0IHAyID0gMDtcblx0bGV0IHEyID0gMDtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG5cdFx0cCArPSBhW2ldICogYltpXTtcblx0XHRwMiArPSBhW2ldICogYVtpXTtcblx0XHRxMiArPSBiW2ldICogYltpXTtcblx0fVxuXHRyZXR1cm4gcCAvIChNYXRoLnNxcnQocDIpICogTWF0aC5zcXJ0KHEyKSk7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgY29zaW5lIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zaW1pbGFyaXRpZXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/ml-distance/similarities.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/sax-js/sax.js":
/*!********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/sax-js/sax.js ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sax: () => (/* binding */ sax)\n/* harmony export */ });\n//#region src/utils/sax-js/sax.ts\nconst initializeSax = function() {\n\tconst sax$1 = {};\n\tsax$1.parser = function(strict, opt) {\n\t\treturn new SAXParser(strict, opt);\n\t};\n\tsax$1.SAXParser = SAXParser;\n\tsax$1.SAXStream = SAXStream;\n\tsax$1.createStream = createStream;\n\tsax$1.MAX_BUFFER_LENGTH = 64 * 1024;\n\tconst buffers = [\n\t\t\"comment\",\n\t\t\"sgmlDecl\",\n\t\t\"textNode\",\n\t\t\"tagName\",\n\t\t\"doctype\",\n\t\t\"procInstName\",\n\t\t\"procInstBody\",\n\t\t\"entity\",\n\t\t\"attribName\",\n\t\t\"attribValue\",\n\t\t\"cdata\",\n\t\t\"script\"\n\t];\n\tsax$1.EVENTS = [\n\t\t\"text\",\n\t\t\"processinginstruction\",\n\t\t\"sgmldeclaration\",\n\t\t\"doctype\",\n\t\t\"comment\",\n\t\t\"opentagstart\",\n\t\t\"attribute\",\n\t\t\"opentag\",\n\t\t\"closetag\",\n\t\t\"opencdata\",\n\t\t\"cdata\",\n\t\t\"closecdata\",\n\t\t\"error\",\n\t\t\"end\",\n\t\t\"ready\",\n\t\t\"script\",\n\t\t\"opennamespace\",\n\t\t\"closenamespace\"\n\t];\n\tfunction SAXParser(strict, opt) {\n\t\tif (!(this instanceof SAXParser)) return new SAXParser(strict, opt);\n\t\tvar parser = this;\n\t\tclearBuffers(parser);\n\t\tparser.q = parser.c = \"\";\n\t\tparser.bufferCheckPosition = sax$1.MAX_BUFFER_LENGTH;\n\t\tparser.opt = opt || {};\n\t\tparser.opt.lowercase = parser.opt.lowercase || parser.opt.lowercasetags;\n\t\tparser.looseCase = parser.opt.lowercase ? \"toLowerCase\" : \"toUpperCase\";\n\t\tparser.tags = [];\n\t\tparser.closed = parser.closedRoot = parser.sawRoot = false;\n\t\tparser.tag = parser.error = null;\n\t\tparser.strict = !!strict;\n\t\tparser.noscript = !!(strict || parser.opt.noscript);\n\t\tparser.state = S.BEGIN;\n\t\tparser.strictEntities = parser.opt.strictEntities;\n\t\tparser.ENTITIES = parser.strictEntities ? Object.create(sax$1.XML_ENTITIES) : Object.create(sax$1.ENTITIES);\n\t\tparser.attribList = [];\n\t\tif (parser.opt.xmlns) parser.ns = Object.create(rootNS);\n\t\tparser.trackPosition = parser.opt.position !== false;\n\t\tif (parser.trackPosition) parser.position = parser.line = parser.column = 0;\n\t\temit(parser, \"onready\");\n\t}\n\tif (!Object.create) Object.create = function(o) {\n\t\tfunction F() {}\n\t\tF.prototype = o;\n\t\tvar newf = new F();\n\t\treturn newf;\n\t};\n\tif (!Object.keys) Object.keys = function(o) {\n\t\tvar a = [];\n\t\tfor (var i in o) if (o.hasOwnProperty(i)) a.push(i);\n\t\treturn a;\n\t};\n\tfunction checkBufferLength(parser) {\n\t\tvar maxAllowed = Math.max(sax$1.MAX_BUFFER_LENGTH, 10);\n\t\tvar maxActual = 0;\n\t\tfor (var i = 0, l = buffers.length; i < l; i++) {\n\t\t\tvar len = parser[buffers[i]].length;\n\t\t\tif (len > maxAllowed) switch (buffers[i]) {\n\t\t\t\tcase \"textNode\":\n\t\t\t\t\tcloseText(parser);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"cdata\":\n\t\t\t\t\temitNode(parser, \"oncdata\", parser.cdata);\n\t\t\t\t\tparser.cdata = \"\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"script\":\n\t\t\t\t\temitNode(parser, \"onscript\", parser.script);\n\t\t\t\t\tparser.script = \"\";\n\t\t\t\t\tbreak;\n\t\t\t\tdefault: error(parser, \"Max buffer length exceeded: \" + buffers[i]);\n\t\t\t}\n\t\t\tmaxActual = Math.max(maxActual, len);\n\t\t}\n\t\tvar m = sax$1.MAX_BUFFER_LENGTH - maxActual;\n\t\tparser.bufferCheckPosition = m + parser.position;\n\t}\n\tfunction clearBuffers(parser) {\n\t\tfor (var i = 0, l = buffers.length; i < l; i++) parser[buffers[i]] = \"\";\n\t}\n\tfunction flushBuffers(parser) {\n\t\tcloseText(parser);\n\t\tif (parser.cdata !== \"\") {\n\t\t\temitNode(parser, \"oncdata\", parser.cdata);\n\t\t\tparser.cdata = \"\";\n\t\t}\n\t\tif (parser.script !== \"\") {\n\t\t\temitNode(parser, \"onscript\", parser.script);\n\t\t\tparser.script = \"\";\n\t\t}\n\t}\n\tSAXParser.prototype = {\n\t\tend: function() {\n\t\t\tend(this);\n\t\t},\n\t\twrite,\n\t\tresume: function() {\n\t\t\tthis.error = null;\n\t\t\treturn this;\n\t\t},\n\t\tclose: function() {\n\t\t\treturn this.write(null);\n\t\t},\n\t\tflush: function() {\n\t\t\tflushBuffers(this);\n\t\t}\n\t};\n\tvar Stream = ReadableStream;\n\tif (!Stream) Stream = function() {};\n\tvar streamWraps = sax$1.EVENTS.filter(function(ev) {\n\t\treturn ev !== \"error\" && ev !== \"end\";\n\t});\n\tfunction createStream(strict, opt) {\n\t\treturn new SAXStream(strict, opt);\n\t}\n\tfunction SAXStream(strict, opt) {\n\t\tif (!(this instanceof SAXStream)) return new SAXStream(strict, opt);\n\t\tStream.apply(this);\n\t\tthis._parser = new SAXParser(strict, opt);\n\t\tthis.writable = true;\n\t\tthis.readable = true;\n\t\tvar me = this;\n\t\tthis._parser.onend = function() {\n\t\t\tme.emit(\"end\");\n\t\t};\n\t\tthis._parser.onerror = function(er) {\n\t\t\tme.emit(\"error\", er);\n\t\t\tme._parser.error = null;\n\t\t};\n\t\tthis._decoder = null;\n\t\tstreamWraps.forEach(function(ev) {\n\t\t\tObject.defineProperty(me, \"on\" + ev, {\n\t\t\t\tget: function() {\n\t\t\t\t\treturn me._parser[\"on\" + ev];\n\t\t\t\t},\n\t\t\t\tset: function(h) {\n\t\t\t\t\tif (!h) {\n\t\t\t\t\t\tme.removeAllListeners(ev);\n\t\t\t\t\t\tme._parser[\"on\" + ev] = h;\n\t\t\t\t\t\treturn h;\n\t\t\t\t\t}\n\t\t\t\t\tme.on(ev, h);\n\t\t\t\t},\n\t\t\t\tenumerable: true,\n\t\t\t\tconfigurable: false\n\t\t\t});\n\t\t});\n\t}\n\tSAXStream.prototype = Object.create(Stream.prototype, { constructor: { value: SAXStream } });\n\tSAXStream.prototype.write = function(data) {\n\t\tthis._parser.write(data.toString());\n\t\tthis.emit(\"data\", data);\n\t\treturn true;\n\t};\n\tSAXStream.prototype.end = function(chunk) {\n\t\tif (chunk && chunk.length) this.write(chunk);\n\t\tthis._parser.end();\n\t\treturn true;\n\t};\n\tSAXStream.prototype.on = function(ev, handler) {\n\t\tvar me = this;\n\t\tif (!me._parser[\"on\" + ev] && streamWraps.indexOf(ev) !== -1) me._parser[\"on\" + ev] = function() {\n\t\t\tvar args = arguments.length === 1 ? [arguments[0]] : Array.apply(null, arguments);\n\t\t\targs.splice(0, 0, ev);\n\t\t\tme.emit.apply(me, args);\n\t\t};\n\t\treturn Stream.prototype.on.call(me, ev, handler);\n\t};\n\tvar CDATA = \"[CDATA[\";\n\tvar DOCTYPE = \"DOCTYPE\";\n\tvar XML_NAMESPACE = \"http://www.w3.org/XML/1998/namespace\";\n\tvar XMLNS_NAMESPACE = \"http://www.w3.org/2000/xmlns/\";\n\tvar rootNS = {\n\t\txml: XML_NAMESPACE,\n\t\txmlns: XMLNS_NAMESPACE\n\t};\n\tvar nameStart = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/;\n\tvar nameBody = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/;\n\tvar entityStart = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/;\n\tvar entityBody = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/;\n\tfunction isWhitespace(c) {\n\t\treturn c === \" \" || c === \"\\n\" || c === \"\\r\" || c === \"\t\";\n\t}\n\tfunction isQuote(c) {\n\t\treturn c === \"\\\"\" || c === \"'\";\n\t}\n\tfunction isAttribEnd(c) {\n\t\treturn c === \">\" || isWhitespace(c);\n\t}\n\tfunction isMatch(regex, c) {\n\t\treturn regex.test(c);\n\t}\n\tfunction notMatch(regex, c) {\n\t\treturn !isMatch(regex, c);\n\t}\n\tvar S = 0;\n\tsax$1.STATE = {\n\t\tBEGIN: S++,\n\t\tBEGIN_WHITESPACE: S++,\n\t\tTEXT: S++,\n\t\tTEXT_ENTITY: S++,\n\t\tOPEN_WAKA: S++,\n\t\tSGML_DECL: S++,\n\t\tSGML_DECL_QUOTED: S++,\n\t\tDOCTYPE: S++,\n\t\tDOCTYPE_QUOTED: S++,\n\t\tDOCTYPE_DTD: S++,\n\t\tDOCTYPE_DTD_QUOTED: S++,\n\t\tCOMMENT_STARTING: S++,\n\t\tCOMMENT: S++,\n\t\tCOMMENT_ENDING: S++,\n\t\tCOMMENT_ENDED: S++,\n\t\tCDATA: S++,\n\t\tCDATA_ENDING: S++,\n\t\tCDATA_ENDING_2: S++,\n\t\tPROC_INST: S++,\n\t\tPROC_INST_BODY: S++,\n\t\tPROC_INST_ENDING: S++,\n\t\tOPEN_TAG: S++,\n\t\tOPEN_TAG_SLASH: S++,\n\t\tATTRIB: S++,\n\t\tATTRIB_NAME: S++,\n\t\tATTRIB_NAME_SAW_WHITE: S++,\n\t\tATTRIB_VALUE: S++,\n\t\tATTRIB_VALUE_QUOTED: S++,\n\t\tATTRIB_VALUE_CLOSED: S++,\n\t\tATTRIB_VALUE_UNQUOTED: S++,\n\t\tATTRIB_VALUE_ENTITY_Q: S++,\n\t\tATTRIB_VALUE_ENTITY_U: S++,\n\t\tCLOSE_TAG: S++,\n\t\tCLOSE_TAG_SAW_WHITE: S++,\n\t\tSCRIPT: S++,\n\t\tSCRIPT_ENDING: S++\n\t};\n\tsax$1.XML_ENTITIES = {\n\t\tamp: \"&\",\n\t\tgt: \">\",\n\t\tlt: \"<\",\n\t\tquot: \"\\\"\",\n\t\tapos: \"'\"\n\t};\n\tsax$1.ENTITIES = {\n\t\tamp: \"&\",\n\t\tgt: \">\",\n\t\tlt: \"<\",\n\t\tquot: \"\\\"\",\n\t\tapos: \"'\",\n\t\tAElig: 198,\n\t\tAacute: 193,\n\t\tAcirc: 194,\n\t\tAgrave: 192,\n\t\tAring: 197,\n\t\tAtilde: 195,\n\t\tAuml: 196,\n\t\tCcedil: 199,\n\t\tETH: 208,\n\t\tEacute: 201,\n\t\tEcirc: 202,\n\t\tEgrave: 200,\n\t\tEuml: 203,\n\t\tIacute: 205,\n\t\tIcirc: 206,\n\t\tIgrave: 204,\n\t\tIuml: 207,\n\t\tNtilde: 209,\n\t\tOacute: 211,\n\t\tOcirc: 212,\n\t\tOgrave: 210,\n\t\tOslash: 216,\n\t\tOtilde: 213,\n\t\tOuml: 214,\n\t\tTHORN: 222,\n\t\tUacute: 218,\n\t\tUcirc: 219,\n\t\tUgrave: 217,\n\t\tUuml: 220,\n\t\tYacute: 221,\n\t\taacute: 225,\n\t\tacirc: 226,\n\t\taelig: 230,\n\t\tagrave: 224,\n\t\taring: 229,\n\t\tatilde: 227,\n\t\tauml: 228,\n\t\tccedil: 231,\n\t\teacute: 233,\n\t\tecirc: 234,\n\t\tegrave: 232,\n\t\teth: 240,\n\t\teuml: 235,\n\t\tiacute: 237,\n\t\ticirc: 238,\n\t\tigrave: 236,\n\t\tiuml: 239,\n\t\tntilde: 241,\n\t\toacute: 243,\n\t\tocirc: 244,\n\t\tograve: 242,\n\t\toslash: 248,\n\t\totilde: 245,\n\t\touml: 246,\n\t\tszlig: 223,\n\t\tthorn: 254,\n\t\tuacute: 250,\n\t\tucirc: 251,\n\t\tugrave: 249,\n\t\tuuml: 252,\n\t\tyacute: 253,\n\t\tyuml: 255,\n\t\tcopy: 169,\n\t\treg: 174,\n\t\tnbsp: 160,\n\t\tiexcl: 161,\n\t\tcent: 162,\n\t\tpound: 163,\n\t\tcurren: 164,\n\t\tyen: 165,\n\t\tbrvbar: 166,\n\t\tsect: 167,\n\t\tuml: 168,\n\t\tordf: 170,\n\t\tlaquo: 171,\n\t\tnot: 172,\n\t\tshy: 173,\n\t\tmacr: 175,\n\t\tdeg: 176,\n\t\tplusmn: 177,\n\t\tsup1: 185,\n\t\tsup2: 178,\n\t\tsup3: 179,\n\t\tacute: 180,\n\t\tmicro: 181,\n\t\tpara: 182,\n\t\tmiddot: 183,\n\t\tcedil: 184,\n\t\tordm: 186,\n\t\traquo: 187,\n\t\tfrac14: 188,\n\t\tfrac12: 189,\n\t\tfrac34: 190,\n\t\tiquest: 191,\n\t\ttimes: 215,\n\t\tdivide: 247,\n\t\tOElig: 338,\n\t\toelig: 339,\n\t\tScaron: 352,\n\t\tscaron: 353,\n\t\tYuml: 376,\n\t\tfnof: 402,\n\t\tcirc: 710,\n\t\ttilde: 732,\n\t\tAlpha: 913,\n\t\tBeta: 914,\n\t\tGamma: 915,\n\t\tDelta: 916,\n\t\tEpsilon: 917,\n\t\tZeta: 918,\n\t\tEta: 919,\n\t\tTheta: 920,\n\t\tIota: 921,\n\t\tKappa: 922,\n\t\tLambda: 923,\n\t\tMu: 924,\n\t\tNu: 925,\n\t\tXi: 926,\n\t\tOmicron: 927,\n\t\tPi: 928,\n\t\tRho: 929,\n\t\tSigma: 931,\n\t\tTau: 932,\n\t\tUpsilon: 933,\n\t\tPhi: 934,\n\t\tChi: 935,\n\t\tPsi: 936,\n\t\tOmega: 937,\n\t\talpha: 945,\n\t\tbeta: 946,\n\t\tgamma: 947,\n\t\tdelta: 948,\n\t\tepsilon: 949,\n\t\tzeta: 950,\n\t\teta: 951,\n\t\ttheta: 952,\n\t\tiota: 953,\n\t\tkappa: 954,\n\t\tlambda: 955,\n\t\tmu: 956,\n\t\tnu: 957,\n\t\txi: 958,\n\t\tomicron: 959,\n\t\tpi: 960,\n\t\trho: 961,\n\t\tsigmaf: 962,\n\t\tsigma: 963,\n\t\ttau: 964,\n\t\tupsilon: 965,\n\t\tphi: 966,\n\t\tchi: 967,\n\t\tpsi: 968,\n\t\tomega: 969,\n\t\tthetasym: 977,\n\t\tupsih: 978,\n\t\tpiv: 982,\n\t\tensp: 8194,\n\t\temsp: 8195,\n\t\tthinsp: 8201,\n\t\tzwnj: 8204,\n\t\tzwj: 8205,\n\t\tlrm: 8206,\n\t\trlm: 8207,\n\t\tndash: 8211,\n\t\tmdash: 8212,\n\t\tlsquo: 8216,\n\t\trsquo: 8217,\n\t\tsbquo: 8218,\n\t\tldquo: 8220,\n\t\trdquo: 8221,\n\t\tbdquo: 8222,\n\t\tdagger: 8224,\n\t\tDagger: 8225,\n\t\tbull: 8226,\n\t\thellip: 8230,\n\t\tpermil: 8240,\n\t\tprime: 8242,\n\t\tPrime: 8243,\n\t\tlsaquo: 8249,\n\t\trsaquo: 8250,\n\t\toline: 8254,\n\t\tfrasl: 8260,\n\t\teuro: 8364,\n\t\timage: 8465,\n\t\tweierp: 8472,\n\t\treal: 8476,\n\t\ttrade: 8482,\n\t\talefsym: 8501,\n\t\tlarr: 8592,\n\t\tuarr: 8593,\n\t\trarr: 8594,\n\t\tdarr: 8595,\n\t\tharr: 8596,\n\t\tcrarr: 8629,\n\t\tlArr: 8656,\n\t\tuArr: 8657,\n\t\trArr: 8658,\n\t\tdArr: 8659,\n\t\thArr: 8660,\n\t\tforall: 8704,\n\t\tpart: 8706,\n\t\texist: 8707,\n\t\tempty: 8709,\n\t\tnabla: 8711,\n\t\tisin: 8712,\n\t\tnotin: 8713,\n\t\tni: 8715,\n\t\tprod: 8719,\n\t\tsum: 8721,\n\t\tminus: 8722,\n\t\tlowast: 8727,\n\t\tradic: 8730,\n\t\tprop: 8733,\n\t\tinfin: 8734,\n\t\tang: 8736,\n\t\tand: 8743,\n\t\tor: 8744,\n\t\tcap: 8745,\n\t\tcup: 8746,\n\t\tint: 8747,\n\t\tthere4: 8756,\n\t\tsim: 8764,\n\t\tcong: 8773,\n\t\tasymp: 8776,\n\t\tne: 8800,\n\t\tequiv: 8801,\n\t\tle: 8804,\n\t\tge: 8805,\n\t\tsub: 8834,\n\t\tsup: 8835,\n\t\tnsub: 8836,\n\t\tsube: 8838,\n\t\tsupe: 8839,\n\t\toplus: 8853,\n\t\totimes: 8855,\n\t\tperp: 8869,\n\t\tsdot: 8901,\n\t\tlceil: 8968,\n\t\trceil: 8969,\n\t\tlfloor: 8970,\n\t\trfloor: 8971,\n\t\tlang: 9001,\n\t\trang: 9002,\n\t\tloz: 9674,\n\t\tspades: 9824,\n\t\tclubs: 9827,\n\t\thearts: 9829,\n\t\tdiams: 9830\n\t};\n\tObject.keys(sax$1.ENTITIES).forEach(function(key) {\n\t\tvar e = sax$1.ENTITIES[key];\n\t\tvar s$1 = typeof e === \"number\" ? String.fromCharCode(e) : e;\n\t\tsax$1.ENTITIES[key] = s$1;\n\t});\n\tfor (var s in sax$1.STATE) sax$1.STATE[sax$1.STATE[s]] = s;\n\tS = sax$1.STATE;\n\tfunction emit(parser, event, data) {\n\t\tparser[event] && parser[event](data);\n\t}\n\tfunction emitNode(parser, nodeType, data) {\n\t\tif (parser.textNode) closeText(parser);\n\t\temit(parser, nodeType, data);\n\t}\n\tfunction closeText(parser) {\n\t\tparser.textNode = textopts(parser.opt, parser.textNode);\n\t\tif (parser.textNode) emit(parser, \"ontext\", parser.textNode);\n\t\tparser.textNode = \"\";\n\t}\n\tfunction textopts(opt, text) {\n\t\tif (opt.trim) text = text.trim();\n\t\tif (opt.normalize) text = text.replace(/\\s+/g, \" \");\n\t\treturn text;\n\t}\n\tfunction error(parser, er) {\n\t\tcloseText(parser);\n\t\tif (parser.trackPosition) er += \"\\nLine: \" + parser.line + \"\\nColumn: \" + parser.column + \"\\nChar: \" + parser.c;\n\t\ter = new Error(er);\n\t\tparser.error = er;\n\t\temit(parser, \"onerror\", er);\n\t\treturn parser;\n\t}\n\tfunction end(parser) {\n\t\tif (parser.sawRoot && !parser.closedRoot) strictFail(parser, \"Unclosed root tag\");\n\t\tif (parser.state !== S.BEGIN && parser.state !== S.BEGIN_WHITESPACE && parser.state !== S.TEXT) error(parser, \"Unexpected end\");\n\t\tcloseText(parser);\n\t\tparser.c = \"\";\n\t\tparser.closed = true;\n\t\temit(parser, \"onend\");\n\t\tSAXParser.call(parser, parser.strict, parser.opt);\n\t\treturn parser;\n\t}\n\tfunction strictFail(parser, message) {\n\t\tif (typeof parser !== \"object\" || !(parser instanceof SAXParser)) throw new Error(\"bad call to strictFail\");\n\t\tif (parser.strict) error(parser, message);\n\t}\n\tfunction newTag(parser) {\n\t\tif (!parser.strict) parser.tagName = parser.tagName[parser.looseCase]();\n\t\tvar parent = parser.tags[parser.tags.length - 1] || parser;\n\t\tvar tag = parser.tag = {\n\t\t\tname: parser.tagName,\n\t\t\tattributes: {}\n\t\t};\n\t\tif (parser.opt.xmlns) tag.ns = parent.ns;\n\t\tparser.attribList.length = 0;\n\t\temitNode(parser, \"onopentagstart\", tag);\n\t}\n\tfunction qname(name, attribute) {\n\t\tvar i = name.indexOf(\":\");\n\t\tvar qualName = i < 0 ? [\"\", name] : name.split(\":\");\n\t\tvar prefix = qualName[0];\n\t\tvar local = qualName[1];\n\t\tif (attribute && name === \"xmlns\") {\n\t\t\tprefix = \"xmlns\";\n\t\t\tlocal = \"\";\n\t\t}\n\t\treturn {\n\t\t\tprefix,\n\t\t\tlocal\n\t\t};\n\t}\n\tfunction attrib(parser) {\n\t\tif (!parser.strict) parser.attribName = parser.attribName[parser.looseCase]();\n\t\tif (parser.attribList.indexOf(parser.attribName) !== -1 || parser.tag.attributes.hasOwnProperty(parser.attribName)) {\n\t\t\tparser.attribName = parser.attribValue = \"\";\n\t\t\treturn;\n\t\t}\n\t\tif (parser.opt.xmlns) {\n\t\t\tvar qn = qname(parser.attribName, true);\n\t\t\tvar prefix = qn.prefix;\n\t\t\tvar local = qn.local;\n\t\t\tif (prefix === \"xmlns\") if (local === \"xml\" && parser.attribValue !== XML_NAMESPACE) strictFail(parser, \"xml: prefix must be bound to \" + XML_NAMESPACE + \"\\nActual: \" + parser.attribValue);\n\t\t\telse if (local === \"xmlns\" && parser.attribValue !== XMLNS_NAMESPACE) strictFail(parser, \"xmlns: prefix must be bound to \" + XMLNS_NAMESPACE + \"\\nActual: \" + parser.attribValue);\n\t\t\telse {\n\t\t\t\tvar tag = parser.tag;\n\t\t\t\tvar parent = parser.tags[parser.tags.length - 1] || parser;\n\t\t\t\tif (tag.ns === parent.ns) tag.ns = Object.create(parent.ns);\n\t\t\t\ttag.ns[local] = parser.attribValue;\n\t\t\t}\n\t\t\tparser.attribList.push([parser.attribName, parser.attribValue]);\n\t\t} else {\n\t\t\tparser.tag.attributes[parser.attribName] = parser.attribValue;\n\t\t\temitNode(parser, \"onattribute\", {\n\t\t\t\tname: parser.attribName,\n\t\t\t\tvalue: parser.attribValue\n\t\t\t});\n\t\t}\n\t\tparser.attribName = parser.attribValue = \"\";\n\t}\n\tfunction openTag(parser, selfClosing) {\n\t\tif (parser.opt.xmlns) {\n\t\t\tvar tag = parser.tag;\n\t\t\tvar qn = qname(parser.tagName);\n\t\t\ttag.prefix = qn.prefix;\n\t\t\ttag.local = qn.local;\n\t\t\ttag.uri = tag.ns[qn.prefix] || \"\";\n\t\t\tif (tag.prefix && !tag.uri) {\n\t\t\t\tstrictFail(parser, \"Unbound namespace prefix: \" + JSON.stringify(parser.tagName));\n\t\t\t\ttag.uri = qn.prefix;\n\t\t\t}\n\t\t\tvar parent = parser.tags[parser.tags.length - 1] || parser;\n\t\t\tif (tag.ns && parent.ns !== tag.ns) Object.keys(tag.ns).forEach(function(p) {\n\t\t\t\temitNode(parser, \"onopennamespace\", {\n\t\t\t\t\tprefix: p,\n\t\t\t\t\turi: tag.ns[p]\n\t\t\t\t});\n\t\t\t});\n\t\t\tfor (var i = 0, l = parser.attribList.length; i < l; i++) {\n\t\t\t\tvar nv = parser.attribList[i];\n\t\t\t\tvar name = nv[0];\n\t\t\t\tvar value = nv[1];\n\t\t\t\tvar qualName = qname(name, true);\n\t\t\t\tvar prefix = qualName.prefix;\n\t\t\t\tvar local = qualName.local;\n\t\t\t\tvar uri = prefix === \"\" ? \"\" : tag.ns[prefix] || \"\";\n\t\t\t\tvar a = {\n\t\t\t\t\tname,\n\t\t\t\t\tvalue,\n\t\t\t\t\tprefix,\n\t\t\t\t\tlocal,\n\t\t\t\t\turi\n\t\t\t\t};\n\t\t\t\tif (prefix && prefix !== \"xmlns\" && !uri) {\n\t\t\t\t\tstrictFail(parser, \"Unbound namespace prefix: \" + JSON.stringify(prefix));\n\t\t\t\t\ta.uri = prefix;\n\t\t\t\t}\n\t\t\t\tparser.tag.attributes[name] = a;\n\t\t\t\temitNode(parser, \"onattribute\", a);\n\t\t\t}\n\t\t\tparser.attribList.length = 0;\n\t\t}\n\t\tparser.tag.isSelfClosing = !!selfClosing;\n\t\tparser.sawRoot = true;\n\t\tparser.tags.push(parser.tag);\n\t\temitNode(parser, \"onopentag\", parser.tag);\n\t\tif (!selfClosing) {\n\t\t\tif (!parser.noscript && parser.tagName.toLowerCase() === \"script\") parser.state = S.SCRIPT;\n\t\t\telse parser.state = S.TEXT;\n\t\t\tparser.tag = null;\n\t\t\tparser.tagName = \"\";\n\t\t}\n\t\tparser.attribName = parser.attribValue = \"\";\n\t\tparser.attribList.length = 0;\n\t}\n\tfunction closeTag(parser) {\n\t\tif (!parser.tagName) {\n\t\t\tstrictFail(parser, \"Weird empty close tag.\");\n\t\t\tparser.textNode += \"</>\";\n\t\t\tparser.state = S.TEXT;\n\t\t\treturn;\n\t\t}\n\t\tif (parser.script) {\n\t\t\tif (parser.tagName !== \"script\") {\n\t\t\t\tparser.script += \"</\" + parser.tagName + \">\";\n\t\t\t\tparser.tagName = \"\";\n\t\t\t\tparser.state = S.SCRIPT;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\temitNode(parser, \"onscript\", parser.script);\n\t\t\tparser.script = \"\";\n\t\t}\n\t\tvar t = parser.tags.length;\n\t\tvar tagName = parser.tagName;\n\t\tif (!parser.strict) tagName = tagName[parser.looseCase]();\n\t\tvar closeTo = tagName;\n\t\twhile (t--) {\n\t\t\tvar close = parser.tags[t];\n\t\t\tif (close.name !== closeTo) strictFail(parser, \"Unexpected close tag\");\n\t\t\telse break;\n\t\t}\n\t\tif (t < 0) {\n\t\t\tstrictFail(parser, \"Unmatched closing tag: \" + parser.tagName);\n\t\t\tparser.textNode += \"</\" + parser.tagName + \">\";\n\t\t\tparser.state = S.TEXT;\n\t\t\treturn;\n\t\t}\n\t\tparser.tagName = tagName;\n\t\tvar s$1 = parser.tags.length;\n\t\twhile (s$1-- > t) {\n\t\t\tvar tag = parser.tag = parser.tags.pop();\n\t\t\tparser.tagName = parser.tag.name;\n\t\t\temitNode(parser, \"onclosetag\", parser.tagName);\n\t\t\tvar x = {};\n\t\t\tfor (var i in tag.ns) x[i] = tag.ns[i];\n\t\t\tvar parent = parser.tags[parser.tags.length - 1] || parser;\n\t\t\tif (parser.opt.xmlns && tag.ns !== parent.ns) Object.keys(tag.ns).forEach(function(p) {\n\t\t\t\tvar n = tag.ns[p];\n\t\t\t\temitNode(parser, \"onclosenamespace\", {\n\t\t\t\t\tprefix: p,\n\t\t\t\t\turi: n\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\tif (t === 0) parser.closedRoot = true;\n\t\tparser.tagName = parser.attribValue = parser.attribName = \"\";\n\t\tparser.attribList.length = 0;\n\t\tparser.state = S.TEXT;\n\t}\n\tfunction parseEntity(parser) {\n\t\tvar entity = parser.entity;\n\t\tvar entityLC = entity.toLowerCase();\n\t\tvar num;\n\t\tvar numStr = \"\";\n\t\tif (parser.ENTITIES[entity]) return parser.ENTITIES[entity];\n\t\tif (parser.ENTITIES[entityLC]) return parser.ENTITIES[entityLC];\n\t\tentity = entityLC;\n\t\tif (entity.charAt(0) === \"#\") if (entity.charAt(1) === \"x\") {\n\t\t\tentity = entity.slice(2);\n\t\t\tnum = parseInt(entity, 16);\n\t\t\tnumStr = num.toString(16);\n\t\t} else {\n\t\t\tentity = entity.slice(1);\n\t\t\tnum = parseInt(entity, 10);\n\t\t\tnumStr = num.toString(10);\n\t\t}\n\t\tentity = entity.replace(/^0+/, \"\");\n\t\tif (isNaN(num) || numStr.toLowerCase() !== entity) {\n\t\t\tstrictFail(parser, \"Invalid character entity\");\n\t\t\treturn \"&\" + parser.entity + \";\";\n\t\t}\n\t\treturn String.fromCodePoint(num);\n\t}\n\tfunction beginWhiteSpace(parser, c) {\n\t\tif (c === \"<\") {\n\t\t\tparser.state = S.OPEN_WAKA;\n\t\t\tparser.startTagPosition = parser.position;\n\t\t} else if (!isWhitespace(c)) {\n\t\t\tstrictFail(parser, \"Non-whitespace before first tag.\");\n\t\t\tparser.textNode = c;\n\t\t\tparser.state = S.TEXT;\n\t\t}\n\t}\n\tfunction charAt(chunk, i) {\n\t\tvar result = \"\";\n\t\tif (i < chunk.length) result = chunk.charAt(i);\n\t\treturn result;\n\t}\n\tfunction write(chunk) {\n\t\tvar parser = this;\n\t\tif (this.error) throw this.error;\n\t\tif (parser.closed) return error(parser, \"Cannot write after close. Assign an onready handler.\");\n\t\tif (chunk === null) return end(parser);\n\t\tif (typeof chunk === \"object\") chunk = chunk.toString();\n\t\tvar i = 0;\n\t\tvar c = \"\";\n\t\twhile (true) {\n\t\t\tc = charAt(chunk, i++);\n\t\t\tparser.c = c;\n\t\t\tif (!c) break;\n\t\t\tif (parser.trackPosition) {\n\t\t\t\tparser.position++;\n\t\t\t\tif (c === \"\\n\") {\n\t\t\t\t\tparser.line++;\n\t\t\t\t\tparser.column = 0;\n\t\t\t\t} else parser.column++;\n\t\t\t}\n\t\t\tswitch (parser.state) {\n\t\t\t\tcase S.BEGIN:\n\t\t\t\t\tparser.state = S.BEGIN_WHITESPACE;\n\t\t\t\t\tif (c === \"\") continue;\n\t\t\t\t\tbeginWhiteSpace(parser, c);\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.BEGIN_WHITESPACE:\n\t\t\t\t\tbeginWhiteSpace(parser, c);\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.TEXT:\n\t\t\t\t\tif (parser.sawRoot && !parser.closedRoot) {\n\t\t\t\t\t\tvar starti = i - 1;\n\t\t\t\t\t\twhile (c && c !== \"<\" && c !== \"&\") {\n\t\t\t\t\t\t\tc = charAt(chunk, i++);\n\t\t\t\t\t\t\tif (c && parser.trackPosition) {\n\t\t\t\t\t\t\t\tparser.position++;\n\t\t\t\t\t\t\t\tif (c === \"\\n\") {\n\t\t\t\t\t\t\t\t\tparser.line++;\n\t\t\t\t\t\t\t\t\tparser.column = 0;\n\t\t\t\t\t\t\t\t} else parser.column++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tparser.textNode += chunk.substring(starti, i - 1);\n\t\t\t\t\t}\n\t\t\t\t\tif (c === \"<\" && !(parser.sawRoot && parser.closedRoot && !parser.strict)) {\n\t\t\t\t\t\tparser.state = S.OPEN_WAKA;\n\t\t\t\t\t\tparser.startTagPosition = parser.position;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (!isWhitespace(c) && (!parser.sawRoot || parser.closedRoot)) strictFail(parser, \"Text data outside of root node.\");\n\t\t\t\t\t\tif (c === \"&\") parser.state = S.TEXT_ENTITY;\n\t\t\t\t\t\telse parser.textNode += c;\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.SCRIPT:\n\t\t\t\t\tif (c === \"<\") parser.state = S.SCRIPT_ENDING;\n\t\t\t\t\telse parser.script += c;\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.SCRIPT_ENDING:\n\t\t\t\t\tif (c === \"/\") parser.state = S.CLOSE_TAG;\n\t\t\t\t\telse {\n\t\t\t\t\t\tparser.script += \"<\" + c;\n\t\t\t\t\t\tparser.state = S.SCRIPT;\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.OPEN_WAKA:\n\t\t\t\t\tif (c === \"!\") {\n\t\t\t\t\t\tparser.state = S.SGML_DECL;\n\t\t\t\t\t\tparser.sgmlDecl = \"\";\n\t\t\t\t\t} else if (isWhitespace(c)) {} else if (isMatch(nameStart, c)) {\n\t\t\t\t\t\tparser.state = S.OPEN_TAG;\n\t\t\t\t\t\tparser.tagName = c;\n\t\t\t\t\t} else if (c === \"/\") {\n\t\t\t\t\t\tparser.state = S.CLOSE_TAG;\n\t\t\t\t\t\tparser.tagName = \"\";\n\t\t\t\t\t} else if (c === \"?\") {\n\t\t\t\t\t\tparser.state = S.PROC_INST;\n\t\t\t\t\t\tparser.procInstName = parser.procInstBody = \"\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstrictFail(parser, \"Unencoded <\");\n\t\t\t\t\t\tif (parser.startTagPosition + 1 < parser.position) {\n\t\t\t\t\t\t\tvar pad = parser.position - parser.startTagPosition;\n\t\t\t\t\t\t\tc = new Array(pad).join(\" \") + c;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tparser.textNode += \"<\" + c;\n\t\t\t\t\t\tparser.state = S.TEXT;\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.SGML_DECL:\n\t\t\t\t\tif ((parser.sgmlDecl + c).toUpperCase() === CDATA) {\n\t\t\t\t\t\temitNode(parser, \"onopencdata\");\n\t\t\t\t\t\tparser.state = S.CDATA;\n\t\t\t\t\t\tparser.sgmlDecl = \"\";\n\t\t\t\t\t\tparser.cdata = \"\";\n\t\t\t\t\t} else if (parser.sgmlDecl + c === \"--\") {\n\t\t\t\t\t\tparser.state = S.COMMENT;\n\t\t\t\t\t\tparser.comment = \"\";\n\t\t\t\t\t\tparser.sgmlDecl = \"\";\n\t\t\t\t\t} else if ((parser.sgmlDecl + c).toUpperCase() === DOCTYPE) {\n\t\t\t\t\t\tparser.state = S.DOCTYPE;\n\t\t\t\t\t\tif (parser.doctype || parser.sawRoot) strictFail(parser, \"Inappropriately located doctype declaration\");\n\t\t\t\t\t\tparser.doctype = \"\";\n\t\t\t\t\t\tparser.sgmlDecl = \"\";\n\t\t\t\t\t} else if (c === \">\") {\n\t\t\t\t\t\temitNode(parser, \"onsgmldeclaration\", parser.sgmlDecl);\n\t\t\t\t\t\tparser.sgmlDecl = \"\";\n\t\t\t\t\t\tparser.state = S.TEXT;\n\t\t\t\t\t} else if (isQuote(c)) {\n\t\t\t\t\t\tparser.state = S.SGML_DECL_QUOTED;\n\t\t\t\t\t\tparser.sgmlDecl += c;\n\t\t\t\t\t} else parser.sgmlDecl += c;\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.SGML_DECL_QUOTED:\n\t\t\t\t\tif (c === parser.q) {\n\t\t\t\t\t\tparser.state = S.SGML_DECL;\n\t\t\t\t\t\tparser.q = \"\";\n\t\t\t\t\t}\n\t\t\t\t\tparser.sgmlDecl += c;\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.DOCTYPE:\n\t\t\t\t\tif (c === \">\") {\n\t\t\t\t\t\tparser.state = S.TEXT;\n\t\t\t\t\t\temitNode(parser, \"ondoctype\", parser.doctype);\n\t\t\t\t\t\tparser.doctype = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparser.doctype += c;\n\t\t\t\t\t\tif (c === \"[\") parser.state = S.DOCTYPE_DTD;\n\t\t\t\t\t\telse if (isQuote(c)) {\n\t\t\t\t\t\t\tparser.state = S.DOCTYPE_QUOTED;\n\t\t\t\t\t\t\tparser.q = c;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.DOCTYPE_QUOTED:\n\t\t\t\t\tparser.doctype += c;\n\t\t\t\t\tif (c === parser.q) {\n\t\t\t\t\t\tparser.q = \"\";\n\t\t\t\t\t\tparser.state = S.DOCTYPE;\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.DOCTYPE_DTD:\n\t\t\t\t\tparser.doctype += c;\n\t\t\t\t\tif (c === \"]\") parser.state = S.DOCTYPE;\n\t\t\t\t\telse if (isQuote(c)) {\n\t\t\t\t\t\tparser.state = S.DOCTYPE_DTD_QUOTED;\n\t\t\t\t\t\tparser.q = c;\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.DOCTYPE_DTD_QUOTED:\n\t\t\t\t\tparser.doctype += c;\n\t\t\t\t\tif (c === parser.q) {\n\t\t\t\t\t\tparser.state = S.DOCTYPE_DTD;\n\t\t\t\t\t\tparser.q = \"\";\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.COMMENT:\n\t\t\t\t\tif (c === \"-\") parser.state = S.COMMENT_ENDING;\n\t\t\t\t\telse parser.comment += c;\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.COMMENT_ENDING:\n\t\t\t\t\tif (c === \"-\") {\n\t\t\t\t\t\tparser.state = S.COMMENT_ENDED;\n\t\t\t\t\t\tparser.comment = textopts(parser.opt, parser.comment);\n\t\t\t\t\t\tif (parser.comment) emitNode(parser, \"oncomment\", parser.comment);\n\t\t\t\t\t\tparser.comment = \"\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparser.comment += \"-\" + c;\n\t\t\t\t\t\tparser.state = S.COMMENT;\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.COMMENT_ENDED:\n\t\t\t\t\tif (c !== \">\") {\n\t\t\t\t\t\tstrictFail(parser, \"Malformed comment\");\n\t\t\t\t\t\tparser.comment += \"--\" + c;\n\t\t\t\t\t\tparser.state = S.COMMENT;\n\t\t\t\t\t} else parser.state = S.TEXT;\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.CDATA:\n\t\t\t\t\tif (c === \"]\") parser.state = S.CDATA_ENDING;\n\t\t\t\t\telse parser.cdata += c;\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.CDATA_ENDING:\n\t\t\t\t\tif (c === \"]\") parser.state = S.CDATA_ENDING_2;\n\t\t\t\t\telse {\n\t\t\t\t\t\tparser.cdata += \"]\" + c;\n\t\t\t\t\t\tparser.state = S.CDATA;\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.CDATA_ENDING_2:\n\t\t\t\t\tif (c === \">\") {\n\t\t\t\t\t\tif (parser.cdata) emitNode(parser, \"oncdata\", parser.cdata);\n\t\t\t\t\t\temitNode(parser, \"onclosecdata\");\n\t\t\t\t\t\tparser.cdata = \"\";\n\t\t\t\t\t\tparser.state = S.TEXT;\n\t\t\t\t\t} else if (c === \"]\") parser.cdata += \"]\";\n\t\t\t\t\telse {\n\t\t\t\t\t\tparser.cdata += \"]]\" + c;\n\t\t\t\t\t\tparser.state = S.CDATA;\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.PROC_INST:\n\t\t\t\t\tif (c === \"?\") parser.state = S.PROC_INST_ENDING;\n\t\t\t\t\telse if (isWhitespace(c)) parser.state = S.PROC_INST_BODY;\n\t\t\t\t\telse parser.procInstName += c;\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.PROC_INST_BODY:\n\t\t\t\t\tif (!parser.procInstBody && isWhitespace(c)) continue;\n\t\t\t\t\telse if (c === \"?\") parser.state = S.PROC_INST_ENDING;\n\t\t\t\t\telse parser.procInstBody += c;\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.PROC_INST_ENDING:\n\t\t\t\t\tif (c === \">\") {\n\t\t\t\t\t\temitNode(parser, \"onprocessinginstruction\", {\n\t\t\t\t\t\t\tname: parser.procInstName,\n\t\t\t\t\t\t\tbody: parser.procInstBody\n\t\t\t\t\t\t});\n\t\t\t\t\t\tparser.procInstName = parser.procInstBody = \"\";\n\t\t\t\t\t\tparser.state = S.TEXT;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparser.procInstBody += \"?\" + c;\n\t\t\t\t\t\tparser.state = S.PROC_INST_BODY;\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.OPEN_TAG:\n\t\t\t\t\tif (isMatch(nameBody, c)) parser.tagName += c;\n\t\t\t\t\telse {\n\t\t\t\t\t\tnewTag(parser);\n\t\t\t\t\t\tif (c === \">\") openTag(parser);\n\t\t\t\t\t\telse if (c === \"/\") parser.state = S.OPEN_TAG_SLASH;\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif (!isWhitespace(c)) strictFail(parser, \"Invalid character in tag name\");\n\t\t\t\t\t\t\tparser.state = S.ATTRIB;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.OPEN_TAG_SLASH:\n\t\t\t\t\tif (c === \">\") {\n\t\t\t\t\t\topenTag(parser, true);\n\t\t\t\t\t\tcloseTag(parser);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstrictFail(parser, \"Forward-slash in opening tag not followed by >\");\n\t\t\t\t\t\tparser.state = S.ATTRIB;\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.ATTRIB:\n\t\t\t\t\tif (isWhitespace(c)) continue;\n\t\t\t\t\telse if (c === \">\") openTag(parser);\n\t\t\t\t\telse if (c === \"/\") parser.state = S.OPEN_TAG_SLASH;\n\t\t\t\t\telse if (isMatch(nameStart, c)) {\n\t\t\t\t\t\tparser.attribName = c;\n\t\t\t\t\t\tparser.attribValue = \"\";\n\t\t\t\t\t\tparser.state = S.ATTRIB_NAME;\n\t\t\t\t\t} else strictFail(parser, \"Invalid attribute name\");\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.ATTRIB_NAME:\n\t\t\t\t\tif (c === \"=\") parser.state = S.ATTRIB_VALUE;\n\t\t\t\t\telse if (c === \">\") {\n\t\t\t\t\t\tstrictFail(parser, \"Attribute without value\");\n\t\t\t\t\t\tparser.attribValue = parser.attribName;\n\t\t\t\t\t\tattrib(parser);\n\t\t\t\t\t\topenTag(parser);\n\t\t\t\t\t} else if (isWhitespace(c)) parser.state = S.ATTRIB_NAME_SAW_WHITE;\n\t\t\t\t\telse if (isMatch(nameBody, c)) parser.attribName += c;\n\t\t\t\t\telse strictFail(parser, \"Invalid attribute name\");\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.ATTRIB_NAME_SAW_WHITE:\n\t\t\t\t\tif (c === \"=\") parser.state = S.ATTRIB_VALUE;\n\t\t\t\t\telse if (isWhitespace(c)) continue;\n\t\t\t\t\telse {\n\t\t\t\t\t\tstrictFail(parser, \"Attribute without value\");\n\t\t\t\t\t\tparser.tag.attributes[parser.attribName] = \"\";\n\t\t\t\t\t\tparser.attribValue = \"\";\n\t\t\t\t\t\temitNode(parser, \"onattribute\", {\n\t\t\t\t\t\t\tname: parser.attribName,\n\t\t\t\t\t\t\tvalue: \"\"\n\t\t\t\t\t\t});\n\t\t\t\t\t\tparser.attribName = \"\";\n\t\t\t\t\t\tif (c === \">\") openTag(parser);\n\t\t\t\t\t\telse if (isMatch(nameStart, c)) {\n\t\t\t\t\t\t\tparser.attribName = c;\n\t\t\t\t\t\t\tparser.state = S.ATTRIB_NAME;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstrictFail(parser, \"Invalid attribute name\");\n\t\t\t\t\t\t\tparser.state = S.ATTRIB;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.ATTRIB_VALUE:\n\t\t\t\t\tif (isWhitespace(c)) continue;\n\t\t\t\t\telse if (isQuote(c)) {\n\t\t\t\t\t\tparser.q = c;\n\t\t\t\t\t\tparser.state = S.ATTRIB_VALUE_QUOTED;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstrictFail(parser, \"Unquoted attribute value\");\n\t\t\t\t\t\tparser.state = S.ATTRIB_VALUE_UNQUOTED;\n\t\t\t\t\t\tparser.attribValue = c;\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.ATTRIB_VALUE_QUOTED:\n\t\t\t\t\tif (c !== parser.q) {\n\t\t\t\t\t\tif (c === \"&\") parser.state = S.ATTRIB_VALUE_ENTITY_Q;\n\t\t\t\t\t\telse parser.attribValue += c;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tattrib(parser);\n\t\t\t\t\tparser.q = \"\";\n\t\t\t\t\tparser.state = S.ATTRIB_VALUE_CLOSED;\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.ATTRIB_VALUE_CLOSED:\n\t\t\t\t\tif (isWhitespace(c)) parser.state = S.ATTRIB;\n\t\t\t\t\telse if (c === \">\") openTag(parser);\n\t\t\t\t\telse if (c === \"/\") parser.state = S.OPEN_TAG_SLASH;\n\t\t\t\t\telse if (isMatch(nameStart, c)) {\n\t\t\t\t\t\tstrictFail(parser, \"No whitespace between attributes\");\n\t\t\t\t\t\tparser.attribName = c;\n\t\t\t\t\t\tparser.attribValue = \"\";\n\t\t\t\t\t\tparser.state = S.ATTRIB_NAME;\n\t\t\t\t\t} else strictFail(parser, \"Invalid attribute name\");\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.ATTRIB_VALUE_UNQUOTED:\n\t\t\t\t\tif (!isAttribEnd(c)) {\n\t\t\t\t\t\tif (c === \"&\") parser.state = S.ATTRIB_VALUE_ENTITY_U;\n\t\t\t\t\t\telse parser.attribValue += c;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tattrib(parser);\n\t\t\t\t\tif (c === \">\") openTag(parser);\n\t\t\t\t\telse parser.state = S.ATTRIB;\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.CLOSE_TAG:\n\t\t\t\t\tif (!parser.tagName) if (isWhitespace(c)) continue;\n\t\t\t\t\telse if (notMatch(nameStart, c)) if (parser.script) {\n\t\t\t\t\t\tparser.script += \"</\" + c;\n\t\t\t\t\t\tparser.state = S.SCRIPT;\n\t\t\t\t\t} else strictFail(parser, \"Invalid tagname in closing tag.\");\n\t\t\t\t\telse parser.tagName = c;\n\t\t\t\t\telse if (c === \">\") closeTag(parser);\n\t\t\t\t\telse if (isMatch(nameBody, c)) parser.tagName += c;\n\t\t\t\t\telse if (parser.script) {\n\t\t\t\t\t\tparser.script += \"</\" + parser.tagName;\n\t\t\t\t\t\tparser.tagName = \"\";\n\t\t\t\t\t\tparser.state = S.SCRIPT;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (!isWhitespace(c)) strictFail(parser, \"Invalid tagname in closing tag\");\n\t\t\t\t\t\tparser.state = S.CLOSE_TAG_SAW_WHITE;\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.CLOSE_TAG_SAW_WHITE:\n\t\t\t\t\tif (isWhitespace(c)) continue;\n\t\t\t\t\tif (c === \">\") closeTag(parser);\n\t\t\t\t\telse strictFail(parser, \"Invalid characters in closing tag\");\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.TEXT_ENTITY:\n\t\t\t\tcase S.ATTRIB_VALUE_ENTITY_Q:\n\t\t\t\tcase S.ATTRIB_VALUE_ENTITY_U:\n\t\t\t\t\tvar returnState;\n\t\t\t\t\tvar buffer;\n\t\t\t\t\tswitch (parser.state) {\n\t\t\t\t\t\tcase S.TEXT_ENTITY:\n\t\t\t\t\t\t\treturnState = S.TEXT;\n\t\t\t\t\t\t\tbuffer = \"textNode\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase S.ATTRIB_VALUE_ENTITY_Q:\n\t\t\t\t\t\t\treturnState = S.ATTRIB_VALUE_QUOTED;\n\t\t\t\t\t\t\tbuffer = \"attribValue\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase S.ATTRIB_VALUE_ENTITY_U:\n\t\t\t\t\t\t\treturnState = S.ATTRIB_VALUE_UNQUOTED;\n\t\t\t\t\t\t\tbuffer = \"attribValue\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (c === \";\") if (parser.opt.unparsedEntities) {\n\t\t\t\t\t\tvar parsedEntity = parseEntity(parser);\n\t\t\t\t\t\tparser.entity = \"\";\n\t\t\t\t\t\tparser.state = returnState;\n\t\t\t\t\t\tparser.write(parsedEntity);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparser[buffer] += parseEntity(parser);\n\t\t\t\t\t\tparser.entity = \"\";\n\t\t\t\t\t\tparser.state = returnState;\n\t\t\t\t\t}\n\t\t\t\t\telse if (isMatch(parser.entity.length ? entityBody : entityStart, c)) parser.entity += c;\n\t\t\t\t\telse {\n\t\t\t\t\t\tstrictFail(parser, \"Invalid character in entity name\");\n\t\t\t\t\t\tparser[buffer] += \"&\" + parser.entity + c;\n\t\t\t\t\t\tparser.entity = \"\";\n\t\t\t\t\t\tparser.state = returnState;\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\tdefault: throw new Error(parser, \"Unknown state: \" + parser.state);\n\t\t\t}\n\t\t}\n\t\tif (parser.position >= parser.bufferCheckPosition) checkBufferLength(parser);\n\t\treturn parser;\n\t}\n\t/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */\n\t/* istanbul ignore next */\n\tif (!String.fromCodePoint) (function() {\n\t\tvar stringFromCharCode = String.fromCharCode;\n\t\tvar floor = Math.floor;\n\t\tvar fromCodePoint = function() {\n\t\t\tvar MAX_SIZE = 16384;\n\t\t\tvar codeUnits = [];\n\t\t\tvar highSurrogate;\n\t\t\tvar lowSurrogate;\n\t\t\tvar index = -1;\n\t\t\tvar length = arguments.length;\n\t\t\tif (!length) return \"\";\n\t\t\tvar result = \"\";\n\t\t\twhile (++index < length) {\n\t\t\t\tvar codePoint = Number(arguments[index]);\n\t\t\t\tif (!isFinite(codePoint) || codePoint < 0 || codePoint > 1114111 || floor(codePoint) !== codePoint) throw RangeError(\"Invalid code point: \" + codePoint);\n\t\t\t\tif (codePoint <= 65535) codeUnits.push(codePoint);\n\t\t\t\telse {\n\t\t\t\t\tcodePoint -= 65536;\n\t\t\t\t\thighSurrogate = (codePoint >> 10) + 55296;\n\t\t\t\t\tlowSurrogate = codePoint % 1024 + 56320;\n\t\t\t\t\tcodeUnits.push(highSurrogate, lowSurrogate);\n\t\t\t\t}\n\t\t\t\tif (index + 1 === length || codeUnits.length > MAX_SIZE) {\n\t\t\t\t\tresult += stringFromCharCode.apply(null, codeUnits);\n\t\t\t\t\tcodeUnits.length = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t\t/* istanbul ignore next */\n\t\tif (Object.defineProperty) Object.defineProperty(String, \"fromCodePoint\", {\n\t\t\tvalue: fromCodePoint,\n\t\t\tconfigurable: true,\n\t\t\twritable: true\n\t\t});\n\t\telse String.fromCodePoint = fromCodePoint;\n\t})();\n\treturn sax$1;\n};\nconst sax = initializeSax();\n\n//#endregion\n\n//# sourceMappingURL=sax.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9zYXgtanMvc2F4LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsT0FBTztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsT0FBTztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNIO0FBQ0EseURBQXlELGVBQWUsb0JBQW9CO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0osaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyw2QkFBNkI7QUFDcEM7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBRUE7QUFDZTtBQUNmIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9zYXgtanMvc2F4LmpzPzg2OGIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8jcmVnaW9uIHNyYy91dGlscy9zYXgtanMvc2F4LnRzXG5jb25zdCBpbml0aWFsaXplU2F4ID0gZnVuY3Rpb24oKSB7XG5cdGNvbnN0IHNheCQxID0ge307XG5cdHNheCQxLnBhcnNlciA9IGZ1bmN0aW9uKHN0cmljdCwgb3B0KSB7XG5cdFx0cmV0dXJuIG5ldyBTQVhQYXJzZXIoc3RyaWN0LCBvcHQpO1xuXHR9O1xuXHRzYXgkMS5TQVhQYXJzZXIgPSBTQVhQYXJzZXI7XG5cdHNheCQxLlNBWFN0cmVhbSA9IFNBWFN0cmVhbTtcblx0c2F4JDEuY3JlYXRlU3RyZWFtID0gY3JlYXRlU3RyZWFtO1xuXHRzYXgkMS5NQVhfQlVGRkVSX0xFTkdUSCA9IDY0ICogMTAyNDtcblx0Y29uc3QgYnVmZmVycyA9IFtcblx0XHRcImNvbW1lbnRcIixcblx0XHRcInNnbWxEZWNsXCIsXG5cdFx0XCJ0ZXh0Tm9kZVwiLFxuXHRcdFwidGFnTmFtZVwiLFxuXHRcdFwiZG9jdHlwZVwiLFxuXHRcdFwicHJvY0luc3ROYW1lXCIsXG5cdFx0XCJwcm9jSW5zdEJvZHlcIixcblx0XHRcImVudGl0eVwiLFxuXHRcdFwiYXR0cmliTmFtZVwiLFxuXHRcdFwiYXR0cmliVmFsdWVcIixcblx0XHRcImNkYXRhXCIsXG5cdFx0XCJzY3JpcHRcIlxuXHRdO1xuXHRzYXgkMS5FVkVOVFMgPSBbXG5cdFx0XCJ0ZXh0XCIsXG5cdFx0XCJwcm9jZXNzaW5naW5zdHJ1Y3Rpb25cIixcblx0XHRcInNnbWxkZWNsYXJhdGlvblwiLFxuXHRcdFwiZG9jdHlwZVwiLFxuXHRcdFwiY29tbWVudFwiLFxuXHRcdFwib3BlbnRhZ3N0YXJ0XCIsXG5cdFx0XCJhdHRyaWJ1dGVcIixcblx0XHRcIm9wZW50YWdcIixcblx0XHRcImNsb3NldGFnXCIsXG5cdFx0XCJvcGVuY2RhdGFcIixcblx0XHRcImNkYXRhXCIsXG5cdFx0XCJjbG9zZWNkYXRhXCIsXG5cdFx0XCJlcnJvclwiLFxuXHRcdFwiZW5kXCIsXG5cdFx0XCJyZWFkeVwiLFxuXHRcdFwic2NyaXB0XCIsXG5cdFx0XCJvcGVubmFtZXNwYWNlXCIsXG5cdFx0XCJjbG9zZW5hbWVzcGFjZVwiXG5cdF07XG5cdGZ1bmN0aW9uIFNBWFBhcnNlcihzdHJpY3QsIG9wdCkge1xuXHRcdGlmICghKHRoaXMgaW5zdGFuY2VvZiBTQVhQYXJzZXIpKSByZXR1cm4gbmV3IFNBWFBhcnNlcihzdHJpY3QsIG9wdCk7XG5cdFx0dmFyIHBhcnNlciA9IHRoaXM7XG5cdFx0Y2xlYXJCdWZmZXJzKHBhcnNlcik7XG5cdFx0cGFyc2VyLnEgPSBwYXJzZXIuYyA9IFwiXCI7XG5cdFx0cGFyc2VyLmJ1ZmZlckNoZWNrUG9zaXRpb24gPSBzYXgkMS5NQVhfQlVGRkVSX0xFTkdUSDtcblx0XHRwYXJzZXIub3B0ID0gb3B0IHx8IHt9O1xuXHRcdHBhcnNlci5vcHQubG93ZXJjYXNlID0gcGFyc2VyLm9wdC5sb3dlcmNhc2UgfHwgcGFyc2VyLm9wdC5sb3dlcmNhc2V0YWdzO1xuXHRcdHBhcnNlci5sb29zZUNhc2UgPSBwYXJzZXIub3B0Lmxvd2VyY2FzZSA/IFwidG9Mb3dlckNhc2VcIiA6IFwidG9VcHBlckNhc2VcIjtcblx0XHRwYXJzZXIudGFncyA9IFtdO1xuXHRcdHBhcnNlci5jbG9zZWQgPSBwYXJzZXIuY2xvc2VkUm9vdCA9IHBhcnNlci5zYXdSb290ID0gZmFsc2U7XG5cdFx0cGFyc2VyLnRhZyA9IHBhcnNlci5lcnJvciA9IG51bGw7XG5cdFx0cGFyc2VyLnN0cmljdCA9ICEhc3RyaWN0O1xuXHRcdHBhcnNlci5ub3NjcmlwdCA9ICEhKHN0cmljdCB8fCBwYXJzZXIub3B0Lm5vc2NyaXB0KTtcblx0XHRwYXJzZXIuc3RhdGUgPSBTLkJFR0lOO1xuXHRcdHBhcnNlci5zdHJpY3RFbnRpdGllcyA9IHBhcnNlci5vcHQuc3RyaWN0RW50aXRpZXM7XG5cdFx0cGFyc2VyLkVOVElUSUVTID0gcGFyc2VyLnN0cmljdEVudGl0aWVzID8gT2JqZWN0LmNyZWF0ZShzYXgkMS5YTUxfRU5USVRJRVMpIDogT2JqZWN0LmNyZWF0ZShzYXgkMS5FTlRJVElFUyk7XG5cdFx0cGFyc2VyLmF0dHJpYkxpc3QgPSBbXTtcblx0XHRpZiAocGFyc2VyLm9wdC54bWxucykgcGFyc2VyLm5zID0gT2JqZWN0LmNyZWF0ZShyb290TlMpO1xuXHRcdHBhcnNlci50cmFja1Bvc2l0aW9uID0gcGFyc2VyLm9wdC5wb3NpdGlvbiAhPT0gZmFsc2U7XG5cdFx0aWYgKHBhcnNlci50cmFja1Bvc2l0aW9uKSBwYXJzZXIucG9zaXRpb24gPSBwYXJzZXIubGluZSA9IHBhcnNlci5jb2x1bW4gPSAwO1xuXHRcdGVtaXQocGFyc2VyLCBcIm9ucmVhZHlcIik7XG5cdH1cblx0aWYgKCFPYmplY3QuY3JlYXRlKSBPYmplY3QuY3JlYXRlID0gZnVuY3Rpb24obykge1xuXHRcdGZ1bmN0aW9uIEYoKSB7fVxuXHRcdEYucHJvdG90eXBlID0gbztcblx0XHR2YXIgbmV3ZiA9IG5ldyBGKCk7XG5cdFx0cmV0dXJuIG5ld2Y7XG5cdH07XG5cdGlmICghT2JqZWN0LmtleXMpIE9iamVjdC5rZXlzID0gZnVuY3Rpb24obykge1xuXHRcdHZhciBhID0gW107XG5cdFx0Zm9yICh2YXIgaSBpbiBvKSBpZiAoby5oYXNPd25Qcm9wZXJ0eShpKSkgYS5wdXNoKGkpO1xuXHRcdHJldHVybiBhO1xuXHR9O1xuXHRmdW5jdGlvbiBjaGVja0J1ZmZlckxlbmd0aChwYXJzZXIpIHtcblx0XHR2YXIgbWF4QWxsb3dlZCA9IE1hdGgubWF4KHNheCQxLk1BWF9CVUZGRVJfTEVOR1RILCAxMCk7XG5cdFx0dmFyIG1heEFjdHVhbCA9IDA7XG5cdFx0Zm9yICh2YXIgaSA9IDAsIGwgPSBidWZmZXJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHRcdFx0dmFyIGxlbiA9IHBhcnNlcltidWZmZXJzW2ldXS5sZW5ndGg7XG5cdFx0XHRpZiAobGVuID4gbWF4QWxsb3dlZCkgc3dpdGNoIChidWZmZXJzW2ldKSB7XG5cdFx0XHRcdGNhc2UgXCJ0ZXh0Tm9kZVwiOlxuXHRcdFx0XHRcdGNsb3NlVGV4dChwYXJzZXIpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFwiY2RhdGFcIjpcblx0XHRcdFx0XHRlbWl0Tm9kZShwYXJzZXIsIFwib25jZGF0YVwiLCBwYXJzZXIuY2RhdGEpO1xuXHRcdFx0XHRcdHBhcnNlci5jZGF0YSA9IFwiXCI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgXCJzY3JpcHRcIjpcblx0XHRcdFx0XHRlbWl0Tm9kZShwYXJzZXIsIFwib25zY3JpcHRcIiwgcGFyc2VyLnNjcmlwdCk7XG5cdFx0XHRcdFx0cGFyc2VyLnNjcmlwdCA9IFwiXCI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGRlZmF1bHQ6IGVycm9yKHBhcnNlciwgXCJNYXggYnVmZmVyIGxlbmd0aCBleGNlZWRlZDogXCIgKyBidWZmZXJzW2ldKTtcblx0XHRcdH1cblx0XHRcdG1heEFjdHVhbCA9IE1hdGgubWF4KG1heEFjdHVhbCwgbGVuKTtcblx0XHR9XG5cdFx0dmFyIG0gPSBzYXgkMS5NQVhfQlVGRkVSX0xFTkdUSCAtIG1heEFjdHVhbDtcblx0XHRwYXJzZXIuYnVmZmVyQ2hlY2tQb3NpdGlvbiA9IG0gKyBwYXJzZXIucG9zaXRpb247XG5cdH1cblx0ZnVuY3Rpb24gY2xlYXJCdWZmZXJzKHBhcnNlcikge1xuXHRcdGZvciAodmFyIGkgPSAwLCBsID0gYnVmZmVycy5sZW5ndGg7IGkgPCBsOyBpKyspIHBhcnNlcltidWZmZXJzW2ldXSA9IFwiXCI7XG5cdH1cblx0ZnVuY3Rpb24gZmx1c2hCdWZmZXJzKHBhcnNlcikge1xuXHRcdGNsb3NlVGV4dChwYXJzZXIpO1xuXHRcdGlmIChwYXJzZXIuY2RhdGEgIT09IFwiXCIpIHtcblx0XHRcdGVtaXROb2RlKHBhcnNlciwgXCJvbmNkYXRhXCIsIHBhcnNlci5jZGF0YSk7XG5cdFx0XHRwYXJzZXIuY2RhdGEgPSBcIlwiO1xuXHRcdH1cblx0XHRpZiAocGFyc2VyLnNjcmlwdCAhPT0gXCJcIikge1xuXHRcdFx0ZW1pdE5vZGUocGFyc2VyLCBcIm9uc2NyaXB0XCIsIHBhcnNlci5zY3JpcHQpO1xuXHRcdFx0cGFyc2VyLnNjcmlwdCA9IFwiXCI7XG5cdFx0fVxuXHR9XG5cdFNBWFBhcnNlci5wcm90b3R5cGUgPSB7XG5cdFx0ZW5kOiBmdW5jdGlvbigpIHtcblx0XHRcdGVuZCh0aGlzKTtcblx0XHR9LFxuXHRcdHdyaXRlLFxuXHRcdHJlc3VtZTogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLmVycm9yID0gbnVsbDtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0Y2xvc2U6IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMud3JpdGUobnVsbCk7XG5cdFx0fSxcblx0XHRmbHVzaDogZnVuY3Rpb24oKSB7XG5cdFx0XHRmbHVzaEJ1ZmZlcnModGhpcyk7XG5cdFx0fVxuXHR9O1xuXHR2YXIgU3RyZWFtID0gUmVhZGFibGVTdHJlYW07XG5cdGlmICghU3RyZWFtKSBTdHJlYW0gPSBmdW5jdGlvbigpIHt9O1xuXHR2YXIgc3RyZWFtV3JhcHMgPSBzYXgkMS5FVkVOVFMuZmlsdGVyKGZ1bmN0aW9uKGV2KSB7XG5cdFx0cmV0dXJuIGV2ICE9PSBcImVycm9yXCIgJiYgZXYgIT09IFwiZW5kXCI7XG5cdH0pO1xuXHRmdW5jdGlvbiBjcmVhdGVTdHJlYW0oc3RyaWN0LCBvcHQpIHtcblx0XHRyZXR1cm4gbmV3IFNBWFN0cmVhbShzdHJpY3QsIG9wdCk7XG5cdH1cblx0ZnVuY3Rpb24gU0FYU3RyZWFtKHN0cmljdCwgb3B0KSB7XG5cdFx0aWYgKCEodGhpcyBpbnN0YW5jZW9mIFNBWFN0cmVhbSkpIHJldHVybiBuZXcgU0FYU3RyZWFtKHN0cmljdCwgb3B0KTtcblx0XHRTdHJlYW0uYXBwbHkodGhpcyk7XG5cdFx0dGhpcy5fcGFyc2VyID0gbmV3IFNBWFBhcnNlcihzdHJpY3QsIG9wdCk7XG5cdFx0dGhpcy53cml0YWJsZSA9IHRydWU7XG5cdFx0dGhpcy5yZWFkYWJsZSA9IHRydWU7XG5cdFx0dmFyIG1lID0gdGhpcztcblx0XHR0aGlzLl9wYXJzZXIub25lbmQgPSBmdW5jdGlvbigpIHtcblx0XHRcdG1lLmVtaXQoXCJlbmRcIik7XG5cdFx0fTtcblx0XHR0aGlzLl9wYXJzZXIub25lcnJvciA9IGZ1bmN0aW9uKGVyKSB7XG5cdFx0XHRtZS5lbWl0KFwiZXJyb3JcIiwgZXIpO1xuXHRcdFx0bWUuX3BhcnNlci5lcnJvciA9IG51bGw7XG5cdFx0fTtcblx0XHR0aGlzLl9kZWNvZGVyID0gbnVsbDtcblx0XHRzdHJlYW1XcmFwcy5mb3JFYWNoKGZ1bmN0aW9uKGV2KSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobWUsIFwib25cIiArIGV2LCB7XG5cdFx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG1lLl9wYXJzZXJbXCJvblwiICsgZXZdO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRzZXQ6IGZ1bmN0aW9uKGgpIHtcblx0XHRcdFx0XHRpZiAoIWgpIHtcblx0XHRcdFx0XHRcdG1lLnJlbW92ZUFsbExpc3RlbmVycyhldik7XG5cdFx0XHRcdFx0XHRtZS5fcGFyc2VyW1wib25cIiArIGV2XSA9IGg7XG5cdFx0XHRcdFx0XHRyZXR1cm4gaDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bWUub24oZXYsIGgpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlXG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXHRTQVhTdHJlYW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdHJlYW0ucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBTQVhTdHJlYW0gfSB9KTtcblx0U0FYU3RyZWFtLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uKGRhdGEpIHtcblx0XHR0aGlzLl9wYXJzZXIud3JpdGUoZGF0YS50b1N0cmluZygpKTtcblx0XHR0aGlzLmVtaXQoXCJkYXRhXCIsIGRhdGEpO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9O1xuXHRTQVhTdHJlYW0ucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uKGNodW5rKSB7XG5cdFx0aWYgKGNodW5rICYmIGNodW5rLmxlbmd0aCkgdGhpcy53cml0ZShjaHVuayk7XG5cdFx0dGhpcy5fcGFyc2VyLmVuZCgpO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9O1xuXHRTQVhTdHJlYW0ucHJvdG90eXBlLm9uID0gZnVuY3Rpb24oZXYsIGhhbmRsZXIpIHtcblx0XHR2YXIgbWUgPSB0aGlzO1xuXHRcdGlmICghbWUuX3BhcnNlcltcIm9uXCIgKyBldl0gJiYgc3RyZWFtV3JhcHMuaW5kZXhPZihldikgIT09IC0xKSBtZS5fcGFyc2VyW1wib25cIiArIGV2XSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGFyZ3MgPSBhcmd1bWVudHMubGVuZ3RoID09PSAxID8gW2FyZ3VtZW50c1swXV0gOiBBcnJheS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuXHRcdFx0YXJncy5zcGxpY2UoMCwgMCwgZXYpO1xuXHRcdFx0bWUuZW1pdC5hcHBseShtZSwgYXJncyk7XG5cdFx0fTtcblx0XHRyZXR1cm4gU3RyZWFtLnByb3RvdHlwZS5vbi5jYWxsKG1lLCBldiwgaGFuZGxlcik7XG5cdH07XG5cdHZhciBDREFUQSA9IFwiW0NEQVRBW1wiO1xuXHR2YXIgRE9DVFlQRSA9IFwiRE9DVFlQRVwiO1xuXHR2YXIgWE1MX05BTUVTUEFDRSA9IFwiaHR0cDovL3d3dy53My5vcmcvWE1MLzE5OTgvbmFtZXNwYWNlXCI7XG5cdHZhciBYTUxOU19OQU1FU1BBQ0UgPSBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAveG1sbnMvXCI7XG5cdHZhciByb290TlMgPSB7XG5cdFx0eG1sOiBYTUxfTkFNRVNQQUNFLFxuXHRcdHhtbG5zOiBYTUxOU19OQU1FU1BBQ0Vcblx0fTtcblx0dmFyIG5hbWVTdGFydCA9IC9bOl9BLVphLXpcXHUwMEMwLVxcdTAwRDZcXHUwMEQ4LVxcdTAwRjZcXHUwMEY4LVxcdTAyRkZcXHUwMzcwLVxcdTAzN0RcXHUwMzdGLVxcdTFGRkZcXHUyMDBDLVxcdTIwMERcXHUyMDcwLVxcdTIxOEZcXHUyQzAwLVxcdTJGRUZcXHUzMDAxLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRkRdLztcblx0dmFyIG5hbWVCb2R5ID0gL1s6X0EtWmEtelxcdTAwQzAtXFx1MDBENlxcdTAwRDgtXFx1MDBGNlxcdTAwRjgtXFx1MDJGRlxcdTAzNzAtXFx1MDM3RFxcdTAzN0YtXFx1MUZGRlxcdTIwMEMtXFx1MjAwRFxcdTIwNzAtXFx1MjE4RlxcdTJDMDAtXFx1MkZFRlxcdTMwMDEtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZGRFxcdTAwQjdcXHUwMzAwLVxcdTAzNkZcXHUyMDNGLVxcdTIwNDAuXFxkLV0vO1xuXHR2YXIgZW50aXR5U3RhcnQgPSAvWyM6X0EtWmEtelxcdTAwQzAtXFx1MDBENlxcdTAwRDgtXFx1MDBGNlxcdTAwRjgtXFx1MDJGRlxcdTAzNzAtXFx1MDM3RFxcdTAzN0YtXFx1MUZGRlxcdTIwMEMtXFx1MjAwRFxcdTIwNzAtXFx1MjE4RlxcdTJDMDAtXFx1MkZFRlxcdTMwMDEtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZGRF0vO1xuXHR2YXIgZW50aXR5Qm9keSA9IC9bIzpfQS1aYS16XFx1MDBDMC1cXHUwMEQ2XFx1MDBEOC1cXHUwMEY2XFx1MDBGOC1cXHUwMkZGXFx1MDM3MC1cXHUwMzdEXFx1MDM3Ri1cXHUxRkZGXFx1MjAwQy1cXHUyMDBEXFx1MjA3MC1cXHUyMThGXFx1MkMwMC1cXHUyRkVGXFx1MzAwMS1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkZEXFx1MDBCN1xcdTAzMDAtXFx1MDM2RlxcdTIwM0YtXFx1MjA0MC5cXGQtXS87XG5cdGZ1bmN0aW9uIGlzV2hpdGVzcGFjZShjKSB7XG5cdFx0cmV0dXJuIGMgPT09IFwiIFwiIHx8IGMgPT09IFwiXFxuXCIgfHwgYyA9PT0gXCJcXHJcIiB8fCBjID09PSBcIlx0XCI7XG5cdH1cblx0ZnVuY3Rpb24gaXNRdW90ZShjKSB7XG5cdFx0cmV0dXJuIGMgPT09IFwiXFxcIlwiIHx8IGMgPT09IFwiJ1wiO1xuXHR9XG5cdGZ1bmN0aW9uIGlzQXR0cmliRW5kKGMpIHtcblx0XHRyZXR1cm4gYyA9PT0gXCI+XCIgfHwgaXNXaGl0ZXNwYWNlKGMpO1xuXHR9XG5cdGZ1bmN0aW9uIGlzTWF0Y2gocmVnZXgsIGMpIHtcblx0XHRyZXR1cm4gcmVnZXgudGVzdChjKTtcblx0fVxuXHRmdW5jdGlvbiBub3RNYXRjaChyZWdleCwgYykge1xuXHRcdHJldHVybiAhaXNNYXRjaChyZWdleCwgYyk7XG5cdH1cblx0dmFyIFMgPSAwO1xuXHRzYXgkMS5TVEFURSA9IHtcblx0XHRCRUdJTjogUysrLFxuXHRcdEJFR0lOX1dISVRFU1BBQ0U6IFMrKyxcblx0XHRURVhUOiBTKyssXG5cdFx0VEVYVF9FTlRJVFk6IFMrKyxcblx0XHRPUEVOX1dBS0E6IFMrKyxcblx0XHRTR01MX0RFQ0w6IFMrKyxcblx0XHRTR01MX0RFQ0xfUVVPVEVEOiBTKyssXG5cdFx0RE9DVFlQRTogUysrLFxuXHRcdERPQ1RZUEVfUVVPVEVEOiBTKyssXG5cdFx0RE9DVFlQRV9EVEQ6IFMrKyxcblx0XHRET0NUWVBFX0RURF9RVU9URUQ6IFMrKyxcblx0XHRDT01NRU5UX1NUQVJUSU5HOiBTKyssXG5cdFx0Q09NTUVOVDogUysrLFxuXHRcdENPTU1FTlRfRU5ESU5HOiBTKyssXG5cdFx0Q09NTUVOVF9FTkRFRDogUysrLFxuXHRcdENEQVRBOiBTKyssXG5cdFx0Q0RBVEFfRU5ESU5HOiBTKyssXG5cdFx0Q0RBVEFfRU5ESU5HXzI6IFMrKyxcblx0XHRQUk9DX0lOU1Q6IFMrKyxcblx0XHRQUk9DX0lOU1RfQk9EWTogUysrLFxuXHRcdFBST0NfSU5TVF9FTkRJTkc6IFMrKyxcblx0XHRPUEVOX1RBRzogUysrLFxuXHRcdE9QRU5fVEFHX1NMQVNIOiBTKyssXG5cdFx0QVRUUklCOiBTKyssXG5cdFx0QVRUUklCX05BTUU6IFMrKyxcblx0XHRBVFRSSUJfTkFNRV9TQVdfV0hJVEU6IFMrKyxcblx0XHRBVFRSSUJfVkFMVUU6IFMrKyxcblx0XHRBVFRSSUJfVkFMVUVfUVVPVEVEOiBTKyssXG5cdFx0QVRUUklCX1ZBTFVFX0NMT1NFRDogUysrLFxuXHRcdEFUVFJJQl9WQUxVRV9VTlFVT1RFRDogUysrLFxuXHRcdEFUVFJJQl9WQUxVRV9FTlRJVFlfUTogUysrLFxuXHRcdEFUVFJJQl9WQUxVRV9FTlRJVFlfVTogUysrLFxuXHRcdENMT1NFX1RBRzogUysrLFxuXHRcdENMT1NFX1RBR19TQVdfV0hJVEU6IFMrKyxcblx0XHRTQ1JJUFQ6IFMrKyxcblx0XHRTQ1JJUFRfRU5ESU5HOiBTKytcblx0fTtcblx0c2F4JDEuWE1MX0VOVElUSUVTID0ge1xuXHRcdGFtcDogXCImXCIsXG5cdFx0Z3Q6IFwiPlwiLFxuXHRcdGx0OiBcIjxcIixcblx0XHRxdW90OiBcIlxcXCJcIixcblx0XHRhcG9zOiBcIidcIlxuXHR9O1xuXHRzYXgkMS5FTlRJVElFUyA9IHtcblx0XHRhbXA6IFwiJlwiLFxuXHRcdGd0OiBcIj5cIixcblx0XHRsdDogXCI8XCIsXG5cdFx0cXVvdDogXCJcXFwiXCIsXG5cdFx0YXBvczogXCInXCIsXG5cdFx0QUVsaWc6IDE5OCxcblx0XHRBYWN1dGU6IDE5Myxcblx0XHRBY2lyYzogMTk0LFxuXHRcdEFncmF2ZTogMTkyLFxuXHRcdEFyaW5nOiAxOTcsXG5cdFx0QXRpbGRlOiAxOTUsXG5cdFx0QXVtbDogMTk2LFxuXHRcdENjZWRpbDogMTk5LFxuXHRcdEVUSDogMjA4LFxuXHRcdEVhY3V0ZTogMjAxLFxuXHRcdEVjaXJjOiAyMDIsXG5cdFx0RWdyYXZlOiAyMDAsXG5cdFx0RXVtbDogMjAzLFxuXHRcdElhY3V0ZTogMjA1LFxuXHRcdEljaXJjOiAyMDYsXG5cdFx0SWdyYXZlOiAyMDQsXG5cdFx0SXVtbDogMjA3LFxuXHRcdE50aWxkZTogMjA5LFxuXHRcdE9hY3V0ZTogMjExLFxuXHRcdE9jaXJjOiAyMTIsXG5cdFx0T2dyYXZlOiAyMTAsXG5cdFx0T3NsYXNoOiAyMTYsXG5cdFx0T3RpbGRlOiAyMTMsXG5cdFx0T3VtbDogMjE0LFxuXHRcdFRIT1JOOiAyMjIsXG5cdFx0VWFjdXRlOiAyMTgsXG5cdFx0VWNpcmM6IDIxOSxcblx0XHRVZ3JhdmU6IDIxNyxcblx0XHRVdW1sOiAyMjAsXG5cdFx0WWFjdXRlOiAyMjEsXG5cdFx0YWFjdXRlOiAyMjUsXG5cdFx0YWNpcmM6IDIyNixcblx0XHRhZWxpZzogMjMwLFxuXHRcdGFncmF2ZTogMjI0LFxuXHRcdGFyaW5nOiAyMjksXG5cdFx0YXRpbGRlOiAyMjcsXG5cdFx0YXVtbDogMjI4LFxuXHRcdGNjZWRpbDogMjMxLFxuXHRcdGVhY3V0ZTogMjMzLFxuXHRcdGVjaXJjOiAyMzQsXG5cdFx0ZWdyYXZlOiAyMzIsXG5cdFx0ZXRoOiAyNDAsXG5cdFx0ZXVtbDogMjM1LFxuXHRcdGlhY3V0ZTogMjM3LFxuXHRcdGljaXJjOiAyMzgsXG5cdFx0aWdyYXZlOiAyMzYsXG5cdFx0aXVtbDogMjM5LFxuXHRcdG50aWxkZTogMjQxLFxuXHRcdG9hY3V0ZTogMjQzLFxuXHRcdG9jaXJjOiAyNDQsXG5cdFx0b2dyYXZlOiAyNDIsXG5cdFx0b3NsYXNoOiAyNDgsXG5cdFx0b3RpbGRlOiAyNDUsXG5cdFx0b3VtbDogMjQ2LFxuXHRcdHN6bGlnOiAyMjMsXG5cdFx0dGhvcm46IDI1NCxcblx0XHR1YWN1dGU6IDI1MCxcblx0XHR1Y2lyYzogMjUxLFxuXHRcdHVncmF2ZTogMjQ5LFxuXHRcdHV1bWw6IDI1Mixcblx0XHR5YWN1dGU6IDI1Myxcblx0XHR5dW1sOiAyNTUsXG5cdFx0Y29weTogMTY5LFxuXHRcdHJlZzogMTc0LFxuXHRcdG5ic3A6IDE2MCxcblx0XHRpZXhjbDogMTYxLFxuXHRcdGNlbnQ6IDE2Mixcblx0XHRwb3VuZDogMTYzLFxuXHRcdGN1cnJlbjogMTY0LFxuXHRcdHllbjogMTY1LFxuXHRcdGJydmJhcjogMTY2LFxuXHRcdHNlY3Q6IDE2Nyxcblx0XHR1bWw6IDE2OCxcblx0XHRvcmRmOiAxNzAsXG5cdFx0bGFxdW86IDE3MSxcblx0XHRub3Q6IDE3Mixcblx0XHRzaHk6IDE3Myxcblx0XHRtYWNyOiAxNzUsXG5cdFx0ZGVnOiAxNzYsXG5cdFx0cGx1c21uOiAxNzcsXG5cdFx0c3VwMTogMTg1LFxuXHRcdHN1cDI6IDE3OCxcblx0XHRzdXAzOiAxNzksXG5cdFx0YWN1dGU6IDE4MCxcblx0XHRtaWNybzogMTgxLFxuXHRcdHBhcmE6IDE4Mixcblx0XHRtaWRkb3Q6IDE4Myxcblx0XHRjZWRpbDogMTg0LFxuXHRcdG9yZG06IDE4Nixcblx0XHRyYXF1bzogMTg3LFxuXHRcdGZyYWMxNDogMTg4LFxuXHRcdGZyYWMxMjogMTg5LFxuXHRcdGZyYWMzNDogMTkwLFxuXHRcdGlxdWVzdDogMTkxLFxuXHRcdHRpbWVzOiAyMTUsXG5cdFx0ZGl2aWRlOiAyNDcsXG5cdFx0T0VsaWc6IDMzOCxcblx0XHRvZWxpZzogMzM5LFxuXHRcdFNjYXJvbjogMzUyLFxuXHRcdHNjYXJvbjogMzUzLFxuXHRcdFl1bWw6IDM3Nixcblx0XHRmbm9mOiA0MDIsXG5cdFx0Y2lyYzogNzEwLFxuXHRcdHRpbGRlOiA3MzIsXG5cdFx0QWxwaGE6IDkxMyxcblx0XHRCZXRhOiA5MTQsXG5cdFx0R2FtbWE6IDkxNSxcblx0XHREZWx0YTogOTE2LFxuXHRcdEVwc2lsb246IDkxNyxcblx0XHRaZXRhOiA5MTgsXG5cdFx0RXRhOiA5MTksXG5cdFx0VGhldGE6IDkyMCxcblx0XHRJb3RhOiA5MjEsXG5cdFx0S2FwcGE6IDkyMixcblx0XHRMYW1iZGE6IDkyMyxcblx0XHRNdTogOTI0LFxuXHRcdE51OiA5MjUsXG5cdFx0WGk6IDkyNixcblx0XHRPbWljcm9uOiA5MjcsXG5cdFx0UGk6IDkyOCxcblx0XHRSaG86IDkyOSxcblx0XHRTaWdtYTogOTMxLFxuXHRcdFRhdTogOTMyLFxuXHRcdFVwc2lsb246IDkzMyxcblx0XHRQaGk6IDkzNCxcblx0XHRDaGk6IDkzNSxcblx0XHRQc2k6IDkzNixcblx0XHRPbWVnYTogOTM3LFxuXHRcdGFscGhhOiA5NDUsXG5cdFx0YmV0YTogOTQ2LFxuXHRcdGdhbW1hOiA5NDcsXG5cdFx0ZGVsdGE6IDk0OCxcblx0XHRlcHNpbG9uOiA5NDksXG5cdFx0emV0YTogOTUwLFxuXHRcdGV0YTogOTUxLFxuXHRcdHRoZXRhOiA5NTIsXG5cdFx0aW90YTogOTUzLFxuXHRcdGthcHBhOiA5NTQsXG5cdFx0bGFtYmRhOiA5NTUsXG5cdFx0bXU6IDk1Nixcblx0XHRudTogOTU3LFxuXHRcdHhpOiA5NTgsXG5cdFx0b21pY3JvbjogOTU5LFxuXHRcdHBpOiA5NjAsXG5cdFx0cmhvOiA5NjEsXG5cdFx0c2lnbWFmOiA5NjIsXG5cdFx0c2lnbWE6IDk2Myxcblx0XHR0YXU6IDk2NCxcblx0XHR1cHNpbG9uOiA5NjUsXG5cdFx0cGhpOiA5NjYsXG5cdFx0Y2hpOiA5NjcsXG5cdFx0cHNpOiA5NjgsXG5cdFx0b21lZ2E6IDk2OSxcblx0XHR0aGV0YXN5bTogOTc3LFxuXHRcdHVwc2loOiA5NzgsXG5cdFx0cGl2OiA5ODIsXG5cdFx0ZW5zcDogODE5NCxcblx0XHRlbXNwOiA4MTk1LFxuXHRcdHRoaW5zcDogODIwMSxcblx0XHR6d25qOiA4MjA0LFxuXHRcdHp3ajogODIwNSxcblx0XHRscm06IDgyMDYsXG5cdFx0cmxtOiA4MjA3LFxuXHRcdG5kYXNoOiA4MjExLFxuXHRcdG1kYXNoOiA4MjEyLFxuXHRcdGxzcXVvOiA4MjE2LFxuXHRcdHJzcXVvOiA4MjE3LFxuXHRcdHNicXVvOiA4MjE4LFxuXHRcdGxkcXVvOiA4MjIwLFxuXHRcdHJkcXVvOiA4MjIxLFxuXHRcdGJkcXVvOiA4MjIyLFxuXHRcdGRhZ2dlcjogODIyNCxcblx0XHREYWdnZXI6IDgyMjUsXG5cdFx0YnVsbDogODIyNixcblx0XHRoZWxsaXA6IDgyMzAsXG5cdFx0cGVybWlsOiA4MjQwLFxuXHRcdHByaW1lOiA4MjQyLFxuXHRcdFByaW1lOiA4MjQzLFxuXHRcdGxzYXF1bzogODI0OSxcblx0XHRyc2FxdW86IDgyNTAsXG5cdFx0b2xpbmU6IDgyNTQsXG5cdFx0ZnJhc2w6IDgyNjAsXG5cdFx0ZXVybzogODM2NCxcblx0XHRpbWFnZTogODQ2NSxcblx0XHR3ZWllcnA6IDg0NzIsXG5cdFx0cmVhbDogODQ3Nixcblx0XHR0cmFkZTogODQ4Mixcblx0XHRhbGVmc3ltOiA4NTAxLFxuXHRcdGxhcnI6IDg1OTIsXG5cdFx0dWFycjogODU5Myxcblx0XHRyYXJyOiA4NTk0LFxuXHRcdGRhcnI6IDg1OTUsXG5cdFx0aGFycjogODU5Nixcblx0XHRjcmFycjogODYyOSxcblx0XHRsQXJyOiA4NjU2LFxuXHRcdHVBcnI6IDg2NTcsXG5cdFx0ckFycjogODY1OCxcblx0XHRkQXJyOiA4NjU5LFxuXHRcdGhBcnI6IDg2NjAsXG5cdFx0Zm9yYWxsOiA4NzA0LFxuXHRcdHBhcnQ6IDg3MDYsXG5cdFx0ZXhpc3Q6IDg3MDcsXG5cdFx0ZW1wdHk6IDg3MDksXG5cdFx0bmFibGE6IDg3MTEsXG5cdFx0aXNpbjogODcxMixcblx0XHRub3RpbjogODcxMyxcblx0XHRuaTogODcxNSxcblx0XHRwcm9kOiA4NzE5LFxuXHRcdHN1bTogODcyMSxcblx0XHRtaW51czogODcyMixcblx0XHRsb3dhc3Q6IDg3MjcsXG5cdFx0cmFkaWM6IDg3MzAsXG5cdFx0cHJvcDogODczMyxcblx0XHRpbmZpbjogODczNCxcblx0XHRhbmc6IDg3MzYsXG5cdFx0YW5kOiA4NzQzLFxuXHRcdG9yOiA4NzQ0LFxuXHRcdGNhcDogODc0NSxcblx0XHRjdXA6IDg3NDYsXG5cdFx0aW50OiA4NzQ3LFxuXHRcdHRoZXJlNDogODc1Nixcblx0XHRzaW06IDg3NjQsXG5cdFx0Y29uZzogODc3Myxcblx0XHRhc3ltcDogODc3Nixcblx0XHRuZTogODgwMCxcblx0XHRlcXVpdjogODgwMSxcblx0XHRsZTogODgwNCxcblx0XHRnZTogODgwNSxcblx0XHRzdWI6IDg4MzQsXG5cdFx0c3VwOiA4ODM1LFxuXHRcdG5zdWI6IDg4MzYsXG5cdFx0c3ViZTogODgzOCxcblx0XHRzdXBlOiA4ODM5LFxuXHRcdG9wbHVzOiA4ODUzLFxuXHRcdG90aW1lczogODg1NSxcblx0XHRwZXJwOiA4ODY5LFxuXHRcdHNkb3Q6IDg5MDEsXG5cdFx0bGNlaWw6IDg5NjgsXG5cdFx0cmNlaWw6IDg5NjksXG5cdFx0bGZsb29yOiA4OTcwLFxuXHRcdHJmbG9vcjogODk3MSxcblx0XHRsYW5nOiA5MDAxLFxuXHRcdHJhbmc6IDkwMDIsXG5cdFx0bG96OiA5Njc0LFxuXHRcdHNwYWRlczogOTgyNCxcblx0XHRjbHViczogOTgyNyxcblx0XHRoZWFydHM6IDk4MjksXG5cdFx0ZGlhbXM6IDk4MzBcblx0fTtcblx0T2JqZWN0LmtleXMoc2F4JDEuRU5USVRJRVMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG5cdFx0dmFyIGUgPSBzYXgkMS5FTlRJVElFU1trZXldO1xuXHRcdHZhciBzJDEgPSB0eXBlb2YgZSA9PT0gXCJudW1iZXJcIiA/IFN0cmluZy5mcm9tQ2hhckNvZGUoZSkgOiBlO1xuXHRcdHNheCQxLkVOVElUSUVTW2tleV0gPSBzJDE7XG5cdH0pO1xuXHRmb3IgKHZhciBzIGluIHNheCQxLlNUQVRFKSBzYXgkMS5TVEFURVtzYXgkMS5TVEFURVtzXV0gPSBzO1xuXHRTID0gc2F4JDEuU1RBVEU7XG5cdGZ1bmN0aW9uIGVtaXQocGFyc2VyLCBldmVudCwgZGF0YSkge1xuXHRcdHBhcnNlcltldmVudF0gJiYgcGFyc2VyW2V2ZW50XShkYXRhKTtcblx0fVxuXHRmdW5jdGlvbiBlbWl0Tm9kZShwYXJzZXIsIG5vZGVUeXBlLCBkYXRhKSB7XG5cdFx0aWYgKHBhcnNlci50ZXh0Tm9kZSkgY2xvc2VUZXh0KHBhcnNlcik7XG5cdFx0ZW1pdChwYXJzZXIsIG5vZGVUeXBlLCBkYXRhKTtcblx0fVxuXHRmdW5jdGlvbiBjbG9zZVRleHQocGFyc2VyKSB7XG5cdFx0cGFyc2VyLnRleHROb2RlID0gdGV4dG9wdHMocGFyc2VyLm9wdCwgcGFyc2VyLnRleHROb2RlKTtcblx0XHRpZiAocGFyc2VyLnRleHROb2RlKSBlbWl0KHBhcnNlciwgXCJvbnRleHRcIiwgcGFyc2VyLnRleHROb2RlKTtcblx0XHRwYXJzZXIudGV4dE5vZGUgPSBcIlwiO1xuXHR9XG5cdGZ1bmN0aW9uIHRleHRvcHRzKG9wdCwgdGV4dCkge1xuXHRcdGlmIChvcHQudHJpbSkgdGV4dCA9IHRleHQudHJpbSgpO1xuXHRcdGlmIChvcHQubm9ybWFsaXplKSB0ZXh0ID0gdGV4dC5yZXBsYWNlKC9cXHMrL2csIFwiIFwiKTtcblx0XHRyZXR1cm4gdGV4dDtcblx0fVxuXHRmdW5jdGlvbiBlcnJvcihwYXJzZXIsIGVyKSB7XG5cdFx0Y2xvc2VUZXh0KHBhcnNlcik7XG5cdFx0aWYgKHBhcnNlci50cmFja1Bvc2l0aW9uKSBlciArPSBcIlxcbkxpbmU6IFwiICsgcGFyc2VyLmxpbmUgKyBcIlxcbkNvbHVtbjogXCIgKyBwYXJzZXIuY29sdW1uICsgXCJcXG5DaGFyOiBcIiArIHBhcnNlci5jO1xuXHRcdGVyID0gbmV3IEVycm9yKGVyKTtcblx0XHRwYXJzZXIuZXJyb3IgPSBlcjtcblx0XHRlbWl0KHBhcnNlciwgXCJvbmVycm9yXCIsIGVyKTtcblx0XHRyZXR1cm4gcGFyc2VyO1xuXHR9XG5cdGZ1bmN0aW9uIGVuZChwYXJzZXIpIHtcblx0XHRpZiAocGFyc2VyLnNhd1Jvb3QgJiYgIXBhcnNlci5jbG9zZWRSb290KSBzdHJpY3RGYWlsKHBhcnNlciwgXCJVbmNsb3NlZCByb290IHRhZ1wiKTtcblx0XHRpZiAocGFyc2VyLnN0YXRlICE9PSBTLkJFR0lOICYmIHBhcnNlci5zdGF0ZSAhPT0gUy5CRUdJTl9XSElURVNQQUNFICYmIHBhcnNlci5zdGF0ZSAhPT0gUy5URVhUKSBlcnJvcihwYXJzZXIsIFwiVW5leHBlY3RlZCBlbmRcIik7XG5cdFx0Y2xvc2VUZXh0KHBhcnNlcik7XG5cdFx0cGFyc2VyLmMgPSBcIlwiO1xuXHRcdHBhcnNlci5jbG9zZWQgPSB0cnVlO1xuXHRcdGVtaXQocGFyc2VyLCBcIm9uZW5kXCIpO1xuXHRcdFNBWFBhcnNlci5jYWxsKHBhcnNlciwgcGFyc2VyLnN0cmljdCwgcGFyc2VyLm9wdCk7XG5cdFx0cmV0dXJuIHBhcnNlcjtcblx0fVxuXHRmdW5jdGlvbiBzdHJpY3RGYWlsKHBhcnNlciwgbWVzc2FnZSkge1xuXHRcdGlmICh0eXBlb2YgcGFyc2VyICE9PSBcIm9iamVjdFwiIHx8ICEocGFyc2VyIGluc3RhbmNlb2YgU0FYUGFyc2VyKSkgdGhyb3cgbmV3IEVycm9yKFwiYmFkIGNhbGwgdG8gc3RyaWN0RmFpbFwiKTtcblx0XHRpZiAocGFyc2VyLnN0cmljdCkgZXJyb3IocGFyc2VyLCBtZXNzYWdlKTtcblx0fVxuXHRmdW5jdGlvbiBuZXdUYWcocGFyc2VyKSB7XG5cdFx0aWYgKCFwYXJzZXIuc3RyaWN0KSBwYXJzZXIudGFnTmFtZSA9IHBhcnNlci50YWdOYW1lW3BhcnNlci5sb29zZUNhc2VdKCk7XG5cdFx0dmFyIHBhcmVudCA9IHBhcnNlci50YWdzW3BhcnNlci50YWdzLmxlbmd0aCAtIDFdIHx8IHBhcnNlcjtcblx0XHR2YXIgdGFnID0gcGFyc2VyLnRhZyA9IHtcblx0XHRcdG5hbWU6IHBhcnNlci50YWdOYW1lLFxuXHRcdFx0YXR0cmlidXRlczoge31cblx0XHR9O1xuXHRcdGlmIChwYXJzZXIub3B0LnhtbG5zKSB0YWcubnMgPSBwYXJlbnQubnM7XG5cdFx0cGFyc2VyLmF0dHJpYkxpc3QubGVuZ3RoID0gMDtcblx0XHRlbWl0Tm9kZShwYXJzZXIsIFwib25vcGVudGFnc3RhcnRcIiwgdGFnKTtcblx0fVxuXHRmdW5jdGlvbiBxbmFtZShuYW1lLCBhdHRyaWJ1dGUpIHtcblx0XHR2YXIgaSA9IG5hbWUuaW5kZXhPZihcIjpcIik7XG5cdFx0dmFyIHF1YWxOYW1lID0gaSA8IDAgPyBbXCJcIiwgbmFtZV0gOiBuYW1lLnNwbGl0KFwiOlwiKTtcblx0XHR2YXIgcHJlZml4ID0gcXVhbE5hbWVbMF07XG5cdFx0dmFyIGxvY2FsID0gcXVhbE5hbWVbMV07XG5cdFx0aWYgKGF0dHJpYnV0ZSAmJiBuYW1lID09PSBcInhtbG5zXCIpIHtcblx0XHRcdHByZWZpeCA9IFwieG1sbnNcIjtcblx0XHRcdGxvY2FsID0gXCJcIjtcblx0XHR9XG5cdFx0cmV0dXJuIHtcblx0XHRcdHByZWZpeCxcblx0XHRcdGxvY2FsXG5cdFx0fTtcblx0fVxuXHRmdW5jdGlvbiBhdHRyaWIocGFyc2VyKSB7XG5cdFx0aWYgKCFwYXJzZXIuc3RyaWN0KSBwYXJzZXIuYXR0cmliTmFtZSA9IHBhcnNlci5hdHRyaWJOYW1lW3BhcnNlci5sb29zZUNhc2VdKCk7XG5cdFx0aWYgKHBhcnNlci5hdHRyaWJMaXN0LmluZGV4T2YocGFyc2VyLmF0dHJpYk5hbWUpICE9PSAtMSB8fCBwYXJzZXIudGFnLmF0dHJpYnV0ZXMuaGFzT3duUHJvcGVydHkocGFyc2VyLmF0dHJpYk5hbWUpKSB7XG5cdFx0XHRwYXJzZXIuYXR0cmliTmFtZSA9IHBhcnNlci5hdHRyaWJWYWx1ZSA9IFwiXCI7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGlmIChwYXJzZXIub3B0LnhtbG5zKSB7XG5cdFx0XHR2YXIgcW4gPSBxbmFtZShwYXJzZXIuYXR0cmliTmFtZSwgdHJ1ZSk7XG5cdFx0XHR2YXIgcHJlZml4ID0gcW4ucHJlZml4O1xuXHRcdFx0dmFyIGxvY2FsID0gcW4ubG9jYWw7XG5cdFx0XHRpZiAocHJlZml4ID09PSBcInhtbG5zXCIpIGlmIChsb2NhbCA9PT0gXCJ4bWxcIiAmJiBwYXJzZXIuYXR0cmliVmFsdWUgIT09IFhNTF9OQU1FU1BBQ0UpIHN0cmljdEZhaWwocGFyc2VyLCBcInhtbDogcHJlZml4IG11c3QgYmUgYm91bmQgdG8gXCIgKyBYTUxfTkFNRVNQQUNFICsgXCJcXG5BY3R1YWw6IFwiICsgcGFyc2VyLmF0dHJpYlZhbHVlKTtcblx0XHRcdGVsc2UgaWYgKGxvY2FsID09PSBcInhtbG5zXCIgJiYgcGFyc2VyLmF0dHJpYlZhbHVlICE9PSBYTUxOU19OQU1FU1BBQ0UpIHN0cmljdEZhaWwocGFyc2VyLCBcInhtbG5zOiBwcmVmaXggbXVzdCBiZSBib3VuZCB0byBcIiArIFhNTE5TX05BTUVTUEFDRSArIFwiXFxuQWN0dWFsOiBcIiArIHBhcnNlci5hdHRyaWJWYWx1ZSk7XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0dmFyIHRhZyA9IHBhcnNlci50YWc7XG5cdFx0XHRcdHZhciBwYXJlbnQgPSBwYXJzZXIudGFnc1twYXJzZXIudGFncy5sZW5ndGggLSAxXSB8fCBwYXJzZXI7XG5cdFx0XHRcdGlmICh0YWcubnMgPT09IHBhcmVudC5ucykgdGFnLm5zID0gT2JqZWN0LmNyZWF0ZShwYXJlbnQubnMpO1xuXHRcdFx0XHR0YWcubnNbbG9jYWxdID0gcGFyc2VyLmF0dHJpYlZhbHVlO1xuXHRcdFx0fVxuXHRcdFx0cGFyc2VyLmF0dHJpYkxpc3QucHVzaChbcGFyc2VyLmF0dHJpYk5hbWUsIHBhcnNlci5hdHRyaWJWYWx1ZV0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRwYXJzZXIudGFnLmF0dHJpYnV0ZXNbcGFyc2VyLmF0dHJpYk5hbWVdID0gcGFyc2VyLmF0dHJpYlZhbHVlO1xuXHRcdFx0ZW1pdE5vZGUocGFyc2VyLCBcIm9uYXR0cmlidXRlXCIsIHtcblx0XHRcdFx0bmFtZTogcGFyc2VyLmF0dHJpYk5hbWUsXG5cdFx0XHRcdHZhbHVlOiBwYXJzZXIuYXR0cmliVmFsdWVcblx0XHRcdH0pO1xuXHRcdH1cblx0XHRwYXJzZXIuYXR0cmliTmFtZSA9IHBhcnNlci5hdHRyaWJWYWx1ZSA9IFwiXCI7XG5cdH1cblx0ZnVuY3Rpb24gb3BlblRhZyhwYXJzZXIsIHNlbGZDbG9zaW5nKSB7XG5cdFx0aWYgKHBhcnNlci5vcHQueG1sbnMpIHtcblx0XHRcdHZhciB0YWcgPSBwYXJzZXIudGFnO1xuXHRcdFx0dmFyIHFuID0gcW5hbWUocGFyc2VyLnRhZ05hbWUpO1xuXHRcdFx0dGFnLnByZWZpeCA9IHFuLnByZWZpeDtcblx0XHRcdHRhZy5sb2NhbCA9IHFuLmxvY2FsO1xuXHRcdFx0dGFnLnVyaSA9IHRhZy5uc1txbi5wcmVmaXhdIHx8IFwiXCI7XG5cdFx0XHRpZiAodGFnLnByZWZpeCAmJiAhdGFnLnVyaSkge1xuXHRcdFx0XHRzdHJpY3RGYWlsKHBhcnNlciwgXCJVbmJvdW5kIG5hbWVzcGFjZSBwcmVmaXg6IFwiICsgSlNPTi5zdHJpbmdpZnkocGFyc2VyLnRhZ05hbWUpKTtcblx0XHRcdFx0dGFnLnVyaSA9IHFuLnByZWZpeDtcblx0XHRcdH1cblx0XHRcdHZhciBwYXJlbnQgPSBwYXJzZXIudGFnc1twYXJzZXIudGFncy5sZW5ndGggLSAxXSB8fCBwYXJzZXI7XG5cdFx0XHRpZiAodGFnLm5zICYmIHBhcmVudC5ucyAhPT0gdGFnLm5zKSBPYmplY3Qua2V5cyh0YWcubnMpLmZvckVhY2goZnVuY3Rpb24ocCkge1xuXHRcdFx0XHRlbWl0Tm9kZShwYXJzZXIsIFwib25vcGVubmFtZXNwYWNlXCIsIHtcblx0XHRcdFx0XHRwcmVmaXg6IHAsXG5cdFx0XHRcdFx0dXJpOiB0YWcubnNbcF1cblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHRcdGZvciAodmFyIGkgPSAwLCBsID0gcGFyc2VyLmF0dHJpYkxpc3QubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdFx0XHRcdHZhciBudiA9IHBhcnNlci5hdHRyaWJMaXN0W2ldO1xuXHRcdFx0XHR2YXIgbmFtZSA9IG52WzBdO1xuXHRcdFx0XHR2YXIgdmFsdWUgPSBudlsxXTtcblx0XHRcdFx0dmFyIHF1YWxOYW1lID0gcW5hbWUobmFtZSwgdHJ1ZSk7XG5cdFx0XHRcdHZhciBwcmVmaXggPSBxdWFsTmFtZS5wcmVmaXg7XG5cdFx0XHRcdHZhciBsb2NhbCA9IHF1YWxOYW1lLmxvY2FsO1xuXHRcdFx0XHR2YXIgdXJpID0gcHJlZml4ID09PSBcIlwiID8gXCJcIiA6IHRhZy5uc1twcmVmaXhdIHx8IFwiXCI7XG5cdFx0XHRcdHZhciBhID0ge1xuXHRcdFx0XHRcdG5hbWUsXG5cdFx0XHRcdFx0dmFsdWUsXG5cdFx0XHRcdFx0cHJlZml4LFxuXHRcdFx0XHRcdGxvY2FsLFxuXHRcdFx0XHRcdHVyaVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRpZiAocHJlZml4ICYmIHByZWZpeCAhPT0gXCJ4bWxuc1wiICYmICF1cmkpIHtcblx0XHRcdFx0XHRzdHJpY3RGYWlsKHBhcnNlciwgXCJVbmJvdW5kIG5hbWVzcGFjZSBwcmVmaXg6IFwiICsgSlNPTi5zdHJpbmdpZnkocHJlZml4KSk7XG5cdFx0XHRcdFx0YS51cmkgPSBwcmVmaXg7XG5cdFx0XHRcdH1cblx0XHRcdFx0cGFyc2VyLnRhZy5hdHRyaWJ1dGVzW25hbWVdID0gYTtcblx0XHRcdFx0ZW1pdE5vZGUocGFyc2VyLCBcIm9uYXR0cmlidXRlXCIsIGEpO1xuXHRcdFx0fVxuXHRcdFx0cGFyc2VyLmF0dHJpYkxpc3QubGVuZ3RoID0gMDtcblx0XHR9XG5cdFx0cGFyc2VyLnRhZy5pc1NlbGZDbG9zaW5nID0gISFzZWxmQ2xvc2luZztcblx0XHRwYXJzZXIuc2F3Um9vdCA9IHRydWU7XG5cdFx0cGFyc2VyLnRhZ3MucHVzaChwYXJzZXIudGFnKTtcblx0XHRlbWl0Tm9kZShwYXJzZXIsIFwib25vcGVudGFnXCIsIHBhcnNlci50YWcpO1xuXHRcdGlmICghc2VsZkNsb3NpbmcpIHtcblx0XHRcdGlmICghcGFyc2VyLm5vc2NyaXB0ICYmIHBhcnNlci50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwic2NyaXB0XCIpIHBhcnNlci5zdGF0ZSA9IFMuU0NSSVBUO1xuXHRcdFx0ZWxzZSBwYXJzZXIuc3RhdGUgPSBTLlRFWFQ7XG5cdFx0XHRwYXJzZXIudGFnID0gbnVsbDtcblx0XHRcdHBhcnNlci50YWdOYW1lID0gXCJcIjtcblx0XHR9XG5cdFx0cGFyc2VyLmF0dHJpYk5hbWUgPSBwYXJzZXIuYXR0cmliVmFsdWUgPSBcIlwiO1xuXHRcdHBhcnNlci5hdHRyaWJMaXN0Lmxlbmd0aCA9IDA7XG5cdH1cblx0ZnVuY3Rpb24gY2xvc2VUYWcocGFyc2VyKSB7XG5cdFx0aWYgKCFwYXJzZXIudGFnTmFtZSkge1xuXHRcdFx0c3RyaWN0RmFpbChwYXJzZXIsIFwiV2VpcmQgZW1wdHkgY2xvc2UgdGFnLlwiKTtcblx0XHRcdHBhcnNlci50ZXh0Tm9kZSArPSBcIjwvPlwiO1xuXHRcdFx0cGFyc2VyLnN0YXRlID0gUy5URVhUO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAocGFyc2VyLnNjcmlwdCkge1xuXHRcdFx0aWYgKHBhcnNlci50YWdOYW1lICE9PSBcInNjcmlwdFwiKSB7XG5cdFx0XHRcdHBhcnNlci5zY3JpcHQgKz0gXCI8L1wiICsgcGFyc2VyLnRhZ05hbWUgKyBcIj5cIjtcblx0XHRcdFx0cGFyc2VyLnRhZ05hbWUgPSBcIlwiO1xuXHRcdFx0XHRwYXJzZXIuc3RhdGUgPSBTLlNDUklQVDtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0ZW1pdE5vZGUocGFyc2VyLCBcIm9uc2NyaXB0XCIsIHBhcnNlci5zY3JpcHQpO1xuXHRcdFx0cGFyc2VyLnNjcmlwdCA9IFwiXCI7XG5cdFx0fVxuXHRcdHZhciB0ID0gcGFyc2VyLnRhZ3MubGVuZ3RoO1xuXHRcdHZhciB0YWdOYW1lID0gcGFyc2VyLnRhZ05hbWU7XG5cdFx0aWYgKCFwYXJzZXIuc3RyaWN0KSB0YWdOYW1lID0gdGFnTmFtZVtwYXJzZXIubG9vc2VDYXNlXSgpO1xuXHRcdHZhciBjbG9zZVRvID0gdGFnTmFtZTtcblx0XHR3aGlsZSAodC0tKSB7XG5cdFx0XHR2YXIgY2xvc2UgPSBwYXJzZXIudGFnc1t0XTtcblx0XHRcdGlmIChjbG9zZS5uYW1lICE9PSBjbG9zZVRvKSBzdHJpY3RGYWlsKHBhcnNlciwgXCJVbmV4cGVjdGVkIGNsb3NlIHRhZ1wiKTtcblx0XHRcdGVsc2UgYnJlYWs7XG5cdFx0fVxuXHRcdGlmICh0IDwgMCkge1xuXHRcdFx0c3RyaWN0RmFpbChwYXJzZXIsIFwiVW5tYXRjaGVkIGNsb3NpbmcgdGFnOiBcIiArIHBhcnNlci50YWdOYW1lKTtcblx0XHRcdHBhcnNlci50ZXh0Tm9kZSArPSBcIjwvXCIgKyBwYXJzZXIudGFnTmFtZSArIFwiPlwiO1xuXHRcdFx0cGFyc2VyLnN0YXRlID0gUy5URVhUO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRwYXJzZXIudGFnTmFtZSA9IHRhZ05hbWU7XG5cdFx0dmFyIHMkMSA9IHBhcnNlci50YWdzLmxlbmd0aDtcblx0XHR3aGlsZSAocyQxLS0gPiB0KSB7XG5cdFx0XHR2YXIgdGFnID0gcGFyc2VyLnRhZyA9IHBhcnNlci50YWdzLnBvcCgpO1xuXHRcdFx0cGFyc2VyLnRhZ05hbWUgPSBwYXJzZXIudGFnLm5hbWU7XG5cdFx0XHRlbWl0Tm9kZShwYXJzZXIsIFwib25jbG9zZXRhZ1wiLCBwYXJzZXIudGFnTmFtZSk7XG5cdFx0XHR2YXIgeCA9IHt9O1xuXHRcdFx0Zm9yICh2YXIgaSBpbiB0YWcubnMpIHhbaV0gPSB0YWcubnNbaV07XG5cdFx0XHR2YXIgcGFyZW50ID0gcGFyc2VyLnRhZ3NbcGFyc2VyLnRhZ3MubGVuZ3RoIC0gMV0gfHwgcGFyc2VyO1xuXHRcdFx0aWYgKHBhcnNlci5vcHQueG1sbnMgJiYgdGFnLm5zICE9PSBwYXJlbnQubnMpIE9iamVjdC5rZXlzKHRhZy5ucykuZm9yRWFjaChmdW5jdGlvbihwKSB7XG5cdFx0XHRcdHZhciBuID0gdGFnLm5zW3BdO1xuXHRcdFx0XHRlbWl0Tm9kZShwYXJzZXIsIFwib25jbG9zZW5hbWVzcGFjZVwiLCB7XG5cdFx0XHRcdFx0cHJlZml4OiBwLFxuXHRcdFx0XHRcdHVyaTogblxuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHRpZiAodCA9PT0gMCkgcGFyc2VyLmNsb3NlZFJvb3QgPSB0cnVlO1xuXHRcdHBhcnNlci50YWdOYW1lID0gcGFyc2VyLmF0dHJpYlZhbHVlID0gcGFyc2VyLmF0dHJpYk5hbWUgPSBcIlwiO1xuXHRcdHBhcnNlci5hdHRyaWJMaXN0Lmxlbmd0aCA9IDA7XG5cdFx0cGFyc2VyLnN0YXRlID0gUy5URVhUO1xuXHR9XG5cdGZ1bmN0aW9uIHBhcnNlRW50aXR5KHBhcnNlcikge1xuXHRcdHZhciBlbnRpdHkgPSBwYXJzZXIuZW50aXR5O1xuXHRcdHZhciBlbnRpdHlMQyA9IGVudGl0eS50b0xvd2VyQ2FzZSgpO1xuXHRcdHZhciBudW07XG5cdFx0dmFyIG51bVN0ciA9IFwiXCI7XG5cdFx0aWYgKHBhcnNlci5FTlRJVElFU1tlbnRpdHldKSByZXR1cm4gcGFyc2VyLkVOVElUSUVTW2VudGl0eV07XG5cdFx0aWYgKHBhcnNlci5FTlRJVElFU1tlbnRpdHlMQ10pIHJldHVybiBwYXJzZXIuRU5USVRJRVNbZW50aXR5TENdO1xuXHRcdGVudGl0eSA9IGVudGl0eUxDO1xuXHRcdGlmIChlbnRpdHkuY2hhckF0KDApID09PSBcIiNcIikgaWYgKGVudGl0eS5jaGFyQXQoMSkgPT09IFwieFwiKSB7XG5cdFx0XHRlbnRpdHkgPSBlbnRpdHkuc2xpY2UoMik7XG5cdFx0XHRudW0gPSBwYXJzZUludChlbnRpdHksIDE2KTtcblx0XHRcdG51bVN0ciA9IG51bS50b1N0cmluZygxNik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGVudGl0eSA9IGVudGl0eS5zbGljZSgxKTtcblx0XHRcdG51bSA9IHBhcnNlSW50KGVudGl0eSwgMTApO1xuXHRcdFx0bnVtU3RyID0gbnVtLnRvU3RyaW5nKDEwKTtcblx0XHR9XG5cdFx0ZW50aXR5ID0gZW50aXR5LnJlcGxhY2UoL14wKy8sIFwiXCIpO1xuXHRcdGlmIChpc05hTihudW0pIHx8IG51bVN0ci50b0xvd2VyQ2FzZSgpICE9PSBlbnRpdHkpIHtcblx0XHRcdHN0cmljdEZhaWwocGFyc2VyLCBcIkludmFsaWQgY2hhcmFjdGVyIGVudGl0eVwiKTtcblx0XHRcdHJldHVybiBcIiZcIiArIHBhcnNlci5lbnRpdHkgKyBcIjtcIjtcblx0XHR9XG5cdFx0cmV0dXJuIFN0cmluZy5mcm9tQ29kZVBvaW50KG51bSk7XG5cdH1cblx0ZnVuY3Rpb24gYmVnaW5XaGl0ZVNwYWNlKHBhcnNlciwgYykge1xuXHRcdGlmIChjID09PSBcIjxcIikge1xuXHRcdFx0cGFyc2VyLnN0YXRlID0gUy5PUEVOX1dBS0E7XG5cdFx0XHRwYXJzZXIuc3RhcnRUYWdQb3NpdGlvbiA9IHBhcnNlci5wb3NpdGlvbjtcblx0XHR9IGVsc2UgaWYgKCFpc1doaXRlc3BhY2UoYykpIHtcblx0XHRcdHN0cmljdEZhaWwocGFyc2VyLCBcIk5vbi13aGl0ZXNwYWNlIGJlZm9yZSBmaXJzdCB0YWcuXCIpO1xuXHRcdFx0cGFyc2VyLnRleHROb2RlID0gYztcblx0XHRcdHBhcnNlci5zdGF0ZSA9IFMuVEVYVDtcblx0XHR9XG5cdH1cblx0ZnVuY3Rpb24gY2hhckF0KGNodW5rLCBpKSB7XG5cdFx0dmFyIHJlc3VsdCA9IFwiXCI7XG5cdFx0aWYgKGkgPCBjaHVuay5sZW5ndGgpIHJlc3VsdCA9IGNodW5rLmNoYXJBdChpKTtcblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cdGZ1bmN0aW9uIHdyaXRlKGNodW5rKSB7XG5cdFx0dmFyIHBhcnNlciA9IHRoaXM7XG5cdFx0aWYgKHRoaXMuZXJyb3IpIHRocm93IHRoaXMuZXJyb3I7XG5cdFx0aWYgKHBhcnNlci5jbG9zZWQpIHJldHVybiBlcnJvcihwYXJzZXIsIFwiQ2Fubm90IHdyaXRlIGFmdGVyIGNsb3NlLiBBc3NpZ24gYW4gb25yZWFkeSBoYW5kbGVyLlwiKTtcblx0XHRpZiAoY2h1bmsgPT09IG51bGwpIHJldHVybiBlbmQocGFyc2VyKTtcblx0XHRpZiAodHlwZW9mIGNodW5rID09PSBcIm9iamVjdFwiKSBjaHVuayA9IGNodW5rLnRvU3RyaW5nKCk7XG5cdFx0dmFyIGkgPSAwO1xuXHRcdHZhciBjID0gXCJcIjtcblx0XHR3aGlsZSAodHJ1ZSkge1xuXHRcdFx0YyA9IGNoYXJBdChjaHVuaywgaSsrKTtcblx0XHRcdHBhcnNlci5jID0gYztcblx0XHRcdGlmICghYykgYnJlYWs7XG5cdFx0XHRpZiAocGFyc2VyLnRyYWNrUG9zaXRpb24pIHtcblx0XHRcdFx0cGFyc2VyLnBvc2l0aW9uKys7XG5cdFx0XHRcdGlmIChjID09PSBcIlxcblwiKSB7XG5cdFx0XHRcdFx0cGFyc2VyLmxpbmUrKztcblx0XHRcdFx0XHRwYXJzZXIuY29sdW1uID0gMDtcblx0XHRcdFx0fSBlbHNlIHBhcnNlci5jb2x1bW4rKztcblx0XHRcdH1cblx0XHRcdHN3aXRjaCAocGFyc2VyLnN0YXRlKSB7XG5cdFx0XHRcdGNhc2UgUy5CRUdJTjpcblx0XHRcdFx0XHRwYXJzZXIuc3RhdGUgPSBTLkJFR0lOX1dISVRFU1BBQ0U7XG5cdFx0XHRcdFx0aWYgKGMgPT09IFwi77u/XCIpIGNvbnRpbnVlO1xuXHRcdFx0XHRcdGJlZ2luV2hpdGVTcGFjZShwYXJzZXIsIGMpO1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRjYXNlIFMuQkVHSU5fV0hJVEVTUEFDRTpcblx0XHRcdFx0XHRiZWdpbldoaXRlU3BhY2UocGFyc2VyLCBjKTtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0Y2FzZSBTLlRFWFQ6XG5cdFx0XHRcdFx0aWYgKHBhcnNlci5zYXdSb290ICYmICFwYXJzZXIuY2xvc2VkUm9vdCkge1xuXHRcdFx0XHRcdFx0dmFyIHN0YXJ0aSA9IGkgLSAxO1xuXHRcdFx0XHRcdFx0d2hpbGUgKGMgJiYgYyAhPT0gXCI8XCIgJiYgYyAhPT0gXCImXCIpIHtcblx0XHRcdFx0XHRcdFx0YyA9IGNoYXJBdChjaHVuaywgaSsrKTtcblx0XHRcdFx0XHRcdFx0aWYgKGMgJiYgcGFyc2VyLnRyYWNrUG9zaXRpb24pIHtcblx0XHRcdFx0XHRcdFx0XHRwYXJzZXIucG9zaXRpb24rKztcblx0XHRcdFx0XHRcdFx0XHRpZiAoYyA9PT0gXCJcXG5cIikge1xuXHRcdFx0XHRcdFx0XHRcdFx0cGFyc2VyLmxpbmUrKztcblx0XHRcdFx0XHRcdFx0XHRcdHBhcnNlci5jb2x1bW4gPSAwO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSBwYXJzZXIuY29sdW1uKys7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHBhcnNlci50ZXh0Tm9kZSArPSBjaHVuay5zdWJzdHJpbmcoc3RhcnRpLCBpIC0gMSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChjID09PSBcIjxcIiAmJiAhKHBhcnNlci5zYXdSb290ICYmIHBhcnNlci5jbG9zZWRSb290ICYmICFwYXJzZXIuc3RyaWN0KSkge1xuXHRcdFx0XHRcdFx0cGFyc2VyLnN0YXRlID0gUy5PUEVOX1dBS0E7XG5cdFx0XHRcdFx0XHRwYXJzZXIuc3RhcnRUYWdQb3NpdGlvbiA9IHBhcnNlci5wb3NpdGlvbjtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0aWYgKCFpc1doaXRlc3BhY2UoYykgJiYgKCFwYXJzZXIuc2F3Um9vdCB8fCBwYXJzZXIuY2xvc2VkUm9vdCkpIHN0cmljdEZhaWwocGFyc2VyLCBcIlRleHQgZGF0YSBvdXRzaWRlIG9mIHJvb3Qgbm9kZS5cIik7XG5cdFx0XHRcdFx0XHRpZiAoYyA9PT0gXCImXCIpIHBhcnNlci5zdGF0ZSA9IFMuVEVYVF9FTlRJVFk7XG5cdFx0XHRcdFx0XHRlbHNlIHBhcnNlci50ZXh0Tm9kZSArPSBjO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0Y2FzZSBTLlNDUklQVDpcblx0XHRcdFx0XHRpZiAoYyA9PT0gXCI8XCIpIHBhcnNlci5zdGF0ZSA9IFMuU0NSSVBUX0VORElORztcblx0XHRcdFx0XHRlbHNlIHBhcnNlci5zY3JpcHQgKz0gYztcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0Y2FzZSBTLlNDUklQVF9FTkRJTkc6XG5cdFx0XHRcdFx0aWYgKGMgPT09IFwiL1wiKSBwYXJzZXIuc3RhdGUgPSBTLkNMT1NFX1RBRztcblx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdHBhcnNlci5zY3JpcHQgKz0gXCI8XCIgKyBjO1xuXHRcdFx0XHRcdFx0cGFyc2VyLnN0YXRlID0gUy5TQ1JJUFQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRjYXNlIFMuT1BFTl9XQUtBOlxuXHRcdFx0XHRcdGlmIChjID09PSBcIiFcIikge1xuXHRcdFx0XHRcdFx0cGFyc2VyLnN0YXRlID0gUy5TR01MX0RFQ0w7XG5cdFx0XHRcdFx0XHRwYXJzZXIuc2dtbERlY2wgPSBcIlwiO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoaXNXaGl0ZXNwYWNlKGMpKSB7fSBlbHNlIGlmIChpc01hdGNoKG5hbWVTdGFydCwgYykpIHtcblx0XHRcdFx0XHRcdHBhcnNlci5zdGF0ZSA9IFMuT1BFTl9UQUc7XG5cdFx0XHRcdFx0XHRwYXJzZXIudGFnTmFtZSA9IGM7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChjID09PSBcIi9cIikge1xuXHRcdFx0XHRcdFx0cGFyc2VyLnN0YXRlID0gUy5DTE9TRV9UQUc7XG5cdFx0XHRcdFx0XHRwYXJzZXIudGFnTmFtZSA9IFwiXCI7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChjID09PSBcIj9cIikge1xuXHRcdFx0XHRcdFx0cGFyc2VyLnN0YXRlID0gUy5QUk9DX0lOU1Q7XG5cdFx0XHRcdFx0XHRwYXJzZXIucHJvY0luc3ROYW1lID0gcGFyc2VyLnByb2NJbnN0Qm9keSA9IFwiXCI7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHN0cmljdEZhaWwocGFyc2VyLCBcIlVuZW5jb2RlZCA8XCIpO1xuXHRcdFx0XHRcdFx0aWYgKHBhcnNlci5zdGFydFRhZ1Bvc2l0aW9uICsgMSA8IHBhcnNlci5wb3NpdGlvbikge1xuXHRcdFx0XHRcdFx0XHR2YXIgcGFkID0gcGFyc2VyLnBvc2l0aW9uIC0gcGFyc2VyLnN0YXJ0VGFnUG9zaXRpb247XG5cdFx0XHRcdFx0XHRcdGMgPSBuZXcgQXJyYXkocGFkKS5qb2luKFwiIFwiKSArIGM7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRwYXJzZXIudGV4dE5vZGUgKz0gXCI8XCIgKyBjO1xuXHRcdFx0XHRcdFx0cGFyc2VyLnN0YXRlID0gUy5URVhUO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0Y2FzZSBTLlNHTUxfREVDTDpcblx0XHRcdFx0XHRpZiAoKHBhcnNlci5zZ21sRGVjbCArIGMpLnRvVXBwZXJDYXNlKCkgPT09IENEQVRBKSB7XG5cdFx0XHRcdFx0XHRlbWl0Tm9kZShwYXJzZXIsIFwib25vcGVuY2RhdGFcIik7XG5cdFx0XHRcdFx0XHRwYXJzZXIuc3RhdGUgPSBTLkNEQVRBO1xuXHRcdFx0XHRcdFx0cGFyc2VyLnNnbWxEZWNsID0gXCJcIjtcblx0XHRcdFx0XHRcdHBhcnNlci5jZGF0YSA9IFwiXCI7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChwYXJzZXIuc2dtbERlY2wgKyBjID09PSBcIi0tXCIpIHtcblx0XHRcdFx0XHRcdHBhcnNlci5zdGF0ZSA9IFMuQ09NTUVOVDtcblx0XHRcdFx0XHRcdHBhcnNlci5jb21tZW50ID0gXCJcIjtcblx0XHRcdFx0XHRcdHBhcnNlci5zZ21sRGVjbCA9IFwiXCI7XG5cdFx0XHRcdFx0fSBlbHNlIGlmICgocGFyc2VyLnNnbWxEZWNsICsgYykudG9VcHBlckNhc2UoKSA9PT0gRE9DVFlQRSkge1xuXHRcdFx0XHRcdFx0cGFyc2VyLnN0YXRlID0gUy5ET0NUWVBFO1xuXHRcdFx0XHRcdFx0aWYgKHBhcnNlci5kb2N0eXBlIHx8IHBhcnNlci5zYXdSb290KSBzdHJpY3RGYWlsKHBhcnNlciwgXCJJbmFwcHJvcHJpYXRlbHkgbG9jYXRlZCBkb2N0eXBlIGRlY2xhcmF0aW9uXCIpO1xuXHRcdFx0XHRcdFx0cGFyc2VyLmRvY3R5cGUgPSBcIlwiO1xuXHRcdFx0XHRcdFx0cGFyc2VyLnNnbWxEZWNsID0gXCJcIjtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGMgPT09IFwiPlwiKSB7XG5cdFx0XHRcdFx0XHRlbWl0Tm9kZShwYXJzZXIsIFwib25zZ21sZGVjbGFyYXRpb25cIiwgcGFyc2VyLnNnbWxEZWNsKTtcblx0XHRcdFx0XHRcdHBhcnNlci5zZ21sRGVjbCA9IFwiXCI7XG5cdFx0XHRcdFx0XHRwYXJzZXIuc3RhdGUgPSBTLlRFWFQ7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChpc1F1b3RlKGMpKSB7XG5cdFx0XHRcdFx0XHRwYXJzZXIuc3RhdGUgPSBTLlNHTUxfREVDTF9RVU9URUQ7XG5cdFx0XHRcdFx0XHRwYXJzZXIuc2dtbERlY2wgKz0gYztcblx0XHRcdFx0XHR9IGVsc2UgcGFyc2VyLnNnbWxEZWNsICs9IGM7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdGNhc2UgUy5TR01MX0RFQ0xfUVVPVEVEOlxuXHRcdFx0XHRcdGlmIChjID09PSBwYXJzZXIucSkge1xuXHRcdFx0XHRcdFx0cGFyc2VyLnN0YXRlID0gUy5TR01MX0RFQ0w7XG5cdFx0XHRcdFx0XHRwYXJzZXIucSA9IFwiXCI7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHBhcnNlci5zZ21sRGVjbCArPSBjO1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRjYXNlIFMuRE9DVFlQRTpcblx0XHRcdFx0XHRpZiAoYyA9PT0gXCI+XCIpIHtcblx0XHRcdFx0XHRcdHBhcnNlci5zdGF0ZSA9IFMuVEVYVDtcblx0XHRcdFx0XHRcdGVtaXROb2RlKHBhcnNlciwgXCJvbmRvY3R5cGVcIiwgcGFyc2VyLmRvY3R5cGUpO1xuXHRcdFx0XHRcdFx0cGFyc2VyLmRvY3R5cGUgPSB0cnVlO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRwYXJzZXIuZG9jdHlwZSArPSBjO1xuXHRcdFx0XHRcdFx0aWYgKGMgPT09IFwiW1wiKSBwYXJzZXIuc3RhdGUgPSBTLkRPQ1RZUEVfRFREO1xuXHRcdFx0XHRcdFx0ZWxzZSBpZiAoaXNRdW90ZShjKSkge1xuXHRcdFx0XHRcdFx0XHRwYXJzZXIuc3RhdGUgPSBTLkRPQ1RZUEVfUVVPVEVEO1xuXHRcdFx0XHRcdFx0XHRwYXJzZXIucSA9IGM7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRjYXNlIFMuRE9DVFlQRV9RVU9URUQ6XG5cdFx0XHRcdFx0cGFyc2VyLmRvY3R5cGUgKz0gYztcblx0XHRcdFx0XHRpZiAoYyA9PT0gcGFyc2VyLnEpIHtcblx0XHRcdFx0XHRcdHBhcnNlci5xID0gXCJcIjtcblx0XHRcdFx0XHRcdHBhcnNlci5zdGF0ZSA9IFMuRE9DVFlQRTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdGNhc2UgUy5ET0NUWVBFX0RURDpcblx0XHRcdFx0XHRwYXJzZXIuZG9jdHlwZSArPSBjO1xuXHRcdFx0XHRcdGlmIChjID09PSBcIl1cIikgcGFyc2VyLnN0YXRlID0gUy5ET0NUWVBFO1xuXHRcdFx0XHRcdGVsc2UgaWYgKGlzUXVvdGUoYykpIHtcblx0XHRcdFx0XHRcdHBhcnNlci5zdGF0ZSA9IFMuRE9DVFlQRV9EVERfUVVPVEVEO1xuXHRcdFx0XHRcdFx0cGFyc2VyLnEgPSBjO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0Y2FzZSBTLkRPQ1RZUEVfRFREX1FVT1RFRDpcblx0XHRcdFx0XHRwYXJzZXIuZG9jdHlwZSArPSBjO1xuXHRcdFx0XHRcdGlmIChjID09PSBwYXJzZXIucSkge1xuXHRcdFx0XHRcdFx0cGFyc2VyLnN0YXRlID0gUy5ET0NUWVBFX0RURDtcblx0XHRcdFx0XHRcdHBhcnNlci5xID0gXCJcIjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdGNhc2UgUy5DT01NRU5UOlxuXHRcdFx0XHRcdGlmIChjID09PSBcIi1cIikgcGFyc2VyLnN0YXRlID0gUy5DT01NRU5UX0VORElORztcblx0XHRcdFx0XHRlbHNlIHBhcnNlci5jb21tZW50ICs9IGM7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdGNhc2UgUy5DT01NRU5UX0VORElORzpcblx0XHRcdFx0XHRpZiAoYyA9PT0gXCItXCIpIHtcblx0XHRcdFx0XHRcdHBhcnNlci5zdGF0ZSA9IFMuQ09NTUVOVF9FTkRFRDtcblx0XHRcdFx0XHRcdHBhcnNlci5jb21tZW50ID0gdGV4dG9wdHMocGFyc2VyLm9wdCwgcGFyc2VyLmNvbW1lbnQpO1xuXHRcdFx0XHRcdFx0aWYgKHBhcnNlci5jb21tZW50KSBlbWl0Tm9kZShwYXJzZXIsIFwib25jb21tZW50XCIsIHBhcnNlci5jb21tZW50KTtcblx0XHRcdFx0XHRcdHBhcnNlci5jb21tZW50ID0gXCJcIjtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cGFyc2VyLmNvbW1lbnQgKz0gXCItXCIgKyBjO1xuXHRcdFx0XHRcdFx0cGFyc2VyLnN0YXRlID0gUy5DT01NRU5UO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0Y2FzZSBTLkNPTU1FTlRfRU5ERUQ6XG5cdFx0XHRcdFx0aWYgKGMgIT09IFwiPlwiKSB7XG5cdFx0XHRcdFx0XHRzdHJpY3RGYWlsKHBhcnNlciwgXCJNYWxmb3JtZWQgY29tbWVudFwiKTtcblx0XHRcdFx0XHRcdHBhcnNlci5jb21tZW50ICs9IFwiLS1cIiArIGM7XG5cdFx0XHRcdFx0XHRwYXJzZXIuc3RhdGUgPSBTLkNPTU1FTlQ7XG5cdFx0XHRcdFx0fSBlbHNlIHBhcnNlci5zdGF0ZSA9IFMuVEVYVDtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0Y2FzZSBTLkNEQVRBOlxuXHRcdFx0XHRcdGlmIChjID09PSBcIl1cIikgcGFyc2VyLnN0YXRlID0gUy5DREFUQV9FTkRJTkc7XG5cdFx0XHRcdFx0ZWxzZSBwYXJzZXIuY2RhdGEgKz0gYztcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0Y2FzZSBTLkNEQVRBX0VORElORzpcblx0XHRcdFx0XHRpZiAoYyA9PT0gXCJdXCIpIHBhcnNlci5zdGF0ZSA9IFMuQ0RBVEFfRU5ESU5HXzI7XG5cdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHRwYXJzZXIuY2RhdGEgKz0gXCJdXCIgKyBjO1xuXHRcdFx0XHRcdFx0cGFyc2VyLnN0YXRlID0gUy5DREFUQTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdGNhc2UgUy5DREFUQV9FTkRJTkdfMjpcblx0XHRcdFx0XHRpZiAoYyA9PT0gXCI+XCIpIHtcblx0XHRcdFx0XHRcdGlmIChwYXJzZXIuY2RhdGEpIGVtaXROb2RlKHBhcnNlciwgXCJvbmNkYXRhXCIsIHBhcnNlci5jZGF0YSk7XG5cdFx0XHRcdFx0XHRlbWl0Tm9kZShwYXJzZXIsIFwib25jbG9zZWNkYXRhXCIpO1xuXHRcdFx0XHRcdFx0cGFyc2VyLmNkYXRhID0gXCJcIjtcblx0XHRcdFx0XHRcdHBhcnNlci5zdGF0ZSA9IFMuVEVYVDtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGMgPT09IFwiXVwiKSBwYXJzZXIuY2RhdGEgKz0gXCJdXCI7XG5cdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHRwYXJzZXIuY2RhdGEgKz0gXCJdXVwiICsgYztcblx0XHRcdFx0XHRcdHBhcnNlci5zdGF0ZSA9IFMuQ0RBVEE7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRjYXNlIFMuUFJPQ19JTlNUOlxuXHRcdFx0XHRcdGlmIChjID09PSBcIj9cIikgcGFyc2VyLnN0YXRlID0gUy5QUk9DX0lOU1RfRU5ESU5HO1xuXHRcdFx0XHRcdGVsc2UgaWYgKGlzV2hpdGVzcGFjZShjKSkgcGFyc2VyLnN0YXRlID0gUy5QUk9DX0lOU1RfQk9EWTtcblx0XHRcdFx0XHRlbHNlIHBhcnNlci5wcm9jSW5zdE5hbWUgKz0gYztcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0Y2FzZSBTLlBST0NfSU5TVF9CT0RZOlxuXHRcdFx0XHRcdGlmICghcGFyc2VyLnByb2NJbnN0Qm9keSAmJiBpc1doaXRlc3BhY2UoYykpIGNvbnRpbnVlO1xuXHRcdFx0XHRcdGVsc2UgaWYgKGMgPT09IFwiP1wiKSBwYXJzZXIuc3RhdGUgPSBTLlBST0NfSU5TVF9FTkRJTkc7XG5cdFx0XHRcdFx0ZWxzZSBwYXJzZXIucHJvY0luc3RCb2R5ICs9IGM7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdGNhc2UgUy5QUk9DX0lOU1RfRU5ESU5HOlxuXHRcdFx0XHRcdGlmIChjID09PSBcIj5cIikge1xuXHRcdFx0XHRcdFx0ZW1pdE5vZGUocGFyc2VyLCBcIm9ucHJvY2Vzc2luZ2luc3RydWN0aW9uXCIsIHtcblx0XHRcdFx0XHRcdFx0bmFtZTogcGFyc2VyLnByb2NJbnN0TmFtZSxcblx0XHRcdFx0XHRcdFx0Ym9keTogcGFyc2VyLnByb2NJbnN0Qm9keVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRwYXJzZXIucHJvY0luc3ROYW1lID0gcGFyc2VyLnByb2NJbnN0Qm9keSA9IFwiXCI7XG5cdFx0XHRcdFx0XHRwYXJzZXIuc3RhdGUgPSBTLlRFWFQ7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHBhcnNlci5wcm9jSW5zdEJvZHkgKz0gXCI/XCIgKyBjO1xuXHRcdFx0XHRcdFx0cGFyc2VyLnN0YXRlID0gUy5QUk9DX0lOU1RfQk9EWTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdGNhc2UgUy5PUEVOX1RBRzpcblx0XHRcdFx0XHRpZiAoaXNNYXRjaChuYW1lQm9keSwgYykpIHBhcnNlci50YWdOYW1lICs9IGM7XG5cdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHRuZXdUYWcocGFyc2VyKTtcblx0XHRcdFx0XHRcdGlmIChjID09PSBcIj5cIikgb3BlblRhZyhwYXJzZXIpO1xuXHRcdFx0XHRcdFx0ZWxzZSBpZiAoYyA9PT0gXCIvXCIpIHBhcnNlci5zdGF0ZSA9IFMuT1BFTl9UQUdfU0xBU0g7XG5cdFx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdFx0aWYgKCFpc1doaXRlc3BhY2UoYykpIHN0cmljdEZhaWwocGFyc2VyLCBcIkludmFsaWQgY2hhcmFjdGVyIGluIHRhZyBuYW1lXCIpO1xuXHRcdFx0XHRcdFx0XHRwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdGNhc2UgUy5PUEVOX1RBR19TTEFTSDpcblx0XHRcdFx0XHRpZiAoYyA9PT0gXCI+XCIpIHtcblx0XHRcdFx0XHRcdG9wZW5UYWcocGFyc2VyLCB0cnVlKTtcblx0XHRcdFx0XHRcdGNsb3NlVGFnKHBhcnNlcik7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHN0cmljdEZhaWwocGFyc2VyLCBcIkZvcndhcmQtc2xhc2ggaW4gb3BlbmluZyB0YWcgbm90IGZvbGxvd2VkIGJ5ID5cIik7XG5cdFx0XHRcdFx0XHRwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdGNhc2UgUy5BVFRSSUI6XG5cdFx0XHRcdFx0aWYgKGlzV2hpdGVzcGFjZShjKSkgY29udGludWU7XG5cdFx0XHRcdFx0ZWxzZSBpZiAoYyA9PT0gXCI+XCIpIG9wZW5UYWcocGFyc2VyKTtcblx0XHRcdFx0XHRlbHNlIGlmIChjID09PSBcIi9cIikgcGFyc2VyLnN0YXRlID0gUy5PUEVOX1RBR19TTEFTSDtcblx0XHRcdFx0XHRlbHNlIGlmIChpc01hdGNoKG5hbWVTdGFydCwgYykpIHtcblx0XHRcdFx0XHRcdHBhcnNlci5hdHRyaWJOYW1lID0gYztcblx0XHRcdFx0XHRcdHBhcnNlci5hdHRyaWJWYWx1ZSA9IFwiXCI7XG5cdFx0XHRcdFx0XHRwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQl9OQU1FO1xuXHRcdFx0XHRcdH0gZWxzZSBzdHJpY3RGYWlsKHBhcnNlciwgXCJJbnZhbGlkIGF0dHJpYnV0ZSBuYW1lXCIpO1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRjYXNlIFMuQVRUUklCX05BTUU6XG5cdFx0XHRcdFx0aWYgKGMgPT09IFwiPVwiKSBwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQl9WQUxVRTtcblx0XHRcdFx0XHRlbHNlIGlmIChjID09PSBcIj5cIikge1xuXHRcdFx0XHRcdFx0c3RyaWN0RmFpbChwYXJzZXIsIFwiQXR0cmlidXRlIHdpdGhvdXQgdmFsdWVcIik7XG5cdFx0XHRcdFx0XHRwYXJzZXIuYXR0cmliVmFsdWUgPSBwYXJzZXIuYXR0cmliTmFtZTtcblx0XHRcdFx0XHRcdGF0dHJpYihwYXJzZXIpO1xuXHRcdFx0XHRcdFx0b3BlblRhZyhwYXJzZXIpO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoaXNXaGl0ZXNwYWNlKGMpKSBwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQl9OQU1FX1NBV19XSElURTtcblx0XHRcdFx0XHRlbHNlIGlmIChpc01hdGNoKG5hbWVCb2R5LCBjKSkgcGFyc2VyLmF0dHJpYk5hbWUgKz0gYztcblx0XHRcdFx0XHRlbHNlIHN0cmljdEZhaWwocGFyc2VyLCBcIkludmFsaWQgYXR0cmlidXRlIG5hbWVcIik7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdGNhc2UgUy5BVFRSSUJfTkFNRV9TQVdfV0hJVEU6XG5cdFx0XHRcdFx0aWYgKGMgPT09IFwiPVwiKSBwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQl9WQUxVRTtcblx0XHRcdFx0XHRlbHNlIGlmIChpc1doaXRlc3BhY2UoYykpIGNvbnRpbnVlO1xuXHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0c3RyaWN0RmFpbChwYXJzZXIsIFwiQXR0cmlidXRlIHdpdGhvdXQgdmFsdWVcIik7XG5cdFx0XHRcdFx0XHRwYXJzZXIudGFnLmF0dHJpYnV0ZXNbcGFyc2VyLmF0dHJpYk5hbWVdID0gXCJcIjtcblx0XHRcdFx0XHRcdHBhcnNlci5hdHRyaWJWYWx1ZSA9IFwiXCI7XG5cdFx0XHRcdFx0XHRlbWl0Tm9kZShwYXJzZXIsIFwib25hdHRyaWJ1dGVcIiwge1xuXHRcdFx0XHRcdFx0XHRuYW1lOiBwYXJzZXIuYXR0cmliTmFtZSxcblx0XHRcdFx0XHRcdFx0dmFsdWU6IFwiXCJcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0cGFyc2VyLmF0dHJpYk5hbWUgPSBcIlwiO1xuXHRcdFx0XHRcdFx0aWYgKGMgPT09IFwiPlwiKSBvcGVuVGFnKHBhcnNlcik7XG5cdFx0XHRcdFx0XHRlbHNlIGlmIChpc01hdGNoKG5hbWVTdGFydCwgYykpIHtcblx0XHRcdFx0XHRcdFx0cGFyc2VyLmF0dHJpYk5hbWUgPSBjO1xuXHRcdFx0XHRcdFx0XHRwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQl9OQU1FO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0c3RyaWN0RmFpbChwYXJzZXIsIFwiSW52YWxpZCBhdHRyaWJ1dGUgbmFtZVwiKTtcblx0XHRcdFx0XHRcdFx0cGFyc2VyLnN0YXRlID0gUy5BVFRSSUI7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRjYXNlIFMuQVRUUklCX1ZBTFVFOlxuXHRcdFx0XHRcdGlmIChpc1doaXRlc3BhY2UoYykpIGNvbnRpbnVlO1xuXHRcdFx0XHRcdGVsc2UgaWYgKGlzUXVvdGUoYykpIHtcblx0XHRcdFx0XHRcdHBhcnNlci5xID0gYztcblx0XHRcdFx0XHRcdHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCX1ZBTFVFX1FVT1RFRDtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0c3RyaWN0RmFpbChwYXJzZXIsIFwiVW5xdW90ZWQgYXR0cmlidXRlIHZhbHVlXCIpO1xuXHRcdFx0XHRcdFx0cGFyc2VyLnN0YXRlID0gUy5BVFRSSUJfVkFMVUVfVU5RVU9URUQ7XG5cdFx0XHRcdFx0XHRwYXJzZXIuYXR0cmliVmFsdWUgPSBjO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0Y2FzZSBTLkFUVFJJQl9WQUxVRV9RVU9URUQ6XG5cdFx0XHRcdFx0aWYgKGMgIT09IHBhcnNlci5xKSB7XG5cdFx0XHRcdFx0XHRpZiAoYyA9PT0gXCImXCIpIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCX1ZBTFVFX0VOVElUWV9RO1xuXHRcdFx0XHRcdFx0ZWxzZSBwYXJzZXIuYXR0cmliVmFsdWUgKz0gYztcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRhdHRyaWIocGFyc2VyKTtcblx0XHRcdFx0XHRwYXJzZXIucSA9IFwiXCI7XG5cdFx0XHRcdFx0cGFyc2VyLnN0YXRlID0gUy5BVFRSSUJfVkFMVUVfQ0xPU0VEO1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRjYXNlIFMuQVRUUklCX1ZBTFVFX0NMT1NFRDpcblx0XHRcdFx0XHRpZiAoaXNXaGl0ZXNwYWNlKGMpKSBwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQjtcblx0XHRcdFx0XHRlbHNlIGlmIChjID09PSBcIj5cIikgb3BlblRhZyhwYXJzZXIpO1xuXHRcdFx0XHRcdGVsc2UgaWYgKGMgPT09IFwiL1wiKSBwYXJzZXIuc3RhdGUgPSBTLk9QRU5fVEFHX1NMQVNIO1xuXHRcdFx0XHRcdGVsc2UgaWYgKGlzTWF0Y2gobmFtZVN0YXJ0LCBjKSkge1xuXHRcdFx0XHRcdFx0c3RyaWN0RmFpbChwYXJzZXIsIFwiTm8gd2hpdGVzcGFjZSBiZXR3ZWVuIGF0dHJpYnV0ZXNcIik7XG5cdFx0XHRcdFx0XHRwYXJzZXIuYXR0cmliTmFtZSA9IGM7XG5cdFx0XHRcdFx0XHRwYXJzZXIuYXR0cmliVmFsdWUgPSBcIlwiO1xuXHRcdFx0XHRcdFx0cGFyc2VyLnN0YXRlID0gUy5BVFRSSUJfTkFNRTtcblx0XHRcdFx0XHR9IGVsc2Ugc3RyaWN0RmFpbChwYXJzZXIsIFwiSW52YWxpZCBhdHRyaWJ1dGUgbmFtZVwiKTtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0Y2FzZSBTLkFUVFJJQl9WQUxVRV9VTlFVT1RFRDpcblx0XHRcdFx0XHRpZiAoIWlzQXR0cmliRW5kKGMpKSB7XG5cdFx0XHRcdFx0XHRpZiAoYyA9PT0gXCImXCIpIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCX1ZBTFVFX0VOVElUWV9VO1xuXHRcdFx0XHRcdFx0ZWxzZSBwYXJzZXIuYXR0cmliVmFsdWUgKz0gYztcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRhdHRyaWIocGFyc2VyKTtcblx0XHRcdFx0XHRpZiAoYyA9PT0gXCI+XCIpIG9wZW5UYWcocGFyc2VyKTtcblx0XHRcdFx0XHRlbHNlIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCO1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRjYXNlIFMuQ0xPU0VfVEFHOlxuXHRcdFx0XHRcdGlmICghcGFyc2VyLnRhZ05hbWUpIGlmIChpc1doaXRlc3BhY2UoYykpIGNvbnRpbnVlO1xuXHRcdFx0XHRcdGVsc2UgaWYgKG5vdE1hdGNoKG5hbWVTdGFydCwgYykpIGlmIChwYXJzZXIuc2NyaXB0KSB7XG5cdFx0XHRcdFx0XHRwYXJzZXIuc2NyaXB0ICs9IFwiPC9cIiArIGM7XG5cdFx0XHRcdFx0XHRwYXJzZXIuc3RhdGUgPSBTLlNDUklQVDtcblx0XHRcdFx0XHR9IGVsc2Ugc3RyaWN0RmFpbChwYXJzZXIsIFwiSW52YWxpZCB0YWduYW1lIGluIGNsb3NpbmcgdGFnLlwiKTtcblx0XHRcdFx0XHRlbHNlIHBhcnNlci50YWdOYW1lID0gYztcblx0XHRcdFx0XHRlbHNlIGlmIChjID09PSBcIj5cIikgY2xvc2VUYWcocGFyc2VyKTtcblx0XHRcdFx0XHRlbHNlIGlmIChpc01hdGNoKG5hbWVCb2R5LCBjKSkgcGFyc2VyLnRhZ05hbWUgKz0gYztcblx0XHRcdFx0XHRlbHNlIGlmIChwYXJzZXIuc2NyaXB0KSB7XG5cdFx0XHRcdFx0XHRwYXJzZXIuc2NyaXB0ICs9IFwiPC9cIiArIHBhcnNlci50YWdOYW1lO1xuXHRcdFx0XHRcdFx0cGFyc2VyLnRhZ05hbWUgPSBcIlwiO1xuXHRcdFx0XHRcdFx0cGFyc2VyLnN0YXRlID0gUy5TQ1JJUFQ7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGlmICghaXNXaGl0ZXNwYWNlKGMpKSBzdHJpY3RGYWlsKHBhcnNlciwgXCJJbnZhbGlkIHRhZ25hbWUgaW4gY2xvc2luZyB0YWdcIik7XG5cdFx0XHRcdFx0XHRwYXJzZXIuc3RhdGUgPSBTLkNMT1NFX1RBR19TQVdfV0hJVEU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRjYXNlIFMuQ0xPU0VfVEFHX1NBV19XSElURTpcblx0XHRcdFx0XHRpZiAoaXNXaGl0ZXNwYWNlKGMpKSBjb250aW51ZTtcblx0XHRcdFx0XHRpZiAoYyA9PT0gXCI+XCIpIGNsb3NlVGFnKHBhcnNlcik7XG5cdFx0XHRcdFx0ZWxzZSBzdHJpY3RGYWlsKHBhcnNlciwgXCJJbnZhbGlkIGNoYXJhY3RlcnMgaW4gY2xvc2luZyB0YWdcIik7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdGNhc2UgUy5URVhUX0VOVElUWTpcblx0XHRcdFx0Y2FzZSBTLkFUVFJJQl9WQUxVRV9FTlRJVFlfUTpcblx0XHRcdFx0Y2FzZSBTLkFUVFJJQl9WQUxVRV9FTlRJVFlfVTpcblx0XHRcdFx0XHR2YXIgcmV0dXJuU3RhdGU7XG5cdFx0XHRcdFx0dmFyIGJ1ZmZlcjtcblx0XHRcdFx0XHRzd2l0Y2ggKHBhcnNlci5zdGF0ZSkge1xuXHRcdFx0XHRcdFx0Y2FzZSBTLlRFWFRfRU5USVRZOlxuXHRcdFx0XHRcdFx0XHRyZXR1cm5TdGF0ZSA9IFMuVEVYVDtcblx0XHRcdFx0XHRcdFx0YnVmZmVyID0gXCJ0ZXh0Tm9kZVwiO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdGNhc2UgUy5BVFRSSUJfVkFMVUVfRU5USVRZX1E6XG5cdFx0XHRcdFx0XHRcdHJldHVyblN0YXRlID0gUy5BVFRSSUJfVkFMVUVfUVVPVEVEO1xuXHRcdFx0XHRcdFx0XHRidWZmZXIgPSBcImF0dHJpYlZhbHVlXCI7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0Y2FzZSBTLkFUVFJJQl9WQUxVRV9FTlRJVFlfVTpcblx0XHRcdFx0XHRcdFx0cmV0dXJuU3RhdGUgPSBTLkFUVFJJQl9WQUxVRV9VTlFVT1RFRDtcblx0XHRcdFx0XHRcdFx0YnVmZmVyID0gXCJhdHRyaWJWYWx1ZVwiO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKGMgPT09IFwiO1wiKSBpZiAocGFyc2VyLm9wdC51bnBhcnNlZEVudGl0aWVzKSB7XG5cdFx0XHRcdFx0XHR2YXIgcGFyc2VkRW50aXR5ID0gcGFyc2VFbnRpdHkocGFyc2VyKTtcblx0XHRcdFx0XHRcdHBhcnNlci5lbnRpdHkgPSBcIlwiO1xuXHRcdFx0XHRcdFx0cGFyc2VyLnN0YXRlID0gcmV0dXJuU3RhdGU7XG5cdFx0XHRcdFx0XHRwYXJzZXIud3JpdGUocGFyc2VkRW50aXR5KTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cGFyc2VyW2J1ZmZlcl0gKz0gcGFyc2VFbnRpdHkocGFyc2VyKTtcblx0XHRcdFx0XHRcdHBhcnNlci5lbnRpdHkgPSBcIlwiO1xuXHRcdFx0XHRcdFx0cGFyc2VyLnN0YXRlID0gcmV0dXJuU3RhdGU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYgKGlzTWF0Y2gocGFyc2VyLmVudGl0eS5sZW5ndGggPyBlbnRpdHlCb2R5IDogZW50aXR5U3RhcnQsIGMpKSBwYXJzZXIuZW50aXR5ICs9IGM7XG5cdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHRzdHJpY3RGYWlsKHBhcnNlciwgXCJJbnZhbGlkIGNoYXJhY3RlciBpbiBlbnRpdHkgbmFtZVwiKTtcblx0XHRcdFx0XHRcdHBhcnNlcltidWZmZXJdICs9IFwiJlwiICsgcGFyc2VyLmVudGl0eSArIGM7XG5cdFx0XHRcdFx0XHRwYXJzZXIuZW50aXR5ID0gXCJcIjtcblx0XHRcdFx0XHRcdHBhcnNlci5zdGF0ZSA9IHJldHVyblN0YXRlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0ZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKHBhcnNlciwgXCJVbmtub3duIHN0YXRlOiBcIiArIHBhcnNlci5zdGF0ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChwYXJzZXIucG9zaXRpb24gPj0gcGFyc2VyLmJ1ZmZlckNoZWNrUG9zaXRpb24pIGNoZWNrQnVmZmVyTGVuZ3RoKHBhcnNlcik7XG5cdFx0cmV0dXJuIHBhcnNlcjtcblx0fVxuXHQvKiEgaHR0cDovL210aHMuYmUvZnJvbWNvZGVwb2ludCB2MC4xLjAgYnkgQG1hdGhpYXMgKi9cblx0LyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cblx0aWYgKCFTdHJpbmcuZnJvbUNvZGVQb2ludCkgKGZ1bmN0aW9uKCkge1xuXHRcdHZhciBzdHJpbmdGcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlO1xuXHRcdHZhciBmbG9vciA9IE1hdGguZmxvb3I7XG5cdFx0dmFyIGZyb21Db2RlUG9pbnQgPSBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBNQVhfU0laRSA9IDE2Mzg0O1xuXHRcdFx0dmFyIGNvZGVVbml0cyA9IFtdO1xuXHRcdFx0dmFyIGhpZ2hTdXJyb2dhdGU7XG5cdFx0XHR2YXIgbG93U3Vycm9nYXRlO1xuXHRcdFx0dmFyIGluZGV4ID0gLTE7XG5cdFx0XHR2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcblx0XHRcdGlmICghbGVuZ3RoKSByZXR1cm4gXCJcIjtcblx0XHRcdHZhciByZXN1bHQgPSBcIlwiO1xuXHRcdFx0d2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcblx0XHRcdFx0dmFyIGNvZGVQb2ludCA9IE51bWJlcihhcmd1bWVudHNbaW5kZXhdKTtcblx0XHRcdFx0aWYgKCFpc0Zpbml0ZShjb2RlUG9pbnQpIHx8IGNvZGVQb2ludCA8IDAgfHwgY29kZVBvaW50ID4gMTExNDExMSB8fCBmbG9vcihjb2RlUG9pbnQpICE9PSBjb2RlUG9pbnQpIHRocm93IFJhbmdlRXJyb3IoXCJJbnZhbGlkIGNvZGUgcG9pbnQ6IFwiICsgY29kZVBvaW50KTtcblx0XHRcdFx0aWYgKGNvZGVQb2ludCA8PSA2NTUzNSkgY29kZVVuaXRzLnB1c2goY29kZVBvaW50KTtcblx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0Y29kZVBvaW50IC09IDY1NTM2O1xuXHRcdFx0XHRcdGhpZ2hTdXJyb2dhdGUgPSAoY29kZVBvaW50ID4+IDEwKSArIDU1Mjk2O1xuXHRcdFx0XHRcdGxvd1N1cnJvZ2F0ZSA9IGNvZGVQb2ludCAlIDEwMjQgKyA1NjMyMDtcblx0XHRcdFx0XHRjb2RlVW5pdHMucHVzaChoaWdoU3Vycm9nYXRlLCBsb3dTdXJyb2dhdGUpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChpbmRleCArIDEgPT09IGxlbmd0aCB8fCBjb2RlVW5pdHMubGVuZ3RoID4gTUFYX1NJWkUpIHtcblx0XHRcdFx0XHRyZXN1bHQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIGNvZGVVbml0cyk7XG5cdFx0XHRcdFx0Y29kZVVuaXRzLmxlbmd0aCA9IDA7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fTtcblx0XHQvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuXHRcdGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJpbmcsIFwiZnJvbUNvZGVQb2ludFwiLCB7XG5cdFx0XHR2YWx1ZTogZnJvbUNvZGVQb2ludCxcblx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdHdyaXRhYmxlOiB0cnVlXG5cdFx0fSk7XG5cdFx0ZWxzZSBTdHJpbmcuZnJvbUNvZGVQb2ludCA9IGZyb21Db2RlUG9pbnQ7XG5cdH0pKCk7XG5cdHJldHVybiBzYXgkMTtcbn07XG5jb25zdCBzYXggPSBpbml0aWFsaXplU2F4KCk7XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgc2F4IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zYXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/sax-js/sax.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/signal.js":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/signal.js ***!
  \****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAbortSignalError: () => (/* binding */ getAbortSignalError),\n/* harmony export */   raceWithSignal: () => (/* binding */ raceWithSignal)\n/* harmony export */ });\n//#region src/utils/signal.ts\n/**\n* Race a promise with an abort signal. If the signal is aborted, the promise will\n* be rejected with the error from the signal. If the promise is rejected, the signal will be aborted.\n*\n* @param promise - The promise to race.\n* @param signal - The abort signal.\n* @returns The result of the promise.\n*/\nasync function raceWithSignal(promise, signal) {\n\tif (signal === void 0) return promise;\n\tlet listener;\n\treturn Promise.race([promise.catch((err) => {\n\t\tif (!signal?.aborted) throw err;\n\t\telse return void 0;\n\t}), new Promise((_, reject) => {\n\t\tlistener = () => {\n\t\t\treject(getAbortSignalError(signal));\n\t\t};\n\t\tsignal.addEventListener(\"abort\", listener);\n\t\tif (signal.aborted) reject(getAbortSignalError(signal));\n\t})]).finally(() => signal.removeEventListener(\"abort\", listener));\n}\n/**\n* Get the error from an abort signal. Since you can set the reason to anything,\n* we have to do some type gymnastics to get a proper error message.\n*\n* @param signal - The abort signal.\n* @returns The error from the abort signal.\n*/\nfunction getAbortSignalError(signal) {\n\tif (signal?.reason instanceof Error) return signal.reason;\n\tif (typeof signal?.reason === \"string\") return new Error(signal.reason);\n\treturn /* @__PURE__ */ new Error(\"Aborted\");\n}\n\n//#endregion\n\n//# sourceMappingURL=signal.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9zaWduYWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUMrQztBQUMvQyIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvc2lnbmFsLmpzP2FlN2IiXSwic291cmNlc0NvbnRlbnQiOlsiLy8jcmVnaW9uIHNyYy91dGlscy9zaWduYWwudHNcbi8qKlxuKiBSYWNlIGEgcHJvbWlzZSB3aXRoIGFuIGFib3J0IHNpZ25hbC4gSWYgdGhlIHNpZ25hbCBpcyBhYm9ydGVkLCB0aGUgcHJvbWlzZSB3aWxsXG4qIGJlIHJlamVjdGVkIHdpdGggdGhlIGVycm9yIGZyb20gdGhlIHNpZ25hbC4gSWYgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQsIHRoZSBzaWduYWwgd2lsbCBiZSBhYm9ydGVkLlxuKlxuKiBAcGFyYW0gcHJvbWlzZSAtIFRoZSBwcm9taXNlIHRvIHJhY2UuXG4qIEBwYXJhbSBzaWduYWwgLSBUaGUgYWJvcnQgc2lnbmFsLlxuKiBAcmV0dXJucyBUaGUgcmVzdWx0IG9mIHRoZSBwcm9taXNlLlxuKi9cbmFzeW5jIGZ1bmN0aW9uIHJhY2VXaXRoU2lnbmFsKHByb21pc2UsIHNpZ25hbCkge1xuXHRpZiAoc2lnbmFsID09PSB2b2lkIDApIHJldHVybiBwcm9taXNlO1xuXHRsZXQgbGlzdGVuZXI7XG5cdHJldHVybiBQcm9taXNlLnJhY2UoW3Byb21pc2UuY2F0Y2goKGVycikgPT4ge1xuXHRcdGlmICghc2lnbmFsPy5hYm9ydGVkKSB0aHJvdyBlcnI7XG5cdFx0ZWxzZSByZXR1cm4gdm9pZCAwO1xuXHR9KSwgbmV3IFByb21pc2UoKF8sIHJlamVjdCkgPT4ge1xuXHRcdGxpc3RlbmVyID0gKCkgPT4ge1xuXHRcdFx0cmVqZWN0KGdldEFib3J0U2lnbmFsRXJyb3Ioc2lnbmFsKSk7XG5cdFx0fTtcblx0XHRzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsIGxpc3RlbmVyKTtcblx0XHRpZiAoc2lnbmFsLmFib3J0ZWQpIHJlamVjdChnZXRBYm9ydFNpZ25hbEVycm9yKHNpZ25hbCkpO1xuXHR9KV0pLmZpbmFsbHkoKCkgPT4gc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBsaXN0ZW5lcikpO1xufVxuLyoqXG4qIEdldCB0aGUgZXJyb3IgZnJvbSBhbiBhYm9ydCBzaWduYWwuIFNpbmNlIHlvdSBjYW4gc2V0IHRoZSByZWFzb24gdG8gYW55dGhpbmcsXG4qIHdlIGhhdmUgdG8gZG8gc29tZSB0eXBlIGd5bW5hc3RpY3MgdG8gZ2V0IGEgcHJvcGVyIGVycm9yIG1lc3NhZ2UuXG4qXG4qIEBwYXJhbSBzaWduYWwgLSBUaGUgYWJvcnQgc2lnbmFsLlxuKiBAcmV0dXJucyBUaGUgZXJyb3IgZnJvbSB0aGUgYWJvcnQgc2lnbmFsLlxuKi9cbmZ1bmN0aW9uIGdldEFib3J0U2lnbmFsRXJyb3Ioc2lnbmFsKSB7XG5cdGlmIChzaWduYWw/LnJlYXNvbiBpbnN0YW5jZW9mIEVycm9yKSByZXR1cm4gc2lnbmFsLnJlYXNvbjtcblx0aWYgKHR5cGVvZiBzaWduYWw/LnJlYXNvbiA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIG5ldyBFcnJvcihzaWduYWwucmVhc29uKTtcblx0cmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBuZXcgRXJyb3IoXCJBYm9ydGVkXCIpO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IGdldEFib3J0U2lnbmFsRXJyb3IsIHJhY2VXaXRoU2lnbmFsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zaWduYWwuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/signal.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/stream.js":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/stream.js ***!
  \****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AsyncGeneratorWithSetup: () => (/* binding */ AsyncGeneratorWithSetup),\n/* harmony export */   IterableReadableStream: () => (/* binding */ IterableReadableStream),\n/* harmony export */   atee: () => (/* binding */ atee),\n/* harmony export */   concat: () => (/* binding */ concat),\n/* harmony export */   pipeGeneratorWithSetup: () => (/* binding */ pipeGeneratorWithSetup),\n/* harmony export */   stream_exports: () => (/* binding */ stream_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _singletons_async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../singletons/async_local_storage/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/async_local_storage/index.js\");\n/* harmony import */ var _singletons_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../singletons/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/singletons/index.js\");\n/* harmony import */ var _runnables_config_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../runnables/config.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/config.js\");\n/* harmony import */ var _signal_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./signal.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/signal.js\");\n\n\n\n\n\n\n//#region src/utils/stream.ts\nvar stream_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(stream_exports, {\n\tAsyncGeneratorWithSetup: () => AsyncGeneratorWithSetup,\n\tIterableReadableStream: () => IterableReadableStream,\n\tatee: () => atee,\n\tconcat: () => concat,\n\tpipeGeneratorWithSetup: () => pipeGeneratorWithSetup\n});\nvar IterableReadableStream = class IterableReadableStream extends ReadableStream {\n\treader;\n\tensureReader() {\n\t\tif (!this.reader) this.reader = this.getReader();\n\t}\n\tasync next() {\n\t\tthis.ensureReader();\n\t\ttry {\n\t\t\tconst result = await this.reader.read();\n\t\t\tif (result.done) {\n\t\t\t\tthis.reader.releaseLock();\n\t\t\t\treturn {\n\t\t\t\t\tdone: true,\n\t\t\t\t\tvalue: void 0\n\t\t\t\t};\n\t\t\t} else return {\n\t\t\t\tdone: false,\n\t\t\t\tvalue: result.value\n\t\t\t};\n\t\t} catch (e) {\n\t\t\tthis.reader.releaseLock();\n\t\t\tthrow e;\n\t\t}\n\t}\n\tasync return() {\n\t\tthis.ensureReader();\n\t\tif (this.locked) {\n\t\t\tconst cancelPromise = this.reader.cancel();\n\t\t\tthis.reader.releaseLock();\n\t\t\tawait cancelPromise;\n\t\t}\n\t\treturn {\n\t\t\tdone: true,\n\t\t\tvalue: void 0\n\t\t};\n\t}\n\tasync throw(e) {\n\t\tthis.ensureReader();\n\t\tif (this.locked) {\n\t\t\tconst cancelPromise = this.reader.cancel();\n\t\t\tthis.reader.releaseLock();\n\t\t\tawait cancelPromise;\n\t\t}\n\t\tthrow e;\n\t}\n\t[Symbol.asyncIterator]() {\n\t\treturn this;\n\t}\n\tasync [Symbol.asyncDispose]() {\n\t\tawait this.return();\n\t}\n\tstatic fromReadableStream(stream) {\n\t\tconst reader = stream.getReader();\n\t\treturn new IterableReadableStream({\n\t\t\tstart(controller) {\n\t\t\t\treturn pump();\n\t\t\t\tfunction pump() {\n\t\t\t\t\treturn reader.read().then(({ done, value }) => {\n\t\t\t\t\t\tif (done) {\n\t\t\t\t\t\t\tcontroller.close();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcontroller.enqueue(value);\n\t\t\t\t\t\treturn pump();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\tcancel() {\n\t\t\t\treader.releaseLock();\n\t\t\t}\n\t\t});\n\t}\n\tstatic fromAsyncGenerator(generator) {\n\t\treturn new IterableReadableStream({\n\t\t\tasync pull(controller) {\n\t\t\t\tconst { value, done } = await generator.next();\n\t\t\t\tif (done) controller.close();\n\t\t\t\tcontroller.enqueue(value);\n\t\t\t},\n\t\t\tasync cancel(reason) {\n\t\t\t\tawait generator.return(reason);\n\t\t\t}\n\t\t});\n\t}\n};\nfunction atee(iter, length = 2) {\n\tconst buffers = Array.from({ length }, () => []);\n\treturn buffers.map(async function* makeIter(buffer) {\n\t\twhile (true) if (buffer.length === 0) {\n\t\t\tconst result = await iter.next();\n\t\t\tfor (const buffer$1 of buffers) buffer$1.push(result);\n\t\t} else if (buffer[0].done) return;\n\t\telse yield buffer.shift().value;\n\t});\n}\nfunction concat(first, second) {\n\tif (Array.isArray(first) && Array.isArray(second)) return first.concat(second);\n\telse if (typeof first === \"string\" && typeof second === \"string\") return first + second;\n\telse if (typeof first === \"number\" && typeof second === \"number\") return first + second;\n\telse if (\"concat\" in first && typeof first.concat === \"function\") return first.concat(second);\n\telse if (typeof first === \"object\" && typeof second === \"object\") {\n\t\tconst chunk = { ...first };\n\t\tfor (const [key, value] of Object.entries(second)) if (key in chunk && !Array.isArray(chunk[key])) chunk[key] = concat(chunk[key], value);\n\t\telse chunk[key] = value;\n\t\treturn chunk;\n\t} else throw new Error(`Cannot concat ${typeof first} and ${typeof second}`);\n}\nvar AsyncGeneratorWithSetup = class {\n\tgenerator;\n\tsetup;\n\tconfig;\n\tsignal;\n\tfirstResult;\n\tfirstResultUsed = false;\n\tconstructor(params) {\n\t\tthis.generator = params.generator;\n\t\tthis.config = params.config;\n\t\tthis.signal = params.signal ?? this.config?.signal;\n\t\tthis.setup = new Promise((resolve, reject) => {\n\t\t\t_singletons_async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_1__.AsyncLocalStorageProviderSingleton.runWithConfig((0,_runnables_config_js__WEBPACK_IMPORTED_MODULE_3__.pickRunnableConfigKeys)(params.config), async () => {\n\t\t\t\tthis.firstResult = params.generator.next();\n\t\t\t\tif (params.startSetup) this.firstResult.then(params.startSetup).then(resolve, reject);\n\t\t\t\telse this.firstResult.then((_result) => resolve(void 0), reject);\n\t\t\t}, true);\n\t\t});\n\t}\n\tasync next(...args) {\n\t\tthis.signal?.throwIfAborted();\n\t\tif (!this.firstResultUsed) {\n\t\t\tthis.firstResultUsed = true;\n\t\t\treturn this.firstResult;\n\t\t}\n\t\treturn _singletons_async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_1__.AsyncLocalStorageProviderSingleton.runWithConfig((0,_runnables_config_js__WEBPACK_IMPORTED_MODULE_3__.pickRunnableConfigKeys)(this.config), this.signal ? async () => {\n\t\t\treturn (0,_signal_js__WEBPACK_IMPORTED_MODULE_4__.raceWithSignal)(this.generator.next(...args), this.signal);\n\t\t} : async () => {\n\t\t\treturn this.generator.next(...args);\n\t\t}, true);\n\t}\n\tasync return(value) {\n\t\treturn this.generator.return(value);\n\t}\n\tasync throw(e) {\n\t\treturn this.generator.throw(e);\n\t}\n\t[Symbol.asyncIterator]() {\n\t\treturn this;\n\t}\n\tasync [Symbol.asyncDispose]() {\n\t\tawait this.return();\n\t}\n};\nasync function pipeGeneratorWithSetup(to, generator, startSetup, signal, ...args) {\n\tconst gen = new AsyncGeneratorWithSetup({\n\t\tgenerator,\n\t\tstartSetup,\n\t\tsignal\n\t});\n\tconst setup = await gen.setup;\n\treturn {\n\t\toutput: to(gen, setup, ...args),\n\t\tsetup\n\t};\n}\n\n//#endregion\n\n//# sourceMappingURL=stream.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9zdHJlYW0uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBMkQ7QUFDcUM7QUFDaEU7QUFDZ0M7QUFDbkI7O0FBRTdDO0FBQ0E7QUFDQSxzRUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxhQUFhO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUI7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLFFBQVE7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0EsR0FBRyxzQ0FBc0MsY0FBYyxNQUFNLGNBQWM7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLHdHQUFrQyxlQUFlLDRFQUFzQjtBQUMxRTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyx3R0FBa0MsZUFBZSw0RUFBc0I7QUFDaEYsVUFBVSwwREFBYztBQUN4QixJQUFJO0FBQ0o7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ2lIO0FBQ2pIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9zdHJlYW0uanM/NTBhOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2V4cG9ydCB9IGZyb20gXCIuLi9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmpzXCI7XG5pbXBvcnQgeyBBc3luY0xvY2FsU3RvcmFnZVByb3ZpZGVyU2luZ2xldG9uIH0gZnJvbSBcIi4uL3NpbmdsZXRvbnMvYXN5bmNfbG9jYWxfc3RvcmFnZS9pbmRleC5qc1wiO1xuaW1wb3J0IFwiLi4vc2luZ2xldG9ucy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgcGlja1J1bm5hYmxlQ29uZmlnS2V5cyB9IGZyb20gXCIuLi9ydW5uYWJsZXMvY29uZmlnLmpzXCI7XG5pbXBvcnQgeyByYWNlV2l0aFNpZ25hbCB9IGZyb20gXCIuL3NpZ25hbC5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL3N0cmVhbS50c1xudmFyIHN0cmVhbV9leHBvcnRzID0ge307XG5fX2V4cG9ydChzdHJlYW1fZXhwb3J0cywge1xuXHRBc3luY0dlbmVyYXRvcldpdGhTZXR1cDogKCkgPT4gQXN5bmNHZW5lcmF0b3JXaXRoU2V0dXAsXG5cdEl0ZXJhYmxlUmVhZGFibGVTdHJlYW06ICgpID0+IEl0ZXJhYmxlUmVhZGFibGVTdHJlYW0sXG5cdGF0ZWU6ICgpID0+IGF0ZWUsXG5cdGNvbmNhdDogKCkgPT4gY29uY2F0LFxuXHRwaXBlR2VuZXJhdG9yV2l0aFNldHVwOiAoKSA9PiBwaXBlR2VuZXJhdG9yV2l0aFNldHVwXG59KTtcbnZhciBJdGVyYWJsZVJlYWRhYmxlU3RyZWFtID0gY2xhc3MgSXRlcmFibGVSZWFkYWJsZVN0cmVhbSBleHRlbmRzIFJlYWRhYmxlU3RyZWFtIHtcblx0cmVhZGVyO1xuXHRlbnN1cmVSZWFkZXIoKSB7XG5cdFx0aWYgKCF0aGlzLnJlYWRlcikgdGhpcy5yZWFkZXIgPSB0aGlzLmdldFJlYWRlcigpO1xuXHR9XG5cdGFzeW5jIG5leHQoKSB7XG5cdFx0dGhpcy5lbnN1cmVSZWFkZXIoKTtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5yZWFkZXIucmVhZCgpO1xuXHRcdFx0aWYgKHJlc3VsdC5kb25lKSB7XG5cdFx0XHRcdHRoaXMucmVhZGVyLnJlbGVhc2VMb2NrKCk7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0ZG9uZTogdHJ1ZSxcblx0XHRcdFx0XHR2YWx1ZTogdm9pZCAwXG5cdFx0XHRcdH07XG5cdFx0XHR9IGVsc2UgcmV0dXJuIHtcblx0XHRcdFx0ZG9uZTogZmFsc2UsXG5cdFx0XHRcdHZhbHVlOiByZXN1bHQudmFsdWVcblx0XHRcdH07XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0dGhpcy5yZWFkZXIucmVsZWFzZUxvY2soKTtcblx0XHRcdHRocm93IGU7XG5cdFx0fVxuXHR9XG5cdGFzeW5jIHJldHVybigpIHtcblx0XHR0aGlzLmVuc3VyZVJlYWRlcigpO1xuXHRcdGlmICh0aGlzLmxvY2tlZCkge1xuXHRcdFx0Y29uc3QgY2FuY2VsUHJvbWlzZSA9IHRoaXMucmVhZGVyLmNhbmNlbCgpO1xuXHRcdFx0dGhpcy5yZWFkZXIucmVsZWFzZUxvY2soKTtcblx0XHRcdGF3YWl0IGNhbmNlbFByb21pc2U7XG5cdFx0fVxuXHRcdHJldHVybiB7XG5cdFx0XHRkb25lOiB0cnVlLFxuXHRcdFx0dmFsdWU6IHZvaWQgMFxuXHRcdH07XG5cdH1cblx0YXN5bmMgdGhyb3coZSkge1xuXHRcdHRoaXMuZW5zdXJlUmVhZGVyKCk7XG5cdFx0aWYgKHRoaXMubG9ja2VkKSB7XG5cdFx0XHRjb25zdCBjYW5jZWxQcm9taXNlID0gdGhpcy5yZWFkZXIuY2FuY2VsKCk7XG5cdFx0XHR0aGlzLnJlYWRlci5yZWxlYXNlTG9jaygpO1xuXHRcdFx0YXdhaXQgY2FuY2VsUHJvbWlzZTtcblx0XHR9XG5cdFx0dGhyb3cgZTtcblx0fVxuXHRbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cdGFzeW5jIFtTeW1ib2wuYXN5bmNEaXNwb3NlXSgpIHtcblx0XHRhd2FpdCB0aGlzLnJldHVybigpO1xuXHR9XG5cdHN0YXRpYyBmcm9tUmVhZGFibGVTdHJlYW0oc3RyZWFtKSB7XG5cdFx0Y29uc3QgcmVhZGVyID0gc3RyZWFtLmdldFJlYWRlcigpO1xuXHRcdHJldHVybiBuZXcgSXRlcmFibGVSZWFkYWJsZVN0cmVhbSh7XG5cdFx0XHRzdGFydChjb250cm9sbGVyKSB7XG5cdFx0XHRcdHJldHVybiBwdW1wKCk7XG5cdFx0XHRcdGZ1bmN0aW9uIHB1bXAoKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHJlYWRlci5yZWFkKCkudGhlbigoeyBkb25lLCB2YWx1ZSB9KSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAoZG9uZSkge1xuXHRcdFx0XHRcdFx0XHRjb250cm9sbGVyLmNsb3NlKCk7XG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGNvbnRyb2xsZXIuZW5xdWV1ZSh2YWx1ZSk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcHVtcCgpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0Y2FuY2VsKCkge1xuXHRcdFx0XHRyZWFkZXIucmVsZWFzZUxvY2soKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXHRzdGF0aWMgZnJvbUFzeW5jR2VuZXJhdG9yKGdlbmVyYXRvcikge1xuXHRcdHJldHVybiBuZXcgSXRlcmFibGVSZWFkYWJsZVN0cmVhbSh7XG5cdFx0XHRhc3luYyBwdWxsKGNvbnRyb2xsZXIpIHtcblx0XHRcdFx0Y29uc3QgeyB2YWx1ZSwgZG9uZSB9ID0gYXdhaXQgZ2VuZXJhdG9yLm5leHQoKTtcblx0XHRcdFx0aWYgKGRvbmUpIGNvbnRyb2xsZXIuY2xvc2UoKTtcblx0XHRcdFx0Y29udHJvbGxlci5lbnF1ZXVlKHZhbHVlKTtcblx0XHRcdH0sXG5cdFx0XHRhc3luYyBjYW5jZWwocmVhc29uKSB7XG5cdFx0XHRcdGF3YWl0IGdlbmVyYXRvci5yZXR1cm4ocmVhc29uKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxufTtcbmZ1bmN0aW9uIGF0ZWUoaXRlciwgbGVuZ3RoID0gMikge1xuXHRjb25zdCBidWZmZXJzID0gQXJyYXkuZnJvbSh7IGxlbmd0aCB9LCAoKSA9PiBbXSk7XG5cdHJldHVybiBidWZmZXJzLm1hcChhc3luYyBmdW5jdGlvbiogbWFrZUl0ZXIoYnVmZmVyKSB7XG5cdFx0d2hpbGUgKHRydWUpIGlmIChidWZmZXIubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBpdGVyLm5leHQoKTtcblx0XHRcdGZvciAoY29uc3QgYnVmZmVyJDEgb2YgYnVmZmVycykgYnVmZmVyJDEucHVzaChyZXN1bHQpO1xuXHRcdH0gZWxzZSBpZiAoYnVmZmVyWzBdLmRvbmUpIHJldHVybjtcblx0XHRlbHNlIHlpZWxkIGJ1ZmZlci5zaGlmdCgpLnZhbHVlO1xuXHR9KTtcbn1cbmZ1bmN0aW9uIGNvbmNhdChmaXJzdCwgc2Vjb25kKSB7XG5cdGlmIChBcnJheS5pc0FycmF5KGZpcnN0KSAmJiBBcnJheS5pc0FycmF5KHNlY29uZCkpIHJldHVybiBmaXJzdC5jb25jYXQoc2Vjb25kKTtcblx0ZWxzZSBpZiAodHlwZW9mIGZpcnN0ID09PSBcInN0cmluZ1wiICYmIHR5cGVvZiBzZWNvbmQgPT09IFwic3RyaW5nXCIpIHJldHVybiBmaXJzdCArIHNlY29uZDtcblx0ZWxzZSBpZiAodHlwZW9mIGZpcnN0ID09PSBcIm51bWJlclwiICYmIHR5cGVvZiBzZWNvbmQgPT09IFwibnVtYmVyXCIpIHJldHVybiBmaXJzdCArIHNlY29uZDtcblx0ZWxzZSBpZiAoXCJjb25jYXRcIiBpbiBmaXJzdCAmJiB0eXBlb2YgZmlyc3QuY29uY2F0ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBmaXJzdC5jb25jYXQoc2Vjb25kKTtcblx0ZWxzZSBpZiAodHlwZW9mIGZpcnN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBzZWNvbmQgPT09IFwib2JqZWN0XCIpIHtcblx0XHRjb25zdCBjaHVuayA9IHsgLi4uZmlyc3QgfTtcblx0XHRmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhzZWNvbmQpKSBpZiAoa2V5IGluIGNodW5rICYmICFBcnJheS5pc0FycmF5KGNodW5rW2tleV0pKSBjaHVua1trZXldID0gY29uY2F0KGNodW5rW2tleV0sIHZhbHVlKTtcblx0XHRlbHNlIGNodW5rW2tleV0gPSB2YWx1ZTtcblx0XHRyZXR1cm4gY2h1bms7XG5cdH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBjb25jYXQgJHt0eXBlb2YgZmlyc3R9IGFuZCAke3R5cGVvZiBzZWNvbmR9YCk7XG59XG52YXIgQXN5bmNHZW5lcmF0b3JXaXRoU2V0dXAgPSBjbGFzcyB7XG5cdGdlbmVyYXRvcjtcblx0c2V0dXA7XG5cdGNvbmZpZztcblx0c2lnbmFsO1xuXHRmaXJzdFJlc3VsdDtcblx0Zmlyc3RSZXN1bHRVc2VkID0gZmFsc2U7XG5cdGNvbnN0cnVjdG9yKHBhcmFtcykge1xuXHRcdHRoaXMuZ2VuZXJhdG9yID0gcGFyYW1zLmdlbmVyYXRvcjtcblx0XHR0aGlzLmNvbmZpZyA9IHBhcmFtcy5jb25maWc7XG5cdFx0dGhpcy5zaWduYWwgPSBwYXJhbXMuc2lnbmFsID8/IHRoaXMuY29uZmlnPy5zaWduYWw7XG5cdFx0dGhpcy5zZXR1cCA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdEFzeW5jTG9jYWxTdG9yYWdlUHJvdmlkZXJTaW5nbGV0b24ucnVuV2l0aENvbmZpZyhwaWNrUnVubmFibGVDb25maWdLZXlzKHBhcmFtcy5jb25maWcpLCBhc3luYyAoKSA9PiB7XG5cdFx0XHRcdHRoaXMuZmlyc3RSZXN1bHQgPSBwYXJhbXMuZ2VuZXJhdG9yLm5leHQoKTtcblx0XHRcdFx0aWYgKHBhcmFtcy5zdGFydFNldHVwKSB0aGlzLmZpcnN0UmVzdWx0LnRoZW4ocGFyYW1zLnN0YXJ0U2V0dXApLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcblx0XHRcdFx0ZWxzZSB0aGlzLmZpcnN0UmVzdWx0LnRoZW4oKF9yZXN1bHQpID0+IHJlc29sdmUodm9pZCAwKSwgcmVqZWN0KTtcblx0XHRcdH0sIHRydWUpO1xuXHRcdH0pO1xuXHR9XG5cdGFzeW5jIG5leHQoLi4uYXJncykge1xuXHRcdHRoaXMuc2lnbmFsPy50aHJvd0lmQWJvcnRlZCgpO1xuXHRcdGlmICghdGhpcy5maXJzdFJlc3VsdFVzZWQpIHtcblx0XHRcdHRoaXMuZmlyc3RSZXN1bHRVc2VkID0gdHJ1ZTtcblx0XHRcdHJldHVybiB0aGlzLmZpcnN0UmVzdWx0O1xuXHRcdH1cblx0XHRyZXR1cm4gQXN5bmNMb2NhbFN0b3JhZ2VQcm92aWRlclNpbmdsZXRvbi5ydW5XaXRoQ29uZmlnKHBpY2tSdW5uYWJsZUNvbmZpZ0tleXModGhpcy5jb25maWcpLCB0aGlzLnNpZ25hbCA/IGFzeW5jICgpID0+IHtcblx0XHRcdHJldHVybiByYWNlV2l0aFNpZ25hbCh0aGlzLmdlbmVyYXRvci5uZXh0KC4uLmFyZ3MpLCB0aGlzLnNpZ25hbCk7XG5cdFx0fSA6IGFzeW5jICgpID0+IHtcblx0XHRcdHJldHVybiB0aGlzLmdlbmVyYXRvci5uZXh0KC4uLmFyZ3MpO1xuXHRcdH0sIHRydWUpO1xuXHR9XG5cdGFzeW5jIHJldHVybih2YWx1ZSkge1xuXHRcdHJldHVybiB0aGlzLmdlbmVyYXRvci5yZXR1cm4odmFsdWUpO1xuXHR9XG5cdGFzeW5jIHRocm93KGUpIHtcblx0XHRyZXR1cm4gdGhpcy5nZW5lcmF0b3IudGhyb3coZSk7XG5cdH1cblx0W1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXHRhc3luYyBbU3ltYm9sLmFzeW5jRGlzcG9zZV0oKSB7XG5cdFx0YXdhaXQgdGhpcy5yZXR1cm4oKTtcblx0fVxufTtcbmFzeW5jIGZ1bmN0aW9uIHBpcGVHZW5lcmF0b3JXaXRoU2V0dXAodG8sIGdlbmVyYXRvciwgc3RhcnRTZXR1cCwgc2lnbmFsLCAuLi5hcmdzKSB7XG5cdGNvbnN0IGdlbiA9IG5ldyBBc3luY0dlbmVyYXRvcldpdGhTZXR1cCh7XG5cdFx0Z2VuZXJhdG9yLFxuXHRcdHN0YXJ0U2V0dXAsXG5cdFx0c2lnbmFsXG5cdH0pO1xuXHRjb25zdCBzZXR1cCA9IGF3YWl0IGdlbi5zZXR1cDtcblx0cmV0dXJuIHtcblx0XHRvdXRwdXQ6IHRvKGdlbiwgc2V0dXAsIC4uLmFyZ3MpLFxuXHRcdHNldHVwXG5cdH07XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQXN5bmNHZW5lcmF0b3JXaXRoU2V0dXAsIEl0ZXJhYmxlUmVhZGFibGVTdHJlYW0sIGF0ZWUsIGNvbmNhdCwgcGlwZUdlbmVyYXRvcldpdGhTZXR1cCwgc3RyZWFtX2V4cG9ydHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0cmVhbS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/stream.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/chat_models.js":
/*!*****************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/chat_models.js ***!
  \*****************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FakeChatModel: () => (/* binding */ FakeChatModel),\n/* harmony export */   FakeListChatModel: () => (/* binding */ FakeListChatModel),\n/* harmony export */   FakeStreamingChatModel: () => (/* binding */ FakeStreamingChatModel)\n/* harmony export */ });\n/* harmony import */ var _messages_ai_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../messages/ai.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/ai.js\");\n/* harmony import */ var _outputs_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../outputs.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/outputs.js\");\n/* harmony import */ var _json_schema_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../json_schema.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/json_schema.js\");\n/* harmony import */ var _runnables_base_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../runnables/base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/base.js\");\n/* harmony import */ var _messages_index_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../messages/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/index.js\");\n/* harmony import */ var _language_models_chat_models_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../language_models/chat_models.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/language_models/chat_models.js\");\n\n\n\n\n\n\n\n//#region src/utils/testing/chat_models.ts\nvar FakeChatModel = class extends _language_models_chat_models_js__WEBPACK_IMPORTED_MODULE_5__.BaseChatModel {\n\t_combineLLMOutput() {\n\t\treturn [];\n\t}\n\t_llmType() {\n\t\treturn \"fake\";\n\t}\n\tasync _generate(messages, options, runManager) {\n\t\tif (options?.stop?.length) return { generations: [{\n\t\t\tmessage: new _messages_ai_js__WEBPACK_IMPORTED_MODULE_0__.AIMessage(options.stop[0]),\n\t\t\ttext: options.stop[0]\n\t\t}] };\n\t\tconst text = messages.map((m) => {\n\t\t\tif (typeof m.content === \"string\") return m.content;\n\t\t\treturn JSON.stringify(m.content, null, 2);\n\t\t}).join(\"\\n\");\n\t\tawait runManager?.handleLLMNewToken(text);\n\t\treturn {\n\t\t\tgenerations: [{\n\t\t\t\tmessage: new _messages_ai_js__WEBPACK_IMPORTED_MODULE_0__.AIMessage(text),\n\t\t\t\ttext\n\t\t\t}],\n\t\t\tllmOutput: {}\n\t\t};\n\t}\n};\nvar FakeStreamingChatModel = class FakeStreamingChatModel extends _language_models_chat_models_js__WEBPACK_IMPORTED_MODULE_5__.BaseChatModel {\n\tsleep = 50;\n\tresponses = [];\n\tchunks = [];\n\ttoolStyle = \"openai\";\n\tthrownErrorString;\n\ttools = [];\n\tconstructor({ sleep = 50, responses = [], chunks = [], toolStyle = \"openai\", thrownErrorString,...rest }) {\n\t\tsuper(rest);\n\t\tthis.sleep = sleep;\n\t\tthis.responses = responses;\n\t\tthis.chunks = chunks;\n\t\tthis.toolStyle = toolStyle;\n\t\tthis.thrownErrorString = thrownErrorString;\n\t}\n\t_llmType() {\n\t\treturn \"fake\";\n\t}\n\tbindTools(tools) {\n\t\tconst merged = [...this.tools, ...tools];\n\t\tconst toolDicts = merged.map((t) => {\n\t\t\tswitch (this.toolStyle) {\n\t\t\t\tcase \"openai\": return {\n\t\t\t\t\ttype: \"function\",\n\t\t\t\t\tfunction: {\n\t\t\t\t\t\tname: t.name,\n\t\t\t\t\t\tdescription: t.description,\n\t\t\t\t\t\tparameters: (0,_json_schema_js__WEBPACK_IMPORTED_MODULE_2__.toJsonSchema)(t.schema)\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tcase \"anthropic\": return {\n\t\t\t\t\tname: t.name,\n\t\t\t\t\tdescription: t.description,\n\t\t\t\t\tinput_schema: (0,_json_schema_js__WEBPACK_IMPORTED_MODULE_2__.toJsonSchema)(t.schema)\n\t\t\t\t};\n\t\t\t\tcase \"bedrock\": return { toolSpec: {\n\t\t\t\t\tname: t.name,\n\t\t\t\t\tdescription: t.description,\n\t\t\t\t\tinputSchema: (0,_json_schema_js__WEBPACK_IMPORTED_MODULE_2__.toJsonSchema)(t.schema)\n\t\t\t\t} };\n\t\t\t\tcase \"google\": return {\n\t\t\t\t\tname: t.name,\n\t\t\t\t\tdescription: t.description,\n\t\t\t\t\tparameters: (0,_json_schema_js__WEBPACK_IMPORTED_MODULE_2__.toJsonSchema)(t.schema)\n\t\t\t\t};\n\t\t\t\tdefault: throw new Error(`Unsupported tool style: ${this.toolStyle}`);\n\t\t\t}\n\t\t});\n\t\tconst wrapped = this.toolStyle === \"google\" ? [{ functionDeclarations: toolDicts }] : toolDicts;\n\t\tconst next = new FakeStreamingChatModel({\n\t\t\tsleep: this.sleep,\n\t\t\tresponses: this.responses,\n\t\t\tchunks: this.chunks,\n\t\t\ttoolStyle: this.toolStyle,\n\t\t\tthrownErrorString: this.thrownErrorString\n\t\t});\n\t\tnext.tools = merged;\n\t\treturn next.withConfig({ tools: wrapped });\n\t}\n\tasync _generate(messages, _options, _runManager) {\n\t\tif (this.thrownErrorString) throw new Error(this.thrownErrorString);\n\t\tconst content = this.responses?.[0]?.content ?? messages[0].content ?? \"\";\n\t\tconst generation = { generations: [{\n\t\t\ttext: \"\",\n\t\t\tmessage: new _messages_ai_js__WEBPACK_IMPORTED_MODULE_0__.AIMessage({\n\t\t\t\tcontent,\n\t\t\t\ttool_calls: this.chunks?.[0]?.tool_calls\n\t\t\t})\n\t\t}] };\n\t\treturn generation;\n\t}\n\tasync *_streamResponseChunks(_messages, _options, runManager) {\n\t\tif (this.thrownErrorString) throw new Error(this.thrownErrorString);\n\t\tif (this.chunks?.length) {\n\t\t\tfor (const msgChunk of this.chunks) {\n\t\t\t\tconst cg = new _outputs_js__WEBPACK_IMPORTED_MODULE_1__.ChatGenerationChunk({\n\t\t\t\t\tmessage: new _messages_ai_js__WEBPACK_IMPORTED_MODULE_0__.AIMessageChunk({\n\t\t\t\t\t\tcontent: msgChunk.content,\n\t\t\t\t\t\ttool_calls: msgChunk.tool_calls,\n\t\t\t\t\t\tadditional_kwargs: msgChunk.additional_kwargs ?? {}\n\t\t\t\t\t}),\n\t\t\t\t\ttext: msgChunk.content?.toString() ?? \"\"\n\t\t\t\t});\n\t\t\t\tyield cg;\n\t\t\t\tawait runManager?.handleLLMNewToken(msgChunk.content, void 0, void 0, void 0, void 0, { chunk: cg });\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tconst fallback = this.responses?.[0] ?? new _messages_ai_js__WEBPACK_IMPORTED_MODULE_0__.AIMessage(typeof _messages[0].content === \"string\" ? _messages[0].content : \"\");\n\t\tconst text = typeof fallback.content === \"string\" ? fallback.content : \"\";\n\t\tfor (const ch of text) {\n\t\t\tawait new Promise((r) => setTimeout(r, this.sleep));\n\t\t\tconst cg = new _outputs_js__WEBPACK_IMPORTED_MODULE_1__.ChatGenerationChunk({\n\t\t\t\tmessage: new _messages_ai_js__WEBPACK_IMPORTED_MODULE_0__.AIMessageChunk({ content: ch }),\n\t\t\t\ttext: ch\n\t\t\t});\n\t\t\tyield cg;\n\t\t\tawait runManager?.handleLLMNewToken(ch, void 0, void 0, void 0, void 0, { chunk: cg });\n\t\t}\n\t}\n};\n/**\n* A fake Chat Model that returns a predefined list of responses. It can be used\n* for testing purposes.\n* @example\n* ```typescript\n* const chat = new FakeListChatModel({\n*   responses: [\"I'll callback later.\", \"You 'console' them!\"]\n* });\n*\n* const firstMessage = new HumanMessage(\"You want to hear a JavaScript joke?\");\n* const secondMessage = new HumanMessage(\"How do you cheer up a JavaScript developer?\");\n*\n* // Call the chat model with a message and log the response\n* const firstResponse = await chat.call([firstMessage]);\n* console.log({ firstResponse });\n*\n* const secondResponse = await chat.call([secondMessage]);\n* console.log({ secondResponse });\n* ```\n*/\nvar FakeListChatModel = class extends _language_models_chat_models_js__WEBPACK_IMPORTED_MODULE_5__.BaseChatModel {\n\tstatic lc_name() {\n\t\treturn \"FakeListChatModel\";\n\t}\n\tlc_serializable = true;\n\tresponses;\n\ti = 0;\n\tsleep;\n\temitCustomEvent = false;\n\tconstructor(params) {\n\t\tsuper(params);\n\t\tconst { responses, sleep, emitCustomEvent } = params;\n\t\tthis.responses = responses;\n\t\tthis.sleep = sleep;\n\t\tthis.emitCustomEvent = emitCustomEvent ?? this.emitCustomEvent;\n\t}\n\t_combineLLMOutput() {\n\t\treturn [];\n\t}\n\t_llmType() {\n\t\treturn \"fake-list\";\n\t}\n\tasync _generate(_messages, options, runManager) {\n\t\tawait this._sleepIfRequested();\n\t\tif (options?.thrownErrorString) throw new Error(options.thrownErrorString);\n\t\tif (this.emitCustomEvent) await runManager?.handleCustomEvent(\"some_test_event\", { someval: true });\n\t\tif (options?.stop?.length) return { generations: [this._formatGeneration(options.stop[0])] };\n\t\telse {\n\t\t\tconst response = this._currentResponse();\n\t\t\tthis._incrementResponse();\n\t\t\treturn {\n\t\t\t\tgenerations: [this._formatGeneration(response)],\n\t\t\t\tllmOutput: {}\n\t\t\t};\n\t\t}\n\t}\n\t_formatGeneration(text) {\n\t\treturn {\n\t\t\tmessage: new _messages_ai_js__WEBPACK_IMPORTED_MODULE_0__.AIMessage(text),\n\t\t\ttext\n\t\t};\n\t}\n\tasync *_streamResponseChunks(_messages, options, runManager) {\n\t\tconst response = this._currentResponse();\n\t\tthis._incrementResponse();\n\t\tif (this.emitCustomEvent) await runManager?.handleCustomEvent(\"some_test_event\", { someval: true });\n\t\tfor await (const text of response) {\n\t\t\tawait this._sleepIfRequested();\n\t\t\tif (options?.thrownErrorString) throw new Error(options.thrownErrorString);\n\t\t\tconst chunk = this._createResponseChunk(text);\n\t\t\tyield chunk;\n\t\t\trunManager?.handleLLMNewToken(text);\n\t\t}\n\t}\n\tasync _sleepIfRequested() {\n\t\tif (this.sleep !== void 0) await this._sleep();\n\t}\n\tasync _sleep() {\n\t\treturn new Promise((resolve) => {\n\t\t\tsetTimeout(() => resolve(), this.sleep);\n\t\t});\n\t}\n\t_createResponseChunk(text) {\n\t\treturn new _outputs_js__WEBPACK_IMPORTED_MODULE_1__.ChatGenerationChunk({\n\t\t\tmessage: new _messages_ai_js__WEBPACK_IMPORTED_MODULE_0__.AIMessageChunk({ content: text }),\n\t\t\ttext\n\t\t});\n\t}\n\t_currentResponse() {\n\t\treturn this.responses[this.i];\n\t}\n\t_incrementResponse() {\n\t\tif (this.i < this.responses.length - 1) this.i += 1;\n\t\telse this.i = 0;\n\t}\n\twithStructuredOutput(_params, _config) {\n\t\treturn _runnables_base_js__WEBPACK_IMPORTED_MODULE_3__.RunnableLambda.from(async (input) => {\n\t\t\tconst message = await this.invoke(input);\n\t\t\tif (message.tool_calls?.[0]?.args) return message.tool_calls[0].args;\n\t\t\tif (typeof message.content === \"string\") return JSON.parse(message.content);\n\t\t\tthrow new Error(\"No structured output found\");\n\t\t});\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=chat_models.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy90ZXN0aW5nL2NoYXRfbW9kZWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFpRTtBQUNWO0FBQ047QUFDUTtBQUN4QjtBQUNvQzs7QUFFckU7QUFDQSxrQ0FBa0MsMEVBQWE7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEMsZ0JBQWdCLHNEQUFTO0FBQ3pCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsc0RBQVM7QUFDMUI7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0UsMEVBQWE7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSwwRkFBMEY7QUFDekc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsNkRBQVk7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw2REFBWTtBQUMvQjtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0Esa0JBQWtCLDZEQUFZO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDZEQUFZO0FBQzdCO0FBQ0Esd0RBQXdELGVBQWU7QUFDdkU7QUFDQSxHQUFHO0FBQ0gsbURBQW1ELGlDQUFpQztBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSwyQkFBMkIsZ0JBQWdCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0EsZ0JBQWdCLHNEQUFTO0FBQ3pCO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw0REFBbUI7QUFDdEMsa0JBQWtCLDJEQUFjO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLEtBQUs7QUFDTDtBQUNBLDRGQUE0RixXQUFXO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxzREFBUztBQUN2RDtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsNERBQW1CO0FBQ3JDLGlCQUFpQiwyREFBYyxHQUFHLGFBQWE7QUFDL0M7QUFDQSxJQUFJO0FBQ0o7QUFDQSw2RUFBNkUsV0FBVztBQUN4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZUFBZTtBQUMvQjtBQUNBO0FBQ0EsZ0JBQWdCLGdCQUFnQjtBQUNoQztBQUNBO0FBQ0Esc0NBQXNDLDBFQUFhO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxvQ0FBb0M7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRkFBcUYsZUFBZTtBQUNwRyxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixzREFBUztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRkFBcUYsZUFBZTtBQUNwRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxhQUFhLDREQUFtQjtBQUNoQyxnQkFBZ0IsMkRBQWMsR0FBRyxlQUFlO0FBQ2hEO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsOERBQWM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNvRTtBQUNwRSIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvdGVzdGluZy9jaGF0X21vZGVscy5qcz9iNTc1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFJTWVzc2FnZSwgQUlNZXNzYWdlQ2h1bmsgfSBmcm9tIFwiLi4vLi4vbWVzc2FnZXMvYWkuanNcIjtcbmltcG9ydCB7IENoYXRHZW5lcmF0aW9uQ2h1bmsgfSBmcm9tIFwiLi4vLi4vb3V0cHV0cy5qc1wiO1xuaW1wb3J0IHsgdG9Kc29uU2NoZW1hIH0gZnJvbSBcIi4uL2pzb25fc2NoZW1hLmpzXCI7XG5pbXBvcnQgeyBSdW5uYWJsZUxhbWJkYSB9IGZyb20gXCIuLi8uLi9ydW5uYWJsZXMvYmFzZS5qc1wiO1xuaW1wb3J0IFwiLi4vLi4vbWVzc2FnZXMvaW5kZXguanNcIjtcbmltcG9ydCB7IEJhc2VDaGF0TW9kZWwgfSBmcm9tIFwiLi4vLi4vbGFuZ3VhZ2VfbW9kZWxzL2NoYXRfbW9kZWxzLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvdGVzdGluZy9jaGF0X21vZGVscy50c1xudmFyIEZha2VDaGF0TW9kZWwgPSBjbGFzcyBleHRlbmRzIEJhc2VDaGF0TW9kZWwge1xuXHRfY29tYmluZUxMTU91dHB1dCgpIHtcblx0XHRyZXR1cm4gW107XG5cdH1cblx0X2xsbVR5cGUoKSB7XG5cdFx0cmV0dXJuIFwiZmFrZVwiO1xuXHR9XG5cdGFzeW5jIF9nZW5lcmF0ZShtZXNzYWdlcywgb3B0aW9ucywgcnVuTWFuYWdlcikge1xuXHRcdGlmIChvcHRpb25zPy5zdG9wPy5sZW5ndGgpIHJldHVybiB7IGdlbmVyYXRpb25zOiBbe1xuXHRcdFx0bWVzc2FnZTogbmV3IEFJTWVzc2FnZShvcHRpb25zLnN0b3BbMF0pLFxuXHRcdFx0dGV4dDogb3B0aW9ucy5zdG9wWzBdXG5cdFx0fV0gfTtcblx0XHRjb25zdCB0ZXh0ID0gbWVzc2FnZXMubWFwKChtKSA9PiB7XG5cdFx0XHRpZiAodHlwZW9mIG0uY29udGVudCA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIG0uY29udGVudDtcblx0XHRcdHJldHVybiBKU09OLnN0cmluZ2lmeShtLmNvbnRlbnQsIG51bGwsIDIpO1xuXHRcdH0pLmpvaW4oXCJcXG5cIik7XG5cdFx0YXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlTExNTmV3VG9rZW4odGV4dCk7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGdlbmVyYXRpb25zOiBbe1xuXHRcdFx0XHRtZXNzYWdlOiBuZXcgQUlNZXNzYWdlKHRleHQpLFxuXHRcdFx0XHR0ZXh0XG5cdFx0XHR9XSxcblx0XHRcdGxsbU91dHB1dDoge31cblx0XHR9O1xuXHR9XG59O1xudmFyIEZha2VTdHJlYW1pbmdDaGF0TW9kZWwgPSBjbGFzcyBGYWtlU3RyZWFtaW5nQ2hhdE1vZGVsIGV4dGVuZHMgQmFzZUNoYXRNb2RlbCB7XG5cdHNsZWVwID0gNTA7XG5cdHJlc3BvbnNlcyA9IFtdO1xuXHRjaHVua3MgPSBbXTtcblx0dG9vbFN0eWxlID0gXCJvcGVuYWlcIjtcblx0dGhyb3duRXJyb3JTdHJpbmc7XG5cdHRvb2xzID0gW107XG5cdGNvbnN0cnVjdG9yKHsgc2xlZXAgPSA1MCwgcmVzcG9uc2VzID0gW10sIGNodW5rcyA9IFtdLCB0b29sU3R5bGUgPSBcIm9wZW5haVwiLCB0aHJvd25FcnJvclN0cmluZywuLi5yZXN0IH0pIHtcblx0XHRzdXBlcihyZXN0KTtcblx0XHR0aGlzLnNsZWVwID0gc2xlZXA7XG5cdFx0dGhpcy5yZXNwb25zZXMgPSByZXNwb25zZXM7XG5cdFx0dGhpcy5jaHVua3MgPSBjaHVua3M7XG5cdFx0dGhpcy50b29sU3R5bGUgPSB0b29sU3R5bGU7XG5cdFx0dGhpcy50aHJvd25FcnJvclN0cmluZyA9IHRocm93bkVycm9yU3RyaW5nO1xuXHR9XG5cdF9sbG1UeXBlKCkge1xuXHRcdHJldHVybiBcImZha2VcIjtcblx0fVxuXHRiaW5kVG9vbHModG9vbHMpIHtcblx0XHRjb25zdCBtZXJnZWQgPSBbLi4udGhpcy50b29scywgLi4udG9vbHNdO1xuXHRcdGNvbnN0IHRvb2xEaWN0cyA9IG1lcmdlZC5tYXAoKHQpID0+IHtcblx0XHRcdHN3aXRjaCAodGhpcy50b29sU3R5bGUpIHtcblx0XHRcdFx0Y2FzZSBcIm9wZW5haVwiOiByZXR1cm4ge1xuXHRcdFx0XHRcdHR5cGU6IFwiZnVuY3Rpb25cIixcblx0XHRcdFx0XHRmdW5jdGlvbjoge1xuXHRcdFx0XHRcdFx0bmFtZTogdC5uYW1lLFxuXHRcdFx0XHRcdFx0ZGVzY3JpcHRpb246IHQuZGVzY3JpcHRpb24sXG5cdFx0XHRcdFx0XHRwYXJhbWV0ZXJzOiB0b0pzb25TY2hlbWEodC5zY2hlbWEpXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRjYXNlIFwiYW50aHJvcGljXCI6IHJldHVybiB7XG5cdFx0XHRcdFx0bmFtZTogdC5uYW1lLFxuXHRcdFx0XHRcdGRlc2NyaXB0aW9uOiB0LmRlc2NyaXB0aW9uLFxuXHRcdFx0XHRcdGlucHV0X3NjaGVtYTogdG9Kc29uU2NoZW1hKHQuc2NoZW1hKVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRjYXNlIFwiYmVkcm9ja1wiOiByZXR1cm4geyB0b29sU3BlYzoge1xuXHRcdFx0XHRcdG5hbWU6IHQubmFtZSxcblx0XHRcdFx0XHRkZXNjcmlwdGlvbjogdC5kZXNjcmlwdGlvbixcblx0XHRcdFx0XHRpbnB1dFNjaGVtYTogdG9Kc29uU2NoZW1hKHQuc2NoZW1hKVxuXHRcdFx0XHR9IH07XG5cdFx0XHRcdGNhc2UgXCJnb29nbGVcIjogcmV0dXJuIHtcblx0XHRcdFx0XHRuYW1lOiB0Lm5hbWUsXG5cdFx0XHRcdFx0ZGVzY3JpcHRpb246IHQuZGVzY3JpcHRpb24sXG5cdFx0XHRcdFx0cGFyYW1ldGVyczogdG9Kc29uU2NoZW1hKHQuc2NoZW1hKVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIHRvb2wgc3R5bGU6ICR7dGhpcy50b29sU3R5bGV9YCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0Y29uc3Qgd3JhcHBlZCA9IHRoaXMudG9vbFN0eWxlID09PSBcImdvb2dsZVwiID8gW3sgZnVuY3Rpb25EZWNsYXJhdGlvbnM6IHRvb2xEaWN0cyB9XSA6IHRvb2xEaWN0cztcblx0XHRjb25zdCBuZXh0ID0gbmV3IEZha2VTdHJlYW1pbmdDaGF0TW9kZWwoe1xuXHRcdFx0c2xlZXA6IHRoaXMuc2xlZXAsXG5cdFx0XHRyZXNwb25zZXM6IHRoaXMucmVzcG9uc2VzLFxuXHRcdFx0Y2h1bmtzOiB0aGlzLmNodW5rcyxcblx0XHRcdHRvb2xTdHlsZTogdGhpcy50b29sU3R5bGUsXG5cdFx0XHR0aHJvd25FcnJvclN0cmluZzogdGhpcy50aHJvd25FcnJvclN0cmluZ1xuXHRcdH0pO1xuXHRcdG5leHQudG9vbHMgPSBtZXJnZWQ7XG5cdFx0cmV0dXJuIG5leHQud2l0aENvbmZpZyh7IHRvb2xzOiB3cmFwcGVkIH0pO1xuXHR9XG5cdGFzeW5jIF9nZW5lcmF0ZShtZXNzYWdlcywgX29wdGlvbnMsIF9ydW5NYW5hZ2VyKSB7XG5cdFx0aWYgKHRoaXMudGhyb3duRXJyb3JTdHJpbmcpIHRocm93IG5ldyBFcnJvcih0aGlzLnRocm93bkVycm9yU3RyaW5nKTtcblx0XHRjb25zdCBjb250ZW50ID0gdGhpcy5yZXNwb25zZXM/LlswXT8uY29udGVudCA/PyBtZXNzYWdlc1swXS5jb250ZW50ID8/IFwiXCI7XG5cdFx0Y29uc3QgZ2VuZXJhdGlvbiA9IHsgZ2VuZXJhdGlvbnM6IFt7XG5cdFx0XHR0ZXh0OiBcIlwiLFxuXHRcdFx0bWVzc2FnZTogbmV3IEFJTWVzc2FnZSh7XG5cdFx0XHRcdGNvbnRlbnQsXG5cdFx0XHRcdHRvb2xfY2FsbHM6IHRoaXMuY2h1bmtzPy5bMF0/LnRvb2xfY2FsbHNcblx0XHRcdH0pXG5cdFx0fV0gfTtcblx0XHRyZXR1cm4gZ2VuZXJhdGlvbjtcblx0fVxuXHRhc3luYyAqX3N0cmVhbVJlc3BvbnNlQ2h1bmtzKF9tZXNzYWdlcywgX29wdGlvbnMsIHJ1bk1hbmFnZXIpIHtcblx0XHRpZiAodGhpcy50aHJvd25FcnJvclN0cmluZykgdGhyb3cgbmV3IEVycm9yKHRoaXMudGhyb3duRXJyb3JTdHJpbmcpO1xuXHRcdGlmICh0aGlzLmNodW5rcz8ubGVuZ3RoKSB7XG5cdFx0XHRmb3IgKGNvbnN0IG1zZ0NodW5rIG9mIHRoaXMuY2h1bmtzKSB7XG5cdFx0XHRcdGNvbnN0IGNnID0gbmV3IENoYXRHZW5lcmF0aW9uQ2h1bmsoe1xuXHRcdFx0XHRcdG1lc3NhZ2U6IG5ldyBBSU1lc3NhZ2VDaHVuayh7XG5cdFx0XHRcdFx0XHRjb250ZW50OiBtc2dDaHVuay5jb250ZW50LFxuXHRcdFx0XHRcdFx0dG9vbF9jYWxsczogbXNnQ2h1bmsudG9vbF9jYWxscyxcblx0XHRcdFx0XHRcdGFkZGl0aW9uYWxfa3dhcmdzOiBtc2dDaHVuay5hZGRpdGlvbmFsX2t3YXJncyA/PyB7fVxuXHRcdFx0XHRcdH0pLFxuXHRcdFx0XHRcdHRleHQ6IG1zZ0NodW5rLmNvbnRlbnQ/LnRvU3RyaW5nKCkgPz8gXCJcIlxuXHRcdFx0XHR9KTtcblx0XHRcdFx0eWllbGQgY2c7XG5cdFx0XHRcdGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUxMTU5ld1Rva2VuKG1zZ0NodW5rLmNvbnRlbnQsIHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgeyBjaHVuazogY2cgfSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGNvbnN0IGZhbGxiYWNrID0gdGhpcy5yZXNwb25zZXM/LlswXSA/PyBuZXcgQUlNZXNzYWdlKHR5cGVvZiBfbWVzc2FnZXNbMF0uY29udGVudCA9PT0gXCJzdHJpbmdcIiA/IF9tZXNzYWdlc1swXS5jb250ZW50IDogXCJcIik7XG5cdFx0Y29uc3QgdGV4dCA9IHR5cGVvZiBmYWxsYmFjay5jb250ZW50ID09PSBcInN0cmluZ1wiID8gZmFsbGJhY2suY29udGVudCA6IFwiXCI7XG5cdFx0Zm9yIChjb25zdCBjaCBvZiB0ZXh0KSB7XG5cdFx0XHRhd2FpdCBuZXcgUHJvbWlzZSgocikgPT4gc2V0VGltZW91dChyLCB0aGlzLnNsZWVwKSk7XG5cdFx0XHRjb25zdCBjZyA9IG5ldyBDaGF0R2VuZXJhdGlvbkNodW5rKHtcblx0XHRcdFx0bWVzc2FnZTogbmV3IEFJTWVzc2FnZUNodW5rKHsgY29udGVudDogY2ggfSksXG5cdFx0XHRcdHRleHQ6IGNoXG5cdFx0XHR9KTtcblx0XHRcdHlpZWxkIGNnO1xuXHRcdFx0YXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlTExNTmV3VG9rZW4oY2gsIHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgeyBjaHVuazogY2cgfSk7XG5cdFx0fVxuXHR9XG59O1xuLyoqXG4qIEEgZmFrZSBDaGF0IE1vZGVsIHRoYXQgcmV0dXJucyBhIHByZWRlZmluZWQgbGlzdCBvZiByZXNwb25zZXMuIEl0IGNhbiBiZSB1c2VkXG4qIGZvciB0ZXN0aW5nIHB1cnBvc2VzLlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIGNvbnN0IGNoYXQgPSBuZXcgRmFrZUxpc3RDaGF0TW9kZWwoe1xuKiAgIHJlc3BvbnNlczogW1wiSSdsbCBjYWxsYmFjayBsYXRlci5cIiwgXCJZb3UgJ2NvbnNvbGUnIHRoZW0hXCJdXG4qIH0pO1xuKlxuKiBjb25zdCBmaXJzdE1lc3NhZ2UgPSBuZXcgSHVtYW5NZXNzYWdlKFwiWW91IHdhbnQgdG8gaGVhciBhIEphdmFTY3JpcHQgam9rZT9cIik7XG4qIGNvbnN0IHNlY29uZE1lc3NhZ2UgPSBuZXcgSHVtYW5NZXNzYWdlKFwiSG93IGRvIHlvdSBjaGVlciB1cCBhIEphdmFTY3JpcHQgZGV2ZWxvcGVyP1wiKTtcbipcbiogLy8gQ2FsbCB0aGUgY2hhdCBtb2RlbCB3aXRoIGEgbWVzc2FnZSBhbmQgbG9nIHRoZSByZXNwb25zZVxuKiBjb25zdCBmaXJzdFJlc3BvbnNlID0gYXdhaXQgY2hhdC5jYWxsKFtmaXJzdE1lc3NhZ2VdKTtcbiogY29uc29sZS5sb2coeyBmaXJzdFJlc3BvbnNlIH0pO1xuKlxuKiBjb25zdCBzZWNvbmRSZXNwb25zZSA9IGF3YWl0IGNoYXQuY2FsbChbc2Vjb25kTWVzc2FnZV0pO1xuKiBjb25zb2xlLmxvZyh7IHNlY29uZFJlc3BvbnNlIH0pO1xuKiBgYGBcbiovXG52YXIgRmFrZUxpc3RDaGF0TW9kZWwgPSBjbGFzcyBleHRlbmRzIEJhc2VDaGF0TW9kZWwge1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJGYWtlTGlzdENoYXRNb2RlbFwiO1xuXHR9XG5cdGxjX3NlcmlhbGl6YWJsZSA9IHRydWU7XG5cdHJlc3BvbnNlcztcblx0aSA9IDA7XG5cdHNsZWVwO1xuXHRlbWl0Q3VzdG9tRXZlbnQgPSBmYWxzZTtcblx0Y29uc3RydWN0b3IocGFyYW1zKSB7XG5cdFx0c3VwZXIocGFyYW1zKTtcblx0XHRjb25zdCB7IHJlc3BvbnNlcywgc2xlZXAsIGVtaXRDdXN0b21FdmVudCB9ID0gcGFyYW1zO1xuXHRcdHRoaXMucmVzcG9uc2VzID0gcmVzcG9uc2VzO1xuXHRcdHRoaXMuc2xlZXAgPSBzbGVlcDtcblx0XHR0aGlzLmVtaXRDdXN0b21FdmVudCA9IGVtaXRDdXN0b21FdmVudCA/PyB0aGlzLmVtaXRDdXN0b21FdmVudDtcblx0fVxuXHRfY29tYmluZUxMTU91dHB1dCgpIHtcblx0XHRyZXR1cm4gW107XG5cdH1cblx0X2xsbVR5cGUoKSB7XG5cdFx0cmV0dXJuIFwiZmFrZS1saXN0XCI7XG5cdH1cblx0YXN5bmMgX2dlbmVyYXRlKF9tZXNzYWdlcywgb3B0aW9ucywgcnVuTWFuYWdlcikge1xuXHRcdGF3YWl0IHRoaXMuX3NsZWVwSWZSZXF1ZXN0ZWQoKTtcblx0XHRpZiAob3B0aW9ucz8udGhyb3duRXJyb3JTdHJpbmcpIHRocm93IG5ldyBFcnJvcihvcHRpb25zLnRocm93bkVycm9yU3RyaW5nKTtcblx0XHRpZiAodGhpcy5lbWl0Q3VzdG9tRXZlbnQpIGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUN1c3RvbUV2ZW50KFwic29tZV90ZXN0X2V2ZW50XCIsIHsgc29tZXZhbDogdHJ1ZSB9KTtcblx0XHRpZiAob3B0aW9ucz8uc3RvcD8ubGVuZ3RoKSByZXR1cm4geyBnZW5lcmF0aW9uczogW3RoaXMuX2Zvcm1hdEdlbmVyYXRpb24ob3B0aW9ucy5zdG9wWzBdKV0gfTtcblx0XHRlbHNlIHtcblx0XHRcdGNvbnN0IHJlc3BvbnNlID0gdGhpcy5fY3VycmVudFJlc3BvbnNlKCk7XG5cdFx0XHR0aGlzLl9pbmNyZW1lbnRSZXNwb25zZSgpO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0Z2VuZXJhdGlvbnM6IFt0aGlzLl9mb3JtYXRHZW5lcmF0aW9uKHJlc3BvbnNlKV0sXG5cdFx0XHRcdGxsbU91dHB1dDoge31cblx0XHRcdH07XG5cdFx0fVxuXHR9XG5cdF9mb3JtYXRHZW5lcmF0aW9uKHRleHQpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0bWVzc2FnZTogbmV3IEFJTWVzc2FnZSh0ZXh0KSxcblx0XHRcdHRleHRcblx0XHR9O1xuXHR9XG5cdGFzeW5jICpfc3RyZWFtUmVzcG9uc2VDaHVua3MoX21lc3NhZ2VzLCBvcHRpb25zLCBydW5NYW5hZ2VyKSB7XG5cdFx0Y29uc3QgcmVzcG9uc2UgPSB0aGlzLl9jdXJyZW50UmVzcG9uc2UoKTtcblx0XHR0aGlzLl9pbmNyZW1lbnRSZXNwb25zZSgpO1xuXHRcdGlmICh0aGlzLmVtaXRDdXN0b21FdmVudCkgYXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ3VzdG9tRXZlbnQoXCJzb21lX3Rlc3RfZXZlbnRcIiwgeyBzb21ldmFsOiB0cnVlIH0pO1xuXHRcdGZvciBhd2FpdCAoY29uc3QgdGV4dCBvZiByZXNwb25zZSkge1xuXHRcdFx0YXdhaXQgdGhpcy5fc2xlZXBJZlJlcXVlc3RlZCgpO1xuXHRcdFx0aWYgKG9wdGlvbnM/LnRocm93bkVycm9yU3RyaW5nKSB0aHJvdyBuZXcgRXJyb3Iob3B0aW9ucy50aHJvd25FcnJvclN0cmluZyk7XG5cdFx0XHRjb25zdCBjaHVuayA9IHRoaXMuX2NyZWF0ZVJlc3BvbnNlQ2h1bmsodGV4dCk7XG5cdFx0XHR5aWVsZCBjaHVuaztcblx0XHRcdHJ1bk1hbmFnZXI/LmhhbmRsZUxMTU5ld1Rva2VuKHRleHQpO1xuXHRcdH1cblx0fVxuXHRhc3luYyBfc2xlZXBJZlJlcXVlc3RlZCgpIHtcblx0XHRpZiAodGhpcy5zbGVlcCAhPT0gdm9pZCAwKSBhd2FpdCB0aGlzLl9zbGVlcCgpO1xuXHR9XG5cdGFzeW5jIF9zbGVlcCgpIHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4gcmVzb2x2ZSgpLCB0aGlzLnNsZWVwKTtcblx0XHR9KTtcblx0fVxuXHRfY3JlYXRlUmVzcG9uc2VDaHVuayh0ZXh0KSB7XG5cdFx0cmV0dXJuIG5ldyBDaGF0R2VuZXJhdGlvbkNodW5rKHtcblx0XHRcdG1lc3NhZ2U6IG5ldyBBSU1lc3NhZ2VDaHVuayh7IGNvbnRlbnQ6IHRleHQgfSksXG5cdFx0XHR0ZXh0XG5cdFx0fSk7XG5cdH1cblx0X2N1cnJlbnRSZXNwb25zZSgpIHtcblx0XHRyZXR1cm4gdGhpcy5yZXNwb25zZXNbdGhpcy5pXTtcblx0fVxuXHRfaW5jcmVtZW50UmVzcG9uc2UoKSB7XG5cdFx0aWYgKHRoaXMuaSA8IHRoaXMucmVzcG9uc2VzLmxlbmd0aCAtIDEpIHRoaXMuaSArPSAxO1xuXHRcdGVsc2UgdGhpcy5pID0gMDtcblx0fVxuXHR3aXRoU3RydWN0dXJlZE91dHB1dChfcGFyYW1zLCBfY29uZmlnKSB7XG5cdFx0cmV0dXJuIFJ1bm5hYmxlTGFtYmRhLmZyb20oYXN5bmMgKGlucHV0KSA9PiB7XG5cdFx0XHRjb25zdCBtZXNzYWdlID0gYXdhaXQgdGhpcy5pbnZva2UoaW5wdXQpO1xuXHRcdFx0aWYgKG1lc3NhZ2UudG9vbF9jYWxscz8uWzBdPy5hcmdzKSByZXR1cm4gbWVzc2FnZS50b29sX2NhbGxzWzBdLmFyZ3M7XG5cdFx0XHRpZiAodHlwZW9mIG1lc3NhZ2UuY29udGVudCA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIEpTT04ucGFyc2UobWVzc2FnZS5jb250ZW50KTtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIk5vIHN0cnVjdHVyZWQgb3V0cHV0IGZvdW5kXCIpO1xuXHRcdH0pO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEZha2VDaGF0TW9kZWwsIEZha2VMaXN0Q2hhdE1vZGVsLCBGYWtlU3RyZWFtaW5nQ2hhdE1vZGVsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaGF0X21vZGVscy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/chat_models.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/embeddings.js":
/*!****************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/embeddings.js ***!
  \****************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FakeEmbeddings: () => (/* binding */ FakeEmbeddings),\n/* harmony export */   SyntheticEmbeddings: () => (/* binding */ SyntheticEmbeddings)\n/* harmony export */ });\n/* harmony import */ var _embeddings_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../embeddings.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/embeddings.js\");\n\n\n//#region src/utils/testing/embeddings.ts\n/**\n* A class that provides synthetic embeddings by overriding the\n* embedDocuments and embedQuery methods to generate embeddings based on\n* the input documents. The embeddings are generated by converting each\n* document into chunks, calculating a numerical value for each chunk, and\n* returning an array of these values as the embedding.\n*/\nvar SyntheticEmbeddings = class extends _embeddings_js__WEBPACK_IMPORTED_MODULE_0__.Embeddings {\n\tvectorSize;\n\tconstructor(params) {\n\t\tsuper(params ?? {});\n\t\tthis.vectorSize = params?.vectorSize ?? 4;\n\t}\n\t/**\n\t* Generates synthetic embeddings for a list of documents.\n\t* @param documents List of documents to generate embeddings for.\n\t* @returns A promise that resolves with a list of synthetic embeddings for each document.\n\t*/\n\tasync embedDocuments(documents) {\n\t\treturn Promise.all(documents.map((doc) => this.embedQuery(doc)));\n\t}\n\t/**\n\t* Generates a synthetic embedding for a document. The document is\n\t* converted into chunks, a numerical value is calculated for each chunk,\n\t* and an array of these values is returned as the embedding.\n\t* @param document The document to generate an embedding for.\n\t* @returns A promise that resolves with a synthetic embedding for the document.\n\t*/\n\tasync embedQuery(document) {\n\t\tlet doc = document;\n\t\tdoc = doc.toLowerCase().replaceAll(/[^a-z ]/g, \"\");\n\t\tconst padMod = doc.length % this.vectorSize;\n\t\tconst padGapSize = padMod === 0 ? 0 : this.vectorSize - padMod;\n\t\tconst padSize = doc.length + padGapSize;\n\t\tdoc = doc.padEnd(padSize, \" \");\n\t\tconst chunkSize = doc.length / this.vectorSize;\n\t\tconst docChunk = [];\n\t\tfor (let co = 0; co < doc.length; co += chunkSize) docChunk.push(doc.slice(co, co + chunkSize));\n\t\tconst ret = docChunk.map((s) => {\n\t\t\tlet sum = 0;\n\t\t\tfor (let co = 0; co < s.length; co += 1) sum += s === \" \" ? 0 : s.charCodeAt(co);\n\t\t\tconst ret$1 = sum % 26 / 26;\n\t\t\treturn ret$1;\n\t\t});\n\t\treturn ret;\n\t}\n};\n/**\n* A class that provides fake embeddings by overriding the embedDocuments\n* and embedQuery methods to return fixed values.\n*/\nvar FakeEmbeddings = class extends _embeddings_js__WEBPACK_IMPORTED_MODULE_0__.Embeddings {\n\tconstructor(params) {\n\t\tsuper(params ?? {});\n\t}\n\t/**\n\t* Generates fixed embeddings for a list of documents.\n\t* @param documents List of documents to generate embeddings for.\n\t* @returns A promise that resolves with a list of fixed embeddings for each document.\n\t*/\n\tembedDocuments(documents) {\n\t\treturn Promise.resolve(documents.map(() => [\n\t\t\t.1,\n\t\t\t.2,\n\t\t\t.3,\n\t\t\t.4\n\t\t]));\n\t}\n\t/**\n\t* Generates a fixed embedding for a query.\n\t* @param _ The query to generate an embedding for.\n\t* @returns A promise that resolves with a fixed embedding for the query.\n\t*/\n\tembedQuery(_) {\n\t\treturn Promise.resolve([\n\t\t\t.1,\n\t\t\t.2,\n\t\t\t.3,\n\t\t\t.4\n\t\t]);\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=embeddings.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy90ZXN0aW5nL2VtYmVkZGluZ3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWlEOztBQUVqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLHNEQUFVO0FBQ2xEO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixpQkFBaUI7QUFDcEM7QUFDQTtBQUNBLG9CQUFvQixlQUFlO0FBQ25DO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsc0RBQVU7QUFDN0M7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDK0M7QUFDL0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3Rlc3RpbmcvZW1iZWRkaW5ncy5qcz8zOTI1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVtYmVkZGluZ3MgfSBmcm9tIFwiLi4vLi4vZW1iZWRkaW5ncy5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL3Rlc3RpbmcvZW1iZWRkaW5ncy50c1xuLyoqXG4qIEEgY2xhc3MgdGhhdCBwcm92aWRlcyBzeW50aGV0aWMgZW1iZWRkaW5ncyBieSBvdmVycmlkaW5nIHRoZVxuKiBlbWJlZERvY3VtZW50cyBhbmQgZW1iZWRRdWVyeSBtZXRob2RzIHRvIGdlbmVyYXRlIGVtYmVkZGluZ3MgYmFzZWQgb25cbiogdGhlIGlucHV0IGRvY3VtZW50cy4gVGhlIGVtYmVkZGluZ3MgYXJlIGdlbmVyYXRlZCBieSBjb252ZXJ0aW5nIGVhY2hcbiogZG9jdW1lbnQgaW50byBjaHVua3MsIGNhbGN1bGF0aW5nIGEgbnVtZXJpY2FsIHZhbHVlIGZvciBlYWNoIGNodW5rLCBhbmRcbiogcmV0dXJuaW5nIGFuIGFycmF5IG9mIHRoZXNlIHZhbHVlcyBhcyB0aGUgZW1iZWRkaW5nLlxuKi9cbnZhciBTeW50aGV0aWNFbWJlZGRpbmdzID0gY2xhc3MgZXh0ZW5kcyBFbWJlZGRpbmdzIHtcblx0dmVjdG9yU2l6ZTtcblx0Y29uc3RydWN0b3IocGFyYW1zKSB7XG5cdFx0c3VwZXIocGFyYW1zID8/IHt9KTtcblx0XHR0aGlzLnZlY3RvclNpemUgPSBwYXJhbXM/LnZlY3RvclNpemUgPz8gNDtcblx0fVxuXHQvKipcblx0KiBHZW5lcmF0ZXMgc3ludGhldGljIGVtYmVkZGluZ3MgZm9yIGEgbGlzdCBvZiBkb2N1bWVudHMuXG5cdCogQHBhcmFtIGRvY3VtZW50cyBMaXN0IG9mIGRvY3VtZW50cyB0byBnZW5lcmF0ZSBlbWJlZGRpbmdzIGZvci5cblx0KiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIGEgbGlzdCBvZiBzeW50aGV0aWMgZW1iZWRkaW5ncyBmb3IgZWFjaCBkb2N1bWVudC5cblx0Ki9cblx0YXN5bmMgZW1iZWREb2N1bWVudHMoZG9jdW1lbnRzKSB7XG5cdFx0cmV0dXJuIFByb21pc2UuYWxsKGRvY3VtZW50cy5tYXAoKGRvYykgPT4gdGhpcy5lbWJlZFF1ZXJ5KGRvYykpKTtcblx0fVxuXHQvKipcblx0KiBHZW5lcmF0ZXMgYSBzeW50aGV0aWMgZW1iZWRkaW5nIGZvciBhIGRvY3VtZW50LiBUaGUgZG9jdW1lbnQgaXNcblx0KiBjb252ZXJ0ZWQgaW50byBjaHVua3MsIGEgbnVtZXJpY2FsIHZhbHVlIGlzIGNhbGN1bGF0ZWQgZm9yIGVhY2ggY2h1bmssXG5cdCogYW5kIGFuIGFycmF5IG9mIHRoZXNlIHZhbHVlcyBpcyByZXR1cm5lZCBhcyB0aGUgZW1iZWRkaW5nLlxuXHQqIEBwYXJhbSBkb2N1bWVudCBUaGUgZG9jdW1lbnQgdG8gZ2VuZXJhdGUgYW4gZW1iZWRkaW5nIGZvci5cblx0KiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIGEgc3ludGhldGljIGVtYmVkZGluZyBmb3IgdGhlIGRvY3VtZW50LlxuXHQqL1xuXHRhc3luYyBlbWJlZFF1ZXJ5KGRvY3VtZW50KSB7XG5cdFx0bGV0IGRvYyA9IGRvY3VtZW50O1xuXHRcdGRvYyA9IGRvYy50b0xvd2VyQ2FzZSgpLnJlcGxhY2VBbGwoL1teYS16IF0vZywgXCJcIik7XG5cdFx0Y29uc3QgcGFkTW9kID0gZG9jLmxlbmd0aCAlIHRoaXMudmVjdG9yU2l6ZTtcblx0XHRjb25zdCBwYWRHYXBTaXplID0gcGFkTW9kID09PSAwID8gMCA6IHRoaXMudmVjdG9yU2l6ZSAtIHBhZE1vZDtcblx0XHRjb25zdCBwYWRTaXplID0gZG9jLmxlbmd0aCArIHBhZEdhcFNpemU7XG5cdFx0ZG9jID0gZG9jLnBhZEVuZChwYWRTaXplLCBcIiBcIik7XG5cdFx0Y29uc3QgY2h1bmtTaXplID0gZG9jLmxlbmd0aCAvIHRoaXMudmVjdG9yU2l6ZTtcblx0XHRjb25zdCBkb2NDaHVuayA9IFtdO1xuXHRcdGZvciAobGV0IGNvID0gMDsgY28gPCBkb2MubGVuZ3RoOyBjbyArPSBjaHVua1NpemUpIGRvY0NodW5rLnB1c2goZG9jLnNsaWNlKGNvLCBjbyArIGNodW5rU2l6ZSkpO1xuXHRcdGNvbnN0IHJldCA9IGRvY0NodW5rLm1hcCgocykgPT4ge1xuXHRcdFx0bGV0IHN1bSA9IDA7XG5cdFx0XHRmb3IgKGxldCBjbyA9IDA7IGNvIDwgcy5sZW5ndGg7IGNvICs9IDEpIHN1bSArPSBzID09PSBcIiBcIiA/IDAgOiBzLmNoYXJDb2RlQXQoY28pO1xuXHRcdFx0Y29uc3QgcmV0JDEgPSBzdW0gJSAyNiAvIDI2O1xuXHRcdFx0cmV0dXJuIHJldCQxO1xuXHRcdH0pO1xuXHRcdHJldHVybiByZXQ7XG5cdH1cbn07XG4vKipcbiogQSBjbGFzcyB0aGF0IHByb3ZpZGVzIGZha2UgZW1iZWRkaW5ncyBieSBvdmVycmlkaW5nIHRoZSBlbWJlZERvY3VtZW50c1xuKiBhbmQgZW1iZWRRdWVyeSBtZXRob2RzIHRvIHJldHVybiBmaXhlZCB2YWx1ZXMuXG4qL1xudmFyIEZha2VFbWJlZGRpbmdzID0gY2xhc3MgZXh0ZW5kcyBFbWJlZGRpbmdzIHtcblx0Y29uc3RydWN0b3IocGFyYW1zKSB7XG5cdFx0c3VwZXIocGFyYW1zID8/IHt9KTtcblx0fVxuXHQvKipcblx0KiBHZW5lcmF0ZXMgZml4ZWQgZW1iZWRkaW5ncyBmb3IgYSBsaXN0IG9mIGRvY3VtZW50cy5cblx0KiBAcGFyYW0gZG9jdW1lbnRzIExpc3Qgb2YgZG9jdW1lbnRzIHRvIGdlbmVyYXRlIGVtYmVkZGluZ3MgZm9yLlxuXHQqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggYSBsaXN0IG9mIGZpeGVkIGVtYmVkZGluZ3MgZm9yIGVhY2ggZG9jdW1lbnQuXG5cdCovXG5cdGVtYmVkRG9jdW1lbnRzKGRvY3VtZW50cykge1xuXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoZG9jdW1lbnRzLm1hcCgoKSA9PiBbXG5cdFx0XHQuMSxcblx0XHRcdC4yLFxuXHRcdFx0LjMsXG5cdFx0XHQuNFxuXHRcdF0pKTtcblx0fVxuXHQvKipcblx0KiBHZW5lcmF0ZXMgYSBmaXhlZCBlbWJlZGRpbmcgZm9yIGEgcXVlcnkuXG5cdCogQHBhcmFtIF8gVGhlIHF1ZXJ5IHRvIGdlbmVyYXRlIGFuIGVtYmVkZGluZyBmb3IuXG5cdCogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCBhIGZpeGVkIGVtYmVkZGluZyBmb3IgdGhlIHF1ZXJ5LlxuXHQqL1xuXHRlbWJlZFF1ZXJ5KF8pIHtcblx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtcblx0XHRcdC4xLFxuXHRcdFx0LjIsXG5cdFx0XHQuMyxcblx0XHRcdC40XG5cdFx0XSk7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgRmFrZUVtYmVkZGluZ3MsIFN5bnRoZXRpY0VtYmVkZGluZ3MgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVtYmVkZGluZ3MuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/embeddings.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/index.js":
/*!***********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/index.js ***!
  \***********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FakeChatMessageHistory: () => (/* reexport safe */ _message_history_js__WEBPACK_IMPORTED_MODULE_4__.FakeChatMessageHistory),\n/* harmony export */   FakeChatModel: () => (/* reexport safe */ _chat_models_js__WEBPACK_IMPORTED_MODULE_1__.FakeChatModel),\n/* harmony export */   FakeEmbeddings: () => (/* reexport safe */ _embeddings_js__WEBPACK_IMPORTED_MODULE_2__.FakeEmbeddings),\n/* harmony export */   FakeLLM: () => (/* reexport safe */ _llms_js__WEBPACK_IMPORTED_MODULE_3__.FakeLLM),\n/* harmony export */   FakeListChatMessageHistory: () => (/* reexport safe */ _message_history_js__WEBPACK_IMPORTED_MODULE_4__.FakeListChatMessageHistory),\n/* harmony export */   FakeListChatModel: () => (/* reexport safe */ _chat_models_js__WEBPACK_IMPORTED_MODULE_1__.FakeListChatModel),\n/* harmony export */   FakeRetriever: () => (/* reexport safe */ _retrievers_js__WEBPACK_IMPORTED_MODULE_6__.FakeRetriever),\n/* harmony export */   FakeRunnable: () => (/* reexport safe */ _runnables_js__WEBPACK_IMPORTED_MODULE_7__.FakeRunnable),\n/* harmony export */   FakeSplitIntoListParser: () => (/* reexport safe */ _output_parsers_js__WEBPACK_IMPORTED_MODULE_5__.FakeSplitIntoListParser),\n/* harmony export */   FakeStreamingChatModel: () => (/* reexport safe */ _chat_models_js__WEBPACK_IMPORTED_MODULE_1__.FakeStreamingChatModel),\n/* harmony export */   FakeStreamingLLM: () => (/* reexport safe */ _llms_js__WEBPACK_IMPORTED_MODULE_3__.FakeStreamingLLM),\n/* harmony export */   FakeTool: () => (/* reexport safe */ _tools_js__WEBPACK_IMPORTED_MODULE_8__.FakeTool),\n/* harmony export */   FakeTracer: () => (/* reexport safe */ _message_history_js__WEBPACK_IMPORTED_MODULE_4__.FakeTracer),\n/* harmony export */   FakeVectorStore: () => (/* reexport safe */ _vectorstores_js__WEBPACK_IMPORTED_MODULE_10__.FakeVectorStore),\n/* harmony export */   SingleRunExtractor: () => (/* reexport safe */ _tracers_js__WEBPACK_IMPORTED_MODULE_9__.SingleRunExtractor),\n/* harmony export */   SyntheticEmbeddings: () => (/* reexport safe */ _embeddings_js__WEBPACK_IMPORTED_MODULE_2__.SyntheticEmbeddings),\n/* harmony export */   testing_exports: () => (/* binding */ testing_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _chat_models_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chat_models.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/chat_models.js\");\n/* harmony import */ var _embeddings_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./embeddings.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/embeddings.js\");\n/* harmony import */ var _llms_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./llms.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/llms.js\");\n/* harmony import */ var _message_history_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./message_history.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/message_history.js\");\n/* harmony import */ var _output_parsers_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./output_parsers.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/output_parsers.js\");\n/* harmony import */ var _retrievers_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./retrievers.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/retrievers.js\");\n/* harmony import */ var _runnables_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./runnables.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/runnables.js\");\n/* harmony import */ var _tools_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./tools.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/tools.js\");\n/* harmony import */ var _tracers_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./tracers.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/tracers.js\");\n/* harmony import */ var _vectorstores_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./vectorstores.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/vectorstores.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n//#region src/utils/testing/index.ts\nvar testing_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(testing_exports, {\n\tFakeChatMessageHistory: () => _message_history_js__WEBPACK_IMPORTED_MODULE_4__.FakeChatMessageHistory,\n\tFakeChatModel: () => _chat_models_js__WEBPACK_IMPORTED_MODULE_1__.FakeChatModel,\n\tFakeEmbeddings: () => _embeddings_js__WEBPACK_IMPORTED_MODULE_2__.FakeEmbeddings,\n\tFakeLLM: () => _llms_js__WEBPACK_IMPORTED_MODULE_3__.FakeLLM,\n\tFakeListChatMessageHistory: () => _message_history_js__WEBPACK_IMPORTED_MODULE_4__.FakeListChatMessageHistory,\n\tFakeListChatModel: () => _chat_models_js__WEBPACK_IMPORTED_MODULE_1__.FakeListChatModel,\n\tFakeRetriever: () => _retrievers_js__WEBPACK_IMPORTED_MODULE_6__.FakeRetriever,\n\tFakeRunnable: () => _runnables_js__WEBPACK_IMPORTED_MODULE_7__.FakeRunnable,\n\tFakeSplitIntoListParser: () => _output_parsers_js__WEBPACK_IMPORTED_MODULE_5__.FakeSplitIntoListParser,\n\tFakeStreamingChatModel: () => _chat_models_js__WEBPACK_IMPORTED_MODULE_1__.FakeStreamingChatModel,\n\tFakeStreamingLLM: () => _llms_js__WEBPACK_IMPORTED_MODULE_3__.FakeStreamingLLM,\n\tFakeTool: () => _tools_js__WEBPACK_IMPORTED_MODULE_8__.FakeTool,\n\tFakeTracer: () => _message_history_js__WEBPACK_IMPORTED_MODULE_4__.FakeTracer,\n\tFakeVectorStore: () => _vectorstores_js__WEBPACK_IMPORTED_MODULE_10__.FakeVectorStore,\n\tSingleRunExtractor: () => _tracers_js__WEBPACK_IMPORTED_MODULE_9__.SingleRunExtractor,\n\tSyntheticEmbeddings: () => _embeddings_js__WEBPACK_IMPORTED_MODULE_2__.SyntheticEmbeddings\n});\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy90ZXN0aW5nL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBOEQ7QUFDOEI7QUFDdEI7QUFDaEI7QUFDZ0Q7QUFDeEM7QUFDZDtBQUNGO0FBQ1I7QUFDWTtBQUNFOztBQUVwRDtBQUNBO0FBQ0Esc0VBQVE7QUFDUiwrQkFBK0IsdUVBQXNCO0FBQ3JELHNCQUFzQiwwREFBYTtBQUNuQyx1QkFBdUIsMERBQWM7QUFDckMsZ0JBQWdCLDZDQUFPO0FBQ3ZCLG1DQUFtQywyRUFBMEI7QUFDN0QsMEJBQTBCLDhEQUFpQjtBQUMzQyxzQkFBc0IseURBQWE7QUFDbkMscUJBQXFCLHVEQUFZO0FBQ2pDLGdDQUFnQyx1RUFBdUI7QUFDdkQsK0JBQStCLG1FQUFzQjtBQUNyRCx5QkFBeUIsc0RBQWdCO0FBQ3pDLGlCQUFpQiwrQ0FBUTtBQUN6QixtQkFBbUIsMkRBQVU7QUFDN0Isd0JBQXdCLDhEQUFlO0FBQ3ZDLDJCQUEyQiwyREFBa0I7QUFDN0MsNEJBQTRCLCtEQUFtQjtBQUMvQyxDQUFDOztBQUVEO0FBQzBUO0FBQzFUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy90ZXN0aW5nL2luZGV4LmpzPzc1ZjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19leHBvcnQgfSBmcm9tIFwiLi4vLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5qc1wiO1xuaW1wb3J0IHsgRmFrZUNoYXRNb2RlbCwgRmFrZUxpc3RDaGF0TW9kZWwsIEZha2VTdHJlYW1pbmdDaGF0TW9kZWwgfSBmcm9tIFwiLi9jaGF0X21vZGVscy5qc1wiO1xuaW1wb3J0IHsgRmFrZUVtYmVkZGluZ3MsIFN5bnRoZXRpY0VtYmVkZGluZ3MgfSBmcm9tIFwiLi9lbWJlZGRpbmdzLmpzXCI7XG5pbXBvcnQgeyBGYWtlTExNLCBGYWtlU3RyZWFtaW5nTExNIH0gZnJvbSBcIi4vbGxtcy5qc1wiO1xuaW1wb3J0IHsgRmFrZUNoYXRNZXNzYWdlSGlzdG9yeSwgRmFrZUxpc3RDaGF0TWVzc2FnZUhpc3RvcnksIEZha2VUcmFjZXIgfSBmcm9tIFwiLi9tZXNzYWdlX2hpc3RvcnkuanNcIjtcbmltcG9ydCB7IEZha2VTcGxpdEludG9MaXN0UGFyc2VyIH0gZnJvbSBcIi4vb3V0cHV0X3BhcnNlcnMuanNcIjtcbmltcG9ydCB7IEZha2VSZXRyaWV2ZXIgfSBmcm9tIFwiLi9yZXRyaWV2ZXJzLmpzXCI7XG5pbXBvcnQgeyBGYWtlUnVubmFibGUgfSBmcm9tIFwiLi9ydW5uYWJsZXMuanNcIjtcbmltcG9ydCB7IEZha2VUb29sIH0gZnJvbSBcIi4vdG9vbHMuanNcIjtcbmltcG9ydCB7IFNpbmdsZVJ1bkV4dHJhY3RvciB9IGZyb20gXCIuL3RyYWNlcnMuanNcIjtcbmltcG9ydCB7IEZha2VWZWN0b3JTdG9yZSB9IGZyb20gXCIuL3ZlY3RvcnN0b3Jlcy5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL3Rlc3RpbmcvaW5kZXgudHNcbnZhciB0ZXN0aW5nX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KHRlc3RpbmdfZXhwb3J0cywge1xuXHRGYWtlQ2hhdE1lc3NhZ2VIaXN0b3J5OiAoKSA9PiBGYWtlQ2hhdE1lc3NhZ2VIaXN0b3J5LFxuXHRGYWtlQ2hhdE1vZGVsOiAoKSA9PiBGYWtlQ2hhdE1vZGVsLFxuXHRGYWtlRW1iZWRkaW5nczogKCkgPT4gRmFrZUVtYmVkZGluZ3MsXG5cdEZha2VMTE06ICgpID0+IEZha2VMTE0sXG5cdEZha2VMaXN0Q2hhdE1lc3NhZ2VIaXN0b3J5OiAoKSA9PiBGYWtlTGlzdENoYXRNZXNzYWdlSGlzdG9yeSxcblx0RmFrZUxpc3RDaGF0TW9kZWw6ICgpID0+IEZha2VMaXN0Q2hhdE1vZGVsLFxuXHRGYWtlUmV0cmlldmVyOiAoKSA9PiBGYWtlUmV0cmlldmVyLFxuXHRGYWtlUnVubmFibGU6ICgpID0+IEZha2VSdW5uYWJsZSxcblx0RmFrZVNwbGl0SW50b0xpc3RQYXJzZXI6ICgpID0+IEZha2VTcGxpdEludG9MaXN0UGFyc2VyLFxuXHRGYWtlU3RyZWFtaW5nQ2hhdE1vZGVsOiAoKSA9PiBGYWtlU3RyZWFtaW5nQ2hhdE1vZGVsLFxuXHRGYWtlU3RyZWFtaW5nTExNOiAoKSA9PiBGYWtlU3RyZWFtaW5nTExNLFxuXHRGYWtlVG9vbDogKCkgPT4gRmFrZVRvb2wsXG5cdEZha2VUcmFjZXI6ICgpID0+IEZha2VUcmFjZXIsXG5cdEZha2VWZWN0b3JTdG9yZTogKCkgPT4gRmFrZVZlY3RvclN0b3JlLFxuXHRTaW5nbGVSdW5FeHRyYWN0b3I6ICgpID0+IFNpbmdsZVJ1bkV4dHJhY3Rvcixcblx0U3ludGhldGljRW1iZWRkaW5nczogKCkgPT4gU3ludGhldGljRW1iZWRkaW5nc1xufSk7XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgRmFrZUNoYXRNZXNzYWdlSGlzdG9yeSwgRmFrZUNoYXRNb2RlbCwgRmFrZUVtYmVkZGluZ3MsIEZha2VMTE0sIEZha2VMaXN0Q2hhdE1lc3NhZ2VIaXN0b3J5LCBGYWtlTGlzdENoYXRNb2RlbCwgRmFrZVJldHJpZXZlciwgRmFrZVJ1bm5hYmxlLCBGYWtlU3BsaXRJbnRvTGlzdFBhcnNlciwgRmFrZVN0cmVhbWluZ0NoYXRNb2RlbCwgRmFrZVN0cmVhbWluZ0xMTSwgRmFrZVRvb2wsIEZha2VUcmFjZXIsIEZha2VWZWN0b3JTdG9yZSwgU2luZ2xlUnVuRXh0cmFjdG9yLCBTeW50aGV0aWNFbWJlZGRpbmdzLCB0ZXN0aW5nX2V4cG9ydHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/llms.js":
/*!**********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/llms.js ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FakeLLM: () => (/* binding */ FakeLLM),\n/* harmony export */   FakeStreamingLLM: () => (/* binding */ FakeStreamingLLM)\n/* harmony export */ });\n/* harmony import */ var _language_models_llms_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../language_models/llms.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/language_models/llms.js\");\n\n\n//#region src/utils/testing/llms.ts\nvar FakeLLM = class extends _language_models_llms_js__WEBPACK_IMPORTED_MODULE_0__.LLM {\n\tresponse;\n\tthrownErrorString;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.response = fields.response;\n\t\tthis.thrownErrorString = fields.thrownErrorString;\n\t}\n\t_llmType() {\n\t\treturn \"fake\";\n\t}\n\tasync _call(prompt, _options, runManager) {\n\t\tif (this.thrownErrorString) throw new Error(this.thrownErrorString);\n\t\tconst response = this.response ?? prompt;\n\t\tawait runManager?.handleLLMNewToken(response);\n\t\treturn response;\n\t}\n};\nvar FakeStreamingLLM = class extends _language_models_llms_js__WEBPACK_IMPORTED_MODULE_0__.LLM {\n\tsleep = 50;\n\tresponses;\n\tthrownErrorString;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.sleep = fields.sleep ?? this.sleep;\n\t\tthis.responses = fields.responses;\n\t\tthis.thrownErrorString = fields.thrownErrorString;\n\t}\n\t_llmType() {\n\t\treturn \"fake\";\n\t}\n\tasync _call(prompt) {\n\t\tif (this.thrownErrorString) throw new Error(this.thrownErrorString);\n\t\tconst response = this.responses?.[0];\n\t\tthis.responses = this.responses?.slice(1);\n\t\treturn response ?? prompt;\n\t}\n\tasync *_streamResponseChunks(input, _options, runManager) {\n\t\tif (this.thrownErrorString) throw new Error(this.thrownErrorString);\n\t\tconst response = this.responses?.[0];\n\t\tthis.responses = this.responses?.slice(1);\n\t\tfor (const c of response ?? input) {\n\t\t\tawait new Promise((resolve) => setTimeout(resolve, this.sleep));\n\t\t\tyield {\n\t\t\t\ttext: c,\n\t\t\t\tgenerationInfo: {}\n\t\t\t};\n\t\t\tawait runManager?.handleLLMNewToken(c);\n\t\t}\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=llms.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy90ZXN0aW5nL2xsbXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQW9EOztBQUVwRDtBQUNBLDRCQUE0Qix5REFBRztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLHlEQUFHO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDcUM7QUFDckMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3Rlc3RpbmcvbGxtcy5qcz8zNmRhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExMTSB9IGZyb20gXCIuLi8uLi9sYW5ndWFnZV9tb2RlbHMvbGxtcy5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL3Rlc3RpbmcvbGxtcy50c1xudmFyIEZha2VMTE0gPSBjbGFzcyBleHRlbmRzIExMTSB7XG5cdHJlc3BvbnNlO1xuXHR0aHJvd25FcnJvclN0cmluZztcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLnJlc3BvbnNlID0gZmllbGRzLnJlc3BvbnNlO1xuXHRcdHRoaXMudGhyb3duRXJyb3JTdHJpbmcgPSBmaWVsZHMudGhyb3duRXJyb3JTdHJpbmc7XG5cdH1cblx0X2xsbVR5cGUoKSB7XG5cdFx0cmV0dXJuIFwiZmFrZVwiO1xuXHR9XG5cdGFzeW5jIF9jYWxsKHByb21wdCwgX29wdGlvbnMsIHJ1bk1hbmFnZXIpIHtcblx0XHRpZiAodGhpcy50aHJvd25FcnJvclN0cmluZykgdGhyb3cgbmV3IEVycm9yKHRoaXMudGhyb3duRXJyb3JTdHJpbmcpO1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gdGhpcy5yZXNwb25zZSA/PyBwcm9tcHQ7XG5cdFx0YXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlTExNTmV3VG9rZW4ocmVzcG9uc2UpO1xuXHRcdHJldHVybiByZXNwb25zZTtcblx0fVxufTtcbnZhciBGYWtlU3RyZWFtaW5nTExNID0gY2xhc3MgZXh0ZW5kcyBMTE0ge1xuXHRzbGVlcCA9IDUwO1xuXHRyZXNwb25zZXM7XG5cdHRocm93bkVycm9yU3RyaW5nO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRzdXBlcihmaWVsZHMpO1xuXHRcdHRoaXMuc2xlZXAgPSBmaWVsZHMuc2xlZXAgPz8gdGhpcy5zbGVlcDtcblx0XHR0aGlzLnJlc3BvbnNlcyA9IGZpZWxkcy5yZXNwb25zZXM7XG5cdFx0dGhpcy50aHJvd25FcnJvclN0cmluZyA9IGZpZWxkcy50aHJvd25FcnJvclN0cmluZztcblx0fVxuXHRfbGxtVHlwZSgpIHtcblx0XHRyZXR1cm4gXCJmYWtlXCI7XG5cdH1cblx0YXN5bmMgX2NhbGwocHJvbXB0KSB7XG5cdFx0aWYgKHRoaXMudGhyb3duRXJyb3JTdHJpbmcpIHRocm93IG5ldyBFcnJvcih0aGlzLnRocm93bkVycm9yU3RyaW5nKTtcblx0XHRjb25zdCByZXNwb25zZSA9IHRoaXMucmVzcG9uc2VzPy5bMF07XG5cdFx0dGhpcy5yZXNwb25zZXMgPSB0aGlzLnJlc3BvbnNlcz8uc2xpY2UoMSk7XG5cdFx0cmV0dXJuIHJlc3BvbnNlID8/IHByb21wdDtcblx0fVxuXHRhc3luYyAqX3N0cmVhbVJlc3BvbnNlQ2h1bmtzKGlucHV0LCBfb3B0aW9ucywgcnVuTWFuYWdlcikge1xuXHRcdGlmICh0aGlzLnRocm93bkVycm9yU3RyaW5nKSB0aHJvdyBuZXcgRXJyb3IodGhpcy50aHJvd25FcnJvclN0cmluZyk7XG5cdFx0Y29uc3QgcmVzcG9uc2UgPSB0aGlzLnJlc3BvbnNlcz8uWzBdO1xuXHRcdHRoaXMucmVzcG9uc2VzID0gdGhpcy5yZXNwb25zZXM/LnNsaWNlKDEpO1xuXHRcdGZvciAoY29uc3QgYyBvZiByZXNwb25zZSA/PyBpbnB1dCkge1xuXHRcdFx0YXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgdGhpcy5zbGVlcCkpO1xuXHRcdFx0eWllbGQge1xuXHRcdFx0XHR0ZXh0OiBjLFxuXHRcdFx0XHRnZW5lcmF0aW9uSW5mbzoge31cblx0XHRcdH07XG5cdFx0XHRhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVMTE1OZXdUb2tlbihjKTtcblx0XHR9XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgRmFrZUxMTSwgRmFrZVN0cmVhbWluZ0xMTSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGxtcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/llms.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/message_history.js":
/*!*********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/message_history.js ***!
  \*********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FakeChatMessageHistory: () => (/* binding */ FakeChatMessageHistory),\n/* harmony export */   FakeListChatMessageHistory: () => (/* binding */ FakeListChatMessageHistory),\n/* harmony export */   FakeTracer: () => (/* binding */ FakeTracer)\n/* harmony export */ });\n/* harmony import */ var _messages_ai_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../messages/ai.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/ai.js\");\n/* harmony import */ var _messages_human_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../messages/human.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/human.js\");\n/* harmony import */ var _tracers_base_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tracers/base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/base.js\");\n/* harmony import */ var _messages_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../messages/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/messages/index.js\");\n/* harmony import */ var _chat_history_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../chat_history.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/chat_history.js\");\n\n\n\n\n\n\n//#region src/utils/testing/message_history.ts\nvar FakeChatMessageHistory = class extends _chat_history_js__WEBPACK_IMPORTED_MODULE_4__.BaseChatMessageHistory {\n\tlc_namespace = [\n\t\t\"langchain_core\",\n\t\t\"message\",\n\t\t\"fake\"\n\t];\n\tmessages = [];\n\tconstructor() {\n\t\tsuper();\n\t}\n\tasync getMessages() {\n\t\treturn this.messages;\n\t}\n\tasync addMessage(message) {\n\t\tthis.messages.push(message);\n\t}\n\tasync addUserMessage(message) {\n\t\tthis.messages.push(new _messages_human_js__WEBPACK_IMPORTED_MODULE_1__.HumanMessage(message));\n\t}\n\tasync addAIMessage(message) {\n\t\tthis.messages.push(new _messages_ai_js__WEBPACK_IMPORTED_MODULE_0__.AIMessage(message));\n\t}\n\tasync clear() {\n\t\tthis.messages = [];\n\t}\n};\nvar FakeListChatMessageHistory = class extends _chat_history_js__WEBPACK_IMPORTED_MODULE_4__.BaseListChatMessageHistory {\n\tlc_namespace = [\n\t\t\"langchain_core\",\n\t\t\"message\",\n\t\t\"fake\"\n\t];\n\tmessages = [];\n\tconstructor() {\n\t\tsuper();\n\t}\n\tasync addMessage(message) {\n\t\tthis.messages.push(message);\n\t}\n\tasync getMessages() {\n\t\treturn this.messages;\n\t}\n};\nvar FakeTracer = class extends _tracers_base_js__WEBPACK_IMPORTED_MODULE_2__.BaseTracer {\n\tname = \"fake_tracer\";\n\truns = [];\n\tconstructor() {\n\t\tsuper();\n\t}\n\tpersistRun(run) {\n\t\tthis.runs.push(run);\n\t\treturn Promise.resolve();\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=message_history.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy90ZXN0aW5nL21lc3NhZ2VfaGlzdG9yeS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFpRDtBQUNNO0FBQ0o7QUFDbEI7QUFDMEQ7O0FBRTNGO0FBQ0EsMkNBQTJDLG9FQUFzQjtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qiw0REFBWTtBQUNyQztBQUNBO0FBQ0EseUJBQXlCLHNEQUFTO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0Msd0VBQTBCO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHdEQUFVO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQzBFO0FBQzFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy90ZXN0aW5nL21lc3NhZ2VfaGlzdG9yeS5qcz8zM2IzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFJTWVzc2FnZSB9IGZyb20gXCIuLi8uLi9tZXNzYWdlcy9haS5qc1wiO1xuaW1wb3J0IHsgSHVtYW5NZXNzYWdlIH0gZnJvbSBcIi4uLy4uL21lc3NhZ2VzL2h1bWFuLmpzXCI7XG5pbXBvcnQgeyBCYXNlVHJhY2VyIH0gZnJvbSBcIi4uLy4uL3RyYWNlcnMvYmFzZS5qc1wiO1xuaW1wb3J0IFwiLi4vLi4vbWVzc2FnZXMvaW5kZXguanNcIjtcbmltcG9ydCB7IEJhc2VDaGF0TWVzc2FnZUhpc3RvcnksIEJhc2VMaXN0Q2hhdE1lc3NhZ2VIaXN0b3J5IH0gZnJvbSBcIi4uLy4uL2NoYXRfaGlzdG9yeS5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL3Rlc3RpbmcvbWVzc2FnZV9oaXN0b3J5LnRzXG52YXIgRmFrZUNoYXRNZXNzYWdlSGlzdG9yeSA9IGNsYXNzIGV4dGVuZHMgQmFzZUNoYXRNZXNzYWdlSGlzdG9yeSB7XG5cdGxjX25hbWVzcGFjZSA9IFtcblx0XHRcImxhbmdjaGFpbl9jb3JlXCIsXG5cdFx0XCJtZXNzYWdlXCIsXG5cdFx0XCJmYWtlXCJcblx0XTtcblx0bWVzc2FnZXMgPSBbXTtcblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0c3VwZXIoKTtcblx0fVxuXHRhc3luYyBnZXRNZXNzYWdlcygpIHtcblx0XHRyZXR1cm4gdGhpcy5tZXNzYWdlcztcblx0fVxuXHRhc3luYyBhZGRNZXNzYWdlKG1lc3NhZ2UpIHtcblx0XHR0aGlzLm1lc3NhZ2VzLnB1c2gobWVzc2FnZSk7XG5cdH1cblx0YXN5bmMgYWRkVXNlck1lc3NhZ2UobWVzc2FnZSkge1xuXHRcdHRoaXMubWVzc2FnZXMucHVzaChuZXcgSHVtYW5NZXNzYWdlKG1lc3NhZ2UpKTtcblx0fVxuXHRhc3luYyBhZGRBSU1lc3NhZ2UobWVzc2FnZSkge1xuXHRcdHRoaXMubWVzc2FnZXMucHVzaChuZXcgQUlNZXNzYWdlKG1lc3NhZ2UpKTtcblx0fVxuXHRhc3luYyBjbGVhcigpIHtcblx0XHR0aGlzLm1lc3NhZ2VzID0gW107XG5cdH1cbn07XG52YXIgRmFrZUxpc3RDaGF0TWVzc2FnZUhpc3RvcnkgPSBjbGFzcyBleHRlbmRzIEJhc2VMaXN0Q2hhdE1lc3NhZ2VIaXN0b3J5IHtcblx0bGNfbmFtZXNwYWNlID0gW1xuXHRcdFwibGFuZ2NoYWluX2NvcmVcIixcblx0XHRcIm1lc3NhZ2VcIixcblx0XHRcImZha2VcIlxuXHRdO1xuXHRtZXNzYWdlcyA9IFtdO1xuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHRzdXBlcigpO1xuXHR9XG5cdGFzeW5jIGFkZE1lc3NhZ2UobWVzc2FnZSkge1xuXHRcdHRoaXMubWVzc2FnZXMucHVzaChtZXNzYWdlKTtcblx0fVxuXHRhc3luYyBnZXRNZXNzYWdlcygpIHtcblx0XHRyZXR1cm4gdGhpcy5tZXNzYWdlcztcblx0fVxufTtcbnZhciBGYWtlVHJhY2VyID0gY2xhc3MgZXh0ZW5kcyBCYXNlVHJhY2VyIHtcblx0bmFtZSA9IFwiZmFrZV90cmFjZXJcIjtcblx0cnVucyA9IFtdO1xuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHRzdXBlcigpO1xuXHR9XG5cdHBlcnNpc3RSdW4ocnVuKSB7XG5cdFx0dGhpcy5ydW5zLnB1c2gocnVuKTtcblx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgRmFrZUNoYXRNZXNzYWdlSGlzdG9yeSwgRmFrZUxpc3RDaGF0TWVzc2FnZUhpc3RvcnksIEZha2VUcmFjZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lc3NhZ2VfaGlzdG9yeS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/message_history.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/output_parsers.js":
/*!********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/output_parsers.js ***!
  \********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FakeSplitIntoListParser: () => (/* binding */ FakeSplitIntoListParser)\n/* harmony export */ });\n/* harmony import */ var _output_parsers_base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../output_parsers/base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/output_parsers/base.js\");\n\n\n//#region src/utils/testing/output_parsers.ts\n/**\n* Parser for comma-separated values. It splits the input text by commas\n* and trims the resulting values.\n*/\nvar FakeSplitIntoListParser = class extends _output_parsers_base_js__WEBPACK_IMPORTED_MODULE_0__.BaseOutputParser {\n\tlc_namespace = [\"tests\", \"fake\"];\n\tgetFormatInstructions() {\n\t\treturn \"\";\n\t}\n\tasync parse(text) {\n\t\treturn text.split(\",\").map((value) => value.trim());\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=output_parsers.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy90ZXN0aW5nL291dHB1dF9wYXJzZXJzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWdFOztBQUVoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLHFFQUFnQjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ21DO0FBQ25DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy90ZXN0aW5nL291dHB1dF9wYXJzZXJzLmpzP2E5NzgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzZU91dHB1dFBhcnNlciB9IGZyb20gXCIuLi8uLi9vdXRwdXRfcGFyc2Vycy9iYXNlLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvdGVzdGluZy9vdXRwdXRfcGFyc2Vycy50c1xuLyoqXG4qIFBhcnNlciBmb3IgY29tbWEtc2VwYXJhdGVkIHZhbHVlcy4gSXQgc3BsaXRzIHRoZSBpbnB1dCB0ZXh0IGJ5IGNvbW1hc1xuKiBhbmQgdHJpbXMgdGhlIHJlc3VsdGluZyB2YWx1ZXMuXG4qL1xudmFyIEZha2VTcGxpdEludG9MaXN0UGFyc2VyID0gY2xhc3MgZXh0ZW5kcyBCYXNlT3V0cHV0UGFyc2VyIHtcblx0bGNfbmFtZXNwYWNlID0gW1widGVzdHNcIiwgXCJmYWtlXCJdO1xuXHRnZXRGb3JtYXRJbnN0cnVjdGlvbnMoKSB7XG5cdFx0cmV0dXJuIFwiXCI7XG5cdH1cblx0YXN5bmMgcGFyc2UodGV4dCkge1xuXHRcdHJldHVybiB0ZXh0LnNwbGl0KFwiLFwiKS5tYXAoKHZhbHVlKSA9PiB2YWx1ZS50cmltKCkpO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEZha2VTcGxpdEludG9MaXN0UGFyc2VyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vdXRwdXRfcGFyc2Vycy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/output_parsers.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/retrievers.js":
/*!****************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/retrievers.js ***!
  \****************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FakeRetriever: () => (/* binding */ FakeRetriever)\n/* harmony export */ });\n/* harmony import */ var _retrievers_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../retrievers/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/retrievers/index.js\");\n/* harmony import */ var _documents_document_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../documents/document.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/documents/document.js\");\n\n\n\n//#region src/utils/testing/retrievers.ts\nvar FakeRetriever = class extends _retrievers_index_js__WEBPACK_IMPORTED_MODULE_0__.BaseRetriever {\n\tlc_namespace = [\"test\", \"fake\"];\n\toutput = [new _documents_document_js__WEBPACK_IMPORTED_MODULE_1__.Document({ pageContent: \"foo\" }), new _documents_document_js__WEBPACK_IMPORTED_MODULE_1__.Document({ pageContent: \"bar\" })];\n\tconstructor(fields) {\n\t\tsuper();\n\t\tthis.output = fields?.output ?? this.output;\n\t}\n\tasync _getRelevantDocuments(_query) {\n\t\treturn this.output;\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=retrievers.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy90ZXN0aW5nL3JldHJpZXZlcnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTBEO0FBQ0g7O0FBRXZEO0FBQ0Esa0NBQWtDLCtEQUFhO0FBQy9DO0FBQ0EsZUFBZSw0REFBUSxHQUFHLG9CQUFvQixPQUFPLDREQUFRLEdBQUcsb0JBQW9CO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDeUI7QUFDekIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3Rlc3RpbmcvcmV0cmlldmVycy5qcz9kYjY5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhc2VSZXRyaWV2ZXIgfSBmcm9tIFwiLi4vLi4vcmV0cmlldmVycy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgRG9jdW1lbnQgfSBmcm9tIFwiLi4vLi4vZG9jdW1lbnRzL2RvY3VtZW50LmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvdGVzdGluZy9yZXRyaWV2ZXJzLnRzXG52YXIgRmFrZVJldHJpZXZlciA9IGNsYXNzIGV4dGVuZHMgQmFzZVJldHJpZXZlciB7XG5cdGxjX25hbWVzcGFjZSA9IFtcInRlc3RcIiwgXCJmYWtlXCJdO1xuXHRvdXRwdXQgPSBbbmV3IERvY3VtZW50KHsgcGFnZUNvbnRlbnQ6IFwiZm9vXCIgfSksIG5ldyBEb2N1bWVudCh7IHBhZ2VDb250ZW50OiBcImJhclwiIH0pXTtcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoKTtcblx0XHR0aGlzLm91dHB1dCA9IGZpZWxkcz8ub3V0cHV0ID8/IHRoaXMub3V0cHV0O1xuXHR9XG5cdGFzeW5jIF9nZXRSZWxldmFudERvY3VtZW50cyhfcXVlcnkpIHtcblx0XHRyZXR1cm4gdGhpcy5vdXRwdXQ7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgRmFrZVJldHJpZXZlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmV0cmlldmVycy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/retrievers.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/runnables.js":
/*!***************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/runnables.js ***!
  \***************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FakeRunnable: () => (/* binding */ FakeRunnable)\n/* harmony export */ });\n/* harmony import */ var _runnables_base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../runnables/base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/runnables/base.js\");\n\n\n//#region src/utils/testing/runnables.ts\nvar FakeRunnable = class extends _runnables_base_js__WEBPACK_IMPORTED_MODULE_0__.Runnable {\n\tlc_namespace = [\"tests\", \"fake\"];\n\treturnOptions;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.returnOptions = fields.returnOptions;\n\t}\n\tasync invoke(input, options) {\n\t\tif (this.returnOptions) return options ?? {};\n\t\treturn { input };\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=runnables.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy90ZXN0aW5nL3J1bm5hYmxlcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFtRDs7QUFFbkQ7QUFDQSxpQ0FBaUMsd0RBQVE7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBOztBQUVBO0FBQ3dCO0FBQ3hCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy90ZXN0aW5nL3J1bm5hYmxlcy5qcz9kMGIyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJ1bm5hYmxlIH0gZnJvbSBcIi4uLy4uL3J1bm5hYmxlcy9iYXNlLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvdGVzdGluZy9ydW5uYWJsZXMudHNcbnZhciBGYWtlUnVubmFibGUgPSBjbGFzcyBleHRlbmRzIFJ1bm5hYmxlIHtcblx0bGNfbmFtZXNwYWNlID0gW1widGVzdHNcIiwgXCJmYWtlXCJdO1xuXHRyZXR1cm5PcHRpb25zO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRzdXBlcihmaWVsZHMpO1xuXHRcdHRoaXMucmV0dXJuT3B0aW9ucyA9IGZpZWxkcy5yZXR1cm5PcHRpb25zO1xuXHR9XG5cdGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuXHRcdGlmICh0aGlzLnJldHVybk9wdGlvbnMpIHJldHVybiBvcHRpb25zID8/IHt9O1xuXHRcdHJldHVybiB7IGlucHV0IH07XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgRmFrZVJ1bm5hYmxlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ydW5uYWJsZXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/runnables.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/tools.js":
/*!***********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/tools.js ***!
  \***********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FakeTool: () => (/* binding */ FakeTool)\n/* harmony export */ });\n/* harmony import */ var _tools_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tools/index.js\");\n\n\n//#region src/utils/testing/tools.ts\nvar FakeTool = class extends _tools_index_js__WEBPACK_IMPORTED_MODULE_0__.StructuredTool {\n\tname;\n\tdescription;\n\tschema;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.name = fields.name;\n\t\tthis.description = fields.description;\n\t\tthis.schema = fields.schema;\n\t}\n\tasync _call(arg, _runManager) {\n\t\treturn JSON.stringify(arg);\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=tools.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy90ZXN0aW5nL3Rvb2xzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXNEOztBQUV0RDtBQUNBLDZCQUE2QiwyREFBYztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNvQjtBQUNwQiIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvdGVzdGluZy90b29scy5qcz8wOThhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFN0cnVjdHVyZWRUb29sIH0gZnJvbSBcIi4uLy4uL3Rvb2xzL2luZGV4LmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvdGVzdGluZy90b29scy50c1xudmFyIEZha2VUb29sID0gY2xhc3MgZXh0ZW5kcyBTdHJ1Y3R1cmVkVG9vbCB7XG5cdG5hbWU7XG5cdGRlc2NyaXB0aW9uO1xuXHRzY2hlbWE7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdHN1cGVyKGZpZWxkcyk7XG5cdFx0dGhpcy5uYW1lID0gZmllbGRzLm5hbWU7XG5cdFx0dGhpcy5kZXNjcmlwdGlvbiA9IGZpZWxkcy5kZXNjcmlwdGlvbjtcblx0XHR0aGlzLnNjaGVtYSA9IGZpZWxkcy5zY2hlbWE7XG5cdH1cblx0YXN5bmMgX2NhbGwoYXJnLCBfcnVuTWFuYWdlcikge1xuXHRcdHJldHVybiBKU09OLnN0cmluZ2lmeShhcmcpO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEZha2VUb29sIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b29scy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/tools.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/tracers.js":
/*!*************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/tracers.js ***!
  \*************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SingleRunExtractor: () => (/* binding */ SingleRunExtractor)\n/* harmony export */ });\n/* harmony import */ var _tracers_base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tracers/base.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/tracers/base.js\");\n\n\n//#region src/utils/testing/tracers.ts\nvar SingleRunExtractor = class extends _tracers_base_js__WEBPACK_IMPORTED_MODULE_0__.BaseTracer {\n\trunPromiseResolver;\n\trunPromise;\n\t/** The name of the callback handler. */\n\tname = \"single_run_extractor\";\n\tconstructor() {\n\t\tsuper();\n\t\tthis.runPromise = new Promise((extract) => {\n\t\t\tthis.runPromiseResolver = extract;\n\t\t});\n\t}\n\tasync persistRun(run) {\n\t\tthis.runPromiseResolver(run);\n\t}\n\tasync extract() {\n\t\treturn this.runPromise;\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=tracers.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy90ZXN0aW5nL3RyYWNlcnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBbUQ7O0FBRW5EO0FBQ0EsdUNBQXVDLHdEQUFVO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUM4QjtBQUM5QiIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvdGVzdGluZy90cmFjZXJzLmpzPzEwNzMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzZVRyYWNlciB9IGZyb20gXCIuLi8uLi90cmFjZXJzL2Jhc2UuanNcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy90ZXN0aW5nL3RyYWNlcnMudHNcbnZhciBTaW5nbGVSdW5FeHRyYWN0b3IgPSBjbGFzcyBleHRlbmRzIEJhc2VUcmFjZXIge1xuXHRydW5Qcm9taXNlUmVzb2x2ZXI7XG5cdHJ1blByb21pc2U7XG5cdC8qKiBUaGUgbmFtZSBvZiB0aGUgY2FsbGJhY2sgaGFuZGxlci4gKi9cblx0bmFtZSA9IFwic2luZ2xlX3J1bl9leHRyYWN0b3JcIjtcblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0c3VwZXIoKTtcblx0XHR0aGlzLnJ1blByb21pc2UgPSBuZXcgUHJvbWlzZSgoZXh0cmFjdCkgPT4ge1xuXHRcdFx0dGhpcy5ydW5Qcm9taXNlUmVzb2x2ZXIgPSBleHRyYWN0O1xuXHRcdH0pO1xuXHR9XG5cdGFzeW5jIHBlcnNpc3RSdW4ocnVuKSB7XG5cdFx0dGhpcy5ydW5Qcm9taXNlUmVzb2x2ZXIocnVuKTtcblx0fVxuXHRhc3luYyBleHRyYWN0KCkge1xuXHRcdHJldHVybiB0aGlzLnJ1blByb21pc2U7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgU2luZ2xlUnVuRXh0cmFjdG9yIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFjZXJzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/tracers.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/vectorstores.js":
/*!******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/vectorstores.js ***!
  \******************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FakeVectorStore: () => (/* binding */ FakeVectorStore)\n/* harmony export */ });\n/* harmony import */ var _vectorstores_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../vectorstores.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/vectorstores.js\");\n/* harmony import */ var _documents_document_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../documents/document.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/documents/document.js\");\n/* harmony import */ var _ml_distance_similarities_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ml-distance/similarities.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/ml-distance/similarities.js\");\n\n\n\n\n//#region src/utils/testing/vectorstores.ts\n/**\n* Class that extends `VectorStore` to store vectors in memory. Provides\n* methods for adding documents, performing similarity searches, and\n* creating instances from texts, documents, or an existing index.\n*/\nvar FakeVectorStore = class FakeVectorStore extends _vectorstores_js__WEBPACK_IMPORTED_MODULE_0__.VectorStore {\n\tmemoryVectors = [];\n\tsimilarity;\n\t_vectorstoreType() {\n\t\treturn \"memory\";\n\t}\n\tconstructor(embeddings, { similarity,...rest } = {}) {\n\t\tsuper(embeddings, rest);\n\t\tthis.similarity = similarity ?? _ml_distance_similarities_js__WEBPACK_IMPORTED_MODULE_2__.cosine;\n\t}\n\t/**\n\t* Method to add documents to the memory vector store. It extracts the\n\t* text from each document, generates embeddings for them, and adds the\n\t* resulting vectors to the store.\n\t* @param documents Array of `Document` instances to be added to the store.\n\t* @returns Promise that resolves when all documents have been added.\n\t*/\n\tasync addDocuments(documents) {\n\t\tconst texts = documents.map(({ pageContent }) => pageContent);\n\t\treturn this.addVectors(await this.embeddings.embedDocuments(texts), documents);\n\t}\n\t/**\n\t* Method to add vectors to the memory vector store. It creates\n\t* `MemoryVector` instances for each vector and document pair and adds\n\t* them to the store.\n\t* @param vectors Array of vectors to be added to the store.\n\t* @param documents Array of `Document` instances corresponding to the vectors.\n\t* @returns Promise that resolves when all vectors have been added.\n\t*/\n\tasync addVectors(vectors, documents) {\n\t\tconst memoryVectors = vectors.map((embedding, idx) => ({\n\t\t\tcontent: documents[idx].pageContent,\n\t\t\tembedding,\n\t\t\tmetadata: documents[idx].metadata\n\t\t}));\n\t\tthis.memoryVectors = this.memoryVectors.concat(memoryVectors);\n\t}\n\t/**\n\t* Method to perform a similarity search in the memory vector store. It\n\t* calculates the similarity between the query vector and each vector in\n\t* the store, sorts the results by similarity, and returns the top `k`\n\t* results along with their scores.\n\t* @param query Query vector to compare against the vectors in the store.\n\t* @param k Number of top results to return.\n\t* @param filter Optional filter function to apply to the vectors before performing the search.\n\t* @returns Promise that resolves with an array of tuples, each containing a `Document` and its similarity score.\n\t*/\n\tasync similaritySearchVectorWithScore(query, k, filter) {\n\t\tconst filterFunction = (memoryVector) => {\n\t\t\tif (!filter) return true;\n\t\t\tconst doc = new _documents_document_js__WEBPACK_IMPORTED_MODULE_1__.Document({\n\t\t\t\tmetadata: memoryVector.metadata,\n\t\t\t\tpageContent: memoryVector.content\n\t\t\t});\n\t\t\treturn filter(doc);\n\t\t};\n\t\tconst filteredMemoryVectors = this.memoryVectors.filter(filterFunction);\n\t\tconst searches = filteredMemoryVectors.map((vector, index) => ({\n\t\t\tsimilarity: this.similarity(query, vector.embedding),\n\t\t\tindex\n\t\t})).sort((a, b) => a.similarity > b.similarity ? -1 : 0).slice(0, k);\n\t\tconst result = searches.map((search) => [new _documents_document_js__WEBPACK_IMPORTED_MODULE_1__.Document({\n\t\t\tmetadata: filteredMemoryVectors[search.index].metadata,\n\t\t\tpageContent: filteredMemoryVectors[search.index].content\n\t\t}), search.similarity]);\n\t\treturn result;\n\t}\n\t/**\n\t* Static method to create a `FakeVectorStore` instance from an array of\n\t* texts. It creates a `Document` for each text and metadata pair, and\n\t* adds them to the store.\n\t* @param texts Array of texts to be added to the store.\n\t* @param metadatas Array or single object of metadata corresponding to the texts.\n\t* @param embeddings `Embeddings` instance used to generate embeddings for the texts.\n\t* @param dbConfig Optional `FakeVectorStoreArgs` to configure the `FakeVectorStore` instance.\n\t* @returns Promise that resolves with a new `FakeVectorStore` instance.\n\t*/\n\tstatic async fromTexts(texts, metadatas, embeddings, dbConfig) {\n\t\tconst docs = [];\n\t\tfor (let i = 0; i < texts.length; i += 1) {\n\t\t\tconst metadata = Array.isArray(metadatas) ? metadatas[i] : metadatas;\n\t\t\tconst newDoc = new _documents_document_js__WEBPACK_IMPORTED_MODULE_1__.Document({\n\t\t\t\tpageContent: texts[i],\n\t\t\t\tmetadata\n\t\t\t});\n\t\t\tdocs.push(newDoc);\n\t\t}\n\t\treturn FakeVectorStore.fromDocuments(docs, embeddings, dbConfig);\n\t}\n\t/**\n\t* Static method to create a `FakeVectorStore` instance from an array of\n\t* `Document` instances. It adds the documents to the store.\n\t* @param docs Array of `Document` instances to be added to the store.\n\t* @param embeddings `Embeddings` instance used to generate embeddings for the documents.\n\t* @param dbConfig Optional `FakeVectorStoreArgs` to configure the `FakeVectorStore` instance.\n\t* @returns Promise that resolves with a new `FakeVectorStore` instance.\n\t*/\n\tstatic async fromDocuments(docs, embeddings, dbConfig) {\n\t\tconst instance = new this(embeddings, dbConfig);\n\t\tawait instance.addDocuments(docs);\n\t\treturn instance;\n\t}\n\t/**\n\t* Static method to create a `FakeVectorStore` instance from an existing\n\t* index. It creates a new `FakeVectorStore` instance without adding any\n\t* documents or vectors.\n\t* @param embeddings `Embeddings` instance used to generate embeddings for the documents.\n\t* @param dbConfig Optional `FakeVectorStoreArgs` to configure the `FakeVectorStore` instance.\n\t* @returns Promise that resolves with a new `FakeVectorStore` instance.\n\t*/\n\tstatic async fromExistingIndex(embeddings, dbConfig) {\n\t\tconst instance = new this(embeddings, dbConfig);\n\t\treturn instance;\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=vectorstores.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy90ZXN0aW5nL3ZlY3RvcnN0b3Jlcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQW9EO0FBQ0c7QUFDQzs7QUFFeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELHlEQUFXO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIscUJBQXFCLElBQUk7QUFDcEQ7QUFDQSxrQ0FBa0MsZ0VBQU07QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLGFBQWE7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw0REFBUTtBQUMzQjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCwrQ0FBK0MsNERBQVE7QUFDdkQ7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGtCQUFrQjtBQUNwQztBQUNBLHNCQUFzQiw0REFBUTtBQUM5QjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUMyQjtBQUMzQiIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvdGVzdGluZy92ZWN0b3JzdG9yZXMuanM/Yzk3MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWZWN0b3JTdG9yZSB9IGZyb20gXCIuLi8uLi92ZWN0b3JzdG9yZXMuanNcIjtcbmltcG9ydCB7IERvY3VtZW50IH0gZnJvbSBcIi4uLy4uL2RvY3VtZW50cy9kb2N1bWVudC5qc1wiO1xuaW1wb3J0IHsgY29zaW5lIH0gZnJvbSBcIi4uL21sLWRpc3RhbmNlL3NpbWlsYXJpdGllcy5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL3Rlc3RpbmcvdmVjdG9yc3RvcmVzLnRzXG4vKipcbiogQ2xhc3MgdGhhdCBleHRlbmRzIGBWZWN0b3JTdG9yZWAgdG8gc3RvcmUgdmVjdG9ycyBpbiBtZW1vcnkuIFByb3ZpZGVzXG4qIG1ldGhvZHMgZm9yIGFkZGluZyBkb2N1bWVudHMsIHBlcmZvcm1pbmcgc2ltaWxhcml0eSBzZWFyY2hlcywgYW5kXG4qIGNyZWF0aW5nIGluc3RhbmNlcyBmcm9tIHRleHRzLCBkb2N1bWVudHMsIG9yIGFuIGV4aXN0aW5nIGluZGV4LlxuKi9cbnZhciBGYWtlVmVjdG9yU3RvcmUgPSBjbGFzcyBGYWtlVmVjdG9yU3RvcmUgZXh0ZW5kcyBWZWN0b3JTdG9yZSB7XG5cdG1lbW9yeVZlY3RvcnMgPSBbXTtcblx0c2ltaWxhcml0eTtcblx0X3ZlY3RvcnN0b3JlVHlwZSgpIHtcblx0XHRyZXR1cm4gXCJtZW1vcnlcIjtcblx0fVxuXHRjb25zdHJ1Y3RvcihlbWJlZGRpbmdzLCB7IHNpbWlsYXJpdHksLi4ucmVzdCB9ID0ge30pIHtcblx0XHRzdXBlcihlbWJlZGRpbmdzLCByZXN0KTtcblx0XHR0aGlzLnNpbWlsYXJpdHkgPSBzaW1pbGFyaXR5ID8/IGNvc2luZTtcblx0fVxuXHQvKipcblx0KiBNZXRob2QgdG8gYWRkIGRvY3VtZW50cyB0byB0aGUgbWVtb3J5IHZlY3RvciBzdG9yZS4gSXQgZXh0cmFjdHMgdGhlXG5cdCogdGV4dCBmcm9tIGVhY2ggZG9jdW1lbnQsIGdlbmVyYXRlcyBlbWJlZGRpbmdzIGZvciB0aGVtLCBhbmQgYWRkcyB0aGVcblx0KiByZXN1bHRpbmcgdmVjdG9ycyB0byB0aGUgc3RvcmUuXG5cdCogQHBhcmFtIGRvY3VtZW50cyBBcnJheSBvZiBgRG9jdW1lbnRgIGluc3RhbmNlcyB0byBiZSBhZGRlZCB0byB0aGUgc3RvcmUuXG5cdCogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gYWxsIGRvY3VtZW50cyBoYXZlIGJlZW4gYWRkZWQuXG5cdCovXG5cdGFzeW5jIGFkZERvY3VtZW50cyhkb2N1bWVudHMpIHtcblx0XHRjb25zdCB0ZXh0cyA9IGRvY3VtZW50cy5tYXAoKHsgcGFnZUNvbnRlbnQgfSkgPT4gcGFnZUNvbnRlbnQpO1xuXHRcdHJldHVybiB0aGlzLmFkZFZlY3RvcnMoYXdhaXQgdGhpcy5lbWJlZGRpbmdzLmVtYmVkRG9jdW1lbnRzKHRleHRzKSwgZG9jdW1lbnRzKTtcblx0fVxuXHQvKipcblx0KiBNZXRob2QgdG8gYWRkIHZlY3RvcnMgdG8gdGhlIG1lbW9yeSB2ZWN0b3Igc3RvcmUuIEl0IGNyZWF0ZXNcblx0KiBgTWVtb3J5VmVjdG9yYCBpbnN0YW5jZXMgZm9yIGVhY2ggdmVjdG9yIGFuZCBkb2N1bWVudCBwYWlyIGFuZCBhZGRzXG5cdCogdGhlbSB0byB0aGUgc3RvcmUuXG5cdCogQHBhcmFtIHZlY3RvcnMgQXJyYXkgb2YgdmVjdG9ycyB0byBiZSBhZGRlZCB0byB0aGUgc3RvcmUuXG5cdCogQHBhcmFtIGRvY3VtZW50cyBBcnJheSBvZiBgRG9jdW1lbnRgIGluc3RhbmNlcyBjb3JyZXNwb25kaW5nIHRvIHRoZSB2ZWN0b3JzLlxuXHQqIEByZXR1cm5zIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIGFsbCB2ZWN0b3JzIGhhdmUgYmVlbiBhZGRlZC5cblx0Ki9cblx0YXN5bmMgYWRkVmVjdG9ycyh2ZWN0b3JzLCBkb2N1bWVudHMpIHtcblx0XHRjb25zdCBtZW1vcnlWZWN0b3JzID0gdmVjdG9ycy5tYXAoKGVtYmVkZGluZywgaWR4KSA9PiAoe1xuXHRcdFx0Y29udGVudDogZG9jdW1lbnRzW2lkeF0ucGFnZUNvbnRlbnQsXG5cdFx0XHRlbWJlZGRpbmcsXG5cdFx0XHRtZXRhZGF0YTogZG9jdW1lbnRzW2lkeF0ubWV0YWRhdGFcblx0XHR9KSk7XG5cdFx0dGhpcy5tZW1vcnlWZWN0b3JzID0gdGhpcy5tZW1vcnlWZWN0b3JzLmNvbmNhdChtZW1vcnlWZWN0b3JzKTtcblx0fVxuXHQvKipcblx0KiBNZXRob2QgdG8gcGVyZm9ybSBhIHNpbWlsYXJpdHkgc2VhcmNoIGluIHRoZSBtZW1vcnkgdmVjdG9yIHN0b3JlLiBJdFxuXHQqIGNhbGN1bGF0ZXMgdGhlIHNpbWlsYXJpdHkgYmV0d2VlbiB0aGUgcXVlcnkgdmVjdG9yIGFuZCBlYWNoIHZlY3RvciBpblxuXHQqIHRoZSBzdG9yZSwgc29ydHMgdGhlIHJlc3VsdHMgYnkgc2ltaWxhcml0eSwgYW5kIHJldHVybnMgdGhlIHRvcCBga2Bcblx0KiByZXN1bHRzIGFsb25nIHdpdGggdGhlaXIgc2NvcmVzLlxuXHQqIEBwYXJhbSBxdWVyeSBRdWVyeSB2ZWN0b3IgdG8gY29tcGFyZSBhZ2FpbnN0IHRoZSB2ZWN0b3JzIGluIHRoZSBzdG9yZS5cblx0KiBAcGFyYW0gayBOdW1iZXIgb2YgdG9wIHJlc3VsdHMgdG8gcmV0dXJuLlxuXHQqIEBwYXJhbSBmaWx0ZXIgT3B0aW9uYWwgZmlsdGVyIGZ1bmN0aW9uIHRvIGFwcGx5IHRvIHRoZSB2ZWN0b3JzIGJlZm9yZSBwZXJmb3JtaW5nIHRoZSBzZWFyY2guXG5cdCogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggYW4gYXJyYXkgb2YgdHVwbGVzLCBlYWNoIGNvbnRhaW5pbmcgYSBgRG9jdW1lbnRgIGFuZCBpdHMgc2ltaWxhcml0eSBzY29yZS5cblx0Ki9cblx0YXN5bmMgc2ltaWxhcml0eVNlYXJjaFZlY3RvcldpdGhTY29yZShxdWVyeSwgaywgZmlsdGVyKSB7XG5cdFx0Y29uc3QgZmlsdGVyRnVuY3Rpb24gPSAobWVtb3J5VmVjdG9yKSA9PiB7XG5cdFx0XHRpZiAoIWZpbHRlcikgcmV0dXJuIHRydWU7XG5cdFx0XHRjb25zdCBkb2MgPSBuZXcgRG9jdW1lbnQoe1xuXHRcdFx0XHRtZXRhZGF0YTogbWVtb3J5VmVjdG9yLm1ldGFkYXRhLFxuXHRcdFx0XHRwYWdlQ29udGVudDogbWVtb3J5VmVjdG9yLmNvbnRlbnRcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIGZpbHRlcihkb2MpO1xuXHRcdH07XG5cdFx0Y29uc3QgZmlsdGVyZWRNZW1vcnlWZWN0b3JzID0gdGhpcy5tZW1vcnlWZWN0b3JzLmZpbHRlcihmaWx0ZXJGdW5jdGlvbik7XG5cdFx0Y29uc3Qgc2VhcmNoZXMgPSBmaWx0ZXJlZE1lbW9yeVZlY3RvcnMubWFwKCh2ZWN0b3IsIGluZGV4KSA9PiAoe1xuXHRcdFx0c2ltaWxhcml0eTogdGhpcy5zaW1pbGFyaXR5KHF1ZXJ5LCB2ZWN0b3IuZW1iZWRkaW5nKSxcblx0XHRcdGluZGV4XG5cdFx0fSkpLnNvcnQoKGEsIGIpID0+IGEuc2ltaWxhcml0eSA+IGIuc2ltaWxhcml0eSA/IC0xIDogMCkuc2xpY2UoMCwgayk7XG5cdFx0Y29uc3QgcmVzdWx0ID0gc2VhcmNoZXMubWFwKChzZWFyY2gpID0+IFtuZXcgRG9jdW1lbnQoe1xuXHRcdFx0bWV0YWRhdGE6IGZpbHRlcmVkTWVtb3J5VmVjdG9yc1tzZWFyY2guaW5kZXhdLm1ldGFkYXRhLFxuXHRcdFx0cGFnZUNvbnRlbnQ6IGZpbHRlcmVkTWVtb3J5VmVjdG9yc1tzZWFyY2guaW5kZXhdLmNvbnRlbnRcblx0XHR9KSwgc2VhcmNoLnNpbWlsYXJpdHldKTtcblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cdC8qKlxuXHQqIFN0YXRpYyBtZXRob2QgdG8gY3JlYXRlIGEgYEZha2VWZWN0b3JTdG9yZWAgaW5zdGFuY2UgZnJvbSBhbiBhcnJheSBvZlxuXHQqIHRleHRzLiBJdCBjcmVhdGVzIGEgYERvY3VtZW50YCBmb3IgZWFjaCB0ZXh0IGFuZCBtZXRhZGF0YSBwYWlyLCBhbmRcblx0KiBhZGRzIHRoZW0gdG8gdGhlIHN0b3JlLlxuXHQqIEBwYXJhbSB0ZXh0cyBBcnJheSBvZiB0ZXh0cyB0byBiZSBhZGRlZCB0byB0aGUgc3RvcmUuXG5cdCogQHBhcmFtIG1ldGFkYXRhcyBBcnJheSBvciBzaW5nbGUgb2JqZWN0IG9mIG1ldGFkYXRhIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHRleHRzLlxuXHQqIEBwYXJhbSBlbWJlZGRpbmdzIGBFbWJlZGRpbmdzYCBpbnN0YW5jZSB1c2VkIHRvIGdlbmVyYXRlIGVtYmVkZGluZ3MgZm9yIHRoZSB0ZXh0cy5cblx0KiBAcGFyYW0gZGJDb25maWcgT3B0aW9uYWwgYEZha2VWZWN0b3JTdG9yZUFyZ3NgIHRvIGNvbmZpZ3VyZSB0aGUgYEZha2VWZWN0b3JTdG9yZWAgaW5zdGFuY2UuXG5cdCogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggYSBuZXcgYEZha2VWZWN0b3JTdG9yZWAgaW5zdGFuY2UuXG5cdCovXG5cdHN0YXRpYyBhc3luYyBmcm9tVGV4dHModGV4dHMsIG1ldGFkYXRhcywgZW1iZWRkaW5ncywgZGJDb25maWcpIHtcblx0XHRjb25zdCBkb2NzID0gW107XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0ZXh0cy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0Y29uc3QgbWV0YWRhdGEgPSBBcnJheS5pc0FycmF5KG1ldGFkYXRhcykgPyBtZXRhZGF0YXNbaV0gOiBtZXRhZGF0YXM7XG5cdFx0XHRjb25zdCBuZXdEb2MgPSBuZXcgRG9jdW1lbnQoe1xuXHRcdFx0XHRwYWdlQ29udGVudDogdGV4dHNbaV0sXG5cdFx0XHRcdG1ldGFkYXRhXG5cdFx0XHR9KTtcblx0XHRcdGRvY3MucHVzaChuZXdEb2MpO1xuXHRcdH1cblx0XHRyZXR1cm4gRmFrZVZlY3RvclN0b3JlLmZyb21Eb2N1bWVudHMoZG9jcywgZW1iZWRkaW5ncywgZGJDb25maWcpO1xuXHR9XG5cdC8qKlxuXHQqIFN0YXRpYyBtZXRob2QgdG8gY3JlYXRlIGEgYEZha2VWZWN0b3JTdG9yZWAgaW5zdGFuY2UgZnJvbSBhbiBhcnJheSBvZlxuXHQqIGBEb2N1bWVudGAgaW5zdGFuY2VzLiBJdCBhZGRzIHRoZSBkb2N1bWVudHMgdG8gdGhlIHN0b3JlLlxuXHQqIEBwYXJhbSBkb2NzIEFycmF5IG9mIGBEb2N1bWVudGAgaW5zdGFuY2VzIHRvIGJlIGFkZGVkIHRvIHRoZSBzdG9yZS5cblx0KiBAcGFyYW0gZW1iZWRkaW5ncyBgRW1iZWRkaW5nc2AgaW5zdGFuY2UgdXNlZCB0byBnZW5lcmF0ZSBlbWJlZGRpbmdzIGZvciB0aGUgZG9jdW1lbnRzLlxuXHQqIEBwYXJhbSBkYkNvbmZpZyBPcHRpb25hbCBgRmFrZVZlY3RvclN0b3JlQXJnc2AgdG8gY29uZmlndXJlIHRoZSBgRmFrZVZlY3RvclN0b3JlYCBpbnN0YW5jZS5cblx0KiBAcmV0dXJucyBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCBhIG5ldyBgRmFrZVZlY3RvclN0b3JlYCBpbnN0YW5jZS5cblx0Ki9cblx0c3RhdGljIGFzeW5jIGZyb21Eb2N1bWVudHMoZG9jcywgZW1iZWRkaW5ncywgZGJDb25maWcpIHtcblx0XHRjb25zdCBpbnN0YW5jZSA9IG5ldyB0aGlzKGVtYmVkZGluZ3MsIGRiQ29uZmlnKTtcblx0XHRhd2FpdCBpbnN0YW5jZS5hZGREb2N1bWVudHMoZG9jcyk7XG5cdFx0cmV0dXJuIGluc3RhbmNlO1xuXHR9XG5cdC8qKlxuXHQqIFN0YXRpYyBtZXRob2QgdG8gY3JlYXRlIGEgYEZha2VWZWN0b3JTdG9yZWAgaW5zdGFuY2UgZnJvbSBhbiBleGlzdGluZ1xuXHQqIGluZGV4LiBJdCBjcmVhdGVzIGEgbmV3IGBGYWtlVmVjdG9yU3RvcmVgIGluc3RhbmNlIHdpdGhvdXQgYWRkaW5nIGFueVxuXHQqIGRvY3VtZW50cyBvciB2ZWN0b3JzLlxuXHQqIEBwYXJhbSBlbWJlZGRpbmdzIGBFbWJlZGRpbmdzYCBpbnN0YW5jZSB1c2VkIHRvIGdlbmVyYXRlIGVtYmVkZGluZ3MgZm9yIHRoZSBkb2N1bWVudHMuXG5cdCogQHBhcmFtIGRiQ29uZmlnIE9wdGlvbmFsIGBGYWtlVmVjdG9yU3RvcmVBcmdzYCB0byBjb25maWd1cmUgdGhlIGBGYWtlVmVjdG9yU3RvcmVgIGluc3RhbmNlLlxuXHQqIEByZXR1cm5zIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIGEgbmV3IGBGYWtlVmVjdG9yU3RvcmVgIGluc3RhbmNlLlxuXHQqL1xuXHRzdGF0aWMgYXN5bmMgZnJvbUV4aXN0aW5nSW5kZXgoZW1iZWRkaW5ncywgZGJDb25maWcpIHtcblx0XHRjb25zdCBpbnN0YW5jZSA9IG5ldyB0aGlzKGVtYmVkZGluZ3MsIGRiQ29uZmlnKTtcblx0XHRyZXR1cm4gaW5zdGFuY2U7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgRmFrZVZlY3RvclN0b3JlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD12ZWN0b3JzdG9yZXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/testing/vectorstores.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/tiktoken.js":
/*!******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/tiktoken.js ***!
  \******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   encodingForModel: () => (/* binding */ encodingForModel),\n/* harmony export */   getEncoding: () => (/* binding */ getEncoding),\n/* harmony export */   tiktoken_exports: () => (/* binding */ tiktoken_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _async_caller_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./async_caller.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/async_caller.js\");\n/* harmony import */ var js_tiktoken_lite__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! js-tiktoken/lite */ \"(rsc)/./node_modules/.pnpm/js-tiktoken@1.0.21/node_modules/js-tiktoken/dist/lite.js\");\n\n\n\n\n//#region src/utils/tiktoken.ts\nvar tiktoken_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(tiktoken_exports, {\n\tencodingForModel: () => encodingForModel,\n\tgetEncoding: () => getEncoding\n});\nconst cache = {};\nconst caller = /* @__PURE__ */ new _async_caller_js__WEBPACK_IMPORTED_MODULE_1__.AsyncCaller({});\nasync function getEncoding(encoding) {\n\tif (!(encoding in cache)) cache[encoding] = caller.fetch(`https://tiktoken.pages.dev/js/${encoding}.json`).then((res) => res.json()).then((data) => new js_tiktoken_lite__WEBPACK_IMPORTED_MODULE_2__.Tiktoken(data)).catch((e) => {\n\t\tdelete cache[encoding];\n\t\tthrow e;\n\t});\n\treturn await cache[encoding];\n}\nasync function encodingForModel(model) {\n\treturn getEncoding((0,js_tiktoken_lite__WEBPACK_IMPORTED_MODULE_2__.getEncodingNameForModel)(model));\n}\n\n//#endregion\n\n//# sourceMappingURL=tiktoken.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy90aWt0b2tlbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBMkQ7QUFDWDtBQUNxQjs7QUFFckU7QUFDQTtBQUNBLHNFQUFRO0FBQ1I7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLG1DQUFtQyx5REFBVyxHQUFHO0FBQ2pEO0FBQ0EsMkZBQTJGLFNBQVMscURBQXFELHNEQUFRO0FBQ2pLO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHlFQUF1QjtBQUMzQzs7QUFFQTtBQUMyRDtBQUMzRCIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvdGlrdG9rZW4uanM/ZTE0YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2V4cG9ydCB9IGZyb20gXCIuLi9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmpzXCI7XG5pbXBvcnQgeyBBc3luY0NhbGxlciB9IGZyb20gXCIuL2FzeW5jX2NhbGxlci5qc1wiO1xuaW1wb3J0IHsgVGlrdG9rZW4sIGdldEVuY29kaW5nTmFtZUZvck1vZGVsIH0gZnJvbSBcImpzLXRpa3Rva2VuL2xpdGVcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy90aWt0b2tlbi50c1xudmFyIHRpa3Rva2VuX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KHRpa3Rva2VuX2V4cG9ydHMsIHtcblx0ZW5jb2RpbmdGb3JNb2RlbDogKCkgPT4gZW5jb2RpbmdGb3JNb2RlbCxcblx0Z2V0RW5jb2Rpbmc6ICgpID0+IGdldEVuY29kaW5nXG59KTtcbmNvbnN0IGNhY2hlID0ge307XG5jb25zdCBjYWxsZXIgPSAvKiBAX19QVVJFX18gKi8gbmV3IEFzeW5jQ2FsbGVyKHt9KTtcbmFzeW5jIGZ1bmN0aW9uIGdldEVuY29kaW5nKGVuY29kaW5nKSB7XG5cdGlmICghKGVuY29kaW5nIGluIGNhY2hlKSkgY2FjaGVbZW5jb2RpbmddID0gY2FsbGVyLmZldGNoKGBodHRwczovL3Rpa3Rva2VuLnBhZ2VzLmRldi9qcy8ke2VuY29kaW5nfS5qc29uYCkudGhlbigocmVzKSA9PiByZXMuanNvbigpKS50aGVuKChkYXRhKSA9PiBuZXcgVGlrdG9rZW4oZGF0YSkpLmNhdGNoKChlKSA9PiB7XG5cdFx0ZGVsZXRlIGNhY2hlW2VuY29kaW5nXTtcblx0XHR0aHJvdyBlO1xuXHR9KTtcblx0cmV0dXJuIGF3YWl0IGNhY2hlW2VuY29kaW5nXTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGVuY29kaW5nRm9yTW9kZWwobW9kZWwpIHtcblx0cmV0dXJuIGdldEVuY29kaW5nKGdldEVuY29kaW5nTmFtZUZvck1vZGVsKG1vZGVsKSk7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgZW5jb2RpbmdGb3JNb2RlbCwgZ2V0RW5jb2RpbmcsIHRpa3Rva2VuX2V4cG9ydHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRpa3Rva2VuLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/tiktoken.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/types/index.js":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/types/index.js ***!
  \*********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   extendInteropZodObject: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.extendInteropZodObject),\n/* harmony export */   getInteropZodDefaultGetter: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.getInteropZodDefaultGetter),\n/* harmony export */   getInteropZodObjectShape: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.getInteropZodObjectShape),\n/* harmony export */   getSchemaDescription: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.getSchemaDescription),\n/* harmony export */   interopParse: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.interopParse),\n/* harmony export */   interopParseAsync: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.interopParseAsync),\n/* harmony export */   interopSafeParse: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.interopSafeParse),\n/* harmony export */   interopSafeParseAsync: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.interopSafeParseAsync),\n/* harmony export */   interopZodObjectMakeFieldsOptional: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.interopZodObjectMakeFieldsOptional),\n/* harmony export */   interopZodObjectPartial: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.interopZodObjectPartial),\n/* harmony export */   interopZodObjectPassthrough: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.interopZodObjectPassthrough),\n/* harmony export */   interopZodObjectStrict: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.interopZodObjectStrict),\n/* harmony export */   interopZodTransformInputSchema: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.interopZodTransformInputSchema),\n/* harmony export */   isInteropZodLiteral: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.isInteropZodLiteral),\n/* harmony export */   isInteropZodObject: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.isInteropZodObject),\n/* harmony export */   isInteropZodSchema: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.isInteropZodSchema),\n/* harmony export */   isShapelessZodSchema: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.isShapelessZodSchema),\n/* harmony export */   isSimpleStringZodSchema: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.isSimpleStringZodSchema),\n/* harmony export */   isZodArrayV4: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodArrayV4),\n/* harmony export */   isZodLiteralV3: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodLiteralV3),\n/* harmony export */   isZodLiteralV4: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodLiteralV4),\n/* harmony export */   isZodObjectV3: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodObjectV3),\n/* harmony export */   isZodObjectV4: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodObjectV4),\n/* harmony export */   isZodSchema: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodSchema),\n/* harmony export */   isZodSchemaV3: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodSchemaV3),\n/* harmony export */   isZodSchemaV4: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodSchemaV4),\n/* harmony export */   types_exports: () => (/* binding */ types_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _zod_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./zod.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/types/zod.js\");\n\n\n\n//#region src/utils/types/index.ts\nvar types_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(types_exports, {\n\textendInteropZodObject: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.extendInteropZodObject,\n\tgetInteropZodDefaultGetter: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.getInteropZodDefaultGetter,\n\tgetInteropZodObjectShape: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.getInteropZodObjectShape,\n\tgetSchemaDescription: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.getSchemaDescription,\n\tinteropParse: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.interopParse,\n\tinteropParseAsync: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.interopParseAsync,\n\tinteropSafeParse: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.interopSafeParse,\n\tinteropSafeParseAsync: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.interopSafeParseAsync,\n\tinteropZodObjectMakeFieldsOptional: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.interopZodObjectMakeFieldsOptional,\n\tinteropZodObjectPartial: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.interopZodObjectPartial,\n\tinteropZodObjectPassthrough: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.interopZodObjectPassthrough,\n\tinteropZodObjectStrict: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.interopZodObjectStrict,\n\tinteropZodTransformInputSchema: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.interopZodTransformInputSchema,\n\tisInteropZodLiteral: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.isInteropZodLiteral,\n\tisInteropZodObject: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.isInteropZodObject,\n\tisInteropZodSchema: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.isInteropZodSchema,\n\tisShapelessZodSchema: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.isShapelessZodSchema,\n\tisSimpleStringZodSchema: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.isSimpleStringZodSchema,\n\tisZodArrayV4: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodArrayV4,\n\tisZodLiteralV3: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodLiteralV3,\n\tisZodLiteralV4: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodLiteralV4,\n\tisZodObjectV3: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodObjectV3,\n\tisZodObjectV4: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodObjectV4,\n\tisZodSchema: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodSchema,\n\tisZodSchemaV3: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodSchemaV3,\n\tisZodSchemaV4: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodSchemaV4\n});\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy90eXBlcy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUE4RDtBQUMrZjs7QUFFN2pCO0FBQ0E7QUFDQSxzRUFBUTtBQUNSLCtCQUErQiwyREFBc0I7QUFDckQsbUNBQW1DLCtEQUEwQjtBQUM3RCxpQ0FBaUMsNkRBQXdCO0FBQ3pELDZCQUE2Qix5REFBb0I7QUFDakQscUJBQXFCLGlEQUFZO0FBQ2pDLDBCQUEwQixzREFBaUI7QUFDM0MseUJBQXlCLHFEQUFnQjtBQUN6Qyw4QkFBOEIsMERBQXFCO0FBQ25ELDJDQUEyQyx1RUFBa0M7QUFDN0UsZ0NBQWdDLDREQUF1QjtBQUN2RCxvQ0FBb0MsZ0VBQTJCO0FBQy9ELCtCQUErQiwyREFBc0I7QUFDckQsdUNBQXVDLG1FQUE4QjtBQUNyRSw0QkFBNEIsd0RBQW1CO0FBQy9DLDJCQUEyQix1REFBa0I7QUFDN0MsMkJBQTJCLHVEQUFrQjtBQUM3Qyw2QkFBNkIseURBQW9CO0FBQ2pELGdDQUFnQyw0REFBdUI7QUFDdkQscUJBQXFCLGlEQUFZO0FBQ2pDLHVCQUF1QixtREFBYztBQUNyQyx1QkFBdUIsbURBQWM7QUFDckMsc0JBQXNCLGtEQUFhO0FBQ25DLHNCQUFzQixrREFBYTtBQUNuQyxvQkFBb0IsZ0RBQVc7QUFDL0Isc0JBQXNCLGtEQUFhO0FBQ25DLHNCQUFzQixrREFBYTtBQUNuQyxDQUFDOztBQUVEO0FBQzRqQjtBQUM1akIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3R5cGVzL2luZGV4LmpzPzVlODUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19leHBvcnQgfSBmcm9tIFwiLi4vLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5qc1wiO1xuaW1wb3J0IHsgZXh0ZW5kSW50ZXJvcFpvZE9iamVjdCwgZ2V0SW50ZXJvcFpvZERlZmF1bHRHZXR0ZXIsIGdldEludGVyb3Bab2RPYmplY3RTaGFwZSwgZ2V0U2NoZW1hRGVzY3JpcHRpb24sIGludGVyb3BQYXJzZSwgaW50ZXJvcFBhcnNlQXN5bmMsIGludGVyb3BTYWZlUGFyc2UsIGludGVyb3BTYWZlUGFyc2VBc3luYywgaW50ZXJvcFpvZE9iamVjdE1ha2VGaWVsZHNPcHRpb25hbCwgaW50ZXJvcFpvZE9iamVjdFBhcnRpYWwsIGludGVyb3Bab2RPYmplY3RQYXNzdGhyb3VnaCwgaW50ZXJvcFpvZE9iamVjdFN0cmljdCwgaW50ZXJvcFpvZFRyYW5zZm9ybUlucHV0U2NoZW1hLCBpc0ludGVyb3Bab2RMaXRlcmFsLCBpc0ludGVyb3Bab2RPYmplY3QsIGlzSW50ZXJvcFpvZFNjaGVtYSwgaXNTaGFwZWxlc3Nab2RTY2hlbWEsIGlzU2ltcGxlU3RyaW5nWm9kU2NoZW1hLCBpc1pvZEFycmF5VjQsIGlzWm9kTGl0ZXJhbFYzLCBpc1pvZExpdGVyYWxWNCwgaXNab2RPYmplY3RWMywgaXNab2RPYmplY3RWNCwgaXNab2RTY2hlbWEsIGlzWm9kU2NoZW1hVjMsIGlzWm9kU2NoZW1hVjQgfSBmcm9tIFwiLi96b2QuanNcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy90eXBlcy9pbmRleC50c1xudmFyIHR5cGVzX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KHR5cGVzX2V4cG9ydHMsIHtcblx0ZXh0ZW5kSW50ZXJvcFpvZE9iamVjdDogKCkgPT4gZXh0ZW5kSW50ZXJvcFpvZE9iamVjdCxcblx0Z2V0SW50ZXJvcFpvZERlZmF1bHRHZXR0ZXI6ICgpID0+IGdldEludGVyb3Bab2REZWZhdWx0R2V0dGVyLFxuXHRnZXRJbnRlcm9wWm9kT2JqZWN0U2hhcGU6ICgpID0+IGdldEludGVyb3Bab2RPYmplY3RTaGFwZSxcblx0Z2V0U2NoZW1hRGVzY3JpcHRpb246ICgpID0+IGdldFNjaGVtYURlc2NyaXB0aW9uLFxuXHRpbnRlcm9wUGFyc2U6ICgpID0+IGludGVyb3BQYXJzZSxcblx0aW50ZXJvcFBhcnNlQXN5bmM6ICgpID0+IGludGVyb3BQYXJzZUFzeW5jLFxuXHRpbnRlcm9wU2FmZVBhcnNlOiAoKSA9PiBpbnRlcm9wU2FmZVBhcnNlLFxuXHRpbnRlcm9wU2FmZVBhcnNlQXN5bmM6ICgpID0+IGludGVyb3BTYWZlUGFyc2VBc3luYyxcblx0aW50ZXJvcFpvZE9iamVjdE1ha2VGaWVsZHNPcHRpb25hbDogKCkgPT4gaW50ZXJvcFpvZE9iamVjdE1ha2VGaWVsZHNPcHRpb25hbCxcblx0aW50ZXJvcFpvZE9iamVjdFBhcnRpYWw6ICgpID0+IGludGVyb3Bab2RPYmplY3RQYXJ0aWFsLFxuXHRpbnRlcm9wWm9kT2JqZWN0UGFzc3Rocm91Z2g6ICgpID0+IGludGVyb3Bab2RPYmplY3RQYXNzdGhyb3VnaCxcblx0aW50ZXJvcFpvZE9iamVjdFN0cmljdDogKCkgPT4gaW50ZXJvcFpvZE9iamVjdFN0cmljdCxcblx0aW50ZXJvcFpvZFRyYW5zZm9ybUlucHV0U2NoZW1hOiAoKSA9PiBpbnRlcm9wWm9kVHJhbnNmb3JtSW5wdXRTY2hlbWEsXG5cdGlzSW50ZXJvcFpvZExpdGVyYWw6ICgpID0+IGlzSW50ZXJvcFpvZExpdGVyYWwsXG5cdGlzSW50ZXJvcFpvZE9iamVjdDogKCkgPT4gaXNJbnRlcm9wWm9kT2JqZWN0LFxuXHRpc0ludGVyb3Bab2RTY2hlbWE6ICgpID0+IGlzSW50ZXJvcFpvZFNjaGVtYSxcblx0aXNTaGFwZWxlc3Nab2RTY2hlbWE6ICgpID0+IGlzU2hhcGVsZXNzWm9kU2NoZW1hLFxuXHRpc1NpbXBsZVN0cmluZ1pvZFNjaGVtYTogKCkgPT4gaXNTaW1wbGVTdHJpbmdab2RTY2hlbWEsXG5cdGlzWm9kQXJyYXlWNDogKCkgPT4gaXNab2RBcnJheVY0LFxuXHRpc1pvZExpdGVyYWxWMzogKCkgPT4gaXNab2RMaXRlcmFsVjMsXG5cdGlzWm9kTGl0ZXJhbFY0OiAoKSA9PiBpc1pvZExpdGVyYWxWNCxcblx0aXNab2RPYmplY3RWMzogKCkgPT4gaXNab2RPYmplY3RWMyxcblx0aXNab2RPYmplY3RWNDogKCkgPT4gaXNab2RPYmplY3RWNCxcblx0aXNab2RTY2hlbWE6ICgpID0+IGlzWm9kU2NoZW1hLFxuXHRpc1pvZFNjaGVtYVYzOiAoKSA9PiBpc1pvZFNjaGVtYVYzLFxuXHRpc1pvZFNjaGVtYVY0OiAoKSA9PiBpc1pvZFNjaGVtYVY0XG59KTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBleHRlbmRJbnRlcm9wWm9kT2JqZWN0LCBnZXRJbnRlcm9wWm9kRGVmYXVsdEdldHRlciwgZ2V0SW50ZXJvcFpvZE9iamVjdFNoYXBlLCBnZXRTY2hlbWFEZXNjcmlwdGlvbiwgaW50ZXJvcFBhcnNlLCBpbnRlcm9wUGFyc2VBc3luYywgaW50ZXJvcFNhZmVQYXJzZSwgaW50ZXJvcFNhZmVQYXJzZUFzeW5jLCBpbnRlcm9wWm9kT2JqZWN0TWFrZUZpZWxkc09wdGlvbmFsLCBpbnRlcm9wWm9kT2JqZWN0UGFydGlhbCwgaW50ZXJvcFpvZE9iamVjdFBhc3N0aHJvdWdoLCBpbnRlcm9wWm9kT2JqZWN0U3RyaWN0LCBpbnRlcm9wWm9kVHJhbnNmb3JtSW5wdXRTY2hlbWEsIGlzSW50ZXJvcFpvZExpdGVyYWwsIGlzSW50ZXJvcFpvZE9iamVjdCwgaXNJbnRlcm9wWm9kU2NoZW1hLCBpc1NoYXBlbGVzc1pvZFNjaGVtYSwgaXNTaW1wbGVTdHJpbmdab2RTY2hlbWEsIGlzWm9kQXJyYXlWNCwgaXNab2RMaXRlcmFsVjMsIGlzWm9kTGl0ZXJhbFY0LCBpc1pvZE9iamVjdFYzLCBpc1pvZE9iamVjdFY0LCBpc1pvZFNjaGVtYSwgaXNab2RTY2hlbWFWMywgaXNab2RTY2hlbWFWNCwgdHlwZXNfZXhwb3J0cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/types/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/types/zod.js":
/*!*******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/types/zod.js ***!
  \*******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   extendInteropZodObject: () => (/* binding */ extendInteropZodObject),\n/* harmony export */   getInteropZodDefaultGetter: () => (/* binding */ getInteropZodDefaultGetter),\n/* harmony export */   getInteropZodObjectShape: () => (/* binding */ getInteropZodObjectShape),\n/* harmony export */   getSchemaDescription: () => (/* binding */ getSchemaDescription),\n/* harmony export */   interopParse: () => (/* binding */ interopParse),\n/* harmony export */   interopParseAsync: () => (/* binding */ interopParseAsync),\n/* harmony export */   interopSafeParse: () => (/* binding */ interopSafeParse),\n/* harmony export */   interopSafeParseAsync: () => (/* binding */ interopSafeParseAsync),\n/* harmony export */   interopZodObjectMakeFieldsOptional: () => (/* binding */ interopZodObjectMakeFieldsOptional),\n/* harmony export */   interopZodObjectPartial: () => (/* binding */ interopZodObjectPartial),\n/* harmony export */   interopZodObjectPassthrough: () => (/* binding */ interopZodObjectPassthrough),\n/* harmony export */   interopZodObjectStrict: () => (/* binding */ interopZodObjectStrict),\n/* harmony export */   interopZodTransformInputSchema: () => (/* binding */ interopZodTransformInputSchema),\n/* harmony export */   isInteropZodLiteral: () => (/* binding */ isInteropZodLiteral),\n/* harmony export */   isInteropZodObject: () => (/* binding */ isInteropZodObject),\n/* harmony export */   isInteropZodSchema: () => (/* binding */ isInteropZodSchema),\n/* harmony export */   isShapelessZodSchema: () => (/* binding */ isShapelessZodSchema),\n/* harmony export */   isSimpleStringZodSchema: () => (/* binding */ isSimpleStringZodSchema),\n/* harmony export */   isZodArrayV4: () => (/* binding */ isZodArrayV4),\n/* harmony export */   isZodLiteralV3: () => (/* binding */ isZodLiteralV3),\n/* harmony export */   isZodLiteralV4: () => (/* binding */ isZodLiteralV4),\n/* harmony export */   isZodObjectV3: () => (/* binding */ isZodObjectV3),\n/* harmony export */   isZodObjectV4: () => (/* binding */ isZodObjectV4),\n/* harmony export */   isZodSchema: () => (/* binding */ isZodSchema),\n/* harmony export */   isZodSchemaV3: () => (/* binding */ isZodSchemaV3),\n/* harmony export */   isZodSchemaV4: () => (/* binding */ isZodSchemaV4)\n/* harmony export */ });\n/* harmony import */ var zod_v4_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod/v4/core */ \"(rsc)/./node_modules/.pnpm/zod@3.25.76/node_modules/zod/v4/core/parse.js\");\n/* harmony import */ var zod_v4_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zod/v4/core */ \"(rsc)/./node_modules/.pnpm/zod@3.25.76/node_modules/zod/v4/core/registries.js\");\n/* harmony import */ var zod_v4_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zod/v4/core */ \"(rsc)/./node_modules/.pnpm/zod@3.25.76/node_modules/zod/v4/core/util.js\");\n/* harmony import */ var zod_v4_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! zod/v4/core */ \"(rsc)/./node_modules/.pnpm/zod@3.25.76/node_modules/zod/v4/core/schemas.js\");\n/* harmony import */ var zod_v4_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! zod/v4/core */ \"(rsc)/./node_modules/.pnpm/zod@3.25.76/node_modules/zod/v4/core/api.js\");\n\n\n//#region src/utils/types/zod.ts\nfunction isZodSchemaV4(schema) {\n\tif (typeof schema !== \"object\" || schema === null) return false;\n\tconst obj = schema;\n\tif (!(\"_zod\" in obj)) return false;\n\tconst zod = obj._zod;\n\treturn typeof zod === \"object\" && zod !== null && \"def\" in zod;\n}\nfunction isZodSchemaV3(schema) {\n\tif (typeof schema !== \"object\" || schema === null) return false;\n\tconst obj = schema;\n\tif (!(\"_def\" in obj) || \"_zod\" in obj) return false;\n\tconst def = obj._def;\n\treturn typeof def === \"object\" && def != null && \"typeName\" in def;\n}\n/** Backward compatible isZodSchema for Zod 3 */\nfunction isZodSchema(schema) {\n\tif (isZodSchemaV4(schema)) console.warn(\"[WARNING] Attempting to use Zod 4 schema in a context where Zod 3 schema is expected. This may cause unexpected behavior.\");\n\treturn isZodSchemaV3(schema);\n}\n/**\n* Given either a Zod schema, or plain object, determine if the input is a Zod schema.\n*\n* @param {unknown} input\n* @returns {boolean} Whether or not the provided input is a Zod schema.\n*/\nfunction isInteropZodSchema(input) {\n\tif (!input) return false;\n\tif (typeof input !== \"object\") return false;\n\tif (Array.isArray(input)) return false;\n\tif (isZodSchemaV4(input) || isZodSchemaV3(input)) return true;\n\treturn false;\n}\nfunction isZodLiteralV3(obj) {\n\tif (typeof obj === \"object\" && obj !== null && \"_def\" in obj && typeof obj._def === \"object\" && obj._def !== null && \"typeName\" in obj._def && obj._def.typeName === \"ZodLiteral\") return true;\n\treturn false;\n}\nfunction isZodLiteralV4(obj) {\n\tif (!isZodSchemaV4(obj)) return false;\n\tif (typeof obj === \"object\" && obj !== null && \"_zod\" in obj && typeof obj._zod === \"object\" && obj._zod !== null && \"def\" in obj._zod && typeof obj._zod.def === \"object\" && obj._zod.def !== null && \"type\" in obj._zod.def && obj._zod.def.type === \"literal\") return true;\n\treturn false;\n}\n/**\n* Determines if the provided value is an InteropZodLiteral (Zod v3 or v4 literal schema).\n*\n* @param obj The value to check.\n* @returns {boolean} True if the value is a Zod v3 or v4 literal schema, false otherwise.\n*/\nfunction isInteropZodLiteral(obj) {\n\tif (isZodLiteralV3(obj)) return true;\n\tif (isZodLiteralV4(obj)) return true;\n\treturn false;\n}\n/**\n* Asynchronously parses the input using the provided Zod schema (v3 or v4) and returns a safe parse result.\n* This function handles both Zod v3 and v4 schemas, returning a result object indicating success or failure.\n*\n* @template T - The expected output type of the schema.\n* @param {InteropZodType<T>} schema - The Zod schema (v3 or v4) to use for parsing.\n* @param {unknown} input - The input value to parse.\n* @returns {Promise<InteropZodSafeParseResult<T>>} A promise that resolves to a safe parse result object.\n* @throws {Error} If the schema is not a recognized Zod v3 or v4 schema.\n*/\nasync function interopSafeParseAsync(schema, input) {\n\tif (isZodSchemaV4(schema)) try {\n\t\tconst data = await (0,zod_v4_core__WEBPACK_IMPORTED_MODULE_0__.parseAsync)(schema, input);\n\t\treturn {\n\t\t\tsuccess: true,\n\t\t\tdata\n\t\t};\n\t} catch (error) {\n\t\treturn {\n\t\t\tsuccess: false,\n\t\t\terror\n\t\t};\n\t}\n\tif (isZodSchemaV3(schema)) return await schema.safeParseAsync(input);\n\tthrow new Error(\"Schema must be an instance of z3.ZodType or z4.$ZodType\");\n}\n/**\n* Asynchronously parses the input using the provided Zod schema (v3 or v4) and returns the parsed value.\n* Throws an error if parsing fails or if the schema is not a recognized Zod v3 or v4 schema.\n*\n* @template T - The expected output type of the schema.\n* @param {InteropZodType<T>} schema - The Zod schema (v3 or v4) to use for parsing.\n* @param {unknown} input - The input value to parse.\n* @returns {Promise<T>} A promise that resolves to the parsed value.\n* @throws {Error} If parsing fails or the schema is not a recognized Zod v3 or v4 schema.\n*/\nasync function interopParseAsync(schema, input) {\n\tif (isZodSchemaV4(schema)) return await (0,zod_v4_core__WEBPACK_IMPORTED_MODULE_0__.parseAsync)(schema, input);\n\tif (isZodSchemaV3(schema)) return await schema.parseAsync(input);\n\tthrow new Error(\"Schema must be an instance of z3.ZodType or z4.$ZodType\");\n}\n/**\n* Safely parses the input using the provided Zod schema (v3 or v4) and returns a result object\n* indicating success or failure. This function is compatible with both Zod v3 and v4 schemas.\n*\n* @template T - The expected output type of the schema.\n* @param {InteropZodType<T>} schema - The Zod schema (v3 or v4) to use for parsing.\n* @param {unknown} input - The input value to parse.\n* @returns {InteropZodSafeParseResult<T>} An object with either the parsed data (on success)\n*   or the error (on failure).\n* @throws {Error} If the schema is not a recognized Zod v3 or v4 schema.\n*/\nfunction interopSafeParse(schema, input) {\n\tif (isZodSchemaV4(schema)) try {\n\t\tconst data = (0,zod_v4_core__WEBPACK_IMPORTED_MODULE_0__.parse)(schema, input);\n\t\treturn {\n\t\t\tsuccess: true,\n\t\t\tdata\n\t\t};\n\t} catch (error) {\n\t\treturn {\n\t\t\tsuccess: false,\n\t\t\terror\n\t\t};\n\t}\n\tif (isZodSchemaV3(schema)) return schema.safeParse(input);\n\tthrow new Error(\"Schema must be an instance of z3.ZodType or z4.$ZodType\");\n}\n/**\n* Parses the input using the provided Zod schema (v3 or v4) and returns the parsed value.\n* Throws an error if parsing fails or if the schema is not a recognized Zod v3 or v4 schema.\n*\n* @template T - The expected output type of the schema.\n* @param {InteropZodType<T>} schema - The Zod schema (v3 or v4) to use for parsing.\n* @param {unknown} input - The input value to parse.\n* @returns {T} The parsed value.\n* @throws {Error} If parsing fails or the schema is not a recognized Zod v3 or v4 schema.\n*/\nfunction interopParse(schema, input) {\n\tif (isZodSchemaV4(schema)) return (0,zod_v4_core__WEBPACK_IMPORTED_MODULE_0__.parse)(schema, input);\n\tif (isZodSchemaV3(schema)) return schema.parse(input);\n\tthrow new Error(\"Schema must be an instance of z3.ZodType or z4.$ZodType\");\n}\n/**\n* Retrieves the description from a schema definition (v3, v4, or plain object), if available.\n*\n* @param {unknown} schema - The schema to extract the description from.\n* @returns {string | undefined} The description of the schema, or undefined if not present.\n*/\nfunction getSchemaDescription(schema) {\n\tif (isZodSchemaV4(schema)) return zod_v4_core__WEBPACK_IMPORTED_MODULE_1__.globalRegistry.get(schema)?.description;\n\tif (isZodSchemaV3(schema)) return schema.description;\n\tif (\"description\" in schema && typeof schema.description === \"string\") return schema.description;\n\treturn void 0;\n}\n/**\n* Determines if the provided Zod schema is \"shapeless\".\n* A shapeless schema is one that does not define any object shape,\n* such as ZodString, ZodNumber, ZodBoolean, ZodAny, etc.\n* For ZodObject, it must have no shape keys to be considered shapeless.\n* ZodRecord schemas are considered shapeless since they define dynamic\n* key-value mappings without fixed keys.\n*\n* @param schema The Zod schema to check.\n* @returns {boolean} True if the schema is shapeless, false otherwise.\n*/\nfunction isShapelessZodSchema(schema) {\n\tif (!isInteropZodSchema(schema)) return false;\n\tif (isZodSchemaV3(schema)) {\n\t\tconst def = schema._def;\n\t\tif (def.typeName === \"ZodObject\") {\n\t\t\tconst obj = schema;\n\t\t\treturn !obj.shape || Object.keys(obj.shape).length === 0;\n\t\t}\n\t\tif (def.typeName === \"ZodRecord\") return true;\n\t}\n\tif (isZodSchemaV4(schema)) {\n\t\tconst def = schema._zod.def;\n\t\tif (def.type === \"object\") {\n\t\t\tconst obj = schema;\n\t\t\treturn !obj.shape || Object.keys(obj.shape).length === 0;\n\t\t}\n\t\tif (def.type === \"record\") return true;\n\t}\n\tif (typeof schema === \"object\" && schema !== null && !(\"shape\" in schema)) return true;\n\treturn false;\n}\n/**\n* Determines if the provided Zod schema should be treated as a simple string schema\n* that maps to DynamicTool. This aligns with the type-level constraint of\n* InteropZodType<string | undefined> which only matches basic string schemas.\n* If the provided schema is just z.string(), we can make the determination that\n* the tool is just a generic string tool that doesn't require any input validation.\n*\n* This function only returns true for basic ZodString schemas, including:\n* - Basic string schemas (z.string())\n* - String schemas with validations (z.string().min(1), z.string().email(), etc.)\n*\n* This function returns false for everything else, including:\n* - String schemas with defaults (z.string().default(\"value\"))\n* - Branded string schemas (z.string().brand<\"UserId\">())\n* - String schemas with catch operations (z.string().catch(\"default\"))\n* - Optional/nullable string schemas (z.string().optional())\n* - Transformed schemas (z.string().transform() or z.object().transform())\n* - Object or record schemas, even if they're empty\n* - Any other schema type\n*\n* @param schema The Zod schema to check.\n* @returns {boolean} True if the schema is a basic ZodString, false otherwise.\n*/\nfunction isSimpleStringZodSchema(schema) {\n\tif (!isInteropZodSchema(schema)) return false;\n\tif (isZodSchemaV3(schema)) {\n\t\tconst def = schema._def;\n\t\treturn def.typeName === \"ZodString\";\n\t}\n\tif (isZodSchemaV4(schema)) {\n\t\tconst def = schema._zod.def;\n\t\treturn def.type === \"string\";\n\t}\n\treturn false;\n}\nfunction isZodObjectV3(obj) {\n\tif (typeof obj === \"object\" && obj !== null && \"_def\" in obj && typeof obj._def === \"object\" && obj._def !== null && \"typeName\" in obj._def && obj._def.typeName === \"ZodObject\") return true;\n\treturn false;\n}\nfunction isZodObjectV4(obj) {\n\tif (!isZodSchemaV4(obj)) return false;\n\tif (typeof obj === \"object\" && obj !== null && \"_zod\" in obj && typeof obj._zod === \"object\" && obj._zod !== null && \"def\" in obj._zod && typeof obj._zod.def === \"object\" && obj._zod.def !== null && \"type\" in obj._zod.def && obj._zod.def.type === \"object\") return true;\n\treturn false;\n}\nfunction isZodArrayV4(obj) {\n\tif (!isZodSchemaV4(obj)) return false;\n\tif (typeof obj === \"object\" && obj !== null && \"_zod\" in obj && typeof obj._zod === \"object\" && obj._zod !== null && \"def\" in obj._zod && typeof obj._zod.def === \"object\" && obj._zod.def !== null && \"type\" in obj._zod.def && obj._zod.def.type === \"array\") return true;\n\treturn false;\n}\n/**\n* Determines if the provided value is an InteropZodObject (Zod v3 or v4 object schema).\n*\n* @param obj The value to check.\n* @returns {boolean} True if the value is a Zod v3 or v4 object schema, false otherwise.\n*/\nfunction isInteropZodObject(obj) {\n\tif (isZodObjectV3(obj)) return true;\n\tif (isZodObjectV4(obj)) return true;\n\treturn false;\n}\n/**\n* Retrieves the shape (fields) of a Zod object schema, supporting both Zod v3 and v4.\n*\n* @template T - The type of the Zod object schema.\n* @param {T} schema - The Zod object schema instance (either v3 or v4).\n* @returns {InteropZodObjectShape<T>} The shape of the object schema.\n* @throws {Error} If the schema is not a Zod v3 or v4 object.\n*/\nfunction getInteropZodObjectShape(schema) {\n\tif (isZodSchemaV3(schema)) return schema.shape;\n\tif (isZodSchemaV4(schema)) return schema._zod.def.shape;\n\tthrow new Error(\"Schema must be an instance of z3.ZodObject or z4.$ZodObject\");\n}\n/**\n* Extends a Zod object schema with additional fields, supporting both Zod v3 and v4.\n*\n* @template T - The type of the Zod object schema.\n* @param {T} schema - The Zod object schema instance (either v3 or v4).\n* @param {InteropZodObjectShape} extension - The fields to add to the schema.\n* @returns {InteropZodObject} The extended Zod object schema.\n* @throws {Error} If the schema is not a Zod v3 or v4 object.\n*/\nfunction extendInteropZodObject(schema, extension) {\n\tif (isZodSchemaV3(schema)) return schema.extend(extension);\n\tif (isZodSchemaV4(schema)) return zod_v4_core__WEBPACK_IMPORTED_MODULE_2__.extend(schema, extension);\n\tthrow new Error(\"Schema must be an instance of z3.ZodObject or z4.$ZodObject\");\n}\n/**\n* Returns a partial version of a Zod object schema, making all fields optional.\n* Supports both Zod v3 and v4.\n*\n* @template T - The type of the Zod object schema.\n* @param {T} schema - The Zod object schema instance (either v3 or v4).\n* @returns {InteropZodObject} The partial Zod object schema.\n* @throws {Error} If the schema is not a Zod v3 or v4 object.\n*/\nfunction interopZodObjectPartial(schema) {\n\tif (isZodSchemaV3(schema)) return schema.partial();\n\tif (isZodSchemaV4(schema)) return zod_v4_core__WEBPACK_IMPORTED_MODULE_2__.partial(zod_v4_core__WEBPACK_IMPORTED_MODULE_3__.$ZodOptional, schema, void 0);\n\tthrow new Error(\"Schema must be an instance of z3.ZodObject or z4.$ZodObject\");\n}\n/**\n* Returns a strict version of a Zod object schema, disallowing unknown keys.\n* Supports both Zod v3 and v4 object schemas. If `recursive` is true, applies strictness\n* recursively to all nested object schemas and arrays of object schemas.\n*\n* @template T - The type of the Zod object schema.\n* @param {T} schema - The Zod object schema instance (either v3 or v4).\n* @param {boolean} [recursive=false] - Whether to apply strictness recursively to nested objects/arrays.\n* @returns {InteropZodObject} The strict Zod object schema.\n* @throws {Error} If the schema is not a Zod v3 or v4 object.\n*/\nfunction interopZodObjectStrict(schema, recursive = false) {\n\tif (isZodSchemaV3(schema)) return schema.strict();\n\tif (isZodObjectV4(schema)) {\n\t\tconst outputShape = schema._zod.def.shape;\n\t\tif (recursive) for (const [key, keySchema] of Object.entries(schema._zod.def.shape)) {\n\t\t\tif (isZodObjectV4(keySchema)) {\n\t\t\t\tconst outputSchema = interopZodObjectStrict(keySchema, recursive);\n\t\t\t\toutputShape[key] = outputSchema;\n\t\t\t} else if (isZodArrayV4(keySchema)) {\n\t\t\t\tlet elementSchema = keySchema._zod.def.element;\n\t\t\t\tif (isZodObjectV4(elementSchema)) elementSchema = interopZodObjectStrict(elementSchema, recursive);\n\t\t\t\toutputShape[key] = (0,zod_v4_core__WEBPACK_IMPORTED_MODULE_2__.clone)(keySchema, {\n\t\t\t\t\t...keySchema._zod.def,\n\t\t\t\t\telement: elementSchema\n\t\t\t\t});\n\t\t\t} else outputShape[key] = keySchema;\n\t\t\tconst meta$1 = zod_v4_core__WEBPACK_IMPORTED_MODULE_1__.globalRegistry.get(keySchema);\n\t\t\tif (meta$1) zod_v4_core__WEBPACK_IMPORTED_MODULE_1__.globalRegistry.add(outputShape[key], meta$1);\n\t\t}\n\t\tconst modifiedSchema = (0,zod_v4_core__WEBPACK_IMPORTED_MODULE_2__.clone)(schema, {\n\t\t\t...schema._zod.def,\n\t\t\tshape: outputShape,\n\t\t\tcatchall: (0,zod_v4_core__WEBPACK_IMPORTED_MODULE_4__._never)(zod_v4_core__WEBPACK_IMPORTED_MODULE_3__.$ZodNever)\n\t\t});\n\t\tconst meta = zod_v4_core__WEBPACK_IMPORTED_MODULE_1__.globalRegistry.get(schema);\n\t\tif (meta) zod_v4_core__WEBPACK_IMPORTED_MODULE_1__.globalRegistry.add(modifiedSchema, meta);\n\t\treturn modifiedSchema;\n\t}\n\tthrow new Error(\"Schema must be an instance of z3.ZodObject or z4.$ZodObject\");\n}\n/**\n* Returns a passthrough version of a Zod object schema, allowing unknown keys.\n* Supports both Zod v3 and v4 object schemas. If `recursive` is true, applies passthrough\n* recursively to all nested object schemas and arrays of object schemas.\n*\n* @template T - The type of the Zod object schema.\n* @param {T} schema - The Zod object schema instance (either v3 or v4).\n* @param {boolean} [recursive=false] - Whether to apply passthrough recursively to nested objects/arrays.\n* @returns {InteropZodObject} The passthrough Zod object schema.\n* @throws {Error} If the schema is not a Zod v3 or v4 object.\n*/\nfunction interopZodObjectPassthrough(schema, recursive = false) {\n\tif (isZodObjectV3(schema)) return schema.passthrough();\n\tif (isZodObjectV4(schema)) {\n\t\tconst outputShape = schema._zod.def.shape;\n\t\tif (recursive) for (const [key, keySchema] of Object.entries(schema._zod.def.shape)) {\n\t\t\tif (isZodObjectV4(keySchema)) {\n\t\t\t\tconst outputSchema = interopZodObjectPassthrough(keySchema, recursive);\n\t\t\t\toutputShape[key] = outputSchema;\n\t\t\t} else if (isZodArrayV4(keySchema)) {\n\t\t\t\tlet elementSchema = keySchema._zod.def.element;\n\t\t\t\tif (isZodObjectV4(elementSchema)) elementSchema = interopZodObjectPassthrough(elementSchema, recursive);\n\t\t\t\toutputShape[key] = (0,zod_v4_core__WEBPACK_IMPORTED_MODULE_2__.clone)(keySchema, {\n\t\t\t\t\t...keySchema._zod.def,\n\t\t\t\t\telement: elementSchema\n\t\t\t\t});\n\t\t\t} else outputShape[key] = keySchema;\n\t\t\tconst meta$1 = zod_v4_core__WEBPACK_IMPORTED_MODULE_1__.globalRegistry.get(keySchema);\n\t\t\tif (meta$1) zod_v4_core__WEBPACK_IMPORTED_MODULE_1__.globalRegistry.add(outputShape[key], meta$1);\n\t\t}\n\t\tconst modifiedSchema = (0,zod_v4_core__WEBPACK_IMPORTED_MODULE_2__.clone)(schema, {\n\t\t\t...schema._zod.def,\n\t\t\tshape: outputShape,\n\t\t\tcatchall: (0,zod_v4_core__WEBPACK_IMPORTED_MODULE_4__._unknown)(zod_v4_core__WEBPACK_IMPORTED_MODULE_3__.$ZodUnknown)\n\t\t});\n\t\tconst meta = zod_v4_core__WEBPACK_IMPORTED_MODULE_1__.globalRegistry.get(schema);\n\t\tif (meta) zod_v4_core__WEBPACK_IMPORTED_MODULE_1__.globalRegistry.add(modifiedSchema, meta);\n\t\treturn modifiedSchema;\n\t}\n\tthrow new Error(\"Schema must be an instance of z3.ZodObject or z4.$ZodObject\");\n}\n/**\n* Returns a getter function for the default value of a Zod schema, if one is defined.\n* Supports both Zod v3 and v4 schemas. If the schema has a default value,\n* the returned function will return that value when called. If no default is defined,\n* returns undefined.\n*\n* @template T - The type of the Zod schema.\n* @param {T} schema - The Zod schema instance (either v3 or v4).\n* @returns {(() => InferInteropZodOutput<T>) | undefined} A function that returns the default value, or undefined if no default is set.\n*/\nfunction getInteropZodDefaultGetter(schema) {\n\tif (isZodSchemaV3(schema)) try {\n\t\tconst defaultValue = schema.parse(void 0);\n\t\treturn () => defaultValue;\n\t} catch {\n\t\treturn void 0;\n\t}\n\tif (isZodSchemaV4(schema)) try {\n\t\tconst defaultValue = (0,zod_v4_core__WEBPACK_IMPORTED_MODULE_0__.parse)(schema, void 0);\n\t\treturn () => defaultValue;\n\t} catch {\n\t\treturn void 0;\n\t}\n\treturn void 0;\n}\nfunction isZodTransformV3(schema) {\n\treturn isZodSchemaV3(schema) && \"typeName\" in schema._def && schema._def.typeName === \"ZodEffects\";\n}\nfunction isZodTransformV4(schema) {\n\treturn isZodSchemaV4(schema) && schema._zod.def.type === \"pipe\";\n}\n/**\n* Returns the input type of a Zod transform schema, for both v3 and v4.\n* If the schema is not a transform, returns undefined. If `recursive` is true,\n* recursively processes nested object schemas and arrays of object schemas.\n*\n* @param schema - The Zod schema instance (v3 or v4)\n* @param {boolean} [recursive=false] - Whether to recursively process nested objects/arrays.\n* @returns The input Zod schema of the transform, or undefined if not a transform\n*/\nfunction interopZodTransformInputSchema(schema, recursive = false) {\n\tif (isZodSchemaV3(schema)) {\n\t\tif (isZodTransformV3(schema)) return interopZodTransformInputSchema(schema._def.schema, recursive);\n\t\treturn schema;\n\t}\n\tif (isZodSchemaV4(schema)) {\n\t\tlet outputSchema = schema;\n\t\tif (isZodTransformV4(schema)) outputSchema = interopZodTransformInputSchema(schema._zod.def.in, recursive);\n\t\tif (recursive) {\n\t\t\tif (isZodObjectV4(outputSchema)) {\n\t\t\t\tconst outputShape = outputSchema._zod.def.shape;\n\t\t\t\tfor (const [key, keySchema] of Object.entries(outputSchema._zod.def.shape)) outputShape[key] = interopZodTransformInputSchema(keySchema, recursive);\n\t\t\t\toutputSchema = (0,zod_v4_core__WEBPACK_IMPORTED_MODULE_2__.clone)(outputSchema, {\n\t\t\t\t\t...outputSchema._zod.def,\n\t\t\t\t\tshape: outputShape\n\t\t\t\t});\n\t\t\t} else if (isZodArrayV4(outputSchema)) {\n\t\t\t\tconst elementSchema = interopZodTransformInputSchema(outputSchema._zod.def.element, recursive);\n\t\t\t\toutputSchema = (0,zod_v4_core__WEBPACK_IMPORTED_MODULE_2__.clone)(outputSchema, {\n\t\t\t\t\t...outputSchema._zod.def,\n\t\t\t\t\telement: elementSchema\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tconst meta = zod_v4_core__WEBPACK_IMPORTED_MODULE_1__.globalRegistry.get(schema);\n\t\tif (meta) zod_v4_core__WEBPACK_IMPORTED_MODULE_1__.globalRegistry.add(outputSchema, meta);\n\t\treturn outputSchema;\n\t}\n\tthrow new Error(\"Schema must be an instance of z3.ZodType or z4.$ZodType\");\n}\n/**\n* Creates a modified version of a Zod object schema where fields matching a predicate are made optional.\n* Supports both Zod v3 and v4 schemas and preserves the original schema version.\n*\n* @template T - The type of the Zod object schema.\n* @param {T} schema - The Zod object schema instance (either v3 or v4).\n* @param {(key: string, value: InteropZodType) => boolean} predicate - Function to determine which fields should be optional.\n* @returns {InteropZodObject} The modified Zod object schema.\n* @throws {Error} If the schema is not a Zod v3 or v4 object.\n*/\nfunction interopZodObjectMakeFieldsOptional(schema, predicate) {\n\tif (isZodSchemaV3(schema)) {\n\t\tconst shape = getInteropZodObjectShape(schema);\n\t\tconst modifiedShape = {};\n\t\tfor (const [key, value] of Object.entries(shape)) if (predicate(key, value)) modifiedShape[key] = value.optional();\n\t\telse modifiedShape[key] = value;\n\t\treturn schema.extend(modifiedShape);\n\t}\n\tif (isZodSchemaV4(schema)) {\n\t\tconst shape = getInteropZodObjectShape(schema);\n\t\tconst outputShape = { ...schema._zod.def.shape };\n\t\tfor (const [key, value] of Object.entries(shape)) if (predicate(key, value)) outputShape[key] = new zod_v4_core__WEBPACK_IMPORTED_MODULE_3__.$ZodOptional({\n\t\t\ttype: \"optional\",\n\t\t\tinnerType: value\n\t\t});\n\t\tconst modifiedSchema = (0,zod_v4_core__WEBPACK_IMPORTED_MODULE_2__.clone)(schema, {\n\t\t\t...schema._zod.def,\n\t\t\tshape: outputShape\n\t\t});\n\t\tconst meta = zod_v4_core__WEBPACK_IMPORTED_MODULE_1__.globalRegistry.get(schema);\n\t\tif (meta) zod_v4_core__WEBPACK_IMPORTED_MODULE_1__.globalRegistry.add(modifiedSchema, meta);\n\t\treturn modifiedSchema;\n\t}\n\tthrow new Error(\"Schema must be an instance of z3.ZodObject or z4.$ZodObject\");\n}\n\n//#endregion\n\n//# sourceMappingURL=zod.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy90eXBlcy96b2QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFxSTs7QUFFckk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsU0FBUztBQUNuQixZQUFZLFNBQVM7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxTQUFTO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLG1CQUFtQjtBQUM3QixVQUFVLFNBQVM7QUFDbkIsWUFBWSx1Q0FBdUM7QUFDbkQsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQix1REFBVTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsbUJBQW1CO0FBQzdCLFVBQVUsU0FBUztBQUNuQixZQUFZLFlBQVk7QUFDeEIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQSx5Q0FBeUMsdURBQVU7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsbUJBQW1CO0FBQzdCLFVBQVUsU0FBUztBQUNuQixZQUFZLDhCQUE4QjtBQUMxQztBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQSxlQUFlLGtEQUFLO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxtQkFBbUI7QUFDN0IsVUFBVSxTQUFTO0FBQ25CLFlBQVksR0FBRztBQUNmLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0EsbUNBQW1DLGtEQUFLO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsU0FBUztBQUNuQixZQUFZLG9CQUFvQjtBQUNoQztBQUNBO0FBQ0EsbUNBQW1DLHVEQUFjO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxTQUFTO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxTQUFTO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxTQUFTO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxHQUFHO0FBQ2IsWUFBWSwwQkFBMEI7QUFDdEMsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxHQUFHO0FBQ2IsVUFBVSx1QkFBdUI7QUFDakMsWUFBWSxrQkFBa0I7QUFDOUIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQywrQ0FBVztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsR0FBRztBQUNiLFlBQVksa0JBQWtCO0FBQzlCLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsZ0RBQVksQ0FBQyxxREFBWTtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxHQUFHO0FBQ2IsVUFBVSxTQUFTO0FBQ25CLFlBQVksa0JBQWtCO0FBQzlCLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLHVCQUF1QixrREFBSztBQUM1QjtBQUNBO0FBQ0EsS0FBSztBQUNMLEtBQUs7QUFDTCxrQkFBa0IsdURBQWM7QUFDaEMsZUFBZSx1REFBYztBQUM3QjtBQUNBLHlCQUF5QixrREFBSztBQUM5QjtBQUNBO0FBQ0EsYUFBYSxtREFBTSxDQUFDLGtEQUFTO0FBQzdCLEdBQUc7QUFDSCxlQUFlLHVEQUFjO0FBQzdCLFlBQVksdURBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLEdBQUc7QUFDYixVQUFVLFNBQVM7QUFDbkIsWUFBWSxrQkFBa0I7QUFDOUIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsdUJBQXVCLGtEQUFLO0FBQzVCO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsS0FBSztBQUNMLGtCQUFrQix1REFBYztBQUNoQyxlQUFlLHVEQUFjO0FBQzdCO0FBQ0EseUJBQXlCLGtEQUFLO0FBQzlCO0FBQ0E7QUFDQSxhQUFhLHFEQUFRLENBQUMsb0RBQVc7QUFDakMsR0FBRztBQUNILGVBQWUsdURBQWM7QUFDN0IsWUFBWSx1REFBYztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxHQUFHO0FBQ2IsWUFBWSw4Q0FBOEM7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsa0RBQUs7QUFDNUI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLFNBQVM7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixrREFBSztBQUN4QjtBQUNBO0FBQ0EsS0FBSztBQUNMLEtBQUs7QUFDTDtBQUNBLG1CQUFtQixrREFBSztBQUN4QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxlQUFlLHVEQUFjO0FBQzdCLFlBQVksdURBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxHQUFHO0FBQ2IsVUFBVSxpREFBaUQ7QUFDM0QsWUFBWSxrQkFBa0I7QUFDOUIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEIsc0dBQXNHLHFEQUFZO0FBQ2xIO0FBQ0E7QUFDQSxHQUFHO0FBQ0gseUJBQXlCLGtEQUFLO0FBQzlCO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsZUFBZSx1REFBYztBQUM3QixZQUFZLHVEQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQzZpQjtBQUM3aUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3R5cGVzL3pvZC5qcz9iNDg4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7ICRab2ROZXZlciwgJFpvZE9wdGlvbmFsLCAkWm9kVW5rbm93biwgX25ldmVyLCBfdW5rbm93biwgY2xvbmUsIGdsb2JhbFJlZ2lzdHJ5LCBwYXJzZSwgcGFyc2VBc3luYywgdXRpbCB9IGZyb20gXCJ6b2QvdjQvY29yZVwiO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL3R5cGVzL3pvZC50c1xuZnVuY3Rpb24gaXNab2RTY2hlbWFWNChzY2hlbWEpIHtcblx0aWYgKHR5cGVvZiBzY2hlbWEgIT09IFwib2JqZWN0XCIgfHwgc2NoZW1hID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cdGNvbnN0IG9iaiA9IHNjaGVtYTtcblx0aWYgKCEoXCJfem9kXCIgaW4gb2JqKSkgcmV0dXJuIGZhbHNlO1xuXHRjb25zdCB6b2QgPSBvYmouX3pvZDtcblx0cmV0dXJuIHR5cGVvZiB6b2QgPT09IFwib2JqZWN0XCIgJiYgem9kICE9PSBudWxsICYmIFwiZGVmXCIgaW4gem9kO1xufVxuZnVuY3Rpb24gaXNab2RTY2hlbWFWMyhzY2hlbWEpIHtcblx0aWYgKHR5cGVvZiBzY2hlbWEgIT09IFwib2JqZWN0XCIgfHwgc2NoZW1hID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cdGNvbnN0IG9iaiA9IHNjaGVtYTtcblx0aWYgKCEoXCJfZGVmXCIgaW4gb2JqKSB8fCBcIl96b2RcIiBpbiBvYmopIHJldHVybiBmYWxzZTtcblx0Y29uc3QgZGVmID0gb2JqLl9kZWY7XG5cdHJldHVybiB0eXBlb2YgZGVmID09PSBcIm9iamVjdFwiICYmIGRlZiAhPSBudWxsICYmIFwidHlwZU5hbWVcIiBpbiBkZWY7XG59XG4vKiogQmFja3dhcmQgY29tcGF0aWJsZSBpc1pvZFNjaGVtYSBmb3IgWm9kIDMgKi9cbmZ1bmN0aW9uIGlzWm9kU2NoZW1hKHNjaGVtYSkge1xuXHRpZiAoaXNab2RTY2hlbWFWNChzY2hlbWEpKSBjb25zb2xlLndhcm4oXCJbV0FSTklOR10gQXR0ZW1wdGluZyB0byB1c2UgWm9kIDQgc2NoZW1hIGluIGEgY29udGV4dCB3aGVyZSBab2QgMyBzY2hlbWEgaXMgZXhwZWN0ZWQuIFRoaXMgbWF5IGNhdXNlIHVuZXhwZWN0ZWQgYmVoYXZpb3IuXCIpO1xuXHRyZXR1cm4gaXNab2RTY2hlbWFWMyhzY2hlbWEpO1xufVxuLyoqXG4qIEdpdmVuIGVpdGhlciBhIFpvZCBzY2hlbWEsIG9yIHBsYWluIG9iamVjdCwgZGV0ZXJtaW5lIGlmIHRoZSBpbnB1dCBpcyBhIFpvZCBzY2hlbWEuXG4qXG4qIEBwYXJhbSB7dW5rbm93bn0gaW5wdXRcbiogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBwcm92aWRlZCBpbnB1dCBpcyBhIFpvZCBzY2hlbWEuXG4qL1xuZnVuY3Rpb24gaXNJbnRlcm9wWm9kU2NoZW1hKGlucHV0KSB7XG5cdGlmICghaW5wdXQpIHJldHVybiBmYWxzZTtcblx0aWYgKHR5cGVvZiBpbnB1dCAhPT0gXCJvYmplY3RcIikgcmV0dXJuIGZhbHNlO1xuXHRpZiAoQXJyYXkuaXNBcnJheShpbnB1dCkpIHJldHVybiBmYWxzZTtcblx0aWYgKGlzWm9kU2NoZW1hVjQoaW5wdXQpIHx8IGlzWm9kU2NoZW1hVjMoaW5wdXQpKSByZXR1cm4gdHJ1ZTtcblx0cmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gaXNab2RMaXRlcmFsVjMob2JqKSB7XG5cdGlmICh0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiICYmIG9iaiAhPT0gbnVsbCAmJiBcIl9kZWZcIiBpbiBvYmogJiYgdHlwZW9mIG9iai5fZGVmID09PSBcIm9iamVjdFwiICYmIG9iai5fZGVmICE9PSBudWxsICYmIFwidHlwZU5hbWVcIiBpbiBvYmouX2RlZiAmJiBvYmouX2RlZi50eXBlTmFtZSA9PT0gXCJab2RMaXRlcmFsXCIpIHJldHVybiB0cnVlO1xuXHRyZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBpc1pvZExpdGVyYWxWNChvYmopIHtcblx0aWYgKCFpc1pvZFNjaGVtYVY0KG9iaikpIHJldHVybiBmYWxzZTtcblx0aWYgKHR5cGVvZiBvYmogPT09IFwib2JqZWN0XCIgJiYgb2JqICE9PSBudWxsICYmIFwiX3pvZFwiIGluIG9iaiAmJiB0eXBlb2Ygb2JqLl96b2QgPT09IFwib2JqZWN0XCIgJiYgb2JqLl96b2QgIT09IG51bGwgJiYgXCJkZWZcIiBpbiBvYmouX3pvZCAmJiB0eXBlb2Ygb2JqLl96b2QuZGVmID09PSBcIm9iamVjdFwiICYmIG9iai5fem9kLmRlZiAhPT0gbnVsbCAmJiBcInR5cGVcIiBpbiBvYmouX3pvZC5kZWYgJiYgb2JqLl96b2QuZGVmLnR5cGUgPT09IFwibGl0ZXJhbFwiKSByZXR1cm4gdHJ1ZTtcblx0cmV0dXJuIGZhbHNlO1xufVxuLyoqXG4qIERldGVybWluZXMgaWYgdGhlIHByb3ZpZGVkIHZhbHVlIGlzIGFuIEludGVyb3Bab2RMaXRlcmFsIChab2QgdjMgb3IgdjQgbGl0ZXJhbCBzY2hlbWEpLlxuKlxuKiBAcGFyYW0gb2JqIFRoZSB2YWx1ZSB0byBjaGVjay5cbiogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHZhbHVlIGlzIGEgWm9kIHYzIG9yIHY0IGxpdGVyYWwgc2NoZW1hLCBmYWxzZSBvdGhlcndpc2UuXG4qL1xuZnVuY3Rpb24gaXNJbnRlcm9wWm9kTGl0ZXJhbChvYmopIHtcblx0aWYgKGlzWm9kTGl0ZXJhbFYzKG9iaikpIHJldHVybiB0cnVlO1xuXHRpZiAoaXNab2RMaXRlcmFsVjQob2JqKSkgcmV0dXJuIHRydWU7XG5cdHJldHVybiBmYWxzZTtcbn1cbi8qKlxuKiBBc3luY2hyb25vdXNseSBwYXJzZXMgdGhlIGlucHV0IHVzaW5nIHRoZSBwcm92aWRlZCBab2Qgc2NoZW1hICh2MyBvciB2NCkgYW5kIHJldHVybnMgYSBzYWZlIHBhcnNlIHJlc3VsdC5cbiogVGhpcyBmdW5jdGlvbiBoYW5kbGVzIGJvdGggWm9kIHYzIGFuZCB2NCBzY2hlbWFzLCByZXR1cm5pbmcgYSByZXN1bHQgb2JqZWN0IGluZGljYXRpbmcgc3VjY2VzcyBvciBmYWlsdXJlLlxuKlxuKiBAdGVtcGxhdGUgVCAtIFRoZSBleHBlY3RlZCBvdXRwdXQgdHlwZSBvZiB0aGUgc2NoZW1hLlxuKiBAcGFyYW0ge0ludGVyb3Bab2RUeXBlPFQ+fSBzY2hlbWEgLSBUaGUgWm9kIHNjaGVtYSAodjMgb3IgdjQpIHRvIHVzZSBmb3IgcGFyc2luZy5cbiogQHBhcmFtIHt1bmtub3dufSBpbnB1dCAtIFRoZSBpbnB1dCB2YWx1ZSB0byBwYXJzZS5cbiogQHJldHVybnMge1Byb21pc2U8SW50ZXJvcFpvZFNhZmVQYXJzZVJlc3VsdDxUPj59IEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGEgc2FmZSBwYXJzZSByZXN1bHQgb2JqZWN0LlxuKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHNjaGVtYSBpcyBub3QgYSByZWNvZ25pemVkIFpvZCB2MyBvciB2NCBzY2hlbWEuXG4qL1xuYXN5bmMgZnVuY3Rpb24gaW50ZXJvcFNhZmVQYXJzZUFzeW5jKHNjaGVtYSwgaW5wdXQpIHtcblx0aWYgKGlzWm9kU2NoZW1hVjQoc2NoZW1hKSkgdHJ5IHtcblx0XHRjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VBc3luYyhzY2hlbWEsIGlucHV0KTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdGRhdGFcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yXG5cdFx0fTtcblx0fVxuXHRpZiAoaXNab2RTY2hlbWFWMyhzY2hlbWEpKSByZXR1cm4gYXdhaXQgc2NoZW1hLnNhZmVQYXJzZUFzeW5jKGlucHV0KTtcblx0dGhyb3cgbmV3IEVycm9yKFwiU2NoZW1hIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgejMuWm9kVHlwZSBvciB6NC4kWm9kVHlwZVwiKTtcbn1cbi8qKlxuKiBBc3luY2hyb25vdXNseSBwYXJzZXMgdGhlIGlucHV0IHVzaW5nIHRoZSBwcm92aWRlZCBab2Qgc2NoZW1hICh2MyBvciB2NCkgYW5kIHJldHVybnMgdGhlIHBhcnNlZCB2YWx1ZS5cbiogVGhyb3dzIGFuIGVycm9yIGlmIHBhcnNpbmcgZmFpbHMgb3IgaWYgdGhlIHNjaGVtYSBpcyBub3QgYSByZWNvZ25pemVkIFpvZCB2MyBvciB2NCBzY2hlbWEuXG4qXG4qIEB0ZW1wbGF0ZSBUIC0gVGhlIGV4cGVjdGVkIG91dHB1dCB0eXBlIG9mIHRoZSBzY2hlbWEuXG4qIEBwYXJhbSB7SW50ZXJvcFpvZFR5cGU8VD59IHNjaGVtYSAtIFRoZSBab2Qgc2NoZW1hICh2MyBvciB2NCkgdG8gdXNlIGZvciBwYXJzaW5nLlxuKiBAcGFyYW0ge3Vua25vd259IGlucHV0IC0gVGhlIGlucHV0IHZhbHVlIHRvIHBhcnNlLlxuKiBAcmV0dXJucyB7UHJvbWlzZTxUPn0gQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIHBhcnNlZCB2YWx1ZS5cbiogQHRocm93cyB7RXJyb3J9IElmIHBhcnNpbmcgZmFpbHMgb3IgdGhlIHNjaGVtYSBpcyBub3QgYSByZWNvZ25pemVkIFpvZCB2MyBvciB2NCBzY2hlbWEuXG4qL1xuYXN5bmMgZnVuY3Rpb24gaW50ZXJvcFBhcnNlQXN5bmMoc2NoZW1hLCBpbnB1dCkge1xuXHRpZiAoaXNab2RTY2hlbWFWNChzY2hlbWEpKSByZXR1cm4gYXdhaXQgcGFyc2VBc3luYyhzY2hlbWEsIGlucHV0KTtcblx0aWYgKGlzWm9kU2NoZW1hVjMoc2NoZW1hKSkgcmV0dXJuIGF3YWl0IHNjaGVtYS5wYXJzZUFzeW5jKGlucHV0KTtcblx0dGhyb3cgbmV3IEVycm9yKFwiU2NoZW1hIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgejMuWm9kVHlwZSBvciB6NC4kWm9kVHlwZVwiKTtcbn1cbi8qKlxuKiBTYWZlbHkgcGFyc2VzIHRoZSBpbnB1dCB1c2luZyB0aGUgcHJvdmlkZWQgWm9kIHNjaGVtYSAodjMgb3IgdjQpIGFuZCByZXR1cm5zIGEgcmVzdWx0IG9iamVjdFxuKiBpbmRpY2F0aW5nIHN1Y2Nlc3Mgb3IgZmFpbHVyZS4gVGhpcyBmdW5jdGlvbiBpcyBjb21wYXRpYmxlIHdpdGggYm90aCBab2QgdjMgYW5kIHY0IHNjaGVtYXMuXG4qXG4qIEB0ZW1wbGF0ZSBUIC0gVGhlIGV4cGVjdGVkIG91dHB1dCB0eXBlIG9mIHRoZSBzY2hlbWEuXG4qIEBwYXJhbSB7SW50ZXJvcFpvZFR5cGU8VD59IHNjaGVtYSAtIFRoZSBab2Qgc2NoZW1hICh2MyBvciB2NCkgdG8gdXNlIGZvciBwYXJzaW5nLlxuKiBAcGFyYW0ge3Vua25vd259IGlucHV0IC0gVGhlIGlucHV0IHZhbHVlIHRvIHBhcnNlLlxuKiBAcmV0dXJucyB7SW50ZXJvcFpvZFNhZmVQYXJzZVJlc3VsdDxUPn0gQW4gb2JqZWN0IHdpdGggZWl0aGVyIHRoZSBwYXJzZWQgZGF0YSAob24gc3VjY2VzcylcbiogICBvciB0aGUgZXJyb3IgKG9uIGZhaWx1cmUpLlxuKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHNjaGVtYSBpcyBub3QgYSByZWNvZ25pemVkIFpvZCB2MyBvciB2NCBzY2hlbWEuXG4qL1xuZnVuY3Rpb24gaW50ZXJvcFNhZmVQYXJzZShzY2hlbWEsIGlucHV0KSB7XG5cdGlmIChpc1pvZFNjaGVtYVY0KHNjaGVtYSkpIHRyeSB7XG5cdFx0Y29uc3QgZGF0YSA9IHBhcnNlKHNjaGVtYSwgaW5wdXQpO1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0ZGF0YVxuXHRcdH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3Jcblx0XHR9O1xuXHR9XG5cdGlmIChpc1pvZFNjaGVtYVYzKHNjaGVtYSkpIHJldHVybiBzY2hlbWEuc2FmZVBhcnNlKGlucHV0KTtcblx0dGhyb3cgbmV3IEVycm9yKFwiU2NoZW1hIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgejMuWm9kVHlwZSBvciB6NC4kWm9kVHlwZVwiKTtcbn1cbi8qKlxuKiBQYXJzZXMgdGhlIGlucHV0IHVzaW5nIHRoZSBwcm92aWRlZCBab2Qgc2NoZW1hICh2MyBvciB2NCkgYW5kIHJldHVybnMgdGhlIHBhcnNlZCB2YWx1ZS5cbiogVGhyb3dzIGFuIGVycm9yIGlmIHBhcnNpbmcgZmFpbHMgb3IgaWYgdGhlIHNjaGVtYSBpcyBub3QgYSByZWNvZ25pemVkIFpvZCB2MyBvciB2NCBzY2hlbWEuXG4qXG4qIEB0ZW1wbGF0ZSBUIC0gVGhlIGV4cGVjdGVkIG91dHB1dCB0eXBlIG9mIHRoZSBzY2hlbWEuXG4qIEBwYXJhbSB7SW50ZXJvcFpvZFR5cGU8VD59IHNjaGVtYSAtIFRoZSBab2Qgc2NoZW1hICh2MyBvciB2NCkgdG8gdXNlIGZvciBwYXJzaW5nLlxuKiBAcGFyYW0ge3Vua25vd259IGlucHV0IC0gVGhlIGlucHV0IHZhbHVlIHRvIHBhcnNlLlxuKiBAcmV0dXJucyB7VH0gVGhlIHBhcnNlZCB2YWx1ZS5cbiogQHRocm93cyB7RXJyb3J9IElmIHBhcnNpbmcgZmFpbHMgb3IgdGhlIHNjaGVtYSBpcyBub3QgYSByZWNvZ25pemVkIFpvZCB2MyBvciB2NCBzY2hlbWEuXG4qL1xuZnVuY3Rpb24gaW50ZXJvcFBhcnNlKHNjaGVtYSwgaW5wdXQpIHtcblx0aWYgKGlzWm9kU2NoZW1hVjQoc2NoZW1hKSkgcmV0dXJuIHBhcnNlKHNjaGVtYSwgaW5wdXQpO1xuXHRpZiAoaXNab2RTY2hlbWFWMyhzY2hlbWEpKSByZXR1cm4gc2NoZW1hLnBhcnNlKGlucHV0KTtcblx0dGhyb3cgbmV3IEVycm9yKFwiU2NoZW1hIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgejMuWm9kVHlwZSBvciB6NC4kWm9kVHlwZVwiKTtcbn1cbi8qKlxuKiBSZXRyaWV2ZXMgdGhlIGRlc2NyaXB0aW9uIGZyb20gYSBzY2hlbWEgZGVmaW5pdGlvbiAodjMsIHY0LCBvciBwbGFpbiBvYmplY3QpLCBpZiBhdmFpbGFibGUuXG4qXG4qIEBwYXJhbSB7dW5rbm93bn0gc2NoZW1hIC0gVGhlIHNjaGVtYSB0byBleHRyYWN0IHRoZSBkZXNjcmlwdGlvbiBmcm9tLlxuKiBAcmV0dXJucyB7c3RyaW5nIHwgdW5kZWZpbmVkfSBUaGUgZGVzY3JpcHRpb24gb2YgdGhlIHNjaGVtYSwgb3IgdW5kZWZpbmVkIGlmIG5vdCBwcmVzZW50LlxuKi9cbmZ1bmN0aW9uIGdldFNjaGVtYURlc2NyaXB0aW9uKHNjaGVtYSkge1xuXHRpZiAoaXNab2RTY2hlbWFWNChzY2hlbWEpKSByZXR1cm4gZ2xvYmFsUmVnaXN0cnkuZ2V0KHNjaGVtYSk/LmRlc2NyaXB0aW9uO1xuXHRpZiAoaXNab2RTY2hlbWFWMyhzY2hlbWEpKSByZXR1cm4gc2NoZW1hLmRlc2NyaXB0aW9uO1xuXHRpZiAoXCJkZXNjcmlwdGlvblwiIGluIHNjaGVtYSAmJiB0eXBlb2Ygc2NoZW1hLmRlc2NyaXB0aW9uID09PSBcInN0cmluZ1wiKSByZXR1cm4gc2NoZW1hLmRlc2NyaXB0aW9uO1xuXHRyZXR1cm4gdm9pZCAwO1xufVxuLyoqXG4qIERldGVybWluZXMgaWYgdGhlIHByb3ZpZGVkIFpvZCBzY2hlbWEgaXMgXCJzaGFwZWxlc3NcIi5cbiogQSBzaGFwZWxlc3Mgc2NoZW1hIGlzIG9uZSB0aGF0IGRvZXMgbm90IGRlZmluZSBhbnkgb2JqZWN0IHNoYXBlLFxuKiBzdWNoIGFzIFpvZFN0cmluZywgWm9kTnVtYmVyLCBab2RCb29sZWFuLCBab2RBbnksIGV0Yy5cbiogRm9yIFpvZE9iamVjdCwgaXQgbXVzdCBoYXZlIG5vIHNoYXBlIGtleXMgdG8gYmUgY29uc2lkZXJlZCBzaGFwZWxlc3MuXG4qIFpvZFJlY29yZCBzY2hlbWFzIGFyZSBjb25zaWRlcmVkIHNoYXBlbGVzcyBzaW5jZSB0aGV5IGRlZmluZSBkeW5hbWljXG4qIGtleS12YWx1ZSBtYXBwaW5ncyB3aXRob3V0IGZpeGVkIGtleXMuXG4qXG4qIEBwYXJhbSBzY2hlbWEgVGhlIFpvZCBzY2hlbWEgdG8gY2hlY2suXG4qIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBzY2hlbWEgaXMgc2hhcGVsZXNzLCBmYWxzZSBvdGhlcndpc2UuXG4qL1xuZnVuY3Rpb24gaXNTaGFwZWxlc3Nab2RTY2hlbWEoc2NoZW1hKSB7XG5cdGlmICghaXNJbnRlcm9wWm9kU2NoZW1hKHNjaGVtYSkpIHJldHVybiBmYWxzZTtcblx0aWYgKGlzWm9kU2NoZW1hVjMoc2NoZW1hKSkge1xuXHRcdGNvbnN0IGRlZiA9IHNjaGVtYS5fZGVmO1xuXHRcdGlmIChkZWYudHlwZU5hbWUgPT09IFwiWm9kT2JqZWN0XCIpIHtcblx0XHRcdGNvbnN0IG9iaiA9IHNjaGVtYTtcblx0XHRcdHJldHVybiAhb2JqLnNoYXBlIHx8IE9iamVjdC5rZXlzKG9iai5zaGFwZSkubGVuZ3RoID09PSAwO1xuXHRcdH1cblx0XHRpZiAoZGVmLnR5cGVOYW1lID09PSBcIlpvZFJlY29yZFwiKSByZXR1cm4gdHJ1ZTtcblx0fVxuXHRpZiAoaXNab2RTY2hlbWFWNChzY2hlbWEpKSB7XG5cdFx0Y29uc3QgZGVmID0gc2NoZW1hLl96b2QuZGVmO1xuXHRcdGlmIChkZWYudHlwZSA9PT0gXCJvYmplY3RcIikge1xuXHRcdFx0Y29uc3Qgb2JqID0gc2NoZW1hO1xuXHRcdFx0cmV0dXJuICFvYmouc2hhcGUgfHwgT2JqZWN0LmtleXMob2JqLnNoYXBlKS5sZW5ndGggPT09IDA7XG5cdFx0fVxuXHRcdGlmIChkZWYudHlwZSA9PT0gXCJyZWNvcmRcIikgcmV0dXJuIHRydWU7XG5cdH1cblx0aWYgKHR5cGVvZiBzY2hlbWEgPT09IFwib2JqZWN0XCIgJiYgc2NoZW1hICE9PSBudWxsICYmICEoXCJzaGFwZVwiIGluIHNjaGVtYSkpIHJldHVybiB0cnVlO1xuXHRyZXR1cm4gZmFsc2U7XG59XG4vKipcbiogRGV0ZXJtaW5lcyBpZiB0aGUgcHJvdmlkZWQgWm9kIHNjaGVtYSBzaG91bGQgYmUgdHJlYXRlZCBhcyBhIHNpbXBsZSBzdHJpbmcgc2NoZW1hXG4qIHRoYXQgbWFwcyB0byBEeW5hbWljVG9vbC4gVGhpcyBhbGlnbnMgd2l0aCB0aGUgdHlwZS1sZXZlbCBjb25zdHJhaW50IG9mXG4qIEludGVyb3Bab2RUeXBlPHN0cmluZyB8IHVuZGVmaW5lZD4gd2hpY2ggb25seSBtYXRjaGVzIGJhc2ljIHN0cmluZyBzY2hlbWFzLlxuKiBJZiB0aGUgcHJvdmlkZWQgc2NoZW1hIGlzIGp1c3Qgei5zdHJpbmcoKSwgd2UgY2FuIG1ha2UgdGhlIGRldGVybWluYXRpb24gdGhhdFxuKiB0aGUgdG9vbCBpcyBqdXN0IGEgZ2VuZXJpYyBzdHJpbmcgdG9vbCB0aGF0IGRvZXNuJ3QgcmVxdWlyZSBhbnkgaW5wdXQgdmFsaWRhdGlvbi5cbipcbiogVGhpcyBmdW5jdGlvbiBvbmx5IHJldHVybnMgdHJ1ZSBmb3IgYmFzaWMgWm9kU3RyaW5nIHNjaGVtYXMsIGluY2x1ZGluZzpcbiogLSBCYXNpYyBzdHJpbmcgc2NoZW1hcyAoei5zdHJpbmcoKSlcbiogLSBTdHJpbmcgc2NoZW1hcyB3aXRoIHZhbGlkYXRpb25zICh6LnN0cmluZygpLm1pbigxKSwgei5zdHJpbmcoKS5lbWFpbCgpLCBldGMuKVxuKlxuKiBUaGlzIGZ1bmN0aW9uIHJldHVybnMgZmFsc2UgZm9yIGV2ZXJ5dGhpbmcgZWxzZSwgaW5jbHVkaW5nOlxuKiAtIFN0cmluZyBzY2hlbWFzIHdpdGggZGVmYXVsdHMgKHouc3RyaW5nKCkuZGVmYXVsdChcInZhbHVlXCIpKVxuKiAtIEJyYW5kZWQgc3RyaW5nIHNjaGVtYXMgKHouc3RyaW5nKCkuYnJhbmQ8XCJVc2VySWRcIj4oKSlcbiogLSBTdHJpbmcgc2NoZW1hcyB3aXRoIGNhdGNoIG9wZXJhdGlvbnMgKHouc3RyaW5nKCkuY2F0Y2goXCJkZWZhdWx0XCIpKVxuKiAtIE9wdGlvbmFsL251bGxhYmxlIHN0cmluZyBzY2hlbWFzICh6LnN0cmluZygpLm9wdGlvbmFsKCkpXG4qIC0gVHJhbnNmb3JtZWQgc2NoZW1hcyAoei5zdHJpbmcoKS50cmFuc2Zvcm0oKSBvciB6Lm9iamVjdCgpLnRyYW5zZm9ybSgpKVxuKiAtIE9iamVjdCBvciByZWNvcmQgc2NoZW1hcywgZXZlbiBpZiB0aGV5J3JlIGVtcHR5XG4qIC0gQW55IG90aGVyIHNjaGVtYSB0eXBlXG4qXG4qIEBwYXJhbSBzY2hlbWEgVGhlIFpvZCBzY2hlbWEgdG8gY2hlY2suXG4qIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBzY2hlbWEgaXMgYSBiYXNpYyBab2RTdHJpbmcsIGZhbHNlIG90aGVyd2lzZS5cbiovXG5mdW5jdGlvbiBpc1NpbXBsZVN0cmluZ1pvZFNjaGVtYShzY2hlbWEpIHtcblx0aWYgKCFpc0ludGVyb3Bab2RTY2hlbWEoc2NoZW1hKSkgcmV0dXJuIGZhbHNlO1xuXHRpZiAoaXNab2RTY2hlbWFWMyhzY2hlbWEpKSB7XG5cdFx0Y29uc3QgZGVmID0gc2NoZW1hLl9kZWY7XG5cdFx0cmV0dXJuIGRlZi50eXBlTmFtZSA9PT0gXCJab2RTdHJpbmdcIjtcblx0fVxuXHRpZiAoaXNab2RTY2hlbWFWNChzY2hlbWEpKSB7XG5cdFx0Y29uc3QgZGVmID0gc2NoZW1hLl96b2QuZGVmO1xuXHRcdHJldHVybiBkZWYudHlwZSA9PT0gXCJzdHJpbmdcIjtcblx0fVxuXHRyZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBpc1pvZE9iamVjdFYzKG9iaikge1xuXHRpZiAodHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIiAmJiBvYmogIT09IG51bGwgJiYgXCJfZGVmXCIgaW4gb2JqICYmIHR5cGVvZiBvYmouX2RlZiA9PT0gXCJvYmplY3RcIiAmJiBvYmouX2RlZiAhPT0gbnVsbCAmJiBcInR5cGVOYW1lXCIgaW4gb2JqLl9kZWYgJiYgb2JqLl9kZWYudHlwZU5hbWUgPT09IFwiWm9kT2JqZWN0XCIpIHJldHVybiB0cnVlO1xuXHRyZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBpc1pvZE9iamVjdFY0KG9iaikge1xuXHRpZiAoIWlzWm9kU2NoZW1hVjQob2JqKSkgcmV0dXJuIGZhbHNlO1xuXHRpZiAodHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIiAmJiBvYmogIT09IG51bGwgJiYgXCJfem9kXCIgaW4gb2JqICYmIHR5cGVvZiBvYmouX3pvZCA9PT0gXCJvYmplY3RcIiAmJiBvYmouX3pvZCAhPT0gbnVsbCAmJiBcImRlZlwiIGluIG9iai5fem9kICYmIHR5cGVvZiBvYmouX3pvZC5kZWYgPT09IFwib2JqZWN0XCIgJiYgb2JqLl96b2QuZGVmICE9PSBudWxsICYmIFwidHlwZVwiIGluIG9iai5fem9kLmRlZiAmJiBvYmouX3pvZC5kZWYudHlwZSA9PT0gXCJvYmplY3RcIikgcmV0dXJuIHRydWU7XG5cdHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGlzWm9kQXJyYXlWNChvYmopIHtcblx0aWYgKCFpc1pvZFNjaGVtYVY0KG9iaikpIHJldHVybiBmYWxzZTtcblx0aWYgKHR5cGVvZiBvYmogPT09IFwib2JqZWN0XCIgJiYgb2JqICE9PSBudWxsICYmIFwiX3pvZFwiIGluIG9iaiAmJiB0eXBlb2Ygb2JqLl96b2QgPT09IFwib2JqZWN0XCIgJiYgb2JqLl96b2QgIT09IG51bGwgJiYgXCJkZWZcIiBpbiBvYmouX3pvZCAmJiB0eXBlb2Ygb2JqLl96b2QuZGVmID09PSBcIm9iamVjdFwiICYmIG9iai5fem9kLmRlZiAhPT0gbnVsbCAmJiBcInR5cGVcIiBpbiBvYmouX3pvZC5kZWYgJiYgb2JqLl96b2QuZGVmLnR5cGUgPT09IFwiYXJyYXlcIikgcmV0dXJuIHRydWU7XG5cdHJldHVybiBmYWxzZTtcbn1cbi8qKlxuKiBEZXRlcm1pbmVzIGlmIHRoZSBwcm92aWRlZCB2YWx1ZSBpcyBhbiBJbnRlcm9wWm9kT2JqZWN0IChab2QgdjMgb3IgdjQgb2JqZWN0IHNjaGVtYSkuXG4qXG4qIEBwYXJhbSBvYmogVGhlIHZhbHVlIHRvIGNoZWNrLlxuKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmFsdWUgaXMgYSBab2QgdjMgb3IgdjQgb2JqZWN0IHNjaGVtYSwgZmFsc2Ugb3RoZXJ3aXNlLlxuKi9cbmZ1bmN0aW9uIGlzSW50ZXJvcFpvZE9iamVjdChvYmopIHtcblx0aWYgKGlzWm9kT2JqZWN0VjMob2JqKSkgcmV0dXJuIHRydWU7XG5cdGlmIChpc1pvZE9iamVjdFY0KG9iaikpIHJldHVybiB0cnVlO1xuXHRyZXR1cm4gZmFsc2U7XG59XG4vKipcbiogUmV0cmlldmVzIHRoZSBzaGFwZSAoZmllbGRzKSBvZiBhIFpvZCBvYmplY3Qgc2NoZW1hLCBzdXBwb3J0aW5nIGJvdGggWm9kIHYzIGFuZCB2NC5cbipcbiogQHRlbXBsYXRlIFQgLSBUaGUgdHlwZSBvZiB0aGUgWm9kIG9iamVjdCBzY2hlbWEuXG4qIEBwYXJhbSB7VH0gc2NoZW1hIC0gVGhlIFpvZCBvYmplY3Qgc2NoZW1hIGluc3RhbmNlIChlaXRoZXIgdjMgb3IgdjQpLlxuKiBAcmV0dXJucyB7SW50ZXJvcFpvZE9iamVjdFNoYXBlPFQ+fSBUaGUgc2hhcGUgb2YgdGhlIG9iamVjdCBzY2hlbWEuXG4qIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgc2NoZW1hIGlzIG5vdCBhIFpvZCB2MyBvciB2NCBvYmplY3QuXG4qL1xuZnVuY3Rpb24gZ2V0SW50ZXJvcFpvZE9iamVjdFNoYXBlKHNjaGVtYSkge1xuXHRpZiAoaXNab2RTY2hlbWFWMyhzY2hlbWEpKSByZXR1cm4gc2NoZW1hLnNoYXBlO1xuXHRpZiAoaXNab2RTY2hlbWFWNChzY2hlbWEpKSByZXR1cm4gc2NoZW1hLl96b2QuZGVmLnNoYXBlO1xuXHR0aHJvdyBuZXcgRXJyb3IoXCJTY2hlbWEgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiB6My5ab2RPYmplY3Qgb3IgejQuJFpvZE9iamVjdFwiKTtcbn1cbi8qKlxuKiBFeHRlbmRzIGEgWm9kIG9iamVjdCBzY2hlbWEgd2l0aCBhZGRpdGlvbmFsIGZpZWxkcywgc3VwcG9ydGluZyBib3RoIFpvZCB2MyBhbmQgdjQuXG4qXG4qIEB0ZW1wbGF0ZSBUIC0gVGhlIHR5cGUgb2YgdGhlIFpvZCBvYmplY3Qgc2NoZW1hLlxuKiBAcGFyYW0ge1R9IHNjaGVtYSAtIFRoZSBab2Qgb2JqZWN0IHNjaGVtYSBpbnN0YW5jZSAoZWl0aGVyIHYzIG9yIHY0KS5cbiogQHBhcmFtIHtJbnRlcm9wWm9kT2JqZWN0U2hhcGV9IGV4dGVuc2lvbiAtIFRoZSBmaWVsZHMgdG8gYWRkIHRvIHRoZSBzY2hlbWEuXG4qIEByZXR1cm5zIHtJbnRlcm9wWm9kT2JqZWN0fSBUaGUgZXh0ZW5kZWQgWm9kIG9iamVjdCBzY2hlbWEuXG4qIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgc2NoZW1hIGlzIG5vdCBhIFpvZCB2MyBvciB2NCBvYmplY3QuXG4qL1xuZnVuY3Rpb24gZXh0ZW5kSW50ZXJvcFpvZE9iamVjdChzY2hlbWEsIGV4dGVuc2lvbikge1xuXHRpZiAoaXNab2RTY2hlbWFWMyhzY2hlbWEpKSByZXR1cm4gc2NoZW1hLmV4dGVuZChleHRlbnNpb24pO1xuXHRpZiAoaXNab2RTY2hlbWFWNChzY2hlbWEpKSByZXR1cm4gdXRpbC5leHRlbmQoc2NoZW1hLCBleHRlbnNpb24pO1xuXHR0aHJvdyBuZXcgRXJyb3IoXCJTY2hlbWEgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiB6My5ab2RPYmplY3Qgb3IgejQuJFpvZE9iamVjdFwiKTtcbn1cbi8qKlxuKiBSZXR1cm5zIGEgcGFydGlhbCB2ZXJzaW9uIG9mIGEgWm9kIG9iamVjdCBzY2hlbWEsIG1ha2luZyBhbGwgZmllbGRzIG9wdGlvbmFsLlxuKiBTdXBwb3J0cyBib3RoIFpvZCB2MyBhbmQgdjQuXG4qXG4qIEB0ZW1wbGF0ZSBUIC0gVGhlIHR5cGUgb2YgdGhlIFpvZCBvYmplY3Qgc2NoZW1hLlxuKiBAcGFyYW0ge1R9IHNjaGVtYSAtIFRoZSBab2Qgb2JqZWN0IHNjaGVtYSBpbnN0YW5jZSAoZWl0aGVyIHYzIG9yIHY0KS5cbiogQHJldHVybnMge0ludGVyb3Bab2RPYmplY3R9IFRoZSBwYXJ0aWFsIFpvZCBvYmplY3Qgc2NoZW1hLlxuKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHNjaGVtYSBpcyBub3QgYSBab2QgdjMgb3IgdjQgb2JqZWN0LlxuKi9cbmZ1bmN0aW9uIGludGVyb3Bab2RPYmplY3RQYXJ0aWFsKHNjaGVtYSkge1xuXHRpZiAoaXNab2RTY2hlbWFWMyhzY2hlbWEpKSByZXR1cm4gc2NoZW1hLnBhcnRpYWwoKTtcblx0aWYgKGlzWm9kU2NoZW1hVjQoc2NoZW1hKSkgcmV0dXJuIHV0aWwucGFydGlhbCgkWm9kT3B0aW9uYWwsIHNjaGVtYSwgdm9pZCAwKTtcblx0dGhyb3cgbmV3IEVycm9yKFwiU2NoZW1hIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgejMuWm9kT2JqZWN0IG9yIHo0LiRab2RPYmplY3RcIik7XG59XG4vKipcbiogUmV0dXJucyBhIHN0cmljdCB2ZXJzaW9uIG9mIGEgWm9kIG9iamVjdCBzY2hlbWEsIGRpc2FsbG93aW5nIHVua25vd24ga2V5cy5cbiogU3VwcG9ydHMgYm90aCBab2QgdjMgYW5kIHY0IG9iamVjdCBzY2hlbWFzLiBJZiBgcmVjdXJzaXZlYCBpcyB0cnVlLCBhcHBsaWVzIHN0cmljdG5lc3NcbiogcmVjdXJzaXZlbHkgdG8gYWxsIG5lc3RlZCBvYmplY3Qgc2NoZW1hcyBhbmQgYXJyYXlzIG9mIG9iamVjdCBzY2hlbWFzLlxuKlxuKiBAdGVtcGxhdGUgVCAtIFRoZSB0eXBlIG9mIHRoZSBab2Qgb2JqZWN0IHNjaGVtYS5cbiogQHBhcmFtIHtUfSBzY2hlbWEgLSBUaGUgWm9kIG9iamVjdCBzY2hlbWEgaW5zdGFuY2UgKGVpdGhlciB2MyBvciB2NCkuXG4qIEBwYXJhbSB7Ym9vbGVhbn0gW3JlY3Vyc2l2ZT1mYWxzZV0gLSBXaGV0aGVyIHRvIGFwcGx5IHN0cmljdG5lc3MgcmVjdXJzaXZlbHkgdG8gbmVzdGVkIG9iamVjdHMvYXJyYXlzLlxuKiBAcmV0dXJucyB7SW50ZXJvcFpvZE9iamVjdH0gVGhlIHN0cmljdCBab2Qgb2JqZWN0IHNjaGVtYS5cbiogQHRocm93cyB7RXJyb3J9IElmIHRoZSBzY2hlbWEgaXMgbm90IGEgWm9kIHYzIG9yIHY0IG9iamVjdC5cbiovXG5mdW5jdGlvbiBpbnRlcm9wWm9kT2JqZWN0U3RyaWN0KHNjaGVtYSwgcmVjdXJzaXZlID0gZmFsc2UpIHtcblx0aWYgKGlzWm9kU2NoZW1hVjMoc2NoZW1hKSkgcmV0dXJuIHNjaGVtYS5zdHJpY3QoKTtcblx0aWYgKGlzWm9kT2JqZWN0VjQoc2NoZW1hKSkge1xuXHRcdGNvbnN0IG91dHB1dFNoYXBlID0gc2NoZW1hLl96b2QuZGVmLnNoYXBlO1xuXHRcdGlmIChyZWN1cnNpdmUpIGZvciAoY29uc3QgW2tleSwga2V5U2NoZW1hXSBvZiBPYmplY3QuZW50cmllcyhzY2hlbWEuX3pvZC5kZWYuc2hhcGUpKSB7XG5cdFx0XHRpZiAoaXNab2RPYmplY3RWNChrZXlTY2hlbWEpKSB7XG5cdFx0XHRcdGNvbnN0IG91dHB1dFNjaGVtYSA9IGludGVyb3Bab2RPYmplY3RTdHJpY3Qoa2V5U2NoZW1hLCByZWN1cnNpdmUpO1xuXHRcdFx0XHRvdXRwdXRTaGFwZVtrZXldID0gb3V0cHV0U2NoZW1hO1xuXHRcdFx0fSBlbHNlIGlmIChpc1pvZEFycmF5VjQoa2V5U2NoZW1hKSkge1xuXHRcdFx0XHRsZXQgZWxlbWVudFNjaGVtYSA9IGtleVNjaGVtYS5fem9kLmRlZi5lbGVtZW50O1xuXHRcdFx0XHRpZiAoaXNab2RPYmplY3RWNChlbGVtZW50U2NoZW1hKSkgZWxlbWVudFNjaGVtYSA9IGludGVyb3Bab2RPYmplY3RTdHJpY3QoZWxlbWVudFNjaGVtYSwgcmVjdXJzaXZlKTtcblx0XHRcdFx0b3V0cHV0U2hhcGVba2V5XSA9IGNsb25lKGtleVNjaGVtYSwge1xuXHRcdFx0XHRcdC4uLmtleVNjaGVtYS5fem9kLmRlZixcblx0XHRcdFx0XHRlbGVtZW50OiBlbGVtZW50U2NoZW1hXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIG91dHB1dFNoYXBlW2tleV0gPSBrZXlTY2hlbWE7XG5cdFx0XHRjb25zdCBtZXRhJDEgPSBnbG9iYWxSZWdpc3RyeS5nZXQoa2V5U2NoZW1hKTtcblx0XHRcdGlmIChtZXRhJDEpIGdsb2JhbFJlZ2lzdHJ5LmFkZChvdXRwdXRTaGFwZVtrZXldLCBtZXRhJDEpO1xuXHRcdH1cblx0XHRjb25zdCBtb2RpZmllZFNjaGVtYSA9IGNsb25lKHNjaGVtYSwge1xuXHRcdFx0Li4uc2NoZW1hLl96b2QuZGVmLFxuXHRcdFx0c2hhcGU6IG91dHB1dFNoYXBlLFxuXHRcdFx0Y2F0Y2hhbGw6IF9uZXZlcigkWm9kTmV2ZXIpXG5cdFx0fSk7XG5cdFx0Y29uc3QgbWV0YSA9IGdsb2JhbFJlZ2lzdHJ5LmdldChzY2hlbWEpO1xuXHRcdGlmIChtZXRhKSBnbG9iYWxSZWdpc3RyeS5hZGQobW9kaWZpZWRTY2hlbWEsIG1ldGEpO1xuXHRcdHJldHVybiBtb2RpZmllZFNjaGVtYTtcblx0fVxuXHR0aHJvdyBuZXcgRXJyb3IoXCJTY2hlbWEgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiB6My5ab2RPYmplY3Qgb3IgejQuJFpvZE9iamVjdFwiKTtcbn1cbi8qKlxuKiBSZXR1cm5zIGEgcGFzc3Rocm91Z2ggdmVyc2lvbiBvZiBhIFpvZCBvYmplY3Qgc2NoZW1hLCBhbGxvd2luZyB1bmtub3duIGtleXMuXG4qIFN1cHBvcnRzIGJvdGggWm9kIHYzIGFuZCB2NCBvYmplY3Qgc2NoZW1hcy4gSWYgYHJlY3Vyc2l2ZWAgaXMgdHJ1ZSwgYXBwbGllcyBwYXNzdGhyb3VnaFxuKiByZWN1cnNpdmVseSB0byBhbGwgbmVzdGVkIG9iamVjdCBzY2hlbWFzIGFuZCBhcnJheXMgb2Ygb2JqZWN0IHNjaGVtYXMuXG4qXG4qIEB0ZW1wbGF0ZSBUIC0gVGhlIHR5cGUgb2YgdGhlIFpvZCBvYmplY3Qgc2NoZW1hLlxuKiBAcGFyYW0ge1R9IHNjaGVtYSAtIFRoZSBab2Qgb2JqZWN0IHNjaGVtYSBpbnN0YW5jZSAoZWl0aGVyIHYzIG9yIHY0KS5cbiogQHBhcmFtIHtib29sZWFufSBbcmVjdXJzaXZlPWZhbHNlXSAtIFdoZXRoZXIgdG8gYXBwbHkgcGFzc3Rocm91Z2ggcmVjdXJzaXZlbHkgdG8gbmVzdGVkIG9iamVjdHMvYXJyYXlzLlxuKiBAcmV0dXJucyB7SW50ZXJvcFpvZE9iamVjdH0gVGhlIHBhc3N0aHJvdWdoIFpvZCBvYmplY3Qgc2NoZW1hLlxuKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHNjaGVtYSBpcyBub3QgYSBab2QgdjMgb3IgdjQgb2JqZWN0LlxuKi9cbmZ1bmN0aW9uIGludGVyb3Bab2RPYmplY3RQYXNzdGhyb3VnaChzY2hlbWEsIHJlY3Vyc2l2ZSA9IGZhbHNlKSB7XG5cdGlmIChpc1pvZE9iamVjdFYzKHNjaGVtYSkpIHJldHVybiBzY2hlbWEucGFzc3Rocm91Z2goKTtcblx0aWYgKGlzWm9kT2JqZWN0VjQoc2NoZW1hKSkge1xuXHRcdGNvbnN0IG91dHB1dFNoYXBlID0gc2NoZW1hLl96b2QuZGVmLnNoYXBlO1xuXHRcdGlmIChyZWN1cnNpdmUpIGZvciAoY29uc3QgW2tleSwga2V5U2NoZW1hXSBvZiBPYmplY3QuZW50cmllcyhzY2hlbWEuX3pvZC5kZWYuc2hhcGUpKSB7XG5cdFx0XHRpZiAoaXNab2RPYmplY3RWNChrZXlTY2hlbWEpKSB7XG5cdFx0XHRcdGNvbnN0IG91dHB1dFNjaGVtYSA9IGludGVyb3Bab2RPYmplY3RQYXNzdGhyb3VnaChrZXlTY2hlbWEsIHJlY3Vyc2l2ZSk7XG5cdFx0XHRcdG91dHB1dFNoYXBlW2tleV0gPSBvdXRwdXRTY2hlbWE7XG5cdFx0XHR9IGVsc2UgaWYgKGlzWm9kQXJyYXlWNChrZXlTY2hlbWEpKSB7XG5cdFx0XHRcdGxldCBlbGVtZW50U2NoZW1hID0ga2V5U2NoZW1hLl96b2QuZGVmLmVsZW1lbnQ7XG5cdFx0XHRcdGlmIChpc1pvZE9iamVjdFY0KGVsZW1lbnRTY2hlbWEpKSBlbGVtZW50U2NoZW1hID0gaW50ZXJvcFpvZE9iamVjdFBhc3N0aHJvdWdoKGVsZW1lbnRTY2hlbWEsIHJlY3Vyc2l2ZSk7XG5cdFx0XHRcdG91dHB1dFNoYXBlW2tleV0gPSBjbG9uZShrZXlTY2hlbWEsIHtcblx0XHRcdFx0XHQuLi5rZXlTY2hlbWEuX3pvZC5kZWYsXG5cdFx0XHRcdFx0ZWxlbWVudDogZWxlbWVudFNjaGVtYVxuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSBvdXRwdXRTaGFwZVtrZXldID0ga2V5U2NoZW1hO1xuXHRcdFx0Y29uc3QgbWV0YSQxID0gZ2xvYmFsUmVnaXN0cnkuZ2V0KGtleVNjaGVtYSk7XG5cdFx0XHRpZiAobWV0YSQxKSBnbG9iYWxSZWdpc3RyeS5hZGQob3V0cHV0U2hhcGVba2V5XSwgbWV0YSQxKTtcblx0XHR9XG5cdFx0Y29uc3QgbW9kaWZpZWRTY2hlbWEgPSBjbG9uZShzY2hlbWEsIHtcblx0XHRcdC4uLnNjaGVtYS5fem9kLmRlZixcblx0XHRcdHNoYXBlOiBvdXRwdXRTaGFwZSxcblx0XHRcdGNhdGNoYWxsOiBfdW5rbm93bigkWm9kVW5rbm93bilcblx0XHR9KTtcblx0XHRjb25zdCBtZXRhID0gZ2xvYmFsUmVnaXN0cnkuZ2V0KHNjaGVtYSk7XG5cdFx0aWYgKG1ldGEpIGdsb2JhbFJlZ2lzdHJ5LmFkZChtb2RpZmllZFNjaGVtYSwgbWV0YSk7XG5cdFx0cmV0dXJuIG1vZGlmaWVkU2NoZW1hO1xuXHR9XG5cdHRocm93IG5ldyBFcnJvcihcIlNjaGVtYSBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIHozLlpvZE9iamVjdCBvciB6NC4kWm9kT2JqZWN0XCIpO1xufVxuLyoqXG4qIFJldHVybnMgYSBnZXR0ZXIgZnVuY3Rpb24gZm9yIHRoZSBkZWZhdWx0IHZhbHVlIG9mIGEgWm9kIHNjaGVtYSwgaWYgb25lIGlzIGRlZmluZWQuXG4qIFN1cHBvcnRzIGJvdGggWm9kIHYzIGFuZCB2NCBzY2hlbWFzLiBJZiB0aGUgc2NoZW1hIGhhcyBhIGRlZmF1bHQgdmFsdWUsXG4qIHRoZSByZXR1cm5lZCBmdW5jdGlvbiB3aWxsIHJldHVybiB0aGF0IHZhbHVlIHdoZW4gY2FsbGVkLiBJZiBubyBkZWZhdWx0IGlzIGRlZmluZWQsXG4qIHJldHVybnMgdW5kZWZpbmVkLlxuKlxuKiBAdGVtcGxhdGUgVCAtIFRoZSB0eXBlIG9mIHRoZSBab2Qgc2NoZW1hLlxuKiBAcGFyYW0ge1R9IHNjaGVtYSAtIFRoZSBab2Qgc2NoZW1hIGluc3RhbmNlIChlaXRoZXIgdjMgb3IgdjQpLlxuKiBAcmV0dXJucyB7KCgpID0+IEluZmVySW50ZXJvcFpvZE91dHB1dDxUPikgfCB1bmRlZmluZWR9IEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlLCBvciB1bmRlZmluZWQgaWYgbm8gZGVmYXVsdCBpcyBzZXQuXG4qL1xuZnVuY3Rpb24gZ2V0SW50ZXJvcFpvZERlZmF1bHRHZXR0ZXIoc2NoZW1hKSB7XG5cdGlmIChpc1pvZFNjaGVtYVYzKHNjaGVtYSkpIHRyeSB7XG5cdFx0Y29uc3QgZGVmYXVsdFZhbHVlID0gc2NoZW1hLnBhcnNlKHZvaWQgMCk7XG5cdFx0cmV0dXJuICgpID0+IGRlZmF1bHRWYWx1ZTtcblx0fSBjYXRjaCB7XG5cdFx0cmV0dXJuIHZvaWQgMDtcblx0fVxuXHRpZiAoaXNab2RTY2hlbWFWNChzY2hlbWEpKSB0cnkge1xuXHRcdGNvbnN0IGRlZmF1bHRWYWx1ZSA9IHBhcnNlKHNjaGVtYSwgdm9pZCAwKTtcblx0XHRyZXR1cm4gKCkgPT4gZGVmYXVsdFZhbHVlO1xuXHR9IGNhdGNoIHtcblx0XHRyZXR1cm4gdm9pZCAwO1xuXHR9XG5cdHJldHVybiB2b2lkIDA7XG59XG5mdW5jdGlvbiBpc1pvZFRyYW5zZm9ybVYzKHNjaGVtYSkge1xuXHRyZXR1cm4gaXNab2RTY2hlbWFWMyhzY2hlbWEpICYmIFwidHlwZU5hbWVcIiBpbiBzY2hlbWEuX2RlZiAmJiBzY2hlbWEuX2RlZi50eXBlTmFtZSA9PT0gXCJab2RFZmZlY3RzXCI7XG59XG5mdW5jdGlvbiBpc1pvZFRyYW5zZm9ybVY0KHNjaGVtYSkge1xuXHRyZXR1cm4gaXNab2RTY2hlbWFWNChzY2hlbWEpICYmIHNjaGVtYS5fem9kLmRlZi50eXBlID09PSBcInBpcGVcIjtcbn1cbi8qKlxuKiBSZXR1cm5zIHRoZSBpbnB1dCB0eXBlIG9mIGEgWm9kIHRyYW5zZm9ybSBzY2hlbWEsIGZvciBib3RoIHYzIGFuZCB2NC5cbiogSWYgdGhlIHNjaGVtYSBpcyBub3QgYSB0cmFuc2Zvcm0sIHJldHVybnMgdW5kZWZpbmVkLiBJZiBgcmVjdXJzaXZlYCBpcyB0cnVlLFxuKiByZWN1cnNpdmVseSBwcm9jZXNzZXMgbmVzdGVkIG9iamVjdCBzY2hlbWFzIGFuZCBhcnJheXMgb2Ygb2JqZWN0IHNjaGVtYXMuXG4qXG4qIEBwYXJhbSBzY2hlbWEgLSBUaGUgWm9kIHNjaGVtYSBpbnN0YW5jZSAodjMgb3IgdjQpXG4qIEBwYXJhbSB7Ym9vbGVhbn0gW3JlY3Vyc2l2ZT1mYWxzZV0gLSBXaGV0aGVyIHRvIHJlY3Vyc2l2ZWx5IHByb2Nlc3MgbmVzdGVkIG9iamVjdHMvYXJyYXlzLlxuKiBAcmV0dXJucyBUaGUgaW5wdXQgWm9kIHNjaGVtYSBvZiB0aGUgdHJhbnNmb3JtLCBvciB1bmRlZmluZWQgaWYgbm90IGEgdHJhbnNmb3JtXG4qL1xuZnVuY3Rpb24gaW50ZXJvcFpvZFRyYW5zZm9ybUlucHV0U2NoZW1hKHNjaGVtYSwgcmVjdXJzaXZlID0gZmFsc2UpIHtcblx0aWYgKGlzWm9kU2NoZW1hVjMoc2NoZW1hKSkge1xuXHRcdGlmIChpc1pvZFRyYW5zZm9ybVYzKHNjaGVtYSkpIHJldHVybiBpbnRlcm9wWm9kVHJhbnNmb3JtSW5wdXRTY2hlbWEoc2NoZW1hLl9kZWYuc2NoZW1hLCByZWN1cnNpdmUpO1xuXHRcdHJldHVybiBzY2hlbWE7XG5cdH1cblx0aWYgKGlzWm9kU2NoZW1hVjQoc2NoZW1hKSkge1xuXHRcdGxldCBvdXRwdXRTY2hlbWEgPSBzY2hlbWE7XG5cdFx0aWYgKGlzWm9kVHJhbnNmb3JtVjQoc2NoZW1hKSkgb3V0cHV0U2NoZW1hID0gaW50ZXJvcFpvZFRyYW5zZm9ybUlucHV0U2NoZW1hKHNjaGVtYS5fem9kLmRlZi5pbiwgcmVjdXJzaXZlKTtcblx0XHRpZiAocmVjdXJzaXZlKSB7XG5cdFx0XHRpZiAoaXNab2RPYmplY3RWNChvdXRwdXRTY2hlbWEpKSB7XG5cdFx0XHRcdGNvbnN0IG91dHB1dFNoYXBlID0gb3V0cHV0U2NoZW1hLl96b2QuZGVmLnNoYXBlO1xuXHRcdFx0XHRmb3IgKGNvbnN0IFtrZXksIGtleVNjaGVtYV0gb2YgT2JqZWN0LmVudHJpZXMob3V0cHV0U2NoZW1hLl96b2QuZGVmLnNoYXBlKSkgb3V0cHV0U2hhcGVba2V5XSA9IGludGVyb3Bab2RUcmFuc2Zvcm1JbnB1dFNjaGVtYShrZXlTY2hlbWEsIHJlY3Vyc2l2ZSk7XG5cdFx0XHRcdG91dHB1dFNjaGVtYSA9IGNsb25lKG91dHB1dFNjaGVtYSwge1xuXHRcdFx0XHRcdC4uLm91dHB1dFNjaGVtYS5fem9kLmRlZixcblx0XHRcdFx0XHRzaGFwZTogb3V0cHV0U2hhcGVcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2UgaWYgKGlzWm9kQXJyYXlWNChvdXRwdXRTY2hlbWEpKSB7XG5cdFx0XHRcdGNvbnN0IGVsZW1lbnRTY2hlbWEgPSBpbnRlcm9wWm9kVHJhbnNmb3JtSW5wdXRTY2hlbWEob3V0cHV0U2NoZW1hLl96b2QuZGVmLmVsZW1lbnQsIHJlY3Vyc2l2ZSk7XG5cdFx0XHRcdG91dHB1dFNjaGVtYSA9IGNsb25lKG91dHB1dFNjaGVtYSwge1xuXHRcdFx0XHRcdC4uLm91dHB1dFNjaGVtYS5fem9kLmRlZixcblx0XHRcdFx0XHRlbGVtZW50OiBlbGVtZW50U2NoZW1hXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRjb25zdCBtZXRhID0gZ2xvYmFsUmVnaXN0cnkuZ2V0KHNjaGVtYSk7XG5cdFx0aWYgKG1ldGEpIGdsb2JhbFJlZ2lzdHJ5LmFkZChvdXRwdXRTY2hlbWEsIG1ldGEpO1xuXHRcdHJldHVybiBvdXRwdXRTY2hlbWE7XG5cdH1cblx0dGhyb3cgbmV3IEVycm9yKFwiU2NoZW1hIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgejMuWm9kVHlwZSBvciB6NC4kWm9kVHlwZVwiKTtcbn1cbi8qKlxuKiBDcmVhdGVzIGEgbW9kaWZpZWQgdmVyc2lvbiBvZiBhIFpvZCBvYmplY3Qgc2NoZW1hIHdoZXJlIGZpZWxkcyBtYXRjaGluZyBhIHByZWRpY2F0ZSBhcmUgbWFkZSBvcHRpb25hbC5cbiogU3VwcG9ydHMgYm90aCBab2QgdjMgYW5kIHY0IHNjaGVtYXMgYW5kIHByZXNlcnZlcyB0aGUgb3JpZ2luYWwgc2NoZW1hIHZlcnNpb24uXG4qXG4qIEB0ZW1wbGF0ZSBUIC0gVGhlIHR5cGUgb2YgdGhlIFpvZCBvYmplY3Qgc2NoZW1hLlxuKiBAcGFyYW0ge1R9IHNjaGVtYSAtIFRoZSBab2Qgb2JqZWN0IHNjaGVtYSBpbnN0YW5jZSAoZWl0aGVyIHYzIG9yIHY0KS5cbiogQHBhcmFtIHsoa2V5OiBzdHJpbmcsIHZhbHVlOiBJbnRlcm9wWm9kVHlwZSkgPT4gYm9vbGVhbn0gcHJlZGljYXRlIC0gRnVuY3Rpb24gdG8gZGV0ZXJtaW5lIHdoaWNoIGZpZWxkcyBzaG91bGQgYmUgb3B0aW9uYWwuXG4qIEByZXR1cm5zIHtJbnRlcm9wWm9kT2JqZWN0fSBUaGUgbW9kaWZpZWQgWm9kIG9iamVjdCBzY2hlbWEuXG4qIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgc2NoZW1hIGlzIG5vdCBhIFpvZCB2MyBvciB2NCBvYmplY3QuXG4qL1xuZnVuY3Rpb24gaW50ZXJvcFpvZE9iamVjdE1ha2VGaWVsZHNPcHRpb25hbChzY2hlbWEsIHByZWRpY2F0ZSkge1xuXHRpZiAoaXNab2RTY2hlbWFWMyhzY2hlbWEpKSB7XG5cdFx0Y29uc3Qgc2hhcGUgPSBnZXRJbnRlcm9wWm9kT2JqZWN0U2hhcGUoc2NoZW1hKTtcblx0XHRjb25zdCBtb2RpZmllZFNoYXBlID0ge307XG5cdFx0Zm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoc2hhcGUpKSBpZiAocHJlZGljYXRlKGtleSwgdmFsdWUpKSBtb2RpZmllZFNoYXBlW2tleV0gPSB2YWx1ZS5vcHRpb25hbCgpO1xuXHRcdGVsc2UgbW9kaWZpZWRTaGFwZVtrZXldID0gdmFsdWU7XG5cdFx0cmV0dXJuIHNjaGVtYS5leHRlbmQobW9kaWZpZWRTaGFwZSk7XG5cdH1cblx0aWYgKGlzWm9kU2NoZW1hVjQoc2NoZW1hKSkge1xuXHRcdGNvbnN0IHNoYXBlID0gZ2V0SW50ZXJvcFpvZE9iamVjdFNoYXBlKHNjaGVtYSk7XG5cdFx0Y29uc3Qgb3V0cHV0U2hhcGUgPSB7IC4uLnNjaGVtYS5fem9kLmRlZi5zaGFwZSB9O1xuXHRcdGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHNoYXBlKSkgaWYgKHByZWRpY2F0ZShrZXksIHZhbHVlKSkgb3V0cHV0U2hhcGVba2V5XSA9IG5ldyAkWm9kT3B0aW9uYWwoe1xuXHRcdFx0dHlwZTogXCJvcHRpb25hbFwiLFxuXHRcdFx0aW5uZXJUeXBlOiB2YWx1ZVxuXHRcdH0pO1xuXHRcdGNvbnN0IG1vZGlmaWVkU2NoZW1hID0gY2xvbmUoc2NoZW1hLCB7XG5cdFx0XHQuLi5zY2hlbWEuX3pvZC5kZWYsXG5cdFx0XHRzaGFwZTogb3V0cHV0U2hhcGVcblx0XHR9KTtcblx0XHRjb25zdCBtZXRhID0gZ2xvYmFsUmVnaXN0cnkuZ2V0KHNjaGVtYSk7XG5cdFx0aWYgKG1ldGEpIGdsb2JhbFJlZ2lzdHJ5LmFkZChtb2RpZmllZFNjaGVtYSwgbWV0YSk7XG5cdFx0cmV0dXJuIG1vZGlmaWVkU2NoZW1hO1xuXHR9XG5cdHRocm93IG5ldyBFcnJvcihcIlNjaGVtYSBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIHozLlpvZE9iamVjdCBvciB6NC4kWm9kT2JqZWN0XCIpO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IGV4dGVuZEludGVyb3Bab2RPYmplY3QsIGdldEludGVyb3Bab2REZWZhdWx0R2V0dGVyLCBnZXRJbnRlcm9wWm9kT2JqZWN0U2hhcGUsIGdldFNjaGVtYURlc2NyaXB0aW9uLCBpbnRlcm9wUGFyc2UsIGludGVyb3BQYXJzZUFzeW5jLCBpbnRlcm9wU2FmZVBhcnNlLCBpbnRlcm9wU2FmZVBhcnNlQXN5bmMsIGludGVyb3Bab2RPYmplY3RNYWtlRmllbGRzT3B0aW9uYWwsIGludGVyb3Bab2RPYmplY3RQYXJ0aWFsLCBpbnRlcm9wWm9kT2JqZWN0UGFzc3Rocm91Z2gsIGludGVyb3Bab2RPYmplY3RTdHJpY3QsIGludGVyb3Bab2RUcmFuc2Zvcm1JbnB1dFNjaGVtYSwgaXNJbnRlcm9wWm9kTGl0ZXJhbCwgaXNJbnRlcm9wWm9kT2JqZWN0LCBpc0ludGVyb3Bab2RTY2hlbWEsIGlzU2hhcGVsZXNzWm9kU2NoZW1hLCBpc1NpbXBsZVN0cmluZ1pvZFNjaGVtYSwgaXNab2RBcnJheVY0LCBpc1pvZExpdGVyYWxWMywgaXNab2RMaXRlcmFsVjQsIGlzWm9kT2JqZWN0VjMsIGlzWm9kT2JqZWN0VjQsIGlzWm9kU2NoZW1hLCBpc1pvZFNjaGVtYVYzLCBpc1pvZFNjaGVtYVY0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD16b2QuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/types/zod.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/Options.js":
/*!************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/Options.js ***!
  \************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   defaultOptions: () => (/* binding */ defaultOptions),\n/* harmony export */   getDefaultOptions: () => (/* binding */ getDefaultOptions),\n/* harmony export */   ignoreOverride: () => (/* binding */ ignoreOverride)\n/* harmony export */ });\n//#region src/utils/zod-to-json-schema/Options.ts\nconst ignoreOverride = Symbol(\"Let zodToJsonSchema decide on which parser to use\");\nconst defaultOptions = {\n\tname: void 0,\n\t$refStrategy: \"root\",\n\tbasePath: [\"#\"],\n\teffectStrategy: \"input\",\n\tpipeStrategy: \"all\",\n\tdateStrategy: \"format:date-time\",\n\tmapStrategy: \"entries\",\n\tremoveAdditionalStrategy: \"passthrough\",\n\tallowedAdditionalProperties: true,\n\trejectedAdditionalProperties: false,\n\tdefinitionPath: \"definitions\",\n\ttarget: \"jsonSchema7\",\n\tstrictUnions: false,\n\tdefinitions: {},\n\terrorMessages: false,\n\tmarkdownDescription: false,\n\tpatternStrategy: \"escape\",\n\tapplyRegexFlags: false,\n\temailStrategy: \"format:email\",\n\tbase64Strategy: \"contentEncoding:base64\",\n\tnameStrategy: \"ref\",\n\topenAiAnyTypeName: \"OpenAiAnyType\"\n};\nconst getDefaultOptions = (options) => typeof options === \"string\" ? {\n\t...defaultOptions,\n\tname: options\n} : {\n\t...defaultOptions,\n\t...options\n};\n\n//#endregion\n\n//# sourceMappingURL=Options.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvT3B0aW9ucy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOztBQUVBO0FBQzZEO0FBQzdEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvT3B0aW9ucy5qcz82NzQ4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vI3JlZ2lvbiBzcmMvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL09wdGlvbnMudHNcbmNvbnN0IGlnbm9yZU92ZXJyaWRlID0gU3ltYm9sKFwiTGV0IHpvZFRvSnNvblNjaGVtYSBkZWNpZGUgb24gd2hpY2ggcGFyc2VyIHRvIHVzZVwiKTtcbmNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuXHRuYW1lOiB2b2lkIDAsXG5cdCRyZWZTdHJhdGVneTogXCJyb290XCIsXG5cdGJhc2VQYXRoOiBbXCIjXCJdLFxuXHRlZmZlY3RTdHJhdGVneTogXCJpbnB1dFwiLFxuXHRwaXBlU3RyYXRlZ3k6IFwiYWxsXCIsXG5cdGRhdGVTdHJhdGVneTogXCJmb3JtYXQ6ZGF0ZS10aW1lXCIsXG5cdG1hcFN0cmF0ZWd5OiBcImVudHJpZXNcIixcblx0cmVtb3ZlQWRkaXRpb25hbFN0cmF0ZWd5OiBcInBhc3N0aHJvdWdoXCIsXG5cdGFsbG93ZWRBZGRpdGlvbmFsUHJvcGVydGllczogdHJ1ZSxcblx0cmVqZWN0ZWRBZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG5cdGRlZmluaXRpb25QYXRoOiBcImRlZmluaXRpb25zXCIsXG5cdHRhcmdldDogXCJqc29uU2NoZW1hN1wiLFxuXHRzdHJpY3RVbmlvbnM6IGZhbHNlLFxuXHRkZWZpbml0aW9uczoge30sXG5cdGVycm9yTWVzc2FnZXM6IGZhbHNlLFxuXHRtYXJrZG93bkRlc2NyaXB0aW9uOiBmYWxzZSxcblx0cGF0dGVyblN0cmF0ZWd5OiBcImVzY2FwZVwiLFxuXHRhcHBseVJlZ2V4RmxhZ3M6IGZhbHNlLFxuXHRlbWFpbFN0cmF0ZWd5OiBcImZvcm1hdDplbWFpbFwiLFxuXHRiYXNlNjRTdHJhdGVneTogXCJjb250ZW50RW5jb2Rpbmc6YmFzZTY0XCIsXG5cdG5hbWVTdHJhdGVneTogXCJyZWZcIixcblx0b3BlbkFpQW55VHlwZU5hbWU6IFwiT3BlbkFpQW55VHlwZVwiXG59O1xuY29uc3QgZ2V0RGVmYXVsdE9wdGlvbnMgPSAob3B0aW9ucykgPT4gdHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIgPyB7XG5cdC4uLmRlZmF1bHRPcHRpb25zLFxuXHRuYW1lOiBvcHRpb25zXG59IDoge1xuXHQuLi5kZWZhdWx0T3B0aW9ucyxcblx0Li4ub3B0aW9uc1xufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBkZWZhdWx0T3B0aW9ucywgZ2V0RGVmYXVsdE9wdGlvbnMsIGlnbm9yZU92ZXJyaWRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PcHRpb25zLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/Options.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/Refs.js":
/*!*********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/Refs.js ***!
  \*********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getRefs: () => (/* binding */ getRefs)\n/* harmony export */ });\n/* harmony import */ var _Options_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Options.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/Options.js\");\n\n\n//#region src/utils/zod-to-json-schema/Refs.ts\nconst getRefs = (options) => {\n\tconst _options = (0,_Options_js__WEBPACK_IMPORTED_MODULE_0__.getDefaultOptions)(options);\n\tconst currentPath = _options.name !== void 0 ? [\n\t\t..._options.basePath,\n\t\t_options.definitionPath,\n\t\t_options.name\n\t] : _options.basePath;\n\treturn {\n\t\t..._options,\n\t\tflags: { hasReferencedOpenAiAnyType: false },\n\t\tcurrentPath,\n\t\tpropertyPath: void 0,\n\t\tseen: new Map(Object.entries(_options.definitions).map(([name, def]) => [def._def, {\n\t\t\tdef: def._def,\n\t\t\tpath: [\n\t\t\t\t..._options.basePath,\n\t\t\t\t_options.definitionPath,\n\t\t\t\tname\n\t\t\t],\n\t\t\tjsonSchema: void 0\n\t\t}]))\n\t};\n};\n\n//#endregion\n\n//# sourceMappingURL=Refs.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvUmVmcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFpRDs7QUFFakQ7QUFDQTtBQUNBLGtCQUFrQiw4REFBaUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG1DQUFtQztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ21CO0FBQ25CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvUmVmcy5qcz9iYmViIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldERlZmF1bHRPcHRpb25zIH0gZnJvbSBcIi4vT3B0aW9ucy5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9SZWZzLnRzXG5jb25zdCBnZXRSZWZzID0gKG9wdGlvbnMpID0+IHtcblx0Y29uc3QgX29wdGlvbnMgPSBnZXREZWZhdWx0T3B0aW9ucyhvcHRpb25zKTtcblx0Y29uc3QgY3VycmVudFBhdGggPSBfb3B0aW9ucy5uYW1lICE9PSB2b2lkIDAgPyBbXG5cdFx0Li4uX29wdGlvbnMuYmFzZVBhdGgsXG5cdFx0X29wdGlvbnMuZGVmaW5pdGlvblBhdGgsXG5cdFx0X29wdGlvbnMubmFtZVxuXHRdIDogX29wdGlvbnMuYmFzZVBhdGg7XG5cdHJldHVybiB7XG5cdFx0Li4uX29wdGlvbnMsXG5cdFx0ZmxhZ3M6IHsgaGFzUmVmZXJlbmNlZE9wZW5BaUFueVR5cGU6IGZhbHNlIH0sXG5cdFx0Y3VycmVudFBhdGgsXG5cdFx0cHJvcGVydHlQYXRoOiB2b2lkIDAsXG5cdFx0c2VlbjogbmV3IE1hcChPYmplY3QuZW50cmllcyhfb3B0aW9ucy5kZWZpbml0aW9ucykubWFwKChbbmFtZSwgZGVmXSkgPT4gW2RlZi5fZGVmLCB7XG5cdFx0XHRkZWY6IGRlZi5fZGVmLFxuXHRcdFx0cGF0aDogW1xuXHRcdFx0XHQuLi5fb3B0aW9ucy5iYXNlUGF0aCxcblx0XHRcdFx0X29wdGlvbnMuZGVmaW5pdGlvblBhdGgsXG5cdFx0XHRcdG5hbWVcblx0XHRcdF0sXG5cdFx0XHRqc29uU2NoZW1hOiB2b2lkIDBcblx0XHR9XSkpXG5cdH07XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IGdldFJlZnMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlZnMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/Refs.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/errorMessages.js":
/*!******************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/errorMessages.js ***!
  \******************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addErrorMessage: () => (/* binding */ addErrorMessage),\n/* harmony export */   setResponseValueAndErrors: () => (/* binding */ setResponseValueAndErrors)\n/* harmony export */ });\n//#region src/utils/zod-to-json-schema/errorMessages.ts\nfunction addErrorMessage(res, key, errorMessage, refs) {\n\tif (!refs?.errorMessages) return;\n\tif (errorMessage) res.errorMessage = {\n\t\t...res.errorMessage,\n\t\t[key]: errorMessage\n\t};\n}\nfunction setResponseValueAndErrors(res, key, value, errorMessage, refs) {\n\tres[key] = value;\n\taddErrorMessage(res, key, errorMessage, refs);\n}\n\n//#endregion\n\n//# sourceMappingURL=errorMessages.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvZXJyb3JNZXNzYWdlcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNzRDtBQUN0RCIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL2Vycm9yTWVzc2FnZXMuanM/ODg2YiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyNyZWdpb24gc3JjL3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9lcnJvck1lc3NhZ2VzLnRzXG5mdW5jdGlvbiBhZGRFcnJvck1lc3NhZ2UocmVzLCBrZXksIGVycm9yTWVzc2FnZSwgcmVmcykge1xuXHRpZiAoIXJlZnM/LmVycm9yTWVzc2FnZXMpIHJldHVybjtcblx0aWYgKGVycm9yTWVzc2FnZSkgcmVzLmVycm9yTWVzc2FnZSA9IHtcblx0XHQuLi5yZXMuZXJyb3JNZXNzYWdlLFxuXHRcdFtrZXldOiBlcnJvck1lc3NhZ2Vcblx0fTtcbn1cbmZ1bmN0aW9uIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBrZXksIHZhbHVlLCBlcnJvck1lc3NhZ2UsIHJlZnMpIHtcblx0cmVzW2tleV0gPSB2YWx1ZTtcblx0YWRkRXJyb3JNZXNzYWdlKHJlcywga2V5LCBlcnJvck1lc3NhZ2UsIHJlZnMpO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IGFkZEVycm9yTWVzc2FnZSwgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3JNZXNzYWdlcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/errorMessages.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/getRelativePath.js":
/*!********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/getRelativePath.js ***!
  \********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getRelativePath: () => (/* binding */ getRelativePath)\n/* harmony export */ });\n//#region src/utils/zod-to-json-schema/getRelativePath.ts\nconst getRelativePath = (pathA, pathB) => {\n\tlet i = 0;\n\tfor (; i < pathA.length && i < pathB.length; i++) if (pathA[i] !== pathB[i]) break;\n\treturn [(pathA.length - i).toString(), ...pathB.slice(i)].join(\"/\");\n};\n\n//#endregion\n\n//# sourceMappingURL=getRelativePath.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvZ2V0UmVsYXRpdmVQYXRoLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNDQUFzQztBQUM5QztBQUNBOztBQUVBO0FBQzJCO0FBQzNCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvZ2V0UmVsYXRpdmVQYXRoLmpzP2VkNjIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvZ2V0UmVsYXRpdmVQYXRoLnRzXG5jb25zdCBnZXRSZWxhdGl2ZVBhdGggPSAocGF0aEEsIHBhdGhCKSA9PiB7XG5cdGxldCBpID0gMDtcblx0Zm9yICg7IGkgPCBwYXRoQS5sZW5ndGggJiYgaSA8IHBhdGhCLmxlbmd0aDsgaSsrKSBpZiAocGF0aEFbaV0gIT09IHBhdGhCW2ldKSBicmVhaztcblx0cmV0dXJuIFsocGF0aEEubGVuZ3RoIC0gaSkudG9TdHJpbmcoKSwgLi4ucGF0aEIuc2xpY2UoaSldLmpvaW4oXCIvXCIpO1xufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBnZXRSZWxhdGl2ZVBhdGggfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldFJlbGF0aXZlUGF0aC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/getRelativePath.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/index.js":
/*!**********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/index.js ***!
  \**********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Options_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Options.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/Options.js\");\n/* harmony import */ var _Refs_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Refs.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/Refs.js\");\n/* harmony import */ var _errorMessages_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./errorMessages.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/errorMessages.js\");\n/* harmony import */ var _getRelativePath_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./getRelativePath.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/getRelativePath.js\");\n/* harmony import */ var _parsers_any_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./parsers/any.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.js\");\n/* harmony import */ var _parsers_array_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./parsers/array.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/array.js\");\n/* harmony import */ var _parsers_bigint_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./parsers/bigint.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/bigint.js\");\n/* harmony import */ var _parsers_boolean_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./parsers/boolean.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/boolean.js\");\n/* harmony import */ var _parsers_branded_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./parsers/branded.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/branded.js\");\n/* harmony import */ var _parsers_catch_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./parsers/catch.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/catch.js\");\n/* harmony import */ var _parsers_date_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./parsers/date.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/date.js\");\n/* harmony import */ var _parsers_default_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./parsers/default.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/default.js\");\n/* harmony import */ var _parsers_effects_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./parsers/effects.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/effects.js\");\n/* harmony import */ var _parsers_enum_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./parsers/enum.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/enum.js\");\n/* harmony import */ var _parsers_intersection_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./parsers/intersection.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/intersection.js\");\n/* harmony import */ var _parsers_literal_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./parsers/literal.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/literal.js\");\n/* harmony import */ var _parsers_string_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./parsers/string.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/string.js\");\n/* harmony import */ var _parsers_record_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./parsers/record.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/record.js\");\n/* harmony import */ var _parsers_map_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./parsers/map.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/map.js\");\n/* harmony import */ var _parsers_nativeEnum_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./parsers/nativeEnum.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/nativeEnum.js\");\n/* harmony import */ var _parsers_never_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./parsers/never.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/never.js\");\n/* harmony import */ var _parsers_null_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./parsers/null.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/null.js\");\n/* harmony import */ var _parsers_union_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./parsers/union.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/union.js\");\n/* harmony import */ var _parsers_nullable_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./parsers/nullable.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/nullable.js\");\n/* harmony import */ var _parsers_number_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./parsers/number.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/number.js\");\n/* harmony import */ var _parsers_object_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./parsers/object.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/object.js\");\n/* harmony import */ var _parsers_optional_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./parsers/optional.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/optional.js\");\n/* harmony import */ var _parsers_pipeline_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./parsers/pipeline.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/pipeline.js\");\n/* harmony import */ var _parsers_promise_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./parsers/promise.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/promise.js\");\n/* harmony import */ var _parsers_set_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./parsers/set.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/set.js\");\n/* harmony import */ var _parsers_tuple_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./parsers/tuple.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/tuple.js\");\n/* harmony import */ var _parsers_undefined_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./parsers/undefined.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/undefined.js\");\n/* harmony import */ var _parsers_unknown_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./parsers/unknown.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/unknown.js\");\n/* harmony import */ var _parsers_readonly_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./parsers/readonly.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/readonly.js\");\n/* harmony import */ var _selectParser_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./selectParser.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/selectParser.js\");\n/* harmony import */ var _parseDef_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./parseDef.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\");\n/* harmony import */ var _zodToJsonSchema_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./zodToJsonSchema.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/zodToJsonSchema.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBaUY7QUFDN0M7QUFDNEM7QUFDekI7QUFDUjtBQUNJO0FBQ0U7QUFDRTtBQUNBO0FBQ0o7QUFDRjtBQUNNO0FBQ0E7QUFDTjtBQUNnQjtBQUNWO0FBQ1c7QUFDYjtBQUNOO0FBQ2M7QUFDVjtBQUNGO0FBQ3FCO0FBQ2I7QUFDSjtBQUNBO0FBQ0k7QUFDQTtBQUNGO0FBQ1I7QUFDSTtBQUNRO0FBQ0o7QUFDRTtBQUNSO0FBQ1I7QUFDYyIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL2luZGV4LmpzPzM4ODciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVmYXVsdE9wdGlvbnMsIGdldERlZmF1bHRPcHRpb25zLCBpZ25vcmVPdmVycmlkZSB9IGZyb20gXCIuL09wdGlvbnMuanNcIjtcbmltcG9ydCB7IGdldFJlZnMgfSBmcm9tIFwiLi9SZWZzLmpzXCI7XG5pbXBvcnQgeyBhZGRFcnJvck1lc3NhZ2UsIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMgfSBmcm9tIFwiLi9lcnJvck1lc3NhZ2VzLmpzXCI7XG5pbXBvcnQgeyBnZXRSZWxhdGl2ZVBhdGggfSBmcm9tIFwiLi9nZXRSZWxhdGl2ZVBhdGguanNcIjtcbmltcG9ydCB7IHBhcnNlQW55RGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9hbnkuanNcIjtcbmltcG9ydCB7IHBhcnNlQXJyYXlEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2FycmF5LmpzXCI7XG5pbXBvcnQgeyBwYXJzZUJpZ2ludERlZiB9IGZyb20gXCIuL3BhcnNlcnMvYmlnaW50LmpzXCI7XG5pbXBvcnQgeyBwYXJzZUJvb2xlYW5EZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2Jvb2xlYW4uanNcIjtcbmltcG9ydCB7IHBhcnNlQnJhbmRlZERlZiB9IGZyb20gXCIuL3BhcnNlcnMvYnJhbmRlZC5qc1wiO1xuaW1wb3J0IHsgcGFyc2VDYXRjaERlZiB9IGZyb20gXCIuL3BhcnNlcnMvY2F0Y2guanNcIjtcbmltcG9ydCB7IHBhcnNlRGF0ZURlZiB9IGZyb20gXCIuL3BhcnNlcnMvZGF0ZS5qc1wiO1xuaW1wb3J0IHsgcGFyc2VEZWZhdWx0RGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9kZWZhdWx0LmpzXCI7XG5pbXBvcnQgeyBwYXJzZUVmZmVjdHNEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2VmZmVjdHMuanNcIjtcbmltcG9ydCB7IHBhcnNlRW51bURlZiB9IGZyb20gXCIuL3BhcnNlcnMvZW51bS5qc1wiO1xuaW1wb3J0IHsgcGFyc2VJbnRlcnNlY3Rpb25EZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2ludGVyc2VjdGlvbi5qc1wiO1xuaW1wb3J0IHsgcGFyc2VMaXRlcmFsRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9saXRlcmFsLmpzXCI7XG5pbXBvcnQgeyBwYXJzZVN0cmluZ0RlZiwgem9kUGF0dGVybnMgfSBmcm9tIFwiLi9wYXJzZXJzL3N0cmluZy5qc1wiO1xuaW1wb3J0IHsgcGFyc2VSZWNvcmREZWYgfSBmcm9tIFwiLi9wYXJzZXJzL3JlY29yZC5qc1wiO1xuaW1wb3J0IHsgcGFyc2VNYXBEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL21hcC5qc1wiO1xuaW1wb3J0IHsgcGFyc2VOYXRpdmVFbnVtRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9uYXRpdmVFbnVtLmpzXCI7XG5pbXBvcnQgeyBwYXJzZU5ldmVyRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9uZXZlci5qc1wiO1xuaW1wb3J0IHsgcGFyc2VOdWxsRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9udWxsLmpzXCI7XG5pbXBvcnQgeyBwYXJzZVVuaW9uRGVmLCBwcmltaXRpdmVNYXBwaW5ncyB9IGZyb20gXCIuL3BhcnNlcnMvdW5pb24uanNcIjtcbmltcG9ydCB7IHBhcnNlTnVsbGFibGVEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL251bGxhYmxlLmpzXCI7XG5pbXBvcnQgeyBwYXJzZU51bWJlckRlZiB9IGZyb20gXCIuL3BhcnNlcnMvbnVtYmVyLmpzXCI7XG5pbXBvcnQgeyBwYXJzZU9iamVjdERlZiB9IGZyb20gXCIuL3BhcnNlcnMvb2JqZWN0LmpzXCI7XG5pbXBvcnQgeyBwYXJzZU9wdGlvbmFsRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9vcHRpb25hbC5qc1wiO1xuaW1wb3J0IHsgcGFyc2VQaXBlbGluZURlZiB9IGZyb20gXCIuL3BhcnNlcnMvcGlwZWxpbmUuanNcIjtcbmltcG9ydCB7IHBhcnNlUHJvbWlzZURlZiB9IGZyb20gXCIuL3BhcnNlcnMvcHJvbWlzZS5qc1wiO1xuaW1wb3J0IHsgcGFyc2VTZXREZWYgfSBmcm9tIFwiLi9wYXJzZXJzL3NldC5qc1wiO1xuaW1wb3J0IHsgcGFyc2VUdXBsZURlZiB9IGZyb20gXCIuL3BhcnNlcnMvdHVwbGUuanNcIjtcbmltcG9ydCB7IHBhcnNlVW5kZWZpbmVkRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy91bmRlZmluZWQuanNcIjtcbmltcG9ydCB7IHBhcnNlVW5rbm93bkRlZiB9IGZyb20gXCIuL3BhcnNlcnMvdW5rbm93bi5qc1wiO1xuaW1wb3J0IHsgcGFyc2VSZWFkb25seURlZiB9IGZyb20gXCIuL3BhcnNlcnMvcmVhZG9ubHkuanNcIjtcbmltcG9ydCB7IHNlbGVjdFBhcnNlciB9IGZyb20gXCIuL3NlbGVjdFBhcnNlci5qc1wiO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi9wYXJzZURlZi5qc1wiO1xuaW1wb3J0IHsgem9kVG9Kc29uU2NoZW1hIH0gZnJvbSBcIi4vem9kVG9Kc29uU2NoZW1hLmpzXCI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js":
/*!*************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js ***!
  \*************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseDef: () => (/* binding */ parseDef)\n/* harmony export */ });\n/* harmony import */ var _Options_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Options.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/Options.js\");\n/* harmony import */ var _getRelativePath_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getRelativePath.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/getRelativePath.js\");\n/* harmony import */ var _parsers_any_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./parsers/any.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.js\");\n/* harmony import */ var _selectParser_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./selectParser.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/selectParser.js\");\n\n\n\n\n\n//#region src/utils/zod-to-json-schema/parseDef.ts\nfunction parseDef(def, refs, forceResolution = false) {\n\tconst seenItem = refs.seen.get(def);\n\tif (refs.override) {\n\t\tconst overrideResult = refs.override?.(def, refs, seenItem, forceResolution);\n\t\tif (overrideResult !== _Options_js__WEBPACK_IMPORTED_MODULE_0__.ignoreOverride) return overrideResult;\n\t}\n\tif (seenItem && !forceResolution) {\n\t\tconst seenSchema = get$ref(seenItem, refs);\n\t\tif (seenSchema !== void 0) return seenSchema;\n\t}\n\tconst newItem = {\n\t\tdef,\n\t\tpath: refs.currentPath,\n\t\tjsonSchema: void 0\n\t};\n\trefs.seen.set(def, newItem);\n\tconst jsonSchemaOrGetter = (0,_selectParser_js__WEBPACK_IMPORTED_MODULE_3__.selectParser)(def, def.typeName, refs);\n\tconst jsonSchema = typeof jsonSchemaOrGetter === \"function\" ? parseDef(jsonSchemaOrGetter(), refs) : jsonSchemaOrGetter;\n\tif (jsonSchema) addMeta(def, refs, jsonSchema);\n\tif (refs.postProcess) {\n\t\tconst postProcessResult = refs.postProcess(jsonSchema, def, refs);\n\t\tnewItem.jsonSchema = jsonSchema;\n\t\treturn postProcessResult;\n\t}\n\tnewItem.jsonSchema = jsonSchema;\n\treturn jsonSchema;\n}\nconst get$ref = (item, refs) => {\n\tswitch (refs.$refStrategy) {\n\t\tcase \"root\": return { $ref: item.path.join(\"/\") };\n\t\tcase \"relative\": return { $ref: (0,_getRelativePath_js__WEBPACK_IMPORTED_MODULE_1__.getRelativePath)(refs.currentPath, item.path) };\n\t\tcase \"none\":\n\t\tcase \"seen\":\n\t\t\tif (item.path.length < refs.currentPath.length && item.path.every((value, index) => refs.currentPath[index] === value)) {\n\t\t\t\tconsole.warn(`Recursive reference detected at ${refs.currentPath.join(\"/\")}! Defaulting to any`);\n\t\t\t\treturn (0,_parsers_any_js__WEBPACK_IMPORTED_MODULE_2__.parseAnyDef)(refs);\n\t\t\t}\n\t\t\treturn refs.$refStrategy === \"seen\" ? (0,_parsers_any_js__WEBPACK_IMPORTED_MODULE_2__.parseAnyDef)(refs) : void 0;\n\t}\n};\nconst addMeta = (def, refs, jsonSchema) => {\n\tif (def.description) {\n\t\tjsonSchema.description = def.description;\n\t\tif (refs.markdownDescription) jsonSchema.markdownDescription = def.description;\n\t}\n\treturn jsonSchema;\n};\n\n//#endregion\n\n//# sourceMappingURL=parseDef.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2VEZWYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBOEM7QUFDUztBQUNSO0FBQ0U7O0FBRWpEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsdURBQWM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw4REFBWTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEIsNEJBQTRCLE1BQU0sb0VBQWU7QUFDakQ7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELDJCQUEyQjtBQUMvRSxXQUFXLDREQUFXO0FBQ3RCO0FBQ0EseUNBQXlDLDREQUFXO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNvQjtBQUNwQiIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlRGVmLmpzP2U4NjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaWdub3JlT3ZlcnJpZGUgfSBmcm9tIFwiLi9PcHRpb25zLmpzXCI7XG5pbXBvcnQgeyBnZXRSZWxhdGl2ZVBhdGggfSBmcm9tIFwiLi9nZXRSZWxhdGl2ZVBhdGguanNcIjtcbmltcG9ydCB7IHBhcnNlQW55RGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9hbnkuanNcIjtcbmltcG9ydCB7IHNlbGVjdFBhcnNlciB9IGZyb20gXCIuL3NlbGVjdFBhcnNlci5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZURlZi50c1xuZnVuY3Rpb24gcGFyc2VEZWYoZGVmLCByZWZzLCBmb3JjZVJlc29sdXRpb24gPSBmYWxzZSkge1xuXHRjb25zdCBzZWVuSXRlbSA9IHJlZnMuc2Vlbi5nZXQoZGVmKTtcblx0aWYgKHJlZnMub3ZlcnJpZGUpIHtcblx0XHRjb25zdCBvdmVycmlkZVJlc3VsdCA9IHJlZnMub3ZlcnJpZGU/LihkZWYsIHJlZnMsIHNlZW5JdGVtLCBmb3JjZVJlc29sdXRpb24pO1xuXHRcdGlmIChvdmVycmlkZVJlc3VsdCAhPT0gaWdub3JlT3ZlcnJpZGUpIHJldHVybiBvdmVycmlkZVJlc3VsdDtcblx0fVxuXHRpZiAoc2Vlbkl0ZW0gJiYgIWZvcmNlUmVzb2x1dGlvbikge1xuXHRcdGNvbnN0IHNlZW5TY2hlbWEgPSBnZXQkcmVmKHNlZW5JdGVtLCByZWZzKTtcblx0XHRpZiAoc2VlblNjaGVtYSAhPT0gdm9pZCAwKSByZXR1cm4gc2VlblNjaGVtYTtcblx0fVxuXHRjb25zdCBuZXdJdGVtID0ge1xuXHRcdGRlZixcblx0XHRwYXRoOiByZWZzLmN1cnJlbnRQYXRoLFxuXHRcdGpzb25TY2hlbWE6IHZvaWQgMFxuXHR9O1xuXHRyZWZzLnNlZW4uc2V0KGRlZiwgbmV3SXRlbSk7XG5cdGNvbnN0IGpzb25TY2hlbWFPckdldHRlciA9IHNlbGVjdFBhcnNlcihkZWYsIGRlZi50eXBlTmFtZSwgcmVmcyk7XG5cdGNvbnN0IGpzb25TY2hlbWEgPSB0eXBlb2YganNvblNjaGVtYU9yR2V0dGVyID09PSBcImZ1bmN0aW9uXCIgPyBwYXJzZURlZihqc29uU2NoZW1hT3JHZXR0ZXIoKSwgcmVmcykgOiBqc29uU2NoZW1hT3JHZXR0ZXI7XG5cdGlmIChqc29uU2NoZW1hKSBhZGRNZXRhKGRlZiwgcmVmcywganNvblNjaGVtYSk7XG5cdGlmIChyZWZzLnBvc3RQcm9jZXNzKSB7XG5cdFx0Y29uc3QgcG9zdFByb2Nlc3NSZXN1bHQgPSByZWZzLnBvc3RQcm9jZXNzKGpzb25TY2hlbWEsIGRlZiwgcmVmcyk7XG5cdFx0bmV3SXRlbS5qc29uU2NoZW1hID0ganNvblNjaGVtYTtcblx0XHRyZXR1cm4gcG9zdFByb2Nlc3NSZXN1bHQ7XG5cdH1cblx0bmV3SXRlbS5qc29uU2NoZW1hID0ganNvblNjaGVtYTtcblx0cmV0dXJuIGpzb25TY2hlbWE7XG59XG5jb25zdCBnZXQkcmVmID0gKGl0ZW0sIHJlZnMpID0+IHtcblx0c3dpdGNoIChyZWZzLiRyZWZTdHJhdGVneSkge1xuXHRcdGNhc2UgXCJyb290XCI6IHJldHVybiB7ICRyZWY6IGl0ZW0ucGF0aC5qb2luKFwiL1wiKSB9O1xuXHRcdGNhc2UgXCJyZWxhdGl2ZVwiOiByZXR1cm4geyAkcmVmOiBnZXRSZWxhdGl2ZVBhdGgocmVmcy5jdXJyZW50UGF0aCwgaXRlbS5wYXRoKSB9O1xuXHRcdGNhc2UgXCJub25lXCI6XG5cdFx0Y2FzZSBcInNlZW5cIjpcblx0XHRcdGlmIChpdGVtLnBhdGgubGVuZ3RoIDwgcmVmcy5jdXJyZW50UGF0aC5sZW5ndGggJiYgaXRlbS5wYXRoLmV2ZXJ5KCh2YWx1ZSwgaW5kZXgpID0+IHJlZnMuY3VycmVudFBhdGhbaW5kZXhdID09PSB2YWx1ZSkpIHtcblx0XHRcdFx0Y29uc29sZS53YXJuKGBSZWN1cnNpdmUgcmVmZXJlbmNlIGRldGVjdGVkIGF0ICR7cmVmcy5jdXJyZW50UGF0aC5qb2luKFwiL1wiKX0hIERlZmF1bHRpbmcgdG8gYW55YCk7XG5cdFx0XHRcdHJldHVybiBwYXJzZUFueURlZihyZWZzKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiByZWZzLiRyZWZTdHJhdGVneSA9PT0gXCJzZWVuXCIgPyBwYXJzZUFueURlZihyZWZzKSA6IHZvaWQgMDtcblx0fVxufTtcbmNvbnN0IGFkZE1ldGEgPSAoZGVmLCByZWZzLCBqc29uU2NoZW1hKSA9PiB7XG5cdGlmIChkZWYuZGVzY3JpcHRpb24pIHtcblx0XHRqc29uU2NoZW1hLmRlc2NyaXB0aW9uID0gZGVmLmRlc2NyaXB0aW9uO1xuXHRcdGlmIChyZWZzLm1hcmtkb3duRGVzY3JpcHRpb24pIGpzb25TY2hlbWEubWFya2Rvd25EZXNjcmlwdGlvbiA9IGRlZi5kZXNjcmlwdGlvbjtcblx0fVxuXHRyZXR1cm4ganNvblNjaGVtYTtcbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgcGFyc2VEZWYgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnNlRGVmLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.js":
/*!****************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.js ***!
  \****************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseAnyDef: () => (/* binding */ parseAnyDef)\n/* harmony export */ });\n/* harmony import */ var _getRelativePath_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../getRelativePath.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/getRelativePath.js\");\n\n\n//#region src/utils/zod-to-json-schema/parsers/any.ts\nfunction parseAnyDef(refs) {\n\tif (refs.target !== \"openAi\") return {};\n\tconst anyDefinitionPath = [\n\t\t...refs.basePath,\n\t\trefs.definitionPath,\n\t\trefs.openAiAnyTypeName\n\t];\n\trefs.flags.hasReferencedOpenAiAnyType = true;\n\treturn { $ref: refs.$refStrategy === \"relative\" ? (0,_getRelativePath_js__WEBPACK_IMPORTED_MODULE_0__.getRelativePath)(anyDefinitionPath, refs.currentPath) : anyDefinitionPath.join(\"/\") };\n}\n\n//#endregion\n\n//# sourceMappingURL=any.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9hbnkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBd0Q7O0FBRXhEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUseUNBQXlDLG9FQUFlO0FBQ2xFOztBQUVBO0FBQ3VCO0FBQ3ZCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9hbnkuanM/MjY1MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRSZWxhdGl2ZVBhdGggfSBmcm9tIFwiLi4vZ2V0UmVsYXRpdmVQYXRoLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvYW55LnRzXG5mdW5jdGlvbiBwYXJzZUFueURlZihyZWZzKSB7XG5cdGlmIChyZWZzLnRhcmdldCAhPT0gXCJvcGVuQWlcIikgcmV0dXJuIHt9O1xuXHRjb25zdCBhbnlEZWZpbml0aW9uUGF0aCA9IFtcblx0XHQuLi5yZWZzLmJhc2VQYXRoLFxuXHRcdHJlZnMuZGVmaW5pdGlvblBhdGgsXG5cdFx0cmVmcy5vcGVuQWlBbnlUeXBlTmFtZVxuXHRdO1xuXHRyZWZzLmZsYWdzLmhhc1JlZmVyZW5jZWRPcGVuQWlBbnlUeXBlID0gdHJ1ZTtcblx0cmV0dXJuIHsgJHJlZjogcmVmcy4kcmVmU3RyYXRlZ3kgPT09IFwicmVsYXRpdmVcIiA/IGdldFJlbGF0aXZlUGF0aChhbnlEZWZpbml0aW9uUGF0aCwgcmVmcy5jdXJyZW50UGF0aCkgOiBhbnlEZWZpbml0aW9uUGF0aC5qb2luKFwiL1wiKSB9O1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IHBhcnNlQW55RGVmIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hbnkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/array.js":
/*!******************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/array.js ***!
  \******************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseArrayDef: () => (/* binding */ parseArrayDef)\n/* harmony export */ });\n/* harmony import */ var _errorMessages_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errorMessages.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/errorMessages.js\");\n/* harmony import */ var _parseDef_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../parseDef.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\");\n/* harmony import */ var zod_v3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zod/v3 */ \"(rsc)/./node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.js\");\n\n\n\n\n//#region src/utils/zod-to-json-schema/parsers/array.ts\nfunction parseArrayDef(def, refs) {\n\tconst res = { type: \"array\" };\n\tif (def.type?._def && def.type?._def?.typeName !== zod_v3__WEBPACK_IMPORTED_MODULE_2__.ZodFirstPartyTypeKind.ZodAny) res.items = (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_1__.parseDef)(def.type._def, {\n\t\t...refs,\n\t\tcurrentPath: [...refs.currentPath, \"items\"]\n\t});\n\tif (def.minLength) (0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"minItems\", def.minLength.value, def.minLength.message, refs);\n\tif (def.maxLength) (0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"maxItems\", def.maxLength.value, def.maxLength.message, refs);\n\tif (def.exactLength) {\n\t\t(0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"minItems\", def.exactLength.value, def.exactLength.message, refs);\n\t\t(0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"maxItems\", def.exactLength.value, def.exactLength.message, refs);\n\t}\n\treturn res;\n}\n\n//#endregion\n\n//# sourceMappingURL=array.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9hcnJheS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWdFO0FBQ3RCO0FBQ0s7O0FBRS9DO0FBQ0E7QUFDQSxlQUFlO0FBQ2Ysb0RBQW9ELHlEQUFxQixxQkFBcUIsc0RBQVE7QUFDdEc7QUFDQTtBQUNBLEVBQUU7QUFDRixvQkFBb0IsNEVBQXlCO0FBQzdDLG9CQUFvQiw0RUFBeUI7QUFDN0M7QUFDQSxFQUFFLDRFQUF5QjtBQUMzQixFQUFFLDRFQUF5QjtBQUMzQjtBQUNBO0FBQ0E7O0FBRUE7QUFDeUI7QUFDekIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2FycmF5LmpzPzZmNjMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyB9IGZyb20gXCIuLi9lcnJvck1lc3NhZ2VzLmpzXCI7XG5pbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5qc1wiO1xuaW1wb3J0IHsgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kIH0gZnJvbSBcInpvZC92M1wiO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2FycmF5LnRzXG5mdW5jdGlvbiBwYXJzZUFycmF5RGVmKGRlZiwgcmVmcykge1xuXHRjb25zdCByZXMgPSB7IHR5cGU6IFwiYXJyYXlcIiB9O1xuXHRpZiAoZGVmLnR5cGU/Ll9kZWYgJiYgZGVmLnR5cGU/Ll9kZWY/LnR5cGVOYW1lICE9PSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQW55KSByZXMuaXRlbXMgPSBwYXJzZURlZihkZWYudHlwZS5fZGVmLCB7XG5cdFx0Li4ucmVmcyxcblx0XHRjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiaXRlbXNcIl1cblx0fSk7XG5cdGlmIChkZWYubWluTGVuZ3RoKSBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgXCJtaW5JdGVtc1wiLCBkZWYubWluTGVuZ3RoLnZhbHVlLCBkZWYubWluTGVuZ3RoLm1lc3NhZ2UsIHJlZnMpO1xuXHRpZiAoZGVmLm1heExlbmd0aCkgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwibWF4SXRlbXNcIiwgZGVmLm1heExlbmd0aC52YWx1ZSwgZGVmLm1heExlbmd0aC5tZXNzYWdlLCByZWZzKTtcblx0aWYgKGRlZi5leGFjdExlbmd0aCkge1xuXHRcdHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcIm1pbkl0ZW1zXCIsIGRlZi5leGFjdExlbmd0aC52YWx1ZSwgZGVmLmV4YWN0TGVuZ3RoLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcIm1heEl0ZW1zXCIsIGRlZi5leGFjdExlbmd0aC52YWx1ZSwgZGVmLmV4YWN0TGVuZ3RoLm1lc3NhZ2UsIHJlZnMpO1xuXHR9XG5cdHJldHVybiByZXM7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgcGFyc2VBcnJheURlZiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXJyYXkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/array.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/bigint.js":
/*!*******************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/bigint.js ***!
  \*******************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseBigintDef: () => (/* binding */ parseBigintDef)\n/* harmony export */ });\n/* harmony import */ var _errorMessages_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errorMessages.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/errorMessages.js\");\n\n\n//#region src/utils/zod-to-json-schema/parsers/bigint.ts\nfunction parseBigintDef(def, refs) {\n\tconst res = {\n\t\ttype: \"integer\",\n\t\tformat: \"int64\"\n\t};\n\tif (!def.checks) return res;\n\tfor (const check of def.checks) switch (check.kind) {\n\t\tcase \"min\":\n\t\t\tif (refs.target === \"jsonSchema7\") if (check.inclusive) (0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"minimum\", check.value, check.message, refs);\n\t\t\telse (0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"exclusiveMinimum\", check.value, check.message, refs);\n\t\t\telse {\n\t\t\t\tif (!check.inclusive) res.exclusiveMinimum = true;\n\t\t\t\t(0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"minimum\", check.value, check.message, refs);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"max\":\n\t\t\tif (refs.target === \"jsonSchema7\") if (check.inclusive) (0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"maximum\", check.value, check.message, refs);\n\t\t\telse (0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"exclusiveMaximum\", check.value, check.message, refs);\n\t\t\telse {\n\t\t\t\tif (!check.inclusive) res.exclusiveMaximum = true;\n\t\t\t\t(0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"maximum\", check.value, check.message, refs);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"multipleOf\":\n\t\t\t(0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"multipleOf\", check.value, check.message, refs);\n\t\t\tbreak;\n\t}\n\treturn res;\n}\n\n//#endregion\n\n//# sourceMappingURL=bigint.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9iaWdpbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBZ0U7O0FBRWhFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCw0RUFBeUI7QUFDcEYsUUFBUSw0RUFBeUI7QUFDakM7QUFDQTtBQUNBLElBQUksNEVBQXlCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCw0RUFBeUI7QUFDcEYsUUFBUSw0RUFBeUI7QUFDakM7QUFDQTtBQUNBLElBQUksNEVBQXlCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLEdBQUcsNEVBQXlCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQzBCO0FBQzFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9iaWdpbnQuanM/M2EyMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzIH0gZnJvbSBcIi4uL2Vycm9yTWVzc2FnZXMuanNcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9iaWdpbnQudHNcbmZ1bmN0aW9uIHBhcnNlQmlnaW50RGVmKGRlZiwgcmVmcykge1xuXHRjb25zdCByZXMgPSB7XG5cdFx0dHlwZTogXCJpbnRlZ2VyXCIsXG5cdFx0Zm9ybWF0OiBcImludDY0XCJcblx0fTtcblx0aWYgKCFkZWYuY2hlY2tzKSByZXR1cm4gcmVzO1xuXHRmb3IgKGNvbnN0IGNoZWNrIG9mIGRlZi5jaGVja3MpIHN3aXRjaCAoY2hlY2sua2luZCkge1xuXHRcdGNhc2UgXCJtaW5cIjpcblx0XHRcdGlmIChyZWZzLnRhcmdldCA9PT0gXCJqc29uU2NoZW1hN1wiKSBpZiAoY2hlY2suaW5jbHVzaXZlKSBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgXCJtaW5pbXVtXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGVsc2Ugc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwiZXhjbHVzaXZlTWluaW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0aWYgKCFjaGVjay5pbmNsdXNpdmUpIHJlcy5leGNsdXNpdmVNaW5pbXVtID0gdHJ1ZTtcblx0XHRcdFx0c2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwibWluaW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG5cdFx0XHR9XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwibWF4XCI6XG5cdFx0XHRpZiAocmVmcy50YXJnZXQgPT09IFwianNvblNjaGVtYTdcIikgaWYgKGNoZWNrLmluY2x1c2l2ZSkgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwibWF4aW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG5cdFx0XHRlbHNlIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcImV4Y2x1c2l2ZU1heGltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGlmICghY2hlY2suaW5jbHVzaXZlKSByZXMuZXhjbHVzaXZlTWF4aW11bSA9IHRydWU7XG5cdFx0XHRcdHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcIm1heGltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0fVxuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcIm11bHRpcGxlT2ZcIjpcblx0XHRcdHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcIm11bHRpcGxlT2ZcIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0YnJlYWs7XG5cdH1cblx0cmV0dXJuIHJlcztcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBwYXJzZUJpZ2ludERlZiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmlnaW50LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/bigint.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/boolean.js":
/*!********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/boolean.js ***!
  \********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseBooleanDef: () => (/* binding */ parseBooleanDef)\n/* harmony export */ });\n//#region src/utils/zod-to-json-schema/parsers/boolean.ts\nfunction parseBooleanDef() {\n\treturn { type: \"boolean\" };\n}\n\n//#endregion\n\n//# sourceMappingURL=boolean.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9ib29sZWFuLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0EsVUFBVTtBQUNWOztBQUVBO0FBQzJCO0FBQzNCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9ib29sZWFuLmpzP2Q4YjkiXSwic291cmNlc0NvbnRlbnQiOlsiLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9ib29sZWFuLnRzXG5mdW5jdGlvbiBwYXJzZUJvb2xlYW5EZWYoKSB7XG5cdHJldHVybiB7IHR5cGU6IFwiYm9vbGVhblwiIH07XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgcGFyc2VCb29sZWFuRGVmIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ib29sZWFuLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/boolean.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/branded.js":
/*!********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/branded.js ***!
  \********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseBrandedDef: () => (/* binding */ parseBrandedDef)\n/* harmony export */ });\n/* harmony import */ var _parseDef_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../parseDef.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\");\n\n\n//#region src/utils/zod-to-json-schema/parsers/branded.ts\nfunction parseBrandedDef(_def, refs) {\n\treturn (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_0__.parseDef)(_def.type._def, refs);\n}\n\n//#endregion\n\n//# sourceMappingURL=branded.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9icmFuZGVkLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTBDOztBQUUxQztBQUNBO0FBQ0EsUUFBUSxzREFBUTtBQUNoQjs7QUFFQTtBQUMyQjtBQUMzQiIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvYnJhbmRlZC5qcz9mZDIzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvYnJhbmRlZC50c1xuZnVuY3Rpb24gcGFyc2VCcmFuZGVkRGVmKF9kZWYsIHJlZnMpIHtcblx0cmV0dXJuIHBhcnNlRGVmKF9kZWYudHlwZS5fZGVmLCByZWZzKTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBwYXJzZUJyYW5kZWREZWYgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJyYW5kZWQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/branded.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/catch.js":
/*!******************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/catch.js ***!
  \******************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseCatchDef: () => (/* binding */ parseCatchDef)\n/* harmony export */ });\n/* harmony import */ var _parseDef_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../parseDef.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\");\n\n\n//#region src/utils/zod-to-json-schema/parsers/catch.ts\nconst parseCatchDef = (def, refs) => {\n\treturn (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_0__.parseDef)(def.innerType._def, refs);\n};\n\n//#endregion\n\n//# sourceMappingURL=catch.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9jYXRjaC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUEwQzs7QUFFMUM7QUFDQTtBQUNBLFFBQVEsc0RBQVE7QUFDaEI7O0FBRUE7QUFDeUI7QUFDekIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2NhdGNoLmpzP2Y5ZWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYuanNcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9jYXRjaC50c1xuY29uc3QgcGFyc2VDYXRjaERlZiA9IChkZWYsIHJlZnMpID0+IHtcblx0cmV0dXJuIHBhcnNlRGVmKGRlZi5pbm5lclR5cGUuX2RlZiwgcmVmcyk7XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IHBhcnNlQ2F0Y2hEZWYgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhdGNoLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/catch.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/date.js":
/*!*****************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/date.js ***!
  \*****************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseDateDef: () => (/* binding */ parseDateDef)\n/* harmony export */ });\n/* harmony import */ var _errorMessages_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errorMessages.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/errorMessages.js\");\n\n\n//#region src/utils/zod-to-json-schema/parsers/date.ts\nfunction parseDateDef(def, refs, overrideDateStrategy) {\n\tconst strategy = overrideDateStrategy ?? refs.dateStrategy;\n\tif (Array.isArray(strategy)) return { anyOf: strategy.map((item) => parseDateDef(def, refs, item)) };\n\tswitch (strategy) {\n\t\tcase \"string\":\n\t\tcase \"format:date-time\": return {\n\t\t\ttype: \"string\",\n\t\t\tformat: \"date-time\"\n\t\t};\n\t\tcase \"format:date\": return {\n\t\t\ttype: \"string\",\n\t\t\tformat: \"date\"\n\t\t};\n\t\tcase \"integer\": return integerDateParser(def, refs);\n\t}\n}\nconst integerDateParser = (def, refs) => {\n\tconst res = {\n\t\ttype: \"integer\",\n\t\tformat: \"unix-time\"\n\t};\n\tif (refs.target === \"openApi3\") return res;\n\tfor (const check of def.checks) switch (check.kind) {\n\t\tcase \"min\":\n\t\t\t(0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"minimum\", check.value, check.message, refs);\n\t\t\tbreak;\n\t\tcase \"max\":\n\t\t\t(0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"maximum\", check.value, check.message, refs);\n\t\t\tbreak;\n\t}\n\treturn res;\n};\n\n//#endregion\n\n//# sourceMappingURL=date.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9kYXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWdFOztBQUVoRTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyw0RUFBeUI7QUFDNUI7QUFDQTtBQUNBLEdBQUcsNEVBQXlCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3dCO0FBQ3hCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9kYXRlLmpzP2E0MDkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyB9IGZyb20gXCIuLi9lcnJvck1lc3NhZ2VzLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvZGF0ZS50c1xuZnVuY3Rpb24gcGFyc2VEYXRlRGVmKGRlZiwgcmVmcywgb3ZlcnJpZGVEYXRlU3RyYXRlZ3kpIHtcblx0Y29uc3Qgc3RyYXRlZ3kgPSBvdmVycmlkZURhdGVTdHJhdGVneSA/PyByZWZzLmRhdGVTdHJhdGVneTtcblx0aWYgKEFycmF5LmlzQXJyYXkoc3RyYXRlZ3kpKSByZXR1cm4geyBhbnlPZjogc3RyYXRlZ3kubWFwKChpdGVtKSA9PiBwYXJzZURhdGVEZWYoZGVmLCByZWZzLCBpdGVtKSkgfTtcblx0c3dpdGNoIChzdHJhdGVneSkge1xuXHRcdGNhc2UgXCJzdHJpbmdcIjpcblx0XHRjYXNlIFwiZm9ybWF0OmRhdGUtdGltZVwiOiByZXR1cm4ge1xuXHRcdFx0dHlwZTogXCJzdHJpbmdcIixcblx0XHRcdGZvcm1hdDogXCJkYXRlLXRpbWVcIlxuXHRcdH07XG5cdFx0Y2FzZSBcImZvcm1hdDpkYXRlXCI6IHJldHVybiB7XG5cdFx0XHR0eXBlOiBcInN0cmluZ1wiLFxuXHRcdFx0Zm9ybWF0OiBcImRhdGVcIlxuXHRcdH07XG5cdFx0Y2FzZSBcImludGVnZXJcIjogcmV0dXJuIGludGVnZXJEYXRlUGFyc2VyKGRlZiwgcmVmcyk7XG5cdH1cbn1cbmNvbnN0IGludGVnZXJEYXRlUGFyc2VyID0gKGRlZiwgcmVmcykgPT4ge1xuXHRjb25zdCByZXMgPSB7XG5cdFx0dHlwZTogXCJpbnRlZ2VyXCIsXG5cdFx0Zm9ybWF0OiBcInVuaXgtdGltZVwiXG5cdH07XG5cdGlmIChyZWZzLnRhcmdldCA9PT0gXCJvcGVuQXBpM1wiKSByZXR1cm4gcmVzO1xuXHRmb3IgKGNvbnN0IGNoZWNrIG9mIGRlZi5jaGVja3MpIHN3aXRjaCAoY2hlY2sua2luZCkge1xuXHRcdGNhc2UgXCJtaW5cIjpcblx0XHRcdHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcIm1pbmltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcIm1heFwiOlxuXHRcdFx0c2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwibWF4aW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG5cdFx0XHRicmVhaztcblx0fVxuXHRyZXR1cm4gcmVzO1xufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBwYXJzZURhdGVEZWYgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/date.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/default.js":
/*!********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/default.js ***!
  \********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseDefaultDef: () => (/* binding */ parseDefaultDef)\n/* harmony export */ });\n/* harmony import */ var _parseDef_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../parseDef.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\");\n\n\n//#region src/utils/zod-to-json-schema/parsers/default.ts\nfunction parseDefaultDef(_def, refs) {\n\treturn {\n\t\t...(0,_parseDef_js__WEBPACK_IMPORTED_MODULE_0__.parseDef)(_def.innerType._def, refs),\n\t\tdefault: _def.defaultValue()\n\t};\n}\n\n//#endregion\n\n//# sourceMappingURL=default.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9kZWZhdWx0LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTBDOztBQUUxQztBQUNBO0FBQ0E7QUFDQSxLQUFLLHNEQUFRO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQzJCO0FBQzNCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9kZWZhdWx0LmpzP2I1NjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYuanNcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9kZWZhdWx0LnRzXG5mdW5jdGlvbiBwYXJzZURlZmF1bHREZWYoX2RlZiwgcmVmcykge1xuXHRyZXR1cm4ge1xuXHRcdC4uLnBhcnNlRGVmKF9kZWYuaW5uZXJUeXBlLl9kZWYsIHJlZnMpLFxuXHRcdGRlZmF1bHQ6IF9kZWYuZGVmYXVsdFZhbHVlKClcblx0fTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBwYXJzZURlZmF1bHREZWYgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlZmF1bHQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/default.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/effects.js":
/*!********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/effects.js ***!
  \********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseEffectsDef: () => (/* binding */ parseEffectsDef)\n/* harmony export */ });\n/* harmony import */ var _any_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./any.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.js\");\n/* harmony import */ var _parseDef_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../parseDef.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\");\n\n\n\n//#region src/utils/zod-to-json-schema/parsers/effects.ts\nfunction parseEffectsDef(_def, refs) {\n\treturn refs.effectStrategy === \"input\" ? (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_1__.parseDef)(_def.schema._def, refs) : (0,_any_js__WEBPACK_IMPORTED_MODULE_0__.parseAnyDef)(refs);\n}\n\n//#endregion\n\n//# sourceMappingURL=effects.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9lZmZlY3RzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF1QztBQUNHOztBQUUxQztBQUNBO0FBQ0EsMENBQTBDLHNEQUFRLDJCQUEyQixvREFBVztBQUN4Rjs7QUFFQTtBQUMyQjtBQUMzQiIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvZWZmZWN0cy5qcz83MWZhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBhcnNlQW55RGVmIH0gZnJvbSBcIi4vYW55LmpzXCI7XG5pbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2VmZmVjdHMudHNcbmZ1bmN0aW9uIHBhcnNlRWZmZWN0c0RlZihfZGVmLCByZWZzKSB7XG5cdHJldHVybiByZWZzLmVmZmVjdFN0cmF0ZWd5ID09PSBcImlucHV0XCIgPyBwYXJzZURlZihfZGVmLnNjaGVtYS5fZGVmLCByZWZzKSA6IHBhcnNlQW55RGVmKHJlZnMpO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IHBhcnNlRWZmZWN0c0RlZiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZWZmZWN0cy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/effects.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/enum.js":
/*!*****************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/enum.js ***!
  \*****************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseEnumDef: () => (/* binding */ parseEnumDef)\n/* harmony export */ });\n//#region src/utils/zod-to-json-schema/parsers/enum.ts\nfunction parseEnumDef(def) {\n\treturn {\n\t\ttype: \"string\",\n\t\tenum: Array.from(def.values)\n\t};\n}\n\n//#endregion\n\n//# sourceMappingURL=enum.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9lbnVtLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUN3QjtBQUN4QiIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvZW51bS5qcz8xNzZkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vI3JlZ2lvbiBzcmMvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvZW51bS50c1xuZnVuY3Rpb24gcGFyc2VFbnVtRGVmKGRlZikge1xuXHRyZXR1cm4ge1xuXHRcdHR5cGU6IFwic3RyaW5nXCIsXG5cdFx0ZW51bTogQXJyYXkuZnJvbShkZWYudmFsdWVzKVxuXHR9O1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IHBhcnNlRW51bURlZiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW51bS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/enum.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/intersection.js":
/*!*************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/intersection.js ***!
  \*************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseIntersectionDef: () => (/* binding */ parseIntersectionDef)\n/* harmony export */ });\n/* harmony import */ var _parseDef_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../parseDef.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\");\n\n\n//#region src/utils/zod-to-json-schema/parsers/intersection.ts\nconst isJsonSchema7AllOfType = (type) => {\n\tif (\"type\" in type && type.type === \"string\") return false;\n\treturn \"allOf\" in type;\n};\nfunction parseIntersectionDef(def, refs) {\n\tconst allOf = [(0,_parseDef_js__WEBPACK_IMPORTED_MODULE_0__.parseDef)(def.left._def, {\n\t\t...refs,\n\t\tcurrentPath: [\n\t\t\t...refs.currentPath,\n\t\t\t\"allOf\",\n\t\t\t\"0\"\n\t\t]\n\t}), (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_0__.parseDef)(def.right._def, {\n\t\t...refs,\n\t\tcurrentPath: [\n\t\t\t...refs.currentPath,\n\t\t\t\"allOf\",\n\t\t\t\"1\"\n\t\t]\n\t})].filter((x) => !!x);\n\tlet unevaluatedProperties = refs.target === \"jsonSchema2019-09\" ? { unevaluatedProperties: false } : void 0;\n\tconst mergedAllOf = [];\n\tallOf.forEach((schema) => {\n\t\tif (isJsonSchema7AllOfType(schema)) {\n\t\t\tmergedAllOf.push(...schema.allOf);\n\t\t\tif (schema.unevaluatedProperties === void 0) unevaluatedProperties = void 0;\n\t\t} else {\n\t\t\tlet nestedSchema = schema;\n\t\t\tif (\"additionalProperties\" in schema && schema.additionalProperties === false) {\n\t\t\t\tconst { additionalProperties,...rest } = schema;\n\t\t\t\tnestedSchema = rest;\n\t\t\t} else unevaluatedProperties = void 0;\n\t\t\tmergedAllOf.push(nestedSchema);\n\t\t}\n\t});\n\treturn mergedAllOf.length ? {\n\t\tallOf: mergedAllOf,\n\t\t...unevaluatedProperties\n\t} : void 0;\n}\n\n//#endregion\n\n//# sourceMappingURL=intersection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9pbnRlcnNlY3Rpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBMEM7O0FBRTFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixzREFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLEdBQUcsc0RBQVE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0YscUVBQXFFLCtCQUErQjtBQUNwRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxZQUFZLCtCQUErQjtBQUMzQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNnQztBQUNoQyIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvaW50ZXJzZWN0aW9uLmpzPzUzOGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYuanNcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9pbnRlcnNlY3Rpb24udHNcbmNvbnN0IGlzSnNvblNjaGVtYTdBbGxPZlR5cGUgPSAodHlwZSkgPT4ge1xuXHRpZiAoXCJ0eXBlXCIgaW4gdHlwZSAmJiB0eXBlLnR5cGUgPT09IFwic3RyaW5nXCIpIHJldHVybiBmYWxzZTtcblx0cmV0dXJuIFwiYWxsT2ZcIiBpbiB0eXBlO1xufTtcbmZ1bmN0aW9uIHBhcnNlSW50ZXJzZWN0aW9uRGVmKGRlZiwgcmVmcykge1xuXHRjb25zdCBhbGxPZiA9IFtwYXJzZURlZihkZWYubGVmdC5fZGVmLCB7XG5cdFx0Li4ucmVmcyxcblx0XHRjdXJyZW50UGF0aDogW1xuXHRcdFx0Li4ucmVmcy5jdXJyZW50UGF0aCxcblx0XHRcdFwiYWxsT2ZcIixcblx0XHRcdFwiMFwiXG5cdFx0XVxuXHR9KSwgcGFyc2VEZWYoZGVmLnJpZ2h0Ll9kZWYsIHtcblx0XHQuLi5yZWZzLFxuXHRcdGN1cnJlbnRQYXRoOiBbXG5cdFx0XHQuLi5yZWZzLmN1cnJlbnRQYXRoLFxuXHRcdFx0XCJhbGxPZlwiLFxuXHRcdFx0XCIxXCJcblx0XHRdXG5cdH0pXS5maWx0ZXIoKHgpID0+ICEheCk7XG5cdGxldCB1bmV2YWx1YXRlZFByb3BlcnRpZXMgPSByZWZzLnRhcmdldCA9PT0gXCJqc29uU2NoZW1hMjAxOS0wOVwiID8geyB1bmV2YWx1YXRlZFByb3BlcnRpZXM6IGZhbHNlIH0gOiB2b2lkIDA7XG5cdGNvbnN0IG1lcmdlZEFsbE9mID0gW107XG5cdGFsbE9mLmZvckVhY2goKHNjaGVtYSkgPT4ge1xuXHRcdGlmIChpc0pzb25TY2hlbWE3QWxsT2ZUeXBlKHNjaGVtYSkpIHtcblx0XHRcdG1lcmdlZEFsbE9mLnB1c2goLi4uc2NoZW1hLmFsbE9mKTtcblx0XHRcdGlmIChzY2hlbWEudW5ldmFsdWF0ZWRQcm9wZXJ0aWVzID09PSB2b2lkIDApIHVuZXZhbHVhdGVkUHJvcGVydGllcyA9IHZvaWQgMDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bGV0IG5lc3RlZFNjaGVtYSA9IHNjaGVtYTtcblx0XHRcdGlmIChcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCIgaW4gc2NoZW1hICYmIHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyA9PT0gZmFsc2UpIHtcblx0XHRcdFx0Y29uc3QgeyBhZGRpdGlvbmFsUHJvcGVydGllcywuLi5yZXN0IH0gPSBzY2hlbWE7XG5cdFx0XHRcdG5lc3RlZFNjaGVtYSA9IHJlc3Q7XG5cdFx0XHR9IGVsc2UgdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzID0gdm9pZCAwO1xuXHRcdFx0bWVyZ2VkQWxsT2YucHVzaChuZXN0ZWRTY2hlbWEpO1xuXHRcdH1cblx0fSk7XG5cdHJldHVybiBtZXJnZWRBbGxPZi5sZW5ndGggPyB7XG5cdFx0YWxsT2Y6IG1lcmdlZEFsbE9mLFxuXHRcdC4uLnVuZXZhbHVhdGVkUHJvcGVydGllc1xuXHR9IDogdm9pZCAwO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IHBhcnNlSW50ZXJzZWN0aW9uRGVmIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRlcnNlY3Rpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/intersection.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/literal.js":
/*!********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/literal.js ***!
  \********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseLiteralDef: () => (/* binding */ parseLiteralDef)\n/* harmony export */ });\n//#region src/utils/zod-to-json-schema/parsers/literal.ts\nfunction parseLiteralDef(def, refs) {\n\tconst parsedType = typeof def.value;\n\tif (parsedType !== \"bigint\" && parsedType !== \"number\" && parsedType !== \"boolean\" && parsedType !== \"string\") return { type: Array.isArray(def.value) ? \"array\" : \"object\" };\n\tif (refs.target === \"openApi3\") return {\n\t\ttype: parsedType === \"bigint\" ? \"integer\" : parsedType,\n\t\tenum: [def.value]\n\t};\n\treturn {\n\t\ttype: parsedType === \"bigint\" ? \"integer\" : parsedType,\n\t\tconst: def.value\n\t};\n}\n\n//#endregion\n\n//# sourceMappingURL=literal.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9saXRlcmFsLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQSx5SEFBeUg7QUFDekg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQzJCO0FBQzNCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9saXRlcmFsLmpzPzY2YzIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9saXRlcmFsLnRzXG5mdW5jdGlvbiBwYXJzZUxpdGVyYWxEZWYoZGVmLCByZWZzKSB7XG5cdGNvbnN0IHBhcnNlZFR5cGUgPSB0eXBlb2YgZGVmLnZhbHVlO1xuXHRpZiAocGFyc2VkVHlwZSAhPT0gXCJiaWdpbnRcIiAmJiBwYXJzZWRUeXBlICE9PSBcIm51bWJlclwiICYmIHBhcnNlZFR5cGUgIT09IFwiYm9vbGVhblwiICYmIHBhcnNlZFR5cGUgIT09IFwic3RyaW5nXCIpIHJldHVybiB7IHR5cGU6IEFycmF5LmlzQXJyYXkoZGVmLnZhbHVlKSA/IFwiYXJyYXlcIiA6IFwib2JqZWN0XCIgfTtcblx0aWYgKHJlZnMudGFyZ2V0ID09PSBcIm9wZW5BcGkzXCIpIHJldHVybiB7XG5cdFx0dHlwZTogcGFyc2VkVHlwZSA9PT0gXCJiaWdpbnRcIiA/IFwiaW50ZWdlclwiIDogcGFyc2VkVHlwZSxcblx0XHRlbnVtOiBbZGVmLnZhbHVlXVxuXHR9O1xuXHRyZXR1cm4ge1xuXHRcdHR5cGU6IHBhcnNlZFR5cGUgPT09IFwiYmlnaW50XCIgPyBcImludGVnZXJcIiA6IHBhcnNlZFR5cGUsXG5cdFx0Y29uc3Q6IGRlZi52YWx1ZVxuXHR9O1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IHBhcnNlTGl0ZXJhbERlZiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGl0ZXJhbC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/literal.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/map.js":
/*!****************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/map.js ***!
  \****************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseMapDef: () => (/* binding */ parseMapDef)\n/* harmony export */ });\n/* harmony import */ var _any_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./any.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.js\");\n/* harmony import */ var _record_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./record.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/record.js\");\n/* harmony import */ var _parseDef_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../parseDef.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\");\n\n\n\n\n//#region src/utils/zod-to-json-schema/parsers/map.ts\nfunction parseMapDef(def, refs) {\n\tif (refs.mapStrategy === \"record\") return (0,_record_js__WEBPACK_IMPORTED_MODULE_1__.parseRecordDef)(def, refs);\n\tconst keys = (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_2__.parseDef)(def.keyType._def, {\n\t\t...refs,\n\t\tcurrentPath: [\n\t\t\t...refs.currentPath,\n\t\t\t\"items\",\n\t\t\t\"items\",\n\t\t\t\"0\"\n\t\t]\n\t}) || (0,_any_js__WEBPACK_IMPORTED_MODULE_0__.parseAnyDef)(refs);\n\tconst values = (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_2__.parseDef)(def.valueType._def, {\n\t\t...refs,\n\t\tcurrentPath: [\n\t\t\t...refs.currentPath,\n\t\t\t\"items\",\n\t\t\t\"items\",\n\t\t\t\"1\"\n\t\t]\n\t}) || (0,_any_js__WEBPACK_IMPORTED_MODULE_0__.parseAnyDef)(refs);\n\treturn {\n\t\ttype: \"array\",\n\t\tmaxItems: 125,\n\t\titems: {\n\t\t\ttype: \"array\",\n\t\t\titems: [keys, values],\n\t\t\tminItems: 2,\n\t\t\tmaxItems: 2\n\t\t}\n\t};\n}\n\n//#endregion\n\n//# sourceMappingURL=map.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9tYXAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF1QztBQUNNO0FBQ0g7O0FBRTFDO0FBQ0E7QUFDQSwyQ0FBMkMsMERBQWM7QUFDekQsY0FBYyxzREFBUTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsS0FBSyxvREFBVztBQUNsQixnQkFBZ0Isc0RBQVE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLEtBQUssb0RBQVc7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUN1QjtBQUN2QiIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvbWFwLmpzP2MwMzciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcGFyc2VBbnlEZWYgfSBmcm9tIFwiLi9hbnkuanNcIjtcbmltcG9ydCB7IHBhcnNlUmVjb3JkRGVmIH0gZnJvbSBcIi4vcmVjb3JkLmpzXCI7XG5pbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL21hcC50c1xuZnVuY3Rpb24gcGFyc2VNYXBEZWYoZGVmLCByZWZzKSB7XG5cdGlmIChyZWZzLm1hcFN0cmF0ZWd5ID09PSBcInJlY29yZFwiKSByZXR1cm4gcGFyc2VSZWNvcmREZWYoZGVmLCByZWZzKTtcblx0Y29uc3Qga2V5cyA9IHBhcnNlRGVmKGRlZi5rZXlUeXBlLl9kZWYsIHtcblx0XHQuLi5yZWZzLFxuXHRcdGN1cnJlbnRQYXRoOiBbXG5cdFx0XHQuLi5yZWZzLmN1cnJlbnRQYXRoLFxuXHRcdFx0XCJpdGVtc1wiLFxuXHRcdFx0XCJpdGVtc1wiLFxuXHRcdFx0XCIwXCJcblx0XHRdXG5cdH0pIHx8IHBhcnNlQW55RGVmKHJlZnMpO1xuXHRjb25zdCB2YWx1ZXMgPSBwYXJzZURlZihkZWYudmFsdWVUeXBlLl9kZWYsIHtcblx0XHQuLi5yZWZzLFxuXHRcdGN1cnJlbnRQYXRoOiBbXG5cdFx0XHQuLi5yZWZzLmN1cnJlbnRQYXRoLFxuXHRcdFx0XCJpdGVtc1wiLFxuXHRcdFx0XCJpdGVtc1wiLFxuXHRcdFx0XCIxXCJcblx0XHRdXG5cdH0pIHx8IHBhcnNlQW55RGVmKHJlZnMpO1xuXHRyZXR1cm4ge1xuXHRcdHR5cGU6IFwiYXJyYXlcIixcblx0XHRtYXhJdGVtczogMTI1LFxuXHRcdGl0ZW1zOiB7XG5cdFx0XHR0eXBlOiBcImFycmF5XCIsXG5cdFx0XHRpdGVtczogW2tleXMsIHZhbHVlc10sXG5cdFx0XHRtaW5JdGVtczogMixcblx0XHRcdG1heEl0ZW1zOiAyXG5cdFx0fVxuXHR9O1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IHBhcnNlTWFwRGVmIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXAuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/map.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/nativeEnum.js":
/*!***********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/nativeEnum.js ***!
  \***********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseNativeEnumDef: () => (/* binding */ parseNativeEnumDef)\n/* harmony export */ });\n//#region src/utils/zod-to-json-schema/parsers/nativeEnum.ts\nfunction parseNativeEnumDef(def) {\n\tconst object = def.values;\n\tconst actualKeys = Object.keys(def.values).filter((key) => {\n\t\treturn typeof object[object[key]] !== \"number\";\n\t});\n\tconst actualValues = actualKeys.map((key) => object[key]);\n\tconst parsedTypes = Array.from(new Set(actualValues.map((values) => typeof values)));\n\treturn {\n\t\ttype: parsedTypes.length === 1 ? parsedTypes[0] === \"string\" ? \"string\" : \"number\" : [\"string\", \"number\"],\n\t\tenum: actualValues\n\t};\n}\n\n//#endregion\n\n//# sourceMappingURL=nativeEnum.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9uYXRpdmVFbnVtLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQzhCO0FBQzlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9uYXRpdmVFbnVtLmpzPzVhY2QiXSwic291cmNlc0NvbnRlbnQiOlsiLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9uYXRpdmVFbnVtLnRzXG5mdW5jdGlvbiBwYXJzZU5hdGl2ZUVudW1EZWYoZGVmKSB7XG5cdGNvbnN0IG9iamVjdCA9IGRlZi52YWx1ZXM7XG5cdGNvbnN0IGFjdHVhbEtleXMgPSBPYmplY3Qua2V5cyhkZWYudmFsdWVzKS5maWx0ZXIoKGtleSkgPT4ge1xuXHRcdHJldHVybiB0eXBlb2Ygb2JqZWN0W29iamVjdFtrZXldXSAhPT0gXCJudW1iZXJcIjtcblx0fSk7XG5cdGNvbnN0IGFjdHVhbFZhbHVlcyA9IGFjdHVhbEtleXMubWFwKChrZXkpID0+IG9iamVjdFtrZXldKTtcblx0Y29uc3QgcGFyc2VkVHlwZXMgPSBBcnJheS5mcm9tKG5ldyBTZXQoYWN0dWFsVmFsdWVzLm1hcCgodmFsdWVzKSA9PiB0eXBlb2YgdmFsdWVzKSkpO1xuXHRyZXR1cm4ge1xuXHRcdHR5cGU6IHBhcnNlZFR5cGVzLmxlbmd0aCA9PT0gMSA/IHBhcnNlZFR5cGVzWzBdID09PSBcInN0cmluZ1wiID8gXCJzdHJpbmdcIiA6IFwibnVtYmVyXCIgOiBbXCJzdHJpbmdcIiwgXCJudW1iZXJcIl0sXG5cdFx0ZW51bTogYWN0dWFsVmFsdWVzXG5cdH07XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgcGFyc2VOYXRpdmVFbnVtRGVmIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uYXRpdmVFbnVtLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/nativeEnum.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/never.js":
/*!******************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/never.js ***!
  \******************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseNeverDef: () => (/* binding */ parseNeverDef)\n/* harmony export */ });\n/* harmony import */ var _any_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./any.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.js\");\n\n\n//#region src/utils/zod-to-json-schema/parsers/never.ts\nfunction parseNeverDef(refs) {\n\treturn refs.target === \"openAi\" ? void 0 : { not: (0,_any_js__WEBPACK_IMPORTED_MODULE_0__.parseAnyDef)({\n\t\t...refs,\n\t\tcurrentPath: [...refs.currentPath, \"not\"]\n\t}) };\n}\n\n//#endregion\n\n//# sourceMappingURL=never.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9uZXZlci5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUF1Qzs7QUFFdkM7QUFDQTtBQUNBLDhDQUE4QyxLQUFLLG9EQUFXO0FBQzlEO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDeUI7QUFDekIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL25ldmVyLmpzPzdhMDIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcGFyc2VBbnlEZWYgfSBmcm9tIFwiLi9hbnkuanNcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9uZXZlci50c1xuZnVuY3Rpb24gcGFyc2VOZXZlckRlZihyZWZzKSB7XG5cdHJldHVybiByZWZzLnRhcmdldCA9PT0gXCJvcGVuQWlcIiA/IHZvaWQgMCA6IHsgbm90OiBwYXJzZUFueURlZih7XG5cdFx0Li4ucmVmcyxcblx0XHRjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwibm90XCJdXG5cdH0pIH07XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgcGFyc2VOZXZlckRlZiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmV2ZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/never.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/null.js":
/*!*****************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/null.js ***!
  \*****************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseNullDef: () => (/* binding */ parseNullDef)\n/* harmony export */ });\n//#region src/utils/zod-to-json-schema/parsers/null.ts\nfunction parseNullDef(refs) {\n\treturn refs.target === \"openApi3\" ? {\n\t\tenum: [\"null\"],\n\t\tnullable: true\n\t} : { type: \"null\" };\n}\n\n//#endregion\n\n//# sourceMappingURL=null.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9udWxsLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxJQUFJO0FBQ1A7O0FBRUE7QUFDd0I7QUFDeEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL251bGwuanM/NzIxZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyNyZWdpb24gc3JjL3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL251bGwudHNcbmZ1bmN0aW9uIHBhcnNlTnVsbERlZihyZWZzKSB7XG5cdHJldHVybiByZWZzLnRhcmdldCA9PT0gXCJvcGVuQXBpM1wiID8ge1xuXHRcdGVudW06IFtcIm51bGxcIl0sXG5cdFx0bnVsbGFibGU6IHRydWVcblx0fSA6IHsgdHlwZTogXCJudWxsXCIgfTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBwYXJzZU51bGxEZWYgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW51bGwuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/null.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/nullable.js":
/*!*********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/nullable.js ***!
  \*********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseNullableDef: () => (/* binding */ parseNullableDef)\n/* harmony export */ });\n/* harmony import */ var _union_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./union.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/union.js\");\n/* harmony import */ var _parseDef_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../parseDef.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\");\n\n\n\n//#region src/utils/zod-to-json-schema/parsers/nullable.ts\nfunction parseNullableDef(def, refs) {\n\tif ([\n\t\t\"ZodString\",\n\t\t\"ZodNumber\",\n\t\t\"ZodBigInt\",\n\t\t\"ZodBoolean\",\n\t\t\"ZodNull\"\n\t].includes(def.innerType._def.typeName) && (!def.innerType._def.checks || !def.innerType._def.checks.length)) {\n\t\tif (refs.target === \"openApi3\") return {\n\t\t\ttype: _union_js__WEBPACK_IMPORTED_MODULE_0__.primitiveMappings[def.innerType._def.typeName],\n\t\t\tnullable: true\n\t\t};\n\t\treturn { type: [_union_js__WEBPACK_IMPORTED_MODULE_0__.primitiveMappings[def.innerType._def.typeName], \"null\"] };\n\t}\n\tif (refs.target === \"openApi3\") {\n\t\tconst base$1 = (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_1__.parseDef)(def.innerType._def, {\n\t\t\t...refs,\n\t\t\tcurrentPath: [...refs.currentPath]\n\t\t});\n\t\tif (base$1 && \"$ref\" in base$1) return {\n\t\t\tallOf: [base$1],\n\t\t\tnullable: true\n\t\t};\n\t\treturn base$1 && {\n\t\t\t...base$1,\n\t\t\tnullable: true\n\t\t};\n\t}\n\tconst base = (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_1__.parseDef)(def.innerType._def, {\n\t\t...refs,\n\t\tcurrentPath: [\n\t\t\t...refs.currentPath,\n\t\t\t\"anyOf\",\n\t\t\t\"0\"\n\t\t]\n\t});\n\treturn base && { anyOf: [base, { type: \"null\" }] };\n}\n\n//#endregion\n\n//# sourceMappingURL=nullable.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9udWxsYWJsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBK0M7QUFDTDs7QUFFMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHdEQUFpQjtBQUMxQjtBQUNBO0FBQ0EsV0FBVyxPQUFPLHdEQUFpQjtBQUNuQztBQUNBO0FBQ0EsaUJBQWlCLHNEQUFRO0FBQ3pCO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxzREFBUTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Ysa0JBQWtCLGdCQUFnQixjQUFjO0FBQ2hEOztBQUVBO0FBQzRCO0FBQzVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9udWxsYWJsZS5qcz8zYWFjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByaW1pdGl2ZU1hcHBpbmdzIH0gZnJvbSBcIi4vdW5pb24uanNcIjtcbmltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvbnVsbGFibGUudHNcbmZ1bmN0aW9uIHBhcnNlTnVsbGFibGVEZWYoZGVmLCByZWZzKSB7XG5cdGlmIChbXG5cdFx0XCJab2RTdHJpbmdcIixcblx0XHRcIlpvZE51bWJlclwiLFxuXHRcdFwiWm9kQmlnSW50XCIsXG5cdFx0XCJab2RCb29sZWFuXCIsXG5cdFx0XCJab2ROdWxsXCJcblx0XS5pbmNsdWRlcyhkZWYuaW5uZXJUeXBlLl9kZWYudHlwZU5hbWUpICYmICghZGVmLmlubmVyVHlwZS5fZGVmLmNoZWNrcyB8fCAhZGVmLmlubmVyVHlwZS5fZGVmLmNoZWNrcy5sZW5ndGgpKSB7XG5cdFx0aWYgKHJlZnMudGFyZ2V0ID09PSBcIm9wZW5BcGkzXCIpIHJldHVybiB7XG5cdFx0XHR0eXBlOiBwcmltaXRpdmVNYXBwaW5nc1tkZWYuaW5uZXJUeXBlLl9kZWYudHlwZU5hbWVdLFxuXHRcdFx0bnVsbGFibGU6IHRydWVcblx0XHR9O1xuXHRcdHJldHVybiB7IHR5cGU6IFtwcmltaXRpdmVNYXBwaW5nc1tkZWYuaW5uZXJUeXBlLl9kZWYudHlwZU5hbWVdLCBcIm51bGxcIl0gfTtcblx0fVxuXHRpZiAocmVmcy50YXJnZXQgPT09IFwib3BlbkFwaTNcIikge1xuXHRcdGNvbnN0IGJhc2UkMSA9IHBhcnNlRGVmKGRlZi5pbm5lclR5cGUuX2RlZiwge1xuXHRcdFx0Li4ucmVmcyxcblx0XHRcdGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aF1cblx0XHR9KTtcblx0XHRpZiAoYmFzZSQxICYmIFwiJHJlZlwiIGluIGJhc2UkMSkgcmV0dXJuIHtcblx0XHRcdGFsbE9mOiBbYmFzZSQxXSxcblx0XHRcdG51bGxhYmxlOiB0cnVlXG5cdFx0fTtcblx0XHRyZXR1cm4gYmFzZSQxICYmIHtcblx0XHRcdC4uLmJhc2UkMSxcblx0XHRcdG51bGxhYmxlOiB0cnVlXG5cdFx0fTtcblx0fVxuXHRjb25zdCBiYXNlID0gcGFyc2VEZWYoZGVmLmlubmVyVHlwZS5fZGVmLCB7XG5cdFx0Li4ucmVmcyxcblx0XHRjdXJyZW50UGF0aDogW1xuXHRcdFx0Li4ucmVmcy5jdXJyZW50UGF0aCxcblx0XHRcdFwiYW55T2ZcIixcblx0XHRcdFwiMFwiXG5cdFx0XVxuXHR9KTtcblx0cmV0dXJuIGJhc2UgJiYgeyBhbnlPZjogW2Jhc2UsIHsgdHlwZTogXCJudWxsXCIgfV0gfTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBwYXJzZU51bGxhYmxlRGVmIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1udWxsYWJsZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/nullable.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/number.js":
/*!*******************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/number.js ***!
  \*******************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseNumberDef: () => (/* binding */ parseNumberDef)\n/* harmony export */ });\n/* harmony import */ var _errorMessages_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errorMessages.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/errorMessages.js\");\n\n\n//#region src/utils/zod-to-json-schema/parsers/number.ts\nfunction parseNumberDef(def, refs) {\n\tconst res = { type: \"number\" };\n\tif (!def.checks) return res;\n\tfor (const check of def.checks) switch (check.kind) {\n\t\tcase \"int\":\n\t\t\tres.type = \"integer\";\n\t\t\t(0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.addErrorMessage)(res, \"type\", check.message, refs);\n\t\t\tbreak;\n\t\tcase \"min\":\n\t\t\tif (refs.target === \"jsonSchema7\") if (check.inclusive) (0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"minimum\", check.value, check.message, refs);\n\t\t\telse (0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"exclusiveMinimum\", check.value, check.message, refs);\n\t\t\telse {\n\t\t\t\tif (!check.inclusive) res.exclusiveMinimum = true;\n\t\t\t\t(0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"minimum\", check.value, check.message, refs);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"max\":\n\t\t\tif (refs.target === \"jsonSchema7\") if (check.inclusive) (0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"maximum\", check.value, check.message, refs);\n\t\t\telse (0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"exclusiveMaximum\", check.value, check.message, refs);\n\t\t\telse {\n\t\t\t\tif (!check.inclusive) res.exclusiveMaximum = true;\n\t\t\t\t(0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"maximum\", check.value, check.message, refs);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"multipleOf\":\n\t\t\t(0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"multipleOf\", check.value, check.message, refs);\n\t\t\tbreak;\n\t}\n\treturn res;\n}\n\n//#endregion\n\n//# sourceMappingURL=number.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9udW1iZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBaUY7O0FBRWpGO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLGtFQUFlO0FBQ2xCO0FBQ0E7QUFDQSwyREFBMkQsNEVBQXlCO0FBQ3BGLFFBQVEsNEVBQXlCO0FBQ2pDO0FBQ0E7QUFDQSxJQUFJLDRFQUF5QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQSwyREFBMkQsNEVBQXlCO0FBQ3BGLFFBQVEsNEVBQXlCO0FBQ2pDO0FBQ0E7QUFDQSxJQUFJLDRFQUF5QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQSxHQUFHLDRFQUF5QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUMwQjtBQUMxQiIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvbnVtYmVyLmpzPzYwZGEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYWRkRXJyb3JNZXNzYWdlLCBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzIH0gZnJvbSBcIi4uL2Vycm9yTWVzc2FnZXMuanNcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9udW1iZXIudHNcbmZ1bmN0aW9uIHBhcnNlTnVtYmVyRGVmKGRlZiwgcmVmcykge1xuXHRjb25zdCByZXMgPSB7IHR5cGU6IFwibnVtYmVyXCIgfTtcblx0aWYgKCFkZWYuY2hlY2tzKSByZXR1cm4gcmVzO1xuXHRmb3IgKGNvbnN0IGNoZWNrIG9mIGRlZi5jaGVja3MpIHN3aXRjaCAoY2hlY2sua2luZCkge1xuXHRcdGNhc2UgXCJpbnRcIjpcblx0XHRcdHJlcy50eXBlID0gXCJpbnRlZ2VyXCI7XG5cdFx0XHRhZGRFcnJvck1lc3NhZ2UocmVzLCBcInR5cGVcIiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwibWluXCI6XG5cdFx0XHRpZiAocmVmcy50YXJnZXQgPT09IFwianNvblNjaGVtYTdcIikgaWYgKGNoZWNrLmluY2x1c2l2ZSkgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwibWluaW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG5cdFx0XHRlbHNlIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcImV4Y2x1c2l2ZU1pbmltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGlmICghY2hlY2suaW5jbHVzaXZlKSByZXMuZXhjbHVzaXZlTWluaW11bSA9IHRydWU7XG5cdFx0XHRcdHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcIm1pbmltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0fVxuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcIm1heFwiOlxuXHRcdFx0aWYgKHJlZnMudGFyZ2V0ID09PSBcImpzb25TY2hlbWE3XCIpIGlmIChjaGVjay5pbmNsdXNpdmUpIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcIm1heGltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0ZWxzZSBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgXCJleGNsdXNpdmVNYXhpbXVtXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRpZiAoIWNoZWNrLmluY2x1c2l2ZSkgcmVzLmV4Y2x1c2l2ZU1heGltdW0gPSB0cnVlO1xuXHRcdFx0XHRzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgXCJtYXhpbXVtXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdH1cblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJtdWx0aXBsZU9mXCI6XG5cdFx0XHRzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgXCJtdWx0aXBsZU9mXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGJyZWFrO1xuXHR9XG5cdHJldHVybiByZXM7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgcGFyc2VOdW1iZXJEZWYgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW51bWJlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/number.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/object.js":
/*!*******************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/object.js ***!
  \*******************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseObjectDef: () => (/* binding */ parseObjectDef)\n/* harmony export */ });\n/* harmony import */ var _parseDef_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../parseDef.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\");\n\n\n//#region src/utils/zod-to-json-schema/parsers/object.ts\nfunction parseObjectDef(def, refs) {\n\tconst forceOptionalIntoNullable = refs.target === \"openAi\";\n\tconst result = {\n\t\ttype: \"object\",\n\t\tproperties: {}\n\t};\n\tconst required = [];\n\tconst shape = def.shape();\n\tfor (const propName in shape) {\n\t\tlet propDef = shape[propName];\n\t\tif (propDef === void 0 || propDef._def === void 0) continue;\n\t\tlet propOptional = safeIsOptional(propDef);\n\t\tif (propOptional && forceOptionalIntoNullable) {\n\t\t\tif (propDef._def.typeName === \"ZodOptional\") propDef = propDef._def.innerType;\n\t\t\tif (!propDef.isNullable()) propDef = propDef.nullable();\n\t\t\tpropOptional = false;\n\t\t}\n\t\tconst parsedDef = (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_0__.parseDef)(propDef._def, {\n\t\t\t...refs,\n\t\t\tcurrentPath: [\n\t\t\t\t...refs.currentPath,\n\t\t\t\t\"properties\",\n\t\t\t\tpropName\n\t\t\t],\n\t\t\tpropertyPath: [\n\t\t\t\t...refs.currentPath,\n\t\t\t\t\"properties\",\n\t\t\t\tpropName\n\t\t\t]\n\t\t});\n\t\tif (parsedDef === void 0) continue;\n\t\tresult.properties[propName] = parsedDef;\n\t\tif (!propOptional) required.push(propName);\n\t}\n\tif (required.length) result.required = required;\n\tconst additionalProperties = decideAdditionalProperties(def, refs);\n\tif (additionalProperties !== void 0) result.additionalProperties = additionalProperties;\n\treturn result;\n}\nfunction decideAdditionalProperties(def, refs) {\n\tif (def.catchall._def.typeName !== \"ZodNever\") return (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_0__.parseDef)(def.catchall._def, {\n\t\t...refs,\n\t\tcurrentPath: [...refs.currentPath, \"additionalProperties\"]\n\t});\n\tswitch (def.unknownKeys) {\n\t\tcase \"passthrough\": return refs.allowedAdditionalProperties;\n\t\tcase \"strict\": return refs.rejectedAdditionalProperties;\n\t\tcase \"strip\": return refs.removeAdditionalStrategy === \"strict\" ? refs.allowedAdditionalProperties : refs.rejectedAdditionalProperties;\n\t}\n}\nfunction safeIsOptional(schema) {\n\ttry {\n\t\treturn schema.isOptional();\n\t} catch {\n\t\treturn true;\n\t}\n}\n\n//#endregion\n\n//# sourceMappingURL=object.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9vYmplY3QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBMEM7O0FBRTFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixzREFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELHNEQUFRO0FBQy9EO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUMwQjtBQUMxQiIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvb2JqZWN0LmpzPzJlYWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYuanNcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9vYmplY3QudHNcbmZ1bmN0aW9uIHBhcnNlT2JqZWN0RGVmKGRlZiwgcmVmcykge1xuXHRjb25zdCBmb3JjZU9wdGlvbmFsSW50b051bGxhYmxlID0gcmVmcy50YXJnZXQgPT09IFwib3BlbkFpXCI7XG5cdGNvbnN0IHJlc3VsdCA9IHtcblx0XHR0eXBlOiBcIm9iamVjdFwiLFxuXHRcdHByb3BlcnRpZXM6IHt9XG5cdH07XG5cdGNvbnN0IHJlcXVpcmVkID0gW107XG5cdGNvbnN0IHNoYXBlID0gZGVmLnNoYXBlKCk7XG5cdGZvciAoY29uc3QgcHJvcE5hbWUgaW4gc2hhcGUpIHtcblx0XHRsZXQgcHJvcERlZiA9IHNoYXBlW3Byb3BOYW1lXTtcblx0XHRpZiAocHJvcERlZiA9PT0gdm9pZCAwIHx8IHByb3BEZWYuX2RlZiA9PT0gdm9pZCAwKSBjb250aW51ZTtcblx0XHRsZXQgcHJvcE9wdGlvbmFsID0gc2FmZUlzT3B0aW9uYWwocHJvcERlZik7XG5cdFx0aWYgKHByb3BPcHRpb25hbCAmJiBmb3JjZU9wdGlvbmFsSW50b051bGxhYmxlKSB7XG5cdFx0XHRpZiAocHJvcERlZi5fZGVmLnR5cGVOYW1lID09PSBcIlpvZE9wdGlvbmFsXCIpIHByb3BEZWYgPSBwcm9wRGVmLl9kZWYuaW5uZXJUeXBlO1xuXHRcdFx0aWYgKCFwcm9wRGVmLmlzTnVsbGFibGUoKSkgcHJvcERlZiA9IHByb3BEZWYubnVsbGFibGUoKTtcblx0XHRcdHByb3BPcHRpb25hbCA9IGZhbHNlO1xuXHRcdH1cblx0XHRjb25zdCBwYXJzZWREZWYgPSBwYXJzZURlZihwcm9wRGVmLl9kZWYsIHtcblx0XHRcdC4uLnJlZnMsXG5cdFx0XHRjdXJyZW50UGF0aDogW1xuXHRcdFx0XHQuLi5yZWZzLmN1cnJlbnRQYXRoLFxuXHRcdFx0XHRcInByb3BlcnRpZXNcIixcblx0XHRcdFx0cHJvcE5hbWVcblx0XHRcdF0sXG5cdFx0XHRwcm9wZXJ0eVBhdGg6IFtcblx0XHRcdFx0Li4ucmVmcy5jdXJyZW50UGF0aCxcblx0XHRcdFx0XCJwcm9wZXJ0aWVzXCIsXG5cdFx0XHRcdHByb3BOYW1lXG5cdFx0XHRdXG5cdFx0fSk7XG5cdFx0aWYgKHBhcnNlZERlZiA9PT0gdm9pZCAwKSBjb250aW51ZTtcblx0XHRyZXN1bHQucHJvcGVydGllc1twcm9wTmFtZV0gPSBwYXJzZWREZWY7XG5cdFx0aWYgKCFwcm9wT3B0aW9uYWwpIHJlcXVpcmVkLnB1c2gocHJvcE5hbWUpO1xuXHR9XG5cdGlmIChyZXF1aXJlZC5sZW5ndGgpIHJlc3VsdC5yZXF1aXJlZCA9IHJlcXVpcmVkO1xuXHRjb25zdCBhZGRpdGlvbmFsUHJvcGVydGllcyA9IGRlY2lkZUFkZGl0aW9uYWxQcm9wZXJ0aWVzKGRlZiwgcmVmcyk7XG5cdGlmIChhZGRpdGlvbmFsUHJvcGVydGllcyAhPT0gdm9pZCAwKSByZXN1bHQuYWRkaXRpb25hbFByb3BlcnRpZXMgPSBhZGRpdGlvbmFsUHJvcGVydGllcztcblx0cmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGRlY2lkZUFkZGl0aW9uYWxQcm9wZXJ0aWVzKGRlZiwgcmVmcykge1xuXHRpZiAoZGVmLmNhdGNoYWxsLl9kZWYudHlwZU5hbWUgIT09IFwiWm9kTmV2ZXJcIikgcmV0dXJuIHBhcnNlRGVmKGRlZi5jYXRjaGFsbC5fZGVmLCB7XG5cdFx0Li4ucmVmcyxcblx0XHRjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIl1cblx0fSk7XG5cdHN3aXRjaCAoZGVmLnVua25vd25LZXlzKSB7XG5cdFx0Y2FzZSBcInBhc3N0aHJvdWdoXCI6IHJldHVybiByZWZzLmFsbG93ZWRBZGRpdGlvbmFsUHJvcGVydGllcztcblx0XHRjYXNlIFwic3RyaWN0XCI6IHJldHVybiByZWZzLnJlamVjdGVkQWRkaXRpb25hbFByb3BlcnRpZXM7XG5cdFx0Y2FzZSBcInN0cmlwXCI6IHJldHVybiByZWZzLnJlbW92ZUFkZGl0aW9uYWxTdHJhdGVneSA9PT0gXCJzdHJpY3RcIiA/IHJlZnMuYWxsb3dlZEFkZGl0aW9uYWxQcm9wZXJ0aWVzIDogcmVmcy5yZWplY3RlZEFkZGl0aW9uYWxQcm9wZXJ0aWVzO1xuXHR9XG59XG5mdW5jdGlvbiBzYWZlSXNPcHRpb25hbChzY2hlbWEpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gc2NoZW1hLmlzT3B0aW9uYWwoKTtcblx0fSBjYXRjaCB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBwYXJzZU9iamVjdERlZiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2JqZWN0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/object.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/optional.js":
/*!*********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/optional.js ***!
  \*********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseOptionalDef: () => (/* binding */ parseOptionalDef)\n/* harmony export */ });\n/* harmony import */ var _any_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./any.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.js\");\n/* harmony import */ var _parseDef_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../parseDef.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\");\n\n\n\n//#region src/utils/zod-to-json-schema/parsers/optional.ts\nconst parseOptionalDef = (def, refs) => {\n\tif (refs.currentPath.toString() === refs.propertyPath?.toString()) return (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_1__.parseDef)(def.innerType._def, refs);\n\tconst innerSchema = (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_1__.parseDef)(def.innerType._def, {\n\t\t...refs,\n\t\tcurrentPath: [\n\t\t\t...refs.currentPath,\n\t\t\t\"anyOf\",\n\t\t\t\"1\"\n\t\t]\n\t});\n\treturn innerSchema ? { anyOf: [{ not: (0,_any_js__WEBPACK_IMPORTED_MODULE_0__.parseAnyDef)(refs) }, innerSchema] } : (0,_any_js__WEBPACK_IMPORTED_MODULE_0__.parseAnyDef)(refs);\n};\n\n//#endregion\n\n//# sourceMappingURL=optional.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9vcHRpb25hbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBdUM7QUFDRzs7QUFFMUM7QUFDQTtBQUNBLDJFQUEyRSxzREFBUTtBQUNuRixxQkFBcUIsc0RBQVE7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGLHdCQUF3QixVQUFVLEtBQUssb0RBQVcsUUFBUSxpQkFBaUIsRUFBRSxvREFBVztBQUN4Rjs7QUFFQTtBQUM0QjtBQUM1QiIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvb3B0aW9uYWwuanM/MjI2NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwYXJzZUFueURlZiB9IGZyb20gXCIuL2FueS5qc1wiO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYuanNcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9vcHRpb25hbC50c1xuY29uc3QgcGFyc2VPcHRpb25hbERlZiA9IChkZWYsIHJlZnMpID0+IHtcblx0aWYgKHJlZnMuY3VycmVudFBhdGgudG9TdHJpbmcoKSA9PT0gcmVmcy5wcm9wZXJ0eVBhdGg/LnRvU3RyaW5nKCkpIHJldHVybiBwYXJzZURlZihkZWYuaW5uZXJUeXBlLl9kZWYsIHJlZnMpO1xuXHRjb25zdCBpbm5lclNjaGVtYSA9IHBhcnNlRGVmKGRlZi5pbm5lclR5cGUuX2RlZiwge1xuXHRcdC4uLnJlZnMsXG5cdFx0Y3VycmVudFBhdGg6IFtcblx0XHRcdC4uLnJlZnMuY3VycmVudFBhdGgsXG5cdFx0XHRcImFueU9mXCIsXG5cdFx0XHRcIjFcIlxuXHRcdF1cblx0fSk7XG5cdHJldHVybiBpbm5lclNjaGVtYSA/IHsgYW55T2Y6IFt7IG5vdDogcGFyc2VBbnlEZWYocmVmcykgfSwgaW5uZXJTY2hlbWFdIH0gOiBwYXJzZUFueURlZihyZWZzKTtcbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgcGFyc2VPcHRpb25hbERlZiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b3B0aW9uYWwuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/optional.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/pipeline.js":
/*!*********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/pipeline.js ***!
  \*********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parsePipelineDef: () => (/* binding */ parsePipelineDef)\n/* harmony export */ });\n/* harmony import */ var _parseDef_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../parseDef.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\");\n\n\n//#region src/utils/zod-to-json-schema/parsers/pipeline.ts\nconst parsePipelineDef = (def, refs) => {\n\tif (refs.pipeStrategy === \"input\") return (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_0__.parseDef)(def.in._def, refs);\n\telse if (refs.pipeStrategy === \"output\") return (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_0__.parseDef)(def.out._def, refs);\n\tconst a = (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_0__.parseDef)(def.in._def, {\n\t\t...refs,\n\t\tcurrentPath: [\n\t\t\t...refs.currentPath,\n\t\t\t\"allOf\",\n\t\t\t\"0\"\n\t\t]\n\t});\n\tconst b = (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_0__.parseDef)(def.out._def, {\n\t\t...refs,\n\t\tcurrentPath: [\n\t\t\t...refs.currentPath,\n\t\t\t\"allOf\",\n\t\t\ta ? \"1\" : \"0\"\n\t\t]\n\t});\n\treturn { allOf: [a, b].filter((x) => x !== void 0) };\n};\n\n//#endregion\n\n//# sourceMappingURL=pipeline.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9waXBlbGluZS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUEwQzs7QUFFMUM7QUFDQTtBQUNBLDJDQUEyQyxzREFBUTtBQUNuRCxpREFBaUQsc0RBQVE7QUFDekQsV0FBVyxzREFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0YsV0FBVyxzREFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0YsVUFBVTtBQUNWOztBQUVBO0FBQzRCO0FBQzVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9waXBlbGluZS5qcz82ODRjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvcGlwZWxpbmUudHNcbmNvbnN0IHBhcnNlUGlwZWxpbmVEZWYgPSAoZGVmLCByZWZzKSA9PiB7XG5cdGlmIChyZWZzLnBpcGVTdHJhdGVneSA9PT0gXCJpbnB1dFwiKSByZXR1cm4gcGFyc2VEZWYoZGVmLmluLl9kZWYsIHJlZnMpO1xuXHRlbHNlIGlmIChyZWZzLnBpcGVTdHJhdGVneSA9PT0gXCJvdXRwdXRcIikgcmV0dXJuIHBhcnNlRGVmKGRlZi5vdXQuX2RlZiwgcmVmcyk7XG5cdGNvbnN0IGEgPSBwYXJzZURlZihkZWYuaW4uX2RlZiwge1xuXHRcdC4uLnJlZnMsXG5cdFx0Y3VycmVudFBhdGg6IFtcblx0XHRcdC4uLnJlZnMuY3VycmVudFBhdGgsXG5cdFx0XHRcImFsbE9mXCIsXG5cdFx0XHRcIjBcIlxuXHRcdF1cblx0fSk7XG5cdGNvbnN0IGIgPSBwYXJzZURlZihkZWYub3V0Ll9kZWYsIHtcblx0XHQuLi5yZWZzLFxuXHRcdGN1cnJlbnRQYXRoOiBbXG5cdFx0XHQuLi5yZWZzLmN1cnJlbnRQYXRoLFxuXHRcdFx0XCJhbGxPZlwiLFxuXHRcdFx0YSA/IFwiMVwiIDogXCIwXCJcblx0XHRdXG5cdH0pO1xuXHRyZXR1cm4geyBhbGxPZjogW2EsIGJdLmZpbHRlcigoeCkgPT4geCAhPT0gdm9pZCAwKSB9O1xufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBwYXJzZVBpcGVsaW5lRGVmIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1waXBlbGluZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/pipeline.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/promise.js":
/*!********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/promise.js ***!
  \********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parsePromiseDef: () => (/* binding */ parsePromiseDef)\n/* harmony export */ });\n/* harmony import */ var _parseDef_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../parseDef.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\");\n\n\n//#region src/utils/zod-to-json-schema/parsers/promise.ts\nfunction parsePromiseDef(def, refs) {\n\treturn (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_0__.parseDef)(def.type._def, refs);\n}\n\n//#endregion\n\n//# sourceMappingURL=promise.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9wcm9taXNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTBDOztBQUUxQztBQUNBO0FBQ0EsUUFBUSxzREFBUTtBQUNoQjs7QUFFQTtBQUMyQjtBQUMzQiIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvcHJvbWlzZS5qcz9lZTRmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvcHJvbWlzZS50c1xuZnVuY3Rpb24gcGFyc2VQcm9taXNlRGVmKGRlZiwgcmVmcykge1xuXHRyZXR1cm4gcGFyc2VEZWYoZGVmLnR5cGUuX2RlZiwgcmVmcyk7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgcGFyc2VQcm9taXNlRGVmIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcm9taXNlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/promise.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/readonly.js":
/*!*********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/readonly.js ***!
  \*********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseReadonlyDef: () => (/* binding */ parseReadonlyDef)\n/* harmony export */ });\n/* harmony import */ var _parseDef_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../parseDef.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\");\n\n\n//#region src/utils/zod-to-json-schema/parsers/readonly.ts\nconst parseReadonlyDef = (def, refs) => {\n\treturn (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_0__.parseDef)(def.innerType._def, refs);\n};\n\n//#endregion\n\n//# sourceMappingURL=readonly.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9yZWFkb25seS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUEwQzs7QUFFMUM7QUFDQTtBQUNBLFFBQVEsc0RBQVE7QUFDaEI7O0FBRUE7QUFDNEI7QUFDNUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3JlYWRvbmx5LmpzPzYyZTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYuanNcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9yZWFkb25seS50c1xuY29uc3QgcGFyc2VSZWFkb25seURlZiA9IChkZWYsIHJlZnMpID0+IHtcblx0cmV0dXJuIHBhcnNlRGVmKGRlZi5pbm5lclR5cGUuX2RlZiwgcmVmcyk7XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IHBhcnNlUmVhZG9ubHlEZWYgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlYWRvbmx5LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/readonly.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/record.js":
/*!*******************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/record.js ***!
  \*******************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseRecordDef: () => (/* binding */ parseRecordDef)\n/* harmony export */ });\n/* harmony import */ var _any_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./any.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.js\");\n/* harmony import */ var _branded_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./branded.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/branded.js\");\n/* harmony import */ var _string_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./string.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/string.js\");\n/* harmony import */ var _parseDef_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../parseDef.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\");\n/* harmony import */ var zod_v3__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! zod/v3 */ \"(rsc)/./node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.js\");\n\n\n\n\n\n\n//#region src/utils/zod-to-json-schema/parsers/record.ts\nfunction parseRecordDef(def, refs) {\n\tif (refs.target === \"openAi\") console.warn(\"Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead.\");\n\tif (refs.target === \"openApi3\" && def.keyType?._def.typeName === zod_v3__WEBPACK_IMPORTED_MODULE_4__.ZodFirstPartyTypeKind.ZodEnum) return {\n\t\ttype: \"object\",\n\t\trequired: def.keyType._def.values,\n\t\tproperties: def.keyType._def.values.reduce((acc, key) => ({\n\t\t\t...acc,\n\t\t\t[key]: (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_3__.parseDef)(def.valueType._def, {\n\t\t\t\t...refs,\n\t\t\t\tcurrentPath: [\n\t\t\t\t\t...refs.currentPath,\n\t\t\t\t\t\"properties\",\n\t\t\t\t\tkey\n\t\t\t\t]\n\t\t\t}) ?? (0,_any_js__WEBPACK_IMPORTED_MODULE_0__.parseAnyDef)(refs)\n\t\t}), {}),\n\t\tadditionalProperties: refs.rejectedAdditionalProperties\n\t};\n\tconst schema = {\n\t\ttype: \"object\",\n\t\tadditionalProperties: (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_3__.parseDef)(def.valueType._def, {\n\t\t\t...refs,\n\t\t\tcurrentPath: [...refs.currentPath, \"additionalProperties\"]\n\t\t}) ?? refs.allowedAdditionalProperties\n\t};\n\tif (refs.target === \"openApi3\") return schema;\n\tif (def.keyType?._def.typeName === zod_v3__WEBPACK_IMPORTED_MODULE_4__.ZodFirstPartyTypeKind.ZodString && def.keyType._def.checks?.length) {\n\t\tconst { type,...keyType } = (0,_string_js__WEBPACK_IMPORTED_MODULE_2__.parseStringDef)(def.keyType._def, refs);\n\t\treturn {\n\t\t\t...schema,\n\t\t\tpropertyNames: keyType\n\t\t};\n\t} else if (def.keyType?._def.typeName === zod_v3__WEBPACK_IMPORTED_MODULE_4__.ZodFirstPartyTypeKind.ZodEnum) return {\n\t\t...schema,\n\t\tpropertyNames: { enum: def.keyType._def.values }\n\t};\n\telse if (def.keyType?._def.typeName === zod_v3__WEBPACK_IMPORTED_MODULE_4__.ZodFirstPartyTypeKind.ZodBranded && def.keyType._def.type._def.typeName === zod_v3__WEBPACK_IMPORTED_MODULE_4__.ZodFirstPartyTypeKind.ZodString && def.keyType._def.type._def.checks?.length) {\n\t\tconst { type,...keyType } = (0,_branded_js__WEBPACK_IMPORTED_MODULE_1__.parseBrandedDef)(def.keyType._def, refs);\n\t\treturn {\n\t\t\t...schema,\n\t\t\tpropertyNames: keyType\n\t\t};\n\t}\n\treturn schema;\n}\n\n//#endregion\n\n//# sourceMappingURL=record.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9yZWNvcmQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXVDO0FBQ1E7QUFDRjtBQUNIO0FBQ0s7O0FBRS9DO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRSx5REFBcUI7QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLHNEQUFRO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksS0FBSyxvREFBVztBQUNwQixHQUFHLEtBQUs7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixzREFBUTtBQUNoQztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxvQ0FBb0MseURBQXFCO0FBQ3pELFVBQVUsa0JBQWtCLEVBQUUsMERBQWM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLHdDQUF3Qyx5REFBcUI7QUFDaEU7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQSx5Q0FBeUMseURBQXFCLHVEQUF1RCx5REFBcUI7QUFDMUksVUFBVSxrQkFBa0IsRUFBRSw0REFBZTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUMwQjtBQUMxQiIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvcmVjb3JkLmpzPzkzYmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcGFyc2VBbnlEZWYgfSBmcm9tIFwiLi9hbnkuanNcIjtcbmltcG9ydCB7IHBhcnNlQnJhbmRlZERlZiB9IGZyb20gXCIuL2JyYW5kZWQuanNcIjtcbmltcG9ydCB7IHBhcnNlU3RyaW5nRGVmIH0gZnJvbSBcIi4vc3RyaW5nLmpzXCI7XG5pbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5qc1wiO1xuaW1wb3J0IHsgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kIH0gZnJvbSBcInpvZC92M1wiO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3JlY29yZC50c1xuZnVuY3Rpb24gcGFyc2VSZWNvcmREZWYoZGVmLCByZWZzKSB7XG5cdGlmIChyZWZzLnRhcmdldCA9PT0gXCJvcGVuQWlcIikgY29uc29sZS53YXJuKFwiV2FybmluZzogT3BlbkFJIG1heSBub3Qgc3VwcG9ydCByZWNvcmRzIGluIHNjaGVtYXMhIFRyeSBhbiBhcnJheSBvZiBrZXktdmFsdWUgcGFpcnMgaW5zdGVhZC5cIik7XG5cdGlmIChyZWZzLnRhcmdldCA9PT0gXCJvcGVuQXBpM1wiICYmIGRlZi5rZXlUeXBlPy5fZGVmLnR5cGVOYW1lID09PSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRW51bSkgcmV0dXJuIHtcblx0XHR0eXBlOiBcIm9iamVjdFwiLFxuXHRcdHJlcXVpcmVkOiBkZWYua2V5VHlwZS5fZGVmLnZhbHVlcyxcblx0XHRwcm9wZXJ0aWVzOiBkZWYua2V5VHlwZS5fZGVmLnZhbHVlcy5yZWR1Y2UoKGFjYywga2V5KSA9PiAoe1xuXHRcdFx0Li4uYWNjLFxuXHRcdFx0W2tleV06IHBhcnNlRGVmKGRlZi52YWx1ZVR5cGUuX2RlZiwge1xuXHRcdFx0XHQuLi5yZWZzLFxuXHRcdFx0XHRjdXJyZW50UGF0aDogW1xuXHRcdFx0XHRcdC4uLnJlZnMuY3VycmVudFBhdGgsXG5cdFx0XHRcdFx0XCJwcm9wZXJ0aWVzXCIsXG5cdFx0XHRcdFx0a2V5XG5cdFx0XHRcdF1cblx0XHRcdH0pID8/IHBhcnNlQW55RGVmKHJlZnMpXG5cdFx0fSksIHt9KSxcblx0XHRhZGRpdGlvbmFsUHJvcGVydGllczogcmVmcy5yZWplY3RlZEFkZGl0aW9uYWxQcm9wZXJ0aWVzXG5cdH07XG5cdGNvbnN0IHNjaGVtYSA9IHtcblx0XHR0eXBlOiBcIm9iamVjdFwiLFxuXHRcdGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBwYXJzZURlZihkZWYudmFsdWVUeXBlLl9kZWYsIHtcblx0XHRcdC4uLnJlZnMsXG5cdFx0XHRjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIl1cblx0XHR9KSA/PyByZWZzLmFsbG93ZWRBZGRpdGlvbmFsUHJvcGVydGllc1xuXHR9O1xuXHRpZiAocmVmcy50YXJnZXQgPT09IFwib3BlbkFwaTNcIikgcmV0dXJuIHNjaGVtYTtcblx0aWYgKGRlZi5rZXlUeXBlPy5fZGVmLnR5cGVOYW1lID09PSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU3RyaW5nICYmIGRlZi5rZXlUeXBlLl9kZWYuY2hlY2tzPy5sZW5ndGgpIHtcblx0XHRjb25zdCB7IHR5cGUsLi4ua2V5VHlwZSB9ID0gcGFyc2VTdHJpbmdEZWYoZGVmLmtleVR5cGUuX2RlZiwgcmVmcyk7XG5cdFx0cmV0dXJuIHtcblx0XHRcdC4uLnNjaGVtYSxcblx0XHRcdHByb3BlcnR5TmFtZXM6IGtleVR5cGVcblx0XHR9O1xuXHR9IGVsc2UgaWYgKGRlZi5rZXlUeXBlPy5fZGVmLnR5cGVOYW1lID09PSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRW51bSkgcmV0dXJuIHtcblx0XHQuLi5zY2hlbWEsXG5cdFx0cHJvcGVydHlOYW1lczogeyBlbnVtOiBkZWYua2V5VHlwZS5fZGVmLnZhbHVlcyB9XG5cdH07XG5cdGVsc2UgaWYgKGRlZi5rZXlUeXBlPy5fZGVmLnR5cGVOYW1lID09PSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQnJhbmRlZCAmJiBkZWYua2V5VHlwZS5fZGVmLnR5cGUuX2RlZi50eXBlTmFtZSA9PT0gWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN0cmluZyAmJiBkZWYua2V5VHlwZS5fZGVmLnR5cGUuX2RlZi5jaGVja3M/Lmxlbmd0aCkge1xuXHRcdGNvbnN0IHsgdHlwZSwuLi5rZXlUeXBlIH0gPSBwYXJzZUJyYW5kZWREZWYoZGVmLmtleVR5cGUuX2RlZiwgcmVmcyk7XG5cdFx0cmV0dXJuIHtcblx0XHRcdC4uLnNjaGVtYSxcblx0XHRcdHByb3BlcnR5TmFtZXM6IGtleVR5cGVcblx0XHR9O1xuXHR9XG5cdHJldHVybiBzY2hlbWE7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgcGFyc2VSZWNvcmREZWYgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlY29yZC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/record.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/set.js":
/*!****************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/set.js ***!
  \****************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseSetDef: () => (/* binding */ parseSetDef)\n/* harmony export */ });\n/* harmony import */ var _errorMessages_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errorMessages.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/errorMessages.js\");\n/* harmony import */ var _parseDef_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../parseDef.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\");\n\n\n\n//#region src/utils/zod-to-json-schema/parsers/set.ts\nfunction parseSetDef(def, refs) {\n\tconst items = (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_1__.parseDef)(def.valueType._def, {\n\t\t...refs,\n\t\tcurrentPath: [...refs.currentPath, \"items\"]\n\t});\n\tconst schema = {\n\t\ttype: \"array\",\n\t\tuniqueItems: true,\n\t\titems\n\t};\n\tif (def.minSize) (0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(schema, \"minItems\", def.minSize.value, def.minSize.message, refs);\n\tif (def.maxSize) (0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(schema, \"maxItems\", def.maxSize.value, def.maxSize.message, refs);\n\treturn schema;\n}\n\n//#endregion\n\n//# sourceMappingURL=set.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9zZXQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdFO0FBQ3RCOztBQUUxQztBQUNBO0FBQ0EsZUFBZSxzREFBUTtBQUN2QjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsNEVBQXlCO0FBQzNDLGtCQUFrQiw0RUFBeUI7QUFDM0M7QUFDQTs7QUFFQTtBQUN1QjtBQUN2QiIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvc2V0LmpzPzA4MmMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyB9IGZyb20gXCIuLi9lcnJvck1lc3NhZ2VzLmpzXCI7XG5pbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3NldC50c1xuZnVuY3Rpb24gcGFyc2VTZXREZWYoZGVmLCByZWZzKSB7XG5cdGNvbnN0IGl0ZW1zID0gcGFyc2VEZWYoZGVmLnZhbHVlVHlwZS5fZGVmLCB7XG5cdFx0Li4ucmVmcyxcblx0XHRjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiaXRlbXNcIl1cblx0fSk7XG5cdGNvbnN0IHNjaGVtYSA9IHtcblx0XHR0eXBlOiBcImFycmF5XCIsXG5cdFx0dW5pcXVlSXRlbXM6IHRydWUsXG5cdFx0aXRlbXNcblx0fTtcblx0aWYgKGRlZi5taW5TaXplKSBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHNjaGVtYSwgXCJtaW5JdGVtc1wiLCBkZWYubWluU2l6ZS52YWx1ZSwgZGVmLm1pblNpemUubWVzc2FnZSwgcmVmcyk7XG5cdGlmIChkZWYubWF4U2l6ZSkgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhzY2hlbWEsIFwibWF4SXRlbXNcIiwgZGVmLm1heFNpemUudmFsdWUsIGRlZi5tYXhTaXplLm1lc3NhZ2UsIHJlZnMpO1xuXHRyZXR1cm4gc2NoZW1hO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IHBhcnNlU2V0RGVmIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/set.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/string.js":
/*!*******************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/string.js ***!
  \*******************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseStringDef: () => (/* binding */ parseStringDef),\n/* harmony export */   zodPatterns: () => (/* binding */ zodPatterns)\n/* harmony export */ });\n/* harmony import */ var _errorMessages_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errorMessages.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/errorMessages.js\");\n\n\n//#region src/utils/zod-to-json-schema/parsers/string.ts\nlet emojiRegex = void 0;\n/**\n* Generated from the regular expressions found here as of 2024-05-22:\n* https://github.com/colinhacks/zod/blob/master/src/types.ts.\n*\n* Expressions with /i flag have been changed accordingly.\n*/\nconst zodPatterns = {\n\tcuid: /^[cC][^\\s-]{8,}$/,\n\tcuid2: /^[0-9a-z]+$/,\n\tulid: /^[0-9A-HJKMNP-TV-Z]{26}$/,\n\temail: /^(?!\\.)(?!.*\\.\\.)([a-zA-Z0-9_'+\\-\\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\\-]*\\.)+[a-zA-Z]{2,}$/,\n\temoji: () => {\n\t\tif (emojiRegex === void 0) emojiRegex = RegExp(\"^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$\", \"u\");\n\t\treturn emojiRegex;\n\t},\n\tuuid: /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/,\n\tipv4: /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,\n\tipv4Cidr: /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/(3[0-2]|[12]?[0-9])$/,\n\tipv6: /^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,\n\tipv6Cidr: /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,\n\tbase64: /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,\n\tbase64url: /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,\n\tnanoid: /^[a-zA-Z0-9_-]{21}$/,\n\tjwt: /^[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]*$/\n};\nfunction parseStringDef(def, refs) {\n\tconst res = { type: \"string\" };\n\tif (def.checks) for (const check of def.checks) switch (check.kind) {\n\t\tcase \"min\":\n\t\t\t(0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"minLength\", typeof res.minLength === \"number\" ? Math.max(res.minLength, check.value) : check.value, check.message, refs);\n\t\t\tbreak;\n\t\tcase \"max\":\n\t\t\t(0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"maxLength\", typeof res.maxLength === \"number\" ? Math.min(res.maxLength, check.value) : check.value, check.message, refs);\n\t\t\tbreak;\n\t\tcase \"email\":\n\t\t\tswitch (refs.emailStrategy) {\n\t\t\t\tcase \"format:email\":\n\t\t\t\t\taddFormat(res, \"email\", check.message, refs);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"format:idn-email\":\n\t\t\t\t\taddFormat(res, \"idn-email\", check.message, refs);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"pattern:zod\":\n\t\t\t\t\taddPattern(res, zodPatterns.email, check.message, refs);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"url\":\n\t\t\taddFormat(res, \"uri\", check.message, refs);\n\t\t\tbreak;\n\t\tcase \"uuid\":\n\t\t\taddFormat(res, \"uuid\", check.message, refs);\n\t\t\tbreak;\n\t\tcase \"regex\":\n\t\t\taddPattern(res, check.regex, check.message, refs);\n\t\t\tbreak;\n\t\tcase \"cuid\":\n\t\t\taddPattern(res, zodPatterns.cuid, check.message, refs);\n\t\t\tbreak;\n\t\tcase \"cuid2\":\n\t\t\taddPattern(res, zodPatterns.cuid2, check.message, refs);\n\t\t\tbreak;\n\t\tcase \"startsWith\":\n\t\t\taddPattern(res, RegExp(`^${escapeLiteralCheckValue(check.value, refs)}`), check.message, refs);\n\t\t\tbreak;\n\t\tcase \"endsWith\":\n\t\t\taddPattern(res, RegExp(`${escapeLiteralCheckValue(check.value, refs)}$`), check.message, refs);\n\t\t\tbreak;\n\t\tcase \"datetime\":\n\t\t\taddFormat(res, \"date-time\", check.message, refs);\n\t\t\tbreak;\n\t\tcase \"date\":\n\t\t\taddFormat(res, \"date\", check.message, refs);\n\t\t\tbreak;\n\t\tcase \"time\":\n\t\t\taddFormat(res, \"time\", check.message, refs);\n\t\t\tbreak;\n\t\tcase \"duration\":\n\t\t\taddFormat(res, \"duration\", check.message, refs);\n\t\t\tbreak;\n\t\tcase \"length\":\n\t\t\t(0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"minLength\", typeof res.minLength === \"number\" ? Math.max(res.minLength, check.value) : check.value, check.message, refs);\n\t\t\t(0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"maxLength\", typeof res.maxLength === \"number\" ? Math.min(res.maxLength, check.value) : check.value, check.message, refs);\n\t\t\tbreak;\n\t\tcase \"includes\":\n\t\t\taddPattern(res, RegExp(escapeLiteralCheckValue(check.value, refs)), check.message, refs);\n\t\t\tbreak;\n\t\tcase \"ip\":\n\t\t\tif (check.version !== \"v6\") addFormat(res, \"ipv4\", check.message, refs);\n\t\t\tif (check.version !== \"v4\") addFormat(res, \"ipv6\", check.message, refs);\n\t\t\tbreak;\n\t\tcase \"base64url\":\n\t\t\taddPattern(res, zodPatterns.base64url, check.message, refs);\n\t\t\tbreak;\n\t\tcase \"jwt\":\n\t\t\taddPattern(res, zodPatterns.jwt, check.message, refs);\n\t\t\tbreak;\n\t\tcase \"cidr\":\n\t\t\tif (check.version !== \"v6\") addPattern(res, zodPatterns.ipv4Cidr, check.message, refs);\n\t\t\tif (check.version !== \"v4\") addPattern(res, zodPatterns.ipv6Cidr, check.message, refs);\n\t\t\tbreak;\n\t\tcase \"emoji\":\n\t\t\taddPattern(res, zodPatterns.emoji(), check.message, refs);\n\t\t\tbreak;\n\t\tcase \"ulid\":\n\t\t\taddPattern(res, zodPatterns.ulid, check.message, refs);\n\t\t\tbreak;\n\t\tcase \"base64\":\n\t\t\tswitch (refs.base64Strategy) {\n\t\t\t\tcase \"format:binary\":\n\t\t\t\t\taddFormat(res, \"binary\", check.message, refs);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"contentEncoding:base64\":\n\t\t\t\t\t(0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"contentEncoding\", \"base64\", check.message, refs);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"pattern:zod\":\n\t\t\t\t\taddPattern(res, zodPatterns.base64, check.message, refs);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"nanoid\":\n\t\t\taddPattern(res, zodPatterns.nanoid, check.message, refs);\n\t\t\tbreak;\n\t\tcase \"toLowerCase\":\n\t\tcase \"toUpperCase\":\n\t\tcase \"trim\": break;\n\t\tdefault:\n /* c8 ignore next */\n\t\t((_) => {})(check);\n\t}\n\treturn res;\n}\nfunction escapeLiteralCheckValue(literal, refs) {\n\treturn refs.patternStrategy === \"escape\" ? escapeNonAlphaNumeric(literal) : literal;\n}\nconst ALPHA_NUMERIC = /* @__PURE__ */ new Set(\"ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789\");\nfunction escapeNonAlphaNumeric(source) {\n\tlet result = \"\";\n\tfor (let i = 0; i < source.length; i++) {\n\t\tif (!ALPHA_NUMERIC.has(source[i])) result += \"\\\\\";\n\t\tresult += source[i];\n\t}\n\treturn result;\n}\nfunction addFormat(schema, value, message, refs) {\n\tif (schema.format || schema.anyOf?.some((x) => x.format)) {\n\t\tif (!schema.anyOf) schema.anyOf = [];\n\t\tif (schema.format) {\n\t\t\tschema.anyOf.push({\n\t\t\t\tformat: schema.format,\n\t\t\t\t...schema.errorMessage && refs.errorMessages && { errorMessage: { format: schema.errorMessage.format } }\n\t\t\t});\n\t\t\tdelete schema.format;\n\t\t\tif (schema.errorMessage) {\n\t\t\t\tdelete schema.errorMessage.format;\n\t\t\t\tif (Object.keys(schema.errorMessage).length === 0) delete schema.errorMessage;\n\t\t\t}\n\t\t}\n\t\tschema.anyOf.push({\n\t\t\tformat: value,\n\t\t\t...message && refs.errorMessages && { errorMessage: { format: message } }\n\t\t});\n\t} else (0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(schema, \"format\", value, message, refs);\n}\nfunction addPattern(schema, regex, message, refs) {\n\tif (schema.pattern || schema.allOf?.some((x) => x.pattern)) {\n\t\tif (!schema.allOf) schema.allOf = [];\n\t\tif (schema.pattern) {\n\t\t\tschema.allOf.push({\n\t\t\t\tpattern: schema.pattern,\n\t\t\t\t...schema.errorMessage && refs.errorMessages && { errorMessage: { pattern: schema.errorMessage.pattern } }\n\t\t\t});\n\t\t\tdelete schema.pattern;\n\t\t\tif (schema.errorMessage) {\n\t\t\t\tdelete schema.errorMessage.pattern;\n\t\t\t\tif (Object.keys(schema.errorMessage).length === 0) delete schema.errorMessage;\n\t\t\t}\n\t\t}\n\t\tschema.allOf.push({\n\t\t\tpattern: stringifyRegExpWithFlags(regex, refs),\n\t\t\t...message && refs.errorMessages && { errorMessage: { pattern: message } }\n\t\t});\n\t} else (0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(schema, \"pattern\", stringifyRegExpWithFlags(regex, refs), message, refs);\n}\nfunction stringifyRegExpWithFlags(regex, refs) {\n\tif (!refs.applyRegexFlags || !regex.flags) return regex.source;\n\tconst flags = {\n\t\ti: regex.flags.includes(\"i\"),\n\t\tm: regex.flags.includes(\"m\"),\n\t\ts: regex.flags.includes(\"s\")\n\t};\n\tconst source = flags.i ? regex.source.toLowerCase() : regex.source;\n\tlet pattern = \"\";\n\tlet isEscaped = false;\n\tlet inCharGroup = false;\n\tlet inCharRange = false;\n\tfor (let i = 0; i < source.length; i++) {\n\t\tif (isEscaped) {\n\t\t\tpattern += source[i];\n\t\t\tisEscaped = false;\n\t\t\tcontinue;\n\t\t}\n\t\tif (flags.i) {\n\t\t\tif (inCharGroup) {\n\t\t\t\tif (source[i].match(/[a-z]/)) {\n\t\t\t\t\tif (inCharRange) {\n\t\t\t\t\t\tpattern += source[i];\n\t\t\t\t\t\tpattern += `${source[i - 2]}-${source[i]}`.toUpperCase();\n\t\t\t\t\t\tinCharRange = false;\n\t\t\t\t\t} else if (source[i + 1] === \"-\" && source[i + 2]?.match(/[a-z]/)) {\n\t\t\t\t\t\tpattern += source[i];\n\t\t\t\t\t\tinCharRange = true;\n\t\t\t\t\t} else pattern += `${source[i]}${source[i].toUpperCase()}`;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t} else if (source[i].match(/[a-z]/)) {\n\t\t\t\tpattern += `[${source[i]}${source[i].toUpperCase()}]`;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t\tif (flags.m) {\n\t\t\tif (source[i] === \"^\") {\n\t\t\t\tpattern += `(^|(?<=[\\r\\n]))`;\n\t\t\t\tcontinue;\n\t\t\t} else if (source[i] === \"$\") {\n\t\t\t\tpattern += `($|(?=[\\r\\n]))`;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t\tif (flags.s && source[i] === \".\") {\n\t\t\tpattern += inCharGroup ? `${source[i]}\\r\\n` : `[${source[i]}\\r\\n]`;\n\t\t\tcontinue;\n\t\t}\n\t\tpattern += source[i];\n\t\tif (source[i] === \"\\\\\") isEscaped = true;\n\t\telse if (inCharGroup && source[i] === \"]\") inCharGroup = false;\n\t\telse if (!inCharGroup && source[i] === \"[\") inCharGroup = true;\n\t}\n\ttry {\n\t\tnew RegExp(pattern);\n\t} catch {\n\t\tconsole.warn(`Could not convert regex pattern at ${refs.currentPath.join(\"/\")} to a flag-independent form! Falling back to the flag-ignorant source`);\n\t\treturn regex.source;\n\t}\n\treturn pattern;\n}\n\n//#endregion\n\n//# sourceMappingURL=string.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9zdHJpbmcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdFOztBQUVoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsR0FBRztBQUN2QjtBQUNBLDRCQUE0QixHQUFHO0FBQy9CLHFHQUFxRyxHQUFHO0FBQ3hHO0FBQ0Esd0RBQXdELHNCQUFzQixLQUFLLGdCQUFnQjtBQUNuRztBQUNBLEVBQUU7QUFDRixxQkFBcUIsRUFBRSxlQUFlLEVBQUUsZUFBZSxFQUFFLGVBQWUsRUFBRSxlQUFlLEdBQUc7QUFDNUYsb0VBQW9FLEVBQUU7QUFDdEUsd0VBQXdFLEVBQUU7QUFDMUUsb0JBQW9CLElBQUksR0FBRyxFQUFFLGFBQWEsSUFBSSxHQUFHLElBQUksV0FBVyxJQUFJLEdBQUcsRUFBRSxXQUFXLElBQUksR0FBRyxJQUFJLFdBQVcsSUFBSSxHQUFHLEVBQUUsV0FBVyxJQUFJLEdBQUcsSUFBSSxXQUFXLElBQUksR0FBRyxFQUFFLFdBQVcsSUFBSSxHQUFHLElBQUksV0FBVyxJQUFJLEdBQUcsRUFBRSxXQUFXLElBQUksR0FBRyxJQUFJLFdBQVcsSUFBSSxHQUFHLEVBQUUsV0FBVyxJQUFJLEdBQUcsSUFBSSxXQUFXLElBQUksbUNBQW1DLEVBQUUsU0FBUyxJQUFJLE1BQU0sRUFBRSxpQ0FBaUMsRUFBRSxTQUFTLElBQUk7QUFDaFksMkJBQTJCLElBQUksR0FBRyxJQUFJLFlBQVksSUFBSSxjQUFjLElBQUksR0FBRyxJQUFJLGVBQWUsSUFBSSxHQUFHLElBQUksYUFBYSxJQUFJLGNBQWMsSUFBSSxHQUFHLElBQUksY0FBYyxJQUFJLEVBQUUsSUFBSSxjQUFjLElBQUksR0FBRyxJQUFJLGNBQWMsSUFBSSxFQUFFLElBQUksY0FBYyxJQUFJLEdBQUcsSUFBSSxjQUFjLElBQUksRUFBRSxJQUFJLGNBQWMsSUFBSSxHQUFHLElBQUksY0FBYyxJQUFJLEVBQUUsSUFBSSxhQUFhLElBQUksZ0JBQWdCLElBQUksRUFBRSxJQUFJLGtCQUFrQixJQUFJLEVBQUUsSUFBSSx1QkFBdUIsSUFBSSxFQUFFLElBQUksYUFBYSxHQUFHLFlBQVksSUFBSSxFQUFFLElBQUksR0FBRyxJQUFJLG9CQUFvQixJQUFJLE9BQU8sSUFBSSxVQUFVLElBQUksbUJBQW1CLElBQUksT0FBTyxJQUFJLG9CQUFvQixJQUFJLEdBQUcsSUFBSSxxQkFBcUIsSUFBSSxPQUFPLElBQUksVUFBVSxJQUFJLG1CQUFtQixJQUFJLE9BQU8sSUFBSTtBQUN6cEIsMEJBQTBCLEVBQUUsa0JBQWtCLEVBQUUsbUJBQW1CLEVBQUU7QUFDckUsNkJBQTZCLEVBQUUsa0JBQWtCLEVBQUUsc0JBQXNCLEVBQUU7QUFDM0UseUJBQXlCLEdBQUc7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQSxHQUFHLDRFQUF5QjtBQUM1QjtBQUNBO0FBQ0EsR0FBRyw0RUFBeUI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLDJDQUEyQztBQUN6RTtBQUNBO0FBQ0EsNkJBQTZCLDJDQUEyQztBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyw0RUFBeUI7QUFDNUIsR0FBRyw0RUFBeUI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyw0RUFBeUI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsbUJBQW1CO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsZ0JBQWdCO0FBQ3RFLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLGdCQUFnQjtBQUN6RCxHQUFHO0FBQ0gsR0FBRyxLQUFLLDRFQUF5QjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxnQkFBZ0I7QUFDdEUsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsZ0JBQWdCO0FBQ3pELEdBQUc7QUFDSCxHQUFHLEtBQUssNEVBQXlCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLG1CQUFtQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixjQUFjLEdBQUcsVUFBVTtBQUMvQztBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTyxtQkFBbUIsVUFBVSxFQUFFLHdCQUF3QjtBQUM5RDtBQUNBO0FBQ0EsS0FBSztBQUNMLG1CQUFtQixVQUFVLEVBQUUsd0JBQXdCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsVUFBVSxZQUFZLFVBQVU7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILHFEQUFxRCw0QkFBNEI7QUFDakY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDdUM7QUFDdkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3N0cmluZy5qcz83Nzg5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMgfSBmcm9tIFwiLi4vZXJyb3JNZXNzYWdlcy5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3N0cmluZy50c1xubGV0IGVtb2ppUmVnZXggPSB2b2lkIDA7XG4vKipcbiogR2VuZXJhdGVkIGZyb20gdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbnMgZm91bmQgaGVyZSBhcyBvZiAyMDI0LTA1LTIyOlxuKiBodHRwczovL2dpdGh1Yi5jb20vY29saW5oYWNrcy96b2QvYmxvYi9tYXN0ZXIvc3JjL3R5cGVzLnRzLlxuKlxuKiBFeHByZXNzaW9ucyB3aXRoIC9pIGZsYWcgaGF2ZSBiZWVuIGNoYW5nZWQgYWNjb3JkaW5nbHkuXG4qL1xuY29uc3Qgem9kUGF0dGVybnMgPSB7XG5cdGN1aWQ6IC9eW2NDXVteXFxzLV17OCx9JC8sXG5cdGN1aWQyOiAvXlswLTlhLXpdKyQvLFxuXHR1bGlkOiAvXlswLTlBLUhKS01OUC1UVi1aXXsyNn0kLyxcblx0ZW1haWw6IC9eKD8hXFwuKSg/IS4qXFwuXFwuKShbYS16QS1aMC05XycrXFwtXFwuXSopW2EtekEtWjAtOV8rLV1AKFthLXpBLVowLTldW2EtekEtWjAtOVxcLV0qXFwuKStbYS16QS1aXXsyLH0kLyxcblx0ZW1vamk6ICgpID0+IHtcblx0XHRpZiAoZW1vamlSZWdleCA9PT0gdm9pZCAwKSBlbW9qaVJlZ2V4ID0gUmVnRXhwKFwiXihcXFxccHtFeHRlbmRlZF9QaWN0b2dyYXBoaWN9fFxcXFxwe0Vtb2ppX0NvbXBvbmVudH0pKyRcIiwgXCJ1XCIpO1xuXHRcdHJldHVybiBlbW9qaVJlZ2V4O1xuXHR9LFxuXHR1dWlkOiAvXlswLTlhLWZBLUZdezh9XFxiLVswLTlhLWZBLUZdezR9XFxiLVswLTlhLWZBLUZdezR9XFxiLVswLTlhLWZBLUZdezR9XFxiLVswLTlhLWZBLUZdezEyfSQvLFxuXHRpcHY0OiAvXig/Oig/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSlcXC4pezN9KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKSQvLFxuXHRpcHY0Q2lkcjogL14oPzooPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSlcXC8oM1swLTJdfFsxMl0/WzAtOV0pJC8sXG5cdGlwdjY6IC9eKChbYS1mMC05XXsxLDR9Oil7N318OjooW2EtZjAtOV17MSw0fTopezAsNn18KFthLWYwLTldezEsNH06KXsxfTooW2EtZjAtOV17MSw0fTopezAsNX18KFthLWYwLTldezEsNH06KXsyfTooW2EtZjAtOV17MSw0fTopezAsNH18KFthLWYwLTldezEsNH06KXszfTooW2EtZjAtOV17MSw0fTopezAsM318KFthLWYwLTldezEsNH06KXs0fTooW2EtZjAtOV17MSw0fTopezAsMn18KFthLWYwLTldezEsNH06KXs1fTooW2EtZjAtOV17MSw0fTopezAsMX0pKFthLWYwLTldezEsNH18KCgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpXFwuKXszfSgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpKSQvLFxuXHRpcHY2Q2lkcjogL14oKFswLTlhLWZBLUZdezEsNH06KXs3LDd9WzAtOWEtZkEtRl17MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsN306fChbMC05YS1mQS1GXXsxLDR9Oil7MSw2fTpbMC05YS1mQS1GXXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw1fSg6WzAtOWEtZkEtRl17MSw0fSl7MSwyfXwoWzAtOWEtZkEtRl17MSw0fTopezEsNH0oOlswLTlhLWZBLUZdezEsNH0pezEsM318KFswLTlhLWZBLUZdezEsNH06KXsxLDN9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSwyfSg6WzAtOWEtZkEtRl17MSw0fSl7MSw1fXxbMC05YS1mQS1GXXsxLDR9OigoOlswLTlhLWZBLUZdezEsNH0pezEsNn0pfDooKDpbMC05YS1mQS1GXXsxLDR9KXsxLDd9fDopfGZlODA6KDpbMC05YS1mQS1GXXswLDR9KXswLDR9JVswLTlhLXpBLVpdezEsfXw6OihmZmZmKDowezEsNH0pezAsMX06KXswLDF9KCgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSlcXC4pezMsM30oMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pfChbMC05YS1mQS1GXXsxLDR9Oil7MSw0fTooKDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKVxcLil7MywzfSgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSkpXFwvKDEyWzAtOF18MVswMV1bMC05XXxbMS05XT9bMC05XSkkLyxcblx0YmFzZTY0OiAvXihbMC05YS16QS1aKy9dezR9KSooKFswLTlhLXpBLVorL117Mn09PSl8KFswLTlhLXpBLVorL117M309KSk/JC8sXG5cdGJhc2U2NHVybDogL14oWzAtOWEtekEtWi1fXXs0fSkqKChbMC05YS16QS1aLV9dezJ9KD09KT8pfChbMC05YS16QS1aLV9dezN9KD0pPykpPyQvLFxuXHRuYW5vaWQ6IC9eW2EtekEtWjAtOV8tXXsyMX0kLyxcblx0and0OiAvXltBLVphLXowLTktX10rXFwuW0EtWmEtejAtOS1fXStcXC5bQS1aYS16MC05LV9dKiQvXG59O1xuZnVuY3Rpb24gcGFyc2VTdHJpbmdEZWYoZGVmLCByZWZzKSB7XG5cdGNvbnN0IHJlcyA9IHsgdHlwZTogXCJzdHJpbmdcIiB9O1xuXHRpZiAoZGVmLmNoZWNrcykgZm9yIChjb25zdCBjaGVjayBvZiBkZWYuY2hlY2tzKSBzd2l0Y2ggKGNoZWNrLmtpbmQpIHtcblx0XHRjYXNlIFwibWluXCI6XG5cdFx0XHRzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgXCJtaW5MZW5ndGhcIiwgdHlwZW9mIHJlcy5taW5MZW5ndGggPT09IFwibnVtYmVyXCIgPyBNYXRoLm1heChyZXMubWluTGVuZ3RoLCBjaGVjay52YWx1ZSkgOiBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwibWF4XCI6XG5cdFx0XHRzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgXCJtYXhMZW5ndGhcIiwgdHlwZW9mIHJlcy5tYXhMZW5ndGggPT09IFwibnVtYmVyXCIgPyBNYXRoLm1pbihyZXMubWF4TGVuZ3RoLCBjaGVjay52YWx1ZSkgOiBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwiZW1haWxcIjpcblx0XHRcdHN3aXRjaCAocmVmcy5lbWFpbFN0cmF0ZWd5KSB7XG5cdFx0XHRcdGNhc2UgXCJmb3JtYXQ6ZW1haWxcIjpcblx0XHRcdFx0XHRhZGRGb3JtYXQocmVzLCBcImVtYWlsXCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFwiZm9ybWF0Omlkbi1lbWFpbFwiOlxuXHRcdFx0XHRcdGFkZEZvcm1hdChyZXMsIFwiaWRuLWVtYWlsXCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFwicGF0dGVybjp6b2RcIjpcblx0XHRcdFx0XHRhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuZW1haWwsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcInVybFwiOlxuXHRcdFx0YWRkRm9ybWF0KHJlcywgXCJ1cmlcIiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwidXVpZFwiOlxuXHRcdFx0YWRkRm9ybWF0KHJlcywgXCJ1dWlkXCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcInJlZ2V4XCI6XG5cdFx0XHRhZGRQYXR0ZXJuKHJlcywgY2hlY2sucmVnZXgsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcImN1aWRcIjpcblx0XHRcdGFkZFBhdHRlcm4ocmVzLCB6b2RQYXR0ZXJucy5jdWlkLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJjdWlkMlwiOlxuXHRcdFx0YWRkUGF0dGVybihyZXMsIHpvZFBhdHRlcm5zLmN1aWQyLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJzdGFydHNXaXRoXCI6XG5cdFx0XHRhZGRQYXR0ZXJuKHJlcywgUmVnRXhwKGBeJHtlc2NhcGVMaXRlcmFsQ2hlY2tWYWx1ZShjaGVjay52YWx1ZSwgcmVmcyl9YCksIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcImVuZHNXaXRoXCI6XG5cdFx0XHRhZGRQYXR0ZXJuKHJlcywgUmVnRXhwKGAke2VzY2FwZUxpdGVyYWxDaGVja1ZhbHVlKGNoZWNrLnZhbHVlLCByZWZzKX0kYCksIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcImRhdGV0aW1lXCI6XG5cdFx0XHRhZGRGb3JtYXQocmVzLCBcImRhdGUtdGltZVwiLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJkYXRlXCI6XG5cdFx0XHRhZGRGb3JtYXQocmVzLCBcImRhdGVcIiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwidGltZVwiOlxuXHRcdFx0YWRkRm9ybWF0KHJlcywgXCJ0aW1lXCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcImR1cmF0aW9uXCI6XG5cdFx0XHRhZGRGb3JtYXQocmVzLCBcImR1cmF0aW9uXCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcImxlbmd0aFwiOlxuXHRcdFx0c2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwibWluTGVuZ3RoXCIsIHR5cGVvZiByZXMubWluTGVuZ3RoID09PSBcIm51bWJlclwiID8gTWF0aC5tYXgocmVzLm1pbkxlbmd0aCwgY2hlY2sudmFsdWUpIDogY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0c2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwibWF4TGVuZ3RoXCIsIHR5cGVvZiByZXMubWF4TGVuZ3RoID09PSBcIm51bWJlclwiID8gTWF0aC5taW4ocmVzLm1heExlbmd0aCwgY2hlY2sudmFsdWUpIDogY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcImluY2x1ZGVzXCI6XG5cdFx0XHRhZGRQYXR0ZXJuKHJlcywgUmVnRXhwKGVzY2FwZUxpdGVyYWxDaGVja1ZhbHVlKGNoZWNrLnZhbHVlLCByZWZzKSksIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcImlwXCI6XG5cdFx0XHRpZiAoY2hlY2sudmVyc2lvbiAhPT0gXCJ2NlwiKSBhZGRGb3JtYXQocmVzLCBcImlwdjRcIiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG5cdFx0XHRpZiAoY2hlY2sudmVyc2lvbiAhPT0gXCJ2NFwiKSBhZGRGb3JtYXQocmVzLCBcImlwdjZcIiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwiYmFzZTY0dXJsXCI6XG5cdFx0XHRhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuYmFzZTY0dXJsLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJqd3RcIjpcblx0XHRcdGFkZFBhdHRlcm4ocmVzLCB6b2RQYXR0ZXJucy5qd3QsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcImNpZHJcIjpcblx0XHRcdGlmIChjaGVjay52ZXJzaW9uICE9PSBcInY2XCIpIGFkZFBhdHRlcm4ocmVzLCB6b2RQYXR0ZXJucy5pcHY0Q2lkciwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG5cdFx0XHRpZiAoY2hlY2sudmVyc2lvbiAhPT0gXCJ2NFwiKSBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuaXB2NkNpZHIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcImVtb2ppXCI6XG5cdFx0XHRhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuZW1vamkoKSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwidWxpZFwiOlxuXHRcdFx0YWRkUGF0dGVybihyZXMsIHpvZFBhdHRlcm5zLnVsaWQsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcImJhc2U2NFwiOlxuXHRcdFx0c3dpdGNoIChyZWZzLmJhc2U2NFN0cmF0ZWd5KSB7XG5cdFx0XHRcdGNhc2UgXCJmb3JtYXQ6YmluYXJ5XCI6XG5cdFx0XHRcdFx0YWRkRm9ybWF0KHJlcywgXCJiaW5hcnlcIiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgXCJjb250ZW50RW5jb2Rpbmc6YmFzZTY0XCI6XG5cdFx0XHRcdFx0c2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwiY29udGVudEVuY29kaW5nXCIsIFwiYmFzZTY0XCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFwicGF0dGVybjp6b2RcIjpcblx0XHRcdFx0XHRhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuYmFzZTY0LCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJuYW5vaWRcIjpcblx0XHRcdGFkZFBhdHRlcm4ocmVzLCB6b2RQYXR0ZXJucy5uYW5vaWQsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcInRvTG93ZXJDYXNlXCI6XG5cdFx0Y2FzZSBcInRvVXBwZXJDYXNlXCI6XG5cdFx0Y2FzZSBcInRyaW1cIjogYnJlYWs7XG5cdFx0ZGVmYXVsdDpcbiAvKiBjOCBpZ25vcmUgbmV4dCAqL1xuXHRcdCgoXykgPT4ge30pKGNoZWNrKTtcblx0fVxuXHRyZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gZXNjYXBlTGl0ZXJhbENoZWNrVmFsdWUobGl0ZXJhbCwgcmVmcykge1xuXHRyZXR1cm4gcmVmcy5wYXR0ZXJuU3RyYXRlZ3kgPT09IFwiZXNjYXBlXCIgPyBlc2NhcGVOb25BbHBoYU51bWVyaWMobGl0ZXJhbCkgOiBsaXRlcmFsO1xufVxuY29uc3QgQUxQSEFfTlVNRVJJQyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVlhZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ4eXowMTIzNDU2Nzg5XCIpO1xuZnVuY3Rpb24gZXNjYXBlTm9uQWxwaGFOdW1lcmljKHNvdXJjZSkge1xuXHRsZXQgcmVzdWx0ID0gXCJcIjtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyBpKyspIHtcblx0XHRpZiAoIUFMUEhBX05VTUVSSUMuaGFzKHNvdXJjZVtpXSkpIHJlc3VsdCArPSBcIlxcXFxcIjtcblx0XHRyZXN1bHQgKz0gc291cmNlW2ldO1xuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBhZGRGb3JtYXQoc2NoZW1hLCB2YWx1ZSwgbWVzc2FnZSwgcmVmcykge1xuXHRpZiAoc2NoZW1hLmZvcm1hdCB8fCBzY2hlbWEuYW55T2Y/LnNvbWUoKHgpID0+IHguZm9ybWF0KSkge1xuXHRcdGlmICghc2NoZW1hLmFueU9mKSBzY2hlbWEuYW55T2YgPSBbXTtcblx0XHRpZiAoc2NoZW1hLmZvcm1hdCkge1xuXHRcdFx0c2NoZW1hLmFueU9mLnB1c2goe1xuXHRcdFx0XHRmb3JtYXQ6IHNjaGVtYS5mb3JtYXQsXG5cdFx0XHRcdC4uLnNjaGVtYS5lcnJvck1lc3NhZ2UgJiYgcmVmcy5lcnJvck1lc3NhZ2VzICYmIHsgZXJyb3JNZXNzYWdlOiB7IGZvcm1hdDogc2NoZW1hLmVycm9yTWVzc2FnZS5mb3JtYXQgfSB9XG5cdFx0XHR9KTtcblx0XHRcdGRlbGV0ZSBzY2hlbWEuZm9ybWF0O1xuXHRcdFx0aWYgKHNjaGVtYS5lcnJvck1lc3NhZ2UpIHtcblx0XHRcdFx0ZGVsZXRlIHNjaGVtYS5lcnJvck1lc3NhZ2UuZm9ybWF0O1xuXHRcdFx0XHRpZiAoT2JqZWN0LmtleXMoc2NoZW1hLmVycm9yTWVzc2FnZSkubGVuZ3RoID09PSAwKSBkZWxldGUgc2NoZW1hLmVycm9yTWVzc2FnZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0c2NoZW1hLmFueU9mLnB1c2goe1xuXHRcdFx0Zm9ybWF0OiB2YWx1ZSxcblx0XHRcdC4uLm1lc3NhZ2UgJiYgcmVmcy5lcnJvck1lc3NhZ2VzICYmIHsgZXJyb3JNZXNzYWdlOiB7IGZvcm1hdDogbWVzc2FnZSB9IH1cblx0XHR9KTtcblx0fSBlbHNlIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMoc2NoZW1hLCBcImZvcm1hdFwiLCB2YWx1ZSwgbWVzc2FnZSwgcmVmcyk7XG59XG5mdW5jdGlvbiBhZGRQYXR0ZXJuKHNjaGVtYSwgcmVnZXgsIG1lc3NhZ2UsIHJlZnMpIHtcblx0aWYgKHNjaGVtYS5wYXR0ZXJuIHx8IHNjaGVtYS5hbGxPZj8uc29tZSgoeCkgPT4geC5wYXR0ZXJuKSkge1xuXHRcdGlmICghc2NoZW1hLmFsbE9mKSBzY2hlbWEuYWxsT2YgPSBbXTtcblx0XHRpZiAoc2NoZW1hLnBhdHRlcm4pIHtcblx0XHRcdHNjaGVtYS5hbGxPZi5wdXNoKHtcblx0XHRcdFx0cGF0dGVybjogc2NoZW1hLnBhdHRlcm4sXG5cdFx0XHRcdC4uLnNjaGVtYS5lcnJvck1lc3NhZ2UgJiYgcmVmcy5lcnJvck1lc3NhZ2VzICYmIHsgZXJyb3JNZXNzYWdlOiB7IHBhdHRlcm46IHNjaGVtYS5lcnJvck1lc3NhZ2UucGF0dGVybiB9IH1cblx0XHRcdH0pO1xuXHRcdFx0ZGVsZXRlIHNjaGVtYS5wYXR0ZXJuO1xuXHRcdFx0aWYgKHNjaGVtYS5lcnJvck1lc3NhZ2UpIHtcblx0XHRcdFx0ZGVsZXRlIHNjaGVtYS5lcnJvck1lc3NhZ2UucGF0dGVybjtcblx0XHRcdFx0aWYgKE9iamVjdC5rZXlzKHNjaGVtYS5lcnJvck1lc3NhZ2UpLmxlbmd0aCA9PT0gMCkgZGVsZXRlIHNjaGVtYS5lcnJvck1lc3NhZ2U7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHNjaGVtYS5hbGxPZi5wdXNoKHtcblx0XHRcdHBhdHRlcm46IHN0cmluZ2lmeVJlZ0V4cFdpdGhGbGFncyhyZWdleCwgcmVmcyksXG5cdFx0XHQuLi5tZXNzYWdlICYmIHJlZnMuZXJyb3JNZXNzYWdlcyAmJiB7IGVycm9yTWVzc2FnZTogeyBwYXR0ZXJuOiBtZXNzYWdlIH0gfVxuXHRcdH0pO1xuXHR9IGVsc2Ugc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhzY2hlbWEsIFwicGF0dGVyblwiLCBzdHJpbmdpZnlSZWdFeHBXaXRoRmxhZ3MocmVnZXgsIHJlZnMpLCBtZXNzYWdlLCByZWZzKTtcbn1cbmZ1bmN0aW9uIHN0cmluZ2lmeVJlZ0V4cFdpdGhGbGFncyhyZWdleCwgcmVmcykge1xuXHRpZiAoIXJlZnMuYXBwbHlSZWdleEZsYWdzIHx8ICFyZWdleC5mbGFncykgcmV0dXJuIHJlZ2V4LnNvdXJjZTtcblx0Y29uc3QgZmxhZ3MgPSB7XG5cdFx0aTogcmVnZXguZmxhZ3MuaW5jbHVkZXMoXCJpXCIpLFxuXHRcdG06IHJlZ2V4LmZsYWdzLmluY2x1ZGVzKFwibVwiKSxcblx0XHRzOiByZWdleC5mbGFncy5pbmNsdWRlcyhcInNcIilcblx0fTtcblx0Y29uc3Qgc291cmNlID0gZmxhZ3MuaSA/IHJlZ2V4LnNvdXJjZS50b0xvd2VyQ2FzZSgpIDogcmVnZXguc291cmNlO1xuXHRsZXQgcGF0dGVybiA9IFwiXCI7XG5cdGxldCBpc0VzY2FwZWQgPSBmYWxzZTtcblx0bGV0IGluQ2hhckdyb3VwID0gZmFsc2U7XG5cdGxldCBpbkNoYXJSYW5nZSA9IGZhbHNlO1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IHNvdXJjZS5sZW5ndGg7IGkrKykge1xuXHRcdGlmIChpc0VzY2FwZWQpIHtcblx0XHRcdHBhdHRlcm4gKz0gc291cmNlW2ldO1xuXHRcdFx0aXNFc2NhcGVkID0gZmFsc2U7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cdFx0aWYgKGZsYWdzLmkpIHtcblx0XHRcdGlmIChpbkNoYXJHcm91cCkge1xuXHRcdFx0XHRpZiAoc291cmNlW2ldLm1hdGNoKC9bYS16XS8pKSB7XG5cdFx0XHRcdFx0aWYgKGluQ2hhclJhbmdlKSB7XG5cdFx0XHRcdFx0XHRwYXR0ZXJuICs9IHNvdXJjZVtpXTtcblx0XHRcdFx0XHRcdHBhdHRlcm4gKz0gYCR7c291cmNlW2kgLSAyXX0tJHtzb3VyY2VbaV19YC50b1VwcGVyQ2FzZSgpO1xuXHRcdFx0XHRcdFx0aW5DaGFyUmFuZ2UgPSBmYWxzZTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKHNvdXJjZVtpICsgMV0gPT09IFwiLVwiICYmIHNvdXJjZVtpICsgMl0/Lm1hdGNoKC9bYS16XS8pKSB7XG5cdFx0XHRcdFx0XHRwYXR0ZXJuICs9IHNvdXJjZVtpXTtcblx0XHRcdFx0XHRcdGluQ2hhclJhbmdlID0gdHJ1ZTtcblx0XHRcdFx0XHR9IGVsc2UgcGF0dGVybiArPSBgJHtzb3VyY2VbaV19JHtzb3VyY2VbaV0udG9VcHBlckNhc2UoKX1gO1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKHNvdXJjZVtpXS5tYXRjaCgvW2Etel0vKSkge1xuXHRcdFx0XHRwYXR0ZXJuICs9IGBbJHtzb3VyY2VbaV19JHtzb3VyY2VbaV0udG9VcHBlckNhc2UoKX1dYDtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChmbGFncy5tKSB7XG5cdFx0XHRpZiAoc291cmNlW2ldID09PSBcIl5cIikge1xuXHRcdFx0XHRwYXR0ZXJuICs9IGAoXnwoPzw9W1xcclxcbl0pKWA7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChzb3VyY2VbaV0gPT09IFwiJFwiKSB7XG5cdFx0XHRcdHBhdHRlcm4gKz0gYCgkfCg/PVtcXHJcXG5dKSlgO1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKGZsYWdzLnMgJiYgc291cmNlW2ldID09PSBcIi5cIikge1xuXHRcdFx0cGF0dGVybiArPSBpbkNoYXJHcm91cCA/IGAke3NvdXJjZVtpXX1cXHJcXG5gIDogYFske3NvdXJjZVtpXX1cXHJcXG5dYDtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblx0XHRwYXR0ZXJuICs9IHNvdXJjZVtpXTtcblx0XHRpZiAoc291cmNlW2ldID09PSBcIlxcXFxcIikgaXNFc2NhcGVkID0gdHJ1ZTtcblx0XHRlbHNlIGlmIChpbkNoYXJHcm91cCAmJiBzb3VyY2VbaV0gPT09IFwiXVwiKSBpbkNoYXJHcm91cCA9IGZhbHNlO1xuXHRcdGVsc2UgaWYgKCFpbkNoYXJHcm91cCAmJiBzb3VyY2VbaV0gPT09IFwiW1wiKSBpbkNoYXJHcm91cCA9IHRydWU7XG5cdH1cblx0dHJ5IHtcblx0XHRuZXcgUmVnRXhwKHBhdHRlcm4pO1xuXHR9IGNhdGNoIHtcblx0XHRjb25zb2xlLndhcm4oYENvdWxkIG5vdCBjb252ZXJ0IHJlZ2V4IHBhdHRlcm4gYXQgJHtyZWZzLmN1cnJlbnRQYXRoLmpvaW4oXCIvXCIpfSB0byBhIGZsYWctaW5kZXBlbmRlbnQgZm9ybSEgRmFsbGluZyBiYWNrIHRvIHRoZSBmbGFnLWlnbm9yYW50IHNvdXJjZWApO1xuXHRcdHJldHVybiByZWdleC5zb3VyY2U7XG5cdH1cblx0cmV0dXJuIHBhdHRlcm47XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgcGFyc2VTdHJpbmdEZWYsIHpvZFBhdHRlcm5zIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdHJpbmcuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/string.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/tuple.js":
/*!******************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/tuple.js ***!
  \******************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseTupleDef: () => (/* binding */ parseTupleDef)\n/* harmony export */ });\n/* harmony import */ var _parseDef_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../parseDef.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\");\n\n\n//#region src/utils/zod-to-json-schema/parsers/tuple.ts\nfunction parseTupleDef(def, refs) {\n\tif (def.rest) return {\n\t\ttype: \"array\",\n\t\tminItems: def.items.length,\n\t\titems: def.items.map((x, i) => (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_0__.parseDef)(x._def, {\n\t\t\t...refs,\n\t\t\tcurrentPath: [\n\t\t\t\t...refs.currentPath,\n\t\t\t\t\"items\",\n\t\t\t\t`${i}`\n\t\t\t]\n\t\t})).reduce((acc, x) => x === void 0 ? acc : [...acc, x], []),\n\t\tadditionalItems: (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_0__.parseDef)(def.rest._def, {\n\t\t\t...refs,\n\t\t\tcurrentPath: [...refs.currentPath, \"additionalItems\"]\n\t\t})\n\t};\n\telse return {\n\t\ttype: \"array\",\n\t\tminItems: def.items.length,\n\t\tmaxItems: def.items.length,\n\t\titems: def.items.map((x, i) => (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_0__.parseDef)(x._def, {\n\t\t\t...refs,\n\t\t\tcurrentPath: [\n\t\t\t\t...refs.currentPath,\n\t\t\t\t\"items\",\n\t\t\t\t`${i}`\n\t\t\t]\n\t\t})).reduce((acc, x) => x === void 0 ? acc : [...acc, x], [])\n\t};\n}\n\n//#endregion\n\n//# sourceMappingURL=tuple.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy90dXBsZS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUEwQzs7QUFFMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxzREFBUTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sRUFBRTtBQUNUO0FBQ0EsR0FBRztBQUNILG1CQUFtQixzREFBUTtBQUMzQjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsc0RBQVE7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLEVBQUU7QUFDVDtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ3lCO0FBQ3pCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy90dXBsZS5qcz83NTdlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvdHVwbGUudHNcbmZ1bmN0aW9uIHBhcnNlVHVwbGVEZWYoZGVmLCByZWZzKSB7XG5cdGlmIChkZWYucmVzdCkgcmV0dXJuIHtcblx0XHR0eXBlOiBcImFycmF5XCIsXG5cdFx0bWluSXRlbXM6IGRlZi5pdGVtcy5sZW5ndGgsXG5cdFx0aXRlbXM6IGRlZi5pdGVtcy5tYXAoKHgsIGkpID0+IHBhcnNlRGVmKHguX2RlZiwge1xuXHRcdFx0Li4ucmVmcyxcblx0XHRcdGN1cnJlbnRQYXRoOiBbXG5cdFx0XHRcdC4uLnJlZnMuY3VycmVudFBhdGgsXG5cdFx0XHRcdFwiaXRlbXNcIixcblx0XHRcdFx0YCR7aX1gXG5cdFx0XHRdXG5cdFx0fSkpLnJlZHVjZSgoYWNjLCB4KSA9PiB4ID09PSB2b2lkIDAgPyBhY2MgOiBbLi4uYWNjLCB4XSwgW10pLFxuXHRcdGFkZGl0aW9uYWxJdGVtczogcGFyc2VEZWYoZGVmLnJlc3QuX2RlZiwge1xuXHRcdFx0Li4ucmVmcyxcblx0XHRcdGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJhZGRpdGlvbmFsSXRlbXNcIl1cblx0XHR9KVxuXHR9O1xuXHRlbHNlIHJldHVybiB7XG5cdFx0dHlwZTogXCJhcnJheVwiLFxuXHRcdG1pbkl0ZW1zOiBkZWYuaXRlbXMubGVuZ3RoLFxuXHRcdG1heEl0ZW1zOiBkZWYuaXRlbXMubGVuZ3RoLFxuXHRcdGl0ZW1zOiBkZWYuaXRlbXMubWFwKCh4LCBpKSA9PiBwYXJzZURlZih4Ll9kZWYsIHtcblx0XHRcdC4uLnJlZnMsXG5cdFx0XHRjdXJyZW50UGF0aDogW1xuXHRcdFx0XHQuLi5yZWZzLmN1cnJlbnRQYXRoLFxuXHRcdFx0XHRcIml0ZW1zXCIsXG5cdFx0XHRcdGAke2l9YFxuXHRcdFx0XVxuXHRcdH0pKS5yZWR1Y2UoKGFjYywgeCkgPT4geCA9PT0gdm9pZCAwID8gYWNjIDogWy4uLmFjYywgeF0sIFtdKVxuXHR9O1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IHBhcnNlVHVwbGVEZWYgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXR1cGxlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/tuple.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/undefined.js":
/*!**********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/undefined.js ***!
  \**********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseUndefinedDef: () => (/* binding */ parseUndefinedDef)\n/* harmony export */ });\n/* harmony import */ var _any_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./any.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.js\");\n\n\n//#region src/utils/zod-to-json-schema/parsers/undefined.ts\nfunction parseUndefinedDef(refs) {\n\treturn { not: (0,_any_js__WEBPACK_IMPORTED_MODULE_0__.parseAnyDef)(refs) };\n}\n\n//#endregion\n\n//# sourceMappingURL=undefined.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy91bmRlZmluZWQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBdUM7O0FBRXZDO0FBQ0E7QUFDQSxVQUFVLEtBQUssb0RBQVc7QUFDMUI7O0FBRUE7QUFDNkI7QUFDN0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3VuZGVmaW5lZC5qcz9kNWY1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBhcnNlQW55RGVmIH0gZnJvbSBcIi4vYW55LmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvdW5kZWZpbmVkLnRzXG5mdW5jdGlvbiBwYXJzZVVuZGVmaW5lZERlZihyZWZzKSB7XG5cdHJldHVybiB7IG5vdDogcGFyc2VBbnlEZWYocmVmcykgfTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBwYXJzZVVuZGVmaW5lZERlZiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dW5kZWZpbmVkLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/undefined.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/union.js":
/*!******************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/union.js ***!
  \******************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseUnionDef: () => (/* binding */ parseUnionDef),\n/* harmony export */   primitiveMappings: () => (/* binding */ primitiveMappings)\n/* harmony export */ });\n/* harmony import */ var _parseDef_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../parseDef.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\");\n\n\n//#region src/utils/zod-to-json-schema/parsers/union.ts\nconst primitiveMappings = {\n\tZodString: \"string\",\n\tZodNumber: \"number\",\n\tZodBigInt: \"integer\",\n\tZodBoolean: \"boolean\",\n\tZodNull: \"null\"\n};\nfunction parseUnionDef(def, refs) {\n\tif (refs.target === \"openApi3\") return asAnyOf(def, refs);\n\tconst options = def.options instanceof Map ? Array.from(def.options.values()) : def.options;\n\tif (options.every((x) => x._def.typeName in primitiveMappings && (!x._def.checks || !x._def.checks.length))) {\n\t\tconst types = options.reduce((types$1, x) => {\n\t\t\tconst type = primitiveMappings[x._def.typeName];\n\t\t\treturn type && !types$1.includes(type) ? [...types$1, type] : types$1;\n\t\t}, []);\n\t\treturn { type: types.length > 1 ? types : types[0] };\n\t} else if (options.every((x) => x._def.typeName === \"ZodLiteral\" && !x.description)) {\n\t\tconst types = options.reduce((acc, x) => {\n\t\t\tconst type = typeof x._def.value;\n\t\t\tswitch (type) {\n\t\t\t\tcase \"string\":\n\t\t\t\tcase \"number\":\n\t\t\t\tcase \"boolean\": return [...acc, type];\n\t\t\t\tcase \"bigint\": return [...acc, \"integer\"];\n\t\t\t\tcase \"object\":\n\t\t\t\t\tif (x._def.value === null) return [...acc, \"null\"];\n\t\t\t\t\treturn acc;\n\t\t\t\tcase \"symbol\":\n\t\t\t\tcase \"undefined\":\n\t\t\t\tcase \"function\":\n\t\t\t\tdefault: return acc;\n\t\t\t}\n\t\t}, []);\n\t\tif (types.length === options.length) {\n\t\t\tconst uniqueTypes = types.filter((x, i, a) => a.indexOf(x) === i);\n\t\t\treturn {\n\t\t\t\ttype: uniqueTypes.length > 1 ? uniqueTypes : uniqueTypes[0],\n\t\t\t\tenum: options.reduce((acc, x) => {\n\t\t\t\t\treturn acc.includes(x._def.value) ? acc : [...acc, x._def.value];\n\t\t\t\t}, [])\n\t\t\t};\n\t\t}\n\t} else if (options.every((x) => x._def.typeName === \"ZodEnum\")) return {\n\t\ttype: \"string\",\n\t\tenum: options.reduce((acc, x) => [...acc, ...x._def.values.filter((x$1) => !acc.includes(x$1))], [])\n\t};\n\treturn asAnyOf(def, refs);\n}\nconst asAnyOf = (def, refs) => {\n\tconst anyOf = (def.options instanceof Map ? Array.from(def.options.values()) : def.options).map((x, i) => (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_0__.parseDef)(x._def, {\n\t\t...refs,\n\t\tcurrentPath: [\n\t\t\t...refs.currentPath,\n\t\t\t\"anyOf\",\n\t\t\t`${i}`\n\t\t]\n\t})).filter((x) => !!x && (!refs.strictUnions || typeof x === \"object\" && Object.keys(x).length > 0));\n\treturn anyOf.length ? { anyOf } : void 0;\n};\n\n//#endregion\n\n//# sourceMappingURL=union.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy91bmlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMEM7O0FBRTFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxXQUFXO0FBQ1gsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyR0FBMkcsc0RBQVE7QUFDbkg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLEVBQUU7QUFDUjtBQUNBLEVBQUU7QUFDRix5QkFBeUIsUUFBUTtBQUNqQzs7QUFFQTtBQUM0QztBQUM1QyIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvdW5pb24uanM/NDVlMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3VuaW9uLnRzXG5jb25zdCBwcmltaXRpdmVNYXBwaW5ncyA9IHtcblx0Wm9kU3RyaW5nOiBcInN0cmluZ1wiLFxuXHRab2ROdW1iZXI6IFwibnVtYmVyXCIsXG5cdFpvZEJpZ0ludDogXCJpbnRlZ2VyXCIsXG5cdFpvZEJvb2xlYW46IFwiYm9vbGVhblwiLFxuXHRab2ROdWxsOiBcIm51bGxcIlxufTtcbmZ1bmN0aW9uIHBhcnNlVW5pb25EZWYoZGVmLCByZWZzKSB7XG5cdGlmIChyZWZzLnRhcmdldCA9PT0gXCJvcGVuQXBpM1wiKSByZXR1cm4gYXNBbnlPZihkZWYsIHJlZnMpO1xuXHRjb25zdCBvcHRpb25zID0gZGVmLm9wdGlvbnMgaW5zdGFuY2VvZiBNYXAgPyBBcnJheS5mcm9tKGRlZi5vcHRpb25zLnZhbHVlcygpKSA6IGRlZi5vcHRpb25zO1xuXHRpZiAob3B0aW9ucy5ldmVyeSgoeCkgPT4geC5fZGVmLnR5cGVOYW1lIGluIHByaW1pdGl2ZU1hcHBpbmdzICYmICgheC5fZGVmLmNoZWNrcyB8fCAheC5fZGVmLmNoZWNrcy5sZW5ndGgpKSkge1xuXHRcdGNvbnN0IHR5cGVzID0gb3B0aW9ucy5yZWR1Y2UoKHR5cGVzJDEsIHgpID0+IHtcblx0XHRcdGNvbnN0IHR5cGUgPSBwcmltaXRpdmVNYXBwaW5nc1t4Ll9kZWYudHlwZU5hbWVdO1xuXHRcdFx0cmV0dXJuIHR5cGUgJiYgIXR5cGVzJDEuaW5jbHVkZXModHlwZSkgPyBbLi4udHlwZXMkMSwgdHlwZV0gOiB0eXBlcyQxO1xuXHRcdH0sIFtdKTtcblx0XHRyZXR1cm4geyB0eXBlOiB0eXBlcy5sZW5ndGggPiAxID8gdHlwZXMgOiB0eXBlc1swXSB9O1xuXHR9IGVsc2UgaWYgKG9wdGlvbnMuZXZlcnkoKHgpID0+IHguX2RlZi50eXBlTmFtZSA9PT0gXCJab2RMaXRlcmFsXCIgJiYgIXguZGVzY3JpcHRpb24pKSB7XG5cdFx0Y29uc3QgdHlwZXMgPSBvcHRpb25zLnJlZHVjZSgoYWNjLCB4KSA9PiB7XG5cdFx0XHRjb25zdCB0eXBlID0gdHlwZW9mIHguX2RlZi52YWx1ZTtcblx0XHRcdHN3aXRjaCAodHlwZSkge1xuXHRcdFx0XHRjYXNlIFwic3RyaW5nXCI6XG5cdFx0XHRcdGNhc2UgXCJudW1iZXJcIjpcblx0XHRcdFx0Y2FzZSBcImJvb2xlYW5cIjogcmV0dXJuIFsuLi5hY2MsIHR5cGVdO1xuXHRcdFx0XHRjYXNlIFwiYmlnaW50XCI6IHJldHVybiBbLi4uYWNjLCBcImludGVnZXJcIl07XG5cdFx0XHRcdGNhc2UgXCJvYmplY3RcIjpcblx0XHRcdFx0XHRpZiAoeC5fZGVmLnZhbHVlID09PSBudWxsKSByZXR1cm4gWy4uLmFjYywgXCJudWxsXCJdO1xuXHRcdFx0XHRcdHJldHVybiBhY2M7XG5cdFx0XHRcdGNhc2UgXCJzeW1ib2xcIjpcblx0XHRcdFx0Y2FzZSBcInVuZGVmaW5lZFwiOlxuXHRcdFx0XHRjYXNlIFwiZnVuY3Rpb25cIjpcblx0XHRcdFx0ZGVmYXVsdDogcmV0dXJuIGFjYztcblx0XHRcdH1cblx0XHR9LCBbXSk7XG5cdFx0aWYgKHR5cGVzLmxlbmd0aCA9PT0gb3B0aW9ucy5sZW5ndGgpIHtcblx0XHRcdGNvbnN0IHVuaXF1ZVR5cGVzID0gdHlwZXMuZmlsdGVyKCh4LCBpLCBhKSA9PiBhLmluZGV4T2YoeCkgPT09IGkpO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0dHlwZTogdW5pcXVlVHlwZXMubGVuZ3RoID4gMSA/IHVuaXF1ZVR5cGVzIDogdW5pcXVlVHlwZXNbMF0sXG5cdFx0XHRcdGVudW06IG9wdGlvbnMucmVkdWNlKChhY2MsIHgpID0+IHtcblx0XHRcdFx0XHRyZXR1cm4gYWNjLmluY2x1ZGVzKHguX2RlZi52YWx1ZSkgPyBhY2MgOiBbLi4uYWNjLCB4Ll9kZWYudmFsdWVdO1xuXHRcdFx0XHR9LCBbXSlcblx0XHRcdH07XG5cdFx0fVxuXHR9IGVsc2UgaWYgKG9wdGlvbnMuZXZlcnkoKHgpID0+IHguX2RlZi50eXBlTmFtZSA9PT0gXCJab2RFbnVtXCIpKSByZXR1cm4ge1xuXHRcdHR5cGU6IFwic3RyaW5nXCIsXG5cdFx0ZW51bTogb3B0aW9ucy5yZWR1Y2UoKGFjYywgeCkgPT4gWy4uLmFjYywgLi4ueC5fZGVmLnZhbHVlcy5maWx0ZXIoKHgkMSkgPT4gIWFjYy5pbmNsdWRlcyh4JDEpKV0sIFtdKVxuXHR9O1xuXHRyZXR1cm4gYXNBbnlPZihkZWYsIHJlZnMpO1xufVxuY29uc3QgYXNBbnlPZiA9IChkZWYsIHJlZnMpID0+IHtcblx0Y29uc3QgYW55T2YgPSAoZGVmLm9wdGlvbnMgaW5zdGFuY2VvZiBNYXAgPyBBcnJheS5mcm9tKGRlZi5vcHRpb25zLnZhbHVlcygpKSA6IGRlZi5vcHRpb25zKS5tYXAoKHgsIGkpID0+IHBhcnNlRGVmKHguX2RlZiwge1xuXHRcdC4uLnJlZnMsXG5cdFx0Y3VycmVudFBhdGg6IFtcblx0XHRcdC4uLnJlZnMuY3VycmVudFBhdGgsXG5cdFx0XHRcImFueU9mXCIsXG5cdFx0XHRgJHtpfWBcblx0XHRdXG5cdH0pKS5maWx0ZXIoKHgpID0+ICEheCAmJiAoIXJlZnMuc3RyaWN0VW5pb25zIHx8IHR5cGVvZiB4ID09PSBcIm9iamVjdFwiICYmIE9iamVjdC5rZXlzKHgpLmxlbmd0aCA+IDApKTtcblx0cmV0dXJuIGFueU9mLmxlbmd0aCA/IHsgYW55T2YgfSA6IHZvaWQgMDtcbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgcGFyc2VVbmlvbkRlZiwgcHJpbWl0aXZlTWFwcGluZ3MgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVuaW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/union.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/unknown.js":
/*!********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/unknown.js ***!
  \********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseUnknownDef: () => (/* binding */ parseUnknownDef)\n/* harmony export */ });\n/* harmony import */ var _any_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./any.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.js\");\n\n\n//#region src/utils/zod-to-json-schema/parsers/unknown.ts\nfunction parseUnknownDef(refs) {\n\treturn (0,_any_js__WEBPACK_IMPORTED_MODULE_0__.parseAnyDef)(refs);\n}\n\n//#endregion\n\n//# sourceMappingURL=unknown.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy91bmtub3duLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXVDOztBQUV2QztBQUNBO0FBQ0EsUUFBUSxvREFBVztBQUNuQjs7QUFFQTtBQUMyQjtBQUMzQiIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5yb3V0ZXItbGFuZ2dyYXBoLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rY29yZUAxLjAuMV9vcGVuYWlANi43LjBfd3NAOC4xOC4zX3pvZEAzLjI1Ljc2Xy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvdW5rbm93bi5qcz84MGZlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBhcnNlQW55RGVmIH0gZnJvbSBcIi4vYW55LmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvdW5rbm93bi50c1xuZnVuY3Rpb24gcGFyc2VVbmtub3duRGVmKHJlZnMpIHtcblx0cmV0dXJuIHBhcnNlQW55RGVmKHJlZnMpO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IHBhcnNlVW5rbm93bkRlZiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dW5rbm93bi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/unknown.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/selectParser.js":
/*!*****************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/selectParser.js ***!
  \*****************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   selectParser: () => (/* binding */ selectParser)\n/* harmony export */ });\n/* harmony import */ var _parsers_any_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parsers/any.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.js\");\n/* harmony import */ var _parsers_array_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parsers/array.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/array.js\");\n/* harmony import */ var _parsers_bigint_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./parsers/bigint.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/bigint.js\");\n/* harmony import */ var _parsers_boolean_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./parsers/boolean.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/boolean.js\");\n/* harmony import */ var _parsers_branded_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./parsers/branded.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/branded.js\");\n/* harmony import */ var _parsers_catch_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./parsers/catch.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/catch.js\");\n/* harmony import */ var _parsers_date_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./parsers/date.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/date.js\");\n/* harmony import */ var _parsers_default_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./parsers/default.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/default.js\");\n/* harmony import */ var _parsers_effects_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./parsers/effects.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/effects.js\");\n/* harmony import */ var _parsers_enum_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./parsers/enum.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/enum.js\");\n/* harmony import */ var _parsers_intersection_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./parsers/intersection.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/intersection.js\");\n/* harmony import */ var _parsers_literal_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./parsers/literal.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/literal.js\");\n/* harmony import */ var _parsers_string_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./parsers/string.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/string.js\");\n/* harmony import */ var _parsers_record_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./parsers/record.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/record.js\");\n/* harmony import */ var _parsers_map_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./parsers/map.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/map.js\");\n/* harmony import */ var _parsers_nativeEnum_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./parsers/nativeEnum.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/nativeEnum.js\");\n/* harmony import */ var _parsers_never_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./parsers/never.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/never.js\");\n/* harmony import */ var _parsers_null_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./parsers/null.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/null.js\");\n/* harmony import */ var _parsers_union_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./parsers/union.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/union.js\");\n/* harmony import */ var _parsers_nullable_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./parsers/nullable.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/nullable.js\");\n/* harmony import */ var _parsers_number_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./parsers/number.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/number.js\");\n/* harmony import */ var _parsers_object_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./parsers/object.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/object.js\");\n/* harmony import */ var _parsers_optional_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./parsers/optional.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/optional.js\");\n/* harmony import */ var _parsers_pipeline_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./parsers/pipeline.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/pipeline.js\");\n/* harmony import */ var _parsers_promise_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./parsers/promise.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/promise.js\");\n/* harmony import */ var _parsers_set_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./parsers/set.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/set.js\");\n/* harmony import */ var _parsers_tuple_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./parsers/tuple.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/tuple.js\");\n/* harmony import */ var _parsers_undefined_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./parsers/undefined.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/undefined.js\");\n/* harmony import */ var _parsers_unknown_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./parsers/unknown.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/unknown.js\");\n/* harmony import */ var _parsers_readonly_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./parsers/readonly.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/readonly.js\");\n/* harmony import */ var zod_v3__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! zod/v3 */ \"(rsc)/./node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//#region src/utils/zod-to-json-schema/selectParser.ts\nconst selectParser = (def, typeName, refs) => {\n\tswitch (typeName) {\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodString: return (0,_parsers_string_js__WEBPACK_IMPORTED_MODULE_12__.parseStringDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodNumber: return (0,_parsers_number_js__WEBPACK_IMPORTED_MODULE_20__.parseNumberDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodObject: return (0,_parsers_object_js__WEBPACK_IMPORTED_MODULE_21__.parseObjectDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodBigInt: return (0,_parsers_bigint_js__WEBPACK_IMPORTED_MODULE_2__.parseBigintDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodBoolean: return (0,_parsers_boolean_js__WEBPACK_IMPORTED_MODULE_3__.parseBooleanDef)();\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodDate: return (0,_parsers_date_js__WEBPACK_IMPORTED_MODULE_6__.parseDateDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodUndefined: return (0,_parsers_undefined_js__WEBPACK_IMPORTED_MODULE_27__.parseUndefinedDef)(refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodNull: return (0,_parsers_null_js__WEBPACK_IMPORTED_MODULE_17__.parseNullDef)(refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodArray: return (0,_parsers_array_js__WEBPACK_IMPORTED_MODULE_1__.parseArrayDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodUnion:\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodDiscriminatedUnion: return (0,_parsers_union_js__WEBPACK_IMPORTED_MODULE_18__.parseUnionDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodIntersection: return (0,_parsers_intersection_js__WEBPACK_IMPORTED_MODULE_10__.parseIntersectionDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodTuple: return (0,_parsers_tuple_js__WEBPACK_IMPORTED_MODULE_26__.parseTupleDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodRecord: return (0,_parsers_record_js__WEBPACK_IMPORTED_MODULE_13__.parseRecordDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodLiteral: return (0,_parsers_literal_js__WEBPACK_IMPORTED_MODULE_11__.parseLiteralDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodEnum: return (0,_parsers_enum_js__WEBPACK_IMPORTED_MODULE_9__.parseEnumDef)(def);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodNativeEnum: return (0,_parsers_nativeEnum_js__WEBPACK_IMPORTED_MODULE_15__.parseNativeEnumDef)(def);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodNullable: return (0,_parsers_nullable_js__WEBPACK_IMPORTED_MODULE_19__.parseNullableDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodOptional: return (0,_parsers_optional_js__WEBPACK_IMPORTED_MODULE_22__.parseOptionalDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodMap: return (0,_parsers_map_js__WEBPACK_IMPORTED_MODULE_14__.parseMapDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodSet: return (0,_parsers_set_js__WEBPACK_IMPORTED_MODULE_25__.parseSetDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodLazy: return () => def.getter()._def;\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodPromise: return (0,_parsers_promise_js__WEBPACK_IMPORTED_MODULE_24__.parsePromiseDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodNaN:\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodNever: return (0,_parsers_never_js__WEBPACK_IMPORTED_MODULE_16__.parseNeverDef)(refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodEffects: return (0,_parsers_effects_js__WEBPACK_IMPORTED_MODULE_8__.parseEffectsDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodAny: return (0,_parsers_any_js__WEBPACK_IMPORTED_MODULE_0__.parseAnyDef)(refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodUnknown: return (0,_parsers_unknown_js__WEBPACK_IMPORTED_MODULE_28__.parseUnknownDef)(refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodDefault: return (0,_parsers_default_js__WEBPACK_IMPORTED_MODULE_7__.parseDefaultDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodBranded: return (0,_parsers_branded_js__WEBPACK_IMPORTED_MODULE_4__.parseBrandedDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodReadonly: return (0,_parsers_readonly_js__WEBPACK_IMPORTED_MODULE_29__.parseReadonlyDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodCatch: return (0,_parsers_catch_js__WEBPACK_IMPORTED_MODULE_5__.parseCatchDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodPipeline: return (0,_parsers_pipeline_js__WEBPACK_IMPORTED_MODULE_23__.parsePipelineDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodFunction:\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodVoid:\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodSymbol: return void 0;\n\t\tdefault:\n /* c8 ignore next */\n\t\treturn ((_) => void 0)(typeName);\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=selectParser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvc2VsZWN0UGFyc2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQStDO0FBQ0k7QUFDRTtBQUNFO0FBQ0E7QUFDSjtBQUNGO0FBQ007QUFDQTtBQUNOO0FBQ2dCO0FBQ1Y7QUFDRjtBQUNBO0FBQ047QUFDYztBQUNWO0FBQ0Y7QUFDRTtBQUNNO0FBQ0o7QUFDQTtBQUNJO0FBQ0E7QUFDRjtBQUNSO0FBQ0k7QUFDUTtBQUNKO0FBQ0U7QUFDVjs7QUFFL0M7QUFDQTtBQUNBO0FBQ0EsT0FBTywwREFBcUIsbUJBQW1CLG1FQUFjO0FBQzdELE9BQU8sMERBQXFCLG1CQUFtQixtRUFBYztBQUM3RCxPQUFPLDBEQUFxQixtQkFBbUIsbUVBQWM7QUFDN0QsT0FBTywwREFBcUIsbUJBQW1CLGtFQUFjO0FBQzdELE9BQU8sMERBQXFCLG9CQUFvQixvRUFBZTtBQUMvRCxPQUFPLDBEQUFxQixpQkFBaUIsOERBQVk7QUFDekQsT0FBTywwREFBcUIsc0JBQXNCLHlFQUFpQjtBQUNuRSxPQUFPLDBEQUFxQixpQkFBaUIsK0RBQVk7QUFDekQsT0FBTywwREFBcUIsa0JBQWtCLGdFQUFhO0FBQzNELE9BQU8sMERBQXFCO0FBQzVCLE9BQU8sMERBQXFCLCtCQUErQixpRUFBYTtBQUN4RSxPQUFPLDBEQUFxQix5QkFBeUIsK0VBQW9CO0FBQ3pFLE9BQU8sMERBQXFCLGtCQUFrQixpRUFBYTtBQUMzRCxPQUFPLDBEQUFxQixtQkFBbUIsbUVBQWM7QUFDN0QsT0FBTywwREFBcUIsb0JBQW9CLHFFQUFlO0FBQy9ELE9BQU8sMERBQXFCLGlCQUFpQiw4REFBWTtBQUN6RCxPQUFPLDBEQUFxQix1QkFBdUIsMkVBQWtCO0FBQ3JFLE9BQU8sMERBQXFCLHFCQUFxQix1RUFBZ0I7QUFDakUsT0FBTywwREFBcUIscUJBQXFCLHVFQUFnQjtBQUNqRSxPQUFPLDBEQUFxQixnQkFBZ0IsNkRBQVc7QUFDdkQsT0FBTywwREFBcUIsZ0JBQWdCLDZEQUFXO0FBQ3ZELE9BQU8sMERBQXFCO0FBQzVCLE9BQU8sMERBQXFCLG9CQUFvQixxRUFBZTtBQUMvRCxPQUFPLDBEQUFxQjtBQUM1QixPQUFPLDBEQUFxQixrQkFBa0IsaUVBQWE7QUFDM0QsT0FBTywwREFBcUIsb0JBQW9CLG9FQUFlO0FBQy9ELE9BQU8sMERBQXFCLGdCQUFnQiw0REFBVztBQUN2RCxPQUFPLDBEQUFxQixvQkFBb0IscUVBQWU7QUFDL0QsT0FBTywwREFBcUIsb0JBQW9CLG9FQUFlO0FBQy9ELE9BQU8sMERBQXFCLG9CQUFvQixvRUFBZTtBQUMvRCxPQUFPLDBEQUFxQixxQkFBcUIsdUVBQWdCO0FBQ2pFLE9BQU8sMERBQXFCLGtCQUFrQixnRUFBYTtBQUMzRCxPQUFPLDBEQUFxQixxQkFBcUIsdUVBQWdCO0FBQ2pFLE9BQU8sMERBQXFCO0FBQzVCLE9BQU8sMERBQXFCO0FBQzVCLE9BQU8sMERBQXFCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDd0I7QUFDeEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVucm91dGVyLWxhbmdncmFwaC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2NvcmVAMS4wLjFfb3BlbmFpQDYuNy4wX3dzQDguMTguM196b2RAMy4yNS43Nl8vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9zZWxlY3RQYXJzZXIuanM/NGEzNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwYXJzZUFueURlZiB9IGZyb20gXCIuL3BhcnNlcnMvYW55LmpzXCI7XG5pbXBvcnQgeyBwYXJzZUFycmF5RGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9hcnJheS5qc1wiO1xuaW1wb3J0IHsgcGFyc2VCaWdpbnREZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2JpZ2ludC5qc1wiO1xuaW1wb3J0IHsgcGFyc2VCb29sZWFuRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9ib29sZWFuLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUJyYW5kZWREZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2JyYW5kZWQuanNcIjtcbmltcG9ydCB7IHBhcnNlQ2F0Y2hEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2NhdGNoLmpzXCI7XG5pbXBvcnQgeyBwYXJzZURhdGVEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2RhdGUuanNcIjtcbmltcG9ydCB7IHBhcnNlRGVmYXVsdERlZiB9IGZyb20gXCIuL3BhcnNlcnMvZGVmYXVsdC5qc1wiO1xuaW1wb3J0IHsgcGFyc2VFZmZlY3RzRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9lZmZlY3RzLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUVudW1EZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2VudW0uanNcIjtcbmltcG9ydCB7IHBhcnNlSW50ZXJzZWN0aW9uRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9pbnRlcnNlY3Rpb24uanNcIjtcbmltcG9ydCB7IHBhcnNlTGl0ZXJhbERlZiB9IGZyb20gXCIuL3BhcnNlcnMvbGl0ZXJhbC5qc1wiO1xuaW1wb3J0IHsgcGFyc2VTdHJpbmdEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL3N0cmluZy5qc1wiO1xuaW1wb3J0IHsgcGFyc2VSZWNvcmREZWYgfSBmcm9tIFwiLi9wYXJzZXJzL3JlY29yZC5qc1wiO1xuaW1wb3J0IHsgcGFyc2VNYXBEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL21hcC5qc1wiO1xuaW1wb3J0IHsgcGFyc2VOYXRpdmVFbnVtRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9uYXRpdmVFbnVtLmpzXCI7XG5pbXBvcnQgeyBwYXJzZU5ldmVyRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9uZXZlci5qc1wiO1xuaW1wb3J0IHsgcGFyc2VOdWxsRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9udWxsLmpzXCI7XG5pbXBvcnQgeyBwYXJzZVVuaW9uRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy91bmlvbi5qc1wiO1xuaW1wb3J0IHsgcGFyc2VOdWxsYWJsZURlZiB9IGZyb20gXCIuL3BhcnNlcnMvbnVsbGFibGUuanNcIjtcbmltcG9ydCB7IHBhcnNlTnVtYmVyRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9udW1iZXIuanNcIjtcbmltcG9ydCB7IHBhcnNlT2JqZWN0RGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9vYmplY3QuanNcIjtcbmltcG9ydCB7IHBhcnNlT3B0aW9uYWxEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL29wdGlvbmFsLmpzXCI7XG5pbXBvcnQgeyBwYXJzZVBpcGVsaW5lRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9waXBlbGluZS5qc1wiO1xuaW1wb3J0IHsgcGFyc2VQcm9taXNlRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9wcm9taXNlLmpzXCI7XG5pbXBvcnQgeyBwYXJzZVNldERlZiB9IGZyb20gXCIuL3BhcnNlcnMvc2V0LmpzXCI7XG5pbXBvcnQgeyBwYXJzZVR1cGxlRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy90dXBsZS5qc1wiO1xuaW1wb3J0IHsgcGFyc2VVbmRlZmluZWREZWYgfSBmcm9tIFwiLi9wYXJzZXJzL3VuZGVmaW5lZC5qc1wiO1xuaW1wb3J0IHsgcGFyc2VVbmtub3duRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy91bmtub3duLmpzXCI7XG5pbXBvcnQgeyBwYXJzZVJlYWRvbmx5RGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9yZWFkb25seS5qc1wiO1xuaW1wb3J0IHsgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kIH0gZnJvbSBcInpvZC92M1wiO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9zZWxlY3RQYXJzZXIudHNcbmNvbnN0IHNlbGVjdFBhcnNlciA9IChkZWYsIHR5cGVOYW1lLCByZWZzKSA9PiB7XG5cdHN3aXRjaCAodHlwZU5hbWUpIHtcblx0XHRjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTdHJpbmc6IHJldHVybiBwYXJzZVN0cmluZ0RlZihkZWYsIHJlZnMpO1xuXHRcdGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bWJlcjogcmV0dXJuIHBhcnNlTnVtYmVyRGVmKGRlZiwgcmVmcyk7XG5cdFx0Y2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0OiByZXR1cm4gcGFyc2VPYmplY3REZWYoZGVmLCByZWZzKTtcblx0XHRjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RCaWdJbnQ6IHJldHVybiBwYXJzZUJpZ2ludERlZihkZWYsIHJlZnMpO1xuXHRcdGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJvb2xlYW46IHJldHVybiBwYXJzZUJvb2xlYW5EZWYoKTtcblx0XHRjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REYXRlOiByZXR1cm4gcGFyc2VEYXRlRGVmKGRlZiwgcmVmcyk7XG5cdFx0Y2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5kZWZpbmVkOiByZXR1cm4gcGFyc2VVbmRlZmluZWREZWYocmVmcyk7XG5cdFx0Y2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTnVsbDogcmV0dXJuIHBhcnNlTnVsbERlZihyZWZzKTtcblx0XHRjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RBcnJheTogcmV0dXJuIHBhcnNlQXJyYXlEZWYoZGVmLCByZWZzKTtcblx0XHRjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmlvbjpcblx0XHRjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REaXNjcmltaW5hdGVkVW5pb246IHJldHVybiBwYXJzZVVuaW9uRGVmKGRlZiwgcmVmcyk7XG5cdFx0Y2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kSW50ZXJzZWN0aW9uOiByZXR1cm4gcGFyc2VJbnRlcnNlY3Rpb25EZWYoZGVmLCByZWZzKTtcblx0XHRjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RUdXBsZTogcmV0dXJuIHBhcnNlVHVwbGVEZWYoZGVmLCByZWZzKTtcblx0XHRjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RSZWNvcmQ6IHJldHVybiBwYXJzZVJlY29yZERlZihkZWYsIHJlZnMpO1xuXHRcdGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZExpdGVyYWw6IHJldHVybiBwYXJzZUxpdGVyYWxEZWYoZGVmLCByZWZzKTtcblx0XHRjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFbnVtOiByZXR1cm4gcGFyc2VFbnVtRGVmKGRlZik7XG5cdFx0Y2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmF0aXZlRW51bTogcmV0dXJuIHBhcnNlTmF0aXZlRW51bURlZihkZWYpO1xuXHRcdGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bGxhYmxlOiByZXR1cm4gcGFyc2VOdWxsYWJsZURlZihkZWYsIHJlZnMpO1xuXHRcdGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9wdGlvbmFsOiByZXR1cm4gcGFyc2VPcHRpb25hbERlZihkZWYsIHJlZnMpO1xuXHRcdGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE1hcDogcmV0dXJuIHBhcnNlTWFwRGVmKGRlZiwgcmVmcyk7XG5cdFx0Y2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU2V0OiByZXR1cm4gcGFyc2VTZXREZWYoZGVmLCByZWZzKTtcblx0XHRjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RMYXp5OiByZXR1cm4gKCkgPT4gZGVmLmdldHRlcigpLl9kZWY7XG5cdFx0Y2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUHJvbWlzZTogcmV0dXJuIHBhcnNlUHJvbWlzZURlZihkZWYsIHJlZnMpO1xuXHRcdGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5hTjpcblx0XHRjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROZXZlcjogcmV0dXJuIHBhcnNlTmV2ZXJEZWYocmVmcyk7XG5cdFx0Y2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0czogcmV0dXJuIHBhcnNlRWZmZWN0c0RlZihkZWYsIHJlZnMpO1xuXHRcdGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEFueTogcmV0dXJuIHBhcnNlQW55RGVmKHJlZnMpO1xuXHRcdGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFVua25vd246IHJldHVybiBwYXJzZVVua25vd25EZWYocmVmcyk7XG5cdFx0Y2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGVmYXVsdDogcmV0dXJuIHBhcnNlRGVmYXVsdERlZihkZWYsIHJlZnMpO1xuXHRcdGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJyYW5kZWQ6IHJldHVybiBwYXJzZUJyYW5kZWREZWYoZGVmLCByZWZzKTtcblx0XHRjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RSZWFkb25seTogcmV0dXJuIHBhcnNlUmVhZG9ubHlEZWYoZGVmLCByZWZzKTtcblx0XHRjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RDYXRjaDogcmV0dXJuIHBhcnNlQ2F0Y2hEZWYoZGVmLCByZWZzKTtcblx0XHRjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RQaXBlbGluZTogcmV0dXJuIHBhcnNlUGlwZWxpbmVEZWYoZGVmLCByZWZzKTtcblx0XHRjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RGdW5jdGlvbjpcblx0XHRjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RWb2lkOlxuXHRcdGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN5bWJvbDogcmV0dXJuIHZvaWQgMDtcblx0XHRkZWZhdWx0OlxuIC8qIGM4IGlnbm9yZSBuZXh0ICovXG5cdFx0cmV0dXJuICgoXykgPT4gdm9pZCAwKSh0eXBlTmFtZSk7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgc2VsZWN0UGFyc2VyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZWxlY3RQYXJzZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/selectParser.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/zodToJsonSchema.js":
/*!********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/zodToJsonSchema.js ***!
  \********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   zodToJsonSchema: () => (/* binding */ zodToJsonSchema)\n/* harmony export */ });\n/* harmony import */ var _Refs_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Refs.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/Refs.js\");\n/* harmony import */ var _parsers_any_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parsers/any.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.js\");\n/* harmony import */ var _parseDef_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./parseDef.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\");\n\n\n\n\n//#region src/utils/zod-to-json-schema/zodToJsonSchema.ts\nconst zodToJsonSchema = (schema, options) => {\n\tconst refs = (0,_Refs_js__WEBPACK_IMPORTED_MODULE_0__.getRefs)(options);\n\tlet definitions = typeof options === \"object\" && options.definitions ? Object.entries(options.definitions).reduce((acc, [name$1, schema$1]) => ({\n\t\t...acc,\n\t\t[name$1]: (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_2__.parseDef)(schema$1._def, {\n\t\t\t...refs,\n\t\t\tcurrentPath: [\n\t\t\t\t...refs.basePath,\n\t\t\t\trefs.definitionPath,\n\t\t\t\tname$1\n\t\t\t]\n\t\t}, true) ?? (0,_parsers_any_js__WEBPACK_IMPORTED_MODULE_1__.parseAnyDef)(refs)\n\t}), {}) : void 0;\n\tconst name = typeof options === \"string\" ? options : options?.nameStrategy === \"title\" ? void 0 : options?.name;\n\tconst main = (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_2__.parseDef)(schema._def, name === void 0 ? refs : {\n\t\t...refs,\n\t\tcurrentPath: [\n\t\t\t...refs.basePath,\n\t\t\trefs.definitionPath,\n\t\t\tname\n\t\t]\n\t}, false) ?? (0,_parsers_any_js__WEBPACK_IMPORTED_MODULE_1__.parseAnyDef)(refs);\n\tconst title = typeof options === \"object\" && options.name !== void 0 && options.nameStrategy === \"title\" ? options.name : void 0;\n\tif (title !== void 0) main.title = title;\n\tif (refs.flags.hasReferencedOpenAiAnyType) {\n\t\tif (!definitions) definitions = {};\n\t\tif (!definitions[refs.openAiAnyTypeName]) definitions[refs.openAiAnyTypeName] = {\n\t\t\ttype: [\n\t\t\t\t\"string\",\n\t\t\t\t\"number\",\n\t\t\t\t\"integer\",\n\t\t\t\t\"boolean\",\n\t\t\t\t\"array\",\n\t\t\t\t\"null\"\n\t\t\t],\n\t\t\titems: { $ref: refs.$refStrategy === \"relative\" ? \"1\" : [\n\t\t\t\t...refs.basePath,\n\t\t\t\trefs.definitionPath,\n\t\t\t\trefs.openAiAnyTypeName\n\t\t\t].join(\"/\") }\n\t\t};\n\t}\n\tconst combined = name === void 0 ? definitions ? {\n\t\t...main,\n\t\t[refs.definitionPath]: definitions\n\t} : main : {\n\t\t$ref: [\n\t\t\t...refs.$refStrategy === \"relative\" ? [] : refs.basePath,\n\t\t\trefs.definitionPath,\n\t\t\tname\n\t\t].join(\"/\"),\n\t\t[refs.definitionPath]: {\n\t\t\t...definitions,\n\t\t\t[name]: main\n\t\t}\n\t};\n\tif (refs.target === \"jsonSchema7\") combined.$schema = \"http://json-schema.org/draft-07/schema#\";\n\telse if (refs.target === \"jsonSchema2019-09\" || refs.target === \"openAi\") combined.$schema = \"https://json-schema.org/draft/2019-09/schema#\";\n\tif (refs.target === \"openAi\" && (\"anyOf\" in combined || \"oneOf\" in combined || \"allOf\" in combined || \"type\" in combined && Array.isArray(combined.type))) console.warn(\"Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property.\");\n\treturn combined;\n};\n\n//#endregion\n\n//# sourceMappingURL=zodToJsonSchema.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvem9kVG9Kc29uU2NoZW1hLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBb0M7QUFDVztBQUNOOztBQUV6QztBQUNBO0FBQ0EsY0FBYyxpREFBTztBQUNyQjtBQUNBO0FBQ0EsWUFBWSxzREFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLFdBQVcsNERBQVc7QUFDekIsRUFBRSxLQUFLO0FBQ1A7QUFDQSxjQUFjLHNEQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsWUFBWSw0REFBVztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQzJCO0FBQzNCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvem9kVG9Kc29uU2NoZW1hLmpzPzZmYjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0UmVmcyB9IGZyb20gXCIuL1JlZnMuanNcIjtcbmltcG9ydCB7IHBhcnNlQW55RGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9hbnkuanNcIjtcbmltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4vcGFyc2VEZWYuanNcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvem9kVG9Kc29uU2NoZW1hLnRzXG5jb25zdCB6b2RUb0pzb25TY2hlbWEgPSAoc2NoZW1hLCBvcHRpb25zKSA9PiB7XG5cdGNvbnN0IHJlZnMgPSBnZXRSZWZzKG9wdGlvbnMpO1xuXHRsZXQgZGVmaW5pdGlvbnMgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJvYmplY3RcIiAmJiBvcHRpb25zLmRlZmluaXRpb25zID8gT2JqZWN0LmVudHJpZXMob3B0aW9ucy5kZWZpbml0aW9ucykucmVkdWNlKChhY2MsIFtuYW1lJDEsIHNjaGVtYSQxXSkgPT4gKHtcblx0XHQuLi5hY2MsXG5cdFx0W25hbWUkMV06IHBhcnNlRGVmKHNjaGVtYSQxLl9kZWYsIHtcblx0XHRcdC4uLnJlZnMsXG5cdFx0XHRjdXJyZW50UGF0aDogW1xuXHRcdFx0XHQuLi5yZWZzLmJhc2VQYXRoLFxuXHRcdFx0XHRyZWZzLmRlZmluaXRpb25QYXRoLFxuXHRcdFx0XHRuYW1lJDFcblx0XHRcdF1cblx0XHR9LCB0cnVlKSA/PyBwYXJzZUFueURlZihyZWZzKVxuXHR9KSwge30pIDogdm9pZCAwO1xuXHRjb25zdCBuYW1lID0gdHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIgPyBvcHRpb25zIDogb3B0aW9ucz8ubmFtZVN0cmF0ZWd5ID09PSBcInRpdGxlXCIgPyB2b2lkIDAgOiBvcHRpb25zPy5uYW1lO1xuXHRjb25zdCBtYWluID0gcGFyc2VEZWYoc2NoZW1hLl9kZWYsIG5hbWUgPT09IHZvaWQgMCA/IHJlZnMgOiB7XG5cdFx0Li4ucmVmcyxcblx0XHRjdXJyZW50UGF0aDogW1xuXHRcdFx0Li4ucmVmcy5iYXNlUGF0aCxcblx0XHRcdHJlZnMuZGVmaW5pdGlvblBhdGgsXG5cdFx0XHRuYW1lXG5cdFx0XVxuXHR9LCBmYWxzZSkgPz8gcGFyc2VBbnlEZWYocmVmcyk7XG5cdGNvbnN0IHRpdGxlID0gdHlwZW9mIG9wdGlvbnMgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucy5uYW1lICE9PSB2b2lkIDAgJiYgb3B0aW9ucy5uYW1lU3RyYXRlZ3kgPT09IFwidGl0bGVcIiA/IG9wdGlvbnMubmFtZSA6IHZvaWQgMDtcblx0aWYgKHRpdGxlICE9PSB2b2lkIDApIG1haW4udGl0bGUgPSB0aXRsZTtcblx0aWYgKHJlZnMuZmxhZ3MuaGFzUmVmZXJlbmNlZE9wZW5BaUFueVR5cGUpIHtcblx0XHRpZiAoIWRlZmluaXRpb25zKSBkZWZpbml0aW9ucyA9IHt9O1xuXHRcdGlmICghZGVmaW5pdGlvbnNbcmVmcy5vcGVuQWlBbnlUeXBlTmFtZV0pIGRlZmluaXRpb25zW3JlZnMub3BlbkFpQW55VHlwZU5hbWVdID0ge1xuXHRcdFx0dHlwZTogW1xuXHRcdFx0XHRcInN0cmluZ1wiLFxuXHRcdFx0XHRcIm51bWJlclwiLFxuXHRcdFx0XHRcImludGVnZXJcIixcblx0XHRcdFx0XCJib29sZWFuXCIsXG5cdFx0XHRcdFwiYXJyYXlcIixcblx0XHRcdFx0XCJudWxsXCJcblx0XHRcdF0sXG5cdFx0XHRpdGVtczogeyAkcmVmOiByZWZzLiRyZWZTdHJhdGVneSA9PT0gXCJyZWxhdGl2ZVwiID8gXCIxXCIgOiBbXG5cdFx0XHRcdC4uLnJlZnMuYmFzZVBhdGgsXG5cdFx0XHRcdHJlZnMuZGVmaW5pdGlvblBhdGgsXG5cdFx0XHRcdHJlZnMub3BlbkFpQW55VHlwZU5hbWVcblx0XHRcdF0uam9pbihcIi9cIikgfVxuXHRcdH07XG5cdH1cblx0Y29uc3QgY29tYmluZWQgPSBuYW1lID09PSB2b2lkIDAgPyBkZWZpbml0aW9ucyA/IHtcblx0XHQuLi5tYWluLFxuXHRcdFtyZWZzLmRlZmluaXRpb25QYXRoXTogZGVmaW5pdGlvbnNcblx0fSA6IG1haW4gOiB7XG5cdFx0JHJlZjogW1xuXHRcdFx0Li4ucmVmcy4kcmVmU3RyYXRlZ3kgPT09IFwicmVsYXRpdmVcIiA/IFtdIDogcmVmcy5iYXNlUGF0aCxcblx0XHRcdHJlZnMuZGVmaW5pdGlvblBhdGgsXG5cdFx0XHRuYW1lXG5cdFx0XS5qb2luKFwiL1wiKSxcblx0XHRbcmVmcy5kZWZpbml0aW9uUGF0aF06IHtcblx0XHRcdC4uLmRlZmluaXRpb25zLFxuXHRcdFx0W25hbWVdOiBtYWluXG5cdFx0fVxuXHR9O1xuXHRpZiAocmVmcy50YXJnZXQgPT09IFwianNvblNjaGVtYTdcIikgY29tYmluZWQuJHNjaGVtYSA9IFwiaHR0cDovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC0wNy9zY2hlbWEjXCI7XG5cdGVsc2UgaWYgKHJlZnMudGFyZ2V0ID09PSBcImpzb25TY2hlbWEyMDE5LTA5XCIgfHwgcmVmcy50YXJnZXQgPT09IFwib3BlbkFpXCIpIGNvbWJpbmVkLiRzY2hlbWEgPSBcImh0dHBzOi8vanNvbi1zY2hlbWEub3JnL2RyYWZ0LzIwMTktMDkvc2NoZW1hI1wiO1xuXHRpZiAocmVmcy50YXJnZXQgPT09IFwib3BlbkFpXCIgJiYgKFwiYW55T2ZcIiBpbiBjb21iaW5lZCB8fCBcIm9uZU9mXCIgaW4gY29tYmluZWQgfHwgXCJhbGxPZlwiIGluIGNvbWJpbmVkIHx8IFwidHlwZVwiIGluIGNvbWJpbmVkICYmIEFycmF5LmlzQXJyYXkoY29tYmluZWQudHlwZSkpKSBjb25zb2xlLndhcm4oXCJXYXJuaW5nOiBPcGVuQUkgbWF5IG5vdCBzdXBwb3J0IHNjaGVtYXMgd2l0aCB1bmlvbnMgYXMgcm9vdHMhIFRyeSB3cmFwcGluZyBpdCBpbiBhbiBvYmplY3QgcHJvcGVydHkuXCIpO1xuXHRyZXR1cm4gY29tYmluZWQ7XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IHpvZFRvSnNvblNjaGVtYSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9em9kVG9Kc29uU2NoZW1hLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/utils/zod-to-json-schema/zodToJsonSchema.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/vectorstores.js":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/vectorstores.js ***!
  \****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SaveableVectorStore: () => (/* binding */ SaveableVectorStore),\n/* harmony export */   VectorStore: () => (/* binding */ VectorStore),\n/* harmony export */   VectorStoreRetriever: () => (/* binding */ VectorStoreRetriever),\n/* harmony export */   vectorstores_exports: () => (/* binding */ vectorstores_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_virtual/rolldown_runtime.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _load_serializable_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./load/serializable.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/load/serializable.js\");\n/* harmony import */ var _retrievers_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./retrievers/index.js */ \"(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/retrievers/index.js\");\n\n\n\n\n//#region src/vectorstores.ts\nvar vectorstores_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(vectorstores_exports, {\n\tSaveableVectorStore: () => SaveableVectorStore,\n\tVectorStore: () => VectorStore,\n\tVectorStoreRetriever: () => VectorStoreRetriever\n});\n/**\n* Class for retrieving documents from a `VectorStore` based on vector similarity\n* or maximal marginal relevance (MMR).\n*\n* `VectorStoreRetriever` extends `BaseRetriever`, implementing methods for\n* adding documents to the underlying vector store and performing document\n* retrieval with optional configurations.\n*\n* @class VectorStoreRetriever\n* @extends BaseRetriever\n* @implements VectorStoreRetrieverInterface\n* @template V - Type of vector store implementing `VectorStoreInterface`.\n*/\nvar VectorStoreRetriever = class extends _retrievers_index_js__WEBPACK_IMPORTED_MODULE_2__.BaseRetriever {\n\tstatic lc_name() {\n\t\treturn \"VectorStoreRetriever\";\n\t}\n\tget lc_namespace() {\n\t\treturn [\"langchain_core\", \"vectorstores\"];\n\t}\n\t/**\n\t* The instance of `VectorStore` used for storing and retrieving document embeddings.\n\t* This vector store must implement the `VectorStoreInterface` to be compatible\n\t* with the retrievers operations.\n\t*/\n\tvectorStore;\n\t/**\n\t* Specifies the number of documents to retrieve for each search query.\n\t* Defaults to 4 if not specified, providing a basic result count for similarity or MMR searches.\n\t*/\n\tk = 4;\n\t/**\n\t* Determines the type of search operation to perform on the vector store.\n\t*\n\t* - `\"similarity\"` (default): Conducts a similarity search based purely on vector similarity\n\t*   to the query.\n\t* - `\"mmr\"`: Executes a maximal marginal relevance (MMR) search, balancing relevance and\n\t*   diversity in the retrieved results.\n\t*/\n\tsearchType = \"similarity\";\n\t/**\n\t* Additional options specific to maximal marginal relevance (MMR) search, applicable\n\t* only if `searchType` is set to `\"mmr\"`.\n\t*\n\t* Includes:\n\t* - `fetchK`: The initial number of documents fetched before applying the MMR algorithm,\n\t*   allowing for a larger selection from which to choose the most diverse results.\n\t* - `lambda`: A parameter between 0 and 1 to adjust the relevance-diversity balance,\n\t*   where 0 prioritizes diversity and 1 prioritizes relevance.\n\t*/\n\tsearchKwargs;\n\t/**\n\t* Optional filter applied to search results, defined by the `FilterType` of the vector store.\n\t* Allows for refined, targeted results by restricting the returned documents based\n\t* on specified filter criteria.\n\t*/\n\tfilter;\n\t/**\n\t* Returns the type of vector store, as defined by the `vectorStore` instance.\n\t*\n\t* @returns {string} The vector store type.\n\t*/\n\t_vectorstoreType() {\n\t\treturn this.vectorStore._vectorstoreType();\n\t}\n\t/**\n\t* Initializes a new instance of `VectorStoreRetriever` with the specified configuration.\n\t*\n\t* This constructor configures the retriever to interact with a given `VectorStore`\n\t* and supports different retrieval strategies, including similarity search and maximal\n\t* marginal relevance (MMR) search. Various options allow customization of the number\n\t* of documents retrieved per query, filtering based on conditions, and fine-tuning\n\t* MMR-specific parameters.\n\t*\n\t* @param fields - Configuration options for setting up the retriever:\n\t*\n\t*   - `vectorStore` (required): The `VectorStore` instance implementing `VectorStoreInterface`\n\t*     that will be used to store and retrieve document embeddings. This is the core component\n\t*     of the retriever, enabling vector-based similarity and MMR searches.\n\t*\n\t*   - `k` (optional): Specifies the number of documents to retrieve per search query. If not\n\t*     provided, defaults to 4. This count determines the number of most relevant documents returned\n\t*     for each search operation, balancing performance with comprehensiveness.\n\t*\n\t*   - `searchType` (optional): Defines the search approach used by the retriever, allowing for\n\t*     flexibility between two methods:\n\t*       - `\"similarity\"` (default): A similarity-based search, retrieving documents with high vector\n\t*         similarity to the query. This type prioritizes relevance and is often used when diversity\n\t*         among results is less critical.\n\t*       - `\"mmr\"`: Maximal Marginal Relevance search, which combines relevance with diversity. MMR\n\t*         is useful for scenarios where varied content is essential, as it selects results that\n\t*         both match the query and introduce content diversity.\n\t*\n\t*   - `filter` (optional): A filter of type `FilterType`, defined by the vector store, that allows\n\t*     for refined and targeted search results. This filter applies specified conditions to limit\n\t*     which documents are eligible for retrieval, offering control over the scope of results.\n\t*\n\t*   - `searchKwargs` (optional, applicable only if `searchType` is `\"mmr\"`): Additional settings\n\t*     for configuring MMR-specific behavior. These parameters allow further tuning of the MMR\n\t*     search process:\n\t*       - `fetchK`: The initial number of documents fetched from the vector store before the MMR\n\t*         algorithm is applied. Fetching a larger set enables the algorithm to select a more\n\t*         diverse subset of documents.\n\t*       - `lambda`: A parameter controlling the relevance-diversity balance, where 0 emphasizes\n\t*         diversity and 1 prioritizes relevance. Intermediate values provide a blend of the two,\n\t*         allowing customization based on the importance of content variety relative to query relevance.\n\t*/\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.vectorStore = fields.vectorStore;\n\t\tthis.k = fields.k ?? this.k;\n\t\tthis.searchType = fields.searchType ?? this.searchType;\n\t\tthis.filter = fields.filter;\n\t\tif (fields.searchType === \"mmr\") this.searchKwargs = fields.searchKwargs;\n\t}\n\t/**\n\t* Retrieves relevant documents based on the specified query, using either\n\t* similarity or maximal marginal relevance (MMR) search.\n\t*\n\t* If `searchType` is set to `\"mmr\"`, performs an MMR search to balance\n\t* similarity and diversity among results. If `searchType` is `\"similarity\"`,\n\t* retrieves results purely based on similarity to the query.\n\t*\n\t* @param query - The query string used to find relevant documents.\n\t* @param runManager - Optional callback manager for tracking retrieval progress.\n\t* @returns A promise that resolves to an array of `DocumentInterface` instances\n\t*          representing the most relevant documents to the query.\n\t* @throws {Error} Throws an error if MMR search is requested but not supported\n\t*                 by the vector store.\n\t* @protected\n\t*/\n\tasync _getRelevantDocuments(query, runManager) {\n\t\tif (this.searchType === \"mmr\") {\n\t\t\tif (typeof this.vectorStore.maxMarginalRelevanceSearch !== \"function\") throw new Error(`The vector store backing this retriever, ${this._vectorstoreType()} does not support max marginal relevance search.`);\n\t\t\treturn this.vectorStore.maxMarginalRelevanceSearch(query, {\n\t\t\t\tk: this.k,\n\t\t\t\tfilter: this.filter,\n\t\t\t\t...this.searchKwargs\n\t\t\t}, runManager?.getChild(\"vectorstore\"));\n\t\t}\n\t\treturn this.vectorStore.similaritySearch(query, this.k, this.filter, runManager?.getChild(\"vectorstore\"));\n\t}\n\t/**\n\t* Adds an array of documents to the vector store, embedding them as part of\n\t* the storage process.\n\t*\n\t* This method delegates document embedding and storage to the `addDocuments`\n\t* method of the underlying vector store.\n\t*\n\t* @param documents - An array of documents to embed and add to the vector store.\n\t* @param options - Optional settings to customize document addition.\n\t* @returns A promise that resolves to an array of document IDs or `void`,\n\t*          depending on the vector store's implementation.\n\t*/\n\tasync addDocuments(documents, options) {\n\t\treturn this.vectorStore.addDocuments(documents, options);\n\t}\n};\n/**\n* Abstract class representing a vector storage system for performing\n* similarity searches on embedded documents.\n*\n* `VectorStore` provides methods for adding precomputed vectors or documents,\n* removing documents based on criteria, and performing similarity searches\n* with optional scoring. Subclasses are responsible for implementing specific\n* storage mechanisms and the exact behavior of certain abstract methods.\n*\n* @abstract\n* @extends Serializable\n* @implements VectorStoreInterface\n*/\nvar VectorStore = class extends _load_serializable_js__WEBPACK_IMPORTED_MODULE_1__.Serializable {\n\t/**\n\t* Namespace within LangChain to uniquely identify this vector store's\n\t* location, based on the vector store type.\n\t*\n\t* @internal\n\t*/\n\tlc_namespace = [\n\t\t\"langchain\",\n\t\t\"vectorstores\",\n\t\tthis._vectorstoreType()\n\t];\n\t/**\n\t* Embeddings interface for generating vector embeddings from text queries,\n\t* enabling vector-based similarity searches.\n\t*/\n\tembeddings;\n\t/**\n\t* Initializes a new vector store with embeddings and database configuration.\n\t*\n\t* @param embeddings - Instance of `EmbeddingsInterface` used to embed queries.\n\t* @param dbConfig - Configuration settings for the database or storage system.\n\t*/\n\tconstructor(embeddings, dbConfig) {\n\t\tsuper(dbConfig);\n\t\tthis.embeddings = embeddings;\n\t}\n\t/**\n\t* Deletes documents from the vector store based on the specified parameters.\n\t*\n\t* @param _params - Flexible key-value pairs defining conditions for document deletion.\n\t* @returns A promise that resolves once the deletion is complete.\n\t*/\n\tasync delete(_params) {\n\t\tthrow new Error(\"Not implemented.\");\n\t}\n\t/**\n\t* Searches for documents similar to a text query by embedding the query and\n\t* performing a similarity search on the resulting vector.\n\t*\n\t* @param query - Text query for finding similar documents.\n\t* @param k - Number of similar results to return. Defaults to 4.\n\t* @param filter - Optional filter based on `FilterType`.\n\t* @param _callbacks - Optional callbacks for monitoring search progress\n\t* @returns A promise resolving to an array of `DocumentInterface` instances representing similar documents.\n\t*/\n\tasync similaritySearch(query, k = 4, filter = void 0, _callbacks = void 0) {\n\t\tconst results = await this.similaritySearchVectorWithScore(await this.embeddings.embedQuery(query), k, filter);\n\t\treturn results.map((result) => result[0]);\n\t}\n\t/**\n\t* Searches for documents similar to a text query by embedding the query,\n\t* and returns results with similarity scores.\n\t*\n\t* @param query - Text query for finding similar documents.\n\t* @param k - Number of similar results to return. Defaults to 4.\n\t* @param filter - Optional filter based on `FilterType`.\n\t* @param _callbacks - Optional callbacks for monitoring search progress\n\t* @returns A promise resolving to an array of tuples, each containing a\n\t*          document and its similarity score.\n\t*/\n\tasync similaritySearchWithScore(query, k = 4, filter = void 0, _callbacks = void 0) {\n\t\treturn this.similaritySearchVectorWithScore(await this.embeddings.embedQuery(query), k, filter);\n\t}\n\t/**\n\t* Creates a `VectorStore` instance from an array of text strings and optional\n\t* metadata, using the specified embeddings and database configuration.\n\t*\n\t* Subclasses must implement this method to define how text and metadata\n\t* are embedded and stored in the vector store. Throws an error if not overridden.\n\t*\n\t* @param _texts - Array of strings representing the text documents to be stored.\n\t* @param _metadatas - Metadata for the texts, either as an array (one for each text)\n\t*                     or a single object (applied to all texts).\n\t* @param _embeddings - Instance of `EmbeddingsInterface` to embed the texts.\n\t* @param _dbConfig - Database configuration settings.\n\t* @returns A promise that resolves to a new `VectorStore` instance.\n\t* @throws {Error} Throws an error if this method is not overridden by a subclass.\n\t*/\n\tstatic fromTexts(_texts, _metadatas, _embeddings, _dbConfig) {\n\t\tthrow new Error(\"the Langchain vectorstore implementation you are using forgot to override this, please report a bug\");\n\t}\n\t/**\n\t* Creates a `VectorStore` instance from an array of documents, using the specified\n\t* embeddings and database configuration.\n\t*\n\t* Subclasses must implement this method to define how documents are embedded\n\t* and stored. Throws an error if not overridden.\n\t*\n\t* @param _docs - Array of `DocumentInterface` instances representing the documents to be stored.\n\t* @param _embeddings - Instance of `EmbeddingsInterface` to embed the documents.\n\t* @param _dbConfig - Database configuration settings.\n\t* @returns A promise that resolves to a new `VectorStore` instance.\n\t* @throws {Error} Throws an error if this method is not overridden by a subclass.\n\t*/\n\tstatic fromDocuments(_docs, _embeddings, _dbConfig) {\n\t\tthrow new Error(\"the Langchain vectorstore implementation you are using forgot to override this, please report a bug\");\n\t}\n\t/**\n\t* Creates a `VectorStoreRetriever` instance with flexible configuration options.\n\t*\n\t* @param kOrFields\n\t*    - If a number is provided, it sets the `k` parameter (number of items to retrieve).\n\t*    - If an object is provided, it should contain various configuration options.\n\t* @param filter\n\t*    - Optional filter criteria to limit the items retrieved based on the specified filter type.\n\t* @param callbacks\n\t*    - Optional callbacks that may be triggered at specific stages of the retrieval process.\n\t* @param tags\n\t*    - Tags to categorize or label the `VectorStoreRetriever`. Defaults to an empty array if not provided.\n\t* @param metadata\n\t*    - Additional metadata as key-value pairs to add contextual information for the retrieval process.\n\t* @param verbose\n\t*    - If `true`, enables detailed logging for the retrieval process. Defaults to `false`.\n\t*\n\t* @returns\n\t*    - A configured `VectorStoreRetriever` instance based on the provided parameters.\n\t*\n\t* @example\n\t* Basic usage with a `k` value:\n\t* ```typescript\n\t* const retriever = myVectorStore.asRetriever(5);\n\t* ```\n\t*\n\t* Usage with a configuration object:\n\t* ```typescript\n\t* const retriever = myVectorStore.asRetriever({\n\t*   k: 10,\n\t*   filter: myFilter,\n\t*   tags: ['example', 'test'],\n\t*   verbose: true,\n\t*   searchType: 'mmr',\n\t*   searchKwargs: { alpha: 0.5 },\n\t* });\n\t* ```\n\t*/\n\tasRetriever(kOrFields, filter, callbacks, tags, metadata, verbose) {\n\t\tif (typeof kOrFields === \"number\") return new VectorStoreRetriever({\n\t\t\tvectorStore: this,\n\t\t\tk: kOrFields,\n\t\t\tfilter,\n\t\t\ttags: [...tags ?? [], this._vectorstoreType()],\n\t\t\tmetadata,\n\t\t\tverbose,\n\t\t\tcallbacks\n\t\t});\n\t\telse {\n\t\t\tconst params = {\n\t\t\t\tvectorStore: this,\n\t\t\t\tk: kOrFields?.k,\n\t\t\t\tfilter: kOrFields?.filter,\n\t\t\t\ttags: [...kOrFields?.tags ?? [], this._vectorstoreType()],\n\t\t\t\tmetadata: kOrFields?.metadata,\n\t\t\t\tverbose: kOrFields?.verbose,\n\t\t\t\tcallbacks: kOrFields?.callbacks,\n\t\t\t\tsearchType: kOrFields?.searchType\n\t\t\t};\n\t\t\tif (kOrFields?.searchType === \"mmr\") return new VectorStoreRetriever({\n\t\t\t\t...params,\n\t\t\t\tsearchKwargs: kOrFields.searchKwargs\n\t\t\t});\n\t\t\treturn new VectorStoreRetriever({ ...params });\n\t\t}\n\t}\n};\n/**\n* Abstract class extending `VectorStore` that defines a contract for saving\n* and loading vector store instances.\n*\n* The `SaveableVectorStore` class allows vector store implementations to\n* persist their data and retrieve it when needed.The format for saving and\n* loading data is left to the implementing subclass.\n*\n* Subclasses must implement the `save` method to handle their custom\n* serialization logic, while the `load` method enables reconstruction of a\n* vector store from saved data, requiring compatible embeddings through the\n* `EmbeddingsInterface`.\n*\n* @abstract\n* @extends VectorStore\n*/\nvar SaveableVectorStore = class extends VectorStore {\n\t/**\n\t* Loads a vector store instance from the specified directory, using the\n\t* provided embeddings to ensure compatibility.\n\t*\n\t* This static method reconstructs a `SaveableVectorStore` from previously\n\t* saved data. Implementations should interpret the saved data format to\n\t* recreate the vector store instance.\n\t*\n\t* @param _directory - The directory path from which the vector store\n\t* data will be loaded.\n\t* @param _embeddings - An instance of `EmbeddingsInterface` to align\n\t* the embeddings with the loaded vector data.\n\t* @returns A promise that resolves to a `SaveableVectorStore` instance\n\t* constructed from the saved data.\n\t*/\n\tstatic load(_directory, _embeddings) {\n\t\tthrow new Error(\"Not implemented\");\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=vectorstores.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC92ZWN0b3JzdG9yZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUEwRDtBQUNKO0FBQ0E7O0FBRXREO0FBQ0E7QUFDQSxzRUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QywrREFBYTtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLE9BQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNJQUFzSSx5QkFBeUI7QUFDL0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQywrREFBWTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksT0FBTztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLE9BQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixZQUFZO0FBQ2pDLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0oscUNBQXFDLFdBQVc7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3dGO0FBQ3hGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnJvdXRlci1sYW5nZ3JhcGgvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitjb3JlQDEuMC4xX29wZW5haUA2LjcuMF93c0A4LjE4LjNfem9kQDMuMjUuNzZfL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC92ZWN0b3JzdG9yZXMuanM/MTE4MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2V4cG9ydCB9IGZyb20gXCIuL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuanNcIjtcbmltcG9ydCB7IFNlcmlhbGl6YWJsZSB9IGZyb20gXCIuL2xvYWQvc2VyaWFsaXphYmxlLmpzXCI7XG5pbXBvcnQgeyBCYXNlUmV0cmlldmVyIH0gZnJvbSBcIi4vcmV0cmlldmVycy9pbmRleC5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3ZlY3RvcnN0b3Jlcy50c1xudmFyIHZlY3RvcnN0b3Jlc19leHBvcnRzID0ge307XG5fX2V4cG9ydCh2ZWN0b3JzdG9yZXNfZXhwb3J0cywge1xuXHRTYXZlYWJsZVZlY3RvclN0b3JlOiAoKSA9PiBTYXZlYWJsZVZlY3RvclN0b3JlLFxuXHRWZWN0b3JTdG9yZTogKCkgPT4gVmVjdG9yU3RvcmUsXG5cdFZlY3RvclN0b3JlUmV0cmlldmVyOiAoKSA9PiBWZWN0b3JTdG9yZVJldHJpZXZlclxufSk7XG4vKipcbiogQ2xhc3MgZm9yIHJldHJpZXZpbmcgZG9jdW1lbnRzIGZyb20gYSBgVmVjdG9yU3RvcmVgIGJhc2VkIG9uIHZlY3RvciBzaW1pbGFyaXR5XG4qIG9yIG1heGltYWwgbWFyZ2luYWwgcmVsZXZhbmNlIChNTVIpLlxuKlxuKiBgVmVjdG9yU3RvcmVSZXRyaWV2ZXJgIGV4dGVuZHMgYEJhc2VSZXRyaWV2ZXJgLCBpbXBsZW1lbnRpbmcgbWV0aG9kcyBmb3JcbiogYWRkaW5nIGRvY3VtZW50cyB0byB0aGUgdW5kZXJseWluZyB2ZWN0b3Igc3RvcmUgYW5kIHBlcmZvcm1pbmcgZG9jdW1lbnRcbiogcmV0cmlldmFsIHdpdGggb3B0aW9uYWwgY29uZmlndXJhdGlvbnMuXG4qXG4qIEBjbGFzcyBWZWN0b3JTdG9yZVJldHJpZXZlclxuKiBAZXh0ZW5kcyBCYXNlUmV0cmlldmVyXG4qIEBpbXBsZW1lbnRzIFZlY3RvclN0b3JlUmV0cmlldmVySW50ZXJmYWNlXG4qIEB0ZW1wbGF0ZSBWIC0gVHlwZSBvZiB2ZWN0b3Igc3RvcmUgaW1wbGVtZW50aW5nIGBWZWN0b3JTdG9yZUludGVyZmFjZWAuXG4qL1xudmFyIFZlY3RvclN0b3JlUmV0cmlldmVyID0gY2xhc3MgZXh0ZW5kcyBCYXNlUmV0cmlldmVyIHtcblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiVmVjdG9yU3RvcmVSZXRyaWV2ZXJcIjtcblx0fVxuXHRnZXQgbGNfbmFtZXNwYWNlKCkge1xuXHRcdHJldHVybiBbXCJsYW5nY2hhaW5fY29yZVwiLCBcInZlY3RvcnN0b3Jlc1wiXTtcblx0fVxuXHQvKipcblx0KiBUaGUgaW5zdGFuY2Ugb2YgYFZlY3RvclN0b3JlYCB1c2VkIGZvciBzdG9yaW5nIGFuZCByZXRyaWV2aW5nIGRvY3VtZW50IGVtYmVkZGluZ3MuXG5cdCogVGhpcyB2ZWN0b3Igc3RvcmUgbXVzdCBpbXBsZW1lbnQgdGhlIGBWZWN0b3JTdG9yZUludGVyZmFjZWAgdG8gYmUgY29tcGF0aWJsZVxuXHQqIHdpdGggdGhlIHJldHJpZXZlcuKAmXMgb3BlcmF0aW9ucy5cblx0Ki9cblx0dmVjdG9yU3RvcmU7XG5cdC8qKlxuXHQqIFNwZWNpZmllcyB0aGUgbnVtYmVyIG9mIGRvY3VtZW50cyB0byByZXRyaWV2ZSBmb3IgZWFjaCBzZWFyY2ggcXVlcnkuXG5cdCogRGVmYXVsdHMgdG8gNCBpZiBub3Qgc3BlY2lmaWVkLCBwcm92aWRpbmcgYSBiYXNpYyByZXN1bHQgY291bnQgZm9yIHNpbWlsYXJpdHkgb3IgTU1SIHNlYXJjaGVzLlxuXHQqL1xuXHRrID0gNDtcblx0LyoqXG5cdCogRGV0ZXJtaW5lcyB0aGUgdHlwZSBvZiBzZWFyY2ggb3BlcmF0aW9uIHRvIHBlcmZvcm0gb24gdGhlIHZlY3RvciBzdG9yZS5cblx0KlxuXHQqIC0gYFwic2ltaWxhcml0eVwiYCAoZGVmYXVsdCk6IENvbmR1Y3RzIGEgc2ltaWxhcml0eSBzZWFyY2ggYmFzZWQgcHVyZWx5IG9uIHZlY3RvciBzaW1pbGFyaXR5XG5cdCogICB0byB0aGUgcXVlcnkuXG5cdCogLSBgXCJtbXJcImA6IEV4ZWN1dGVzIGEgbWF4aW1hbCBtYXJnaW5hbCByZWxldmFuY2UgKE1NUikgc2VhcmNoLCBiYWxhbmNpbmcgcmVsZXZhbmNlIGFuZFxuXHQqICAgZGl2ZXJzaXR5IGluIHRoZSByZXRyaWV2ZWQgcmVzdWx0cy5cblx0Ki9cblx0c2VhcmNoVHlwZSA9IFwic2ltaWxhcml0eVwiO1xuXHQvKipcblx0KiBBZGRpdGlvbmFsIG9wdGlvbnMgc3BlY2lmaWMgdG8gbWF4aW1hbCBtYXJnaW5hbCByZWxldmFuY2UgKE1NUikgc2VhcmNoLCBhcHBsaWNhYmxlXG5cdCogb25seSBpZiBgc2VhcmNoVHlwZWAgaXMgc2V0IHRvIGBcIm1tclwiYC5cblx0KlxuXHQqIEluY2x1ZGVzOlxuXHQqIC0gYGZldGNoS2A6IFRoZSBpbml0aWFsIG51bWJlciBvZiBkb2N1bWVudHMgZmV0Y2hlZCBiZWZvcmUgYXBwbHlpbmcgdGhlIE1NUiBhbGdvcml0aG0sXG5cdCogICBhbGxvd2luZyBmb3IgYSBsYXJnZXIgc2VsZWN0aW9uIGZyb20gd2hpY2ggdG8gY2hvb3NlIHRoZSBtb3N0IGRpdmVyc2UgcmVzdWx0cy5cblx0KiAtIGBsYW1iZGFgOiBBIHBhcmFtZXRlciBiZXR3ZWVuIDAgYW5kIDEgdG8gYWRqdXN0IHRoZSByZWxldmFuY2UtZGl2ZXJzaXR5IGJhbGFuY2UsXG5cdCogICB3aGVyZSAwIHByaW9yaXRpemVzIGRpdmVyc2l0eSBhbmQgMSBwcmlvcml0aXplcyByZWxldmFuY2UuXG5cdCovXG5cdHNlYXJjaEt3YXJncztcblx0LyoqXG5cdCogT3B0aW9uYWwgZmlsdGVyIGFwcGxpZWQgdG8gc2VhcmNoIHJlc3VsdHMsIGRlZmluZWQgYnkgdGhlIGBGaWx0ZXJUeXBlYCBvZiB0aGUgdmVjdG9yIHN0b3JlLlxuXHQqIEFsbG93cyBmb3IgcmVmaW5lZCwgdGFyZ2V0ZWQgcmVzdWx0cyBieSByZXN0cmljdGluZyB0aGUgcmV0dXJuZWQgZG9jdW1lbnRzIGJhc2VkXG5cdCogb24gc3BlY2lmaWVkIGZpbHRlciBjcml0ZXJpYS5cblx0Ki9cblx0ZmlsdGVyO1xuXHQvKipcblx0KiBSZXR1cm5zIHRoZSB0eXBlIG9mIHZlY3RvciBzdG9yZSwgYXMgZGVmaW5lZCBieSB0aGUgYHZlY3RvclN0b3JlYCBpbnN0YW5jZS5cblx0KlxuXHQqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSB2ZWN0b3Igc3RvcmUgdHlwZS5cblx0Ki9cblx0X3ZlY3RvcnN0b3JlVHlwZSgpIHtcblx0XHRyZXR1cm4gdGhpcy52ZWN0b3JTdG9yZS5fdmVjdG9yc3RvcmVUeXBlKCk7XG5cdH1cblx0LyoqXG5cdCogSW5pdGlhbGl6ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgYFZlY3RvclN0b3JlUmV0cmlldmVyYCB3aXRoIHRoZSBzcGVjaWZpZWQgY29uZmlndXJhdGlvbi5cblx0KlxuXHQqIFRoaXMgY29uc3RydWN0b3IgY29uZmlndXJlcyB0aGUgcmV0cmlldmVyIHRvIGludGVyYWN0IHdpdGggYSBnaXZlbiBgVmVjdG9yU3RvcmVgXG5cdCogYW5kIHN1cHBvcnRzIGRpZmZlcmVudCByZXRyaWV2YWwgc3RyYXRlZ2llcywgaW5jbHVkaW5nIHNpbWlsYXJpdHkgc2VhcmNoIGFuZCBtYXhpbWFsXG5cdCogbWFyZ2luYWwgcmVsZXZhbmNlIChNTVIpIHNlYXJjaC4gVmFyaW91cyBvcHRpb25zIGFsbG93IGN1c3RvbWl6YXRpb24gb2YgdGhlIG51bWJlclxuXHQqIG9mIGRvY3VtZW50cyByZXRyaWV2ZWQgcGVyIHF1ZXJ5LCBmaWx0ZXJpbmcgYmFzZWQgb24gY29uZGl0aW9ucywgYW5kIGZpbmUtdHVuaW5nXG5cdCogTU1SLXNwZWNpZmljIHBhcmFtZXRlcnMuXG5cdCpcblx0KiBAcGFyYW0gZmllbGRzIC0gQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciBzZXR0aW5nIHVwIHRoZSByZXRyaWV2ZXI6XG5cdCpcblx0KiAgIC0gYHZlY3RvclN0b3JlYCAocmVxdWlyZWQpOiBUaGUgYFZlY3RvclN0b3JlYCBpbnN0YW5jZSBpbXBsZW1lbnRpbmcgYFZlY3RvclN0b3JlSW50ZXJmYWNlYFxuXHQqICAgICB0aGF0IHdpbGwgYmUgdXNlZCB0byBzdG9yZSBhbmQgcmV0cmlldmUgZG9jdW1lbnQgZW1iZWRkaW5ncy4gVGhpcyBpcyB0aGUgY29yZSBjb21wb25lbnRcblx0KiAgICAgb2YgdGhlIHJldHJpZXZlciwgZW5hYmxpbmcgdmVjdG9yLWJhc2VkIHNpbWlsYXJpdHkgYW5kIE1NUiBzZWFyY2hlcy5cblx0KlxuXHQqICAgLSBga2AgKG9wdGlvbmFsKTogU3BlY2lmaWVzIHRoZSBudW1iZXIgb2YgZG9jdW1lbnRzIHRvIHJldHJpZXZlIHBlciBzZWFyY2ggcXVlcnkuIElmIG5vdFxuXHQqICAgICBwcm92aWRlZCwgZGVmYXVsdHMgdG8gNC4gVGhpcyBjb3VudCBkZXRlcm1pbmVzIHRoZSBudW1iZXIgb2YgbW9zdCByZWxldmFudCBkb2N1bWVudHMgcmV0dXJuZWRcblx0KiAgICAgZm9yIGVhY2ggc2VhcmNoIG9wZXJhdGlvbiwgYmFsYW5jaW5nIHBlcmZvcm1hbmNlIHdpdGggY29tcHJlaGVuc2l2ZW5lc3MuXG5cdCpcblx0KiAgIC0gYHNlYXJjaFR5cGVgIChvcHRpb25hbCk6IERlZmluZXMgdGhlIHNlYXJjaCBhcHByb2FjaCB1c2VkIGJ5IHRoZSByZXRyaWV2ZXIsIGFsbG93aW5nIGZvclxuXHQqICAgICBmbGV4aWJpbGl0eSBiZXR3ZWVuIHR3byBtZXRob2RzOlxuXHQqICAgICAgIC0gYFwic2ltaWxhcml0eVwiYCAoZGVmYXVsdCk6IEEgc2ltaWxhcml0eS1iYXNlZCBzZWFyY2gsIHJldHJpZXZpbmcgZG9jdW1lbnRzIHdpdGggaGlnaCB2ZWN0b3Jcblx0KiAgICAgICAgIHNpbWlsYXJpdHkgdG8gdGhlIHF1ZXJ5LiBUaGlzIHR5cGUgcHJpb3JpdGl6ZXMgcmVsZXZhbmNlIGFuZCBpcyBvZnRlbiB1c2VkIHdoZW4gZGl2ZXJzaXR5XG5cdCogICAgICAgICBhbW9uZyByZXN1bHRzIGlzIGxlc3MgY3JpdGljYWwuXG5cdCogICAgICAgLSBgXCJtbXJcImA6IE1heGltYWwgTWFyZ2luYWwgUmVsZXZhbmNlIHNlYXJjaCwgd2hpY2ggY29tYmluZXMgcmVsZXZhbmNlIHdpdGggZGl2ZXJzaXR5LiBNTVJcblx0KiAgICAgICAgIGlzIHVzZWZ1bCBmb3Igc2NlbmFyaW9zIHdoZXJlIHZhcmllZCBjb250ZW50IGlzIGVzc2VudGlhbCwgYXMgaXQgc2VsZWN0cyByZXN1bHRzIHRoYXRcblx0KiAgICAgICAgIGJvdGggbWF0Y2ggdGhlIHF1ZXJ5IGFuZCBpbnRyb2R1Y2UgY29udGVudCBkaXZlcnNpdHkuXG5cdCpcblx0KiAgIC0gYGZpbHRlcmAgKG9wdGlvbmFsKTogQSBmaWx0ZXIgb2YgdHlwZSBgRmlsdGVyVHlwZWAsIGRlZmluZWQgYnkgdGhlIHZlY3RvciBzdG9yZSwgdGhhdCBhbGxvd3Ncblx0KiAgICAgZm9yIHJlZmluZWQgYW5kIHRhcmdldGVkIHNlYXJjaCByZXN1bHRzLiBUaGlzIGZpbHRlciBhcHBsaWVzIHNwZWNpZmllZCBjb25kaXRpb25zIHRvIGxpbWl0XG5cdCogICAgIHdoaWNoIGRvY3VtZW50cyBhcmUgZWxpZ2libGUgZm9yIHJldHJpZXZhbCwgb2ZmZXJpbmcgY29udHJvbCBvdmVyIHRoZSBzY29wZSBvZiByZXN1bHRzLlxuXHQqXG5cdCogICAtIGBzZWFyY2hLd2FyZ3NgIChvcHRpb25hbCwgYXBwbGljYWJsZSBvbmx5IGlmIGBzZWFyY2hUeXBlYCBpcyBgXCJtbXJcImApOiBBZGRpdGlvbmFsIHNldHRpbmdzXG5cdCogICAgIGZvciBjb25maWd1cmluZyBNTVItc3BlY2lmaWMgYmVoYXZpb3IuIFRoZXNlIHBhcmFtZXRlcnMgYWxsb3cgZnVydGhlciB0dW5pbmcgb2YgdGhlIE1NUlxuXHQqICAgICBzZWFyY2ggcHJvY2Vzczpcblx0KiAgICAgICAtIGBmZXRjaEtgOiBUaGUgaW5pdGlhbCBudW1iZXIgb2YgZG9jdW1lbnRzIGZldGNoZWQgZnJvbSB0aGUgdmVjdG9yIHN0b3JlIGJlZm9yZSB0aGUgTU1SXG5cdCogICAgICAgICBhbGdvcml0aG0gaXMgYXBwbGllZC4gRmV0Y2hpbmcgYSBsYXJnZXIgc2V0IGVuYWJsZXMgdGhlIGFsZ29yaXRobSB0byBzZWxlY3QgYSBtb3JlXG5cdCogICAgICAgICBkaXZlcnNlIHN1YnNldCBvZiBkb2N1bWVudHMuXG5cdCogICAgICAgLSBgbGFtYmRhYDogQSBwYXJhbWV0ZXIgY29udHJvbGxpbmcgdGhlIHJlbGV2YW5jZS1kaXZlcnNpdHkgYmFsYW5jZSwgd2hlcmUgMCBlbXBoYXNpemVzXG5cdCogICAgICAgICBkaXZlcnNpdHkgYW5kIDEgcHJpb3JpdGl6ZXMgcmVsZXZhbmNlLiBJbnRlcm1lZGlhdGUgdmFsdWVzIHByb3ZpZGUgYSBibGVuZCBvZiB0aGUgdHdvLFxuXHQqICAgICAgICAgYWxsb3dpbmcgY3VzdG9taXphdGlvbiBiYXNlZCBvbiB0aGUgaW1wb3J0YW5jZSBvZiBjb250ZW50IHZhcmlldHkgcmVsYXRpdmUgdG8gcXVlcnkgcmVsZXZhbmNlLlxuXHQqL1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRzdXBlcihmaWVsZHMpO1xuXHRcdHRoaXMudmVjdG9yU3RvcmUgPSBmaWVsZHMudmVjdG9yU3RvcmU7XG5cdFx0dGhpcy5rID0gZmllbGRzLmsgPz8gdGhpcy5rO1xuXHRcdHRoaXMuc2VhcmNoVHlwZSA9IGZpZWxkcy5zZWFyY2hUeXBlID8/IHRoaXMuc2VhcmNoVHlwZTtcblx0XHR0aGlzLmZpbHRlciA9IGZpZWxkcy5maWx0ZXI7XG5cdFx0aWYgKGZpZWxkcy5zZWFyY2hUeXBlID09PSBcIm1tclwiKSB0aGlzLnNlYXJjaEt3YXJncyA9IGZpZWxkcy5zZWFyY2hLd2FyZ3M7XG5cdH1cblx0LyoqXG5cdCogUmV0cmlldmVzIHJlbGV2YW50IGRvY3VtZW50cyBiYXNlZCBvbiB0aGUgc3BlY2lmaWVkIHF1ZXJ5LCB1c2luZyBlaXRoZXJcblx0KiBzaW1pbGFyaXR5IG9yIG1heGltYWwgbWFyZ2luYWwgcmVsZXZhbmNlIChNTVIpIHNlYXJjaC5cblx0KlxuXHQqIElmIGBzZWFyY2hUeXBlYCBpcyBzZXQgdG8gYFwibW1yXCJgLCBwZXJmb3JtcyBhbiBNTVIgc2VhcmNoIHRvIGJhbGFuY2Vcblx0KiBzaW1pbGFyaXR5IGFuZCBkaXZlcnNpdHkgYW1vbmcgcmVzdWx0cy4gSWYgYHNlYXJjaFR5cGVgIGlzIGBcInNpbWlsYXJpdHlcImAsXG5cdCogcmV0cmlldmVzIHJlc3VsdHMgcHVyZWx5IGJhc2VkIG9uIHNpbWlsYXJpdHkgdG8gdGhlIHF1ZXJ5LlxuXHQqXG5cdCogQHBhcmFtIHF1ZXJ5IC0gVGhlIHF1ZXJ5IHN0cmluZyB1c2VkIHRvIGZpbmQgcmVsZXZhbnQgZG9jdW1lbnRzLlxuXHQqIEBwYXJhbSBydW5NYW5hZ2VyIC0gT3B0aW9uYWwgY2FsbGJhY2sgbWFuYWdlciBmb3IgdHJhY2tpbmcgcmV0cmlldmFsIHByb2dyZXNzLlxuXHQqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGFuIGFycmF5IG9mIGBEb2N1bWVudEludGVyZmFjZWAgaW5zdGFuY2VzXG5cdCogICAgICAgICAgcmVwcmVzZW50aW5nIHRoZSBtb3N0IHJlbGV2YW50IGRvY3VtZW50cyB0byB0aGUgcXVlcnkuXG5cdCogQHRocm93cyB7RXJyb3J9IFRocm93cyBhbiBlcnJvciBpZiBNTVIgc2VhcmNoIGlzIHJlcXVlc3RlZCBidXQgbm90IHN1cHBvcnRlZFxuXHQqICAgICAgICAgICAgICAgICBieSB0aGUgdmVjdG9yIHN0b3JlLlxuXHQqIEBwcm90ZWN0ZWRcblx0Ki9cblx0YXN5bmMgX2dldFJlbGV2YW50RG9jdW1lbnRzKHF1ZXJ5LCBydW5NYW5hZ2VyKSB7XG5cdFx0aWYgKHRoaXMuc2VhcmNoVHlwZSA9PT0gXCJtbXJcIikge1xuXHRcdFx0aWYgKHR5cGVvZiB0aGlzLnZlY3RvclN0b3JlLm1heE1hcmdpbmFsUmVsZXZhbmNlU2VhcmNoICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcihgVGhlIHZlY3RvciBzdG9yZSBiYWNraW5nIHRoaXMgcmV0cmlldmVyLCAke3RoaXMuX3ZlY3RvcnN0b3JlVHlwZSgpfSBkb2VzIG5vdCBzdXBwb3J0IG1heCBtYXJnaW5hbCByZWxldmFuY2Ugc2VhcmNoLmApO1xuXHRcdFx0cmV0dXJuIHRoaXMudmVjdG9yU3RvcmUubWF4TWFyZ2luYWxSZWxldmFuY2VTZWFyY2gocXVlcnksIHtcblx0XHRcdFx0azogdGhpcy5rLFxuXHRcdFx0XHRmaWx0ZXI6IHRoaXMuZmlsdGVyLFxuXHRcdFx0XHQuLi50aGlzLnNlYXJjaEt3YXJnc1xuXHRcdFx0fSwgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoXCJ2ZWN0b3JzdG9yZVwiKSk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLnZlY3RvclN0b3JlLnNpbWlsYXJpdHlTZWFyY2gocXVlcnksIHRoaXMuaywgdGhpcy5maWx0ZXIsIHJ1bk1hbmFnZXI/LmdldENoaWxkKFwidmVjdG9yc3RvcmVcIikpO1xuXHR9XG5cdC8qKlxuXHQqIEFkZHMgYW4gYXJyYXkgb2YgZG9jdW1lbnRzIHRvIHRoZSB2ZWN0b3Igc3RvcmUsIGVtYmVkZGluZyB0aGVtIGFzIHBhcnQgb2Zcblx0KiB0aGUgc3RvcmFnZSBwcm9jZXNzLlxuXHQqXG5cdCogVGhpcyBtZXRob2QgZGVsZWdhdGVzIGRvY3VtZW50IGVtYmVkZGluZyBhbmQgc3RvcmFnZSB0byB0aGUgYGFkZERvY3VtZW50c2Bcblx0KiBtZXRob2Qgb2YgdGhlIHVuZGVybHlpbmcgdmVjdG9yIHN0b3JlLlxuXHQqXG5cdCogQHBhcmFtIGRvY3VtZW50cyAtIEFuIGFycmF5IG9mIGRvY3VtZW50cyB0byBlbWJlZCBhbmQgYWRkIHRvIHRoZSB2ZWN0b3Igc3RvcmUuXG5cdCogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25hbCBzZXR0aW5ncyB0byBjdXN0b21pemUgZG9jdW1lbnQgYWRkaXRpb24uXG5cdCogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYW4gYXJyYXkgb2YgZG9jdW1lbnQgSURzIG9yIGB2b2lkYCxcblx0KiAgICAgICAgICBkZXBlbmRpbmcgb24gdGhlIHZlY3RvciBzdG9yZSdzIGltcGxlbWVudGF0aW9uLlxuXHQqL1xuXHRhc3luYyBhZGREb2N1bWVudHMoZG9jdW1lbnRzLCBvcHRpb25zKSB7XG5cdFx0cmV0dXJuIHRoaXMudmVjdG9yU3RvcmUuYWRkRG9jdW1lbnRzKGRvY3VtZW50cywgb3B0aW9ucyk7XG5cdH1cbn07XG4vKipcbiogQWJzdHJhY3QgY2xhc3MgcmVwcmVzZW50aW5nIGEgdmVjdG9yIHN0b3JhZ2Ugc3lzdGVtIGZvciBwZXJmb3JtaW5nXG4qIHNpbWlsYXJpdHkgc2VhcmNoZXMgb24gZW1iZWRkZWQgZG9jdW1lbnRzLlxuKlxuKiBgVmVjdG9yU3RvcmVgIHByb3ZpZGVzIG1ldGhvZHMgZm9yIGFkZGluZyBwcmVjb21wdXRlZCB2ZWN0b3JzIG9yIGRvY3VtZW50cyxcbiogcmVtb3ZpbmcgZG9jdW1lbnRzIGJhc2VkIG9uIGNyaXRlcmlhLCBhbmQgcGVyZm9ybWluZyBzaW1pbGFyaXR5IHNlYXJjaGVzXG4qIHdpdGggb3B0aW9uYWwgc2NvcmluZy4gU3ViY2xhc3NlcyBhcmUgcmVzcG9uc2libGUgZm9yIGltcGxlbWVudGluZyBzcGVjaWZpY1xuKiBzdG9yYWdlIG1lY2hhbmlzbXMgYW5kIHRoZSBleGFjdCBiZWhhdmlvciBvZiBjZXJ0YWluIGFic3RyYWN0IG1ldGhvZHMuXG4qXG4qIEBhYnN0cmFjdFxuKiBAZXh0ZW5kcyBTZXJpYWxpemFibGVcbiogQGltcGxlbWVudHMgVmVjdG9yU3RvcmVJbnRlcmZhY2VcbiovXG52YXIgVmVjdG9yU3RvcmUgPSBjbGFzcyBleHRlbmRzIFNlcmlhbGl6YWJsZSB7XG5cdC8qKlxuXHQqIE5hbWVzcGFjZSB3aXRoaW4gTGFuZ0NoYWluIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IHRoaXMgdmVjdG9yIHN0b3JlJ3Ncblx0KiBsb2NhdGlvbiwgYmFzZWQgb24gdGhlIHZlY3RvciBzdG9yZSB0eXBlLlxuXHQqXG5cdCogQGludGVybmFsXG5cdCovXG5cdGxjX25hbWVzcGFjZSA9IFtcblx0XHRcImxhbmdjaGFpblwiLFxuXHRcdFwidmVjdG9yc3RvcmVzXCIsXG5cdFx0dGhpcy5fdmVjdG9yc3RvcmVUeXBlKClcblx0XTtcblx0LyoqXG5cdCogRW1iZWRkaW5ncyBpbnRlcmZhY2UgZm9yIGdlbmVyYXRpbmcgdmVjdG9yIGVtYmVkZGluZ3MgZnJvbSB0ZXh0IHF1ZXJpZXMsXG5cdCogZW5hYmxpbmcgdmVjdG9yLWJhc2VkIHNpbWlsYXJpdHkgc2VhcmNoZXMuXG5cdCovXG5cdGVtYmVkZGluZ3M7XG5cdC8qKlxuXHQqIEluaXRpYWxpemVzIGEgbmV3IHZlY3RvciBzdG9yZSB3aXRoIGVtYmVkZGluZ3MgYW5kIGRhdGFiYXNlIGNvbmZpZ3VyYXRpb24uXG5cdCpcblx0KiBAcGFyYW0gZW1iZWRkaW5ncyAtIEluc3RhbmNlIG9mIGBFbWJlZGRpbmdzSW50ZXJmYWNlYCB1c2VkIHRvIGVtYmVkIHF1ZXJpZXMuXG5cdCogQHBhcmFtIGRiQ29uZmlnIC0gQ29uZmlndXJhdGlvbiBzZXR0aW5ncyBmb3IgdGhlIGRhdGFiYXNlIG9yIHN0b3JhZ2Ugc3lzdGVtLlxuXHQqL1xuXHRjb25zdHJ1Y3RvcihlbWJlZGRpbmdzLCBkYkNvbmZpZykge1xuXHRcdHN1cGVyKGRiQ29uZmlnKTtcblx0XHR0aGlzLmVtYmVkZGluZ3MgPSBlbWJlZGRpbmdzO1xuXHR9XG5cdC8qKlxuXHQqIERlbGV0ZXMgZG9jdW1lbnRzIGZyb20gdGhlIHZlY3RvciBzdG9yZSBiYXNlZCBvbiB0aGUgc3BlY2lmaWVkIHBhcmFtZXRlcnMuXG5cdCpcblx0KiBAcGFyYW0gX3BhcmFtcyAtIEZsZXhpYmxlIGtleS12YWx1ZSBwYWlycyBkZWZpbmluZyBjb25kaXRpb25zIGZvciBkb2N1bWVudCBkZWxldGlvbi5cblx0KiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyBvbmNlIHRoZSBkZWxldGlvbiBpcyBjb21wbGV0ZS5cblx0Ki9cblx0YXN5bmMgZGVsZXRlKF9wYXJhbXMpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWQuXCIpO1xuXHR9XG5cdC8qKlxuXHQqIFNlYXJjaGVzIGZvciBkb2N1bWVudHMgc2ltaWxhciB0byBhIHRleHQgcXVlcnkgYnkgZW1iZWRkaW5nIHRoZSBxdWVyeSBhbmRcblx0KiBwZXJmb3JtaW5nIGEgc2ltaWxhcml0eSBzZWFyY2ggb24gdGhlIHJlc3VsdGluZyB2ZWN0b3IuXG5cdCpcblx0KiBAcGFyYW0gcXVlcnkgLSBUZXh0IHF1ZXJ5IGZvciBmaW5kaW5nIHNpbWlsYXIgZG9jdW1lbnRzLlxuXHQqIEBwYXJhbSBrIC0gTnVtYmVyIG9mIHNpbWlsYXIgcmVzdWx0cyB0byByZXR1cm4uIERlZmF1bHRzIHRvIDQuXG5cdCogQHBhcmFtIGZpbHRlciAtIE9wdGlvbmFsIGZpbHRlciBiYXNlZCBvbiBgRmlsdGVyVHlwZWAuXG5cdCogQHBhcmFtIF9jYWxsYmFja3MgLSBPcHRpb25hbCBjYWxsYmFja3MgZm9yIG1vbml0b3Jpbmcgc2VhcmNoIHByb2dyZXNzXG5cdCogQHJldHVybnMgQSBwcm9taXNlIHJlc29sdmluZyB0byBhbiBhcnJheSBvZiBgRG9jdW1lbnRJbnRlcmZhY2VgIGluc3RhbmNlcyByZXByZXNlbnRpbmcgc2ltaWxhciBkb2N1bWVudHMuXG5cdCovXG5cdGFzeW5jIHNpbWlsYXJpdHlTZWFyY2gocXVlcnksIGsgPSA0LCBmaWx0ZXIgPSB2b2lkIDAsIF9jYWxsYmFja3MgPSB2b2lkIDApIHtcblx0XHRjb25zdCByZXN1bHRzID0gYXdhaXQgdGhpcy5zaW1pbGFyaXR5U2VhcmNoVmVjdG9yV2l0aFNjb3JlKGF3YWl0IHRoaXMuZW1iZWRkaW5ncy5lbWJlZFF1ZXJ5KHF1ZXJ5KSwgaywgZmlsdGVyKTtcblx0XHRyZXR1cm4gcmVzdWx0cy5tYXAoKHJlc3VsdCkgPT4gcmVzdWx0WzBdKTtcblx0fVxuXHQvKipcblx0KiBTZWFyY2hlcyBmb3IgZG9jdW1lbnRzIHNpbWlsYXIgdG8gYSB0ZXh0IHF1ZXJ5IGJ5IGVtYmVkZGluZyB0aGUgcXVlcnksXG5cdCogYW5kIHJldHVybnMgcmVzdWx0cyB3aXRoIHNpbWlsYXJpdHkgc2NvcmVzLlxuXHQqXG5cdCogQHBhcmFtIHF1ZXJ5IC0gVGV4dCBxdWVyeSBmb3IgZmluZGluZyBzaW1pbGFyIGRvY3VtZW50cy5cblx0KiBAcGFyYW0gayAtIE51bWJlciBvZiBzaW1pbGFyIHJlc3VsdHMgdG8gcmV0dXJuLiBEZWZhdWx0cyB0byA0LlxuXHQqIEBwYXJhbSBmaWx0ZXIgLSBPcHRpb25hbCBmaWx0ZXIgYmFzZWQgb24gYEZpbHRlclR5cGVgLlxuXHQqIEBwYXJhbSBfY2FsbGJhY2tzIC0gT3B0aW9uYWwgY2FsbGJhY2tzIGZvciBtb25pdG9yaW5nIHNlYXJjaCBwcm9ncmVzc1xuXHQqIEByZXR1cm5zIEEgcHJvbWlzZSByZXNvbHZpbmcgdG8gYW4gYXJyYXkgb2YgdHVwbGVzLCBlYWNoIGNvbnRhaW5pbmcgYVxuXHQqICAgICAgICAgIGRvY3VtZW50IGFuZCBpdHMgc2ltaWxhcml0eSBzY29yZS5cblx0Ki9cblx0YXN5bmMgc2ltaWxhcml0eVNlYXJjaFdpdGhTY29yZShxdWVyeSwgayA9IDQsIGZpbHRlciA9IHZvaWQgMCwgX2NhbGxiYWNrcyA9IHZvaWQgMCkge1xuXHRcdHJldHVybiB0aGlzLnNpbWlsYXJpdHlTZWFyY2hWZWN0b3JXaXRoU2NvcmUoYXdhaXQgdGhpcy5lbWJlZGRpbmdzLmVtYmVkUXVlcnkocXVlcnkpLCBrLCBmaWx0ZXIpO1xuXHR9XG5cdC8qKlxuXHQqIENyZWF0ZXMgYSBgVmVjdG9yU3RvcmVgIGluc3RhbmNlIGZyb20gYW4gYXJyYXkgb2YgdGV4dCBzdHJpbmdzIGFuZCBvcHRpb25hbFxuXHQqIG1ldGFkYXRhLCB1c2luZyB0aGUgc3BlY2lmaWVkIGVtYmVkZGluZ3MgYW5kIGRhdGFiYXNlIGNvbmZpZ3VyYXRpb24uXG5cdCpcblx0KiBTdWJjbGFzc2VzIG11c3QgaW1wbGVtZW50IHRoaXMgbWV0aG9kIHRvIGRlZmluZSBob3cgdGV4dCBhbmQgbWV0YWRhdGFcblx0KiBhcmUgZW1iZWRkZWQgYW5kIHN0b3JlZCBpbiB0aGUgdmVjdG9yIHN0b3JlLiBUaHJvd3MgYW4gZXJyb3IgaWYgbm90IG92ZXJyaWRkZW4uXG5cdCpcblx0KiBAcGFyYW0gX3RleHRzIC0gQXJyYXkgb2Ygc3RyaW5ncyByZXByZXNlbnRpbmcgdGhlIHRleHQgZG9jdW1lbnRzIHRvIGJlIHN0b3JlZC5cblx0KiBAcGFyYW0gX21ldGFkYXRhcyAtIE1ldGFkYXRhIGZvciB0aGUgdGV4dHMsIGVpdGhlciBhcyBhbiBhcnJheSAob25lIGZvciBlYWNoIHRleHQpXG5cdCogICAgICAgICAgICAgICAgICAgICBvciBhIHNpbmdsZSBvYmplY3QgKGFwcGxpZWQgdG8gYWxsIHRleHRzKS5cblx0KiBAcGFyYW0gX2VtYmVkZGluZ3MgLSBJbnN0YW5jZSBvZiBgRW1iZWRkaW5nc0ludGVyZmFjZWAgdG8gZW1iZWQgdGhlIHRleHRzLlxuXHQqIEBwYXJhbSBfZGJDb25maWcgLSBEYXRhYmFzZSBjb25maWd1cmF0aW9uIHNldHRpbmdzLlxuXHQqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGEgbmV3IGBWZWN0b3JTdG9yZWAgaW5zdGFuY2UuXG5cdCogQHRocm93cyB7RXJyb3J9IFRocm93cyBhbiBlcnJvciBpZiB0aGlzIG1ldGhvZCBpcyBub3Qgb3ZlcnJpZGRlbiBieSBhIHN1YmNsYXNzLlxuXHQqL1xuXHRzdGF0aWMgZnJvbVRleHRzKF90ZXh0cywgX21ldGFkYXRhcywgX2VtYmVkZGluZ3MsIF9kYkNvbmZpZykge1xuXHRcdHRocm93IG5ldyBFcnJvcihcInRoZSBMYW5nY2hhaW4gdmVjdG9yc3RvcmUgaW1wbGVtZW50YXRpb24geW91IGFyZSB1c2luZyBmb3Jnb3QgdG8gb3ZlcnJpZGUgdGhpcywgcGxlYXNlIHJlcG9ydCBhIGJ1Z1wiKTtcblx0fVxuXHQvKipcblx0KiBDcmVhdGVzIGEgYFZlY3RvclN0b3JlYCBpbnN0YW5jZSBmcm9tIGFuIGFycmF5IG9mIGRvY3VtZW50cywgdXNpbmcgdGhlIHNwZWNpZmllZFxuXHQqIGVtYmVkZGluZ3MgYW5kIGRhdGFiYXNlIGNvbmZpZ3VyYXRpb24uXG5cdCpcblx0KiBTdWJjbGFzc2VzIG11c3QgaW1wbGVtZW50IHRoaXMgbWV0aG9kIHRvIGRlZmluZSBob3cgZG9jdW1lbnRzIGFyZSBlbWJlZGRlZFxuXHQqIGFuZCBzdG9yZWQuIFRocm93cyBhbiBlcnJvciBpZiBub3Qgb3ZlcnJpZGRlbi5cblx0KlxuXHQqIEBwYXJhbSBfZG9jcyAtIEFycmF5IG9mIGBEb2N1bWVudEludGVyZmFjZWAgaW5zdGFuY2VzIHJlcHJlc2VudGluZyB0aGUgZG9jdW1lbnRzIHRvIGJlIHN0b3JlZC5cblx0KiBAcGFyYW0gX2VtYmVkZGluZ3MgLSBJbnN0YW5jZSBvZiBgRW1iZWRkaW5nc0ludGVyZmFjZWAgdG8gZW1iZWQgdGhlIGRvY3VtZW50cy5cblx0KiBAcGFyYW0gX2RiQ29uZmlnIC0gRGF0YWJhc2UgY29uZmlndXJhdGlvbiBzZXR0aW5ncy5cblx0KiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIG5ldyBgVmVjdG9yU3RvcmVgIGluc3RhbmNlLlxuXHQqIEB0aHJvd3Mge0Vycm9yfSBUaHJvd3MgYW4gZXJyb3IgaWYgdGhpcyBtZXRob2QgaXMgbm90IG92ZXJyaWRkZW4gYnkgYSBzdWJjbGFzcy5cblx0Ki9cblx0c3RhdGljIGZyb21Eb2N1bWVudHMoX2RvY3MsIF9lbWJlZGRpbmdzLCBfZGJDb25maWcpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJ0aGUgTGFuZ2NoYWluIHZlY3RvcnN0b3JlIGltcGxlbWVudGF0aW9uIHlvdSBhcmUgdXNpbmcgZm9yZ290IHRvIG92ZXJyaWRlIHRoaXMsIHBsZWFzZSByZXBvcnQgYSBidWdcIik7XG5cdH1cblx0LyoqXG5cdCogQ3JlYXRlcyBhIGBWZWN0b3JTdG9yZVJldHJpZXZlcmAgaW5zdGFuY2Ugd2l0aCBmbGV4aWJsZSBjb25maWd1cmF0aW9uIG9wdGlvbnMuXG5cdCpcblx0KiBAcGFyYW0ga09yRmllbGRzXG5cdCogICAgLSBJZiBhIG51bWJlciBpcyBwcm92aWRlZCwgaXQgc2V0cyB0aGUgYGtgIHBhcmFtZXRlciAobnVtYmVyIG9mIGl0ZW1zIHRvIHJldHJpZXZlKS5cblx0KiAgICAtIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCwgaXQgc2hvdWxkIGNvbnRhaW4gdmFyaW91cyBjb25maWd1cmF0aW9uIG9wdGlvbnMuXG5cdCogQHBhcmFtIGZpbHRlclxuXHQqICAgIC0gT3B0aW9uYWwgZmlsdGVyIGNyaXRlcmlhIHRvIGxpbWl0IHRoZSBpdGVtcyByZXRyaWV2ZWQgYmFzZWQgb24gdGhlIHNwZWNpZmllZCBmaWx0ZXIgdHlwZS5cblx0KiBAcGFyYW0gY2FsbGJhY2tzXG5cdCogICAgLSBPcHRpb25hbCBjYWxsYmFja3MgdGhhdCBtYXkgYmUgdHJpZ2dlcmVkIGF0IHNwZWNpZmljIHN0YWdlcyBvZiB0aGUgcmV0cmlldmFsIHByb2Nlc3MuXG5cdCogQHBhcmFtIHRhZ3Ncblx0KiAgICAtIFRhZ3MgdG8gY2F0ZWdvcml6ZSBvciBsYWJlbCB0aGUgYFZlY3RvclN0b3JlUmV0cmlldmVyYC4gRGVmYXVsdHMgdG8gYW4gZW1wdHkgYXJyYXkgaWYgbm90IHByb3ZpZGVkLlxuXHQqIEBwYXJhbSBtZXRhZGF0YVxuXHQqICAgIC0gQWRkaXRpb25hbCBtZXRhZGF0YSBhcyBrZXktdmFsdWUgcGFpcnMgdG8gYWRkIGNvbnRleHR1YWwgaW5mb3JtYXRpb24gZm9yIHRoZSByZXRyaWV2YWwgcHJvY2Vzcy5cblx0KiBAcGFyYW0gdmVyYm9zZVxuXHQqICAgIC0gSWYgYHRydWVgLCBlbmFibGVzIGRldGFpbGVkIGxvZ2dpbmcgZm9yIHRoZSByZXRyaWV2YWwgcHJvY2Vzcy4gRGVmYXVsdHMgdG8gYGZhbHNlYC5cblx0KlxuXHQqIEByZXR1cm5zXG5cdCogICAgLSBBIGNvbmZpZ3VyZWQgYFZlY3RvclN0b3JlUmV0cmlldmVyYCBpbnN0YW5jZSBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgcGFyYW1ldGVycy5cblx0KlxuXHQqIEBleGFtcGxlXG5cdCogQmFzaWMgdXNhZ2Ugd2l0aCBhIGBrYCB2YWx1ZTpcblx0KiBgYGB0eXBlc2NyaXB0XG5cdCogY29uc3QgcmV0cmlldmVyID0gbXlWZWN0b3JTdG9yZS5hc1JldHJpZXZlcig1KTtcblx0KiBgYGBcblx0KlxuXHQqIFVzYWdlIHdpdGggYSBjb25maWd1cmF0aW9uIG9iamVjdDpcblx0KiBgYGB0eXBlc2NyaXB0XG5cdCogY29uc3QgcmV0cmlldmVyID0gbXlWZWN0b3JTdG9yZS5hc1JldHJpZXZlcih7XG5cdCogICBrOiAxMCxcblx0KiAgIGZpbHRlcjogbXlGaWx0ZXIsXG5cdCogICB0YWdzOiBbJ2V4YW1wbGUnLCAndGVzdCddLFxuXHQqICAgdmVyYm9zZTogdHJ1ZSxcblx0KiAgIHNlYXJjaFR5cGU6ICdtbXInLFxuXHQqICAgc2VhcmNoS3dhcmdzOiB7IGFscGhhOiAwLjUgfSxcblx0KiB9KTtcblx0KiBgYGBcblx0Ki9cblx0YXNSZXRyaWV2ZXIoa09yRmllbGRzLCBmaWx0ZXIsIGNhbGxiYWNrcywgdGFncywgbWV0YWRhdGEsIHZlcmJvc2UpIHtcblx0XHRpZiAodHlwZW9mIGtPckZpZWxkcyA9PT0gXCJudW1iZXJcIikgcmV0dXJuIG5ldyBWZWN0b3JTdG9yZVJldHJpZXZlcih7XG5cdFx0XHR2ZWN0b3JTdG9yZTogdGhpcyxcblx0XHRcdGs6IGtPckZpZWxkcyxcblx0XHRcdGZpbHRlcixcblx0XHRcdHRhZ3M6IFsuLi50YWdzID8/IFtdLCB0aGlzLl92ZWN0b3JzdG9yZVR5cGUoKV0sXG5cdFx0XHRtZXRhZGF0YSxcblx0XHRcdHZlcmJvc2UsXG5cdFx0XHRjYWxsYmFja3Ncblx0XHR9KTtcblx0XHRlbHNlIHtcblx0XHRcdGNvbnN0IHBhcmFtcyA9IHtcblx0XHRcdFx0dmVjdG9yU3RvcmU6IHRoaXMsXG5cdFx0XHRcdGs6IGtPckZpZWxkcz8uayxcblx0XHRcdFx0ZmlsdGVyOiBrT3JGaWVsZHM/LmZpbHRlcixcblx0XHRcdFx0dGFnczogWy4uLmtPckZpZWxkcz8udGFncyA/PyBbXSwgdGhpcy5fdmVjdG9yc3RvcmVUeXBlKCldLFxuXHRcdFx0XHRtZXRhZGF0YToga09yRmllbGRzPy5tZXRhZGF0YSxcblx0XHRcdFx0dmVyYm9zZToga09yRmllbGRzPy52ZXJib3NlLFxuXHRcdFx0XHRjYWxsYmFja3M6IGtPckZpZWxkcz8uY2FsbGJhY2tzLFxuXHRcdFx0XHRzZWFyY2hUeXBlOiBrT3JGaWVsZHM/LnNlYXJjaFR5cGVcblx0XHRcdH07XG5cdFx0XHRpZiAoa09yRmllbGRzPy5zZWFyY2hUeXBlID09PSBcIm1tclwiKSByZXR1cm4gbmV3IFZlY3RvclN0b3JlUmV0cmlldmVyKHtcblx0XHRcdFx0Li4ucGFyYW1zLFxuXHRcdFx0XHRzZWFyY2hLd2FyZ3M6IGtPckZpZWxkcy5zZWFyY2hLd2FyZ3Ncblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIG5ldyBWZWN0b3JTdG9yZVJldHJpZXZlcih7IC4uLnBhcmFtcyB9KTtcblx0XHR9XG5cdH1cbn07XG4vKipcbiogQWJzdHJhY3QgY2xhc3MgZXh0ZW5kaW5nIGBWZWN0b3JTdG9yZWAgdGhhdCBkZWZpbmVzIGEgY29udHJhY3QgZm9yIHNhdmluZ1xuKiBhbmQgbG9hZGluZyB2ZWN0b3Igc3RvcmUgaW5zdGFuY2VzLlxuKlxuKiBUaGUgYFNhdmVhYmxlVmVjdG9yU3RvcmVgIGNsYXNzIGFsbG93cyB2ZWN0b3Igc3RvcmUgaW1wbGVtZW50YXRpb25zIHRvXG4qIHBlcnNpc3QgdGhlaXIgZGF0YSBhbmQgcmV0cmlldmUgaXQgd2hlbiBuZWVkZWQuVGhlIGZvcm1hdCBmb3Igc2F2aW5nIGFuZFxuKiBsb2FkaW5nIGRhdGEgaXMgbGVmdCB0byB0aGUgaW1wbGVtZW50aW5nIHN1YmNsYXNzLlxuKlxuKiBTdWJjbGFzc2VzIG11c3QgaW1wbGVtZW50IHRoZSBgc2F2ZWAgbWV0aG9kIHRvIGhhbmRsZSB0aGVpciBjdXN0b21cbiogc2VyaWFsaXphdGlvbiBsb2dpYywgd2hpbGUgdGhlIGBsb2FkYCBtZXRob2QgZW5hYmxlcyByZWNvbnN0cnVjdGlvbiBvZiBhXG4qIHZlY3RvciBzdG9yZSBmcm9tIHNhdmVkIGRhdGEsIHJlcXVpcmluZyBjb21wYXRpYmxlIGVtYmVkZGluZ3MgdGhyb3VnaCB0aGVcbiogYEVtYmVkZGluZ3NJbnRlcmZhY2VgLlxuKlxuKiBAYWJzdHJhY3RcbiogQGV4dGVuZHMgVmVjdG9yU3RvcmVcbiovXG52YXIgU2F2ZWFibGVWZWN0b3JTdG9yZSA9IGNsYXNzIGV4dGVuZHMgVmVjdG9yU3RvcmUge1xuXHQvKipcblx0KiBMb2FkcyBhIHZlY3RvciBzdG9yZSBpbnN0YW5jZSBmcm9tIHRoZSBzcGVjaWZpZWQgZGlyZWN0b3J5LCB1c2luZyB0aGVcblx0KiBwcm92aWRlZCBlbWJlZGRpbmdzIHRvIGVuc3VyZSBjb21wYXRpYmlsaXR5LlxuXHQqXG5cdCogVGhpcyBzdGF0aWMgbWV0aG9kIHJlY29uc3RydWN0cyBhIGBTYXZlYWJsZVZlY3RvclN0b3JlYCBmcm9tIHByZXZpb3VzbHlcblx0KiBzYXZlZCBkYXRhLiBJbXBsZW1lbnRhdGlvbnMgc2hvdWxkIGludGVycHJldCB0aGUgc2F2ZWQgZGF0YSBmb3JtYXQgdG9cblx0KiByZWNyZWF0ZSB0aGUgdmVjdG9yIHN0b3JlIGluc3RhbmNlLlxuXHQqXG5cdCogQHBhcmFtIF9kaXJlY3RvcnkgLSBUaGUgZGlyZWN0b3J5IHBhdGggZnJvbSB3aGljaCB0aGUgdmVjdG9yIHN0b3JlXG5cdCogZGF0YSB3aWxsIGJlIGxvYWRlZC5cblx0KiBAcGFyYW0gX2VtYmVkZGluZ3MgLSBBbiBpbnN0YW5jZSBvZiBgRW1iZWRkaW5nc0ludGVyZmFjZWAgdG8gYWxpZ25cblx0KiB0aGUgZW1iZWRkaW5ncyB3aXRoIHRoZSBsb2FkZWQgdmVjdG9yIGRhdGEuXG5cdCogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYSBgU2F2ZWFibGVWZWN0b3JTdG9yZWAgaW5zdGFuY2Vcblx0KiBjb25zdHJ1Y3RlZCBmcm9tIHRoZSBzYXZlZCBkYXRhLlxuXHQqL1xuXHRzdGF0aWMgbG9hZChfZGlyZWN0b3J5LCBfZW1iZWRkaW5ncykge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZFwiKTtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBTYXZlYWJsZVZlY3RvclN0b3JlLCBWZWN0b3JTdG9yZSwgVmVjdG9yU3RvcmVSZXRyaWV2ZXIsIHZlY3RvcnN0b3Jlc19leHBvcnRzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD12ZWN0b3JzdG9yZXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+core@1.0.1_openai@6.7.0_ws@8.18.3_zod@3.25.76_/node_modules/@langchain/core/dist/vectorstores.js\n");

/***/ })

};
;